(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ht(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Iy={exports:{}},lc={},Py={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zS;function Z3(){if(zS)return He;zS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function _(q,G,ge){this.props=q,this.context=G,this.refs=E,this.updater=ge||b}_.prototype.isReactComponent={},_.prototype.setState=function(q,G){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,G,"setState")},_.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function k(){}k.prototype=_.prototype;function R(q,G,ge){this.props=q,this.context=G,this.refs=E,this.updater=ge||b}var D=R.prototype=new k;D.constructor=R,S(D,_.prototype),D.isPureReactComponent=!0;var C=Array.isArray,I=Object.prototype.hasOwnProperty,N={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function P(q,G,ge){var _e,Oe={},Re=null,We=null;if(G!=null)for(_e in G.ref!==void 0&&(We=G.ref),G.key!==void 0&&(Re=""+G.key),G)I.call(G,_e)&&!A.hasOwnProperty(_e)&&(Oe[_e]=G[_e]);var Le=arguments.length-2;if(Le===1)Oe.children=ge;else if(1<Le){for(var he=Array(Le),Ce=0;Ce<Le;Ce++)he[Ce]=arguments[Ce+2];Oe.children=he}if(q&&q.defaultProps)for(_e in Le=q.defaultProps,Le)Oe[_e]===void 0&&(Oe[_e]=Le[_e]);return{$$typeof:t,type:q,key:Re,ref:We,props:Oe,_owner:N.current}}function j(q,G){return{$$typeof:t,type:q.type,key:G,ref:q.ref,props:q.props,_owner:q._owner}}function B(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function $(q){var G={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ge){return G[ge]})}var V=/\/+/g;function L(q,G){return typeof q=="object"&&q!==null&&q.key!=null?$(""+q.key):G.toString(36)}function Z(q,G,ge,_e,Oe){var Re=typeof q;(Re==="undefined"||Re==="boolean")&&(q=null);var We=!1;if(q===null)We=!0;else switch(Re){case"string":case"number":We=!0;break;case"object":switch(q.$$typeof){case t:case e:We=!0}}if(We)return We=q,Oe=Oe(We),q=_e===""?"."+L(We,0):_e,C(Oe)?(ge="",q!=null&&(ge=q.replace(V,"$&/")+"/"),Z(Oe,G,ge,"",function(Ce){return Ce})):Oe!=null&&(B(Oe)&&(Oe=j(Oe,ge+(!Oe.key||We&&We.key===Oe.key?"":(""+Oe.key).replace(V,"$&/")+"/")+q)),G.push(Oe)),1;if(We=0,_e=_e===""?".":_e+":",C(q))for(var Le=0;Le<q.length;Le++){Re=q[Le];var he=_e+L(Re,Le);We+=Z(Re,G,ge,he,Oe)}else if(he=y(q),typeof he=="function")for(q=he.call(q),Le=0;!(Re=q.next()).done;)Re=Re.value,he=_e+L(Re,Le++),We+=Z(Re,G,ge,he,Oe);else if(Re==="object")throw G=String(q),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return We}function ee(q,G,ge){if(q==null)return q;var _e=[],Oe=0;return Z(q,_e,"","",function(Re){return G.call(ge,Re,Oe++)}),_e}function oe(q){if(q._status===-1){var G=q._result;G=G(),G.then(function(ge){(q._status===0||q._status===-1)&&(q._status=1,q._result=ge)},function(ge){(q._status===0||q._status===-1)&&(q._status=2,q._result=ge)}),q._status===-1&&(q._status=0,q._result=G)}if(q._status===1)return q._result.default;throw q._result}var se={current:null},Q={transition:null},ie={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:Q,ReactCurrentOwner:N};function re(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:ee,forEach:function(q,G,ge){ee(q,function(){G.apply(this,arguments)},ge)},count:function(q){var G=0;return ee(q,function(){G++}),G},toArray:function(q){return ee(q,function(G){return G})||[]},only:function(q){if(!B(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},He.Component=_,He.Fragment=n,He.Profiler=i,He.PureComponent=R,He.StrictMode=r,He.Suspense=c,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,He.act=re,He.cloneElement=function(q,G,ge){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var _e=S({},q.props),Oe=q.key,Re=q.ref,We=q._owner;if(G!=null){if(G.ref!==void 0&&(Re=G.ref,We=N.current),G.key!==void 0&&(Oe=""+G.key),q.type&&q.type.defaultProps)var Le=q.type.defaultProps;for(he in G)I.call(G,he)&&!A.hasOwnProperty(he)&&(_e[he]=G[he]===void 0&&Le!==void 0?Le[he]:G[he])}var he=arguments.length-2;if(he===1)_e.children=ge;else if(1<he){Le=Array(he);for(var Ce=0;Ce<he;Ce++)Le[Ce]=arguments[Ce+2];_e.children=Le}return{$$typeof:t,type:q.type,key:Oe,ref:Re,props:_e,_owner:We}},He.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},He.createElement=P,He.createFactory=function(q){var G=P.bind(null,q);return G.type=q,G},He.createRef=function(){return{current:null}},He.forwardRef=function(q){return{$$typeof:l,render:q}},He.isValidElement=B,He.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:oe}},He.memo=function(q,G){return{$$typeof:f,type:q,compare:G===void 0?null:G}},He.startTransition=function(q){var G=Q.transition;Q.transition={};try{q()}finally{Q.transition=G}},He.unstable_act=re,He.useCallback=function(q,G){return se.current.useCallback(q,G)},He.useContext=function(q){return se.current.useContext(q)},He.useDebugValue=function(){},He.useDeferredValue=function(q){return se.current.useDeferredValue(q)},He.useEffect=function(q,G){return se.current.useEffect(q,G)},He.useId=function(){return se.current.useId()},He.useImperativeHandle=function(q,G,ge){return se.current.useImperativeHandle(q,G,ge)},He.useInsertionEffect=function(q,G){return se.current.useInsertionEffect(q,G)},He.useLayoutEffect=function(q,G){return se.current.useLayoutEffect(q,G)},He.useMemo=function(q,G){return se.current.useMemo(q,G)},He.useReducer=function(q,G,ge){return se.current.useReducer(q,G,ge)},He.useRef=function(q){return se.current.useRef(q)},He.useState=function(q){return se.current.useState(q)},He.useSyncExternalStore=function(q,G,ge){return se.current.useSyncExternalStore(q,G,ge)},He.useTransition=function(){return se.current.useTransition()},He.version="18.3.1",He}var WS;function Mw(){return WS||(WS=1,Py.exports=Z3()),Py.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HS;function e$(){if(HS)return lc;HS=1;var t=Mw(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,f){var h,m={},y=null,b=null;f!==void 0&&(y=""+f),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(b=c.ref);for(h in c)r.call(c,h)&&!a.hasOwnProperty(h)&&(m[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)m[h]===void 0&&(m[h]=c[h]);return{$$typeof:e,type:l,key:y,ref:b,props:m,_owner:i.current}}return lc.Fragment=n,lc.jsx=s,lc.jsxs=s,lc}var GS;function t$(){return GS||(GS=1,Iy.exports=e$()),Iy.exports}var v=t$(),W=Mw();const K=ht(W);var ch={},Oy={exports:{}},qn={},Cy={exports:{}},ky={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS;function n$(){return KS||(KS=1,(function(t){function e(Q,ie){var re=Q.length;Q.push(ie);e:for(;0<re;){var q=re-1>>>1,G=Q[q];if(0<i(G,ie))Q[q]=ie,Q[re]=G,re=q;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ie=Q[0],re=Q.pop();if(re!==ie){Q[0]=re;e:for(var q=0,G=Q.length,ge=G>>>1;q<ge;){var _e=2*(q+1)-1,Oe=Q[_e],Re=_e+1,We=Q[Re];if(0>i(Oe,re))Re<G&&0>i(We,Oe)?(Q[q]=We,Q[Re]=re,q=Re):(Q[q]=Oe,Q[_e]=re,q=_e);else if(Re<G&&0>i(We,re))Q[q]=We,Q[Re]=re,q=Re;else break e}}return ie}function i(Q,ie){var re=Q.sortIndex-ie.sortIndex;return re!==0?re:Q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],f=[],h=1,m=null,y=3,b=!1,S=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(Q){for(var ie=n(f);ie!==null;){if(ie.callback===null)r(f);else if(ie.startTime<=Q)r(f),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=n(f)}}function C(Q){if(E=!1,D(Q),!S)if(n(c)!==null)S=!0,oe(I);else{var ie=n(f);ie!==null&&se(C,ie.startTime-Q)}}function I(Q,ie){S=!1,E&&(E=!1,k(P),P=-1),b=!0;var re=y;try{for(D(ie),m=n(c);m!==null&&(!(m.expirationTime>ie)||Q&&!$());){var q=m.callback;if(typeof q=="function"){m.callback=null,y=m.priorityLevel;var G=q(m.expirationTime<=ie);ie=t.unstable_now(),typeof G=="function"?m.callback=G:m===n(c)&&r(c),D(ie)}else r(c);m=n(c)}if(m!==null)var ge=!0;else{var _e=n(f);_e!==null&&se(C,_e.startTime-ie),ge=!1}return ge}finally{m=null,y=re,b=!1}}var N=!1,A=null,P=-1,j=5,B=-1;function $(){return!(t.unstable_now()-B<j)}function V(){if(A!==null){var Q=t.unstable_now();B=Q;var ie=!0;try{ie=A(!0,Q)}finally{ie?L():(N=!1,A=null)}}else N=!1}var L;if(typeof R=="function")L=function(){R(V)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ee=Z.port2;Z.port1.onmessage=V,L=function(){ee.postMessage(null)}}else L=function(){_(V,0)};function oe(Q){A=Q,N||(N=!0,L())}function se(Q,ie){P=_(function(){Q(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){S||b||(S=!0,oe(I))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var re=y;y=ie;try{return Q()}finally{y=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var re=y;y=Q;try{return ie()}finally{y=re}},t.unstable_scheduleCallback=function(Q,ie,re){var q=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?q+re:q):re=q,Q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=re+G,Q={id:h++,callback:ie,priorityLevel:Q,startTime:re,expirationTime:G,sortIndex:-1},re>q?(Q.sortIndex=re,e(f,Q),n(c)===null&&Q===n(f)&&(E?(k(P),P=-1):E=!0,se(C,re-q))):(Q.sortIndex=G,e(c,Q),S||b||(S=!0,oe(I))),Q},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(Q){var ie=y;return function(){var re=y;y=ie;try{return Q.apply(this,arguments)}finally{y=re}}}})(ky)),ky}var YS;function r$(){return YS||(YS=1,Cy.exports=n$()),Cy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS;function i$(){if(XS)return qn;XS=1;var t=Mw(),e=r$();function n(o){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(o,u){s(o,u),s(o+"Capture",u)}function s(o,u){for(i[o]=u,o=0;o<u.length;o++)r.add(u[o])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function y(o){return c.call(m,o)?!0:c.call(h,o)?!1:f.test(o)?m[o]=!0:(h[o]=!0,!1)}function b(o,u,d,g){if(d!==null&&d.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,u,d,g){if(u===null||typeof u>"u"||b(o,u,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function E(o,u,d,g,x,w,M){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=o,this.type=u,this.sanitizeURL=w,this.removeEmptyString=M}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){_[o]=new E(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var u=o[0];_[u]=new E(u,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){_[o]=new E(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){_[o]=new E(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){_[o]=new E(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){_[o]=new E(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){_[o]=new E(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){_[o]=new E(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){_[o]=new E(o,5,!1,o.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function R(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var u=o.replace(k,R);_[u]=new E(u,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var u=o.replace(k,R);_[u]=new E(u,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var u=o.replace(k,R);_[u]=new E(u,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){_[o]=new E(o,1,!1,o.toLowerCase(),null,!1,!1)}),_.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){_[o]=new E(o,1,!1,o.toLowerCase(),null,!0,!0)});function D(o,u,d,g){var x=_.hasOwnProperty(u)?_[u]:null;(x!==null?x.type!==0:g||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(S(u,d,x,g)&&(d=null),g||x===null?y(u)&&(d===null?o.removeAttribute(u):o.setAttribute(u,""+d)):x.mustUseProperty?o[x.propertyName]=d===null?x.type===3?!1:"":d:(u=x.attributeName,g=x.attributeNamespace,d===null?o.removeAttribute(u):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,g?o.setAttributeNS(g,u,d):o.setAttribute(u,d))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),N=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),$=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ie(o){return o===null||typeof o!="object"?null:(o=Q&&o[Q]||o["@@iterator"],typeof o=="function"?o:null)}var re=Object.assign,q;function G(o){if(q===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);q=u&&u[1]||""}return`
`+q+o}var ge=!1;function _e(o,u){if(!o||ge)return"";ge=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(te){var g=te}Reflect.construct(o,[],u)}else{try{u.call()}catch(te){g=te}o.call(u.prototype)}else{try{throw Error()}catch(te){g=te}o()}}catch(te){if(te&&g&&typeof te.stack=="string"){for(var x=te.stack.split(`
`),w=g.stack.split(`
`),M=x.length-1,U=w.length-1;1<=M&&0<=U&&x[M]!==w[U];)U--;for(;1<=M&&0<=U;M--,U--)if(x[M]!==w[U]){if(M!==1||U!==1)do if(M--,U--,0>U||x[M]!==w[U]){var z=`
`+x[M].replace(" at new "," at ");return o.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",o.displayName)),z}while(1<=M&&0<=U);break}}}finally{ge=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?G(o):""}function Oe(o){switch(o.tag){case 5:return G(o.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return o=_e(o.type,!1),o;case 11:return o=_e(o.type.render,!1),o;case 1:return o=_e(o.type,!0),o;default:return""}}function Re(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case N:return"Portal";case j:return"Profiler";case P:return"StrictMode";case L:return"Suspense";case Z:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case $:return(o.displayName||"Context")+".Consumer";case B:return(o._context.displayName||"Context")+".Provider";case V:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ee:return u=o.displayName||null,u!==null?u:Re(o.type)||"Memo";case oe:u=o._payload,o=o._init;try{return Re(o(u))}catch{}}return null}function We(o){var u=o.type;switch(o.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=u.render,o=o.displayName||o.name||"",u.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(u);case 8:return u===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Le(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function he(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ce(o){var u=he(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),g=""+o[u];if(!o.hasOwnProperty(u)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,w=d.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return x.call(this)},set:function(M){g=""+M,w.call(this,M)}}),Object.defineProperty(o,u,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(M){g=""+M},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Be(o){o._valueTracker||(o._valueTracker=Ce(o))}function ce(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var d=u.getValue(),g="";return o&&(g=he(o)?o.checked?"true":"false":o.value),o=g,o!==d?(u.setValue(o),!0):!1}function rt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ze(o,u){var d=u.checked;return re({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function It(o,u){var d=u.defaultValue==null?"":u.defaultValue,g=u.checked!=null?u.checked:u.defaultChecked;d=Le(u.value!=null?u.value:d),o._wrapperState={initialChecked:g,initialValue:d,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function yt(o,u){u=u.checked,u!=null&&D(o,"checked",u,!1)}function Rt(o,u){yt(o,u);var d=Le(u.value),g=u.type;if(d!=null)g==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}u.hasOwnProperty("value")?pt(o,u.type,d):u.hasOwnProperty("defaultValue")&&pt(o,u.type,Le(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(o.defaultChecked=!!u.defaultChecked)}function Ln(o,u,d){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var g=u.type;if(!(g!=="submit"&&g!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+o._wrapperState.initialValue,d||u===o.value||(o.value=u),o.defaultValue=u}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function pt(o,u,d){(u!=="number"||rt(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var vt=Array.isArray;function Yt(o,u,d,g){if(o=o.options,u){u={};for(var x=0;x<d.length;x++)u["$"+d[x]]=!0;for(d=0;d<o.length;d++)x=u.hasOwnProperty("$"+o[d].value),o[d].selected!==x&&(o[d].selected=x),x&&g&&(o[d].defaultSelected=!0)}else{for(d=""+Le(d),u=null,x=0;x<o.length;x++){if(o[x].value===d){o[x].selected=!0,g&&(o[x].defaultSelected=!0);return}u!==null||o[x].disabled||(u=o[x])}u!==null&&(u.selected=!0)}}function Kn(o,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},u,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Ai(o,u){var d=u.value;if(d==null){if(d=u.children,u=u.defaultValue,d!=null){if(u!=null)throw Error(n(92));if(vt(d)){if(1<d.length)throw Error(n(93));d=d[0]}u=d}u==null&&(u=""),d=u}o._wrapperState={initialValue:Le(d)}}function mo(o,u){var d=Le(u.value),g=Le(u.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),u.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),g!=null&&(o.defaultValue=""+g)}function Sr(o){var u=o.textContent;u===o._wrapperState.initialValue&&u!==""&&u!==null&&(o.value=u)}function xl(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Es(o,u){return o==null||o==="http://www.w3.org/1999/xhtml"?xl(u):o==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var pa,Xf=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,d,g,x){MSApp.execUnsafeLocalFunction(function(){return o(u,d,g,x)})}:o})(function(o,u){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=u;else{for(pa=pa||document.createElement("div"),pa.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=pa.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}});function go(o,u){if(u){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=u;return}}o.textContent=u}var ma={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qf=["Webkit","ms","Moz","O"];Object.keys(ma).forEach(function(o){Qf.forEach(function(u){u=u+o.charAt(0).toUpperCase()+o.substring(1),ma[u]=ma[o]})});function ga(o,u,d){return u==null||typeof u=="boolean"||u===""?"":d||typeof u!="number"||u===0||ma.hasOwnProperty(o)&&ma[o]?(""+u).trim():u+"px"}function Ss(o,u){o=o.style;for(var d in u)if(u.hasOwnProperty(d)){var g=d.indexOf("--")===0,x=ga(d,u[d],g);d==="float"&&(d="cssFloat"),g?o.setProperty(d,x):o[d]=x}}var bl=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ar(o,u){if(u){if(bl[o]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function As(o,u){if(o.indexOf("-")===-1)return typeof u.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ya=null;function Is(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ii=null,Pi=null,Dt=null;function _l(o){if(o=Kl(o)){if(typeof Ii!="function")throw Error(n(280));var u=o.stateNode;u&&(u=Ed(u),Ii(o.stateNode,o.type,u))}}function va(o){Pi?Dt?Dt.push(o):Dt=[o]:Pi=o}function xa(){if(Pi){var o=Pi,u=Dt;if(Dt=Pi=null,_l(o),u)for(o=0;o<u.length;o++)_l(u[o])}}function Jf(o,u){return o(u)}function Zf(){}var Hr=!1;function ed(o,u,d){if(Hr)return o(u,d);Hr=!0;try{return Jf(o,u,d)}finally{Hr=!1,(Pi!==null||Dt!==null)&&(Zf(),xa())}}function yo(o,u){var d=o.stateNode;if(d===null)return null;var g=Ed(d);if(g===null)return null;d=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,u,typeof d));return d}var ba=!1;if(l)try{var _a={};Object.defineProperty(_a,"passive",{get:function(){ba=!0}}),window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{ba=!1}function td(o,u,d,g,x,w,M,U,z){var te=Array.prototype.slice.call(arguments,3);try{u.apply(d,te)}catch(de){this.onError(de)}}var Oi=!1,Gr=null,Ps=!1,ur=null,nd={onError:function(o){Oi=!0,Gr=o}};function rd(o,u,d,g,x,w,M,U,z){Oi=!1,Gr=null,td.apply(nd,arguments)}function wl(o,u,d,g,x,w,M,U,z){if(rd.apply(this,arguments),Oi){if(Oi){var te=Gr;Oi=!1,Gr=null}else throw Error(n(198));Ps||(Ps=!0,ur=te)}}function Ir(o){var u=o,d=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(d=u.return),o=u.return;while(o)}return u.tag===3?d:null}function Tl(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function id(o){if(Ir(o)!==o)throw Error(n(188))}function ad(o){var u=o.alternate;if(!u){if(u=Ir(o),u===null)throw Error(n(188));return u!==o?null:o}for(var d=o,g=u;;){var x=d.return;if(x===null)break;var w=x.alternate;if(w===null){if(g=x.return,g!==null){d=g;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===d)return id(x),o;if(w===g)return id(x),u;w=w.sibling}throw Error(n(188))}if(d.return!==g.return)d=x,g=w;else{for(var M=!1,U=x.child;U;){if(U===d){M=!0,d=x,g=w;break}if(U===g){M=!0,g=x,d=w;break}U=U.sibling}if(!M){for(U=w.child;U;){if(U===d){M=!0,d=w,g=x;break}if(U===g){M=!0,g=w,d=x;break}U=U.sibling}if(!M)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:u}function od(o){return o=ad(o),o!==null?vo(o):null}function vo(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var u=vo(o);if(u!==null)return u;o=o.sibling}return null}var El=e.unstable_scheduleCallback,Os=e.unstable_cancelCallback,xo=e.unstable_shouldYield,Ci=e.unstable_requestPaint,_t=e.unstable_now,ig=e.unstable_getCurrentPriorityLevel,Cs=e.unstable_ImmediatePriority,Sl=e.unstable_UserBlockingPriority,bo=e.unstable_NormalPriority,Al=e.unstable_LowPriority,ks=e.unstable_IdlePriority,_o=null,Yn=null;function sd(o){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(_o,o,void 0,(o.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:wo,Kr=Math.log,lr=Math.LN2;function wo(o){return o>>>=0,o===0?32:31-(Kr(o)/lr|0)|0}var Yr=64,wa=4194304;function it(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function ki(o,u){var d=o.pendingLanes;if(d===0)return 0;var g=0,x=o.suspendedLanes,w=o.pingedLanes,M=d&268435455;if(M!==0){var U=M&~x;U!==0?g=it(U):(w&=M,w!==0&&(g=it(w)))}else M=d&~x,M!==0?g=it(M):w!==0&&(g=it(w));if(g===0)return 0;if(u!==0&&u!==g&&(u&x)===0&&(x=g&-g,w=u&-u,x>=w||x===16&&(w&4194240)!==0))return u;if((g&4)!==0&&(g|=d&16),u=o.entangledLanes,u!==0)for(o=o.entanglements,u&=g;0<u;)d=31-Xn(u),x=1<<d,g|=o[d],u&=~x;return g}function To(o,u){switch(o){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eo(o,u){for(var d=o.suspendedLanes,g=o.pingedLanes,x=o.expirationTimes,w=o.pendingLanes;0<w;){var M=31-Xn(w),U=1<<M,z=x[M];z===-1?((U&d)===0||(U&g)!==0)&&(x[M]=To(U,u)):z<=u&&(o.expiredLanes|=U),w&=~U}}function Il(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Pl(){var o=Yr;return Yr<<=1,(Yr&4194240)===0&&(Yr=64),o}function Ol(o){for(var u=[],d=0;31>d;d++)u.push(o);return u}function So(o,u,d){o.pendingLanes|=u,u!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,u=31-Xn(u),o[u]=d}function ag(o,u){var d=o.pendingLanes&~u;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=u,o.mutableReadLanes&=u,o.entangledLanes&=u,u=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<d;){var x=31-Xn(d),w=1<<x;u[x]=0,g[x]=-1,o[x]=-1,d&=~w}}function Cl(o,u){var d=o.entangledLanes|=u;for(o=o.entanglements;d;){var g=31-Xn(d),x=1<<g;x&u|o[g]&u&&(o[g]|=u),d&=~x}}var Qe=0;function Xr(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var kl,Ns,Nl,jl,Rl,Qr=!1,js=[],Jr=null,Zr=null,hn=null,Ao=new Map,Ni=new Map,Qn=[],ud="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ta(o,u){switch(o){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":Ao.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ni.delete(u.pointerId)}}function Pr(o,u,d,g,x,w){return o===null||o.nativeEvent!==w?(o={blockedOn:u,domEventName:d,eventSystemFlags:g,nativeEvent:w,targetContainers:[x]},u!==null&&(u=Kl(u),u!==null&&Ns(u)),o):(o.eventSystemFlags|=g,u=o.targetContainers,x!==null&&u.indexOf(x)===-1&&u.push(x),o)}function ld(o,u,d,g,x){switch(u){case"focusin":return Jr=Pr(Jr,o,u,d,g,x),!0;case"dragenter":return Zr=Pr(Zr,o,u,d,g,x),!0;case"mouseover":return hn=Pr(hn,o,u,d,g,x),!0;case"pointerover":var w=x.pointerId;return Ao.set(w,Pr(Ao.get(w)||null,o,u,d,g,x)),!0;case"gotpointercapture":return w=x.pointerId,Ni.set(w,Pr(Ni.get(w)||null,o,u,d,g,x)),!0}return!1}function Rs(o){var u=Co(o.target);if(u!==null){var d=Ir(u);if(d!==null){if(u=d.tag,u===13){if(u=Tl(d),u!==null){o.blockedOn=u,Rl(o.priority,function(){Nl(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function mt(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var d=Ds(o.domEventName,o.eventSystemFlags,u[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var g=new d.constructor(d.type,d);ya=g,d.target.dispatchEvent(g),ya=null}else return u=Kl(d),u!==null&&Ns(u),o.blockedOn=d,!1;u.shift()}return!0}function cd(o,u,d){mt(o)&&d.delete(u)}function og(){Qr=!1,Jr!==null&&mt(Jr)&&(Jr=null),Zr!==null&&mt(Zr)&&(Zr=null),hn!==null&&mt(hn)&&(hn=null),Ao.forEach(cd),Ni.forEach(cd)}function Ea(o,u){o.blockedOn===u&&(o.blockedOn=null,Qr||(Qr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,og)))}function Sa(o){function u(x){return Ea(x,o)}if(0<js.length){Ea(js[0],o);for(var d=1;d<js.length;d++){var g=js[d];g.blockedOn===o&&(g.blockedOn=null)}}for(Jr!==null&&Ea(Jr,o),Zr!==null&&Ea(Zr,o),hn!==null&&Ea(hn,o),Ao.forEach(u),Ni.forEach(u),d=0;d<Qn.length;d++)g=Qn[d],g.blockedOn===o&&(g.blockedOn=null);for(;0<Qn.length&&(d=Qn[0],d.blockedOn===null);)Rs(d),d.blockedOn===null&&Qn.shift()}var ji=C.ReactCurrentBatchConfig,Ri=!0;function ei(o,u,d,g){var x=Qe,w=ji.transition;ji.transition=null;try{Qe=1,Dl(o,u,d,g)}finally{Qe=x,ji.transition=w}}function fd(o,u,d,g){var x=Qe,w=ji.transition;ji.transition=null;try{Qe=4,Dl(o,u,d,g)}finally{Qe=x,ji.transition=w}}function Dl(o,u,d,g){if(Ri){var x=Ds(o,u,d,g);if(x===null)yg(o,u,g,ti,d),Ta(o,g);else if(ld(x,o,u,d,g))g.stopPropagation();else if(Ta(o,g),u&4&&-1<ud.indexOf(o)){for(;x!==null;){var w=Kl(x);if(w!==null&&kl(w),w=Ds(o,u,d,g),w===null&&yg(o,u,g,ti,d),w===x)break;x=w}x!==null&&g.stopPropagation()}else yg(o,u,g,null,d)}}var ti=null;function Ds(o,u,d,g){if(ti=null,o=Is(g),o=Co(o),o!==null)if(u=Ir(o),u===null)o=null;else if(d=u.tag,d===13){if(o=Tl(u),o!==null)return o;o=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null);return ti=o,null}function Ms(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ig()){case Cs:return 1;case Sl:return 4;case bo:case Al:return 16;case ks:return 536870912;default:return 16}default:return 16}}var Jn=null,Ls=null,Di=null;function dd(){if(Di)return Di;var o,u=Ls,d=u.length,g,x="value"in Jn?Jn.value:Jn.textContent,w=x.length;for(o=0;o<d&&u[o]===x[o];o++);var M=d-o;for(g=1;g<=M&&u[d-g]===x[w-g];g++);return Di=x.slice(o,1<g?1-g:void 0)}function Io(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function ni(){return!0}function Ml(){return!1}function wn(o){function u(d,g,x,w,M){this._reactName=d,this._targetInst=x,this.type=g,this.nativeEvent=w,this.target=M,this.currentTarget=null;for(var U in o)o.hasOwnProperty(U)&&(d=o[U],this[U]=d?d(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ni:Ml,this.isPropagationStopped=Ml,this}return re(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),u}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Po=wn(ri),Aa=re({},ri,{view:0,detail:0}),$s=wn(Aa),Vs,Bs,Zn,Oo=re({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ue,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Zn&&(Zn&&o.type==="mousemove"?(Vs=o.screenX-Zn.screenX,Bs=o.screenY-Zn.screenY):Bs=Vs=0,Zn=o),Vs)},movementY:function(o){return"movementY"in o?o.movementY:Bs}}),Ll=wn(Oo),hd=re({},Oo,{dataTransfer:0}),pd=wn(hd),Fs=re({},Aa,{relatedTarget:0}),pn=wn(Fs),md=re({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),gd=wn(md),Ia=re({},ri,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),p=wn(Ia),T=re({},ri,{data:0}),O=wn(T),F={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ve(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=ne[o])?!!u[o]:!1}function Ue(){return ve}var $t=re({},Aa,{key:function(o){if(o.key){var u=F[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Io(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?X[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ue,charCode:function(o){return o.type==="keypress"?Io(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Io(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),ft=wn($t),Ft=re({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),er=wn(Ft),Mi=re({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ue}),ii=wn(Mi),ai=re({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),Us=wn(ai),$l=re({},Oo,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),G4=wn($l),K4=[9,13,27,32],sg=l&&"CompositionEvent"in window,Vl=null;l&&"documentMode"in document&&(Vl=document.documentMode);var Y4=l&&"TextEvent"in window&&!Vl,MT=l&&(!sg||Vl&&8<Vl&&11>=Vl),LT=" ",$T=!1;function VT(o,u){switch(o){case"keyup":return K4.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BT(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var qs=!1;function X4(o,u){switch(o){case"compositionend":return BT(u);case"keypress":return u.which!==32?null:($T=!0,LT);case"textInput":return o=u.data,o===LT&&$T?null:o;default:return null}}function Q4(o,u){if(qs)return o==="compositionend"||!sg&&VT(o,u)?(o=dd(),Di=Ls=Jn=null,qs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return MT&&u.locale!=="ko"?null:u.data;default:return null}}var J4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FT(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!J4[o.type]:u==="textarea"}function UT(o,u,d,g){va(g),u=_d(u,"onChange"),0<u.length&&(d=new Po("onChange","change",null,d,g),o.push({event:d,listeners:u}))}var Bl=null,Fl=null;function Z4(o){oE(o,0)}function yd(o){var u=Ks(o);if(ce(u))return o}function e3(o,u){if(o==="change")return u}var qT=!1;if(l){var ug;if(l){var lg="oninput"in document;if(!lg){var zT=document.createElement("div");zT.setAttribute("oninput","return;"),lg=typeof zT.oninput=="function"}ug=lg}else ug=!1;qT=ug&&(!document.documentMode||9<document.documentMode)}function WT(){Bl&&(Bl.detachEvent("onpropertychange",HT),Fl=Bl=null)}function HT(o){if(o.propertyName==="value"&&yd(Fl)){var u=[];UT(u,Fl,o,Is(o)),ed(Z4,u)}}function t3(o,u,d){o==="focusin"?(WT(),Bl=u,Fl=d,Bl.attachEvent("onpropertychange",HT)):o==="focusout"&&WT()}function n3(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return yd(Fl)}function r3(o,u){if(o==="click")return yd(u)}function i3(o,u){if(o==="input"||o==="change")return yd(u)}function a3(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Or=typeof Object.is=="function"?Object.is:a3;function Ul(o,u){if(Or(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var d=Object.keys(o),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var x=d[g];if(!c.call(u,x)||!Or(o[x],u[x]))return!1}return!0}function GT(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function KT(o,u){var d=GT(o);o=0;for(var g;d;){if(d.nodeType===3){if(g=o+d.textContent.length,o<=u&&g>=u)return{node:d,offset:u-o};o=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=GT(d)}}function YT(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?YT(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function XT(){for(var o=window,u=rt();u instanceof o.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)o=u.contentWindow;else break;u=rt(o.document)}return u}function cg(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}function o3(o){var u=XT(),d=o.focusedElem,g=o.selectionRange;if(u!==d&&d&&d.ownerDocument&&YT(d.ownerDocument.documentElement,d)){if(g!==null&&cg(d)){if(u=g.start,o=g.end,o===void 0&&(o=u),"selectionStart"in d)d.selectionStart=u,d.selectionEnd=Math.min(o,d.value.length);else if(o=(u=d.ownerDocument||document)&&u.defaultView||window,o.getSelection){o=o.getSelection();var x=d.textContent.length,w=Math.min(g.start,x);g=g.end===void 0?w:Math.min(g.end,x),!o.extend&&w>g&&(x=g,g=w,w=x),x=KT(d,w);var M=KT(d,g);x&&M&&(o.rangeCount!==1||o.anchorNode!==x.node||o.anchorOffset!==x.offset||o.focusNode!==M.node||o.focusOffset!==M.offset)&&(u=u.createRange(),u.setStart(x.node,x.offset),o.removeAllRanges(),w>g?(o.addRange(u),o.extend(M.node,M.offset)):(u.setEnd(M.node,M.offset),o.addRange(u)))}}for(u=[],o=d;o=o.parentNode;)o.nodeType===1&&u.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<u.length;d++)o=u[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var s3=l&&"documentMode"in document&&11>=document.documentMode,zs=null,fg=null,ql=null,dg=!1;function QT(o,u,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;dg||zs==null||zs!==rt(g)||(g=zs,"selectionStart"in g&&cg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ql&&Ul(ql,g)||(ql=g,g=_d(fg,"onSelect"),0<g.length&&(u=new Po("onSelect","select",null,u,d),o.push({event:u,listeners:g}),u.target=zs)))}function vd(o,u){var d={};return d[o.toLowerCase()]=u.toLowerCase(),d["Webkit"+o]="webkit"+u,d["Moz"+o]="moz"+u,d}var Ws={animationend:vd("Animation","AnimationEnd"),animationiteration:vd("Animation","AnimationIteration"),animationstart:vd("Animation","AnimationStart"),transitionend:vd("Transition","TransitionEnd")},hg={},JT={};l&&(JT=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function xd(o){if(hg[o])return hg[o];if(!Ws[o])return o;var u=Ws[o],d;for(d in u)if(u.hasOwnProperty(d)&&d in JT)return hg[o]=u[d];return o}var ZT=xd("animationend"),eE=xd("animationiteration"),tE=xd("animationstart"),nE=xd("transitionend"),rE=new Map,iE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pa(o,u){rE.set(o,u),a(u,[o])}for(var pg=0;pg<iE.length;pg++){var mg=iE[pg],u3=mg.toLowerCase(),l3=mg[0].toUpperCase()+mg.slice(1);Pa(u3,"on"+l3)}Pa(ZT,"onAnimationEnd"),Pa(eE,"onAnimationIteration"),Pa(tE,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(nE,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c3=new Set("cancel close invalid load scroll toggle".split(" ").concat(zl));function aE(o,u,d){var g=o.type||"unknown-event";o.currentTarget=d,wl(g,u,void 0,o),o.currentTarget=null}function oE(o,u){u=(u&4)!==0;for(var d=0;d<o.length;d++){var g=o[d],x=g.event;g=g.listeners;e:{var w=void 0;if(u)for(var M=g.length-1;0<=M;M--){var U=g[M],z=U.instance,te=U.currentTarget;if(U=U.listener,z!==w&&x.isPropagationStopped())break e;aE(x,U,te),w=z}else for(M=0;M<g.length;M++){if(U=g[M],z=U.instance,te=U.currentTarget,U=U.listener,z!==w&&x.isPropagationStopped())break e;aE(x,U,te),w=z}}}if(Ps)throw o=ur,Ps=!1,ur=null,o}function wt(o,u){var d=u[Tg];d===void 0&&(d=u[Tg]=new Set);var g=o+"__bubble";d.has(g)||(sE(u,o,2,!1),d.add(g))}function gg(o,u,d){var g=0;u&&(g|=4),sE(d,o,g,u)}var bd="_reactListening"+Math.random().toString(36).slice(2);function Wl(o){if(!o[bd]){o[bd]=!0,r.forEach(function(d){d!=="selectionchange"&&(c3.has(d)||gg(d,!1,o),gg(d,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[bd]||(u[bd]=!0,gg("selectionchange",!1,u))}}function sE(o,u,d,g){switch(Ms(u)){case 1:var x=ei;break;case 4:x=fd;break;default:x=Dl}d=x.bind(null,u,d,o),x=void 0,!ba||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(x=!0),g?x!==void 0?o.addEventListener(u,d,{capture:!0,passive:x}):o.addEventListener(u,d,!0):x!==void 0?o.addEventListener(u,d,{passive:x}):o.addEventListener(u,d,!1)}function yg(o,u,d,g,x){var w=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var U=g.stateNode.containerInfo;if(U===x||U.nodeType===8&&U.parentNode===x)break;if(M===4)for(M=g.return;M!==null;){var z=M.tag;if((z===3||z===4)&&(z=M.stateNode.containerInfo,z===x||z.nodeType===8&&z.parentNode===x))return;M=M.return}for(;U!==null;){if(M=Co(U),M===null)return;if(z=M.tag,z===5||z===6){g=w=M;continue e}U=U.parentNode}}g=g.return}ed(function(){var te=w,de=Is(d),pe=[];e:{var le=rE.get(o);if(le!==void 0){var be=Po,Se=o;switch(o){case"keypress":if(Io(d)===0)break e;case"keydown":case"keyup":be=ft;break;case"focusin":Se="focus",be=pn;break;case"focusout":Se="blur",be=pn;break;case"beforeblur":case"afterblur":be=pn;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=ii;break;case ZT:case eE:case tE:be=gd;break;case nE:be=Us;break;case"scroll":be=$s;break;case"wheel":be=G4;break;case"copy":case"cut":case"paste":be=p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=er}var Ae=(u&4)!==0,Vt=!Ae&&o==="scroll",Y=Ae?le!==null?le+"Capture":null:le;Ae=[];for(var H=te,J;H!==null;){J=H;var ye=J.stateNode;if(J.tag===5&&ye!==null&&(J=ye,Y!==null&&(ye=yo(H,Y),ye!=null&&Ae.push(Hl(H,ye,J)))),Vt)break;H=H.return}0<Ae.length&&(le=new be(le,Se,null,d,de),pe.push({event:le,listeners:Ae}))}}if((u&7)===0){e:{if(le=o==="mouseover"||o==="pointerover",be=o==="mouseout"||o==="pointerout",le&&d!==ya&&(Se=d.relatedTarget||d.fromElement)&&(Co(Se)||Se[Li]))break e;if((be||le)&&(le=de.window===de?de:(le=de.ownerDocument)?le.defaultView||le.parentWindow:window,be?(Se=d.relatedTarget||d.toElement,be=te,Se=Se?Co(Se):null,Se!==null&&(Vt=Ir(Se),Se!==Vt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(be=null,Se=te),be!==Se)){if(Ae=Ll,ye="onMouseLeave",Y="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(Ae=er,ye="onPointerLeave",Y="onPointerEnter",H="pointer"),Vt=be==null?le:Ks(be),J=Se==null?le:Ks(Se),le=new Ae(ye,H+"leave",be,d,de),le.target=Vt,le.relatedTarget=J,ye=null,Co(de)===te&&(Ae=new Ae(Y,H+"enter",Se,d,de),Ae.target=J,Ae.relatedTarget=Vt,ye=Ae),Vt=ye,be&&Se)t:{for(Ae=be,Y=Se,H=0,J=Ae;J;J=Hs(J))H++;for(J=0,ye=Y;ye;ye=Hs(ye))J++;for(;0<H-J;)Ae=Hs(Ae),H--;for(;0<J-H;)Y=Hs(Y),J--;for(;H--;){if(Ae===Y||Y!==null&&Ae===Y.alternate)break t;Ae=Hs(Ae),Y=Hs(Y)}Ae=null}else Ae=null;be!==null&&uE(pe,le,be,Ae,!1),Se!==null&&Vt!==null&&uE(pe,Vt,Se,Ae,!0)}}e:{if(le=te?Ks(te):window,be=le.nodeName&&le.nodeName.toLowerCase(),be==="select"||be==="input"&&le.type==="file")var Ie=e3;else if(FT(le))if(qT)Ie=i3;else{Ie=n3;var Ne=t3}else(be=le.nodeName)&&be.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ie=r3);if(Ie&&(Ie=Ie(o,te))){UT(pe,Ie,d,de);break e}Ne&&Ne(o,le,te),o==="focusout"&&(Ne=le._wrapperState)&&Ne.controlled&&le.type==="number"&&pt(le,"number",le.value)}switch(Ne=te?Ks(te):window,o){case"focusin":(FT(Ne)||Ne.contentEditable==="true")&&(zs=Ne,fg=te,ql=null);break;case"focusout":ql=fg=zs=null;break;case"mousedown":dg=!0;break;case"contextmenu":case"mouseup":case"dragend":dg=!1,QT(pe,d,de);break;case"selectionchange":if(s3)break;case"keydown":case"keyup":QT(pe,d,de)}var je;if(sg)e:{switch(o){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else qs?VT(o,d)&&($e="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&($e="onCompositionStart");$e&&(MT&&d.locale!=="ko"&&(qs||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&qs&&(je=dd()):(Jn=de,Ls="value"in Jn?Jn.value:Jn.textContent,qs=!0)),Ne=_d(te,$e),0<Ne.length&&($e=new O($e,o,null,d,de),pe.push({event:$e,listeners:Ne}),je?$e.data=je:(je=BT(d),je!==null&&($e.data=je)))),(je=Y4?X4(o,d):Q4(o,d))&&(te=_d(te,"onBeforeInput"),0<te.length&&(de=new O("onBeforeInput","beforeinput",null,d,de),pe.push({event:de,listeners:te}),de.data=je))}oE(pe,u)})}function Hl(o,u,d){return{instance:o,listener:u,currentTarget:d}}function _d(o,u){for(var d=u+"Capture",g=[];o!==null;){var x=o,w=x.stateNode;x.tag===5&&w!==null&&(x=w,w=yo(o,d),w!=null&&g.unshift(Hl(o,w,x)),w=yo(o,u),w!=null&&g.push(Hl(o,w,x))),o=o.return}return g}function Hs(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function uE(o,u,d,g,x){for(var w=u._reactName,M=[];d!==null&&d!==g;){var U=d,z=U.alternate,te=U.stateNode;if(z!==null&&z===g)break;U.tag===5&&te!==null&&(U=te,x?(z=yo(d,w),z!=null&&M.unshift(Hl(d,z,U))):x||(z=yo(d,w),z!=null&&M.push(Hl(d,z,U)))),d=d.return}M.length!==0&&o.push({event:u,listeners:M})}var f3=/\r\n?/g,d3=/\u0000|\uFFFD/g;function lE(o){return(typeof o=="string"?o:""+o).replace(f3,`
`).replace(d3,"")}function wd(o,u,d){if(u=lE(u),lE(o)!==u&&d)throw Error(n(425))}function Td(){}var vg=null,xg=null;function bg(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var _g=typeof setTimeout=="function"?setTimeout:void 0,h3=typeof clearTimeout=="function"?clearTimeout:void 0,cE=typeof Promise=="function"?Promise:void 0,p3=typeof queueMicrotask=="function"?queueMicrotask:typeof cE<"u"?function(o){return cE.resolve(null).then(o).catch(m3)}:_g;function m3(o){setTimeout(function(){throw o})}function wg(o,u){var d=u,g=0;do{var x=d.nextSibling;if(o.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(g===0){o.removeChild(x),Sa(u);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=x}while(d);Sa(u)}function Oa(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return o}function fE(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(u===0)return o;u--}else d==="/$"&&u++}o=o.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),oi="__reactFiber$"+Gs,Gl="__reactProps$"+Gs,Li="__reactContainer$"+Gs,Tg="__reactEvents$"+Gs,g3="__reactListeners$"+Gs,y3="__reactHandles$"+Gs;function Co(o){var u=o[oi];if(u)return u;for(var d=o.parentNode;d;){if(u=d[Li]||d[oi]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(o=fE(o);o!==null;){if(d=o[oi])return d;o=fE(o)}return u}o=d,d=o.parentNode}return null}function Kl(o){return o=o[oi]||o[Li],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Ks(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Ed(o){return o[Gl]||null}var Eg=[],Ys=-1;function Ca(o){return{current:o}}function Tt(o){0>Ys||(o.current=Eg[Ys],Eg[Ys]=null,Ys--)}function xt(o,u){Ys++,Eg[Ys]=o.current,o.current=u}var ka={},Tn=Ca(ka),$n=Ca(!1),ko=ka;function Xs(o,u){var d=o.type.contextTypes;if(!d)return ka;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var x={},w;for(w in d)x[w]=u[w];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=u,o.__reactInternalMemoizedMaskedChildContext=x),x}function Vn(o){return o=o.childContextTypes,o!=null}function Sd(){Tt($n),Tt(Tn)}function dE(o,u,d){if(Tn.current!==ka)throw Error(n(168));xt(Tn,u),xt($n,d)}function hE(o,u,d){var g=o.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var x in g)if(!(x in u))throw Error(n(108,We(o)||"Unknown",x));return re({},d,g)}function Ad(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ka,ko=Tn.current,xt(Tn,o),xt($n,$n.current),!0}function pE(o,u,d){var g=o.stateNode;if(!g)throw Error(n(169));d?(o=hE(o,u,ko),g.__reactInternalMemoizedMergedChildContext=o,Tt($n),Tt(Tn),xt(Tn,o)):Tt($n),xt($n,d)}var $i=null,Id=!1,Sg=!1;function mE(o){$i===null?$i=[o]:$i.push(o)}function v3(o){Id=!0,mE(o)}function Na(){if(!Sg&&$i!==null){Sg=!0;var o=0,u=Qe;try{var d=$i;for(Qe=1;o<d.length;o++){var g=d[o];do g=g(!0);while(g!==null)}$i=null,Id=!1}catch(x){throw $i!==null&&($i=$i.slice(o+1)),El(Cs,Na),x}finally{Qe=u,Sg=!1}}return null}var Qs=[],Js=0,Pd=null,Od=0,cr=[],fr=0,No=null,Vi=1,Bi="";function jo(o,u){Qs[Js++]=Od,Qs[Js++]=Pd,Pd=o,Od=u}function gE(o,u,d){cr[fr++]=Vi,cr[fr++]=Bi,cr[fr++]=No,No=o;var g=Vi;o=Bi;var x=32-Xn(g)-1;g&=~(1<<x),d+=1;var w=32-Xn(u)+x;if(30<w){var M=x-x%5;w=(g&(1<<M)-1).toString(32),g>>=M,x-=M,Vi=1<<32-Xn(u)+x|d<<x|g,Bi=w+o}else Vi=1<<w|d<<x|g,Bi=o}function Ag(o){o.return!==null&&(jo(o,1),gE(o,1,0))}function Ig(o){for(;o===Pd;)Pd=Qs[--Js],Qs[Js]=null,Od=Qs[--Js],Qs[Js]=null;for(;o===No;)No=cr[--fr],cr[fr]=null,Bi=cr[--fr],cr[fr]=null,Vi=cr[--fr],cr[fr]=null}var tr=null,nr=null,Pt=!1,Cr=null;function yE(o,u){var d=mr(5,null,null,0);d.elementType="DELETED",d.stateNode=u,d.return=o,u=o.deletions,u===null?(o.deletions=[d],o.flags|=16):u.push(d)}function vE(o,u){switch(o.tag){case 5:var d=o.type;return u=u.nodeType!==1||d.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(o.stateNode=u,tr=o,nr=Oa(u.firstChild),!0):!1;case 6:return u=o.pendingProps===""||u.nodeType!==3?null:u,u!==null?(o.stateNode=u,tr=o,nr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(d=No!==null?{id:Vi,overflow:Bi}:null,o.memoizedState={dehydrated:u,treeContext:d,retryLane:1073741824},d=mr(18,null,null,0),d.stateNode=u,d.return=o,o.child=d,tr=o,nr=null,!0):!1;default:return!1}}function Pg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Og(o){if(Pt){var u=nr;if(u){var d=u;if(!vE(o,u)){if(Pg(o))throw Error(n(418));u=Oa(d.nextSibling);var g=tr;u&&vE(o,u)?yE(g,d):(o.flags=o.flags&-4097|2,Pt=!1,tr=o)}}else{if(Pg(o))throw Error(n(418));o.flags=o.flags&-4097|2,Pt=!1,tr=o}}}function xE(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;tr=o}function Cd(o){if(o!==tr)return!1;if(!Pt)return xE(o),Pt=!0,!1;var u;if((u=o.tag!==3)&&!(u=o.tag!==5)&&(u=o.type,u=u!=="head"&&u!=="body"&&!bg(o.type,o.memoizedProps)),u&&(u=nr)){if(Pg(o))throw bE(),Error(n(418));for(;u;)yE(o,u),u=Oa(u.nextSibling)}if(xE(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(u===0){nr=Oa(o.nextSibling);break e}u--}else d!=="$"&&d!=="$!"&&d!=="$?"||u++}o=o.nextSibling}nr=null}}else nr=tr?Oa(o.stateNode.nextSibling):null;return!0}function bE(){for(var o=nr;o;)o=Oa(o.nextSibling)}function Zs(){nr=tr=null,Pt=!1}function Cg(o){Cr===null?Cr=[o]:Cr.push(o)}var x3=C.ReactCurrentBatchConfig;function Yl(o,u,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var g=d.stateNode}if(!g)throw Error(n(147,o));var x=g,w=""+o;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===w?u.ref:(u=function(M){var U=x.refs;M===null?delete U[w]:U[w]=M},u._stringRef=w,u)}if(typeof o!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,o))}return o}function kd(o,u){throw o=Object.prototype.toString.call(u),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o))}function _E(o){var u=o._init;return u(o._payload)}function wE(o){function u(Y,H){if(o){var J=Y.deletions;J===null?(Y.deletions=[H],Y.flags|=16):J.push(H)}}function d(Y,H){if(!o)return null;for(;H!==null;)u(Y,H),H=H.sibling;return null}function g(Y,H){for(Y=new Map;H!==null;)H.key!==null?Y.set(H.key,H):Y.set(H.index,H),H=H.sibling;return Y}function x(Y,H){return Y=Ba(Y,H),Y.index=0,Y.sibling=null,Y}function w(Y,H,J){return Y.index=J,o?(J=Y.alternate,J!==null?(J=J.index,J<H?(Y.flags|=2,H):J):(Y.flags|=2,H)):(Y.flags|=1048576,H)}function M(Y){return o&&Y.alternate===null&&(Y.flags|=2),Y}function U(Y,H,J,ye){return H===null||H.tag!==6?(H=_y(J,Y.mode,ye),H.return=Y,H):(H=x(H,J),H.return=Y,H)}function z(Y,H,J,ye){var Ie=J.type;return Ie===A?de(Y,H,J.props.children,ye,J.key):H!==null&&(H.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===oe&&_E(Ie)===H.type)?(ye=x(H,J.props),ye.ref=Yl(Y,H,J),ye.return=Y,ye):(ye=th(J.type,J.key,J.props,null,Y.mode,ye),ye.ref=Yl(Y,H,J),ye.return=Y,ye)}function te(Y,H,J,ye){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=wy(J,Y.mode,ye),H.return=Y,H):(H=x(H,J.children||[]),H.return=Y,H)}function de(Y,H,J,ye,Ie){return H===null||H.tag!==7?(H=Fo(J,Y.mode,ye,Ie),H.return=Y,H):(H=x(H,J),H.return=Y,H)}function pe(Y,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=_y(""+H,Y.mode,J),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case I:return J=th(H.type,H.key,H.props,null,Y.mode,J),J.ref=Yl(Y,null,H),J.return=Y,J;case N:return H=wy(H,Y.mode,J),H.return=Y,H;case oe:var ye=H._init;return pe(Y,ye(H._payload),J)}if(vt(H)||ie(H))return H=Fo(H,Y.mode,J,null),H.return=Y,H;kd(Y,H)}return null}function le(Y,H,J,ye){var Ie=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Ie!==null?null:U(Y,H,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case I:return J.key===Ie?z(Y,H,J,ye):null;case N:return J.key===Ie?te(Y,H,J,ye):null;case oe:return Ie=J._init,le(Y,H,Ie(J._payload),ye)}if(vt(J)||ie(J))return Ie!==null?null:de(Y,H,J,ye,null);kd(Y,J)}return null}function be(Y,H,J,ye,Ie){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return Y=Y.get(J)||null,U(H,Y,""+ye,Ie);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case I:return Y=Y.get(ye.key===null?J:ye.key)||null,z(H,Y,ye,Ie);case N:return Y=Y.get(ye.key===null?J:ye.key)||null,te(H,Y,ye,Ie);case oe:var Ne=ye._init;return be(Y,H,J,Ne(ye._payload),Ie)}if(vt(ye)||ie(ye))return Y=Y.get(J)||null,de(H,Y,ye,Ie,null);kd(H,ye)}return null}function Se(Y,H,J,ye){for(var Ie=null,Ne=null,je=H,$e=H=0,un=null;je!==null&&$e<J.length;$e++){je.index>$e?(un=je,je=null):un=je.sibling;var et=le(Y,je,J[$e],ye);if(et===null){je===null&&(je=un);break}o&&je&&et.alternate===null&&u(Y,je),H=w(et,H,$e),Ne===null?Ie=et:Ne.sibling=et,Ne=et,je=un}if($e===J.length)return d(Y,je),Pt&&jo(Y,$e),Ie;if(je===null){for(;$e<J.length;$e++)je=pe(Y,J[$e],ye),je!==null&&(H=w(je,H,$e),Ne===null?Ie=je:Ne.sibling=je,Ne=je);return Pt&&jo(Y,$e),Ie}for(je=g(Y,je);$e<J.length;$e++)un=be(je,Y,$e,J[$e],ye),un!==null&&(o&&un.alternate!==null&&je.delete(un.key===null?$e:un.key),H=w(un,H,$e),Ne===null?Ie=un:Ne.sibling=un,Ne=un);return o&&je.forEach(function(Fa){return u(Y,Fa)}),Pt&&jo(Y,$e),Ie}function Ae(Y,H,J,ye){var Ie=ie(J);if(typeof Ie!="function")throw Error(n(150));if(J=Ie.call(J),J==null)throw Error(n(151));for(var Ne=Ie=null,je=H,$e=H=0,un=null,et=J.next();je!==null&&!et.done;$e++,et=J.next()){je.index>$e?(un=je,je=null):un=je.sibling;var Fa=le(Y,je,et.value,ye);if(Fa===null){je===null&&(je=un);break}o&&je&&Fa.alternate===null&&u(Y,je),H=w(Fa,H,$e),Ne===null?Ie=Fa:Ne.sibling=Fa,Ne=Fa,je=un}if(et.done)return d(Y,je),Pt&&jo(Y,$e),Ie;if(je===null){for(;!et.done;$e++,et=J.next())et=pe(Y,et.value,ye),et!==null&&(H=w(et,H,$e),Ne===null?Ie=et:Ne.sibling=et,Ne=et);return Pt&&jo(Y,$e),Ie}for(je=g(Y,je);!et.done;$e++,et=J.next())et=be(je,Y,$e,et.value,ye),et!==null&&(o&&et.alternate!==null&&je.delete(et.key===null?$e:et.key),H=w(et,H,$e),Ne===null?Ie=et:Ne.sibling=et,Ne=et);return o&&je.forEach(function(J3){return u(Y,J3)}),Pt&&jo(Y,$e),Ie}function Vt(Y,H,J,ye){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case I:e:{for(var Ie=J.key,Ne=H;Ne!==null;){if(Ne.key===Ie){if(Ie=J.type,Ie===A){if(Ne.tag===7){d(Y,Ne.sibling),H=x(Ne,J.props.children),H.return=Y,Y=H;break e}}else if(Ne.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===oe&&_E(Ie)===Ne.type){d(Y,Ne.sibling),H=x(Ne,J.props),H.ref=Yl(Y,Ne,J),H.return=Y,Y=H;break e}d(Y,Ne);break}else u(Y,Ne);Ne=Ne.sibling}J.type===A?(H=Fo(J.props.children,Y.mode,ye,J.key),H.return=Y,Y=H):(ye=th(J.type,J.key,J.props,null,Y.mode,ye),ye.ref=Yl(Y,H,J),ye.return=Y,Y=ye)}return M(Y);case N:e:{for(Ne=J.key;H!==null;){if(H.key===Ne)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){d(Y,H.sibling),H=x(H,J.children||[]),H.return=Y,Y=H;break e}else{d(Y,H);break}else u(Y,H);H=H.sibling}H=wy(J,Y.mode,ye),H.return=Y,Y=H}return M(Y);case oe:return Ne=J._init,Vt(Y,H,Ne(J._payload),ye)}if(vt(J))return Se(Y,H,J,ye);if(ie(J))return Ae(Y,H,J,ye);kd(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(d(Y,H.sibling),H=x(H,J),H.return=Y,Y=H):(d(Y,H),H=_y(J,Y.mode,ye),H.return=Y,Y=H),M(Y)):d(Y,H)}return Vt}var eu=wE(!0),TE=wE(!1),Nd=Ca(null),jd=null,tu=null,kg=null;function Ng(){kg=tu=jd=null}function jg(o){var u=Nd.current;Tt(Nd),o._currentValue=u}function Rg(o,u,d){for(;o!==null;){var g=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),o===d)break;o=o.return}}function nu(o,u){jd=o,kg=tu=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&u)!==0&&(Bn=!0),o.firstContext=null)}function dr(o){var u=o._currentValue;if(kg!==o)if(o={context:o,memoizedValue:u,next:null},tu===null){if(jd===null)throw Error(n(308));tu=o,jd.dependencies={lanes:0,firstContext:o}}else tu=tu.next=o;return u}var Ro=null;function Dg(o){Ro===null?Ro=[o]:Ro.push(o)}function EE(o,u,d,g){var x=u.interleaved;return x===null?(d.next=d,Dg(u)):(d.next=x.next,x.next=d),u.interleaved=d,Fi(o,g)}function Fi(o,u){o.lanes|=u;var d=o.alternate;for(d!==null&&(d.lanes|=u),d=o,o=o.return;o!==null;)o.childLanes|=u,d=o.alternate,d!==null&&(d.childLanes|=u),d=o,o=o.return;return d.tag===3?d.stateNode:null}var ja=!1;function Mg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SE(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ui(o,u){return{eventTime:o,lane:u,tag:0,payload:null,callback:null,next:null}}function Ra(o,u,d){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(Ze&2)!==0){var x=g.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),g.pending=u,Fi(o,d)}return x=g.interleaved,x===null?(u.next=u,Dg(g)):(u.next=x.next,x.next=u),g.interleaved=u,Fi(o,d)}function Rd(o,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194240)!==0)){var g=u.lanes;g&=o.pendingLanes,d|=g,u.lanes=d,Cl(o,d)}}function AE(o,u){var d=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var x=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var M={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?x=w=M:w=w.next=M,d=d.next}while(d!==null);w===null?x=w=u:w=w.next=u}else x=w=u;d={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:g.shared,effects:g.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=u}function Dd(o,u,d,g){var x=o.updateQueue;ja=!1;var w=x.firstBaseUpdate,M=x.lastBaseUpdate,U=x.shared.pending;if(U!==null){x.shared.pending=null;var z=U,te=z.next;z.next=null,M===null?w=te:M.next=te,M=z;var de=o.alternate;de!==null&&(de=de.updateQueue,U=de.lastBaseUpdate,U!==M&&(U===null?de.firstBaseUpdate=te:U.next=te,de.lastBaseUpdate=z))}if(w!==null){var pe=x.baseState;M=0,de=te=z=null,U=w;do{var le=U.lane,be=U.eventTime;if((g&le)===le){de!==null&&(de=de.next={eventTime:be,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Se=o,Ae=U;switch(le=u,be=d,Ae.tag){case 1:if(Se=Ae.payload,typeof Se=="function"){pe=Se.call(be,pe,le);break e}pe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ae.payload,le=typeof Se=="function"?Se.call(be,pe,le):Se,le==null)break e;pe=re({},pe,le);break e;case 2:ja=!0}}U.callback!==null&&U.lane!==0&&(o.flags|=64,le=x.effects,le===null?x.effects=[U]:le.push(U))}else be={eventTime:be,lane:le,tag:U.tag,payload:U.payload,callback:U.callback,next:null},de===null?(te=de=be,z=pe):de=de.next=be,M|=le;if(U=U.next,U===null){if(U=x.shared.pending,U===null)break;le=U,U=le.next,le.next=null,x.lastBaseUpdate=le,x.shared.pending=null}}while(!0);if(de===null&&(z=pe),x.baseState=z,x.firstBaseUpdate=te,x.lastBaseUpdate=de,u=x.shared.interleaved,u!==null){x=u;do M|=x.lane,x=x.next;while(x!==u)}else w===null&&(x.shared.lanes=0);Lo|=M,o.lanes=M,o.memoizedState=pe}}function IE(o,u,d){if(o=u.effects,u.effects=null,o!==null)for(u=0;u<o.length;u++){var g=o[u],x=g.callback;if(x!==null){if(g.callback=null,g=d,typeof x!="function")throw Error(n(191,x));x.call(g)}}}var Xl={},si=Ca(Xl),Ql=Ca(Xl),Jl=Ca(Xl);function Do(o){if(o===Xl)throw Error(n(174));return o}function Lg(o,u){switch(xt(Jl,u),xt(Ql,o),xt(si,Xl),o=u.nodeType,o){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Es(null,"");break;default:o=o===8?u.parentNode:u,u=o.namespaceURI||null,o=o.tagName,u=Es(u,o)}Tt(si),xt(si,u)}function ru(){Tt(si),Tt(Ql),Tt(Jl)}function PE(o){Do(Jl.current);var u=Do(si.current),d=Es(u,o.type);u!==d&&(xt(Ql,o),xt(si,d))}function $g(o){Ql.current===o&&(Tt(si),Tt(Ql))}var Ct=Ca(0);function Md(o){for(var u=o;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Vg=[];function Bg(){for(var o=0;o<Vg.length;o++)Vg[o]._workInProgressVersionPrimary=null;Vg.length=0}var Ld=C.ReactCurrentDispatcher,Fg=C.ReactCurrentBatchConfig,Mo=0,kt=null,Xt=null,on=null,$d=!1,Zl=!1,ec=0,b3=0;function En(){throw Error(n(321))}function Ug(o,u){if(u===null)return!1;for(var d=0;d<u.length&&d<o.length;d++)if(!Or(o[d],u[d]))return!1;return!0}function qg(o,u,d,g,x,w){if(Mo=w,kt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Ld.current=o===null||o.memoizedState===null?E3:S3,o=d(g,x),Zl){w=0;do{if(Zl=!1,ec=0,25<=w)throw Error(n(301));w+=1,on=Xt=null,u.updateQueue=null,Ld.current=A3,o=d(g,x)}while(Zl)}if(Ld.current=Fd,u=Xt!==null&&Xt.next!==null,Mo=0,on=Xt=kt=null,$d=!1,u)throw Error(n(300));return o}function zg(){var o=ec!==0;return ec=0,o}function ui(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?kt.memoizedState=on=o:on=on.next=o,on}function hr(){if(Xt===null){var o=kt.alternate;o=o!==null?o.memoizedState:null}else o=Xt.next;var u=on===null?kt.memoizedState:on.next;if(u!==null)on=u,Xt=o;else{if(o===null)throw Error(n(310));Xt=o,o={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},on===null?kt.memoizedState=on=o:on=on.next=o}return on}function tc(o,u){return typeof u=="function"?u(o):u}function Wg(o){var u=hr(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var g=Xt,x=g.baseQueue,w=d.pending;if(w!==null){if(x!==null){var M=x.next;x.next=w.next,w.next=M}g.baseQueue=x=w,d.pending=null}if(x!==null){w=x.next,g=g.baseState;var U=M=null,z=null,te=w;do{var de=te.lane;if((Mo&de)===de)z!==null&&(z=z.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),g=te.hasEagerState?te.eagerState:o(g,te.action);else{var pe={lane:de,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};z===null?(U=z=pe,M=g):z=z.next=pe,kt.lanes|=de,Lo|=de}te=te.next}while(te!==null&&te!==w);z===null?M=g:z.next=U,Or(g,u.memoizedState)||(Bn=!0),u.memoizedState=g,u.baseState=M,u.baseQueue=z,d.lastRenderedState=g}if(o=d.interleaved,o!==null){x=o;do w=x.lane,kt.lanes|=w,Lo|=w,x=x.next;while(x!==o)}else x===null&&(d.lanes=0);return[u.memoizedState,d.dispatch]}function Hg(o){var u=hr(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var g=d.dispatch,x=d.pending,w=u.memoizedState;if(x!==null){d.pending=null;var M=x=x.next;do w=o(w,M.action),M=M.next;while(M!==x);Or(w,u.memoizedState)||(Bn=!0),u.memoizedState=w,u.baseQueue===null&&(u.baseState=w),d.lastRenderedState=w}return[w,g]}function OE(){}function CE(o,u){var d=kt,g=hr(),x=u(),w=!Or(g.memoizedState,x);if(w&&(g.memoizedState=x,Bn=!0),g=g.queue,Gg(jE.bind(null,d,g,o),[o]),g.getSnapshot!==u||w||on!==null&&on.memoizedState.tag&1){if(d.flags|=2048,nc(9,NE.bind(null,d,g,x,u),void 0,null),sn===null)throw Error(n(349));(Mo&30)!==0||kE(d,u,x)}return x}function kE(o,u,d){o.flags|=16384,o={getSnapshot:u,value:d},u=kt.updateQueue,u===null?(u={lastEffect:null,stores:null},kt.updateQueue=u,u.stores=[o]):(d=u.stores,d===null?u.stores=[o]:d.push(o))}function NE(o,u,d,g){u.value=d,u.getSnapshot=g,RE(u)&&DE(o)}function jE(o,u,d){return d(function(){RE(u)&&DE(o)})}function RE(o){var u=o.getSnapshot;o=o.value;try{var d=u();return!Or(o,d)}catch{return!0}}function DE(o){var u=Fi(o,1);u!==null&&Rr(u,o,1,-1)}function ME(o){var u=ui();return typeof o=="function"&&(o=o()),u.memoizedState=u.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:o},u.queue=o,o=o.dispatch=T3.bind(null,kt,o),[u.memoizedState,o]}function nc(o,u,d,g){return o={tag:o,create:u,destroy:d,deps:g,next:null},u=kt.updateQueue,u===null?(u={lastEffect:null,stores:null},kt.updateQueue=u,u.lastEffect=o.next=o):(d=u.lastEffect,d===null?u.lastEffect=o.next=o:(g=d.next,d.next=o,o.next=g,u.lastEffect=o)),o}function LE(){return hr().memoizedState}function Vd(o,u,d,g){var x=ui();kt.flags|=o,x.memoizedState=nc(1|u,d,void 0,g===void 0?null:g)}function Bd(o,u,d,g){var x=hr();g=g===void 0?null:g;var w=void 0;if(Xt!==null){var M=Xt.memoizedState;if(w=M.destroy,g!==null&&Ug(g,M.deps)){x.memoizedState=nc(u,d,w,g);return}}kt.flags|=o,x.memoizedState=nc(1|u,d,w,g)}function $E(o,u){return Vd(8390656,8,o,u)}function Gg(o,u){return Bd(2048,8,o,u)}function VE(o,u){return Bd(4,2,o,u)}function BE(o,u){return Bd(4,4,o,u)}function FE(o,u){if(typeof u=="function")return o=o(),u(o),function(){u(null)};if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function UE(o,u,d){return d=d!=null?d.concat([o]):null,Bd(4,4,FE.bind(null,u,o),d)}function Kg(){}function qE(o,u){var d=hr();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&Ug(u,g[1])?g[0]:(d.memoizedState=[o,u],o)}function zE(o,u){var d=hr();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&Ug(u,g[1])?g[0]:(o=o(),d.memoizedState=[o,u],o)}function WE(o,u,d){return(Mo&21)===0?(o.baseState&&(o.baseState=!1,Bn=!0),o.memoizedState=d):(Or(d,u)||(d=Pl(),kt.lanes|=d,Lo|=d,o.baseState=!0),u)}function _3(o,u){var d=Qe;Qe=d!==0&&4>d?d:4,o(!0);var g=Fg.transition;Fg.transition={};try{o(!1),u()}finally{Qe=d,Fg.transition=g}}function HE(){return hr().memoizedState}function w3(o,u,d){var g=$a(o);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},GE(o))KE(u,d);else if(d=EE(o,u,d,g),d!==null){var x=Dn();Rr(d,o,g,x),YE(d,u,g)}}function T3(o,u,d){var g=$a(o),x={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(GE(o))KE(u,x);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=u.lastRenderedReducer,w!==null))try{var M=u.lastRenderedState,U=w(M,d);if(x.hasEagerState=!0,x.eagerState=U,Or(U,M)){var z=u.interleaved;z===null?(x.next=x,Dg(u)):(x.next=z.next,z.next=x),u.interleaved=x;return}}catch{}finally{}d=EE(o,u,x,g),d!==null&&(x=Dn(),Rr(d,o,g,x),YE(d,u,g))}}function GE(o){var u=o.alternate;return o===kt||u!==null&&u===kt}function KE(o,u){Zl=$d=!0;var d=o.pending;d===null?u.next=u:(u.next=d.next,d.next=u),o.pending=u}function YE(o,u,d){if((d&4194240)!==0){var g=u.lanes;g&=o.pendingLanes,d|=g,u.lanes=d,Cl(o,d)}}var Fd={readContext:dr,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},E3={readContext:dr,useCallback:function(o,u){return ui().memoizedState=[o,u===void 0?null:u],o},useContext:dr,useEffect:$E,useImperativeHandle:function(o,u,d){return d=d!=null?d.concat([o]):null,Vd(4194308,4,FE.bind(null,u,o),d)},useLayoutEffect:function(o,u){return Vd(4194308,4,o,u)},useInsertionEffect:function(o,u){return Vd(4,2,o,u)},useMemo:function(o,u){var d=ui();return u=u===void 0?null:u,o=o(),d.memoizedState=[o,u],o},useReducer:function(o,u,d){var g=ui();return u=d!==void 0?d(u):u,g.memoizedState=g.baseState=u,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:u},g.queue=o,o=o.dispatch=w3.bind(null,kt,o),[g.memoizedState,o]},useRef:function(o){var u=ui();return o={current:o},u.memoizedState=o},useState:ME,useDebugValue:Kg,useDeferredValue:function(o){return ui().memoizedState=o},useTransition:function(){var o=ME(!1),u=o[0];return o=_3.bind(null,o[1]),ui().memoizedState=o,[u,o]},useMutableSource:function(){},useSyncExternalStore:function(o,u,d){var g=kt,x=ui();if(Pt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=u(),sn===null)throw Error(n(349));(Mo&30)!==0||kE(g,u,d)}x.memoizedState=d;var w={value:d,getSnapshot:u};return x.queue=w,$E(jE.bind(null,g,w,o),[o]),g.flags|=2048,nc(9,NE.bind(null,g,w,d,u),void 0,null),d},useId:function(){var o=ui(),u=sn.identifierPrefix;if(Pt){var d=Bi,g=Vi;d=(g&~(1<<32-Xn(g)-1)).toString(32)+d,u=":"+u+"R"+d,d=ec++,0<d&&(u+="H"+d.toString(32)),u+=":"}else d=b3++,u=":"+u+"r"+d.toString(32)+":";return o.memoizedState=u},unstable_isNewReconciler:!1},S3={readContext:dr,useCallback:qE,useContext:dr,useEffect:Gg,useImperativeHandle:UE,useInsertionEffect:VE,useLayoutEffect:BE,useMemo:zE,useReducer:Wg,useRef:LE,useState:function(){return Wg(tc)},useDebugValue:Kg,useDeferredValue:function(o){var u=hr();return WE(u,Xt.memoizedState,o)},useTransition:function(){var o=Wg(tc)[0],u=hr().memoizedState;return[o,u]},useMutableSource:OE,useSyncExternalStore:CE,useId:HE,unstable_isNewReconciler:!1},A3={readContext:dr,useCallback:qE,useContext:dr,useEffect:Gg,useImperativeHandle:UE,useInsertionEffect:VE,useLayoutEffect:BE,useMemo:zE,useReducer:Hg,useRef:LE,useState:function(){return Hg(tc)},useDebugValue:Kg,useDeferredValue:function(o){var u=hr();return Xt===null?u.memoizedState=o:WE(u,Xt.memoizedState,o)},useTransition:function(){var o=Hg(tc)[0],u=hr().memoizedState;return[o,u]},useMutableSource:OE,useSyncExternalStore:CE,useId:HE,unstable_isNewReconciler:!1};function kr(o,u){if(o&&o.defaultProps){u=re({},u),o=o.defaultProps;for(var d in o)u[d]===void 0&&(u[d]=o[d]);return u}return u}function Yg(o,u,d,g){u=o.memoizedState,d=d(g,u),d=d==null?u:re({},u,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Ud={isMounted:function(o){return(o=o._reactInternals)?Ir(o)===o:!1},enqueueSetState:function(o,u,d){o=o._reactInternals;var g=Dn(),x=$a(o),w=Ui(g,x);w.payload=u,d!=null&&(w.callback=d),u=Ra(o,w,x),u!==null&&(Rr(u,o,x,g),Rd(u,o,x))},enqueueReplaceState:function(o,u,d){o=o._reactInternals;var g=Dn(),x=$a(o),w=Ui(g,x);w.tag=1,w.payload=u,d!=null&&(w.callback=d),u=Ra(o,w,x),u!==null&&(Rr(u,o,x,g),Rd(u,o,x))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var d=Dn(),g=$a(o),x=Ui(d,g);x.tag=2,u!=null&&(x.callback=u),u=Ra(o,x,g),u!==null&&(Rr(u,o,g,d),Rd(u,o,g))}};function XE(o,u,d,g,x,w,M){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,w,M):u.prototype&&u.prototype.isPureReactComponent?!Ul(d,g)||!Ul(x,w):!0}function QE(o,u,d){var g=!1,x=ka,w=u.contextType;return typeof w=="object"&&w!==null?w=dr(w):(x=Vn(u)?ko:Tn.current,g=u.contextTypes,w=(g=g!=null)?Xs(o,x):ka),u=new u(d,w),o.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ud,o.stateNode=u,u._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=x,o.__reactInternalMemoizedMaskedChildContext=w),u}function JE(o,u,d,g){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==o&&Ud.enqueueReplaceState(u,u.state,null)}function Xg(o,u,d,g){var x=o.stateNode;x.props=d,x.state=o.memoizedState,x.refs={},Mg(o);var w=u.contextType;typeof w=="object"&&w!==null?x.context=dr(w):(w=Vn(u)?ko:Tn.current,x.context=Xs(o,w)),x.state=o.memoizedState,w=u.getDerivedStateFromProps,typeof w=="function"&&(Yg(o,u,w,d),x.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(u=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),u!==x.state&&Ud.enqueueReplaceState(x,x.state,null),Dd(o,d,x,g),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308)}function iu(o,u){try{var d="",g=u;do d+=Oe(g),g=g.return;while(g);var x=d}catch(w){x=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:u,stack:x,digest:null}}function Qg(o,u,d){return{value:o,source:null,stack:d??null,digest:u??null}}function Jg(o,u){try{console.error(u.value)}catch(d){setTimeout(function(){throw d})}}var I3=typeof WeakMap=="function"?WeakMap:Map;function ZE(o,u,d){d=Ui(-1,d),d.tag=3,d.payload={element:null};var g=u.value;return d.callback=function(){Yd||(Yd=!0,hy=g),Jg(o,u)},d}function eS(o,u,d){d=Ui(-1,d),d.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var x=u.value;d.payload=function(){return g(x)},d.callback=function(){Jg(o,u)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){Jg(o,u),typeof g!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})}),d}function tS(o,u,d){var g=o.pingCache;if(g===null){g=o.pingCache=new I3;var x=new Set;g.set(u,x)}else x=g.get(u),x===void 0&&(x=new Set,g.set(u,x));x.has(d)||(x.add(d),o=F3.bind(null,o,u,d),u.then(o,o))}function nS(o){do{var u;if((u=o.tag===13)&&(u=o.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return o;o=o.return}while(o!==null);return null}function rS(o,u,d,g,x){return(o.mode&1)===0?(o===u?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(u=Ui(-1,1),u.tag=2,Ra(d,u,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=x,o)}var P3=C.ReactCurrentOwner,Bn=!1;function Rn(o,u,d,g){u.child=o===null?TE(u,null,d,g):eu(u,o.child,d,g)}function iS(o,u,d,g,x){d=d.render;var w=u.ref;return nu(u,x),g=qg(o,u,d,g,w,x),d=zg(),o!==null&&!Bn?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~x,qi(o,u,x)):(Pt&&d&&Ag(u),u.flags|=1,Rn(o,u,g,x),u.child)}function aS(o,u,d,g,x){if(o===null){var w=d.type;return typeof w=="function"&&!by(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(u.tag=15,u.type=w,oS(o,u,w,g,x)):(o=th(d.type,null,g,u,u.mode,x),o.ref=u.ref,o.return=u,u.child=o)}if(w=o.child,(o.lanes&x)===0){var M=w.memoizedProps;if(d=d.compare,d=d!==null?d:Ul,d(M,g)&&o.ref===u.ref)return qi(o,u,x)}return u.flags|=1,o=Ba(w,g),o.ref=u.ref,o.return=u,u.child=o}function oS(o,u,d,g,x){if(o!==null){var w=o.memoizedProps;if(Ul(w,g)&&o.ref===u.ref)if(Bn=!1,u.pendingProps=g=w,(o.lanes&x)!==0)(o.flags&131072)!==0&&(Bn=!0);else return u.lanes=o.lanes,qi(o,u,x)}return Zg(o,u,d,g,x)}function sS(o,u,d){var g=u.pendingProps,x=g.children,w=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(ou,rr),rr|=d;else{if((d&1073741824)===0)return o=w!==null?w.baseLanes|d:d,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:o,cachePool:null,transitions:null},u.updateQueue=null,xt(ou,rr),rr|=o,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=w!==null?w.baseLanes:d,xt(ou,rr),rr|=g}else w!==null?(g=w.baseLanes|d,u.memoizedState=null):g=d,xt(ou,rr),rr|=g;return Rn(o,u,x,d),u.child}function uS(o,u){var d=u.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(u.flags|=512,u.flags|=2097152)}function Zg(o,u,d,g,x){var w=Vn(d)?ko:Tn.current;return w=Xs(u,w),nu(u,x),d=qg(o,u,d,g,w,x),g=zg(),o!==null&&!Bn?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~x,qi(o,u,x)):(Pt&&g&&Ag(u),u.flags|=1,Rn(o,u,d,x),u.child)}function lS(o,u,d,g,x){if(Vn(d)){var w=!0;Ad(u)}else w=!1;if(nu(u,x),u.stateNode===null)zd(o,u),QE(u,d,g),Xg(u,d,g,x),g=!0;else if(o===null){var M=u.stateNode,U=u.memoizedProps;M.props=U;var z=M.context,te=d.contextType;typeof te=="object"&&te!==null?te=dr(te):(te=Vn(d)?ko:Tn.current,te=Xs(u,te));var de=d.getDerivedStateFromProps,pe=typeof de=="function"||typeof M.getSnapshotBeforeUpdate=="function";pe||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(U!==g||z!==te)&&JE(u,M,g,te),ja=!1;var le=u.memoizedState;M.state=le,Dd(u,g,M,x),z=u.memoizedState,U!==g||le!==z||$n.current||ja?(typeof de=="function"&&(Yg(u,d,de,g),z=u.memoizedState),(U=ja||XE(u,d,U,g,le,z,te))?(pe||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(u.flags|=4194308)):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=z),M.props=g,M.state=z,M.context=te,g=U):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{M=u.stateNode,SE(o,u),U=u.memoizedProps,te=u.type===u.elementType?U:kr(u.type,U),M.props=te,pe=u.pendingProps,le=M.context,z=d.contextType,typeof z=="object"&&z!==null?z=dr(z):(z=Vn(d)?ko:Tn.current,z=Xs(u,z));var be=d.getDerivedStateFromProps;(de=typeof be=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(U!==pe||le!==z)&&JE(u,M,g,z),ja=!1,le=u.memoizedState,M.state=le,Dd(u,g,M,x);var Se=u.memoizedState;U!==pe||le!==Se||$n.current||ja?(typeof be=="function"&&(Yg(u,d,be,g),Se=u.memoizedState),(te=ja||XE(u,d,te,g,le,Se,z)||!1)?(de||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(g,Se,z),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(g,Se,z)),typeof M.componentDidUpdate=="function"&&(u.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof M.componentDidUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=Se),M.props=g,M.state=Se,M.context=z,g=te):(typeof M.componentDidUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(u.flags|=1024),g=!1)}return ey(o,u,d,g,w,x)}function ey(o,u,d,g,x,w){uS(o,u);var M=(u.flags&128)!==0;if(!g&&!M)return x&&pE(u,d,!1),qi(o,u,w);g=u.stateNode,P3.current=u;var U=M&&typeof d.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,o!==null&&M?(u.child=eu(u,o.child,null,w),u.child=eu(u,null,U,w)):Rn(o,u,U,w),u.memoizedState=g.state,x&&pE(u,d,!0),u.child}function cS(o){var u=o.stateNode;u.pendingContext?dE(o,u.pendingContext,u.pendingContext!==u.context):u.context&&dE(o,u.context,!1),Lg(o,u.containerInfo)}function fS(o,u,d,g,x){return Zs(),Cg(x),u.flags|=256,Rn(o,u,d,g),u.child}var ty={dehydrated:null,treeContext:null,retryLane:0};function ny(o){return{baseLanes:o,cachePool:null,transitions:null}}function dS(o,u,d){var g=u.pendingProps,x=Ct.current,w=!1,M=(u.flags&128)!==0,U;if((U=M)||(U=o!==null&&o.memoizedState===null?!1:(x&2)!==0),U?(w=!0,u.flags&=-129):(o===null||o.memoizedState!==null)&&(x|=1),xt(Ct,x&1),o===null)return Og(u),o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((u.mode&1)===0?u.lanes=1:o.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(M=g.children,o=g.fallback,w?(g=u.mode,w=u.child,M={mode:"hidden",children:M},(g&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=M):w=nh(M,g,0,null),o=Fo(o,g,d,null),w.return=u,o.return=u,w.sibling=o,u.child=w,u.child.memoizedState=ny(d),u.memoizedState=ty,o):ry(u,M));if(x=o.memoizedState,x!==null&&(U=x.dehydrated,U!==null))return O3(o,u,M,g,U,x,d);if(w){w=g.fallback,M=u.mode,x=o.child,U=x.sibling;var z={mode:"hidden",children:g.children};return(M&1)===0&&u.child!==x?(g=u.child,g.childLanes=0,g.pendingProps=z,u.deletions=null):(g=Ba(x,z),g.subtreeFlags=x.subtreeFlags&14680064),U!==null?w=Ba(U,w):(w=Fo(w,M,d,null),w.flags|=2),w.return=u,g.return=u,g.sibling=w,u.child=g,g=w,w=u.child,M=o.child.memoizedState,M=M===null?ny(d):{baseLanes:M.baseLanes|d,cachePool:null,transitions:M.transitions},w.memoizedState=M,w.childLanes=o.childLanes&~d,u.memoizedState=ty,g}return w=o.child,o=w.sibling,g=Ba(w,{mode:"visible",children:g.children}),(u.mode&1)===0&&(g.lanes=d),g.return=u,g.sibling=null,o!==null&&(d=u.deletions,d===null?(u.deletions=[o],u.flags|=16):d.push(o)),u.child=g,u.memoizedState=null,g}function ry(o,u){return u=nh({mode:"visible",children:u},o.mode,0,null),u.return=o,o.child=u}function qd(o,u,d,g){return g!==null&&Cg(g),eu(u,o.child,null,d),o=ry(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function O3(o,u,d,g,x,w,M){if(d)return u.flags&256?(u.flags&=-257,g=Qg(Error(n(422))),qd(o,u,M,g)):u.memoizedState!==null?(u.child=o.child,u.flags|=128,null):(w=g.fallback,x=u.mode,g=nh({mode:"visible",children:g.children},x,0,null),w=Fo(w,x,M,null),w.flags|=2,g.return=u,w.return=u,g.sibling=w,u.child=g,(u.mode&1)!==0&&eu(u,o.child,null,M),u.child.memoizedState=ny(M),u.memoizedState=ty,w);if((u.mode&1)===0)return qd(o,u,M,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var U=g.dgst;return g=U,w=Error(n(419)),g=Qg(w,g,void 0),qd(o,u,M,g)}if(U=(M&o.childLanes)!==0,Bn||U){if(g=sn,g!==null){switch(M&-M){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|M))!==0?0:x,x!==0&&x!==w.retryLane&&(w.retryLane=x,Fi(o,x),Rr(g,o,x,-1))}return xy(),g=Qg(Error(n(421))),qd(o,u,M,g)}return x.data==="$?"?(u.flags|=128,u.child=o.child,u=U3.bind(null,o),x._reactRetry=u,null):(o=w.treeContext,nr=Oa(x.nextSibling),tr=u,Pt=!0,Cr=null,o!==null&&(cr[fr++]=Vi,cr[fr++]=Bi,cr[fr++]=No,Vi=o.id,Bi=o.overflow,No=u),u=ry(u,g.children),u.flags|=4096,u)}function hS(o,u,d){o.lanes|=u;var g=o.alternate;g!==null&&(g.lanes|=u),Rg(o.return,u,d)}function iy(o,u,d,g,x){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:x}:(w.isBackwards=u,w.rendering=null,w.renderingStartTime=0,w.last=g,w.tail=d,w.tailMode=x)}function pS(o,u,d){var g=u.pendingProps,x=g.revealOrder,w=g.tail;if(Rn(o,u,g.children,d),g=Ct.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&hS(o,d,u);else if(o.tag===19)hS(o,d,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(xt(Ct,g),(u.mode&1)===0)u.memoizedState=null;else switch(x){case"forwards":for(d=u.child,x=null;d!==null;)o=d.alternate,o!==null&&Md(o)===null&&(x=d),d=d.sibling;d=x,d===null?(x=u.child,u.child=null):(x=d.sibling,d.sibling=null),iy(u,!1,x,d,w);break;case"backwards":for(d=null,x=u.child,u.child=null;x!==null;){if(o=x.alternate,o!==null&&Md(o)===null){u.child=x;break}o=x.sibling,x.sibling=d,d=x,x=o}iy(u,!0,d,null,w);break;case"together":iy(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function zd(o,u){(u.mode&1)===0&&o!==null&&(o.alternate=null,u.alternate=null,u.flags|=2)}function qi(o,u,d){if(o!==null&&(u.dependencies=o.dependencies),Lo|=u.lanes,(d&u.childLanes)===0)return null;if(o!==null&&u.child!==o.child)throw Error(n(153));if(u.child!==null){for(o=u.child,d=Ba(o,o.pendingProps),u.child=d,d.return=u;o.sibling!==null;)o=o.sibling,d=d.sibling=Ba(o,o.pendingProps),d.return=u;d.sibling=null}return u.child}function C3(o,u,d){switch(u.tag){case 3:cS(u),Zs();break;case 5:PE(u);break;case 1:Vn(u.type)&&Ad(u);break;case 4:Lg(u,u.stateNode.containerInfo);break;case 10:var g=u.type._context,x=u.memoizedProps.value;xt(Nd,g._currentValue),g._currentValue=x;break;case 13:if(g=u.memoizedState,g!==null)return g.dehydrated!==null?(xt(Ct,Ct.current&1),u.flags|=128,null):(d&u.child.childLanes)!==0?dS(o,u,d):(xt(Ct,Ct.current&1),o=qi(o,u,d),o!==null?o.sibling:null);xt(Ct,Ct.current&1);break;case 19:if(g=(d&u.childLanes)!==0,(o.flags&128)!==0){if(g)return pS(o,u,d);u.flags|=128}if(x=u.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),xt(Ct,Ct.current),g)break;return null;case 22:case 23:return u.lanes=0,sS(o,u,d)}return qi(o,u,d)}var mS,ay,gS,yS;mS=function(o,u){for(var d=u.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},ay=function(){},gS=function(o,u,d,g){var x=o.memoizedProps;if(x!==g){o=u.stateNode,Do(si.current);var w=null;switch(d){case"input":x=ze(o,x),g=ze(o,g),w=[];break;case"select":x=re({},x,{value:void 0}),g=re({},g,{value:void 0}),w=[];break;case"textarea":x=Kn(o,x),g=Kn(o,g),w=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=Td)}Ar(d,g);var M;d=null;for(te in x)if(!g.hasOwnProperty(te)&&x.hasOwnProperty(te)&&x[te]!=null)if(te==="style"){var U=x[te];for(M in U)U.hasOwnProperty(M)&&(d||(d={}),d[M]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(i.hasOwnProperty(te)?w||(w=[]):(w=w||[]).push(te,null));for(te in g){var z=g[te];if(U=x!=null?x[te]:void 0,g.hasOwnProperty(te)&&z!==U&&(z!=null||U!=null))if(te==="style")if(U){for(M in U)!U.hasOwnProperty(M)||z&&z.hasOwnProperty(M)||(d||(d={}),d[M]="");for(M in z)z.hasOwnProperty(M)&&U[M]!==z[M]&&(d||(d={}),d[M]=z[M])}else d||(w||(w=[]),w.push(te,d)),d=z;else te==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,U=U?U.__html:void 0,z!=null&&U!==z&&(w=w||[]).push(te,z)):te==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(te,""+z):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(i.hasOwnProperty(te)?(z!=null&&te==="onScroll"&&wt("scroll",o),w||U===z||(w=[])):(w=w||[]).push(te,z))}d&&(w=w||[]).push("style",d);var te=w;(u.updateQueue=te)&&(u.flags|=4)}},yS=function(o,u,d,g){d!==g&&(u.flags|=4)};function rc(o,u){if(!Pt)switch(o.tailMode){case"hidden":u=o.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Sn(o){var u=o.alternate!==null&&o.alternate.child===o.child,d=0,g=0;if(u)for(var x=o.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=g,o.childLanes=d,u}function k3(o,u,d){var g=u.pendingProps;switch(Ig(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(u),null;case 1:return Vn(u.type)&&Sd(),Sn(u),null;case 3:return g=u.stateNode,ru(),Tt($n),Tt(Tn),Bg(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(Cd(u)?u.flags|=4:o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Cr!==null&&(gy(Cr),Cr=null))),ay(o,u),Sn(u),null;case 5:$g(u);var x=Do(Jl.current);if(d=u.type,o!==null&&u.stateNode!=null)gS(o,u,d,g,x),o.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(n(166));return Sn(u),null}if(o=Do(si.current),Cd(u)){g=u.stateNode,d=u.type;var w=u.memoizedProps;switch(g[oi]=u,g[Gl]=w,o=(u.mode&1)!==0,d){case"dialog":wt("cancel",g),wt("close",g);break;case"iframe":case"object":case"embed":wt("load",g);break;case"video":case"audio":for(x=0;x<zl.length;x++)wt(zl[x],g);break;case"source":wt("error",g);break;case"img":case"image":case"link":wt("error",g),wt("load",g);break;case"details":wt("toggle",g);break;case"input":It(g,w),wt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!w.multiple},wt("invalid",g);break;case"textarea":Ai(g,w),wt("invalid",g)}Ar(d,w),x=null;for(var M in w)if(w.hasOwnProperty(M)){var U=w[M];M==="children"?typeof U=="string"?g.textContent!==U&&(w.suppressHydrationWarning!==!0&&wd(g.textContent,U,o),x=["children",U]):typeof U=="number"&&g.textContent!==""+U&&(w.suppressHydrationWarning!==!0&&wd(g.textContent,U,o),x=["children",""+U]):i.hasOwnProperty(M)&&U!=null&&M==="onScroll"&&wt("scroll",g)}switch(d){case"input":Be(g),Ln(g,w,!0);break;case"textarea":Be(g),Sr(g);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(g.onclick=Td)}g=x,u.updateQueue=g,g!==null&&(u.flags|=4)}else{M=x.nodeType===9?x:x.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=xl(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=M.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=M.createElement(d,{is:g.is}):(o=M.createElement(d),d==="select"&&(M=o,g.multiple?M.multiple=!0:g.size&&(M.size=g.size))):o=M.createElementNS(o,d),o[oi]=u,o[Gl]=g,mS(o,u,!1,!1),u.stateNode=o;e:{switch(M=As(d,g),d){case"dialog":wt("cancel",o),wt("close",o),x=g;break;case"iframe":case"object":case"embed":wt("load",o),x=g;break;case"video":case"audio":for(x=0;x<zl.length;x++)wt(zl[x],o);x=g;break;case"source":wt("error",o),x=g;break;case"img":case"image":case"link":wt("error",o),wt("load",o),x=g;break;case"details":wt("toggle",o),x=g;break;case"input":It(o,g),x=ze(o,g),wt("invalid",o);break;case"option":x=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},x=re({},g,{value:void 0}),wt("invalid",o);break;case"textarea":Ai(o,g),x=Kn(o,g),wt("invalid",o);break;default:x=g}Ar(d,x),U=x;for(w in U)if(U.hasOwnProperty(w)){var z=U[w];w==="style"?Ss(o,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Xf(o,z)):w==="children"?typeof z=="string"?(d!=="textarea"||z!=="")&&go(o,z):typeof z=="number"&&go(o,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?z!=null&&w==="onScroll"&&wt("scroll",o):z!=null&&D(o,w,z,M))}switch(d){case"input":Be(o),Ln(o,g,!1);break;case"textarea":Be(o),Sr(o);break;case"option":g.value!=null&&o.setAttribute("value",""+Le(g.value));break;case"select":o.multiple=!!g.multiple,w=g.value,w!=null?Yt(o,!!g.multiple,w,!1):g.defaultValue!=null&&Yt(o,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(o.onclick=Td)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Sn(u),null;case 6:if(o&&u.stateNode!=null)yS(o,u,o.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(n(166));if(d=Do(Jl.current),Do(si.current),Cd(u)){if(g=u.stateNode,d=u.memoizedProps,g[oi]=u,(w=g.nodeValue!==d)&&(o=tr,o!==null))switch(o.tag){case 3:wd(g.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&wd(g.nodeValue,d,(o.mode&1)!==0)}w&&(u.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[oi]=u,u.stateNode=g}return Sn(u),null;case 13:if(Tt(Ct),g=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Pt&&nr!==null&&(u.mode&1)!==0&&(u.flags&128)===0)bE(),Zs(),u.flags|=98560,w=!1;else if(w=Cd(u),g!==null&&g.dehydrated!==null){if(o===null){if(!w)throw Error(n(318));if(w=u.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[oi]=u}else Zs(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Sn(u),w=!1}else Cr!==null&&(gy(Cr),Cr=null),w=!0;if(!w)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=d,u):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(u.child.flags|=8192,(u.mode&1)!==0&&(o===null||(Ct.current&1)!==0?Qt===0&&(Qt=3):xy())),u.updateQueue!==null&&(u.flags|=4),Sn(u),null);case 4:return ru(),ay(o,u),o===null&&Wl(u.stateNode.containerInfo),Sn(u),null;case 10:return jg(u.type._context),Sn(u),null;case 17:return Vn(u.type)&&Sd(),Sn(u),null;case 19:if(Tt(Ct),w=u.memoizedState,w===null)return Sn(u),null;if(g=(u.flags&128)!==0,M=w.rendering,M===null)if(g)rc(w,!1);else{if(Qt!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(M=Md(o),M!==null){for(u.flags|=128,rc(w,!1),g=M.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),u.subtreeFlags=0,g=d,d=u.child;d!==null;)w=d,o=g,w.flags&=14680066,M=w.alternate,M===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=M.childLanes,w.lanes=M.lanes,w.child=M.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=M.memoizedProps,w.memoizedState=M.memoizedState,w.updateQueue=M.updateQueue,w.type=M.type,o=M.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return xt(Ct,Ct.current&1|2),u.child}o=o.sibling}w.tail!==null&&_t()>su&&(u.flags|=128,g=!0,rc(w,!1),u.lanes=4194304)}else{if(!g)if(o=Md(M),o!==null){if(u.flags|=128,g=!0,d=o.updateQueue,d!==null&&(u.updateQueue=d,u.flags|=4),rc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!M.alternate&&!Pt)return Sn(u),null}else 2*_t()-w.renderingStartTime>su&&d!==1073741824&&(u.flags|=128,g=!0,rc(w,!1),u.lanes=4194304);w.isBackwards?(M.sibling=u.child,u.child=M):(d=w.last,d!==null?d.sibling=M:u.child=M,w.last=M)}return w.tail!==null?(u=w.tail,w.rendering=u,w.tail=u.sibling,w.renderingStartTime=_t(),u.sibling=null,d=Ct.current,xt(Ct,g?d&1|2:d&1),u):(Sn(u),null);case 22:case 23:return vy(),g=u.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(u.flags|=8192),g&&(u.mode&1)!==0?(rr&1073741824)!==0&&(Sn(u),u.subtreeFlags&6&&(u.flags|=8192)):Sn(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function N3(o,u){switch(Ig(u),u.tag){case 1:return Vn(u.type)&&Sd(),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return ru(),Tt($n),Tt(Tn),Bg(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 5:return $g(u),null;case 13:if(Tt(Ct),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Zs()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return Tt(Ct),null;case 4:return ru(),null;case 10:return jg(u.type._context),null;case 22:case 23:return vy(),null;case 24:return null;default:return null}}var Wd=!1,An=!1,j3=typeof WeakSet=="function"?WeakSet:Set,Te=null;function au(o,u){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Mt(o,u,g)}else d.current=null}function oy(o,u,d){try{d()}catch(g){Mt(o,u,g)}}var vS=!1;function R3(o,u){if(vg=Ri,o=XT(),cg(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var x=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var M=0,U=-1,z=-1,te=0,de=0,pe=o,le=null;t:for(;;){for(var be;pe!==d||x!==0&&pe.nodeType!==3||(U=M+x),pe!==w||g!==0&&pe.nodeType!==3||(z=M+g),pe.nodeType===3&&(M+=pe.nodeValue.length),(be=pe.firstChild)!==null;)le=pe,pe=be;for(;;){if(pe===o)break t;if(le===d&&++te===x&&(U=M),le===w&&++de===g&&(z=M),(be=pe.nextSibling)!==null)break;pe=le,le=pe.parentNode}pe=be}d=U===-1||z===-1?null:{start:U,end:z}}else d=null}d=d||{start:0,end:0}}else d=null;for(xg={focusedElem:o,selectionRange:d},Ri=!1,Te=u;Te!==null;)if(u=Te,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Te=o;else for(;Te!==null;){u=Te;try{var Se=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ae=Se.memoizedProps,Vt=Se.memoizedState,Y=u.stateNode,H=Y.getSnapshotBeforeUpdate(u.elementType===u.type?Ae:kr(u.type,Ae),Vt);Y.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=u.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ye){Mt(u,u.return,ye)}if(o=u.sibling,o!==null){o.return=u.return,Te=o;break}Te=u.return}return Se=vS,vS=!1,Se}function ic(o,u,d){var g=u.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&o)===o){var w=x.destroy;x.destroy=void 0,w!==void 0&&oy(u,d,w)}x=x.next}while(x!==g)}}function Hd(o,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&o)===o){var g=d.create;d.destroy=g()}d=d.next}while(d!==u)}}function sy(o){var u=o.ref;if(u!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof u=="function"?u(o):u.current=o}}function xS(o){var u=o.alternate;u!==null&&(o.alternate=null,xS(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&(delete u[oi],delete u[Gl],delete u[Tg],delete u[g3],delete u[y3])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function bS(o){return o.tag===5||o.tag===3||o.tag===4}function _S(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||bS(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function uy(o,u,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,u?d.nodeType===8?d.parentNode.insertBefore(o,u):d.insertBefore(o,u):(d.nodeType===8?(u=d.parentNode,u.insertBefore(o,d)):(u=d,u.appendChild(o)),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Td));else if(g!==4&&(o=o.child,o!==null))for(uy(o,u,d),o=o.sibling;o!==null;)uy(o,u,d),o=o.sibling}function ly(o,u,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,u?d.insertBefore(o,u):d.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(ly(o,u,d),o=o.sibling;o!==null;)ly(o,u,d),o=o.sibling}var mn=null,Nr=!1;function Da(o,u,d){for(d=d.child;d!==null;)wS(o,u,d),d=d.sibling}function wS(o,u,d){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(_o,d)}catch{}switch(d.tag){case 5:An||au(d,u);case 6:var g=mn,x=Nr;mn=null,Da(o,u,d),mn=g,Nr=x,mn!==null&&(Nr?(o=mn,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):mn.removeChild(d.stateNode));break;case 18:mn!==null&&(Nr?(o=mn,d=d.stateNode,o.nodeType===8?wg(o.parentNode,d):o.nodeType===1&&wg(o,d),Sa(o)):wg(mn,d.stateNode));break;case 4:g=mn,x=Nr,mn=d.stateNode.containerInfo,Nr=!0,Da(o,u,d),mn=g,Nr=x;break;case 0:case 11:case 14:case 15:if(!An&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var w=x,M=w.destroy;w=w.tag,M!==void 0&&((w&2)!==0||(w&4)!==0)&&oy(d,u,M),x=x.next}while(x!==g)}Da(o,u,d);break;case 1:if(!An&&(au(d,u),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(U){Mt(d,u,U)}Da(o,u,d);break;case 21:Da(o,u,d);break;case 22:d.mode&1?(An=(g=An)||d.memoizedState!==null,Da(o,u,d),An=g):Da(o,u,d);break;default:Da(o,u,d)}}function TS(o){var u=o.updateQueue;if(u!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new j3),u.forEach(function(g){var x=q3.bind(null,o,g);d.has(g)||(d.add(g),g.then(x,x))})}}function jr(o,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var x=d[g];try{var w=o,M=u,U=M;e:for(;U!==null;){switch(U.tag){case 5:mn=U.stateNode,Nr=!1;break e;case 3:mn=U.stateNode.containerInfo,Nr=!0;break e;case 4:mn=U.stateNode.containerInfo,Nr=!0;break e}U=U.return}if(mn===null)throw Error(n(160));wS(w,M,x),mn=null,Nr=!1;var z=x.alternate;z!==null&&(z.return=null),x.return=null}catch(te){Mt(x,u,te)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)ES(u,o),u=u.sibling}function ES(o,u){var d=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(jr(u,o),li(o),g&4){try{ic(3,o,o.return),Hd(3,o)}catch(Ae){Mt(o,o.return,Ae)}try{ic(5,o,o.return)}catch(Ae){Mt(o,o.return,Ae)}}break;case 1:jr(u,o),li(o),g&512&&d!==null&&au(d,d.return);break;case 5:if(jr(u,o),li(o),g&512&&d!==null&&au(d,d.return),o.flags&32){var x=o.stateNode;try{go(x,"")}catch(Ae){Mt(o,o.return,Ae)}}if(g&4&&(x=o.stateNode,x!=null)){var w=o.memoizedProps,M=d!==null?d.memoizedProps:w,U=o.type,z=o.updateQueue;if(o.updateQueue=null,z!==null)try{U==="input"&&w.type==="radio"&&w.name!=null&&yt(x,w),As(U,M);var te=As(U,w);for(M=0;M<z.length;M+=2){var de=z[M],pe=z[M+1];de==="style"?Ss(x,pe):de==="dangerouslySetInnerHTML"?Xf(x,pe):de==="children"?go(x,pe):D(x,de,pe,te)}switch(U){case"input":Rt(x,w);break;case"textarea":mo(x,w);break;case"select":var le=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!w.multiple;var be=w.value;be!=null?Yt(x,!!w.multiple,be,!1):le!==!!w.multiple&&(w.defaultValue!=null?Yt(x,!!w.multiple,w.defaultValue,!0):Yt(x,!!w.multiple,w.multiple?[]:"",!1))}x[Gl]=w}catch(Ae){Mt(o,o.return,Ae)}}break;case 6:if(jr(u,o),li(o),g&4){if(o.stateNode===null)throw Error(n(162));x=o.stateNode,w=o.memoizedProps;try{x.nodeValue=w}catch(Ae){Mt(o,o.return,Ae)}}break;case 3:if(jr(u,o),li(o),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Sa(u.containerInfo)}catch(Ae){Mt(o,o.return,Ae)}break;case 4:jr(u,o),li(o);break;case 13:jr(u,o),li(o),x=o.child,x.flags&8192&&(w=x.memoizedState!==null,x.stateNode.isHidden=w,!w||x.alternate!==null&&x.alternate.memoizedState!==null||(dy=_t())),g&4&&TS(o);break;case 22:if(de=d!==null&&d.memoizedState!==null,o.mode&1?(An=(te=An)||de,jr(u,o),An=te):jr(u,o),li(o),g&8192){if(te=o.memoizedState!==null,(o.stateNode.isHidden=te)&&!de&&(o.mode&1)!==0)for(Te=o,de=o.child;de!==null;){for(pe=Te=de;Te!==null;){switch(le=Te,be=le.child,le.tag){case 0:case 11:case 14:case 15:ic(4,le,le.return);break;case 1:au(le,le.return);var Se=le.stateNode;if(typeof Se.componentWillUnmount=="function"){g=le,d=le.return;try{u=g,Se.props=u.memoizedProps,Se.state=u.memoizedState,Se.componentWillUnmount()}catch(Ae){Mt(g,d,Ae)}}break;case 5:au(le,le.return);break;case 22:if(le.memoizedState!==null){IS(pe);continue}}be!==null?(be.return=le,Te=be):IS(pe)}de=de.sibling}e:for(de=null,pe=o;;){if(pe.tag===5){if(de===null){de=pe;try{x=pe.stateNode,te?(w=x.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(U=pe.stateNode,z=pe.memoizedProps.style,M=z!=null&&z.hasOwnProperty("display")?z.display:null,U.style.display=ga("display",M))}catch(Ae){Mt(o,o.return,Ae)}}}else if(pe.tag===6){if(de===null)try{pe.stateNode.nodeValue=te?"":pe.memoizedProps}catch(Ae){Mt(o,o.return,Ae)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===o)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===o)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===o)break e;de===pe&&(de=null),pe=pe.return}de===pe&&(de=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:jr(u,o),li(o),g&4&&TS(o);break;case 21:break;default:jr(u,o),li(o)}}function li(o){var u=o.flags;if(u&2){try{e:{for(var d=o.return;d!==null;){if(bS(d)){var g=d;break e}d=d.return}throw Error(n(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(go(x,""),g.flags&=-33);var w=_S(o);ly(o,w,x);break;case 3:case 4:var M=g.stateNode.containerInfo,U=_S(o);uy(o,U,M);break;default:throw Error(n(161))}}catch(z){Mt(o,o.return,z)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function D3(o,u,d){Te=o,SS(o)}function SS(o,u,d){for(var g=(o.mode&1)!==0;Te!==null;){var x=Te,w=x.child;if(x.tag===22&&g){var M=x.memoizedState!==null||Wd;if(!M){var U=x.alternate,z=U!==null&&U.memoizedState!==null||An;U=Wd;var te=An;if(Wd=M,(An=z)&&!te)for(Te=x;Te!==null;)M=Te,z=M.child,M.tag===22&&M.memoizedState!==null?PS(x):z!==null?(z.return=M,Te=z):PS(x);for(;w!==null;)Te=w,SS(w),w=w.sibling;Te=x,Wd=U,An=te}AS(o)}else(x.subtreeFlags&8772)!==0&&w!==null?(w.return=x,Te=w):AS(o)}}function AS(o){for(;Te!==null;){var u=Te;if((u.flags&8772)!==0){var d=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:An||Hd(5,u);break;case 1:var g=u.stateNode;if(u.flags&4&&!An)if(d===null)g.componentDidMount();else{var x=u.elementType===u.type?d.memoizedProps:kr(u.type,d.memoizedProps);g.componentDidUpdate(x,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var w=u.updateQueue;w!==null&&IE(u,w,g);break;case 3:var M=u.updateQueue;if(M!==null){if(d=null,u.child!==null)switch(u.child.tag){case 5:d=u.child.stateNode;break;case 1:d=u.child.stateNode}IE(u,M,d)}break;case 5:var U=u.stateNode;if(d===null&&u.flags&4){d=U;var z=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&d.focus();break;case"img":z.src&&(d.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var te=u.alternate;if(te!==null){var de=te.memoizedState;if(de!==null){var pe=de.dehydrated;pe!==null&&Sa(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}An||u.flags&512&&sy(u)}catch(le){Mt(u,u.return,le)}}if(u===o){Te=null;break}if(d=u.sibling,d!==null){d.return=u.return,Te=d;break}Te=u.return}}function IS(o){for(;Te!==null;){var u=Te;if(u===o){Te=null;break}var d=u.sibling;if(d!==null){d.return=u.return,Te=d;break}Te=u.return}}function PS(o){for(;Te!==null;){var u=Te;try{switch(u.tag){case 0:case 11:case 15:var d=u.return;try{Hd(4,u)}catch(z){Mt(u,d,z)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var x=u.return;try{g.componentDidMount()}catch(z){Mt(u,x,z)}}var w=u.return;try{sy(u)}catch(z){Mt(u,w,z)}break;case 5:var M=u.return;try{sy(u)}catch(z){Mt(u,M,z)}}}catch(z){Mt(u,u.return,z)}if(u===o){Te=null;break}var U=u.sibling;if(U!==null){U.return=u.return,Te=U;break}Te=u.return}}var M3=Math.ceil,Gd=C.ReactCurrentDispatcher,cy=C.ReactCurrentOwner,pr=C.ReactCurrentBatchConfig,Ze=0,sn=null,Ut=null,gn=0,rr=0,ou=Ca(0),Qt=0,ac=null,Lo=0,Kd=0,fy=0,oc=null,Fn=null,dy=0,su=1/0,zi=null,Yd=!1,hy=null,Ma=null,Xd=!1,La=null,Qd=0,sc=0,py=null,Jd=-1,Zd=0;function Dn(){return(Ze&6)!==0?_t():Jd!==-1?Jd:Jd=_t()}function $a(o){return(o.mode&1)===0?1:(Ze&2)!==0&&gn!==0?gn&-gn:x3.transition!==null?(Zd===0&&(Zd=Pl()),Zd):(o=Qe,o!==0||(o=window.event,o=o===void 0?16:Ms(o.type)),o)}function Rr(o,u,d,g){if(50<sc)throw sc=0,py=null,Error(n(185));So(o,d,g),((Ze&2)===0||o!==sn)&&(o===sn&&((Ze&2)===0&&(Kd|=d),Qt===4&&Va(o,gn)),Un(o,g),d===1&&Ze===0&&(u.mode&1)===0&&(su=_t()+500,Id&&Na()))}function Un(o,u){var d=o.callbackNode;Eo(o,u);var g=ki(o,o===sn?gn:0);if(g===0)d!==null&&Os(d),o.callbackNode=null,o.callbackPriority=0;else if(u=g&-g,o.callbackPriority!==u){if(d!=null&&Os(d),u===1)o.tag===0?v3(CS.bind(null,o)):mE(CS.bind(null,o)),p3(function(){(Ze&6)===0&&Na()}),d=null;else{switch(Xr(g)){case 1:d=Cs;break;case 4:d=Sl;break;case 16:d=bo;break;case 536870912:d=ks;break;default:d=bo}d=$S(d,OS.bind(null,o))}o.callbackPriority=u,o.callbackNode=d}}function OS(o,u){if(Jd=-1,Zd=0,(Ze&6)!==0)throw Error(n(327));var d=o.callbackNode;if(uu()&&o.callbackNode!==d)return null;var g=ki(o,o===sn?gn:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||u)u=eh(o,g);else{u=g;var x=Ze;Ze|=2;var w=NS();(sn!==o||gn!==u)&&(zi=null,su=_t()+500,Vo(o,u));do try{V3();break}catch(U){kS(o,U)}while(!0);Ng(),Gd.current=w,Ze=x,Ut!==null?u=0:(sn=null,gn=0,u=Qt)}if(u!==0){if(u===2&&(x=Il(o),x!==0&&(g=x,u=my(o,x))),u===1)throw d=ac,Vo(o,0),Va(o,g),Un(o,_t()),d;if(u===6)Va(o,g);else{if(x=o.current.alternate,(g&30)===0&&!L3(x)&&(u=eh(o,g),u===2&&(w=Il(o),w!==0&&(g=w,u=my(o,w))),u===1))throw d=ac,Vo(o,0),Va(o,g),Un(o,_t()),d;switch(o.finishedWork=x,o.finishedLanes=g,u){case 0:case 1:throw Error(n(345));case 2:Bo(o,Fn,zi);break;case 3:if(Va(o,g),(g&130023424)===g&&(u=dy+500-_t(),10<u)){if(ki(o,0)!==0)break;if(x=o.suspendedLanes,(x&g)!==g){Dn(),o.pingedLanes|=o.suspendedLanes&x;break}o.timeoutHandle=_g(Bo.bind(null,o,Fn,zi),u);break}Bo(o,Fn,zi);break;case 4:if(Va(o,g),(g&4194240)===g)break;for(u=o.eventTimes,x=-1;0<g;){var M=31-Xn(g);w=1<<M,M=u[M],M>x&&(x=M),g&=~w}if(g=x,g=_t()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*M3(g/1960))-g,10<g){o.timeoutHandle=_g(Bo.bind(null,o,Fn,zi),g);break}Bo(o,Fn,zi);break;case 5:Bo(o,Fn,zi);break;default:throw Error(n(329))}}}return Un(o,_t()),o.callbackNode===d?OS.bind(null,o):null}function my(o,u){var d=oc;return o.current.memoizedState.isDehydrated&&(Vo(o,u).flags|=256),o=eh(o,u),o!==2&&(u=Fn,Fn=d,u!==null&&gy(u)),o}function gy(o){Fn===null?Fn=o:Fn.push.apply(Fn,o)}function L3(o){for(var u=o;;){if(u.flags&16384){var d=u.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var x=d[g],w=x.getSnapshot;x=x.value;try{if(!Or(w(),x))return!1}catch{return!1}}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Va(o,u){for(u&=~fy,u&=~Kd,o.suspendedLanes|=u,o.pingedLanes&=~u,o=o.expirationTimes;0<u;){var d=31-Xn(u),g=1<<d;o[d]=-1,u&=~g}}function CS(o){if((Ze&6)!==0)throw Error(n(327));uu();var u=ki(o,0);if((u&1)===0)return Un(o,_t()),null;var d=eh(o,u);if(o.tag!==0&&d===2){var g=Il(o);g!==0&&(u=g,d=my(o,g))}if(d===1)throw d=ac,Vo(o,0),Va(o,u),Un(o,_t()),d;if(d===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=u,Bo(o,Fn,zi),Un(o,_t()),null}function yy(o,u){var d=Ze;Ze|=1;try{return o(u)}finally{Ze=d,Ze===0&&(su=_t()+500,Id&&Na())}}function $o(o){La!==null&&La.tag===0&&(Ze&6)===0&&uu();var u=Ze;Ze|=1;var d=pr.transition,g=Qe;try{if(pr.transition=null,Qe=1,o)return o()}finally{Qe=g,pr.transition=d,Ze=u,(Ze&6)===0&&Na()}}function vy(){rr=ou.current,Tt(ou)}function Vo(o,u){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,h3(d)),Ut!==null)for(d=Ut.return;d!==null;){var g=d;switch(Ig(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Sd();break;case 3:ru(),Tt($n),Tt(Tn),Bg();break;case 5:$g(g);break;case 4:ru();break;case 13:Tt(Ct);break;case 19:Tt(Ct);break;case 10:jg(g.type._context);break;case 22:case 23:vy()}d=d.return}if(sn=o,Ut=o=Ba(o.current,null),gn=rr=u,Qt=0,ac=null,fy=Kd=Lo=0,Fn=oc=null,Ro!==null){for(u=0;u<Ro.length;u++)if(d=Ro[u],g=d.interleaved,g!==null){d.interleaved=null;var x=g.next,w=d.pending;if(w!==null){var M=w.next;w.next=x,g.next=M}d.pending=g}Ro=null}return o}function kS(o,u){do{var d=Ut;try{if(Ng(),Ld.current=Fd,$d){for(var g=kt.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}$d=!1}if(Mo=0,on=Xt=kt=null,Zl=!1,ec=0,cy.current=null,d===null||d.return===null){Qt=1,ac=u,Ut=null;break}e:{var w=o,M=d.return,U=d,z=u;if(u=gn,U.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var te=z,de=U,pe=de.tag;if((de.mode&1)===0&&(pe===0||pe===11||pe===15)){var le=de.alternate;le?(de.updateQueue=le.updateQueue,de.memoizedState=le.memoizedState,de.lanes=le.lanes):(de.updateQueue=null,de.memoizedState=null)}var be=nS(M);if(be!==null){be.flags&=-257,rS(be,M,U,w,u),be.mode&1&&tS(w,te,u),u=be,z=te;var Se=u.updateQueue;if(Se===null){var Ae=new Set;Ae.add(z),u.updateQueue=Ae}else Se.add(z);break e}else{if((u&1)===0){tS(w,te,u),xy();break e}z=Error(n(426))}}else if(Pt&&U.mode&1){var Vt=nS(M);if(Vt!==null){(Vt.flags&65536)===0&&(Vt.flags|=256),rS(Vt,M,U,w,u),Cg(iu(z,U));break e}}w=z=iu(z,U),Qt!==4&&(Qt=2),oc===null?oc=[w]:oc.push(w),w=M;do{switch(w.tag){case 3:w.flags|=65536,u&=-u,w.lanes|=u;var Y=ZE(w,z,u);AE(w,Y);break e;case 1:U=z;var H=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Ma===null||!Ma.has(J)))){w.flags|=65536,u&=-u,w.lanes|=u;var ye=eS(w,U,u);AE(w,ye);break e}}w=w.return}while(w!==null)}RS(d)}catch(Ie){u=Ie,Ut===d&&d!==null&&(Ut=d=d.return);continue}break}while(!0)}function NS(){var o=Gd.current;return Gd.current=Fd,o===null?Fd:o}function xy(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),sn===null||(Lo&268435455)===0&&(Kd&268435455)===0||Va(sn,gn)}function eh(o,u){var d=Ze;Ze|=2;var g=NS();(sn!==o||gn!==u)&&(zi=null,Vo(o,u));do try{$3();break}catch(x){kS(o,x)}while(!0);if(Ng(),Ze=d,Gd.current=g,Ut!==null)throw Error(n(261));return sn=null,gn=0,Qt}function $3(){for(;Ut!==null;)jS(Ut)}function V3(){for(;Ut!==null&&!xo();)jS(Ut)}function jS(o){var u=LS(o.alternate,o,rr);o.memoizedProps=o.pendingProps,u===null?RS(o):Ut=u,cy.current=null}function RS(o){var u=o;do{var d=u.alternate;if(o=u.return,(u.flags&32768)===0){if(d=k3(d,u,rr),d!==null){Ut=d;return}}else{if(d=N3(d,u),d!==null){d.flags&=32767,Ut=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Qt=6,Ut=null;return}}if(u=u.sibling,u!==null){Ut=u;return}Ut=u=o}while(u!==null);Qt===0&&(Qt=5)}function Bo(o,u,d){var g=Qe,x=pr.transition;try{pr.transition=null,Qe=1,B3(o,u,d,g)}finally{pr.transition=x,Qe=g}return null}function B3(o,u,d,g){do uu();while(La!==null);if((Ze&6)!==0)throw Error(n(327));d=o.finishedWork;var x=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var w=d.lanes|d.childLanes;if(ag(o,w),o===sn&&(Ut=sn=null,gn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Xd||(Xd=!0,$S(bo,function(){return uu(),null})),w=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||w){w=pr.transition,pr.transition=null;var M=Qe;Qe=1;var U=Ze;Ze|=4,cy.current=null,R3(o,d),ES(d,o),o3(xg),Ri=!!vg,xg=vg=null,o.current=d,D3(d),Ci(),Ze=U,Qe=M,pr.transition=w}else o.current=d;if(Xd&&(Xd=!1,La=o,Qd=x),w=o.pendingLanes,w===0&&(Ma=null),sd(d.stateNode),Un(o,_t()),u!==null)for(g=o.onRecoverableError,d=0;d<u.length;d++)x=u[d],g(x.value,{componentStack:x.stack,digest:x.digest});if(Yd)throw Yd=!1,o=hy,hy=null,o;return(Qd&1)!==0&&o.tag!==0&&uu(),w=o.pendingLanes,(w&1)!==0?o===py?sc++:(sc=0,py=o):sc=0,Na(),null}function uu(){if(La!==null){var o=Xr(Qd),u=pr.transition,d=Qe;try{if(pr.transition=null,Qe=16>o?16:o,La===null)var g=!1;else{if(o=La,La=null,Qd=0,(Ze&6)!==0)throw Error(n(331));var x=Ze;for(Ze|=4,Te=o.current;Te!==null;){var w=Te,M=w.child;if((Te.flags&16)!==0){var U=w.deletions;if(U!==null){for(var z=0;z<U.length;z++){var te=U[z];for(Te=te;Te!==null;){var de=Te;switch(de.tag){case 0:case 11:case 15:ic(8,de,w)}var pe=de.child;if(pe!==null)pe.return=de,Te=pe;else for(;Te!==null;){de=Te;var le=de.sibling,be=de.return;if(xS(de),de===te){Te=null;break}if(le!==null){le.return=be,Te=le;break}Te=be}}}var Se=w.alternate;if(Se!==null){var Ae=Se.child;if(Ae!==null){Se.child=null;do{var Vt=Ae.sibling;Ae.sibling=null,Ae=Vt}while(Ae!==null)}}Te=w}}if((w.subtreeFlags&2064)!==0&&M!==null)M.return=w,Te=M;else e:for(;Te!==null;){if(w=Te,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:ic(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,Te=Y;break e}Te=w.return}}var H=o.current;for(Te=H;Te!==null;){M=Te;var J=M.child;if((M.subtreeFlags&2064)!==0&&J!==null)J.return=M,Te=J;else e:for(M=H;Te!==null;){if(U=Te,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Hd(9,U)}}catch(Ie){Mt(U,U.return,Ie)}if(U===M){Te=null;break e}var ye=U.sibling;if(ye!==null){ye.return=U.return,Te=ye;break e}Te=U.return}}if(Ze=x,Na(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(_o,o)}catch{}g=!0}return g}finally{Qe=d,pr.transition=u}}return!1}function DS(o,u,d){u=iu(d,u),u=ZE(o,u,1),o=Ra(o,u,1),u=Dn(),o!==null&&(So(o,1,u),Un(o,u))}function Mt(o,u,d){if(o.tag===3)DS(o,o,d);else for(;u!==null;){if(u.tag===3){DS(u,o,d);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ma===null||!Ma.has(g))){o=iu(d,o),o=eS(u,o,1),u=Ra(u,o,1),o=Dn(),u!==null&&(So(u,1,o),Un(u,o));break}}u=u.return}}function F3(o,u,d){var g=o.pingCache;g!==null&&g.delete(u),u=Dn(),o.pingedLanes|=o.suspendedLanes&d,sn===o&&(gn&d)===d&&(Qt===4||Qt===3&&(gn&130023424)===gn&&500>_t()-dy?Vo(o,0):fy|=d),Un(o,u)}function MS(o,u){u===0&&((o.mode&1)===0?u=1:(u=wa,wa<<=1,(wa&130023424)===0&&(wa=4194304)));var d=Dn();o=Fi(o,u),o!==null&&(So(o,u,d),Un(o,d))}function U3(o){var u=o.memoizedState,d=0;u!==null&&(d=u.retryLane),MS(o,d)}function q3(o,u){var d=0;switch(o.tag){case 13:var g=o.stateNode,x=o.memoizedState;x!==null&&(d=x.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(u),MS(o,d)}var LS;LS=function(o,u,d){if(o!==null)if(o.memoizedProps!==u.pendingProps||$n.current)Bn=!0;else{if((o.lanes&d)===0&&(u.flags&128)===0)return Bn=!1,C3(o,u,d);Bn=(o.flags&131072)!==0}else Bn=!1,Pt&&(u.flags&1048576)!==0&&gE(u,Od,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;zd(o,u),o=u.pendingProps;var x=Xs(u,Tn.current);nu(u,d),x=qg(null,u,g,o,x,d);var w=zg();return u.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Vn(g)?(w=!0,Ad(u)):w=!1,u.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Mg(u),x.updater=Ud,u.stateNode=x,x._reactInternals=u,Xg(u,g,o,d),u=ey(null,u,g,!0,w,d)):(u.tag=0,Pt&&w&&Ag(u),Rn(null,u,x,d),u=u.child),u;case 16:g=u.elementType;e:{switch(zd(o,u),o=u.pendingProps,x=g._init,g=x(g._payload),u.type=g,x=u.tag=W3(g),o=kr(g,o),x){case 0:u=Zg(null,u,g,o,d);break e;case 1:u=lS(null,u,g,o,d);break e;case 11:u=iS(null,u,g,o,d);break e;case 14:u=aS(null,u,g,kr(g.type,o),d);break e}throw Error(n(306,g,""))}return u;case 0:return g=u.type,x=u.pendingProps,x=u.elementType===g?x:kr(g,x),Zg(o,u,g,x,d);case 1:return g=u.type,x=u.pendingProps,x=u.elementType===g?x:kr(g,x),lS(o,u,g,x,d);case 3:e:{if(cS(u),o===null)throw Error(n(387));g=u.pendingProps,w=u.memoizedState,x=w.element,SE(o,u),Dd(u,g,null,d);var M=u.memoizedState;if(g=M.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},u.updateQueue.baseState=w,u.memoizedState=w,u.flags&256){x=iu(Error(n(423)),u),u=fS(o,u,g,d,x);break e}else if(g!==x){x=iu(Error(n(424)),u),u=fS(o,u,g,d,x);break e}else for(nr=Oa(u.stateNode.containerInfo.firstChild),tr=u,Pt=!0,Cr=null,d=TE(u,null,g,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Zs(),g===x){u=qi(o,u,d);break e}Rn(o,u,g,d)}u=u.child}return u;case 5:return PE(u),o===null&&Og(u),g=u.type,x=u.pendingProps,w=o!==null?o.memoizedProps:null,M=x.children,bg(g,x)?M=null:w!==null&&bg(g,w)&&(u.flags|=32),uS(o,u),Rn(o,u,M,d),u.child;case 6:return o===null&&Og(u),null;case 13:return dS(o,u,d);case 4:return Lg(u,u.stateNode.containerInfo),g=u.pendingProps,o===null?u.child=eu(u,null,g,d):Rn(o,u,g,d),u.child;case 11:return g=u.type,x=u.pendingProps,x=u.elementType===g?x:kr(g,x),iS(o,u,g,x,d);case 7:return Rn(o,u,u.pendingProps,d),u.child;case 8:return Rn(o,u,u.pendingProps.children,d),u.child;case 12:return Rn(o,u,u.pendingProps.children,d),u.child;case 10:e:{if(g=u.type._context,x=u.pendingProps,w=u.memoizedProps,M=x.value,xt(Nd,g._currentValue),g._currentValue=M,w!==null)if(Or(w.value,M)){if(w.children===x.children&&!$n.current){u=qi(o,u,d);break e}}else for(w=u.child,w!==null&&(w.return=u);w!==null;){var U=w.dependencies;if(U!==null){M=w.child;for(var z=U.firstContext;z!==null;){if(z.context===g){if(w.tag===1){z=Ui(-1,d&-d),z.tag=2;var te=w.updateQueue;if(te!==null){te=te.shared;var de=te.pending;de===null?z.next=z:(z.next=de.next,de.next=z),te.pending=z}}w.lanes|=d,z=w.alternate,z!==null&&(z.lanes|=d),Rg(w.return,d,u),U.lanes|=d;break}z=z.next}}else if(w.tag===10)M=w.type===u.type?null:w.child;else if(w.tag===18){if(M=w.return,M===null)throw Error(n(341));M.lanes|=d,U=M.alternate,U!==null&&(U.lanes|=d),Rg(M,d,u),M=w.sibling}else M=w.child;if(M!==null)M.return=w;else for(M=w;M!==null;){if(M===u){M=null;break}if(w=M.sibling,w!==null){w.return=M.return,M=w;break}M=M.return}w=M}Rn(o,u,x.children,d),u=u.child}return u;case 9:return x=u.type,g=u.pendingProps.children,nu(u,d),x=dr(x),g=g(x),u.flags|=1,Rn(o,u,g,d),u.child;case 14:return g=u.type,x=kr(g,u.pendingProps),x=kr(g.type,x),aS(o,u,g,x,d);case 15:return oS(o,u,u.type,u.pendingProps,d);case 17:return g=u.type,x=u.pendingProps,x=u.elementType===g?x:kr(g,x),zd(o,u),u.tag=1,Vn(g)?(o=!0,Ad(u)):o=!1,nu(u,d),QE(u,g,x),Xg(u,g,x,d),ey(null,u,g,!0,o,d);case 19:return pS(o,u,d);case 22:return sS(o,u,d)}throw Error(n(156,u.tag))};function $S(o,u){return El(o,u)}function z3(o,u,d,g){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(o,u,d,g){return new z3(o,u,d,g)}function by(o){return o=o.prototype,!(!o||!o.isReactComponent)}function W3(o){if(typeof o=="function")return by(o)?1:0;if(o!=null){if(o=o.$$typeof,o===V)return 11;if(o===ee)return 14}return 2}function Ba(o,u){var d=o.alternate;return d===null?(d=mr(o.tag,u,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=u,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,u=o.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function th(o,u,d,g,x,w){var M=2;if(g=o,typeof o=="function")by(o)&&(M=1);else if(typeof o=="string")M=5;else e:switch(o){case A:return Fo(d.children,x,w,u);case P:M=8,x|=8;break;case j:return o=mr(12,d,u,x|2),o.elementType=j,o.lanes=w,o;case L:return o=mr(13,d,u,x),o.elementType=L,o.lanes=w,o;case Z:return o=mr(19,d,u,x),o.elementType=Z,o.lanes=w,o;case se:return nh(d,x,w,u);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case B:M=10;break e;case $:M=9;break e;case V:M=11;break e;case ee:M=14;break e;case oe:M=16,g=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return u=mr(M,d,u,x),u.elementType=o,u.type=g,u.lanes=w,u}function Fo(o,u,d,g){return o=mr(7,o,g,u),o.lanes=d,o}function nh(o,u,d,g){return o=mr(22,o,g,u),o.elementType=se,o.lanes=d,o.stateNode={isHidden:!1},o}function _y(o,u,d){return o=mr(6,o,null,u),o.lanes=d,o}function wy(o,u,d){return u=mr(4,o.children!==null?o.children:[],o.key,u),u.lanes=d,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function H3(o,u,d,g,x){this.tag=u,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ol(0),this.expirationTimes=Ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ol(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Ty(o,u,d,g,x,w,M,U,z){return o=new H3(o,u,d,U,z),u===1?(u=1,w===!0&&(u|=8)):u=0,w=mr(3,null,null,u),o.current=w,w.stateNode=o,w.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mg(w),o}function G3(o,u,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:g==null?null:""+g,children:o,containerInfo:u,implementation:d}}function VS(o){if(!o)return ka;o=o._reactInternals;e:{if(Ir(o)!==o||o.tag!==1)throw Error(n(170));var u=o;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Vn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(o.tag===1){var d=o.type;if(Vn(d))return hE(o,d,u)}return u}function BS(o,u,d,g,x,w,M,U,z){return o=Ty(d,g,!0,o,x,w,M,U,z),o.context=VS(null),d=o.current,g=Dn(),x=$a(d),w=Ui(g,x),w.callback=u??null,Ra(d,w,x),o.current.lanes=x,So(o,x,g),Un(o,g),o}function rh(o,u,d,g){var x=u.current,w=Dn(),M=$a(x);return d=VS(d),u.context===null?u.context=d:u.pendingContext=d,u=Ui(w,M),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Ra(x,u,M),o!==null&&(Rr(o,x,M,w),Rd(o,x,M)),M}function ih(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function FS(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<u?d:u}}function Ey(o,u){FS(o,u),(o=o.alternate)&&FS(o,u)}function K3(){return null}var US=typeof reportError=="function"?reportError:function(o){console.error(o)};function Sy(o){this._internalRoot=o}ah.prototype.render=Sy.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(n(409));rh(o,u,null,null)},ah.prototype.unmount=Sy.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;$o(function(){rh(null,o,null,null)}),u[Li]=null}};function ah(o){this._internalRoot=o}ah.prototype.unstable_scheduleHydration=function(o){if(o){var u=jl();o={blockedOn:null,target:o,priority:u};for(var d=0;d<Qn.length&&u!==0&&u<Qn[d].priority;d++);Qn.splice(d,0,o),d===0&&Rs(o)}};function Ay(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function oh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function qS(){}function Y3(o,u,d,g,x){if(x){if(typeof g=="function"){var w=g;g=function(){var te=ih(M);w.call(te)}}var M=BS(u,g,o,0,null,!1,!1,"",qS);return o._reactRootContainer=M,o[Li]=M.current,Wl(o.nodeType===8?o.parentNode:o),$o(),M}for(;x=o.lastChild;)o.removeChild(x);if(typeof g=="function"){var U=g;g=function(){var te=ih(z);U.call(te)}}var z=Ty(o,0,!1,null,null,!1,!1,"",qS);return o._reactRootContainer=z,o[Li]=z.current,Wl(o.nodeType===8?o.parentNode:o),$o(function(){rh(u,z,d,g)}),z}function sh(o,u,d,g,x){var w=d._reactRootContainer;if(w){var M=w;if(typeof x=="function"){var U=x;x=function(){var z=ih(M);U.call(z)}}rh(u,M,o,x)}else M=Y3(d,u,o,x,g);return ih(M)}kl=function(o){switch(o.tag){case 3:var u=o.stateNode;if(u.current.memoizedState.isDehydrated){var d=it(u.pendingLanes);d!==0&&(Cl(u,d|1),Un(u,_t()),(Ze&6)===0&&(su=_t()+500,Na()))}break;case 13:$o(function(){var g=Fi(o,1);if(g!==null){var x=Dn();Rr(g,o,1,x)}}),Ey(o,1)}},Ns=function(o){if(o.tag===13){var u=Fi(o,134217728);if(u!==null){var d=Dn();Rr(u,o,134217728,d)}Ey(o,134217728)}},Nl=function(o){if(o.tag===13){var u=$a(o),d=Fi(o,u);if(d!==null){var g=Dn();Rr(d,o,u,g)}Ey(o,u)}},jl=function(){return Qe},Rl=function(o,u){var d=Qe;try{return Qe=o,u()}finally{Qe=d}},Ii=function(o,u,d){switch(u){case"input":if(Rt(o,d),u=d.name,d.type==="radio"&&u!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<d.length;u++){var g=d[u];if(g!==o&&g.form===o.form){var x=Ed(g);if(!x)throw Error(n(90));ce(g),Rt(g,x)}}}break;case"textarea":mo(o,d);break;case"select":u=d.value,u!=null&&Yt(o,!!d.multiple,u,!1)}},Jf=yy,Zf=$o;var X3={usingClientEntryPoint:!1,Events:[Kl,Ks,Ed,va,xa,yy]},uc={findFiberByHostInstance:Co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q3={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=od(o),o===null?null:o.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||K3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{_o=uh.inject(Q3),Yn=uh}catch{}}return qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X3,qn.createPortal=function(o,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ay(u))throw Error(n(200));return G3(o,u,null,d)},qn.createRoot=function(o,u){if(!Ay(o))throw Error(n(299));var d=!1,g="",x=US;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(x=u.onRecoverableError)),u=Ty(o,1,!1,null,null,d,!1,g,x),o[Li]=u.current,Wl(o.nodeType===8?o.parentNode:o),new Sy(u)},qn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=od(u),o=o===null?null:o.stateNode,o},qn.flushSync=function(o){return $o(o)},qn.hydrate=function(o,u,d){if(!oh(u))throw Error(n(200));return sh(null,o,u,!0,d)},qn.hydrateRoot=function(o,u,d){if(!Ay(o))throw Error(n(405));var g=d!=null&&d.hydratedSources||null,x=!1,w="",M=US;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(M=d.onRecoverableError)),u=BS(u,null,o,1,d??null,x,!1,w,M),o[Li]=u.current,Wl(o),g)for(o=0;o<g.length;o++)d=g[o],x=d._getVersion,x=x(d._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[d,x]:u.mutableSourceEagerHydrationData.push(d,x);return new ah(u)},qn.render=function(o,u,d){if(!oh(u))throw Error(n(200));return sh(null,o,u,!1,d)},qn.unmountComponentAtNode=function(o){if(!oh(o))throw Error(n(40));return o._reactRootContainer?($o(function(){sh(null,null,o,!1,function(){o._reactRootContainer=null,o[Li]=null})}),!0):!1},qn.unstable_batchedUpdates=yy,qn.unstable_renderSubtreeIntoContainer=function(o,u,d,g){if(!oh(d))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return sh(o,u,d,!1,g)},qn.version="18.3.1-next-f1338f8080-20240426",qn}var QS;function a$(){if(QS)return Oy.exports;QS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Oy.exports=i$(),Oy.exports}var JS;function o$(){if(JS)return ch;JS=1;var t=a$();return ch.createRoot=t.createRoot,ch.hydrateRoot=t.hydrateRoot,ch}var s$=o$();const u$=ht(s$),mj=W.createContext(null);function Kt(){const t=W.useContext(mj);if(!t)throw new Error("useTripContext must be used within a TripContext.Provider");return t}const l$=()=>{};var ZS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},c$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],l=t[n++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},yj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=a>>2,m=(a&3)<<4|l>>4;let y=(l&15)<<2|f>>6,b=f&63;c||(b=64,s||(y=64)),r.push(n[h],n[m],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):c$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||f==null||m==null)throw new f$;const y=a<<2|l>>4;if(r.push(y),f!==64){const b=l<<4&240|f>>2;if(r.push(b),m!==64){const S=f<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class f$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d$=function(t){const e=gj(t);return yj.encodeByteArray(e,!0)},Uh=function(t){return d$(t).replace(/\./g,"")},vj=function(t){try{return yj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=()=>h$().__FIREBASE_DEFAULTS__,m$=()=>{if(typeof process>"u"||typeof ZS>"u")return;const t=ZS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},g$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vj(t[1]);return e&&JSON.parse(e)},om=()=>{try{return l$()||p$()||m$()||g$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xj=t=>{var e,n;return(n=(e=om())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},y$=t=>{const e=xj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bj=()=>{var t;return(t=om())==null?void 0:t.config},_j=t=>{var e;return(e=om())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Uh(JSON.stringify(n)),Uh(JSON.stringify(s)),""].join(".")}const Oc={};function b$(){const t={prod:[],emulator:[]};for(const e of Object.keys(Oc))Oc[e]?t.emulator.push(e):t.prod.push(e);return t}function _$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let eA=!1;function Tj(t,e){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||Oc[t]===e||Oc[t]||eA)return;Oc[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=b$().prod.length>0;function s(){const y=document.getElementById(r);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{eA=!0,s()},y}function h(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=_$(r),b=n("text"),S=document.getElementById(b)||document.createElement("span"),E=n("learnmore"),_=document.getElementById(E)||document.createElement("a"),k=n("preprendIcon"),R=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const D=y.element;l(D),h(_,E);const C=f();c(R,k),D.append(R,S,_,C),document.body.appendChild(D)}a?(S.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function T$(){var e;const t=(e=om())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function S$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function A$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I$(){const t=jn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function P$(){return!T$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O$(){try{return typeof indexedDB=="object"}catch{return!1}}function C$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$="FirebaseError";class ca extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=k$,Object.setPrototypeOf(this,ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nf.prototype.create)}}class Nf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?N$(a,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new ca(i,l,r)}}function N$(t,e){return t.replace(j$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const j$=/\{\$([^}]+)}/g;function R$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function as(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(tA(a)&&tA(s)){if(!as(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function tA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function D$(t,e){const n=new M$(t,e);return n.subscribe.bind(n)}class M${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");L$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ny),i.error===void 0&&(i.error=Ny),i.complete===void 0&&(i.complete=Ny);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ny(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t){return t&&t._delegate?t._delegate:t}class os{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new v$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B$(e))try{this.getOrInitializeService({instanceIdentifier:qo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qo){return this.instances.has(e)}getOptions(e=qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:V$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qo){return this.component?this.component.multipleInstances?e:qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function V$(t){return t===qo?void 0:t}function B$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const U$={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},q$=Ke.INFO,z$={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},W$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=z$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lw{constructor(e){this.name=e,this._logLevel=q$,this._logHandler=W$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const H$=(t,e)=>e.some(n=>t instanceof n);let nA,rA;function G$(){return nA||(nA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K$(){return rA||(rA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ej=new WeakMap,Kb=new WeakMap,Sj=new WeakMap,jy=new WeakMap,$w=new WeakMap;function Y$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Xa(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Ej.set(n,t)}).catch(()=>{}),$w.set(e,t),e}function X$(t){if(Kb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});Kb.set(t,e)}let Yb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Sj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Q$(t){Yb=t(Yb)}function J$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ry(this),e,...n);return Sj.set(r,e.sort?e.sort():[e]),Xa(r)}:K$().includes(t)?function(...e){return t.apply(Ry(this),e),Xa(Ej.get(this))}:function(...e){return Xa(t.apply(Ry(this),e))}}function Z$(t){return typeof t=="function"?J$(t):(t instanceof IDBTransaction&&X$(t),H$(t,G$())?new Proxy(t,Yb):t)}function Xa(t){if(t instanceof IDBRequest)return Y$(t);if(jy.has(t))return jy.get(t);const e=Z$(t);return e!==t&&(jy.set(t,e),$w.set(e,t)),e}const Ry=t=>$w.get(t);function eV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),l=Xa(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Xa(s.result),c.oldVersion,c.newVersion,Xa(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const tV=["get","getKey","getAll","getAllKeys","count"],nV=["put","add","delete","clear"],Dy=new Map;function iA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dy.get(e))return Dy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tV.includes(n)))return;const a=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return Dy.set(e,a),a}Q$(t=>({...t,get:(e,n,r)=>iA(e,n)||t.get(e,n,r),has:(e,n)=>!!iA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xb="@firebase/app",aA="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Lw("@firebase/app"),aV="@firebase/app-compat",oV="@firebase/analytics-compat",sV="@firebase/analytics",uV="@firebase/app-check-compat",lV="@firebase/app-check",cV="@firebase/auth",fV="@firebase/auth-compat",dV="@firebase/database",hV="@firebase/data-connect",pV="@firebase/database-compat",mV="@firebase/functions",gV="@firebase/functions-compat",yV="@firebase/installations",vV="@firebase/installations-compat",xV="@firebase/messaging",bV="@firebase/messaging-compat",_V="@firebase/performance",wV="@firebase/performance-compat",TV="@firebase/remote-config",EV="@firebase/remote-config-compat",SV="@firebase/storage",AV="@firebase/storage-compat",IV="@firebase/firestore",PV="@firebase/ai",OV="@firebase/firestore-compat",CV="firebase",kV="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="[DEFAULT]",NV={[Xb]:"fire-core",[aV]:"fire-core-compat",[sV]:"fire-analytics",[oV]:"fire-analytics-compat",[lV]:"fire-app-check",[uV]:"fire-app-check-compat",[cV]:"fire-auth",[fV]:"fire-auth-compat",[dV]:"fire-rtdb",[hV]:"fire-data-connect",[pV]:"fire-rtdb-compat",[mV]:"fire-fn",[gV]:"fire-fn-compat",[yV]:"fire-iid",[vV]:"fire-iid-compat",[xV]:"fire-fcm",[bV]:"fire-fcm-compat",[_V]:"fire-perf",[wV]:"fire-perf-compat",[TV]:"fire-rc",[EV]:"fire-rc-compat",[SV]:"fire-gcs",[AV]:"fire-gcs-compat",[IV]:"fire-fst",[OV]:"fire-fst-compat",[PV]:"fire-vertex","fire-js":"fire-js",[CV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,jV=new Map,Jb=new Map;function oA(t,e){try{t.container.addComponent(e)}catch(n){ra.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ku(t){const e=t.name;if(Jb.has(e))return ra.debug(`There were multiple attempts to register component ${e}.`),!1;Jb.set(e,t);for(const n of qh.values())oA(n,t);for(const n of jV.values())oA(n,t);return!0}function Vw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Lr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qa=new Nf("app","Firebase",RV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=kV;function Aj(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Qb,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Qa.create("bad-app-name",{appName:String(i)});if(n||(n=bj()),!n)throw Qa.create("no-options");const a=qh.get(i);if(a){if(as(n,a.options)&&as(r,a.config))return a;throw Qa.create("duplicate-app",{appName:i})}const s=new F$(i);for(const c of Jb.values())s.addComponent(c);const l=new DV(n,r,s);return qh.set(i,l),l}function Ij(t=Qb){const e=qh.get(t);if(!e&&t===Qb&&bj())return Aj();if(!e)throw Qa.create("no-app",{appName:t});return e}function Ja(t,e,n){let r=NV[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ra.warn(s.join(" "));return}ku(new os(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="firebase-heartbeat-database",LV=1,Vc="firebase-heartbeat-store";let My=null;function Pj(){return My||(My=eV(MV,LV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qa.create("idb-open",{originalErrorMessage:t.message})})),My}async function $V(t){try{const n=(await Pj()).transaction(Vc),r=await n.objectStore(Vc).get(Oj(t));return await n.done,r}catch(e){if(e instanceof ca)ra.warn(e.message);else{const n=Qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ra.warn(n.message)}}}async function sA(t,e){try{const r=(await Pj()).transaction(Vc,"readwrite");await r.objectStore(Vc).put(e,Oj(t)),await r.done}catch(n){if(n instanceof ca)ra.warn(n.message);else{const r=Qa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ra.warn(r.message)}}}function Oj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=1024,BV=30;class FV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=uA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>BV){const s=zV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ra.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uA(),{heartbeatsToSend:r,unsentEntries:i}=UV(this._heartbeatsCache.heartbeats),a=Uh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ra.warn(n),""}}}function uA(){return new Date().toISOString().substring(0,10)}function UV(t,e=VV){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),lA(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O$()?C$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $V(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lA(t){return Uh(JSON.stringify({version:2,heartbeats:t})).length}function zV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t){ku(new os("platform-logger",e=>new rV(e),"PRIVATE")),ku(new os("heartbeat",e=>new FV(e),"PRIVATE")),Ja(Xb,aA,t),Ja(Xb,aA,"esm2020"),Ja("fire-js","")}WV("");function Cj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HV=Cj,kj=new Nf("auth","Firebase",Cj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Lw("@firebase/auth");function GV(t,...e){zh.logLevel<=Ke.WARN&&zh.warn(`Auth (${ol}): ${t}`,...e)}function kh(t,...e){zh.logLevel<=Ke.ERROR&&zh.error(`Auth (${ol}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t,...e){throw Fw(t,...e)}function Ur(t,...e){return Fw(t,...e)}function Bw(t,e,n){const r={...HV(),[e]:n};return new Nf("auth","Firebase",r).create(e,{appName:t.name})}function Jo(t){return Bw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&bi(t,"argument-error"),Bw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kj.create(t,...e)}function Ve(t,e,...n){if(!t)throw Fw(e,...n)}function Ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kh(e),new Error(e)}function ia(t,e){t||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function YV(){return cA()==="http:"||cA()==="https:"}function cA(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YV()||S$()||"connection"in navigator)?navigator.onLine:!0}function QV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ia(n>e,"Short delay should be less than long delay!"),this.isMobile=w$()||A$()}get(){return XV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(t,e){ia(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],e6=new Rf(3e4,6e4);function qw(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function sl(t,e,n,r,i={}){return jj(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const l=jf({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...a};return E$()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&al(t.emulatorConfig.host)&&(f.credentials="include"),Nj.fetch()(await Rj(t,t.config.apiHost,n,l),f)})}async function jj(t,e,n){t._canInitEmulator=!1;const r={...JV,...e};try{const i=new n6(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw fh(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw fh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw fh(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Bw(t,h,f);bi(t,h)}}catch(i){if(i instanceof ca)throw i;bi(t,"network-request-failed",{message:String(i)})}}async function t6(t,e,n,r,i={}){const a=await sl(t,e,n,r,i);return"mfaPendingCredential"in a&&bi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Rj(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?Uw(t.config,i):`${t.config.apiScheme}://${i}`;return ZV.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}class n6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),e6.get())})}}function fh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ur(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(t,e){return sl(t,"POST","/v1/accounts:delete",e)}async function Wh(t,e){return sl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i6(t,e=!1){const n=Hn(t),r=await n.getIdToken(e),i=zw(r);Ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Cc(Ly(i.auth_time)),issuedAtTime:Cc(Ly(i.iat)),expirationTime:Cc(Ly(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ly(t){return Number(t)*1e3}function zw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const i=vj(n);return i?JSON.parse(i):(kh("Failed to decode base64 JWT payload"),null)}catch(i){return kh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function fA(t){const e=zw(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ca&&a6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function a6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(t){var m;const e=t.auth,n=await t.getIdToken(),r=await Bc(t,Wh(e,{idToken:n}));Ve(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(m=i.providerUserInfo)!=null&&m.length?Dj(i.providerUserInfo):[],s=u6(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),f=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new e_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function s6(t){const e=Hn(t);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function u6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Dj(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(t,e){const n=await jj(t,{},async()=>{const r=jf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await Rj(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&al(t.emulatorConfig.host)&&(c.credentials="include"),Nj.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function c6(t,e){return sl(t,"POST","/v2/accounts:revokeToken",qw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=fA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await l6(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new _u;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ve(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Ve(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _u,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new o6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new e_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Bc(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return i6(this,e)}reload(){return s6(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lr(this.auth.app))return Promise.reject(Jo(this.auth));const e=await this.getIdToken();return await Bc(this,r6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,f=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:y,isAnonymous:b,providerData:S,stsTokenManager:E}=n;Ve(m&&E,e,"internal-error");const _=_u.fromJSON(this.name,E);Ve(typeof m=="string",e,"internal-error"),Ua(r,e.name),Ua(i,e.name),Ve(typeof y=="boolean",e,"internal-error"),Ve(typeof b=="boolean",e,"internal-error"),Ua(a,e.name),Ua(s,e.name),Ua(l,e.name),Ua(c,e.name),Ua(f,e.name),Ua(h,e.name);const k=new Vr({uid:m,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:b,photoURL:s,phoneNumber:a,tenantId:l,stsTokenManager:_,createdAt:f,lastLoginAt:h});return S&&Array.isArray(S)&&(k.providerData=S.map(R=>({...R}))),c&&(k._redirectEventId=c),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new _u;i.updateFromServerResponse(n);const a=new Vr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Hh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ve(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Dj(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new _u;l.updateFromIdToken(r);const c=new Vr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new e_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=new Map;function Yi(t){ia(t instanceof Function,"Expected a class definition");let e=dA.get(t);return e?(ia(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Mj.type="NONE";const hA=Mj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t,e,n){return`firebase:${t}:${e}:${n}`}class wu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Nh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Nh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wh(this.auth,{idToken:e}).catch(()=>{});return n?Vr._fromGetAccountInfoResponse(this.auth,n,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wu(Yi(hA),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Yi(hA);const s=Nh(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const h=await f._get(s);if(h){let m;if(typeof h=="string"){const y=await Wh(e,{idToken:h}).catch(()=>{});if(!y)break;m=await Vr._fromGetAccountInfoResponse(e,y,h)}else m=Vr._fromJSON(e,h);f!==a&&(l=m),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new wu(a,e,r):(a=c[0],l&&await a._set(s,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(s)}catch{}})),new wu(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Uj(e))return"Blackberry";if(qj(e))return"Webos";if($j(e))return"Safari";if((e.includes("chrome/")||Vj(e))&&!e.includes("edge/"))return"Chrome";if(Fj(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Lj(t=jn()){return/firefox\//i.test(t)}function $j(t=jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vj(t=jn()){return/crios\//i.test(t)}function Bj(t=jn()){return/iemobile/i.test(t)}function Fj(t=jn()){return/android/i.test(t)}function Uj(t=jn()){return/blackberry/i.test(t)}function qj(t=jn()){return/webos/i.test(t)}function Ww(t=jn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function f6(t=jn()){var e;return Ww(t)&&!!((e=window.navigator)!=null&&e.standalone)}function d6(){return I$()&&document.documentMode===10}function zj(t=jn()){return Ww(t)||Fj(t)||qj(t)||Uj(t)||/windows phone/i.test(t)||Bj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t,e=[]){let n;switch(t){case"Browser":n=pA(jn());break;case"Worker":n=`${pA(jn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ol}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,l)=>{try{const c=e(a);s(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p6(t,e={}){return sl(t,"GET","/v2/passwordPolicy",qw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=6;class g6{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??m6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mA(this),this.idTokenSubscription=new mA(this),this.beforeStateQueue=new h6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await wu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wh(this,{idToken:e}),r=await Vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Lr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lr(this.app))return Promise.reject(Jo(this));const n=e?Hn(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lr(this.app)?Promise.reject(Jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lr(this.app)?Promise.reject(Jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p6(this),n=new g6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await c6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yi(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await wu.create(this,[Yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&GV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function sm(t){return Hn(t)}class mA{constructor(e){this.auth=e,this.observer=null,this.addObserver=D$(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v6(t){Hw=t}function x6(t){return Hw.loadJS(t)}function b6(){return Hw.gapiScript}function _6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(t,e){const n=Vw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(as(a,e??{}))return i;bi(i,"already-initialized")}return n.initialize({options:e})}function T6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function E6(t,e,n){const r=sm(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=Hj(e),{host:s,port:l}=S6(e),c=l===null?"":`:${l}`,f={url:`${a}//${s}${c}/`},h=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(as(f,r.config.emulator)&&as(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,al(s)?(wj(`${a}//${s}${c}`),Tj("Auth",!0)):A6()}function Hj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S6(t){const e=Hj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:gA(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:gA(s)}}}function gA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function A6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,n){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(t,e){return t6(t,"POST","/v1/accounts:signInWithIdp",qw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6="http://localhost";class ss extends Gj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new ss(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Tu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Tu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tu(e,n)}buildRequest(){const e={requestUri:I6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends Gw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends Df{constructor(){super("facebook.com")}static credential(e){return ss._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return za.credential(e.oauthAccessToken)}catch{return null}}}za.FACEBOOK_SIGN_IN_METHOD="facebook.com";za.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Df{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ss._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Df{constructor(){super("github.com")}static credential(e){return ss._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wa.credential(e.oauthAccessToken)}catch{return null}}}Wa.GITHUB_SIGN_IN_METHOD="github.com";Wa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends Df{constructor(){super("twitter.com")}static credential(e,n){return ss._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ha.credential(n,r)}catch{return null}}}Ha.TWITTER_SIGN_IN_METHOD="twitter.com";Ha.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Vr._fromIdTokenResponse(e,r,i),s=yA(r);return new Nu({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=yA(r);return new Nu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function yA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends ca{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gh(e,n,r,i)}}function Kj(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Gh._fromErrorAndOperation(t,a,e,r):a})}async function P6(t,e,n=!1){const r=await Bc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(t,e,n=!1){const{auth:r}=t;if(Lr(r.app))return Promise.reject(Jo(r));const i="reauthenticate";try{const a=await Bc(t,Kj(r,i,e,t),n);Ve(a.idToken,r,"internal-error");const s=zw(a.idToken);Ve(s,r,"internal-error");const{sub:l}=s;return Ve(t.uid===l,r,"user-mismatch"),Nu._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&bi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C6(t,e,n=!1){if(Lr(t.app))return Promise.reject(Jo(t));const r="signIn",i=await Kj(t,r,e),a=await Nu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function k6(t,e,n,r){return Hn(t).onIdTokenChanged(e,n,r)}function N6(t,e,n){return Hn(t).beforeAuthStateChanged(e,n)}function j6(t,e,n,r){return Hn(t).onAuthStateChanged(e,n,r)}function R6(t){return Hn(t).signOut()}const Kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kh,"1"),this.storage.removeItem(Kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=1e3,M6=10;class Xj extends Yj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);d6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,M6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},D6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xj.type="LOCAL";const L6=Xj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj extends Yj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Qj.type="SESSION";const Jj=Qj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new um(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async f=>f(n.origin,a)),c=await $6(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}um.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,c)=>{const f=Kw("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(y.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return window}function B6(t){hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}async function F6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function q6(){return Zj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="firebaseLocalStorageDb",z6=1,Yh="firebaseLocalStorage",tR="fbase_key";class Mf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lm(t,e){return t.transaction([Yh],e?"readwrite":"readonly").objectStore(Yh)}function W6(){const t=indexedDB.deleteDatabase(eR);return new Mf(t).toPromise()}function t_(){const t=indexedDB.open(eR,z6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yh,{keyPath:tR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yh)?e(r):(r.close(),await W6(),e(await t_()))})})}async function vA(t,e,n){const r=lm(t,!0).put({[tR]:e,value:n});return new Mf(r).toPromise()}async function H6(t,e){const n=lm(t,!1).get(e),r=await new Mf(n).toPromise();return r===void 0?null:r.value}function xA(t,e){const n=lm(t,!0).delete(e);return new Mf(n).toPromise()}const G6=800,K6=3;class nR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await t_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>K6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=um._getInstance(q6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await F6(),!this.activeServiceWorker)return;this.sender=new V6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await t_();return await vA(e,Kh,"1"),await xA(e,Kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>H6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=lm(i,!1).getAll();return new Mf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nR.type="LOCAL";const Y6=nR;new Rf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t,e){return e?Yi(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends Gj{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X6(t){return C6(t.auth,new Yw(t),t.bypassAuthState)}function Q6(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),O6(n,new Yw(t),t.bypassAuthState)}async function J6(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),P6(n,new Yw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X6;case"linkViaPopup":case"linkViaRedirect":return J6;case"reauthViaPopup":case"reauthViaRedirect":return Q6;default:bi(this.auth,"internal-error")}}resolve(e){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=new Rf(2e3,1e4);async function eB(t,e,n){if(Lr(t.app))return Promise.reject(Ur(t,"operation-not-supported-in-this-environment"));const r=sm(t);KV(t,e,Gw);const i=rR(r,n);return new Ho(r,"signInViaPopup",e,i).executeNotNull()}class Ho extends iR{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){ia(this.filter.length===1,"Popup operations only handle one event");const e=Kw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z6.get())};e()}}Ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB="pendingRedirect",jh=new Map;class nB extends iR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jh.get(this.auth._key());if(!e){try{const r=await rB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jh.set(this.auth._key(),e)}return this.bypassAuthState||jh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rB(t,e){const n=oB(e),r=aB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function iB(t,e){jh.set(t._key(),e)}function aB(t){return Yi(t._redirectPersistence)}function oB(t){return Nh(tB,t.config.apiKey,t.name)}async function sB(t,e,n=!1){if(Lr(t.app))return Promise.reject(Jo(t));const r=sm(t),i=rR(r,e),s=await new nB(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=600*1e3;class lB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aR(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uB&&this.cachedEventUids.clear(),this.cachedEventUids.has(bA(e))}saveEventToCache(e){this.cachedEventUids.add(bA(e)),this.lastProcessedEventTime=Date.now()}}function bA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fB(t,e={}){return sl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hB=/^https?/;async function pB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fB(t);for(const n of e)try{if(mB(n))return}catch{}bi(t,"unauthorized-domain")}function mB(t){const e=Zb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!hB.test(n))return!1;if(dB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=new Rf(3e4,6e4);function _A(){const t=hi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yB(t){return new Promise((e,n)=>{var i,a,s;function r(){_A(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_A(),n(Ur(t,"network-request-failed"))},timeout:gB.get()})}if((a=(i=hi().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=hi().gapi)!=null&&s.load)r();else{const l=_6("iframefcb");return hi()[l]=()=>{gapi.load?r():n(Ur(t,"network-request-failed"))},x6(`${b6()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function vB(t){return Rh=Rh||yB(t),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=new Rf(5e3,15e3),bB="__/auth/iframe",_B="emulator/auth/iframe",wB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EB(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Uw(e,_B):`https://${t.config.authDomain}/${bB}`,r={apiKey:e.apiKey,appName:t.name,v:ol},i=TB.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${jf(r).slice(1)}`}async function SB(t){const e=await vB(t),n=hi().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:EB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wB,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Ur(t,"network-request-failed"),l=hi().setTimeout(()=>{a(s)},xB.get());function c(){hi().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IB=500,PB=600,OB="_blank",CB="http://localhost";class wA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kB(t,e,n,r=IB,i=PB){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...AB,width:r.toString(),height:i.toString(),top:a,left:s},f=jn().toLowerCase();n&&(l=Vj(f)?OB:n),Lj(f)&&(e=e||CB,c.scrollbars="yes");const h=Object.entries(c).reduce((y,[b,S])=>`${y}${b}=${S},`,"");if(f6(f)&&l!=="_self")return NB(e||"",l),new wA(null);const m=window.open(e||"",l,h);Ve(m,t,"popup-blocked");try{m.focus()}catch{}return new wA(m)}function NB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB="__/auth/handler",RB="emulator/auth/handler",DB=encodeURIComponent("fac");async function TA(t,e,n,r,i,a){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ol,eventId:i};if(e instanceof Gw){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",R$(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))s[h]=m}if(e instanceof Df){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),f=c?`#${DB}=${encodeURIComponent(c)}`:"";return`${MB(t)}?${jf(l).slice(1)}${f}`}function MB({config:t}){return t.emulator?Uw(t,RB):`https://${t.authDomain}/${jB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="webStorageSupport";class LB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jj,this._completeRedirectFn=sB,this._overrideRedirectResult=iB}async _openPopup(e,n,r,i){var s;ia((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await TA(e,n,r,Zb(),i);return kB(e,a,Kw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await TA(e,n,r,Zb(),i);return B6(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ia(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await SB(e),r=new lB(e);return n.register("authEvent",i=>(Ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($y,{type:$y},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[$y];a!==void 0&&n(!!a),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zj()||$j()||Ww()}}const $B=LB;var EA="@firebase/auth",SA="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FB(t){ku(new os("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;Ve(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wj(t)},f=new y6(r,i,a,c);return T6(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ku(new os("auth-internal",e=>{const n=sm(e.getProvider("auth").getImmediate());return(r=>new VB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ja(EA,SA,BB(t)),Ja(EA,SA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=300,qB=_j("authIdTokenMaxAge")||UB;let AA=null;const zB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qB)return;const i=n==null?void 0:n.token;AA!==i&&(AA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function WB(t=Ij()){const e=Vw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=w6(t,{popupRedirectResolver:$B,persistence:[Y6,L6,Jj]}),r=_j("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=zB(a.toString());N6(n,s,()=>s(n.currentUser)),k6(n,l=>s(l))}}const i=xj("auth");return i&&E6(n,`http://${i}`),n}function HB(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}v6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ur("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",HB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FB("Browser");var GB="firebase",KB="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ja(GB,KB,"app");var IA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Za,oR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,P){function j(){}j.prototype=P.prototype,A.F=P.prototype,A.prototype=new j,A.prototype.constructor=A,A.D=function(B,$,V){for(var L=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)L[Z-2]=arguments[Z];return P.prototype[$].apply(B,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,P,j){j||(j=0);const B=Array(16);if(typeof P=="string")for(var $=0;$<16;++$)B[$]=P.charCodeAt(j++)|P.charCodeAt(j++)<<8|P.charCodeAt(j++)<<16|P.charCodeAt(j++)<<24;else for($=0;$<16;++$)B[$]=P[j++]|P[j++]<<8|P[j++]<<16|P[j++]<<24;P=A.g[0],j=A.g[1],$=A.g[2];let V=A.g[3],L;L=P+(V^j&($^V))+B[0]+3614090360&4294967295,P=j+(L<<7&4294967295|L>>>25),L=V+($^P&(j^$))+B[1]+3905402710&4294967295,V=P+(L<<12&4294967295|L>>>20),L=$+(j^V&(P^j))+B[2]+606105819&4294967295,$=V+(L<<17&4294967295|L>>>15),L=j+(P^$&(V^P))+B[3]+3250441966&4294967295,j=$+(L<<22&4294967295|L>>>10),L=P+(V^j&($^V))+B[4]+4118548399&4294967295,P=j+(L<<7&4294967295|L>>>25),L=V+($^P&(j^$))+B[5]+1200080426&4294967295,V=P+(L<<12&4294967295|L>>>20),L=$+(j^V&(P^j))+B[6]+2821735955&4294967295,$=V+(L<<17&4294967295|L>>>15),L=j+(P^$&(V^P))+B[7]+4249261313&4294967295,j=$+(L<<22&4294967295|L>>>10),L=P+(V^j&($^V))+B[8]+1770035416&4294967295,P=j+(L<<7&4294967295|L>>>25),L=V+($^P&(j^$))+B[9]+2336552879&4294967295,V=P+(L<<12&4294967295|L>>>20),L=$+(j^V&(P^j))+B[10]+4294925233&4294967295,$=V+(L<<17&4294967295|L>>>15),L=j+(P^$&(V^P))+B[11]+2304563134&4294967295,j=$+(L<<22&4294967295|L>>>10),L=P+(V^j&($^V))+B[12]+1804603682&4294967295,P=j+(L<<7&4294967295|L>>>25),L=V+($^P&(j^$))+B[13]+4254626195&4294967295,V=P+(L<<12&4294967295|L>>>20),L=$+(j^V&(P^j))+B[14]+2792965006&4294967295,$=V+(L<<17&4294967295|L>>>15),L=j+(P^$&(V^P))+B[15]+1236535329&4294967295,j=$+(L<<22&4294967295|L>>>10),L=P+($^V&(j^$))+B[1]+4129170786&4294967295,P=j+(L<<5&4294967295|L>>>27),L=V+(j^$&(P^j))+B[6]+3225465664&4294967295,V=P+(L<<9&4294967295|L>>>23),L=$+(P^j&(V^P))+B[11]+643717713&4294967295,$=V+(L<<14&4294967295|L>>>18),L=j+(V^P&($^V))+B[0]+3921069994&4294967295,j=$+(L<<20&4294967295|L>>>12),L=P+($^V&(j^$))+B[5]+3593408605&4294967295,P=j+(L<<5&4294967295|L>>>27),L=V+(j^$&(P^j))+B[10]+38016083&4294967295,V=P+(L<<9&4294967295|L>>>23),L=$+(P^j&(V^P))+B[15]+3634488961&4294967295,$=V+(L<<14&4294967295|L>>>18),L=j+(V^P&($^V))+B[4]+3889429448&4294967295,j=$+(L<<20&4294967295|L>>>12),L=P+($^V&(j^$))+B[9]+568446438&4294967295,P=j+(L<<5&4294967295|L>>>27),L=V+(j^$&(P^j))+B[14]+3275163606&4294967295,V=P+(L<<9&4294967295|L>>>23),L=$+(P^j&(V^P))+B[3]+4107603335&4294967295,$=V+(L<<14&4294967295|L>>>18),L=j+(V^P&($^V))+B[8]+1163531501&4294967295,j=$+(L<<20&4294967295|L>>>12),L=P+($^V&(j^$))+B[13]+2850285829&4294967295,P=j+(L<<5&4294967295|L>>>27),L=V+(j^$&(P^j))+B[2]+4243563512&4294967295,V=P+(L<<9&4294967295|L>>>23),L=$+(P^j&(V^P))+B[7]+1735328473&4294967295,$=V+(L<<14&4294967295|L>>>18),L=j+(V^P&($^V))+B[12]+2368359562&4294967295,j=$+(L<<20&4294967295|L>>>12),L=P+(j^$^V)+B[5]+4294588738&4294967295,P=j+(L<<4&4294967295|L>>>28),L=V+(P^j^$)+B[8]+2272392833&4294967295,V=P+(L<<11&4294967295|L>>>21),L=$+(V^P^j)+B[11]+1839030562&4294967295,$=V+(L<<16&4294967295|L>>>16),L=j+($^V^P)+B[14]+4259657740&4294967295,j=$+(L<<23&4294967295|L>>>9),L=P+(j^$^V)+B[1]+2763975236&4294967295,P=j+(L<<4&4294967295|L>>>28),L=V+(P^j^$)+B[4]+1272893353&4294967295,V=P+(L<<11&4294967295|L>>>21),L=$+(V^P^j)+B[7]+4139469664&4294967295,$=V+(L<<16&4294967295|L>>>16),L=j+($^V^P)+B[10]+3200236656&4294967295,j=$+(L<<23&4294967295|L>>>9),L=P+(j^$^V)+B[13]+681279174&4294967295,P=j+(L<<4&4294967295|L>>>28),L=V+(P^j^$)+B[0]+3936430074&4294967295,V=P+(L<<11&4294967295|L>>>21),L=$+(V^P^j)+B[3]+3572445317&4294967295,$=V+(L<<16&4294967295|L>>>16),L=j+($^V^P)+B[6]+76029189&4294967295,j=$+(L<<23&4294967295|L>>>9),L=P+(j^$^V)+B[9]+3654602809&4294967295,P=j+(L<<4&4294967295|L>>>28),L=V+(P^j^$)+B[12]+3873151461&4294967295,V=P+(L<<11&4294967295|L>>>21),L=$+(V^P^j)+B[15]+530742520&4294967295,$=V+(L<<16&4294967295|L>>>16),L=j+($^V^P)+B[2]+3299628645&4294967295,j=$+(L<<23&4294967295|L>>>9),L=P+($^(j|~V))+B[0]+4096336452&4294967295,P=j+(L<<6&4294967295|L>>>26),L=V+(j^(P|~$))+B[7]+1126891415&4294967295,V=P+(L<<10&4294967295|L>>>22),L=$+(P^(V|~j))+B[14]+2878612391&4294967295,$=V+(L<<15&4294967295|L>>>17),L=j+(V^($|~P))+B[5]+4237533241&4294967295,j=$+(L<<21&4294967295|L>>>11),L=P+($^(j|~V))+B[12]+1700485571&4294967295,P=j+(L<<6&4294967295|L>>>26),L=V+(j^(P|~$))+B[3]+2399980690&4294967295,V=P+(L<<10&4294967295|L>>>22),L=$+(P^(V|~j))+B[10]+4293915773&4294967295,$=V+(L<<15&4294967295|L>>>17),L=j+(V^($|~P))+B[1]+2240044497&4294967295,j=$+(L<<21&4294967295|L>>>11),L=P+($^(j|~V))+B[8]+1873313359&4294967295,P=j+(L<<6&4294967295|L>>>26),L=V+(j^(P|~$))+B[15]+4264355552&4294967295,V=P+(L<<10&4294967295|L>>>22),L=$+(P^(V|~j))+B[6]+2734768916&4294967295,$=V+(L<<15&4294967295|L>>>17),L=j+(V^($|~P))+B[13]+1309151649&4294967295,j=$+(L<<21&4294967295|L>>>11),L=P+($^(j|~V))+B[4]+4149444226&4294967295,P=j+(L<<6&4294967295|L>>>26),L=V+(j^(P|~$))+B[11]+3174756917&4294967295,V=P+(L<<10&4294967295|L>>>22),L=$+(P^(V|~j))+B[2]+718787259&4294967295,$=V+(L<<15&4294967295|L>>>17),L=j+(V^($|~P))+B[9]+3951481745&4294967295,A.g[0]=A.g[0]+P&4294967295,A.g[1]=A.g[1]+($+(L<<21&4294967295|L>>>11))&4294967295,A.g[2]=A.g[2]+$&4294967295,A.g[3]=A.g[3]+V&4294967295}r.prototype.v=function(A,P){P===void 0&&(P=A.length);const j=P-this.blockSize,B=this.C;let $=this.h,V=0;for(;V<P;){if($==0)for(;V<=j;)i(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<P;)if(B[$++]=A.charCodeAt(V++),$==this.blockSize){i(this,B),$=0;break}}else for(;V<P;)if(B[$++]=A[V++],$==this.blockSize){i(this,B),$=0;break}}this.h=$,this.o+=P},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var P=1;P<A.length-8;++P)A[P]=0;P=this.o*8;for(var j=A.length-8;j<A.length;++j)A[j]=P&255,P/=256;for(this.v(A),A=Array(16),P=0,j=0;j<4;++j)for(let B=0;B<32;B+=8)A[P++]=this.g[j]>>>B&255;return A};function a(A,P){var j=l;return Object.prototype.hasOwnProperty.call(j,A)?j[A]:j[A]=P(A)}function s(A,P){this.h=P;const j=[];let B=!0;for(let $=A.length-1;$>=0;$--){const V=A[$]|0;B&&V==P||(j[$]=V,B=!1)}this.g=j}var l={};function c(A){return-128<=A&&A<128?a(A,function(P){return new s([P|0],P<0?-1:0)}):new s([A|0],A<0?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return m;if(A<0)return _(f(-A));const P=[];let j=1;for(let B=0;A>=j;B++)P[B]=A/j|0,j*=4294967296;return new s(P,0)}function h(A,P){if(A.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(A.charAt(0)=="-")return _(h(A.substring(1),P));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=f(Math.pow(P,8));let B=m;for(let V=0;V<A.length;V+=8){var $=Math.min(8,A.length-V);const L=parseInt(A.substring(V,V+$),P);$<8?($=f(Math.pow(P,$)),B=B.j($).add(f(L))):(B=B.j(j),B=B.add(f(L)))}return B}var m=c(0),y=c(1),b=c(16777216);t=s.prototype,t.m=function(){if(E(this))return-_(this).m();let A=0,P=1;for(let j=0;j<this.g.length;j++){const B=this.i(j);A+=(B>=0?B:4294967296+B)*P,P*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S(this))return"0";if(E(this))return"-"+_(this).toString(A);const P=f(Math.pow(A,6));var j=this;let B="";for(;;){const $=C(j,P).g;j=k(j,$.j(P));let V=((j.g.length>0?j.g[0]:j.h)>>>0).toString(A);if(j=$,S(j))return V+B;for(;V.length<6;)V="0"+V;B=V+B}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function S(A){if(A.h!=0)return!1;for(let P=0;P<A.g.length;P++)if(A.g[P]!=0)return!1;return!0}function E(A){return A.h==-1}t.l=function(A){return A=k(this,A),E(A)?-1:S(A)?0:1};function _(A){const P=A.g.length,j=[];for(let B=0;B<P;B++)j[B]=~A.g[B];return new s(j,~A.h).add(y)}t.abs=function(){return E(this)?_(this):this},t.add=function(A){const P=Math.max(this.g.length,A.g.length),j=[];let B=0;for(let $=0;$<=P;$++){let V=B+(this.i($)&65535)+(A.i($)&65535),L=(V>>>16)+(this.i($)>>>16)+(A.i($)>>>16);B=L>>>16,V&=65535,L&=65535,j[$]=L<<16|V}return new s(j,j[j.length-1]&-2147483648?-1:0)};function k(A,P){return A.add(_(P))}t.j=function(A){if(S(this)||S(A))return m;if(E(this))return E(A)?_(this).j(_(A)):_(_(this).j(A));if(E(A))return _(this.j(_(A)));if(this.l(b)<0&&A.l(b)<0)return f(this.m()*A.m());const P=this.g.length+A.g.length,j=[];for(var B=0;B<2*P;B++)j[B]=0;for(B=0;B<this.g.length;B++)for(let $=0;$<A.g.length;$++){const V=this.i(B)>>>16,L=this.i(B)&65535,Z=A.i($)>>>16,ee=A.i($)&65535;j[2*B+2*$]+=L*ee,R(j,2*B+2*$),j[2*B+2*$+1]+=V*ee,R(j,2*B+2*$+1),j[2*B+2*$+1]+=L*Z,R(j,2*B+2*$+1),j[2*B+2*$+2]+=V*Z,R(j,2*B+2*$+2)}for(A=0;A<P;A++)j[A]=j[2*A+1]<<16|j[2*A];for(A=P;A<2*P;A++)j[A]=0;return new s(j,0)};function R(A,P){for(;(A[P]&65535)!=A[P];)A[P+1]+=A[P]>>>16,A[P]&=65535,P++}function D(A,P){this.g=A,this.h=P}function C(A,P){if(S(P))throw Error("division by zero");if(S(A))return new D(m,m);if(E(A))return P=C(_(A),P),new D(_(P.g),_(P.h));if(E(P))return P=C(A,_(P)),new D(_(P.g),P.h);if(A.g.length>30){if(E(A)||E(P))throw Error("slowDivide_ only works with positive integers.");for(var j=y,B=P;B.l(A)<=0;)j=I(j),B=I(B);var $=N(j,1),V=N(B,1);for(B=N(B,2),j=N(j,2);!S(B);){var L=V.add(B);L.l(A)<=0&&($=$.add(j),V=L),B=N(B,1),j=N(j,1)}return P=k(A,$.j(P)),new D($,P)}for($=m;A.l(P)>=0;){for(j=Math.max(1,Math.floor(A.m()/P.m())),B=Math.ceil(Math.log(j)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),V=f(j),L=V.j(P);E(L)||L.l(A)>0;)j-=B,V=f(j),L=V.j(P);S(V)&&(V=y),$=$.add(V),A=k(A,L)}return new D($,A)}t.B=function(A){return C(this,A).h},t.and=function(A){const P=Math.max(this.g.length,A.g.length),j=[];for(let B=0;B<P;B++)j[B]=this.i(B)&A.i(B);return new s(j,this.h&A.h)},t.or=function(A){const P=Math.max(this.g.length,A.g.length),j=[];for(let B=0;B<P;B++)j[B]=this.i(B)|A.i(B);return new s(j,this.h|A.h)},t.xor=function(A){const P=Math.max(this.g.length,A.g.length),j=[];for(let B=0;B<P;B++)j[B]=this.i(B)^A.i(B);return new s(j,this.h^A.h)};function I(A){const P=A.g.length+1,j=[];for(let B=0;B<P;B++)j[B]=A.i(B)<<1|A.i(B-1)>>>31;return new s(j,A.h)}function N(A,P){const j=P>>5;P%=32;const B=A.g.length-j,$=[];for(let V=0;V<B;V++)$[V]=P>0?A.i(V+j)>>>P|A.i(V+j+1)<<32-P:A.i(V+j);return new s($,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,oR=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,Za=s}).apply(typeof IA<"u"?IA:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sR,bc,uR,Dh,n_,lR,cR,fR;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var T=0;T<p.length;++T){var O=p[T];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(p,T){if(T)e:{var O=r;p=p.split(".");for(var F=0;F<p.length-1;F++){var X=p[F];if(!(X in O))break e;O=O[X]}p=p[p.length-1],F=O[p],T=T(F),T!=F&&T!=null&&e(O,p,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(T){var O=[],F;for(F in T)Object.prototype.hasOwnProperty.call(T,F)&&O.push([F,T[F]]);return O}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(p){var T=typeof p;return T=="object"&&p!=null||T=="function"}function c(p,T,O){return p.call.apply(p.bind,arguments)}function f(p,T,O){return f=c,f.apply(null,arguments)}function h(p,T){var O=Array.prototype.slice.call(arguments,1);return function(){var F=O.slice();return F.push.apply(F,arguments),p.apply(this,F)}}function m(p,T){function O(){}O.prototype=T.prototype,p.Z=T.prototype,p.prototype=new O,p.prototype.constructor=p,p.Ob=function(F,X,ne){for(var ve=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ve[Ue-2]=arguments[Ue];return T.prototype[X].apply(F,ve)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function b(p){const T=p.length;if(T>0){const O=Array(T);for(let F=0;F<T;F++)O[F]=p[F];return O}return[]}function S(p,T){for(let F=1;F<arguments.length;F++){const X=arguments[F];var O=typeof X;if(O=O!="object"?O:X?Array.isArray(X)?"array":O:"null",O=="array"||O=="object"&&typeof X.length=="number"){O=p.length||0;const ne=X.length||0;p.length=O+ne;for(let ve=0;ve<ne;ve++)p[O+ve]=X[ve]}else p.push(X)}}class E{constructor(T,O){this.i=T,this.j=O,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function _(p){s.setTimeout(()=>{throw p},0)}function k(){var p=A;let T=null;return p.g&&(T=p.g,p.g=p.g.next,p.g||(p.h=null),T.next=null),T}class R{constructor(){this.h=this.g=null}add(T,O){const F=D.get();F.set(T,O),this.h?this.h.next=F:this.g=F,this.h=F}}var D=new E(()=>new C,p=>p.reset());class C{constructor(){this.next=this.g=this.h=null}set(T,O){this.h=T,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let I,N=!1,A=new R,P=()=>{const p=Promise.resolve(void 0);I=()=>{p.then(j)}};function j(){for(var p;p=k();){try{p.h.call(p.g)}catch(O){_(O)}var T=D;T.j(p),T.h<100&&(T.h++,p.next=T.g,T.g=p)}N=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(p,T){this.type=p,this.g=this.target=T,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,T=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const O=()=>{};s.addEventListener("test",O,T),s.removeEventListener("test",O,T)}catch{}return p})();function L(p){return/^[\s\xa0]*$/.test(p)}function Z(p,T){$.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,T)}m(Z,$),Z.prototype.init=function(p,T){const O=this.type=p.type,F=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=T,T=p.relatedTarget,T||(O=="mouseover"?T=p.fromElement:O=="mouseout"&&(T=p.toElement)),this.relatedTarget=T,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),oe=0;function se(p,T,O,F,X){this.listener=p,this.proxy=null,this.src=T,this.type=O,this.capture=!!F,this.ha=X,this.key=++oe,this.da=this.fa=!1}function Q(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ie(p,T,O){for(const F in p)T.call(O,p[F],F,p)}function re(p,T){for(const O in p)T.call(void 0,p[O],O,p)}function q(p){const T={};for(const O in p)T[O]=p[O];return T}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(p,T){let O,F;for(let X=1;X<arguments.length;X++){F=arguments[X];for(O in F)p[O]=F[O];for(let ne=0;ne<G.length;ne++)O=G[ne],Object.prototype.hasOwnProperty.call(F,O)&&(p[O]=F[O])}}function _e(p){this.src=p,this.g={},this.h=0}_e.prototype.add=function(p,T,O,F,X){const ne=p.toString();p=this.g[ne],p||(p=this.g[ne]=[],this.h++);const ve=Re(p,T,F,X);return ve>-1?(T=p[ve],O||(T.fa=!1)):(T=new se(T,this.src,ne,!!F,X),T.fa=O,p.push(T)),T};function Oe(p,T){const O=T.type;if(O in p.g){var F=p.g[O],X=Array.prototype.indexOf.call(F,T,void 0),ne;(ne=X>=0)&&Array.prototype.splice.call(F,X,1),ne&&(Q(T),p.g[O].length==0&&(delete p.g[O],p.h--))}}function Re(p,T,O,F){for(let X=0;X<p.length;++X){const ne=p[X];if(!ne.da&&ne.listener==T&&ne.capture==!!O&&ne.ha==F)return X}return-1}var We="closure_lm_"+(Math.random()*1e6|0),Le={};function he(p,T,O,F,X){if(Array.isArray(T)){for(let ne=0;ne<T.length;ne++)he(p,T[ne],O,F,X);return null}return O=Ln(O),p&&p[ee]?p.J(T,O,l(F)?!!F.capture:!1,X):Ce(p,T,O,!1,F,X)}function Ce(p,T,O,F,X,ne){if(!T)throw Error("Invalid event type");const ve=l(X)?!!X.capture:!!X;let Ue=yt(p);if(Ue||(p[We]=Ue=new _e(p)),O=Ue.add(T,O,F,ve,ne),O.proxy)return O;if(F=Be(),O.proxy=F,F.src=p,F.listener=O,p.addEventListener)V||(X=ve),X===void 0&&(X=!1),p.addEventListener(T.toString(),F,X);else if(p.attachEvent)p.attachEvent(ze(T.toString()),F);else if(p.addListener&&p.removeListener)p.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Be(){function p(O){return T.call(p.src,p.listener,O)}const T=It;return p}function ce(p,T,O,F,X){if(Array.isArray(T))for(var ne=0;ne<T.length;ne++)ce(p,T[ne],O,F,X);else F=l(F)?!!F.capture:!!F,O=Ln(O),p&&p[ee]?(p=p.i,ne=String(T).toString(),ne in p.g&&(T=p.g[ne],O=Re(T,O,F,X),O>-1&&(Q(T[O]),Array.prototype.splice.call(T,O,1),T.length==0&&(delete p.g[ne],p.h--)))):p&&(p=yt(p))&&(T=p.g[T.toString()],p=-1,T&&(p=Re(T,O,F,X)),(O=p>-1?T[p]:null)&&rt(O))}function rt(p){if(typeof p!="number"&&p&&!p.da){var T=p.src;if(T&&T[ee])Oe(T.i,p);else{var O=p.type,F=p.proxy;T.removeEventListener?T.removeEventListener(O,F,p.capture):T.detachEvent?T.detachEvent(ze(O),F):T.addListener&&T.removeListener&&T.removeListener(F),(O=yt(T))?(Oe(O,p),O.h==0&&(O.src=null,T[We]=null)):Q(p)}}}function ze(p){return p in Le?Le[p]:Le[p]="on"+p}function It(p,T){if(p.da)p=!0;else{T=new Z(T,this);const O=p.listener,F=p.ha||p.src;p.fa&&rt(p),p=O.call(F,T)}return p}function yt(p){return p=p[We],p instanceof _e?p:null}var Rt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ln(p){return typeof p=="function"?p:(p[Rt]||(p[Rt]=function(T){return p.handleEvent(T)}),p[Rt])}function pt(){B.call(this),this.i=new _e(this),this.M=this,this.G=null}m(pt,B),pt.prototype[ee]=!0,pt.prototype.removeEventListener=function(p,T,O,F){ce(this,p,T,O,F)};function vt(p,T){var O,F=p.G;if(F)for(O=[];F;F=F.G)O.push(F);if(p=p.M,F=T.type||T,typeof T=="string")T=new $(T,p);else if(T instanceof $)T.target=T.target||p;else{var X=T;T=new $(F,p),ge(T,X)}X=!0;let ne,ve;if(O)for(ve=O.length-1;ve>=0;ve--)ne=T.g=O[ve],X=Yt(ne,F,!0,T)&&X;if(ne=T.g=p,X=Yt(ne,F,!0,T)&&X,X=Yt(ne,F,!1,T)&&X,O)for(ve=0;ve<O.length;ve++)ne=T.g=O[ve],X=Yt(ne,F,!1,T)&&X}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var p=this.i;for(const T in p.g){const O=p.g[T];for(let F=0;F<O.length;F++)Q(O[F]);delete p.g[T],p.h--}}this.G=null},pt.prototype.J=function(p,T,O,F){return this.i.add(String(p),T,!1,O,F)},pt.prototype.K=function(p,T,O,F){return this.i.add(String(p),T,!0,O,F)};function Yt(p,T,O,F){if(T=p.i.g[String(T)],!T)return!0;T=T.concat();let X=!0;for(let ne=0;ne<T.length;++ne){const ve=T[ne];if(ve&&!ve.da&&ve.capture==O){const Ue=ve.listener,$t=ve.ha||ve.src;ve.fa&&Oe(p.i,ve),X=Ue.call($t,F)!==!1&&X}}return X&&!F.defaultPrevented}function Kn(p,T){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:s.setTimeout(p,T||0)}function Ai(p){p.g=Kn(()=>{p.g=null,p.i&&(p.i=!1,Ai(p))},p.l);const T=p.h;p.h=null,p.m.apply(null,T)}class mo extends B{constructor(T,O){super(),this.m=T,this.l=O,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Ai(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(p){B.call(this),this.h=p,this.g={}}m(Sr,B);var xl=[];function Es(p){ie(p.g,function(T,O){this.g.hasOwnProperty(O)&&rt(T)},p),p.g={}}Sr.prototype.N=function(){Sr.Z.N.call(this),Es(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pa=s.JSON.stringify,Xf=s.JSON.parse,go=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function ma(){}function Qf(){}var ga={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ss(){$.call(this,"d")}m(Ss,$);function bl(){$.call(this,"c")}m(bl,$);var Ar={},As=null;function ya(){return As=As||new pt}Ar.Ia="serverreachability";function Is(p){$.call(this,Ar.Ia,p)}m(Is,$);function Ii(p){const T=ya();vt(T,new Is(T))}Ar.STAT_EVENT="statevent";function Pi(p,T){$.call(this,Ar.STAT_EVENT,p),this.stat=T}m(Pi,$);function Dt(p){const T=ya();vt(T,new Pi(T,p))}Ar.Ja="timingevent";function _l(p,T){$.call(this,Ar.Ja,p),this.size=T}m(_l,$);function va(p,T){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},T)}function xa(){this.g=!0}xa.prototype.ua=function(){this.g=!1};function Jf(p,T,O,F,X,ne){p.info(function(){if(p.g)if(ne){var ve="",Ue=ne.split("&");for(let ft=0;ft<Ue.length;ft++){var $t=Ue[ft].split("=");if($t.length>1){const Ft=$t[0];$t=$t[1];const er=Ft.split("_");ve=er.length>=2&&er[1]=="type"?ve+(Ft+"="+$t+"&"):ve+(Ft+"=redacted&")}}}else ve=null;else ve=ne;return"XMLHTTP REQ ("+F+") [attempt "+X+"]: "+T+`
`+O+`
`+ve})}function Zf(p,T,O,F,X,ne,ve){p.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+X+"]: "+T+`
`+O+`
`+ne+" "+ve})}function Hr(p,T,O,F){p.info(function(){return"XMLHTTP TEXT ("+T+"): "+yo(p,O)+(F?" "+F:"")})}function ed(p,T){p.info(function(){return"TIMEOUT: "+T})}xa.prototype.info=function(){};function yo(p,T){if(!p.g)return T;if(!T)return null;try{const ne=JSON.parse(T);if(ne){for(p=0;p<ne.length;p++)if(Array.isArray(ne[p])){var O=ne[p];if(!(O.length<2)){var F=O[1];if(Array.isArray(F)&&!(F.length<1)){var X=F[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ve=1;ve<F.length;ve++)F[ve]=""}}}}return pa(ne)}catch{return T}}var ba={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_a={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},td;function Oi(){}m(Oi,ma),Oi.prototype.g=function(){return new XMLHttpRequest},td=new Oi;function Gr(p){return encodeURIComponent(String(p))}function Ps(p){var T=1;p=p.split(":");const O=[];for(;T>0&&p.length;)O.push(p.shift()),T--;return p.length&&O.push(p.join(":")),O}function ur(p,T,O,F){this.j=p,this.i=T,this.l=O,this.S=F||1,this.V=new Sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new nd}function nd(){this.i=null,this.g="",this.h=!1}var rd={},wl={};function Ir(p,T,O){p.M=1,p.A=ki(lr(T)),p.u=O,p.R=!0,Tl(p,null)}function Tl(p,T){p.F=Date.now(),vo(p),p.B=lr(p.A);var O=p.B,F=p.S;Array.isArray(F)||(F=[String(F)]),jl(O.i,"t",F),p.C=0,O=p.j.L,p.h=new nd,p.g=hd(p.j,O?T:null,!p.u),p.P>0&&(p.O=new mo(f(p.Y,p,p.g),p.P)),T=p.V,O=p.g,F=p.ba;var X="readystatechange";Array.isArray(X)||(X&&(xl[0]=X.toString()),X=xl);for(let ne=0;ne<X.length;ne++){const ve=he(O,X[ne],F||T.handleEvent,!1,T.h||T);if(!ve)break;T.g[ve.key]=ve}T=p.J?q(p.J):{},p.u?(p.v||(p.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,T)):(p.v="GET",p.g.ea(p.B,p.v,null,T)),Ii(),Jf(p.i,p.v,p.B,p.l,p.S,p.u)}ur.prototype.ba=function(p){p=p.target;const T=this.O;T&&ei(p)==3?T.j():this.Y(p)},ur.prototype.Y=function(p){try{if(p==this.g)e:{const Ue=ei(this.g),$t=this.g.ya(),ft=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||fd(this.g)))){this.K||Ue!=4||$t==7||($t==8||ft<=0?Ii(3):Ii(2)),Os(this);var T=this.g.ca();this.X=T;var O=id(this);if(this.o=T==200,Zf(this.i,this.v,this.B,this.l,this.S,Ue,T),this.o){if(this.U&&!this.L){t:{if(this.g){var F,X=this.g;if((F=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(F)){var ne=F;break t}}ne=null}if(p=ne)Hr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_t(this,p);else{this.o=!1,this.m=3,Dt(12),Ci(this),xo(this);break e}}if(this.R){p=!0;let Ft;for(;!this.K&&this.C<O.length;)if(Ft=od(this,O),Ft==wl){Ue==4&&(this.m=4,Dt(14),p=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==rd){this.m=4,Dt(15),Hr(this.i,this.l,O,"[Invalid Chunk]"),p=!1;break}else Hr(this.i,this.l,Ft,null),_t(this,Ft);if(ad(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||O.length!=0||this.h.h||(this.m=1,Dt(16),p=!1),this.o=this.o&&p,!p)Hr(this.i,this.l,O,"[Invalid Chunked Response]"),Ci(this),xo(this);else if(O.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Po(ve),ve.P=!0,Dt(11))}}else Hr(this.i,this.l,O,null),_t(this,O);Ue==4&&Ci(this),this.o&&!this.K&&(Ue==4?Vs(this.j,this):(this.o=!1,vo(this)))}else Dl(this.g),T==400&&O.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),Ci(this),xo(this)}}}catch{}finally{}};function id(p){if(!ad(p))return p.g.la();const T=fd(p.g);if(T==="")return"";let O="";const F=T.length,X=ei(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Ci(p),xo(p),"";p.h.i=new s.TextDecoder}for(let ne=0;ne<F;ne++)p.h.h=!0,O+=p.h.i.decode(T[ne],{stream:!(X&&ne==F-1)});return T.length=0,p.h.g+=O,p.C=0,p.h.g}function ad(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function od(p,T){var O=p.C,F=T.indexOf(`
`,O);return F==-1?wl:(O=Number(T.substring(O,F)),isNaN(O)?rd:(F+=1,F+O>T.length?wl:(T=T.slice(F,F+O),p.C=F+O,T)))}ur.prototype.cancel=function(){this.K=!0,Ci(this)};function vo(p){p.T=Date.now()+p.H,El(p,p.H)}function El(p,T){if(p.D!=null)throw Error("WatchDog timer not null");p.D=va(f(p.aa,p),T)}function Os(p){p.D&&(s.clearTimeout(p.D),p.D=null)}ur.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(ed(this.i,this.B),this.M!=2&&(Ii(),Dt(17)),Ci(this),this.m=2,xo(this)):El(this,this.T-p)};function xo(p){p.j.I==0||p.K||Vs(p.j,p)}function Ci(p){Os(p);var T=p.O;T&&typeof T.dispose=="function"&&T.dispose(),p.O=null,Es(p.V),p.g&&(T=p.g,p.g=null,T.abort(),T.dispose())}function _t(p,T){try{var O=p.j;if(O.I!=0&&(O.g==p||Al(O.h,p))){if(!p.L&&Al(O.h,p)&&O.I==3){try{var F=O.Ba.g.parse(T)}catch{F=null}if(Array.isArray(F)&&F.length==3){var X=F;if(X[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<p.F)$s(O),Jn(O);else break e;ri(O),Dt(18)}}else O.xa=X[1],0<O.xa-O.K&&X[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=va(f(O.Va,O),6e3));bo(O.h)<=1&&O.ta&&(O.ta=void 0)}else Zn(O,11)}else if((p.L||O.g==p)&&$s(O),!L(T))for(X=O.Ba.g.parse(T),T=0;T<X.length;T++){let ft=X[T];const Ft=ft[0];if(!(Ft<=O.K))if(O.K=Ft,ft=ft[1],O.I==2)if(ft[0]=="c"){O.M=ft[1],O.ba=ft[2];const er=ft[3];er!=null&&(O.ka=er,O.j.info("VER="+O.ka));const Mi=ft[4];Mi!=null&&(O.za=Mi,O.j.info("SVER="+O.za));const ii=ft[5];ii!=null&&typeof ii=="number"&&ii>0&&(F=1.5*ii,O.O=F,O.j.info("backChannelRequestTimeoutMs_="+F)),F=O;const ai=p.g;if(ai){const Us=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var ne=F.h;ne.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(ks(ne,ne.h),ne.h=null))}if(F.G){const $l=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;$l&&(F.wa=$l,it(F.J,F.G,$l))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-p.F,O.j.info("Handshake RTT: "+O.T+"ms")),F=O;var ve=p;if(F.na=Ll(F,F.L?F.ba:null,F.W),ve.L){_o(F.h,ve);var Ue=ve,$t=F.O;$t&&(Ue.H=$t),Ue.D&&(Os(Ue),vo(Ue)),F.g=ve}else wn(F);O.i.length>0&&Di(O)}else ft[0]!="stop"&&ft[0]!="close"||Zn(O,7);else O.I==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?Zn(O,7):Ms(O):ft[0]!="noop"&&O.l&&O.l.qa(ft),O.A=0)}}Ii(4)}catch{}}var ig=class{constructor(p,T){this.g=p,this.map=T}};function Cs(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sl(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function bo(p){return p.h?1:p.g?p.g.size:0}function Al(p,T){return p.h?p.h==T:p.g?p.g.has(T):!1}function ks(p,T){p.g?p.g.add(T):p.h=T}function _o(p,T){p.h&&p.h==T?p.h=null:p.g&&p.g.has(T)&&p.g.delete(T)}Cs.prototype.cancel=function(){if(this.i=Yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Yn(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let T=p.i;for(const O of p.g.values())T=T.concat(O.G);return T}return b(p.i)}var sd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xn(p,T){if(p){p=p.split("&");for(let O=0;O<p.length;O++){const F=p[O].indexOf("=");let X,ne=null;F>=0?(X=p[O].substring(0,F),ne=p[O].substring(F+1)):X=p[O],T(X,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Kr(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;p instanceof Kr?(this.l=p.l,wo(this,p.j),this.o=p.o,this.g=p.g,Yr(this,p.u),this.h=p.h,wa(this,Rl(p.i)),this.m=p.m):p&&(T=String(p).match(sd))?(this.l=!1,wo(this,T[1]||"",!0),this.o=To(T[2]||""),this.g=To(T[3]||"",!0),Yr(this,T[4]),this.h=To(T[5]||"",!0),wa(this,T[6]||"",!0),this.m=To(T[7]||"")):(this.l=!1,this.i=new Qe(null,this.l))}Kr.prototype.toString=function(){const p=[];var T=this.j;T&&p.push(Eo(T,Pl,!0),":");var O=this.g;return(O||T=="file")&&(p.push("//"),(T=this.o)&&p.push(Eo(T,Pl,!0),"@"),p.push(Gr(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&p.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&p.push("/"),p.push(Eo(O,O.charAt(0)=="/"?So:Ol,!0))),(O=this.i.toString())&&p.push("?",O),(O=this.m)&&p.push("#",Eo(O,Cl)),p.join("")},Kr.prototype.resolve=function(p){const T=lr(this);let O=!!p.j;O?wo(T,p.j):O=!!p.o,O?T.o=p.o:O=!!p.g,O?T.g=p.g:O=p.u!=null;var F=p.h;if(O)Yr(T,p.u);else if(O=!!p.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var X=T.h.lastIndexOf("/");X!=-1&&(F=T.h.slice(0,X+1)+F)}if(X=F,X==".."||X==".")F="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){F=X.lastIndexOf("/",0)==0,X=X.split("/");const ne=[];for(let ve=0;ve<X.length;){const Ue=X[ve++];Ue=="."?F&&ve==X.length&&ne.push(""):Ue==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),F&&ve==X.length&&ne.push("")):(ne.push(Ue),F=!0)}F=ne.join("/")}else F=X}return O?T.h=F:O=p.i.toString()!=="",O?wa(T,Rl(p.i)):O=!!p.m,O&&(T.m=p.m),T};function lr(p){return new Kr(p)}function wo(p,T,O){p.j=O?To(T,!0):T,p.j&&(p.j=p.j.replace(/:$/,""))}function Yr(p,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);p.u=T}else p.u=null}function wa(p,T,O){T instanceof Qe?(p.i=T,js(p.i,p.l)):(O||(T=Eo(T,ag)),p.i=new Qe(T,p.l))}function it(p,T,O){p.i.set(T,O)}function ki(p){return it(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function To(p,T){return p?T?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Eo(p,T,O){return typeof p=="string"?(p=encodeURI(p).replace(T,Il),O&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Il(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Pl=/[#\/\?@]/g,Ol=/[#\?:]/g,So=/[#\?]/g,ag=/[#\?@]/g,Cl=/#/g;function Qe(p,T){this.h=this.g=null,this.i=p||null,this.j=!!T}function Xr(p){p.g||(p.g=new Map,p.h=0,p.i&&Xn(p.i,function(T,O){p.add(decodeURIComponent(T.replace(/\+/g," ")),O)}))}t=Qe.prototype,t.add=function(p,T){Xr(this),this.i=null,p=Qr(this,p);let O=this.g.get(p);return O||this.g.set(p,O=[]),O.push(T),this.h+=1,this};function kl(p,T){Xr(p),T=Qr(p,T),p.g.has(T)&&(p.i=null,p.h-=p.g.get(T).length,p.g.delete(T))}function Ns(p,T){return Xr(p),T=Qr(p,T),p.g.has(T)}t.forEach=function(p,T){Xr(this),this.g.forEach(function(O,F){O.forEach(function(X){p.call(T,X,F,this)},this)},this)};function Nl(p,T){Xr(p);let O=[];if(typeof T=="string")Ns(p,T)&&(O=O.concat(p.g.get(Qr(p,T))));else for(p=Array.from(p.g.values()),T=0;T<p.length;T++)O=O.concat(p[T]);return O}t.set=function(p,T){return Xr(this),this.i=null,p=Qr(this,p),Ns(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[T]),this.h+=1,this},t.get=function(p,T){return p?(p=Nl(this,p),p.length>0?String(p[0]):T):T};function jl(p,T,O){kl(p,T),O.length>0&&(p.i=null,p.g.set(Qr(p,T),b(O)),p.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],T=Array.from(this.g.keys());for(let F=0;F<T.length;F++){var O=T[F];const X=Gr(O);O=Nl(this,O);for(let ne=0;ne<O.length;ne++){let ve=X;O[ne]!==""&&(ve+="="+Gr(O[ne])),p.push(ve)}}return this.i=p.join("&")};function Rl(p){const T=new Qe;return T.i=p.i,p.g&&(T.g=new Map(p.g),T.h=p.h),T}function Qr(p,T){return T=String(T),p.j&&(T=T.toLowerCase()),T}function js(p,T){T&&!p.j&&(Xr(p),p.i=null,p.g.forEach(function(O,F){const X=F.toLowerCase();F!=X&&(kl(this,F),jl(this,X,O))},p)),p.j=T}function Jr(p,T){const O=new xa;if(s.Image){const F=new Image;F.onload=h(hn,O,"TestLoadImage: loaded",!0,T,F),F.onerror=h(hn,O,"TestLoadImage: error",!1,T,F),F.onabort=h(hn,O,"TestLoadImage: abort",!1,T,F),F.ontimeout=h(hn,O,"TestLoadImage: timeout",!1,T,F),s.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=p}else T(!1)}function Zr(p,T){const O=new xa,F=new AbortController,X=setTimeout(()=>{F.abort(),hn(O,"TestPingServer: timeout",!1,T)},1e4);fetch(p,{signal:F.signal}).then(ne=>{clearTimeout(X),ne.ok?hn(O,"TestPingServer: ok",!0,T):hn(O,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(X),hn(O,"TestPingServer: error",!1,T)})}function hn(p,T,O,F,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),F(O)}catch{}}function Ao(){this.g=new go}function Ni(p){this.i=p.Sb||null,this.h=p.ab||!1}m(Ni,ma),Ni.prototype.g=function(){return new Qn(this.i,this.h)};function Qn(p,T){pt.call(this),this.H=p,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Qn,pt),t=Qn.prototype,t.open=function(p,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=T,this.readyState=1,Pr(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(T.body=p),(this.H||s).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ta(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ud(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function ud(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var T=p.value?p.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!p.done}))&&(this.response=this.responseText+=T)}p.done?Ta(this):Pr(this),this.readyState==3&&ud(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Ta(this))},t.Na=function(p){this.g&&(this.response=p,Ta(this))},t.ga=function(){this.g&&Ta(this)};function Ta(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Pr(p)}t.setRequestHeader=function(p,T){this.A.append(p,T)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],T=this.h.entries();for(var O=T.next();!O.done;)O=O.value,p.push(O[0]+": "+O[1]),O=T.next();return p.join(`\r
`)};function Pr(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Qn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ld(p){let T="";return ie(p,function(O,F){T+=F,T+=":",T+=O,T+=`\r
`}),T}function Rs(p,T,O){e:{for(F in O){var F=!1;break e}F=!0}F||(O=ld(O),typeof p=="string"?O!=null&&Gr(O):it(p,T,O))}function mt(p){pt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(mt,pt);var cd=/^https?$/i,og=["POST","PUT"];t=mt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,T,O,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);T=T?T.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():td.g(),this.g.onreadystatechange=y(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(p),!0),this.B=!1}catch(ne){Ea(this,ne);return}if(p=O||"",O=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var X in F)O.set(X,F[X]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ne of F.keys())O.set(ne,F.get(ne));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(O.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=s.FormData&&p instanceof s.FormData,!(Array.prototype.indexOf.call(og,T,void 0)>=0)||F||X||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ve]of O)this.g.setRequestHeader(ne,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ne){Ea(this,ne)}};function Ea(p,T){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=T,p.o=5,Sa(p),Ri(p)}function Sa(p){p.A||(p.A=!0,vt(p,"complete"),vt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,vt(this,"complete"),vt(this,"abort"),Ri(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ji(this):this.Xa())},t.Xa=function(){ji(this)};function ji(p){if(p.h&&typeof a<"u"){if(p.v&&ei(p)==4)setTimeout(p.Ca.bind(p),0);else if(vt(p,"readystatechange"),ei(p)==4){p.h=!1;try{const ne=p.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var O;if(!(O=T)){var F;if(F=ne===0){let ve=String(p.D).match(sd)[1]||null;!ve&&s.self&&s.self.location&&(ve=s.self.location.protocol.slice(0,-1)),F=!cd.test(ve?ve.toLowerCase():"")}O=F}if(O)vt(p,"complete"),vt(p,"success");else{p.o=6;try{var X=ei(p)>2?p.g.statusText:""}catch{X=""}p.l=X+" ["+p.ca()+"]",Sa(p)}}finally{Ri(p)}}}}function Ri(p,T){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const O=p.g;p.g=null,T||vt(p,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ei(p){return p.g?p.g.readyState:0}t.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var T=this.g.responseText;return p&&T.indexOf(p)==0&&(T=T.substring(p.length)),Xf(T)}};function fd(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Dl(p){const T={};p=(p.g&&ei(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<p.length;F++){if(L(p[F]))continue;var O=Ps(p[F]);const X=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const ne=T[X]||[];T[X]=ne,ne.push(O)}re(T,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ti(p,T,O){return O&&O.internalChannelParams&&O.internalChannelParams[p]||T}function Ds(p){this.za=0,this.i=[],this.j=new xa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ti("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ti("baseRetryDelayMs",5e3,p),this.Za=ti("retryDelaySeedMs",1e4,p),this.Ta=ti("forwardChannelMaxRetries",2,p),this.va=ti("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Cs(p&&p.concurrentRequestLimit),this.Ba=new Ao,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ds.prototype,t.ka=8,t.I=1,t.connect=function(p,T,O,F){Dt(0),this.W=p,this.H=T||{},O&&F!==void 0&&(this.H.OSID=O,this.H.OAID=F),this.F=this.X,this.J=Ll(this,null,this.W),Di(this)};function Ms(p){if(Ls(p),p.I==3){var T=p.V++,O=lr(p.J);if(it(O,"SID",p.M),it(O,"RID",T),it(O,"TYPE","terminate"),ni(p,O),T=new ur(p,p.j,T),T.M=2,T.A=ki(lr(O)),O=!1,s.navigator&&s.navigator.sendBeacon)try{O=s.navigator.sendBeacon(T.A.toString(),"")}catch{}!O&&s.Image&&(new Image().src=T.A,O=!0),O||(T.g=hd(T.j,null),T.g.ea(T.A)),T.F=Date.now(),vo(T)}Oo(p)}function Jn(p){p.g&&(Po(p),p.g.cancel(),p.g=null)}function Ls(p){Jn(p),p.v&&(s.clearTimeout(p.v),p.v=null),$s(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&s.clearTimeout(p.m),p.m=null)}function Di(p){if(!Sl(p.h)&&!p.m){p.m=!0;var T=p.Ea;I||P(),N||(I(),N=!0),A.add(T,p),p.D=0}}function dd(p,T){return bo(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=T.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=va(f(p.Ea,p,T),Bs(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const X=new ur(this,this.j,p);let ne=this.o;if(this.U&&(ne?(ne=q(ne),ge(ne,this.U)):ne=this.U),this.u!==null||this.R||(X.J=ne,ne=null),this.S)e:{for(var T=0,O=0;O<this.i.length;O++){t:{var F=this.i[O];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(T+=F,T>4096){T=O;break e}if(T===4096||O===this.i.length-1){T=O+1;break e}}T=1e3}else T=1e3;T=Ml(this,X,T),O=lr(this.J),it(O,"RID",p),it(O,"CVER",22),this.G&&it(O,"X-HTTP-Session-Id",this.G),ni(this,O),ne&&(this.R?T="headers="+Gr(ld(ne))+"&"+T:this.u&&Rs(O,this.u,ne)),ks(this.h,X),this.Ra&&it(O,"TYPE","init"),this.S?(it(O,"$req",T),it(O,"SID","null"),X.U=!0,Ir(X,O,null)):Ir(X,O,T),this.I=2}}else this.I==3&&(p?Io(this,p):this.i.length==0||Sl(this.h)||Io(this))};function Io(p,T){var O;T?O=T.l:O=p.V++;const F=lr(p.J);it(F,"SID",p.M),it(F,"RID",O),it(F,"AID",p.K),ni(p,F),p.u&&p.o&&Rs(F,p.u,p.o),O=new ur(p,p.j,O,p.D+1),p.u===null&&(O.J=p.o),T&&(p.i=T.G.concat(p.i)),T=Ml(p,O,1e3),O.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),ks(p.h,O),Ir(O,F,T)}function ni(p,T){p.H&&ie(p.H,function(O,F){it(T,F,O)}),p.l&&ie({},function(O,F){it(T,F,O)})}function Ml(p,T,O){O=Math.min(p.i.length,O);const F=p.l?f(p.l.Ka,p.l,p):null;e:{var X=p.i;let Ue=-1;for(;;){const $t=["count="+O];Ue==-1?O>0?(Ue=X[0].g,$t.push("ofs="+Ue)):Ue=0:$t.push("ofs="+Ue);let ft=!0;for(let Ft=0;Ft<O;Ft++){var ne=X[Ft].g;const er=X[Ft].map;if(ne-=Ue,ne<0)Ue=Math.max(0,X[Ft].g-100),ft=!1;else try{ne="req"+ne+"_"||"";try{var ve=er instanceof Map?er:Object.entries(er);for(const[Mi,ii]of ve){let ai=ii;l(ii)&&(ai=pa(ii)),$t.push(ne+Mi+"="+encodeURIComponent(ai))}}catch(Mi){throw $t.push(ne+"type="+encodeURIComponent("_badmap")),Mi}}catch{F&&F(er)}}if(ft){ve=$t.join("&");break e}}ve=void 0}return p=p.i.splice(0,O),T.G=p,ve}function wn(p){if(!p.g&&!p.v){p.Y=1;var T=p.Da;I||P(),N||(I(),N=!0),A.add(T,p),p.A=0}}function ri(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=va(f(p.Da,p),Bs(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,Aa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=va(f(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Jn(this),Aa(this))};function Po(p){p.B!=null&&(s.clearTimeout(p.B),p.B=null)}function Aa(p){p.g=new ur(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var T=lr(p.na);it(T,"RID","rpc"),it(T,"SID",p.M),it(T,"AID",p.K),it(T,"CI",p.F?"0":"1"),!p.F&&p.ia&&it(T,"TO",p.ia),it(T,"TYPE","xmlhttp"),ni(p,T),p.u&&p.o&&Rs(T,p.u,p.o),p.O&&(p.g.H=p.O);var O=p.g;p=p.ba,O.M=1,O.A=ki(lr(T)),O.u=null,O.R=!0,Tl(O,p)}t.Va=function(){this.C!=null&&(this.C=null,Jn(this),ri(this),Dt(19))};function $s(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function Vs(p,T){var O=null;if(p.g==T){$s(p),Po(p),p.g=null;var F=2}else if(Al(p.h,T))O=T.G,_o(p.h,T),F=1;else return;if(p.I!=0){if(T.o)if(F==1){O=T.u?T.u.length:0,T=Date.now()-T.F;var X=p.D;F=ya(),vt(F,new _l(F,O)),Di(p)}else wn(p);else if(X=T.m,X==3||X==0&&T.X>0||!(F==1&&dd(p,T)||F==2&&ri(p)))switch(O&&O.length>0&&(T=p.h,T.i=T.i.concat(O)),X){case 1:Zn(p,5);break;case 4:Zn(p,10);break;case 3:Zn(p,6);break;default:Zn(p,2)}}}function Bs(p,T){let O=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(O*=2),O*T}function Zn(p,T){if(p.j.info("Error code "+T),T==2){var O=f(p.bb,p),F=p.Ua;const X=!F;F=new Kr(F||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||wo(F,"https"),ki(F),X?Jr(F.toString(),O):Zr(F.toString(),O)}else Dt(2);p.I=0,p.l&&p.l.pa(T),Oo(p),Ls(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Oo(p){if(p.I=0,p.ja=[],p.l){const T=Yn(p.h);(T.length!=0||p.i.length!=0)&&(S(p.ja,T),S(p.ja,p.i),p.h.i.length=0,b(p.i),p.i.length=0),p.l.oa()}}function Ll(p,T,O){var F=O instanceof Kr?lr(O):new Kr(O);if(F.g!="")T&&(F.g=T+"."+F.g),Yr(F,F.u);else{var X=s.location;F=X.protocol,T=T?T+"."+X.hostname:X.hostname,X=+X.port;const ne=new Kr(null);F&&wo(ne,F),T&&(ne.g=T),X&&Yr(ne,X),O&&(ne.h=O),F=ne}return O=p.G,T=p.wa,O&&T&&it(F,O,T),it(F,"VER",p.ka),ni(p,F),F}function hd(p,T,O){if(T&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=p.Aa&&!p.ma?new mt(new Ni({ab:O})):new mt(p.ma),T.Fa(p.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pd(){}t=pd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Fs(){}Fs.prototype.g=function(p,T){return new pn(p,T)};function pn(p,T){pt.call(this),this.g=new Ds(T),this.l=p,this.h=T&&T.messageUrlParams||null,p=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(p?p["X-WebChannel-Content-Type"]=T.messageContentType:p={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(p?p["X-WebChannel-Client-Profile"]=T.sa:p={"X-WebChannel-Client-Profile":T.sa}),this.g.U=p,(p=T&&T.Qb)&&!L(p)&&(this.g.u=p),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!L(T)&&(this.g.G=T,p=this.h,p!==null&&T in p&&(p=this.h,T in p&&delete p[T])),this.j=new Ia(this)}m(pn,pt),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Ms(this.g)},pn.prototype.o=function(p){var T=this.g;if(typeof p=="string"){var O={};O.__data__=p,p=O}else this.v&&(O={},O.__data__=pa(p),p=O);T.i.push(new ig(T.Ya++,p)),T.I==3&&Di(T)},pn.prototype.N=function(){this.g.l=null,delete this.j,Ms(this.g),delete this.g,pn.Z.N.call(this)};function md(p){Ss.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var T=p.__sm__;if(T){e:{for(const O in T){p=O;break e}p=void 0}(this.i=p)&&(p=this.i,T=T!==null&&p in T?T[p]:void 0),this.data=T}else this.data=p}m(md,Ss);function gd(){bl.call(this),this.status=1}m(gd,bl);function Ia(p){this.g=p}m(Ia,pd),Ia.prototype.ra=function(){vt(this.g,"a")},Ia.prototype.qa=function(p){vt(this.g,new md(p))},Ia.prototype.pa=function(p){vt(this.g,new gd)},Ia.prototype.oa=function(){vt(this.g,"b")},Fs.prototype.createWebChannel=Fs.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,fR=function(){return new Fs},cR=function(){return ya()},lR=Ar,n_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ba.NO_ERROR=0,ba.TIMEOUT=8,ba.HTTP_ERROR=6,Dh=ba,_a.COMPLETE="complete",uR=_a,Qf.EventType=ga,ga.OPEN="a",ga.CLOSE="b",ga.ERROR="c",ga.MESSAGE="d",pt.prototype.listen=pt.prototype.J,bc=Qf,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,sR=mt}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="12.9.0";function YB(t){ul=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new Lw("@firebase/firestore");function hu(){return us.logLevel}function we(t,...e){if(us.logLevel<=Ke.DEBUG){const n=e.map(Xw);us.debug(`Firestore (${ul}): ${t}`,...n)}}function aa(t,...e){if(us.logLevel<=Ke.ERROR){const n=e.map(Xw);us.error(`Firestore (${ul}): ${t}`,...n)}}function ls(t,...e){if(us.logLevel<=Ke.WARN){const n=e.map(Xw);us.warn(`Firestore (${ul}): ${t}`,...n)}}function Xw(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,dR(t,r,n)}function dR(t,e,n){let r=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw aa(r),new Error(r)}function ct(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||dR(e,i,r)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends ca{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(On.UNAUTHENTICATED)))}shutdown(){}}class QB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class JB{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new Zo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Zo,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zo)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string",31837,{l:r}),new hR(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new On(e)}}class ZB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=On.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class eF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ZB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(On.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class PA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new PA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new PA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=nF(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function r_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Vy(i)===Vy(a)?Ye(i,a):Vy(i)?1:-1}return Ye(t.length,e.length)}const rF=55296,iF=57343;function Vy(t){const e=t.charCodeAt(0);return e>=rF&&e<=iF}function ju(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="__name__";class ci{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ci.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Ye(e.length,n.length)}static compareSegments(e,n){const r=ci.isNumericId(e),i=ci.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ci.extractNumericId(e).compare(ci.extractNumericId(n)):r_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Za.fromString(e.substring(4,e.length-2))}}class St extends ci{construct(e,n,r){return new St(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new St(n)}static emptyPath(){return new St([])}}const aF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends ci{construct(e,n,r){return new xn(e,n,r)}static isValidIdentifier(e){return aF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OA}static keyField(){return new xn([OA])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Pe(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Pe(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Pe(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(a(),i++)}if(a(),s)throw new Pe(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(n)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(St.fromString(e))}static fromName(e){return new ke(St.fromString(e).popFirst(5))}static empty(){return new ke(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new St(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t,e,n){if(!n)throw new Pe(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oF(t,e,n,r){if(e===!0&&r===!0)throw new Pe(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CA(t){if(!ke.isDocumentKey(t))throw new Pe(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kA(t){if(ke.isDocumentKey(t))throw new Pe(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Jw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jw(t);throw new Pe(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lf(t,e){if(!mR(t))throw new Pe(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Pe(fe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=-62135596800,jA=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jA);return new At(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<NA)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jA}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lf(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-NA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Ht("string",At._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new At(0,0))}static max(){return new Fe(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=-1;function sF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new no(i,ke.empty(),e)}function uF(t){return new no(t.readTime,t.key,Fc)}class no{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new no(Fe.min(),ke.empty(),Fc)}static max(){return new no(Fe.max(),ke.empty(),Fc)}}function lF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==cF)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,r)=>{n(e)}))}static reject(e){return new ue(((n,r)=>{r(e)}))}static waitFor(e){return new ue(((n,r)=>{let i=0,a=0,s=!1;e.forEach((l=>{++i,l.next((()=>{++a,s&&a===i&&n()}),(c=>r(c)))})),s=!0,a===i&&n()}))}static or(e){let n=ue.resolve(!1);for(const r of e)n=n.next((i=>i?ue.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new ue(((r,i)=>{const a=e.length,s=new Array(a);let l=0;for(let c=0;c<a;c++){const f=c;n(e[f]).next((h=>{s[f]=h,++l,l===a&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new ue(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function dF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=-1;function fm(t){return t==null}function Xh(t){return t===0&&1/t==-1/0}function hF(t){return typeof t=="number"&&Number.isInteger(t)&&!Xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="";function pF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=RA(e)),e=mF(t.get(n),e);return RA(e)}function mF(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case gR:n+="";break;default:n+=a}}return n}function RA(t){return t+gR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??vn.RED,this.left=i??vn.EMPTY,this.right=a??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new vn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new MA(this.data.getIterator())}getIteratorFrom(e){return new MA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class MA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new Br([])}unionWith(e){let n=new rn(xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ju(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new vR("Invalid base64 string: "+a):a}})(e);return new _n(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const gF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ro(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=gF.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function io(t){return typeof t=="string"?_n.fromBase64String(t):_n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="server_timestamp",bR="__type__",_R="__previous_value__",wR="__local_write_time__";function e1(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[bR])==null?void 0:r.stringValue)===xR}function dm(t){const e=t.mapValue.fields[_R];return e1(e)?dm(e):e}function Uc(t){const e=ro(t.mapValue.fields[wR].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n,r,i,a,s,l,c,f,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h,this.apiKey=m}}const Qh="(default)";class qc{constructor(e,n){this.projectId=e,this.database=n||Qh}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof qc&&e.projectId===this.projectId&&e.database===this.database}}function vF(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Pe(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="__type__",xF="__max__",ph={mapValue:{}},ER="__vector__",Jh="value";function ao(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?e1(t)?4:_F(t)?9007199254740991:bF(t)?10:11:Me(28295,{value:t})}function _i(t,e){if(t===e)return!0;const n=ao(t);if(n!==ao(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uc(t).isEqual(Uc(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=ro(i.timestampValue),l=ro(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return io(i.bytesValue).isEqual(io(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Bt(i.geoPointValue.latitude)===Bt(a.geoPointValue.latitude)&&Bt(i.geoPointValue.longitude)===Bt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Bt(i.integerValue)===Bt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Bt(i.doubleValue),l=Bt(a.doubleValue);return s===l?Xh(s)===Xh(l):isNaN(s)&&isNaN(l)}return!1})(t,e);case 9:return ju(t.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(DA(s)!==DA(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!_i(s[c],l[c])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function zc(t,e){return(t.values||[]).find((n=>_i(n,e)))!==void 0}function Ru(t,e){if(t===e)return 0;const n=ao(t),r=ao(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const l=Bt(a.integerValue||a.doubleValue),c=Bt(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return LA(t.timestampValue,e.timestampValue);case 4:return LA(Uc(t),Uc(e));case 5:return r_(t.stringValue,e.stringValue);case 6:return(function(a,s){const l=io(a),c=io(s);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const l=a.split("/"),c=s.split("/");for(let f=0;f<l.length&&f<c.length;f++){const h=Ye(l[f],c[f]);if(h!==0)return h}return Ye(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const l=Ye(Bt(a.latitude),Bt(s.latitude));return l!==0?l:Ye(Bt(a.longitude),Bt(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return $A(t.arrayValue,e.arrayValue);case 10:return(function(a,s){var y,b,S,E;const l=a.fields||{},c=s.fields||{},f=(y=l[Jh])==null?void 0:y.arrayValue,h=(b=c[Jh])==null?void 0:b.arrayValue,m=Ye(((S=f==null?void 0:f.values)==null?void 0:S.length)||0,((E=h==null?void 0:h.values)==null?void 0:E.length)||0);return m!==0?m:$A(f,h)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===ph.mapValue&&s===ph.mapValue)return 0;if(a===ph.mapValue)return 1;if(s===ph.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const y=r_(c[m],h[m]);if(y!==0)return y;const b=Ru(l[c[m]],f[h[m]]);if(b!==0)return b}return Ye(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function LA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=ro(t),r=ro(e),i=Ye(n.seconds,r.seconds);return i!==0?i:Ye(n.nanos,r.nanos)}function $A(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Ru(n[i],r[i]);if(a)return a}return Ye(n.length,r.length)}function Du(t){return i_(t)}function i_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ro(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return io(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=i_(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${i_(n.fields[s])}`;return i+"}"})(t.mapValue):Me(61005,{value:t})}function Mh(t){switch(ao(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dm(t);return e?16+Mh(e):16;case 5:return 2*t.stringValue.length;case 6:return io(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Mh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return gs(r.fields,((a,s)=>{i+=a.length+Mh(s)})),i})(t.mapValue);default:throw Me(13486,{value:t})}}function a_(t){return!!t&&"integerValue"in t}function t1(t){return!!t&&"arrayValue"in t}function VA(t){return!!t&&"nullValue"in t}function BA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lh(t){return!!t&&"mapValue"in t}function bF(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[TR])==null?void 0:r.stringValue)===ER}function kc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return gs(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=kc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kc(t.arrayValue.values[n]);return e}return{...t}}function _F(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.value=e}static empty(){return new xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(n)}setAll(e){let n=xn.emptyPath(),r={},i=[];e.forEach(((s,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=kc(s):i.push(l.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){gs(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new xr(kc(this.value))}}function SR(t){const e=[];return gs(t.fields,((n,r)=>{const i=new xn([n]);if(Lh(r)){const a=SR(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new Br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,r,i,a,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Cn(e,0,Fe.min(),Fe.min(),Fe.min(),xr.empty(),0)}static newFoundDocument(e,n,r,i){return new Cn(e,1,n,Fe.min(),r,i,0)}static newNoDocument(e,n){return new Cn(e,2,n,Fe.min(),Fe.min(),xr.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Fe.min(),Fe.min(),xr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.position=e,this.inclusive=n}}function FA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=ke.comparator(ke.fromName(s.referenceValue),n.key):r=Ru(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function UA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_i(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n="asc"){this.field=e,this.dir=n}}function wF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{}class en extends AR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EF(e,n,r):n==="array-contains"?new IF(e,r):n==="in"?new PF(e,r):n==="not-in"?new OF(e,r):n==="array-contains-any"?new CF(e,r):new en(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new SF(e,r):new AF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ru(n,this.value)):n!==null&&ao(this.value)===ao(n)&&this.matchesComparison(Ru(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends AR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wi(e,n)}matches(e){return IR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IR(t){return t.op==="and"}function PR(t){return TF(t)&&IR(t)}function TF(t){for(const e of t.filters)if(e instanceof wi)return!1;return!0}function o_(t){if(t instanceof en)return t.field.canonicalString()+t.op.toString()+Du(t.value);if(PR(t))return t.filters.map((e=>o_(e))).join(",");{const e=t.filters.map((n=>o_(n))).join(",");return`${t.op}(${e})`}}function OR(t,e){return t instanceof en?(function(r,i){return i instanceof en&&r.op===i.op&&r.field.isEqual(i.field)&&_i(r.value,i.value)})(t,e):t instanceof wi?(function(r,i){return i instanceof wi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,s,l)=>a&&OR(s,i.filters[l])),!0):!1})(t,e):void Me(19439)}function CR(t){return t instanceof en?(function(n){return`${n.field.canonicalString()} ${n.op} ${Du(n.value)}`})(t):t instanceof wi?(function(n){return n.op.toString()+" {"+n.getFilters().map(CR).join(" ,")+"}"})(t):"Filter"}class EF extends en{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class SF extends en{constructor(e,n){super(e,"in",n),this.keys=kR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class AF extends en{constructor(e,n){super(e,"not-in",n),this.keys=kR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function kR(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ke.fromName(r.referenceValue)))}class IF extends en{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return t1(n)&&zc(n.arrayValue,this.value)}}class PF extends en{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zc(this.value.arrayValue,n)}}class OF extends en{constructor(e,n){super(e,"not-in",n)}matches(e){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zc(this.value.arrayValue,n)}}class CF extends en{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!t1(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>zc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,n=null,r=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.Te=null}}function qA(t,e=null,n=[],r=[],i=null,a=null,s=null){return new kF(t,e,n,r,i,a,s)}function n1(t){const e=qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>o_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),fm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Du(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Du(r))).join(",")),e.Te=n}return e.Te}function r1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UA(t.startAt,e.startAt)&&UA(t.endAt,e.endAt)}function s_(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n=null,r=[],i=[],a=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function NF(t,e,n,r,i,a,s,l){return new hm(t,e,n,r,i,a,s,l)}function i1(t){return new hm(t)}function zA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jF(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function RF(t){return t.collectionGroup!==null}function Nc(t){const e=qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new rn(xn.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new ep(a,r))})),n.has(xn.keyField().canonicalString())||e.Ie.push(new ep(xn.keyField(),r))}return e.Ie}function pi(t){const e=qe(t);return e.Ee||(e.Ee=DF(e,Nc(t))),e.Ee}function DF(t,e){if(t.limitType==="F")return qA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new ep(i.field,a)}));const n=t.endAt?new Zh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zh(t.startAt.position,t.startAt.inclusive):null;return qA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function u_(t,e,n){return new hm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pm(t,e){return r1(pi(t),pi(e))&&t.limitType===e.limitType}function NR(t){return`${n1(pi(t))}|lt:${t.limitType}`}function pu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>CR(i))).join(", ")}]`),fm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Du(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Du(i))).join(",")),`Target(${r})`})(pi(t))}; limitType=${t.limitType})`}function mm(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ke.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Nc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,l,c){const f=FA(s,l,c);return s.inclusive?f<=0:f<0})(r.startAt,Nc(r),i)||r.endAt&&!(function(s,l,c){const f=FA(s,l,c);return s.inclusive?f>=0:f>0})(r.endAt,Nc(r),i))})(t,e)}function MF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jR(t){return(e,n)=>{let r=!1;for(const i of Nc(t)){const a=LF(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function LF(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):(function(a,s,l){const c=s.data.field(a),f=l.data.field(a);return c!==null&&f!==null?Ru(c,f):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return yR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=new jt(ke.comparator);function oa(){return $F}const RR=new jt(ke.comparator);function _c(...t){let e=RR;for(const n of t)e=e.insert(n.key,n);return e}function DR(t){let e=RR;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Go(){return jc()}function MR(){return jc()}function jc(){return new ys((t=>t.toString()),((t,e)=>t.isEqual(e)))}const VF=new jt(ke.comparator),BF=new rn(ke.comparator);function Xe(...t){let e=BF;for(const n of t)e=e.add(n);return e}const FF=new rn(Ye);function UF(){return FF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function LR(t){return{integerValue:""+t}}function qF(t,e){return hF(e)?LR(e):a1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this._=void 0}}function zF(t,e,n){return t instanceof Wc?(function(i,a){const s={fields:{[bR]:{stringValue:xR},[wR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&e1(a)&&(a=dm(a)),a&&(s.fields[_R]=a),{mapValue:s}})(n,e):t instanceof Hc?VR(t,e):t instanceof Gc?BR(t,e):(function(i,a){const s=$R(i,a),l=WA(s)+WA(i.Ae);return a_(s)&&a_(i.Ae)?LR(l):a1(i.serializer,l)})(t,e)}function WF(t,e,n){return t instanceof Hc?VR(t,e):t instanceof Gc?BR(t,e):n}function $R(t,e){return t instanceof tp?(function(r){return a_(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Wc extends gm{}class Hc extends gm{constructor(e){super(),this.elements=e}}function VR(t,e){const n=FR(e);for(const r of t.elements)n.some((i=>_i(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Gc extends gm{constructor(e){super(),this.elements=e}}function BR(t,e){let n=FR(e);for(const r of t.elements)n=n.filter((i=>!_i(i,r)));return{arrayValue:{values:n}}}class tp extends gm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function WA(t){return Bt(t.integerValue||t.doubleValue)}function FR(t){return t1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n){this.field=e,this.transform=n}}function GF(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Hc&&i instanceof Hc||r instanceof Gc&&i instanceof Gc?ju(r.elements,i.elements,_i):r instanceof tp&&i instanceof tp?_i(r.Ae,i.Ae):r instanceof Wc&&i instanceof Wc})(t.transform,e.transform)}class KF{constructor(e,n){this.version=e,this.transformResults=n}}class mi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $h(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ym{}function UR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new o1(t.key,mi.none()):new $f(t.key,t.data,mi.none());{const n=t.data,r=xr.empty();let i=new rn(xn.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new vs(t.key,r,new Br(i.toArray()),mi.none())}}function YF(t,e,n){t instanceof $f?(function(i,a,s){const l=i.value.clone(),c=GA(i.fieldTransforms,a,s.transformResults);l.setAll(c),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(t,e,n):t instanceof vs?(function(i,a,s){if(!$h(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=GA(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(qR(i)),c.setAll(l),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function Rc(t,e,n,r){return t instanceof $f?(function(a,s,l,c){if(!$h(a.precondition,s))return l;const f=a.value.clone(),h=KA(a.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof vs?(function(a,s,l,c){if(!$h(a.precondition,s))return l;const f=KA(a.fieldTransforms,c,s),h=s.data;return h.setAll(qR(a)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(a,s,l){return $h(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(t,e,n)}function XF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=$R(r.transform,i||null);a!=null&&(n===null&&(n=xr.empty()),n.set(r.field,a))}return n||null}function HA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ju(r,i,((a,s)=>GF(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $f extends ym{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vs extends ym{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function qR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function GA(t,e,n){const r=new Map;ct(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,l=e.data.field(a.field);r.set(a.field,WF(s,l,n[i]))}return r}function KA(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,zF(a,s,e))}return r}class o1 extends ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QF extends ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&YF(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=MR();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=n.has(i.key)?null:l;const c=UR(s,l);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Fe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&ju(this.mutations,e.mutations,((n,r)=>HA(n,r)))&&ju(this.baseMutations,e.baseMutations,((n,r)=>HA(n,r)))}}class s1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return VF})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new s1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Je;function t5(t){switch(t){case fe.OK:return Me(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function zR(t){if(t===void 0)return aa("GRPC error has no .code"),fe.UNKNOWN;switch(t){case qt.OK:return fe.OK;case qt.CANCELLED:return fe.CANCELLED;case qt.UNKNOWN:return fe.UNKNOWN;case qt.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case qt.INTERNAL:return fe.INTERNAL;case qt.UNAVAILABLE:return fe.UNAVAILABLE;case qt.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case qt.NOT_FOUND:return fe.NOT_FOUND;case qt.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case qt.ABORTED:return fe.ABORTED;case qt.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case qt.DATA_LOSS:return fe.DATA_LOSS;default:return Me(39323,{code:t})}}(Je=qt||(qt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=new Za([4294967295,4294967295],0);function YA(t){const e=n5().encode(t),n=new oR;return n.update(e),new Uint8Array(n.digest())}function XA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Za([n,r],0),new Za([i,a],0)]}class u1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wc(`Invalid padding: ${n}`);if(r<0)throw new wc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Za.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Za.fromNumber(r)));return i.compare(r5)===1&&(i=new Za([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=YA(e),[r,i]=XA(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new u1(a,i,n);return r.forEach((l=>s.insert(l))),s}insert(e){if(this.ge===0)return;const n=YA(e),[r,i]=XA(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vm(Fe.min(),i,new jt(Ye),oa(),Xe())}}class Vf{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vf(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class WR{constructor(e,n){this.targetId=e,this.Ce=n}}class HR{constructor(e,n,r=_n.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class QA{constructor(){this.ve=0,this.Fe=JA(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),r=Xe();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Me(38017,{changeType:a})}})),new Vf(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=JA()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class i5{constructor(e){this.Ge=e,this.ze=new Map,this.je=oa(),this.He=mh(),this.Je=mh(),this.Ze=new jt(Ye)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(s_(a))if(r===0){const s=new ke(a.path);this.et(n,s,Cn.newNoDocument(s,Fe.min()))}else ct(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const l=this.ut(e),c=l?this.ct(l,e,s):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,l;try{s=io(r).toUint8Array()}catch(c){if(c instanceof vR)return ls("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new u1(s,i,a)}catch(c){return ls(c instanceof wc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const s=this.Ge.ht(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,s)=>{const l=this.ot(s);if(l){if(a.current&&s_(l.target)){const c=new ke(l.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Cn.newNoDocument(c,e))}a.Be&&(n.set(s,a.ke()),a.Ke())}}));let r=Xe();this.Je.forEach(((a,s)=>{let l=!0;s.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(e)));const i=new vm(e,n,this.Ze,this.je,r);return this.je=oa(),this.He=mh(),this.Je=mh(),this.Ze=new jt(Ye),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new QA,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new rn(Ye),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new rn(Ye),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new QA),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function mh(){return new jt(ke.comparator)}function JA(){return new jt(ke.comparator)}const a5={asc:"ASCENDING",desc:"DESCENDING"},o5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s5={and:"AND",or:"OR"};class u5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function l_(t,e){return t.useProto3Json||fm(e)?e:{value:e}}function np(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function l5(t,e){return np(t,e.toTimestamp())}function gi(t){return ct(!!t,49232),Fe.fromTimestamp((function(n){const r=ro(n);return new At(r.seconds,r.nanos)})(t))}function l1(t,e){return c_(t,e).canonicalString()}function c_(t,e){const n=(function(i){return new St(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function KR(t){const e=St.fromString(t);return ct(ZR(e),10190,{key:e.toString()}),e}function f_(t,e){return l1(t.databaseId,e.path)}function By(t,e){const n=KR(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(XR(n))}function YR(t,e){return l1(t.databaseId,e)}function c5(t){const e=KR(t);return e.length===4?St.emptyPath():XR(e)}function d_(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XR(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ZA(t,e,n){return{name:f_(t,e),fields:n.value.mapValue.fields}}function f5(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Me(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,h){return f.useProto3Json?(ct(h===void 0||typeof h=="string",58123),_n.fromBase64String(h||"")):(ct(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),_n.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&(function(f){const h=f.code===void 0?fe.UNKNOWN:zR(f.code);return new Pe(h,f.message||"")})(s);n=new HR(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=By(t,r.document.name),a=gi(r.document.updateTime),s=r.document.createTime?gi(r.document.createTime):Fe.min(),l=new xr({mapValue:{fields:r.document.fields}}),c=Cn.newFoundDocument(i,a,s,l),f=r.targetIds||[],h=r.removedTargetIds||[];n=new Vh(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=By(t,r.document),a=r.readTime?gi(r.readTime):Fe.min(),s=Cn.newNoDocument(i,a),l=r.removedTargetIds||[];n=new Vh([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=By(t,r.document),a=r.removedTargetIds||[];n=new Vh([],a,i,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new e5(i,a),l=r.targetId;n=new WR(l,s)}}return n}function d5(t,e){let n;if(e instanceof $f)n={update:ZA(t,e.key,e.value)};else if(e instanceof o1)n={delete:f_(t,e.key)};else if(e instanceof vs)n={update:ZA(t,e.key,e.data),updateMask:_5(e.fieldMask)};else{if(!(e instanceof QF))return Me(16599,{dt:e.type});n={verify:f_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,s){const l=s.transform;if(l instanceof Wc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Hc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Gc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof tp)return{fieldPath:s.field.canonicalString(),increment:l.Ae};throw Me(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:l5(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Me(27497)})(t,e.precondition)),n}function h5(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map((n=>(function(i,a){let s=i.updateTime?gi(i.updateTime):gi(a);return s.isEqual(Fe.min())&&(s=gi(a)),new KF(s,i.transformResults||[])})(n,e)))):[]}function p5(t,e){return{documents:[YR(t,e.path)]}}function m5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YR(t,i);const a=(function(f){if(f.length!==0)return JR(wi.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const s=(function(f){if(f.length!==0)return f.map((h=>(function(y){return{field:mu(y.field),direction:v5(y.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=l_(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function g5(t){let e=c5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ct(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=(function(m){const y=QR(m);return y instanceof wi&&PR(y)?y.getFilters():[y]})(n.where));let s=[];n.orderBy&&(s=(function(m){return m.map((y=>(function(S){return new ep(gu(S.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(y)))})(n.orderBy));let l=null;n.limit&&(l=(function(m){let y;return y=typeof m=="object"?m.value:m,fm(y)?null:y})(n.limit));let c=null;n.startAt&&(c=(function(m){const y=!!m.before,b=m.values||[];return new Zh(b,y)})(n.startAt));let f=null;return n.endAt&&(f=(function(m){const y=!m.before,b=m.values||[];return new Zh(b,y)})(n.endAt)),NF(e,i,s,a,l,"F",c,f)}function y5(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gu(n.unaryFilter.field);return en.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=gu(n.unaryFilter.field);return en.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=gu(n.unaryFilter.field);return en.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=gu(n.unaryFilter.field);return en.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return en.create(gu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return wi.create(n.compositeFilter.filters.map((r=>QR(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function v5(t){return a5[t]}function x5(t){return o5[t]}function b5(t){return s5[t]}function mu(t){return{fieldPath:t.canonicalString()}}function gu(t){return xn.fromServerFormat(t.fieldPath)}function JR(t){return t instanceof en?(function(n){if(n.op==="=="){if(BA(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NAN"}};if(VA(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BA(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NOT_NAN"}};if(VA(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mu(n.field),op:x5(n.op),value:n.value}}})(t):t instanceof wi?(function(n){const r=n.getFilters().map((i=>JR(i)));return r.length===1?r[0]:{compositeFilter:{op:b5(n.op),filters:r}}})(t):Me(54877,{filter:t})}function _5(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ZR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function eD(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n,r,i,a=Fe.min(),s=Fe.min(),l=_n.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.yt=e}}function T5(t){const e=g5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?u_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this.Sn=new S5}addToCollectionParentIndex(e,n){return this.Sn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(no.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(no.min())}updateCollectionGroup(e,n,r){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class S5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rn(St.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rn(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tD=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(tD,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Mu(0)}static ar(){return new Mu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="LruGarbageCollector",A5=1048576;function nI([t,e],[n,r]){const i=Ye(t,n);return i===0?Ye(e,r):i}class I5{constructor(e){this.Pr=e,this.buffer=new rn(nI),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();nI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class P5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){we(tI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cl(n)?we(tI,"Ignoring IndexedDB error during garbage collection: ",n):await ll(n)}await this.Ar(3e5)}))}}class O5{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(cm.ce);const r=new I5(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(eI)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eI):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,a,s,l,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,l=Date.now(),this.removeTargets(e,r,n)))).next((m=>(a=m,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(f=Date.now(),hu()<=Ke.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m}))))}}function C5(t,e){return new O5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(){this.changes=new ys((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Rc(r.mutation,i,Br.empty(),At.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Xe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Xe()){const i=Go();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let s=_c();return a.forEach(((l,c)=>{s=s.insert(l,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=Go();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Xe())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,l)=>{n.set(s,l)}))}))}computeViews(e,n,r,i){let a=oa();const s=jc(),l=(function(){return jc()})();return n.forEach(((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof vs)?a=a.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),Rc(h.mutation,f,h.mutation.getFieldMask(),At.now())):s.set(f.key,Br.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((f,h)=>s.set(f,h))),n.forEach(((f,h)=>l.set(f,new N5(h,s.get(f)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=jc();let i=new jt(((s,l)=>s-l)),a=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const l of s)l.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||Br.empty();h=l.applyToLocalView(f,h),r.set(c,h);const m=(i.get(l.batchId)||Xe()).add(c);i=i.insert(l.batchId,m)}))})).next((()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,h=c.value,m=MR();h.forEach((y=>{if(!a.has(y)){const b=UR(n.get(y),r.get(y));b!==null&&m.set(y,b),a=a.add(y)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,m))}return ue.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return jF(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ue.resolve(Go());let l=Fc,c=a;return s.next((f=>ue.forEach(f,((h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(h)?ue.resolve():this.remoteDocumentCache.getEntry(e,h).next((y=>{c=c.insert(h,y)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,c,f,Xe()))).next((h=>({batchId:l,changes:DR(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((r=>{let i=_c();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=_c();return this.indexManager.getCollectionParents(e,a).next((l=>ue.forEach(l,(c=>{const f=(function(m,y){return new hm(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((m,y)=>{s=s.insert(m,y)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((s=>{a.forEach(((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,Cn.newInvalidDocument(h)))}));let l=_c();return s.forEach(((c,f)=>{const h=a.get(c);h!==void 0&&Rc(h.mutation,f,Br.empty(),At.now()),mm(n,f)&&(l=l.insert(c,f))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ue.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:gi(i.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:T5(i.bundledQuery),readTime:gi(i.readTime)}})(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(){this.overlays=new jt(ke.comparator),this.Lr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Go();return ue.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.bt(e,n,a)})),ue.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),ue.resolve()}getOverlaysForCollection(e,n,r){const i=Go(),a=n.length+1,s=new ke(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new jt(((f,h)=>f-h));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=a.get(f.largestBatchId);h===null&&(h=Go(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=Go(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>l.set(f,h))),!(l.size()>=i)););return ue.resolve(l)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new ZF(n,r));let a=this.Lr.get(n);a===void 0&&(a=Xe(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.kr=new rn(ln.Kr),this.qr=new rn(ln.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new ln(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new ln(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ke(new St([])),r=new ln(n,e),i=new ln(n,e+1),a=[];return this.qr.forEachInRange([r,i],(s=>{this.Wr(s),a.push(s.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ke(new St([])),r=new ln(n,e),i=new ln(n,e+1);let a=Xe();return this.qr.forEachInRange([r,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const n=new ln(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ln{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ke.comparator(e.key,n.key)||Ye(e.Hr,n.Hr)}static Ur(e,n){return Ye(e.Hr,n.Hr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new rn(ln.Kr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new JF(a,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Jr=this.Jr.add(new ln(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ue.resolve(s)}lookupMutationBatch(e,n){return ue.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Zw:this.Yn-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ln(n,0),i=new ln(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],(s=>{const l=this.Zr(s.Hr);a.push(l)})),ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rn(Ye);return n.forEach((i=>{const a=new ln(i,0),s=new ln(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],(l=>{r=r.add(l.Hr)}))})),ue.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ke.isDocumentKey(a)||(a=a.child(""));const s=new ln(new ke(a),0);let l=new rn(Ye);return this.Jr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Hr)),!0)}),s),ue.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ct(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ue.forEach(n.mutations,(i=>{const a=new ln(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new ln(n,0),i=this.Jr.firstAfterOrEqual(r);return ue.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e){this.ti=e,this.docs=(function(){return new jt(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ue.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=oa();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Cn.newInvalidDocument(i))})),ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=oa();const s=n.path,l=new ke(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||lF(uF(h),r)<=0||(i.has(h.key)||mm(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return ue.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Me(9500)}ni(e,n){return ue.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new V5(this)}getSize(e){return ue.resolve(this.size)}}class V5 extends k5{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),ue.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e){this.persistence=e,this.ri=new ys((n=>n1(n)),r1),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.ii=0,this.si=new c1,this.targetCount=0,this.oi=Mu._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ue.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Mu(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.lr(n),ue.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ri.forEach(((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),ue.waitFor(a).next((()=>i))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ue.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ue.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),ue.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ue.resolve(r)}containsKey(e,n){return ue.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this._i={},this.overlays={},this.ai=new cm(0),this.ui=!1,this.ui=!0,this.ci=new M5,this.referenceDelegate=e(this),this.li=new B5(this),this.indexManager=new E5,this.remoteDocumentCache=(function(i){return new $5(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new w5(n),this.Pi=new R5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new D5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new L5(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new F5(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((a=>this.referenceDelegate.Ii(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,n){return ue.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class F5 extends fF{constructor(e){super(),this.currentSequenceNumber=e}}class f1{constructor(e){this.persistence=e,this.Ri=new c1,this.Ai=null}static Vi(e){return new f1(e)}get di(){if(this.Ai)return this.Ai;throw Me(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ue.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.di,(r=>{const i=ke.fromPath(r);return this.mi(e,i).next((a=>{a||n.removeEntry(i,Fe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ue.or([()=>ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class rp{constructor(e,n){this.persistence=e,this.fi=new ys((r=>pF(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=C5(this,n)}static Vi(e,n){return new rp(e,n)}Ti(){}Ii(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ue.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((a=>a?ue.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,(s=>this.wr(e,s,n).next((l=>{l||(r++,a.removeEntry(s,Fe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mh(e.data.value)),n}wr(e,n,r){return ue.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return ue.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=Xe(),i=Xe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new d1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return P$()?8:dF(jn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.gs(e,n).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ps(e,n,i,r).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new U5;return this.ys(e,n,s).next((l=>{if(a.result=l,this.As)return this.ws(e,n,s,l.size)}))})).next((()=>a.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(hu()<=Ke.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",pu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ue.resolve()):(hu()<=Ke.DEBUG&&we("QueryEngine","Query:",pu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(hu()<=Ke.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",pu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(n))):ue.resolve())}gs(e,n){if(zA(n))return ue.resolve(null);let r=pi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=u_(n,null,"F"),r=pi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const s=Xe(...a);return this.fs.getDocuments(e,s).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.bs(n,l);return this.Ss(n,f,s,c.readTime)?this.gs(e,u_(n,null,"F")):this.Ds(e,f,n,c)}))))})))))}ps(e,n,r,i){return zA(n)||i.isEqual(Fe.min())?ue.resolve(null):this.fs.getDocuments(e,r).next((a=>{const s=this.bs(n,a);return this.Ss(n,s,r,i)?ue.resolve(null):(hu()<=Ke.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pu(n)),this.Ds(e,s,n,sF(i,Fc)).next((l=>l)))}))}bs(e,n){let r=new rn(jR(e));return n.forEach(((i,a)=>{mm(e,a)&&(r=r.add(a))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,n,r){return hu()<=Ke.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",pu(n)),this.fs.getDocumentsMatchingQuery(e,n,no.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="LocalStore",z5=3e8;class W5{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new jt(Ye),this.Fs=new ys((a=>n1(a)),r1),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new j5(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function H5(t,e,n,r){return new W5(t,e,n,r)}async function rD(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const s=[],l=[];let c=Xe();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of a){l.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ns:f,removedBatchIds:s,addedBatchIds:l})))}))}))}function G5(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return(function(l,c,f,h){const m=f.batch,y=m.keys();let b=ue.resolve();return y.forEach((S=>{b=b.next((()=>h.getEntry(c,S))).next((E=>{const _=f.docVersions.get(S);ct(_!==null,48541),E.version.compareTo(_)<0&&(m.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),h.addEntry(E)))}))})),b.next((()=>l.mutationQueue.removeMutationBatch(c,m)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=Xe();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function iD(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function K5(t,e){const n=qe(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const l=[];e.targetChanges.forEach(((h,m)=>{const y=i.get(m);if(!y)return;l.push(n.li.removeMatchingKeys(a,h.removedDocuments,m).next((()=>n.li.addMatchingKeys(a,h.addedDocuments,m))));let b=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?b=b.withResumeToken(_n.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):h.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(h.resumeToken,r)),i=i.insert(m,b),(function(E,_,k){return E.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=z5?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(y,b,h)&&l.push(n.li.updateTargetData(a,b))}));let c=oa(),f=Xe();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))})),l.push(Y5(a,s,e.documentUpdates).next((h=>{c=h.Bs,f=h.Ls}))),!r.isEqual(Fe.min())){const h=n.li.getLastRemoteSnapshotVersion(a).next((m=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));l.push(h)}return ue.waitFor(l).next((()=>s.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,c,f))).next((()=>c))})).then((a=>(n.vs=i,a)))}function Y5(t,e,n){let r=Xe(),i=Xe();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let s=oa();return n.forEach(((l,c)=>{const f=a.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Fe.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):we(h1,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)})),{Bs:s,Ls:i}}))}function X5(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Q5(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((a=>a?(i=a,ue.resolve(i)):n.li.allocateTargetId(r).next((s=>(i=new Ka(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function h_(t,e,n){const r=qe(t),i=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!cl(s))throw s;we(h1,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function rI(t,e,n){const r=qe(t);let i=Fe.min(),a=Xe();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,f,h){const m=qe(c),y=m.Fs.get(h);return y!==void 0?ue.resolve(m.vs.get(y)):m.li.getTargetData(f,h)})(r,s,pi(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,l.targetId).next((c=>{a=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:Fe.min(),n?a:Xe()))).next((l=>(J5(r,MF(e),l),{documents:l,ks:a})))))}function J5(t,e,n){let r=t.Ms.get(e)||Fe.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Ms.set(e,r)}class iI{constructor(){this.activeTargetIds=UF()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z5{constructor(){this.vo=new iI,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new iI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="ConnectivityMonitor";class oI{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){we(aI,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){we(aI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh=null;function p_(){return gh===null?gh=(function(){return 268435456+Math.round(2147483648*Math.random())})():gh++,"0x"+gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="RestConnection",tU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class nU{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Qh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const s=p_(),l=this.Qo(e,n.toUriEncodedString());we(Fy,`Sending RPC '${e}' ${s}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,a);const{host:f}=new URL(l),h=al(f);return this.zo(e,l,c,r,h).then((m=>(we(Fy,`Received RPC '${e}' ${s}: `,m),m)),(m=>{throw ls(Fy,`RPC '${e}' ${s} failed with error: `,m,"url: ",l,"request:",r),m}))}jo(e,n,r,i,a,s){return this.Wo(e,n,r,i,a)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}Qo(e,n){const r=tU[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection",cc=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Eu extends nU{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Eu.c_){const e=cR();cc(e,lR.STAT_EVENT,(n=>{n.stat===n_.PROXY?we(In,"STAT_EVENT: detected buffering proxy"):n.stat===n_.NOPROXY&&we(In,"STAT_EVENT: detected no buffering proxy")})),Eu.c_=!0}}zo(e,n,r,i,a){const s=p_();return new Promise(((l,c)=>{const f=new sR;f.setWithCredentials(!0),f.listenOnce(uR.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Dh.NO_ERROR:const m=f.getResponseJson();we(In,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),l(m);break;case Dh.TIMEOUT:we(In,`RPC '${e}' ${s} timed out`),c(new Pe(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const y=f.getStatus();if(we(In,`RPC '${e}' ${s} failed with status:`,y,"response text:",f.getResponseText()),y>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const S=b==null?void 0:b.error;if(S&&S.status&&S.message){const E=(function(k){const R=k.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(R)>=0?R:fe.UNKNOWN})(S.status);c(new Pe(E,S.message))}else c(new Pe(fe.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Pe(fe.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{we(In,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);we(In,`RPC '${e}' ${s} sending request:`,i),f.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=p_(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=a.join("");we(In,`Creating RPC '${e}' stream ${i}: ${f}`,l);const h=s.createWebChannel(f,l);this.I_(h);let m=!1,y=!1;const b=new rU({Ho:S=>{y?we(In,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(we(In,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),we(In,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Jo:()=>h.close()});return cc(h,bc.EventType.OPEN,(()=>{y||(we(In,`RPC '${e}' stream ${i} transport opened.`),b.i_())})),cc(h,bc.EventType.CLOSE,(()=>{y||(y=!0,we(In,`RPC '${e}' stream ${i} transport closed`),b.o_(),this.E_(h))})),cc(h,bc.EventType.ERROR,(S=>{y||(y=!0,ls(In,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),b.o_(new Pe(fe.UNAVAILABLE,"The operation could not be completed")))})),cc(h,bc.EventType.MESSAGE,(S=>{var E;if(!y){const _=S.data[0];ct(!!_,16349);const k=_,R=(k==null?void 0:k.error)||((E=k[0])==null?void 0:E.error);if(R){we(In,`RPC '${e}' stream ${i} received error:`,R);const D=R.status;let C=(function(A){const P=qt[A];if(P!==void 0)return zR(P)})(D),I=R.message;D==="NOT_FOUND"&&I.includes("database")&&I.includes("does not exist")&&I.includes(this.databaseId.database)&&ls(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),C===void 0&&(C=fe.INTERNAL,I="Unknown error status: "+D+" with message "+R.message),y=!0,b.o_(new Pe(C,I)),h.close()}else we(In,`RPC '${e}' stream ${i} received:`,_),b.__(_)}})),Eu.u_(),setTimeout((()=>{b.s_()}),0),b}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return fR()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t){return new Eu(t)}function Uy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t){return new u5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eu.c_=!1;class aD{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="PersistentStream";class oD{constructor(e,n,r,i,a,s,l,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(aa(n.toString()),aa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Pe(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(sI,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(we(sI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aU extends oD{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=f5(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Fe.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Fe.min():s.readTime?gi(s.readTime):Fe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=d_(this.serializer),n.addTarget=(function(a,s){let l;const c=s.target;if(l=s_(c)?{documents:p5(a,c)}:{query:m5(a,c).ft},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=GR(a,s.resumeToken);const f=l_(a,s.expectedCount);f!==null&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(Fe.min())>0){l.readTime=np(a,s.snapshotVersion.toTimestamp());const f=l_(a,s.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const r=y5(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=d_(this.serializer),n.removeTarget=e,this.K_(n)}}class oU extends oD{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=h5(e.writeResults,e.commitTime),r=gi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=d_(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>d5(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{}class uU extends sU{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Pe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Wo(e,c_(n,r),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pe(fe.UNKNOWN,a.toString())}))}jo(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.jo(e,c_(n,r),i,s,l,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(fe.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function lU(t,e,n,r){return new uU(t,e,n,r)}class cU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(aa(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="RemoteStore";class fU{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((s=>{r.enqueueAndForget((async()=>{xs(this)&&(we(cs,"Restarting streams for network reachability change."),await(async function(c){const f=qe(c);f.Ea.add(4),await Bf(f),f.Va.set("Unknown"),f.Ea.delete(4),await bm(f)})(this))}))})),this.Va=new cU(r,i)}}async function bm(t){if(xs(t))for(const e of t.Ra)await e(!0)}async function Bf(t){for(const e of t.Ra)await e(!1)}function sD(t,e){const n=qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),y1(n)?g1(n):fl(n).O_()&&m1(n,e))}function p1(t,e){const n=qe(t),r=fl(n);n.Ia.delete(e),r.O_()&&uD(n,e),n.Ia.size===0&&(r.O_()?r.L_():xs(n)&&n.Va.set("Unknown"))}function m1(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(t).Z_(e)}function uD(t,e){t.da.$e(e),fl(t).X_(e)}function g1(t){t.da=new i5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fl(t).start(),t.Va.ua()}function y1(t){return xs(t)&&!fl(t).x_()&&t.Ia.size>0}function xs(t){return qe(t).Ea.size===0}function lD(t){t.da=void 0}async function dU(t){t.Va.set("Online")}async function hU(t){t.Ia.forEach(((e,n)=>{m1(t,e)}))}async function pU(t,e){lD(t),y1(t)?(t.Va.ha(e),g1(t)):t.Va.set("Unknown")}async function mU(t,e,n){if(t.Va.set("Online"),e instanceof HR&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ia.delete(l),i.da.removeTarget(l))})(t,e)}catch(r){we(cs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ip(t,r)}else if(e instanceof Vh?t.da.Xe(e):e instanceof WR?t.da.st(e):t.da.tt(e),!n.isEqual(Fe.min()))try{const r=await iD(t.localStore);n.compareTo(r)>=0&&await(function(a,s){const l=a.da.Tt(s);return l.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ia.get(f);h&&a.Ia.set(f,h.withResumeToken(c.resumeToken,s))}})),l.targetMismatches.forEach(((c,f)=>{const h=a.Ia.get(c);if(!h)return;a.Ia.set(c,h.withResumeToken(_n.EMPTY_BYTE_STRING,h.snapshotVersion)),uD(a,c);const m=new Ka(h.target,c,f,h.sequenceNumber);m1(a,m)})),a.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){we(cs,"Failed to raise snapshot:",r),await ip(t,r)}}async function ip(t,e,n){if(!cl(e))throw e;t.Ea.add(1),await Bf(t),t.Va.set("Offline"),n||(n=()=>iD(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(cs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await bm(t)}))}function cD(t,e){return e().catch((n=>ip(t,n,e)))}async function _m(t){const e=qe(t),n=oo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zw;for(;gU(e);)try{const i=await X5(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,yU(e,i)}catch(i){await ip(e,i)}fD(e)&&dD(e)}function gU(t){return xs(t)&&t.Ta.length<10}function yU(t,e){t.Ta.push(e);const n=oo(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function fD(t){return xs(t)&&!oo(t).x_()&&t.Ta.length>0}function dD(t){oo(t).start()}async function vU(t){oo(t).ra()}async function xU(t){const e=oo(t);for(const n of t.Ta)e.ea(n.mutations)}async function bU(t,e,n){const r=t.Ta.shift(),i=s1.from(r,e,n);await cD(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await _m(t)}async function _U(t,e){e&&oo(t).Y_&&await(async function(r,i){if((function(s){return t5(s)&&s!==fe.ABORTED})(i.code)){const a=r.Ta.shift();oo(r).B_(),await cD(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await _m(r)}})(t,e),fD(t)&&dD(t)}async function uI(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),we(cs,"RemoteStore received new credentials");const r=xs(n);n.Ea.add(3),await Bf(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bm(n)}async function wU(t,e){const n=qe(t);e?(n.Ea.delete(2),await bm(n)):e||(n.Ea.add(2),await Bf(n),n.Va.set("Unknown"))}function fl(t){return t.ma||(t.ma=(function(n,r,i){const a=qe(n);return a.sa(),new aU(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:dU.bind(null,t),Yo:hU.bind(null,t),t_:pU.bind(null,t),J_:mU.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),y1(t)?g1(t):t.Va.set("Unknown")):(await t.ma.stop(),lD(t))}))),t.ma}function oo(t){return t.fa||(t.fa=(function(n,r,i){const a=qe(n);return a.sa(),new oU(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:vU.bind(null,t),t_:_U.bind(null,t),ta:xU.bind(null,t),na:bU.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await _m(t)):(await t.fa.stop(),t.Ta.length>0&&(we(cs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,l=new v1(e,n,s,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x1(t,e){if(aa("AsyncQueue",`${e}: ${t}`),cl(t))return new Pe(fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{static emptySet(e){return new Su(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=_c(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Su)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Su;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.ga=new jt(ke.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Lu{constructor(e,n,r,i,a,s,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach((l=>{s.push({type:0,doc:l})})),new Lu(e,n,Su.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class EU{constructor(){this.queries=cI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=qe(n),a=i.queries;i.queries=cI(),a.forEach(((s,l)=>{for(const c of l.ba)c.onError(r)}))})(this,new Pe(fe.ABORTED,"Firestore shutting down"))}}function cI(){return new ys((t=>NR(t)),pm)}async function SU(t,e){const n=qe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.Da()&&(r=2):(a=new TU,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=x1(s,`Initialization of query '${pu(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&b1(n)}async function AU(t,e){const n=qe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.ba.indexOf(e);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IU(t,e){const n=qe(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const l of s.ba)l.Fa(i)&&(r=!0);s.wa=i}}r&&b1(n)}function PU(t,e,n){const r=qe(t),i=r.queries.get(e);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(e)}function b1(t){t.Ca.forEach((e=>{e.next()}))}var m_,fI;(fI=m_||(m_={})).Ma="default",fI.Cache="cache";class OU{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Lu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Lu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==m_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.key=e}}class pD{constructor(e){this.key=e}}class CU{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xe(),this.mutatedKeys=Xe(),this.eu=jR(e),this.tu=new Su(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new lI,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,m)=>{const y=i.get(h),b=mm(this.query,m)?m:null,S=!!y&&this.mutatedKeys.has(y.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let _=!1;y&&b?y.data.isEqual(b.data)?S!==E&&(r.track({type:3,doc:b}),_=!0):this.su(y,b)||(r.track({type:2,doc:b}),_=!0,(c&&this.eu(b,c)>0||f&&this.eu(b,f)<0)&&(l=!0)):!y&&b?(r.track({type:0,doc:b}),_=!0):y&&!b&&(r.track({type:1,doc:y}),_=!0,(c||f)&&(l=!0)),_&&(b?(s=s.add(b),a=E?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Ss:l,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((h,m)=>(function(b,S){const E=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:_})}};return E(b)-E(S)})(h.type,m.type)||this.eu(h.doc,m.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,f=c!==this.Xa;return this.Xa=c,s.length!==0||f?{snapshot:new Lu(this.query,e.tu,a,s,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lI,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new pD(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new hD(r))})),n}cu(e){this.Za=e.ks,this.Ya=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Lu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _1="SyncEngine";class kU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class NU{constructor(e){this.key=e,this.hu=!1}}class jU{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ys((l=>NR(l)),pm),this.Iu=new Map,this.Eu=new Set,this.Ru=new jt(ke.comparator),this.Au=new Map,this.Vu=new c1,this.du={},this.mu=new Map,this.fu=Mu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RU(t,e,n=!0){const r=bD(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await mD(r,e,n,!0),i}async function DU(t,e){const n=bD(t);await mD(n,e,!0,!1)}async function mD(t,e,n,r){const i=await Q5(t.localStore,pi(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await MU(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&sD(t.remoteStore,i),l}async function MU(t,e,n,r,i){t.pu=(m,y,b)=>(async function(E,_,k,R){let D=_.view.ru(k);D.Ss&&(D=await rI(E.localStore,_.query,!1).then((({documents:A})=>_.view.ru(A,D))));const C=R&&R.targetChanges.get(_.targetId),I=R&&R.targetMismatches.get(_.targetId)!=null,N=_.view.applyChanges(D,E.isPrimaryClient,C,I);return hI(E,_.targetId,N.au),N.snapshot})(t,m,y,b);const a=await rI(t.localStore,e,!0),s=new CU(e,a.ks),l=s.ru(a.documents),c=Vf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=s.applyChanges(l,t.isPrimaryClient,c);hI(t,n,f.au);const h=new kU(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function LU(t,e,n){const r=qe(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((s=>!pm(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await h_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&p1(r.remoteStore,i.targetId),g_(r,i.targetId)})).catch(ll)):(g_(r,i.targetId),await h_(r.localStore,i.targetId,!0))}async function $U(t,e){const n=qe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),p1(n.remoteStore,r.targetId))}async function VU(t,e,n){const r=HU(t);try{const i=await(function(s,l){const c=qe(s),f=At.now(),h=l.reduce(((b,S)=>b.add(S.key)),Xe());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let S=oa(),E=Xe();return c.xs.getEntries(b,h).next((_=>{S=_,S.forEach(((k,R)=>{R.isValidDocument()||(E=E.add(k))}))})).next((()=>c.localDocuments.getOverlayedDocuments(b,S))).next((_=>{m=_;const k=[];for(const R of l){const D=XF(R,m.get(R.key).overlayedDocument);D!=null&&k.push(new vs(R.key,D,SR(D.value.mapValue),mi.exists(!0)))}return c.mutationQueue.addMutationBatch(b,f,k,l)})).next((_=>{y=_;const k=_.applyToLocalDocumentSet(m,E);return c.documentOverlayCache.saveOverlays(b,_.batchId,k)}))})).then((()=>({batchId:y.batchId,changes:DR(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,l,c){let f=s.du[s.currentUser.toKey()];f||(f=new jt(Ye)),f=f.insert(l,c),s.du[s.currentUser.toKey()]=f})(r,i.batchId,n),await Ff(r,i.changes),await _m(r.remoteStore)}catch(i){const a=x1(i,"Failed to persist write");n.reject(a)}}async function gD(t,e){const n=qe(t);try{const r=await K5(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=n.Au.get(a);s&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?ct(s.hu,14607):i.removedDocuments.size>0&&(ct(s.hu,42227),s.hu=!1))})),await Ff(n,r,e)}catch(r){await ll(r)}}function dI(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,s)=>{const l=s.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(s,l){const c=qe(s);c.onlineState=l;let f=!1;c.queries.forEach(((h,m)=>{for(const y of m.ba)y.va(l)&&(f=!0)})),f&&b1(c)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BU(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new jt(ke.comparator);s=s.insert(a,Cn.newNoDocument(a,Fe.min()));const l=Xe().add(a),c=new vm(Fe.min(),new Map,new jt(Ye),s,l);await gD(r,c),r.Ru=r.Ru.remove(a),r.Au.delete(e),w1(r)}else await h_(r.localStore,e,!1).then((()=>g_(r,e,n))).catch(ll)}async function FU(t,e){const n=qe(t),r=e.batch.batchId;try{const i=await G5(n.localStore,e);vD(n,r,null),yD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ff(n,i)}catch(i){await ll(i)}}async function UU(t,e,n){const r=qe(t);try{const i=await(function(s,l){const c=qe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,l).next((m=>(ct(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(f,m)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);vD(r,e,n),yD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ff(r,i)}catch(i){await ll(i)}}function yD(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function vD(t,e,n){const r=qe(t);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function g_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||xD(t,r)}))}function xD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(p1(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),w1(t))}function hI(t,e,n){for(const r of n)r instanceof hD?(t.Vu.addReference(r.key,e),qU(t,r)):r instanceof pD?(we(_1,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||xD(t,r.key)):Me(19791,{wu:r})}function qU(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(we(_1,"New document in limbo: "+n),t.Eu.add(r),w1(t))}function w1(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ke(St.fromString(e)),r=t.fu.next();t.Au.set(r,new NU(n)),t.Ru=t.Ru.insert(n,r),sD(t.remoteStore,new Ka(pi(i1(n.path)),r,"TargetPurposeLimboResolution",cm.ce))}}async function Ff(t,e,n){const r=qe(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{s.push(r.pu(c,e,n).then((f=>{var h;if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(f){i.push(f);const m=d1.Es(c.targetId,f);a.push(m)}})))})),await Promise.all(s),r.Pu.J_(i),await(async function(c,f){const h=qe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>ue.forEach(f,(y=>ue.forEach(y.Ts,(b=>h.persistence.referenceDelegate.addReference(m,y.targetId,b))).next((()=>ue.forEach(y.Is,(b=>h.persistence.referenceDelegate.removeReference(m,y.targetId,b)))))))))}catch(m){if(!cl(m))throw m;we(h1,"Failed to update sequence numbers: "+m)}for(const m of f){const y=m.targetId;if(!m.fromCache){const b=h.vs.get(y),S=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(S);h.vs=h.vs.insert(y,E)}}})(r.localStore,a))}async function zU(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){we(_1,"User change. New user:",e.toKey());const r=await rD(n.localStore,e);n.currentUser=e,(function(a,s){a.mu.forEach((l=>{l.forEach((c=>{c.reject(new Pe(fe.CANCELLED,s))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ff(n,r.Ns)}}function WU(t,e){const n=qe(t),r=n.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let i=Xe();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const l=n.Tu.get(s);i=i.unionWith(l.view.nu)}return i}}function bD(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BU.bind(null,e),e.Pu.J_=IU.bind(null,e.eventManager),e.Pu.yu=PU.bind(null,e.eventManager),e}function HU(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UU.bind(null,e),e}class ap{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return H5(this.persistence,new q5,e.initialUser,this.serializer)}Cu(e){return new nD(f1.Vi,this.serializer)}Du(e){return new Z5}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ap.provider={build:()=>new ap};class GU extends ap{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof rp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new P5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new nD((r=>rp.Vi(r,n)),this.serializer)}}class y_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zU.bind(null,this.syncEngine),await wU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new EU})()}createDatastore(e){const n=xm(e.databaseInfo.databaseId),r=iU(e.databaseInfo);return lU(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,s,l){return new fU(r,i,a,s,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>dI(this.syncEngine,n,0)),(function(){return oI.v()?new oI:new eU})())}createSyncEngine(e,n){return(function(i,a,s,l,c,f,h){const m=new jU(i,a,s,l,c,f);return h&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=qe(i);we(cs,"RemoteStore shutting down."),a.Ea.add(5),await Bf(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}y_.provider={build:()=>new y_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):aa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="FirestoreClient";class YU{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=On.UNAUTHENTICATED,this.clientId=Qw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async s=>{we(so,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(we(so,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=x1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function qy(t,e){t.asyncQueue.verifyOperationInProgress(),we(so,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await rD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function pI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XU(t);we(so,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>uI(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>uI(e.remoteStore,i))),t._onlineComponents=e}async function XU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(so,"Using user provided OfflineComponentProvider");try{await qy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ls("Error using user provided cache. Falling back to memory cache: "+n),await qy(t,new ap)}}else we(so,"Using default OfflineComponentProvider"),await qy(t,new GU(void 0));return t._offlineComponents}async function _D(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(so,"Using user provided OnlineComponentProvider"),await pI(t,t._uninitializedComponentsProvider._online)):(we(so,"Using default OnlineComponentProvider"),await pI(t,new y_))),t._onlineComponents}function QU(t){return _D(t).then((e=>e.syncEngine))}async function mI(t){const e=await _D(t),n=e.eventManager;return n.onListen=RU.bind(null,e.syncEngine),n.onUnlisten=LU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$U.bind(null,e.syncEngine),n}function JU(t,e,n,r){const i=new KU(r),a=new OU(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>SU(await mI(t),a))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>AU(await mI(t),a)))}}function ZU(t,e){const n=new Zo;return t.asyncQueue.enqueueAndForget((async()=>VU(await QU(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9="ComponentProvider",gI=new Map;function t9(t,e,n,r,i){return new yF(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,wD(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="firestore.googleapis.com",yI=!0;class vI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TD,this.ssl=yI}else this.host=e.host,this.ssl=e.ssl??yI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<A5)throw new Pe(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wD(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Pe(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Pe(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Pe(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new XB;switch(r.type){case"firstParty":return new eF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=gI.get(n);r&&(we(e9,"Removing Datastore"),gI.delete(n),r.terminate())})(this),Promise.resolve()}}function n9(t,e,n,r={}){var f;t=es(t,wm);const i=al(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(wj(`https://${l}`),Tj("Firestore",!0)),a.host!==TD&&a.host!==l&&ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:r};if(!as(c,s)&&(t._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=On.MOCK_USER;else{h=x$(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Pe(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new On(y)}t._authCredentials=new QB(new hR(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tm(this.firestore,e,this._query)}}class tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Lf(n,tn._jsonSchema))return new tn(e,r||null,new ke(St.fromString(n.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:Ht("string",tn._jsonSchemaVersion),referencePath:Ht("string")};class eo extends Tm{constructor(e,n,r){super(e,n,i1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new ke(e))}withConverter(e){return new eo(this.firestore,e,this._path)}}function r9(t,e,...n){if(t=Hn(t),pR("collection","path",e),t instanceof wm){const r=St.fromString(e,...n);return kA(r),new eo(t,null,r)}{if(!(t instanceof tn||t instanceof eo))throw new Pe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return kA(r),new eo(t.firestore,null,r)}}function Bh(t,e,...n){if(t=Hn(t),arguments.length===1&&(e=Qw.newId()),pR("doc","path",e),t instanceof wm){const r=St.fromString(e,...n);return CA(r),new tn(t,null,new ke(r))}{if(!(t instanceof tn||t instanceof eo))throw new Pe(fe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return CA(r),new tn(t.firestore,t instanceof eo?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="AsyncQueue";class bI{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aD(this,"async_queue_retry"),this._c=()=>{const r=Uy();r&&we(xI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Uy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Uy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Zo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!cl(e))throw e;we(xI,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,aa("INTERNAL UNHANDLED ERROR: ",_I(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=v1.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Me(47125,{Pc:_I(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _I(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Kc extends wm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new bI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bI(e),this._firestoreClient=void 0,await e}}}function i9(t,e){const n=typeof t=="object"?t:Ij(),r=typeof t=="string"?t:Qh,i=Vw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=y$("firestore");a&&n9(i,...a)}return i}function ED(t){if(t._terminated)throw new Pe(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||a9(t),t._firestoreClient}function a9(t){var r,i,a,s;const e=t._freezeSettings(),n=t9(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new YU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this._byteString=e}static fromBase64String(e){try{return new br(_n.fromBase64String(e))}catch(n){throw new Pe(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new br(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:br._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lf(e,br._jsonSchema))return br.fromBase64String(e.bytes)}}br._jsonSchemaVersion="firestore/bytes/1.0",br._jsonSchema={type:Ht("string",br._jsonSchemaVersion),bytes:Ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yi._jsonSchemaVersion}}static fromJSON(e){if(Lf(e,yi._jsonSchema))return new yi(e.latitude,e.longitude)}}yi._jsonSchemaVersion="firestore/geoPoint/1.0",yi._jsonSchema={type:Ht("string",yi._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lf(e,qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qr(e.vectorValues);throw new Pe(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qr._jsonSchemaVersion="firestore/vectorValue/1.0",qr._jsonSchema={type:Ht("string",qr._jsonSchemaVersion),vectorValues:Ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9=/^__.*__$/;class s9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new $f(e,this.data,n,this.fieldTransforms)}}function AD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{dataSource:t})}}class E1{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new E1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return op(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(AD(this.dataSource)&&o9.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class u9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xm(e)}createContext(e,n,r,i=!1){return new E1({dataSource:e,methodName:n,targetDoc:r,path:xn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function l9(t){const e=t._freezeSettings(),n=xm(t._databaseId);return new u9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function c9(t,e,n,r,i,a={}){const s=t.createContext(a.merge||a.mergeFields?2:0,e,n,i);CD("Data must be an object, but it was:",s,r);const l=PD(r,s);let c,f;if(a.merge)c=new Br(s.fieldMask),f=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const m of a.mergeFields){const y=A1(e,m,n);if(!s.contains(y))throw new Pe(fe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);h9(h,y)||h.push(y)}c=new Br(h),f=s.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,f=s.fieldTransforms;return new s9(new xr(l),c,f)}class S1 extends T1{_toFieldTransform(e){return new HF(e.path,new Wc)}isEqual(e){return e instanceof S1}}function ID(t,e){if(OD(t=Hn(t)))return CD("Unsupported field value:",e,t),PD(t,e);if(t instanceof T1)return(function(r,i){if(!AD(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const a=[];let s=0;for(const l of r){let c=ID(l,i.childContextForArray(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=At.fromDate(r);return{timestampValue:np(i.serializer,a)}}if(r instanceof At){const a=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:np(i.serializer,a)}}if(r instanceof yi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof br)return{bytesValue:GR(i.serializer,r._byteString)};if(r instanceof tn){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:l1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qr)return(function(s,l){const c=s instanceof qr?s.toArray():s;return{mapValue:{fields:{[TR]:{stringValue:ER},[Jh]:{arrayValue:{values:c.map((h=>{if(typeof h!="number")throw l.createError("VectorValues must only contain numeric values.");return a1(l.serializer,h)}))}}}}}})(r,i);if(eD(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Jw(r)}`)})(t,e)}function PD(t,e){const n={};return yR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(t,((r,i)=>{const a=ID(i,e.childContextForField(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function OD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof yi||t instanceof br||t instanceof tn||t instanceof T1||t instanceof qr||eD(t))}function CD(t,e,n){if(!OD(n)||!mR(n)){const r=Jw(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function A1(t,e,n){if((e=Hn(e))instanceof SD)return e._internalPath;if(typeof e=="string")return d9(t,e);throw op("Field path arguments must be of type string or ",t,!1,void 0,n)}const f9=new RegExp("[~\\*/\\[\\]]");function d9(t,e,n){if(e.search(f9)>=0)throw op(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new SD(...e.split("."))._internalPath}catch{throw op(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function op(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Pe(fe.INVALID_ARGUMENT,l+t+c)}function h9(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{convertValue(e,n="none"){switch(ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gs(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[Jh].arrayValue)==null?void 0:i.values)==null?void 0:a.map((s=>Bt(s.doubleValue)));return new qr(n)}convertGeoPoint(e){return new yi(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uc(e));default:return null}}convertTimestamp(e){const n=ro(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=St.fromString(e);ct(ZR(r),9688,{name:e});const i=new qc(r.get(1),r.get(3)),a=new ke(r.popFirst(5));return i.isEqual(n)||aa(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD extends p9{constructor(e){super(),this.firestore=e}convertBytes(e){return new br(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function v_(){return new S1("serverTimestamp")}const wI="@firebase/firestore",TI="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(A1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m9 extends ND{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function y9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ts extends ND{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(A1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ts._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",ts._jsonSchema={type:Ht("string",ts._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Fh extends ts{data(e={}){return super.data(e)}}class Au{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Tc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Fh(this._firestore,this._userDataWriter,r.key,r,new Tc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((l=>{const c=new Fh(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Tc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const c=new Fh(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Tc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),h=s.indexOf(l.doc.key)),{type:v9(l.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Au._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function v9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Au._jsonSchemaVersion="firestore/querySnapshot/1.0",Au._jsonSchema={type:Ht("string",Au._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};function x_(t,e,n){t=es(t,tn);const r=es(t.firestore,Kc),i=y9(t.converter,e),a=l9(r);return jD(r,[c9(a,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,mi.none())])}function x9(t){return jD(es(t.firestore,Kc),[new o1(t._key,mi.none())])}function b9(t,...e){var f,h,m;t=Hn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||EI(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(EI(e[r])){const y=e[r];e[r]=(f=y.next)==null?void 0:f.bind(y),e[r+1]=(h=y.error)==null?void 0:h.bind(y),e[r+2]=(m=y.complete)==null?void 0:m.bind(y)}let a,s,l;if(t instanceof tn)s=es(t.firestore,Kc),l=i1(t._key.path),a={next:y=>{e[r]&&e[r](_9(s,t,y))},error:e[r+1],complete:e[r+2]};else{const y=es(t,Tm);s=es(y.firestore,Kc),l=y._query;const b=new kD(s);a={next:S=>{e[r]&&e[r](new Au(s,b,y,S))},error:e[r+1],complete:e[r+2]},g9(t._query)}const c=ED(s);return JU(c,l,i,a)}function jD(t,e){const n=ED(t);return ZU(n,e)}function _9(t,e,n){const r=n.docs.get(e._key),i=new kD(t);return new ts(t,i,e._key,r,new Tc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){YB(ol),ku(new os("firestore",((r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),l=new Kc(new JB(r.getProvider("auth-internal")),new tF(s,r.getProvider("app-check-internal")),vF(s,i),s);return a={useFetchStreams:n,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),Ja(wI,TI,e),Ja(wI,TI,"esm2020")})();const w9={apiKey:"AIzaSyCLnLTVNRck2Ezz1z3VTTNobarWy7l_TMs",authDomain:"wanderplanner-dbee7.firebaseapp.com",projectId:"wanderplanner-dbee7",storageBucket:"wanderplanner-dbee7.firebasestorage.app",messagingSenderId:"151242477554",appId:"1:151242477554:web:f8a46861d6c46390dee56b"},RD=Aj(w9),zy=WB(RD),Ec=i9(RD),T9=new Gi;function DD(){const[t,e]=W.useState(null),[n,r]=W.useState(!0);return W.useEffect(()=>j6(zy,l=>{e(l||!1),r(!1)}),[]),{user:t,authLoading:n,signInWithGoogle:async()=>{await eB(zy,T9)},signOutUser:async()=>{await R6(zy)}}}const sp=[{code:"PHP",symbol:"",name:"Philippine Peso"},{code:"USD",symbol:"$",name:"US Dollar"},{code:"SGD",symbol:"S$",name:"Singapore Dollar"},{code:"THB",symbol:"",name:"Thai Baht"},{code:"MYR",symbol:"RM",name:"Malaysian Ringgit"},{code:"EUR",symbol:"",name:"Euro"},{code:"GBP",symbol:"",name:"British Pound"},{code:"JPY",symbol:"",name:"Japanese Yen"},{code:"KRW",symbol:"",name:"Korean Won"},{code:"IDR",symbol:"Rp",name:"Indonesian Rupiah"}];function E9(t){const e=sp.find(n=>n.code===t);return e?e.symbol:t}function Wi(){return Date.now().toString(36)+Math.random().toString(36).slice(2,8)}function up(t,e="medium"){if(!t)return"";const n=new Date(t+"T00:00:00");if(isNaN(n.getTime()))return t;switch(e){case"short":return n.toLocaleDateString("en-US",{month:"short",day:"numeric"});case"medium":return n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});case"long":return n.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});case"full":return n.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});case"weekday":return n.toLocaleDateString("en-US",{weekday:"short"});default:return n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}}function I1(t,e){if(!t||!e)return"";const n=new Date(t+"T00:00:00"),r=new Date(e+"T00:00:00"),i=n.toLocaleDateString("en-US",{month:"short"}),a=r.toLocaleDateString("en-US",{month:"short"});return i===a?`${i} ${n.getDate()}${r.getDate()}, ${r.getFullYear()}`:`${i} ${n.getDate()}  ${a} ${r.getDate()}, ${r.getFullYear()}`}function sr(t,e="PHP"){return t==null||isNaN(t)?"":`${E9(e)}${Number(t).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`}function S9(t,e){if(!t||!e)return 0;const n=new Date(t+"T00:00:00"),r=new Date(e+"T00:00:00");return Math.round((r-n)/(1e3*60*60*24))+1}function A9(t){return JSON.parse(JSON.stringify(t))}function I9(t,e,n){return t===1?e:n||e+"s"}const me={SET_ACTIVE_TRIP:"SET_ACTIVE_TRIP",ADD_TRIP:"ADD_TRIP",UPDATE_TRIP:"UPDATE_TRIP",DELETE_TRIP:"DELETE_TRIP",DUPLICATE_TRIP:"DUPLICATE_TRIP",RENAME_TRIP:"RENAME_TRIP",SET_TAB:"SET_TAB",TOGGLE_SIDEBAR:"TOGGLE_SIDEBAR",SET_SIDEBAR:"SET_SIDEBAR",SHOW_TOAST:"SHOW_TOAST",HIDE_TOAST:"HIDE_TOAST",TOGGLE_DARK_MODE:"TOGGLE_DARK_MODE",ADD_DAY:"ADD_DAY",REMOVE_DAY:"REMOVE_DAY",UPDATE_DAY:"UPDATE_DAY",REORDER_DAYS:"REORDER_DAYS",ADD_ACTIVITY:"ADD_ACTIVITY",UPDATE_ACTIVITY:"UPDATE_ACTIVITY",DELETE_ACTIVITY:"DELETE_ACTIVITY",REORDER_ACTIVITIES:"REORDER_ACTIVITIES",ADD_BOOKING:"ADD_BOOKING",UPDATE_BOOKING:"UPDATE_BOOKING",DELETE_BOOKING:"DELETE_BOOKING",CYCLE_BOOKING_STATUS:"CYCLE_BOOKING_STATUS",SET_BOOKING_STATUS:"SET_BOOKING_STATUS",UPDATE_BUDGET_CATEGORY:"UPDATE_BUDGET_CATEGORY",ADD_BUDGET_CATEGORY:"ADD_BUDGET_CATEGORY",DELETE_BUDGET_CATEGORY:"DELETE_BUDGET_CATEGORY",ADD_SPENDING:"ADD_SPENDING",DELETE_SPENDING:"DELETE_SPENDING",ADD_TODO:"ADD_TODO",TOGGLE_TODO:"TOGGLE_TODO",UPDATE_TODO:"UPDATE_TODO",DELETE_TODO:"DELETE_TODO",ADD_PACKING_ITEM:"ADD_PACKING_ITEM",TOGGLE_PACKING_ITEM:"TOGGLE_PACKING_ITEM",DELETE_PACKING_ITEM:"DELETE_PACKING_ITEM",RESET_PACKING:"RESET_PACKING",UPDATE_CITY:"UPDATE_CITY",ADD_CITY:"ADD_CITY",DELETE_CITY:"DELETE_CITY",UPDATE_NOTES:"UPDATE_NOTES",SET_TRIPS_FROM_FIRESTORE:"SET_TRIPS_FROM_FIRESTORE"},Wy=["not_started","in_progress","booked"];function tt(t,e,n){const r={...t.trips},i=r[e];return i?(r[e]=typeof n=="function"?n(i):{...i,...n},{...t,trips:r}):t}function P9(t,e){const{type:n,payload:r}=e,i=t.activeTripId;switch(n){case me.SET_ACTIVE_TRIP:return{...t,activeTripId:r,activeTab:"overview"};case me.ADD_TRIP:{const a={...t.trips,[r.id]:r};return{...t,trips:a,activeTripId:r.id,activeTab:"overview"}}case me.UPDATE_TRIP:return tt(t,r.id,r.updates);case me.DELETE_TRIP:{const a={...t.trips};delete a[r];const s=Object.keys(a);return{...t,trips:a,activeTripId:s.length>0?s[0]:null,activeTab:"overview"}}case me.DUPLICATE_TRIP:{const a=t.trips[r];if(!a)return t;const s=Wi(),l=A9(a);return l.id=s,l.name=a.name+" (Copy)",l.createdAt=new Date().toISOString(),{...t,trips:{...t.trips,[s]:l},activeTripId:s}}case me.RENAME_TRIP:return tt(t,r.id,{name:r.name});case me.SET_TAB:return{...t,activeTab:r};case me.TOGGLE_SIDEBAR:return{...t,sidebarOpen:!t.sidebarOpen};case me.SET_SIDEBAR:return{...t,sidebarOpen:r};case me.SHOW_TOAST:return{...t,toast:{message:r.message,type:r.type||"success",visible:!0}};case me.HIDE_TOAST:return{...t,toast:{...t.toast,visible:!1}};case me.TOGGLE_DARK_MODE:return{...t,darkMode:!t.darkMode};case me.ADD_DAY:return tt(t,i,a=>({...a,itinerary:[...a.itinerary,{id:Wi(),date:r.date||"",dayNumber:a.itinerary.length+1,location:r.location||"",emoji:r.emoji||"",activities:[],notes:""}]}));case me.REMOVE_DAY:return tt(t,i,a=>({...a,itinerary:a.itinerary.filter(s=>s.id!==r).map((s,l)=>({...s,dayNumber:l+1}))}));case me.UPDATE_DAY:return tt(t,i,a=>({...a,itinerary:a.itinerary.map(s=>s.id===r.dayId?{...s,...r.updates}:s)}));case me.REORDER_DAYS:return tt(t,i,a=>{const s=[...a.itinerary],[l]=s.splice(r.fromIndex,1);return s.splice(r.toIndex,0,l),{...a,itinerary:s.map((c,f)=>({...c,dayNumber:f+1}))}});case me.ADD_ACTIVITY:return tt(t,i,a=>({...a,itinerary:a.itinerary.map(s=>s.id===r.dayId?{...s,activities:[...s.activities,{id:Wi(),time:"",name:"",emoji:"",notes:"",...r.activity}]}:s)}));case me.UPDATE_ACTIVITY:return tt(t,i,a=>({...a,itinerary:a.itinerary.map(s=>s.id===r.dayId?{...s,activities:s.activities.map(l=>l.id===r.activityId?{...l,...r.updates}:l)}:s)}));case me.DELETE_ACTIVITY:return tt(t,i,a=>({...a,itinerary:a.itinerary.map(s=>s.id===r.dayId?{...s,activities:s.activities.filter(l=>l.id!==r.activityId)}:s)}));case me.REORDER_ACTIVITIES:return tt(t,i,a=>({...a,itinerary:a.itinerary.map(s=>{if(s.id!==r.dayId)return s;const l=[...s.activities],[c]=l.splice(r.fromIndex,1);return l.splice(r.toIndex,0,c),{...s,activities:l}})}));case me.ADD_BOOKING:return tt(t,i,a=>({...a,bookings:[{id:Wi(),status:"not_started",priority:!1,amountPaid:0,confirmationNumber:"",currency:a.currency,...r},...a.bookings]}));case me.UPDATE_BOOKING:return tt(t,i,a=>({...a,bookings:a.bookings.map(s=>s.id===r.id?{...s,...r.updates}:s)}));case me.DELETE_BOOKING:return tt(t,i,a=>({...a,bookings:a.bookings.filter(s=>s.id!==r)}));case me.CYCLE_BOOKING_STATUS:return tt(t,i,a=>({...a,bookings:a.bookings.map(s=>{if(s.id!==r)return s;const l=Wy.indexOf(s.status),c=Wy[(l+1)%Wy.length];return{...s,status:c}})}));case me.SET_BOOKING_STATUS:return tt(t,i,a=>({...a,bookings:a.bookings.map(s=>s.id===r.id?{...s,status:r.status}:s)}));case me.UPDATE_BUDGET_CATEGORY:return tt(t,i,a=>({...a,budget:a.budget.map(s=>s.id===r.id?{...s,...r.updates}:s)}));case me.ADD_BUDGET_CATEGORY:return tt(t,i,a=>({...a,budget:[...a.budget,{id:Wi(),name:r.name||"New Category",emoji:r.emoji||"",min:0,max:0,actual:0}]}));case me.DELETE_BUDGET_CATEGORY:return tt(t,i,a=>({...a,budget:a.budget.filter(s=>s.id!==r)}));case me.ADD_SPENDING:return tt(t,i,a=>{const s={id:Wi(),date:new Date().toISOString().slice(0,10),...r},l=a.budget.map(c=>c.name===r.category?{...c,actual:(c.actual||0)+(r.amount||0)}:c);return{...a,spendingLog:[...a.spendingLog,s],budget:l}});case me.DELETE_SPENDING:return tt(t,i,a=>{const s=a.spendingLog.find(c=>c.id===r);if(!s)return{...a,spendingLog:a.spendingLog.filter(c=>c.id!==r)};const l=a.budget.map(c=>c.name===s.category?{...c,actual:Math.max(0,(c.actual||0)-(s.amount||0))}:c);return{...a,spendingLog:a.spendingLog.filter(c=>c.id!==r),budget:l}});case me.ADD_TODO:return tt(t,i,a=>({...a,todos:[...a.todos,{id:Wi(),done:!1,priority:"normal",dueDate:"",category:"Misc",...r}]}));case me.TOGGLE_TODO:return tt(t,i,a=>({...a,todos:a.todos.map(s=>s.id===r?{...s,done:!s.done}:s)}));case me.UPDATE_TODO:return tt(t,i,a=>({...a,todos:a.todos.map(s=>s.id===r.id?{...s,...r.updates}:s)}));case me.DELETE_TODO:return tt(t,i,a=>({...a,todos:a.todos.filter(s=>s.id!==r)}));case me.ADD_PACKING_ITEM:return tt(t,i,a=>({...a,packingList:[...a.packingList,{id:Wi(),packed:!1,section:"Misc",...r}]}));case me.TOGGLE_PACKING_ITEM:return tt(t,i,a=>({...a,packingList:a.packingList.map(s=>s.id===r?{...s,packed:!s.packed}:s)}));case me.DELETE_PACKING_ITEM:return tt(t,i,a=>({...a,packingList:a.packingList.filter(s=>s.id!==r)}));case me.RESET_PACKING:return tt(t,i,a=>({...a,packingList:a.packingList.map(s=>({...s,packed:!1}))}));case me.UPDATE_CITY:return tt(t,i,a=>({...a,cities:a.cities.map(s=>s.id===r.id?{...s,...r.updates}:s)}));case me.ADD_CITY:return tt(t,i,a=>({...a,cities:[...a.cities||[],{id:Wi(),city:r.city||"New City",country:r.country||"",flag:r.flag||"",highlights:"",mustDo:"",weather:"",currencyTip:"",notes:""}]}));case me.DELETE_CITY:return tt(t,i,a=>({...a,cities:a.cities.filter(s=>s.id!==r)}));case me.UPDATE_NOTES:return tt(t,i,{notes:r});case me.SET_TRIPS_FROM_FIRESTORE:{const a=r,s=Object.keys(a),l=t.activeTripId,c=l&&a[l]?l:s.length>0?s[0]:null;return{...t,trips:a,activeTripId:c}}default:return t}}const SI={id:"sea-adventure-2026",name:"Val & Partner's SEA Adventure",emoji:"",destinations:[{city:"Cebu",country:"Philippines",flag:""},{city:"Singapore",country:"Singapore",flag:""},{city:"Koh Samui",country:"Thailand",flag:""},{city:"Kuala Lumpur",country:"Malaysia",flag:""},{city:"Cebu",country:"Philippines",flag:""}],startDate:"2026-11-14",endDate:"2026-11-22",travelers:2,currency:"PHP",createdAt:"2025-01-01T00:00:00.000Z",itinerary:[{id:"day-1",date:"2026-11-14",dayNumber:1,location:"Cebu  Singapore",emoji:"",activities:[{id:"a1",time:"06:00",name:"Depart Cebu (Mactan)",emoji:"",notes:"Early morning flight"},{id:"a2",time:"12:00",name:"Arrive Singapore Changi",emoji:"",notes:"Collect bags, get EZ-Link card at airport"},{id:"a3",time:"14:00",name:"Check in to hotel",emoji:"",notes:"Near Marina Bay area"},{id:"a4",time:"16:00",name:"Gardens by the Bay",emoji:"",notes:"Cloud Forest + Flower Dome"},{id:"a5",time:"19:00",name:"Dinner at Lau Pa Sat",emoji:"",notes:"Hawker centre, try satay street"}],notes:"Travel day  take it easy in the evening"},{id:"day-2",date:"2026-11-15",dayNumber:2,location:"Singapore",emoji:"",activities:[{id:"a6",time:"09:00",name:"Marina Bay Sands area",emoji:"",notes:"ArtScience Museum, Merlion"},{id:"a7",time:"12:00",name:"Lunch at Maxwell Food Centre",emoji:"",notes:"Tian Tian chicken rice"},{id:"a8",time:"14:00",name:"Chinatown & Little India",emoji:"",notes:"Walking tour, temples, spice market"},{id:"a9",time:"17:00",name:"Orchard Road shopping",emoji:"",notes:"ION Orchard, Takashimaya"},{id:"a10",time:"20:00",name:"Spectra Light Show",emoji:"",notes:"Free show at Marina Bay, 8pm & 9pm"}],notes:"Full Singapore day  wear comfy shoes"},{id:"day-3",date:"2026-11-16",dayNumber:3,location:"Singapore  Koh Samui",emoji:"",activities:[{id:"a11",time:"08:00",name:"Breakfast at hotel",emoji:"",notes:""},{id:"a12",time:"10:00",name:"Last-minute Singapore shopping",emoji:"",notes:""},{id:"a13",time:"14:00",name:"Fly Singapore  Koh Samui",emoji:"",notes:"Afternoon flight"},{id:"a14",time:"17:00",name:"Check in Karma Resort",emoji:"",notes:"Beachfront resort"},{id:"a15",time:"19:00",name:"Beach sunset dinner",emoji:"",notes:"Fresh seafood on the beach"}],notes:"Transit day  Singapore to Thailand"},{id:"day-4",date:"2026-11-17",dayNumber:4,location:"Koh Samui",emoji:"",activities:[{id:"a16",time:"08:00",name:"Beach morning & swim",emoji:"",notes:"Chaweng Beach"},{id:"a17",time:"11:00",name:"Four Seasons Day Pass",emoji:"",notes:"Pool, beach, spa  day pass for 2"},{id:"a18",time:"15:00",name:"Explore Fisherman's Village",emoji:"",notes:"Bophut area, cute shops and cafs"},{id:"a19",time:"19:00",name:"Thai dinner on the beach",emoji:"",notes:"Pad Thai, green curry, mango sticky rice"}],notes:"Relaxation day  Four Seasons is the highlight!"},{id:"day-5",date:"2026-11-18",dayNumber:5,location:"Koh Samui",emoji:"",activities:[{id:"a20",time:"09:00",name:"Island tour",emoji:"",notes:"Na Muang Waterfall, Big Buddha, Secret Garden"},{id:"a21",time:"13:00",name:"Lunch at local spot",emoji:"",notes:""},{id:"a22",time:"15:00",name:"Snorkeling trip",emoji:"",notes:"Ang Thong National Marine Park or local reef"},{id:"a23",time:"19:00",name:"Night market",emoji:"",notes:"Lamai or Chaweng night market"}],notes:"Adventure day  bring waterproof phone case"},{id:"day-6",date:"2026-11-19",dayNumber:6,location:"Koh Samui  Kuala Lumpur",emoji:"",activities:[{id:"a24",time:"08:00",name:"Last beach morning",emoji:"",notes:""},{id:"a25",time:"11:00",name:"Check out Karma Resort",emoji:"",notes:""},{id:"a26",time:"13:00",name:"Fly Koh Samui  Kuala Lumpur",emoji:"",notes:"Afternoon flight"},{id:"a27",time:"17:00",name:"Check in KL hotel near Stadium Merdeka",emoji:"",notes:"Walking distance to concert venue!"},{id:"a28",time:"19:00",name:"Jalan Alor street food",emoji:"",notes:"Must-try: satay, char kway teow, durian"}],notes:"Transit day  Thailand to Malaysia"},{id:"day-7",date:"2026-11-20",dayNumber:7,location:"Kuala Lumpur",emoji:"",activities:[{id:"a29",time:"10:00",name:"Petronas Twin Towers + KLCC",emoji:"",notes:"Book skybridge tickets in advance"},{id:"a30",time:"13:00",name:"Lunch at Nasi Kandar",emoji:"",notes:""},{id:"a31",time:"15:00",name:"Pre-concert prep & rest",emoji:"",notes:"Charge phones, pick outfits, eat early"},{id:"a32",time:"17:00",name:" MCR CONCERT @ Stadium Merdeka",emoji:"",notes:"Gates open ~5pm, show ~8pm. THE main event!"}],notes:" CONCERT DAY! My Chemical Romance at Stadium Merdeka!"},{id:"day-8",date:"2026-11-21",dayNumber:8,location:"Kuala Lumpur",emoji:"",activities:[{id:"a33",time:"10:00",name:"Sleep in (post-concert recovery)",emoji:"",notes:""},{id:"a34",time:"12:00",name:"Batu Caves",emoji:"",notes:"272 colorful steps, Hindu temple"},{id:"a35",time:"15:00",name:"Central Market & Petaling Street",emoji:"",notes:"Souvenirs, batik, street art"},{id:"a36",time:"18:00",name:"Dinner at Pavilion KL",emoji:"",notes:""},{id:"a37",time:"20:00",name:"KL Tower night view",emoji:"",notes:"Amazing city views at night"}],notes:"Recovery day after the concert  take it chill"},{id:"day-9",date:"2026-11-22",dayNumber:9,location:"Kuala Lumpur  Cebu",emoji:"",activities:[{id:"a38",time:"08:00",name:"Pack & check out",emoji:"",notes:""},{id:"a39",time:"10:00",name:"Last KL breakfast  roti canai",emoji:"",notes:""},{id:"a40",time:"13:00",name:"Fly Kuala Lumpur  Cebu",emoji:"",notes:"Afternoon flight home"},{id:"a41",time:"18:00",name:"Arrive home ",emoji:"",notes:"End of an amazing trip!"}],notes:"Homeward bound  what a trip! "}],bookings:[{id:"b1",name:"Cebu  Singapore flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b2",name:"Singapore  Koh Samui flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b3",name:"Koh Samui  Kuala Lumpur flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b4",name:"Kuala Lumpur  Cebu flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b5",name:"Singapore hotel, 2 nights",category:"hotel",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-01",priority:!1,currency:"PHP"},{id:"b6",name:"Karma Resort, Koh Samui, 3 nights",category:"hotel",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-01",priority:!1,currency:"PHP"},{id:"b7",name:"KL hotel near Stadium Merdeka, 3 nights",category:"hotel",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-01",priority:!1,currency:"PHP"},{id:"b8",name:"Four Seasons day pass, 2 pax",category:"experience",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-15",priority:!1,currency:"PHP"},{id:"b9",name:"MCR Concert tickets, 2 pax",category:"concert",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"",priority:!0,currency:"PHP"}],todos:[{id:"t1",text:"Apply for Malaysia e-NTL",category:"Admin",done:!1,dueDate:"2026-10-01",priority:"high"},{id:"t2",text:"Check Thailand visa requirements",category:"Admin",done:!1,dueDate:"2026-10-01",priority:"high"},{id:"t3",text:"Get travel insurance for 2 people",category:"Admin",done:!1,dueDate:"2026-10-15",priority:"high"},{id:"t4",text:"Notify bank about international transactions",category:"Finances",done:!1,dueDate:"2026-11-01",priority:"normal"},{id:"t5",text:"Download offline maps: Singapore, Koh Samui, KL",category:"Tech",done:!1,dueDate:"2026-11-10",priority:"normal"},{id:"t6",text:"Exchange/load PHP to SGD, THB, MYR",category:"Finances",done:!1,dueDate:"2026-11-10",priority:"normal"},{id:"t7",text:"Check baggage allowance for all flights",category:"Admin",done:!1,dueDate:"2026-09-15",priority:"normal"},{id:"t8",text:"Research Four Seasons day pass booking process",category:"Admin",done:!1,dueDate:"2026-10-01",priority:"normal"},{id:"t9",text:"Buy portable charger / power bank",category:"Tech",done:!1,dueDate:"2026-11-01",priority:"normal"},{id:"t10",text:"Set up roaming or buy local SIMs plan",category:"Tech",done:!1,dueDate:"2026-11-10",priority:"normal"}],budget:[{id:"bg1",name:"Flights",emoji:"",min:44200,max:55600,actual:0},{id:"bg2",name:"Accommodation",emoji:"",min:39e3,max:71e3,actual:0},{id:"bg3",name:"Four Seasons Day Pass",emoji:"",min:11200,max:16800,actual:0},{id:"bg4",name:"MCR Concert Tickets",emoji:"",min:15e3,max:3e4,actual:0},{id:"bg5",name:"Other Expenses",emoji:"",min:47e3,max:61e3,actual:0}],spendingLog:[],packingList:[{id:"p1",name:"Passports (2)",section:"Documents",packed:!1},{id:"p2",name:"Travel insurance printouts",section:"Documents",packed:!1},{id:"p3",name:"Flight confirmations (printed)",section:"Documents",packed:!1},{id:"p4",name:"Hotel confirmations",section:"Documents",packed:!1},{id:"p5",name:"MCR concert tickets / QR codes",section:"Documents",packed:!1},{id:"p6",name:"Malaysia e-NTL printout",section:"Documents",packed:!1},{id:"p7",name:"T-shirts (6)",section:"Clothing",packed:!1},{id:"p8",name:"Shorts (3)",section:"Clothing",packed:!1},{id:"p9",name:"Light pants (2)",section:"Clothing",packed:!1},{id:"p10",name:"Swimwear (2)",section:"Clothing",packed:!1},{id:"p11",name:"Comfortable walking shoes",section:"Clothing",packed:!1},{id:"p12",name:"Flip flops / sandals",section:"Clothing",packed:!1},{id:"p13",name:"Light rain jacket",section:"Clothing",packed:!1},{id:"p14",name:"Underwear & socks",section:"Clothing",packed:!1},{id:"p15",name:"Sleepwear",section:"Clothing",packed:!1},{id:"p16",name:"Phone + charger",section:"Tech",packed:!1},{id:"p17",name:"Power bank (20,000mAh)",section:"Tech",packed:!1},{id:"p18",name:"Universal travel adapter",section:"Tech",packed:!1},{id:"p19",name:"Camera + SD cards",section:"Tech",packed:!1},{id:"p20",name:"Earphones / AirPods",section:"Tech",packed:!1},{id:"p21",name:"MCR concert outfit ",section:"Concert Essentials",packed:!1},{id:"p22",name:"Comfortable concert shoes",section:"Concert Essentials",packed:!1},{id:"p23",name:"Small crossbody bag",section:"Concert Essentials",packed:!1},{id:"p24",name:"Earplugs (for hearing protection)",section:"Concert Essentials",packed:!1},{id:"p25",name:"Sunscreen SPF 50",section:"Toiletries",packed:!1},{id:"p26",name:"Insect repellent",section:"Toiletries",packed:!1},{id:"p27",name:"Basic first aid kit",section:"Toiletries",packed:!1},{id:"p28",name:"Toothbrush & toothpaste",section:"Toiletries",packed:!1},{id:"p29",name:"Deodorant",section:"Toiletries",packed:!1},{id:"p30",name:"Medication / vitamins",section:"Toiletries",packed:!1},{id:"p31",name:"Daypack / small backpack",section:"Misc",packed:!1},{id:"p32",name:"Reusable water bottle",section:"Misc",packed:!1},{id:"p33",name:"Packing cubes",section:"Misc",packed:!1},{id:"p34",name:"Neck pillow for flights",section:"Misc",packed:!1},{id:"p35",name:"Snacks for travel days",section:"Misc",packed:!1}],cities:[{id:"c1",city:"Singapore",country:"Singapore",flag:"",highlights:"Marina Bay, Gardens by the Bay, hawker food culture",mustDo:"Eat at a hawker centre, see the Supertree light show",weather:"Hot & humid year-round, 27-32C. Rain possible anytime.",currencyTip:"SGD. Cashless-friendly, cards accepted everywhere.",notes:""},{id:"c2",city:"Koh Samui",country:"Thailand",flag:"",highlights:"Beautiful beaches, luxury resorts, island vibes",mustDo:"Visit Big Buddha, snorkel at Ang Thong, Four Seasons day pass",weather:"November is end of monsoon season. Expect some rain, 26-30C.",currencyTip:"THB. Cash is king for street food and markets.",notes:""},{id:"c3",city:"Kuala Lumpur",country:"Malaysia",flag:"",highlights:"Petronas Towers, Batu Caves, incredible food scene",mustDo:"Jalan Alor street food, Petronas Towers skybridge, MCR concert!",weather:"Hot & humid, 27-33C. Afternoon thunderstorms common.",currencyTip:"MYR. Very affordable. Cards widely accepted in malls.",notes:""}],notes:"This trip is our big Southeast Asia adventure  the MCR concert in KL is the anchor event. Build the rest of the trip around it!"};function O9(t={}){return{id:t.id||Date.now().toString(36)+Math.random().toString(36).slice(2,8),name:t.name||"New Trip",emoji:t.emoji||"",destinations:t.destinations||[],startDate:t.startDate||"",endDate:t.endDate||"",travelers:t.travelers||1,currency:t.currency||"PHP",createdAt:new Date().toISOString(),itinerary:[],bookings:[],todos:[],budget:t.budget||[],spendingLog:[],packingList:[],cities:[],notes:"",...t}}const Sc="trips",lp="wanderplan_data",AI="wanderplan_migrated";function C9(){let t=!1;try{const e=localStorage.getItem(lp);e&&(t=JSON.parse(e).darkMode||!1)}catch{}return{trips:{},activeTripId:null,activeTab:"overview",sidebarOpen:!1,darkMode:t,toast:{message:"",type:"success",visible:!1}}}async function k9(){if(localStorage.getItem(AI))return!1;try{const t=localStorage.getItem(lp);if(!t)return!1;const e=JSON.parse(t);if(!e.trips||Object.keys(e.trips).length===0)return!1;const n=Object.values(e.trips);return await Promise.all(n.map(r=>x_(Bh(Ec,Sc,r.id),{...r,_updatedAt:v_()}))),localStorage.setItem(AI,"true"),console.log(`[Wanderplan] Migrated ${n.length} trip(s) from localStorage  Firestore`),!0}catch(t){return console.warn("[Wanderplan] Migration failed:",t),!1}}function N9(){const[t,e]=W.useReducer(P9,null,C9),[n,r]=W.useState(!0),i=W.useRef({}),a=W.useRef(!1);W.useEffect(()=>{const f=r9(Ec,Sc);return b9(f,async m=>{const y={};if(m.forEach(S=>{const{_updatedAt:E,..._}=S.data();y[S.id]=_}),Object.keys(i.current).length===0&&Object.keys(y).length===0){if(await k9())return;await x_(Bh(Ec,Sc,SI.id),{...SI,_updatedAt:v_()});return}a.current=!0,i.current=y,e({type:me.SET_TRIPS_FROM_FIRESTORE,payload:y}),r(!1)},m=>{console.error("[Wanderplan] Firestore listener error:",m),r(!1)})},[]),W.useEffect(()=>{if(a.current){a.current=!1;return}const f=t.trips,h=i.current;Object.keys(f).forEach(m=>{f[m]!==h[m]&&x_(Bh(Ec,Sc,m),{...f[m],_updatedAt:v_()}).catch(console.error)}),Object.keys(h).forEach(m=>{f[m]||x9(Bh(Ec,Sc,m)).catch(console.error)}),i.current=f},[t.trips]),W.useEffect(()=>{document.documentElement.classList.toggle("dark",t.darkMode);try{const f=localStorage.getItem(lp),h=f?JSON.parse(f):{};localStorage.setItem(lp,JSON.stringify({...h,darkMode:t.darkMode}))}catch{}},[t.darkMode]),W.useEffect(()=>{if(t.toast.visible){const f=setTimeout(()=>e({type:me.HIDE_TOAST}),3e3);return()=>clearTimeout(f)}},[t.toast.visible]);const s=t.activeTripId?t.trips[t.activeTripId]:null,l=Object.values(t.trips).sort((f,h)=>f.startDate?h.startDate?new Date(f.startDate)-new Date(h.startDate):-1:1),c=W.useCallback((f,h="success")=>{e({type:me.SHOW_TOAST,payload:{message:f,type:h}})},[]);return{state:t,dispatch:e,activeTrip:s,sortedTrips:l,showToast:c,firestoreLoading:n}}function j9(t){const[e,n]=W.useState(()=>typeof window<"u"?window.matchMedia(t).matches:!1);return W.useEffect(()=>{const r=window.matchMedia(t),i=a=>n(a.matches);return r.addEventListener("change",i),n(r.matches),()=>r.removeEventListener("change",i)},[t]),e}function R9({onSignIn:t}){const[e,n]=W.useState(!1),[r,i]=W.useState(null),a=async()=>{n(!0),i(null);try{await t()}catch{i("Sign-in failed. Please try again."),n(!1)}};return v.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary animate-fade-in",children:v.jsxs("div",{className:"text-center max-w-sm px-8",children:[v.jsx("div",{className:"text-6xl mb-5 animate-pulse-warm",children:""}),v.jsx("h1",{className:"font-heading text-3xl font-bold text-text-primary mb-2",children:"Wanderplan"}),v.jsx("p",{className:"text-text-muted text-sm mb-10 leading-relaxed",children:"Every trip, perfectly planned."}),v.jsxs("button",{onClick:a,disabled:e,className:`inline-flex items-center gap-3 px-6 py-3
                     bg-bg-secondary border border-border
                     rounded-[var(--radius-md)]
                     text-text-primary font-medium text-sm
                     hover:bg-bg-hover hover:border-border-strong
                     transition-all duration-200 active:scale-[0.98]
                     disabled:opacity-50 disabled:cursor-not-allowed
                     shadow-sm w-full justify-center`,children:[v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24","aria-hidden":"true",children:[v.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),v.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),v.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),v.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e?"Signing in":"Continue with Google"]}),r&&v.jsx("p",{className:"mt-4 text-sm text-red-500",children:r}),v.jsx("p",{className:"mt-8 text-xs text-text-muted leading-relaxed",children:"Your trips sync across all your devices in real time."})]})})}function P1(t){var y,b,S,E,_,k;if(!t)return 0;const e={bookings:.4,todos:.35,packing:.25},n=((y=t.bookings)==null?void 0:y.length)||0,r=((b=t.bookings)==null?void 0:b.filter(R=>R.status==="booked").length)||0,i=n>0?r/n:0,a=((S=t.todos)==null?void 0:S.length)||0,s=((E=t.todos)==null?void 0:E.filter(R=>R.done).length)||0,l=a>0?s/a:0,c=((_=t.packingList)==null?void 0:_.length)||0,f=((k=t.packingList)==null?void 0:k.filter(R=>R.packed).length)||0,h=c>0?f/c:0,m=Math.round((i*e.bookings+l*e.todos+h*e.packing)*100);return Math.min(100,Math.max(0,m))}function D9(t){var e,n,r,i,a,s;return t?{bookings:{done:((e=t.bookings)==null?void 0:e.filter(l=>l.status==="booked").length)||0,total:((n=t.bookings)==null?void 0:n.length)||0},todos:{done:((r=t.todos)==null?void 0:r.filter(l=>l.done).length)||0,total:((i=t.todos)==null?void 0:i.length)||0},packing:{done:((a=t.packingList)==null?void 0:a.filter(l=>l.packed).length)||0,total:((s=t.packingList)==null?void 0:s.length)||0}}:{bookings:{done:0,total:0},todos:{done:0,total:0},packing:{done:0,total:0}}}function O1({value:t=0,size:e=64,strokeWidth:n=5,className:r="",showLabel:i=!0,labelClassName:a=""}){const[s,l]=W.useState(0),c=(e-n)/2,f=2*Math.PI*c,h=f-s/100*f;W.useEffect(()=>{const y=setTimeout(()=>l(t),100);return()=>clearTimeout(y)},[t]);const m=y=>y>=80?"var(--color-success)":y>=50?"var(--color-accent)":y>=25?"var(--color-warning)":"var(--color-text-muted)";return v.jsxs("div",{className:`relative inline-flex items-center justify-center ${r}`,children:[v.jsxs("svg",{width:e,height:e,className:"-rotate-90",children:[v.jsx("circle",{cx:e/2,cy:e/2,r:c,fill:"none",stroke:"var(--color-border)",strokeWidth:n}),v.jsx("circle",{cx:e/2,cy:e/2,r:c,fill:"none",stroke:m(s),strokeWidth:n,strokeDasharray:f,strokeDashoffset:h,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.8s ease-out, stroke 0.3s ease"}})]}),i&&v.jsxs("span",{className:`absolute text-text-primary font-semibold ${a}`,style:{fontSize:e*.22},children:[Math.round(s),"%"]})]})}function M9(t,e){if(!t||!e)return"upcoming";const n=new Date;n.setHours(0,0,0,0);const r=new Date(t+"T00:00:00"),i=new Date(e+"T00:00:00");return n>i?"completed":n>=r&&n<=i?"ongoing":"upcoming"}const L9={upcoming:{label:"Upcoming",className:"bg-info/10 text-info"},ongoing:{label:"Ongoing",className:"bg-success/10 text-success"},completed:{label:"Completed",className:"bg-text-muted/10 text-text-muted"}};function $9({startDate:t,endDate:e,className:n=""}){const r=M9(t,e),i=L9[r];return v.jsx("span",{className:`
      inline-flex items-center px-2.5 py-0.5 text-xs font-medium
      rounded-[var(--radius-pill)] ${i.className} ${n}
    `,children:i.label})}function MD({isOpen:t,onClose:e,children:n,className:r="",maxWidth:i="max-w-xl"}){return W.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),t?v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-text-primary/30 backdrop-blur-sm animate-fade-in",onClick:e}),v.jsx("div",{className:`
        relative z-10 w-full ${i}
        bg-bg-primary border border-border rounded-[var(--radius-xl)]
        max-h-[90vh] overflow-y-auto
        animate-scale-in
        ${r}
      `,children:n})]}):null}function LD({isOpen:t,onClose:e,onConfirm:n,title:r,message:i,confirmLabel:a="Delete",danger:s=!0}){return v.jsx(MD,{isOpen:t,onClose:e,maxWidth:"max-w-sm",children:v.jsxs("div",{className:"p-6",children:[v.jsx("h3",{className:"font-heading text-xl text-text-primary mb-2",children:r}),v.jsx("p",{className:"text-text-secondary text-sm mb-6",children:i}),v.jsxs("div",{className:"flex gap-3 justify-end",children:[v.jsx("button",{onClick:e,className:`px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary
                       bg-bg-secondary border border-border rounded-[var(--radius-md)]
                       hover:bg-bg-hover transition-colors`,children:"Cancel"}),v.jsx("button",{onClick:()=>{n(),e()},className:`px-4 py-2 text-sm font-medium rounded-[var(--radius-md)] transition-colors
              ${s?"bg-danger text-white hover:bg-danger/90":"bg-accent text-white hover:bg-accent-hover"}`,children:a})]})]})})}function V9({tripId:t,tripName:e,onClose:n}){const{dispatch:r,showToast:i}=Kt(),a=W.useRef(null),[s,l]=W.useState(!1);W.useEffect(()=>{function b(E){a.current&&!a.current.contains(E.target)&&n()}function S(E){E.key==="Escape"&&n()}return document.addEventListener("mousedown",b),document.addEventListener("keydown",S),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("keydown",S)}},[n]);const c=b=>{b.stopPropagation();const S=window.prompt("Rename trip:",e);S&&S.trim()&&S.trim()!==e&&(r({type:me.RENAME_TRIP,payload:{id:t,name:S.trim()}}),i("Trip renamed")),n()},f=b=>{b.stopPropagation(),r({type:me.DUPLICATE_TRIP,payload:t}),i("Trip duplicated"),n()},h=b=>{b.stopPropagation(),l(!0)},m=()=>{r({type:me.DELETE_TRIP,payload:t}),i("Trip deleted","info"),n()},y=[{label:"Rename",icon:v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),v.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),onClick:c},{label:"Duplicate",icon:v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),v.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),onClick:f},{label:"Delete",icon:v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polyline",{points:"3 6 5 6 21 6"}),v.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),v.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),v.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),onClick:h,danger:!0}];return v.jsxs(v.Fragment,{children:[v.jsx("div",{ref:a,className:`absolute right-2 top-8 z-50 w-40
                   bg-bg-input border border-border rounded-[var(--radius-md)]
                   animate-scale-in overflow-hidden`,onClick:b=>b.stopPropagation(),children:y.map(b=>v.jsxs("button",{onClick:b.onClick,className:`w-full flex items-center gap-2.5 px-3 py-2 text-sm text-left
                        transition-colors duration-100
                        ${b.danger?"text-danger hover:bg-danger/10":"text-text-secondary hover:bg-bg-hover hover:text-text-primary"}`,children:[v.jsx("span",{className:"shrink-0",children:b.icon}),b.label]},b.label))}),v.jsx(LD,{isOpen:s,onClose:()=>{l(!1),n()},onConfirm:m,title:"Delete trip?",message:`Are you sure you want to delete "${e}"? This action cannot be undone.`,confirmLabel:"Delete",danger:!0})]})}function B9({trip:t,isActive:e,isMobile:n}){const{dispatch:r}=Kt(),[i,a]=W.useState(!1),[s,l]=W.useState(!1),c=P1(t),f=I1(t.startDate,t.endDate),h=t.destinations&&t.destinations.length>0?[...new Set(t.destinations.map(b=>b.flag?b.flag:b.country?b.country.slice(0,2).toUpperCase():""))].join("  "):"",m=()=>{r({type:me.SET_ACTIVE_TRIP,payload:t.id}),n&&r({type:me.SET_SIDEBAR,payload:!1})},y=b=>{b.stopPropagation(),a(S=>!S)};return v.jsxs("div",{className:`
        group relative flex items-start gap-3 px-3 py-3.5
        rounded-[var(--radius-md)] cursor-pointer
        transition-all duration-150
        ${e?"bg-accent-muted border-l-[3px] border-l-accent":"border-l-[3px] border-l-transparent hover:bg-bg-hover"}
      `,onClick:m,onMouseEnter:()=>l(!0),onMouseLeave:()=>{l(!1),i||a(!1)},children:[v.jsx("span",{className:"text-2xl leading-none mt-0.5 shrink-0",role:"img","aria-label":"trip icon",children:t.emoji||""}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-start justify-between gap-1.5",children:[v.jsx("h3",{className:`text-sm font-medium truncate leading-snug ${e?"text-text-primary":"text-text-secondary"}`,children:t.name}),v.jsx("button",{onClick:y,className:`shrink-0 p-0.5 rounded-[var(--radius-sm)]
                        text-text-muted hover:text-text-primary hover:bg-bg-hover
                        transition-all duration-150
                        ${s||i?"opacity-100":"opacity-0"}
                      `,"aria-label":"Trip options",children:v.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:[v.jsx("circle",{cx:"12",cy:"6",r:"1.5"}),v.jsx("circle",{cx:"12",cy:"12",r:"1.5"}),v.jsx("circle",{cx:"12",cy:"18",r:"1.5"})]})})]}),h&&v.jsx("p",{className:"text-xs text-text-muted truncate mt-0.5",children:h}),v.jsxs("div",{className:"flex items-center gap-2 mt-1.5 flex-wrap",children:[f&&v.jsx("span",{className:"text-xs text-text-muted whitespace-nowrap",children:f}),t.startDate&&t.endDate&&v.jsx($9,{startDate:t.startDate,endDate:t.endDate})]})]}),v.jsx("div",{className:"shrink-0 mt-1",children:v.jsx(O1,{value:c,size:36,strokeWidth:3,showLabel:!0,labelClassName:"!text-[9px]"})}),i&&v.jsx(V9,{tripId:t.id,tripName:t.name,onClose:()=>a(!1)})]})}function F9({count:t,onSignOut:e}){return v.jsxs("div",{className:"px-5 py-4 border-t border-border flex items-center justify-between",children:[v.jsxs("p",{className:"text-xs text-text-muted",children:[t," ",I9(t,"trip")," planned"]}),e&&v.jsx("button",{onClick:e,className:"text-xs text-text-muted hover:text-text-secondary transition-colors",title:"Sign out",children:"Sign out"})]})}function U9({isMobile:t,isOpen:e,onNewTrip:n}){const{state:r,dispatch:i,sortedTrips:a}=Kt(),{signOutUser:s}=DD(),l=()=>{n&&n()},c=()=>{i({type:me.TOGGLE_DARK_MODE})},f=()=>{i({type:me.SET_SIDEBAR,payload:!1})},h=v.jsxs("aside",{className:"flex flex-col h-full bg-bg-sidebar border-r border-border-strong w-[var(--sidebar-width)]",children:[v.jsxs("div",{className:"px-5 pt-7 pb-5",children:[v.jsxs("div",{className:"flex items-center justify-between mb-1",children:[v.jsx("h1",{className:"font-heading text-2xl text-text-primary tracking-tight",children:"Wanderplan"}),v.jsx("button",{onClick:c,className:`p-2 rounded-[var(--radius-md)] text-text-muted hover:text-text-primary
                       hover:bg-bg-hover transition-colors`,"aria-label":r.darkMode?"Switch to light mode":"Switch to dark mode",children:r.darkMode?v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("circle",{cx:"12",cy:"12",r:"5"}),v.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),v.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),v.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),v.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),v.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),v.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),v.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),v.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):v.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})]}),v.jsx("p",{className:"text-xs text-text-muted leading-relaxed",children:"Every trip, perfectly planned."})]}),v.jsx("div",{className:"px-4 pb-5",children:v.jsxs("button",{onClick:l,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5
                     bg-accent hover:bg-accent-hover text-text-inverse
                     font-medium text-sm rounded-[var(--radius-md)]
                     
                     transition-all duration-200 active:scale-[0.98]`,children:[v.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),v.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New Trip"]})}),v.jsx("div",{className:"mx-4 border-t border-border"}),v.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4 space-y-1.5 scrollbar-hide",children:a.length===0?v.jsxs("div",{className:"px-3 py-8 text-center",children:[v.jsx("p",{className:"text-text-muted text-sm",children:"No trips yet."}),v.jsx("p",{className:"text-text-muted text-xs mt-1",children:"Create one to get started!"})]}):a.map(m=>v.jsx(B9,{trip:m,isActive:m.id===r.activeTripId,isMobile:t},m.id))}),v.jsx(F9,{count:a.length,onSignOut:s})]});return t?v.jsxs(v.Fragment,{children:[e&&v.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 transition-opacity duration-300",onClick:f,"aria-hidden":"true"}),v.jsx("div",{className:`fixed inset-y-0 left-0 z-50 transition-transform duration-300 ease-out
          ${e?"translate-x-0":"-translate-x-full"}`,children:v.jsxs("div",{className:"relative h-full",children:[h,v.jsx("button",{onClick:f,className:`absolute top-4 right-3 p-1.5 rounded-[var(--radius-sm)]
                       text-text-muted hover:text-text-primary hover:bg-bg-hover
                       transition-colors`,"aria-label":"Close sidebar",children:v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})})]}):h}function Wt({value:t,onSave:e,tag:n="span",className:r="",inputClassName:i="",placeholder:a="Click to edit...",multiline:s=!1}){const[l,c]=W.useState(!1),[f,h]=W.useState(t),m=W.useRef(null);W.useEffect(()=>{var S,E;l&&m.current&&(m.current.focus(),(E=(S=m.current).select)==null||E.call(S))},[l]),W.useEffect(()=>{h(t)},[t]);const y=()=>{c(!1);const S=(f==null?void 0:f.trim())??"";S!==t&&e(S)},b=S=>{S.key==="Enter"&&!s&&(S.preventDefault(),y()),S.key==="Escape"&&(h(t),c(!1))};if(l){const S=s?"textarea":"input";return v.jsx(S,{ref:m,value:f,onChange:E=>h(E.target.value),onBlur:y,onKeyDown:b,placeholder:a,className:`
          bg-bg-input border border-accent/30 rounded-[var(--radius-sm)]
          px-2 py-1 outline-none focus:border-accent focus:ring-1 focus:ring-accent/20
          text-text-primary font-body
          ${s?"min-h-[80px] resize-y w-full":""}
          ${i}
        `,rows:s?3:void 0})}return v.jsx(n,{onClick:()=>{h(t),c(!0)},className:`
        cursor-pointer border-b border-transparent
        hover:border-accent/30 transition-colors duration-150
        ${t?"":"text-text-muted italic"}
        ${r}
      `,title:"Click to edit",children:t||a})}function Hy(t){if(!t)return{days:0,hours:0,minutes:0,seconds:0,expired:!0,total:0};const e=new Date,r=new Date(t+"T00:00:00")-e;return r<=0?{days:0,hours:0,minutes:0,seconds:0,expired:!0,total:0}:{days:Math.floor(r/(1e3*60*60*24)),hours:Math.floor(r/(1e3*60*60)%24),minutes:Math.floor(r/(1e3*60)%60),seconds:Math.floor(r/1e3%60),expired:!1,total:r}}function C1(t){const[e,n]=W.useState(()=>Hy(t));return W.useEffect(()=>{if(!t)return;n(Hy(t));const r=setInterval(()=>{n(Hy(t))},1e3);return()=>clearInterval(r)},[t]),e}function II({targetDate:t,label:e,emoji:n}){const r=C1(t);return t?r.expired?v.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-accent-muted/40 rounded-[var(--radius-lg)] border border-accent/15",children:[v.jsx("span",{className:"text-base",children:n}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted leading-tight",children:e}),v.jsx("p",{className:"text-sm font-semibold text-accent",children:"Happening now!"})]})]}):v.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-bg-secondary rounded-[var(--radius-lg)] border border-border",children:[v.jsx("span",{className:"text-base",children:n}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted leading-tight",children:e}),v.jsxs("div",{className:"flex items-baseline gap-1.5 mt-0.5",children:[v.jsx("span",{className:"text-lg font-heading font-bold text-text-primary leading-none",children:r.days}),v.jsx("span",{className:"text-xs text-text-muted",children:r.days===1?"day":"days"}),v.jsx("span",{className:"text-text-muted text-xs mx-0.5",children:":"}),v.jsx("span",{className:"text-sm font-heading font-semibold text-text-primary leading-none",children:String(r.hours).padStart(2,"0")}),v.jsx("span",{className:"text-xs text-text-muted",children:"hrs"}),v.jsx("span",{className:"text-text-muted text-xs mx-0.5",children:":"}),v.jsx("span",{className:"text-sm font-heading font-semibold text-text-primary leading-none",children:String(r.minutes).padStart(2,"0")}),v.jsx("span",{className:"text-xs text-text-muted",children:"min"})]})]})]}):null}function q9(){const{activeTrip:t,dispatch:e}=Kt(),n=W.useMemo(()=>P1(t),[t]),r=W.useMemo(()=>{var y;return((y=t==null?void 0:t.bookings)==null?void 0:y.find(b=>b.priority))||null},[t==null?void 0:t.bookings]);if(!t)return null;const i=t,a=y=>{y&&e({type:me.RENAME_TRIP,payload:{id:i.id,name:y}})},s=i.startDate,l=(r==null?void 0:r.bookByDate)||(r==null?void 0:r.date)||i.startDate,c=r?r.name:"Trip starts",f=i.destinations||[],h=I1(i.startDate,i.endDate),m=i.travelers||1;return v.jsx("header",{className:"animate-fade-in border-b border-border",children:v.jsxs("div",{className:"max-w-4xl mx-auto px-8 pt-7 pb-6",children:[v.jsxs("div",{className:"flex items-start justify-between gap-6",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[v.jsx("span",{className:"text-[48px] leading-none shrink-0",role:"img","aria-label":"Trip emoji",children:i.emoji}),v.jsx("div",{className:"min-w-0 flex-1",children:v.jsx(Wt,{value:i.name,onSave:a,tag:"h1",className:"font-heading text-2xl md:text-3xl font-bold text-text-primary leading-tight truncate",inputClassName:"text-2xl md:text-3xl font-heading font-bold w-full",placeholder:"Name your trip..."})})]}),f.length>0&&v.jsx("div",{className:"flex items-center flex-wrap gap-x-1 gap-y-1 mb-3",children:f.map((y,b)=>v.jsxs("span",{className:"flex items-center gap-0.5",children:[b>0&&v.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-text-muted mx-1 shrink-0",children:v.jsx("polyline",{points:"9 18 15 12 9 6"})}),v.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-text-secondary whitespace-nowrap",children:[v.jsx("span",{children:y.flag}),v.jsx("span",{children:y.city})]})]},b))}),v.jsxs("div",{className:"flex items-center flex-wrap gap-3",children:[h&&v.jsxs("span",{className:"inline-flex items-center gap-1.5 text-sm text-text-muted",children:[v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0",children:[v.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),v.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),v.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),v.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),h]}),v.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 text-xs font-medium text-accent bg-accent-muted/40 rounded-[var(--radius-pill)]",children:[v.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),v.jsx("circle",{cx:"9",cy:"7",r:"4"}),v.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),v.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),m," ",m===1?"traveler":"travelers"]})]})]}),v.jsxs("div",{className:"shrink-0 flex flex-col items-center gap-1",children:[v.jsx(O1,{value:n,size:80,strokeWidth:6,labelClassName:"text-base"}),v.jsx("span",{className:"text-xs text-text-muted font-medium tracking-wide",children:"Readiness"})]})]}),v.jsxs("div",{className:"flex flex-wrap gap-3 mt-5",children:[v.jsx(II,{targetDate:s,label:"Days to departure",emoji:""}),r&&v.jsx(II,{targetDate:l,label:c,emoji:""})]})]})})}const z9=[{id:"overview",label:"Overview",emoji:""},{id:"itinerary",label:"Itinerary",emoji:""},{id:"bookings",label:"Bookings",emoji:""},{id:"budget",label:"Budget",emoji:""},{id:"todo",label:"To-Do",emoji:""},{id:"cities",label:"Cities",emoji:""},{id:"packing",label:"Packing",emoji:""},{id:"concert",label:"Concert",emoji:"",conditional:!0}],Yc=[{id:"flight",label:"Flight",emoji:""},{id:"hotel",label:"Hotel",emoji:""},{id:"experience",label:"Experience",emoji:""},{id:"concert",label:"Concert",emoji:""},{id:"transport",label:"Transport",emoji:""},{id:"custom",label:"Custom",emoji:""}],W9=["Admin","Finances","Tech","Health","Misc"],PI=["Documents","Clothing","Tech","Concert Essentials","Toiletries","Misc"];function H9(){var f;const{state:t,activeTrip:e,dispatch:n}=Kt(),r=t.activeTab,i=W.useRef(null),a=W.useRef(null),s=((f=e==null?void 0:e.bookings)==null?void 0:f.some(h=>h.category==="concert"))||!1,l=z9.filter(h=>h.conditional&&h.id==="concert"?s:!0),c=h=>{n({type:me.SET_TAB,payload:h})};return W.useEffect(()=>{if(a.current&&i.current){const h=i.current,m=a.current,y=h.getBoundingClientRect(),b=m.getBoundingClientRect();(b.left<y.left||b.right>y.right)&&m.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},[r]),v.jsx("nav",{className:"border-b border-border bg-bg-primary/80 backdrop-blur-sm sticky top-0 z-20",children:v.jsx("div",{ref:i,className:"flex overflow-x-auto scrollbar-hide px-8",role:"tablist","aria-label":"Trip sections",children:l.map(h=>{const m=r===h.id;return v.jsxs("button",{ref:m?a:null,role:"tab","aria-selected":m,"aria-controls":`panel-${h.id}`,onClick:()=>c(h.id),className:`
                relative flex items-center gap-1.5 px-4 py-3.5 text-sm font-medium
                whitespace-nowrap transition-colors duration-200
                shrink-0
                ${m?"text-accent":"text-text-muted hover:text-text-secondary"}
              `,children:[v.jsx("span",{className:"text-base leading-none",children:h.emoji}),v.jsx("span",{children:h.label}),m&&v.jsx("span",{className:"absolute bottom-0 left-2 right-2 h-[2.5px] bg-accent rounded-full","aria-hidden":"true"})]},h.id)})})})}const G9=["","","","","","","","","","","","","","","","","","","",""],K9=[{emoji:"",label:"Flight"},{emoji:"",label:"Hotel"},{emoji:"",label:"Food"},{emoji:"",label:"Sightseeing"},{emoji:"",label:"Activity"},{emoji:"",label:"Shopping"},{emoji:"",label:"Music"},{emoji:"",label:"Transport"},{emoji:"",label:"Beach"},{emoji:"",label:"Temple"},{emoji:"",label:"Nightlife"},{emoji:"",label:"Photo"},{emoji:"",label:"Spa"},{emoji:"",label:"Walk"},{emoji:"",label:"Show"},{emoji:"",label:"Other"}],$D=4,OI=[{name:"Flights",emoji:""},{name:"Accommodation",emoji:""},{name:"Food & Dining",emoji:""},{name:"Activities",emoji:""},{name:"Transport",emoji:""},{name:"Shopping",emoji:""},{name:"Other",emoji:""}],b_={Philippines:"",Singapore:"",Thailand:"",Malaysia:"",Indonesia:"",Vietnam:"",Japan:"","South Korea":"",Taiwan:"",Cambodia:"",Myanmar:"",Laos:"",India:"",China:"","Hong Kong":"",Australia:"","New Zealand":"",USA:"",UK:"",France:"",Italy:"",Spain:"",Germany:"",Netherlands:"",Greece:"",Turkey:"",UAE:"",Mexico:"",Brazil:"",Canada:"",Portugal:"",Switzerland:""},CI=[{city:"Bangkok",country:"Thailand"},{city:"Bali",country:"Indonesia"},{city:"Cebu",country:"Philippines"},{city:"Manila",country:"Philippines"},{city:"Boracay",country:"Philippines"},{city:"Singapore",country:"Singapore"},{city:"Kuala Lumpur",country:"Malaysia"},{city:"Penang",country:"Malaysia"},{city:"Ho Chi Minh City",country:"Vietnam"},{city:"Hanoi",country:"Vietnam"},{city:"Tokyo",country:"Japan"},{city:"Osaka",country:"Japan"},{city:"Kyoto",country:"Japan"},{city:"Seoul",country:"South Korea"},{city:"Taipei",country:"Taiwan"},{city:"Hong Kong",country:"Hong Kong"},{city:"Sydney",country:"Australia"},{city:"Melbourne",country:"Australia"},{city:"Auckland",country:"New Zealand"},{city:"Paris",country:"France"},{city:"Rome",country:"Italy"},{city:"Barcelona",country:"Spain"},{city:"Madrid",country:"Spain"},{city:"Amsterdam",country:"Netherlands"},{city:"London",country:"UK"},{city:"New York",country:"USA"},{city:"Los Angeles",country:"USA"},{city:"Dubai",country:"UAE"},{city:"Istanbul",country:"Turkey"},{city:"Athens",country:"Greece"},{city:"Santorini",country:"Greece"},{city:"Lisbon",country:"Portugal"},{city:"Koh Samui",country:"Thailand"},{city:"Phuket",country:"Thailand"},{city:"Chiang Mai",country:"Thailand"},{city:"Siem Reap",country:"Cambodia"},{city:"Vancouver",country:"Canada"},{city:"Toronto",country:"Canada"},{city:"Mexico City",country:"Mexico"},{city:"Cancn",country:"Mexico"},{city:"Rio de Janeiro",country:"Brazil"},{city:"So Paulo",country:"Brazil"}];function Y9({currentStep:t}){return v.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:Array.from({length:$D},(e,n)=>{const r=n+1,i=r===t,a=r<t;return v.jsxs("div",{className:"flex items-center gap-2",children:[n>0&&v.jsx("div",{className:`w-8 h-[2px] rounded-full transition-colors duration-300 ${a?"bg-accent":"bg-border"}`}),v.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold transition-all duration-300
              ${i?"bg-accent text-text-inverse ring-4 ring-accent/20":a?"bg-accent text-text-inverse":"bg-bg-secondary text-text-muted border border-border"}`,children:a?v.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polyline",{points:"20 6 9 17 4 12"})}):r})]},r)})})}function X9({form:t,setForm:e}){const[n,r]=W.useState(""),i=a=>{const s=a.match(new RegExp("\\p{Emoji}","u"));s?(e(l=>({...l,emoji:s[0]})),r(s[0])):r(a)};return v.jsxs("div",{className:"space-y-5 animate-fade-in",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Name your adventure"}),v.jsx("p",{className:"text-sm text-text-muted",children:"What should we call this trip?"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Trip Name"}),v.jsx("input",{type:"text",value:t.name,onChange:a=>e(s=>({...s,name:a.target.value})),placeholder:"e.g. Summer in Europe",className:`w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)]
                     text-text-primary placeholder:text-text-muted
                     focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors`,autoFocus:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Trip Emoji"}),v.jsx("div",{className:"grid grid-cols-10 gap-1.5 mb-2",children:G9.map(a=>v.jsx("button",{type:"button",onClick:()=>{e(s=>({...s,emoji:a})),r("")},className:`w-9 h-9 flex items-center justify-center text-lg rounded-[var(--radius-sm)] transition-all duration-150
                ${t.emoji===a&&!n?"bg-accent/15 ring-2 ring-accent scale-110":"bg-bg-secondary hover:bg-bg-hover"}`,children:a},a))}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-2xl w-9 h-9 flex items-center justify-center border border-border rounded-[var(--radius-sm)] bg-bg-secondary",children:t.emoji}),v.jsx("input",{type:"text",value:n,onChange:a=>i(a.target.value),placeholder:"Or type any emoji",className:`flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-md)]
                       text-text-primary placeholder:text-text-muted
                       focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors`})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Travelers"}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{type:"button",onClick:()=>e(a=>({...a,travelers:Math.max(1,a.travelers-1)})),disabled:t.travelers<=1,className:"w-9 h-9 flex items-center justify-center rounded-[var(--radius-md)] bg-bg-secondary border border-border text-text-secondary hover:bg-bg-hover disabled:opacity-30 disabled:cursor-not-allowed transition-colors text-lg font-medium",children:"-"}),v.jsx("span",{className:"w-10 text-center text-lg font-heading font-bold text-text-primary",children:t.travelers}),v.jsx("button",{type:"button",onClick:()=>e(a=>({...a,travelers:Math.min(20,a.travelers+1)})),disabled:t.travelers>=20,className:"w-9 h-9 flex items-center justify-center rounded-[var(--radius-md)] bg-bg-secondary border border-border text-text-secondary hover:bg-bg-hover disabled:opacity-30 disabled:cursor-not-allowed transition-colors text-lg font-medium",children:"+"}),v.jsx("span",{className:"text-sm text-text-muted",children:t.travelers===1?"traveler":"travelers"})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Start Date"}),v.jsx("input",{type:"date",value:t.startDate,onChange:a=>e(s=>({...s,startDate:a.target.value})),className:"w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)] text-text-primary focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"End Date"}),v.jsx("input",{type:"date",value:t.endDate,min:t.startDate||void 0,onChange:a=>e(s=>({...s,endDate:a.target.value})),className:"w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)] text-text-primary focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]})]})]})}const kI="city-suggestions";function Q9({form:t,setForm:e}){const n=()=>{e(s=>({...s,destinations:[...s.destinations,{city:"",country:"",flag:""}]}))},r=(s,l)=>{const c=CI.find(f=>f.city.toLowerCase()===l.toLowerCase());e(f=>{const h=[...f.destinations];return h[s]={...h[s],city:l,...c?{country:c.country,flag:b_[c.country]||""}:{}},{...f,destinations:h}})},i=(s,l)=>{e(c=>{const f=[...c.destinations];return f[s]={...f[s],country:l,flag:b_[l.trim()]||f[s].flag||""},{...c,destinations:f}})},a=s=>{t.destinations.length<=1||e(l=>({...l,destinations:l.destinations.filter((c,f)=>f!==s)}))};return v.jsxs("div",{className:"space-y-5 animate-fade-in",children:[v.jsx("datalist",{id:kI,children:CI.map(s=>v.jsx("option",{value:s.city},s.city))}),v.jsxs("div",{children:[v.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Where are you going?"}),v.jsx("p",{className:"text-sm text-text-muted",children:"Add your destinations in order of visit."})]}),v.jsx("div",{className:"space-y-3",children:t.destinations.map((s,l)=>v.jsxs("div",{className:"flex items-start gap-3 p-3 bg-bg-secondary border border-border rounded-[var(--radius-md)] group",children:[v.jsx("div",{className:"w-7 h-7 rounded-full bg-accent/10 text-accent flex items-center justify-center text-xs font-semibold shrink-0 mt-0.5",children:l+1}),v.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[v.jsx("input",{type:"text",list:kI,value:s.city,onChange:c=>r(l,c.target.value),placeholder:"City",className:"px-3 py-2 bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted text-sm focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"}),v.jsx("input",{type:"text",value:s.country,onChange:c=>i(l,c.target.value),placeholder:"Country",className:"px-3 py-2 bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted text-sm focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]}),s.flag&&v.jsx("span",{className:"text-xl flex-shrink-0 mt-1",children:s.flag}),v.jsx("button",{type:"button",onClick:()=>a(l),disabled:t.destinations.length<=1,className:"p-1.5 rounded-[var(--radius-sm)] text-text-muted hover:text-danger hover:bg-danger/10 disabled:opacity-0 disabled:pointer-events-none transition-all shrink-0 mt-0.5",children:v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},l))}),v.jsxs("button",{type:"button",onClick:n,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 border border-dashed border-border-strong rounded-[var(--radius-md)] text-sm text-text-muted font-medium hover:text-accent hover:border-accent/40 hover:bg-accent-muted/20 transition-colors",children:[v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),v.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Destination"]})]})}function J9({form:t,setForm:e}){const n=(l,c,f)=>{e(h=>{const m=[...h.budgetCategories];return m[l]={...m[l],[c]:Number(f)||0},{...h,budgetCategories:m}})},r=t.budgetCategories.reduce((l,c)=>l+(c.min||0),0),i=t.budgetCategories.reduce((l,c)=>l+(c.max||0),0),a=sp.find(l=>l.code===t.currency),s=a?a.symbol:t.currency;return v.jsxs("div",{className:"space-y-5 animate-fade-in",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Set your budget"}),v.jsx("p",{className:"text-sm text-text-muted",children:"Optional. You can always add this later."})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Currency"}),v.jsx("select",{value:t.currency,onChange:l=>e(c=>({...c,currency:l.target.value})),className:"w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)] text-text-primary focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors appearance-none cursor-pointer",children:sp.map(l=>v.jsxs("option",{value:l.code,children:[l.symbol," ",l.code,"  ",l.name]},l.code))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Budget Categories"}),v.jsx("div",{className:"space-y-2",children:t.budgetCategories.map((l,c)=>v.jsxs("div",{className:"p-2.5 bg-bg-secondary border border-border rounded-[var(--radius-sm)]",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("span",{className:"text-base w-6 text-center",children:l.emoji}),v.jsx("span",{className:"text-sm text-text-secondary font-medium",children:l.name})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:items-center sm:gap-2",children:[v.jsxs("div",{className:"relative",children:[v.jsx("span",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-xs text-text-muted",children:s}),v.jsx("input",{type:"number",min:"0",value:l.min||"",onChange:f=>n(c,"min",f.target.value),placeholder:"Min",className:"w-full pl-7 pr-2 py-1.5 bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary text-sm text-right focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]}),v.jsxs("div",{className:"relative",children:[v.jsx("span",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-xs text-text-muted",children:s}),v.jsx("input",{type:"number",min:"0",value:l.max||"",onChange:f=>n(c,"max",f.target.value),placeholder:"Max",className:"w-full pl-7 pr-2 py-1.5 bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary text-sm text-right focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]}),l.max>0&&v.jsx("div",{className:"col-span-2 sm:flex-1",children:v.jsx("input",{type:"range",min:"0",max:Math.max(l.max*2,1e5),step:"1000",value:l.max,onChange:f=>n(c,"max",f.target.value),className:"w-full accent-[var(--color-accent)] h-1.5 rounded-full cursor-pointer"})})]})]},c))})]}),(r>0||i>0)&&v.jsxs("div",{className:"flex justify-between items-center px-3 py-2.5 bg-accent-muted/30 rounded-[var(--radius-md)] border border-accent/10",children:[v.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Estimated Total"}),v.jsxs("span",{className:"text-sm font-heading font-semibold text-accent",children:[s,r.toLocaleString(),"  ",s,i.toLocaleString()]})]})]})}function Z9({form:t}){const e=sp.find(s=>s.code===t.currency),n=e?e.symbol:t.currency,r=t.budgetCategories.reduce((s,l)=>s+(l.min||0),0),i=t.budgetCategories.reduce((s,l)=>s+(l.max||0),0),a=t.destinations.filter(s=>s.city.trim());return v.jsxs("div",{className:"space-y-5 animate-fade-in",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Review your trip"}),v.jsx("p",{className:"text-sm text-text-muted",children:"Everything look good? You can edit details later."})]}),v.jsxs("div",{className:"bg-bg-secondary border border-border rounded-[var(--radius-lg)] overflow-hidden",children:[v.jsx("div",{className:"px-5 py-4 border-b border-border",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-4xl",children:t.emoji}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-heading text-lg font-bold text-text-primary",children:t.name||"Untitled Trip"}),v.jsxs("p",{className:"text-sm text-text-muted",children:[t.travelers," ",t.travelers===1?"traveler":"travelers"]})]})]})}),v.jsxs("div",{className:"px-5 py-4 space-y-4",children:[(t.startDate||t.endDate)&&v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider font-medium mb-1",children:"Dates"}),v.jsxs("p",{className:"text-sm text-text-primary",children:[t.startDate?up(t.startDate):"TBD","  ",t.endDate?up(t.endDate):"TBD"]})]}),a.length>0&&v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider font-medium mb-1.5",children:"Destinations"}),v.jsx("div",{className:"flex flex-wrap gap-1.5",children:a.map((s,l)=>v.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 text-xs bg-bg-hover rounded-[var(--radius-pill)] text-text-secondary",children:[s.flag||""," ",s.city,s.country?`, ${s.country}`:""]},l))})]}),(r>0||i>0)&&v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider font-medium mb-1",children:"Budget"}),v.jsxs("p",{className:"text-sm text-text-primary",children:[n,r.toLocaleString(),"  ",n,i.toLocaleString()," ",t.currency]})]})]})]})]})}function eq({isOpen:t,onClose:e}){const{dispatch:n,showToast:r}=Kt(),[i,a]=W.useState(1),[s,l]=W.useState(()=>c());function c(){return{name:"",emoji:"",travelers:1,startDate:"",endDate:"",destinations:[{city:"",country:"",flag:""}],currency:"PHP",budgetCategories:OI.map(y=>({...y,min:0,max:0}))}}const f=()=>{a(1),l(c()),e()},h=W.useMemo(()=>i===1?s.name.trim().length>0:i===2?s.destinations.some(y=>y.city.trim().length>0):!0,[i,s]),m=()=>{const y=s.destinations.filter(E=>E.city.trim()).map(E=>({city:E.city.trim(),country:E.country.trim(),flag:E.flag||b_[E.country.trim()]||""})),b=s.budgetCategories.filter(E=>E.min>0||E.max>0).map(E=>({id:Date.now().toString(36)+Math.random().toString(36).slice(2,8),name:E.name,emoji:E.emoji,min:E.min,max:E.max,actual:0})),S=O9({name:s.name.trim()||"New Trip",emoji:s.emoji,travelers:s.travelers,startDate:s.startDate,endDate:s.endDate,destinations:y,currency:s.currency,budget:b});n({type:me.ADD_TRIP,payload:S}),r(`"${S.name}" created! Let's plan this trip. `),f()};return v.jsxs(MD,{isOpen:t,onClose:f,maxWidth:"max-w-lg",children:[v.jsxs("div",{className:"px-6 pt-6 pb-2",children:[v.jsx("button",{type:"button",onClick:f,className:"absolute top-4 right-4 p-1.5 rounded-[var(--radius-sm)] text-text-muted hover:text-text-primary hover:bg-bg-hover transition-colors z-10",children:v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),v.jsx(Y9,{currentStep:i}),v.jsxs("div",{className:"min-h-[320px]",children:[i===1&&v.jsx(X9,{form:s,setForm:l}),i===2&&v.jsx(Q9,{form:s,setForm:l}),i===3&&v.jsx(J9,{form:s,setForm:l}),i===4&&v.jsx(Z9,{form:s})]})]}),v.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-border mt-2",children:[v.jsx("div",{children:i>1&&v.jsxs("button",{type:"button",onClick:()=>a(y=>y-1),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary hover:bg-bg-hover rounded-[var(--radius-md)] transition-colors",children:[v.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back"]})}),v.jsxs("div",{className:"flex items-center gap-2",children:[i===3&&v.jsx("button",{type:"button",onClick:()=>{l(y=>({...y,budgetCategories:OI.map(b=>({...b,min:0,max:0}))})),a(4)},className:"px-4 py-2 text-sm font-medium text-text-muted hover:text-text-secondary hover:bg-bg-hover rounded-[var(--radius-md)] transition-colors",children:"Skip"}),i<$D?v.jsxs("button",{type:"button",onClick:()=>a(y=>y+1),disabled:!h,className:"flex items-center gap-1.5 px-5 py-2 text-sm font-medium bg-accent hover:bg-accent-hover text-text-inverse rounded-[var(--radius-md)] disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200",children:["Next",v.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polyline",{points:"9 18 15 12 9 6"})})]}):v.jsxs("button",{type:"button",onClick:m,className:"flex items-center gap-2 px-6 py-2.5 text-sm font-semibold bg-accent hover:bg-accent-hover text-text-inverse rounded-[var(--radius-md)] transition-all duration-200 active:scale-[0.98]",children:[v.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),v.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Create Trip"]})]})]})]})}function tq({message:t,type:e="success",visible:n}){if(!t)return null;const r={success:"bg-success/10 text-success border-success/20",error:"bg-danger/10 text-danger border-danger/20",info:"bg-info/10 text-info border-info/20",warning:"bg-warning/10 text-warning border-warning/20"};return v.jsx("div",{className:`
      fixed bottom-6 left-1/2 -translate-x-1/2 z-[60]
      px-5 py-3 rounded-[var(--radius-lg)] border
      font-medium text-sm
      ${r[e]||r.success}
      ${n?"animate-toast-in":"animate-toast-out pointer-events-none"}
    `,children:t})}const nq="AIzaSyA4QLefxZOI-pdHRTyiKNSC_EFTOPqQgL8",rq=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${nq}`;function iq(t){var k,R,D,C,I,N,A;if(!t)return`You are Wanda, a friendly AI travel assistant built into Wanderplan, a trip planning app.
Help users plan trips, suggest activities, recommend restaurants, give packing advice, and optimize itineraries.
Be concise, warm, and practical. Use emojis sparingly. The user hasn't selected a trip yet, so give general travel advice.`;const e=((k=t.cities)==null?void 0:k.map(P=>`${P.flag} ${P.city}, ${P.country}`).join("  "))||"Not specified",n=t.travelers||1,r=t.startDate||"TBD",i=t.endDate||"TBD",a=((R=t.itinerary)==null?void 0:R.length)||0;(D=t.itinerary)!=null&&D.reduce((P,j)=>{var B;return P+(((B=j.activities)==null?void 0:B.length)||0)},0);const s=(C=t.budget)!=null&&C.length?t.budget.map(P=>`${P.emoji||""} ${P.name}: ${P.max} budget (${P.actual||0} spent)`).join(", "):"No budget set",l=((I=t.budget)==null?void 0:I.reduce((P,j)=>P+(j.max||0),0))||0,c=((N=t.budget)==null?void 0:N.reduce((P,j)=>P+(j.actual||0),0))||0,f=t.bookings||[],h=f.filter(P=>P.status==="booked").length,m=f.filter(P=>P.status!=="booked").length,y=t.todos||[],b=y.filter(P=>P.done).length,S=t.packingList||[],E=S.filter(P=>P.packed).length,_=((A=t.itinerary)==null?void 0:A.slice(0,5).map(P=>{var j;return`Day ${P.dayNumber} (${P.location||"location TBD"}): ${((j=P.activities)==null?void 0:j.map(B=>B.name).join(", "))||"no activities yet"}`}).join(`
`))||"No itinerary yet";return`You are Wanda, a friendly AI travel assistant built into Wanderplan.
You are helping plan this specific trip:

 TRIP: "${t.name||"Unnamed Trip"}" ${t.emoji||""}
 Route: ${e}
 Dates: ${r}  ${i} (${a} days planned)
 Travelers: ${n}

 BUDGET:
${s}
Total: ${l} budget, ${c} spent, ${l-c} remaining

 BOOKINGS: ${h} confirmed, ${m} pending
 TODOS: ${b}/${y.length} done
 PACKING: ${E}/${S.length} packed

 ITINERARY PREVIEW:
${_}

Your role:
- Give specific, actionable advice tailored to THIS trip's cities, budget, and timeline
- Be concise  2-4 sentences per response unless the user asks for a detailed list
- Use emojis sparingly (1-2 per response max)
- When suggesting activities, consider the budget remaining (${l-c})
- If the user asks to "optimize" or "improve" something, give concrete suggestions
- Be warm and conversational, like a knowledgeable travel-savvy friend`}async function aq(t,e,n){var c,f,h,m,y,b;const i={contents:[...e.map(S=>({role:S.role,parts:[{text:S.text}]})),{role:"user",parts:[{text:n}]}],systemInstruction:{parts:[{text:t}]},generationConfig:{temperature:.8,maxOutputTokens:512}},a=await fetch(rq,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!a.ok){const S=await a.json().catch(()=>({}));throw new Error(((c=S==null?void 0:S.error)==null?void 0:c.message)||`Gemini API error ${a.status}`)}const l=(b=(y=(m=(h=(f=(await a.json()).candidates)==null?void 0:f[0])==null?void 0:h.content)==null?void 0:m.parts)==null?void 0:y[0])==null?void 0:b.text;if(!l)throw new Error("No response from Gemini");return l}const NI=[{label:" Optimize itinerary",text:"Can you review my itinerary and suggest any improvements or optimizations?"},{label:" Restaurant tips",text:"What are the best restaurants or food experiences I should try on this trip?"},{label:" Packing advice",text:"Based on my destinations and dates, what should I make sure to pack?"},{label:" Budget check",text:"How is my budget looking? Any tips to save money or where to splurge?"},{label:" Hidden gems",text:"What are some lesser-known hidden gems or local tips for my destinations?"},{label:" Day plan",text:"Can you suggest a perfect day itinerary for one of my destinations?"}];function oq({msg:t}){const e=t.role==="user";return v.jsxs("div",{className:`flex ${e?"justify-end":"justify-start"} mb-3`,children:[!e&&v.jsx("div",{className:"w-7 h-7 rounded-full bg-accent/10 border border-accent/20 flex items-center justify-center text-sm flex-shrink-0 mr-2 mt-0.5",children:""}),v.jsx("div",{className:`
          max-w-[85%] px-3.5 py-2.5 rounded-2xl text-sm leading-relaxed
          ${e?"bg-accent text-text-inverse rounded-tr-sm":"bg-bg-secondary border border-border text-text-primary rounded-tl-sm"}
        `,children:t.text})]})}function sq(){return v.jsxs("div",{className:"flex justify-start mb-3",children:[v.jsx("div",{className:"w-7 h-7 rounded-full bg-accent/10 border border-accent/20 flex items-center justify-center text-sm flex-shrink-0 mr-2 mt-0.5",children:""}),v.jsxs("div",{className:"bg-bg-secondary border border-border px-4 py-3 rounded-2xl rounded-tl-sm flex items-center gap-1.5",children:[v.jsx("span",{className:"w-1.5 h-1.5 bg-text-muted rounded-full animate-bounce",style:{animationDelay:"0ms"}}),v.jsx("span",{className:"w-1.5 h-1.5 bg-text-muted rounded-full animate-bounce",style:{animationDelay:"150ms"}}),v.jsx("span",{className:"w-1.5 h-1.5 bg-text-muted rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})}function uq(){const{activeTrip:t}=Kt(),[e,n]=W.useState(!1),[r,i]=W.useState([]),[a,s]=W.useState(""),[l,c]=W.useState(!1),[f,h]=W.useState(null),[m,y]=W.useState(!0),b=W.useRef(null),S=W.useRef(null);W.useEffect(()=>{var I;(I=b.current)==null||I.scrollIntoView({behavior:"smooth"})},[r,l]),W.useEffect(()=>{e&&setTimeout(()=>{var I;return(I=S.current)==null?void 0:I.focus()},150)},[e]);const E=iq(t);async function _(I){const N=(I||a).trim();if(!N||l)return;s(""),h(null),y(!1);const A={role:"user",text:N},P=[...r,A];i(P),c(!0);try{const B=await aq(E,r,N);i($=>[...$,{role:"model",text:B}])}catch(j){h(j.message||"Something went wrong. Try again."),i(B=>B.slice(0,-1))}finally{c(!1)}}function k(I){_(I.text)}function R(I){I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),_())}function D(){i([]),h(null),y(!0)}const C=r.length>0;return v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>n(I=>!I),className:`
          fixed bottom-6 right-6 z-40
          w-13 h-13 rounded-full
          flex items-center justify-center text-xl
          shadow-lg border border-border
          transition-all duration-200 active:scale-95
          ${e?"bg-bg-secondary text-text-secondary rotate-0 hover:bg-bg-tertiary":"bg-accent hover:bg-accent-hover text-text-inverse"}
        `,title:e?"Close AI assistant":"Ask Wanda AI","aria-label":e?"Close AI assistant":"Open AI assistant",children:e?"":""}),v.jsxs("div",{className:`
          fixed bottom-24 right-6 z-40
          w-[min(380px,calc(100vw-3rem))]
          bg-bg-primary border border-border rounded-[var(--radius-lg)]
          shadow-2xl flex flex-col
          transition-all duration-300 ease-out
          ${e?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 translate-y-4 pointer-events-none"}
        `,style:{maxHeight:"min(540px, calc(100dvh - 10rem))"},children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border flex-shrink-0",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-lg",children:""}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-semibold text-text-primary leading-tight",children:"Wanda"}),v.jsx("p",{className:"text-[10px] text-text-muted leading-tight",children:t?`Knows your ${t.name} trip`:"AI travel assistant"})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[C&&v.jsx("button",{onClick:D,className:"text-xs text-text-muted hover:text-text-secondary transition-colors px-2 py-1 rounded hover:bg-bg-secondary",title:"Clear chat",children:"Clear"}),v.jsx("div",{className:"w-2 h-2 rounded-full bg-success animate-pulse",title:"Connected"})]})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 min-h-0",children:[!C&&m&&v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted text-center mb-4 leading-relaxed",children:t?`I know your ${t.emoji||""} ${t.name} trip. Ask me anything!`:"Your AI travel companion. Ask me anything about travel planning!"}),v.jsx("div",{className:"flex flex-wrap gap-1.5",children:NI.map(I=>v.jsx("button",{onClick:()=>k(I),className:`text-xs px-2.5 py-1.5 rounded-full border border-border bg-bg-secondary
                               hover:bg-bg-tertiary hover:border-accent/40 text-text-secondary
                               transition-all duration-150 active:scale-95`,children:I.label},I.label))})]}),r.map((I,N)=>v.jsx(oq,{msg:I},N)),l&&v.jsx(sq,{}),f&&v.jsx("div",{className:"text-xs text-center text-red-400 bg-red-400/10 border border-red-400/20 rounded-lg px-3 py-2 mb-2",children:f}),v.jsx("div",{ref:b})]}),C&&!l&&v.jsx("div",{className:"px-4 pb-2 flex gap-1.5 overflow-x-auto flex-shrink-0 scrollbar-none",children:NI.slice(0,3).map(I=>v.jsx("button",{onClick:()=>k(I),className:`text-[11px] px-2.5 py-1 rounded-full border border-border bg-bg-secondary
                           hover:bg-bg-tertiary text-text-muted whitespace-nowrap
                           transition-all duration-150 active:scale-95 flex-shrink-0`,children:I.label},I.label))}),v.jsxs("div",{className:"px-3 pb-3 pt-1 flex-shrink-0 border-t border-border mt-auto",children:[v.jsxs("div",{className:"flex items-end gap-2 mt-2",children:[v.jsx("textarea",{ref:S,value:a,onChange:I=>s(I.target.value),onKeyDown:R,placeholder:"Ask about your trip",rows:1,className:`
                flex-1 resize-none rounded-[var(--radius-md)] border border-border
                bg-bg-secondary text-text-primary placeholder:text-text-muted
                px-3 py-2 text-sm leading-relaxed
                focus:outline-none focus:border-accent/50 focus:ring-1 focus:ring-accent/20
                transition-all duration-150
                scrollbar-none overflow-hidden
              `,style:{minHeight:"38px",maxHeight:"120px"},onInput:I=>{I.target.style.height="auto",I.target.style.height=Math.min(I.target.scrollHeight,120)+"px"},disabled:l}),v.jsx("button",{onClick:()=>_(),disabled:!a.trim()||l,className:`
                w-9 h-9 flex-shrink-0 rounded-[var(--radius-md)]
                bg-accent hover:bg-accent-hover text-text-inverse
                flex items-center justify-center
                disabled:opacity-40 disabled:cursor-not-allowed
                transition-all duration-150 active:scale-95
              `,"aria-label":"Send message",children:v.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),v.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})})]}),v.jsx("p",{className:"text-[10px] text-text-muted text-center mt-1.5 opacity-60",children:"Powered by Gemini 2.0 Flash  Enter to send"})]})]}),e&&v.jsx("div",{className:"fixed inset-0 z-30 md:hidden",onClick:()=>n(!1)})]})}function Nt({children:t,className:e="",hover:n=!1,onClick:r,padding:i="p-6"}){return v.jsx("div",{onClick:r,className:`
        bg-bg-secondary border border-border rounded-[14px]
        ${n?"hover:-translate-y-[1px] cursor-pointer":""}
        transition-all duration-200
        ${i}
        ${e}
      `,children:t})}function yu({value:t=0,max:e=100,className:n="",colorClass:r="bg-accent",height:i="h-2",showLabel:a=!1,label:s=""}){const l=e>0?Math.min(100,Math.round(t/e*100)):0;return v.jsxs("div",{className:n,children:[(a||s)&&v.jsxs("div",{className:"flex justify-between items-center mb-1.5 text-sm",children:[v.jsx("span",{className:"text-text-secondary",children:s}),v.jsxs("span",{className:"text-text-muted font-medium",children:[t,"/",e]})]}),v.jsx("div",{className:`w-full bg-border rounded-full overflow-hidden ${i}`,children:v.jsx("div",{className:`${i} ${r} rounded-full transition-all duration-700 ease-out`,style:{width:`${l}%`}})})]})}function yh({value:t,label:e}){return v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-3xl font-heading font-bold text-text-primary",children:String(t).padStart(2,"0")}),v.jsx("div",{className:"text-xs text-text-muted uppercase tracking-wider mt-0.5",children:e})]})}function lq({targetDate:t,label:e}){const n=C1(t);return n.expired?v.jsxs(Nt,{className:"text-center",children:[v.jsx("p",{className:"text-text-muted text-sm mb-1",children:e}),v.jsx("p",{className:"text-accent font-heading text-lg font-semibold",children:"It's time! "})]}):v.jsxs(Nt,{className:"text-center",children:[v.jsx("p",{className:"text-text-muted text-sm mb-3",children:e}),v.jsxs("div",{className:"flex justify-center gap-4",children:[v.jsx(yh,{value:n.days,label:"days"}),v.jsx("span",{className:"text-text-muted text-2xl font-light self-start mt-1",children:":"}),v.jsx(yh,{value:n.hours,label:"hrs"}),v.jsx("span",{className:"text-text-muted text-2xl font-light self-start mt-1",children:":"}),v.jsx(yh,{value:n.minutes,label:"min"}),v.jsx("span",{className:"text-text-muted text-2xl font-light self-start mt-1",children:":"}),v.jsx(yh,{value:n.seconds,label:"sec"})]})]})}function jI(){var b,S,E,_,k,R,D;const{activeTrip:t}=Kt();if(!t)return null;const e=t,n=P1(e),r=D9(e);W.useMemo(()=>{var C;return((C=e.bookings)==null?void 0:C.find(I=>I.priority))||null},[e.bookings]);const i=S9(e.startDate,e.endDate),a=[...new Set((b=e.destinations)==null?void 0:b.map(C=>C.city))].length,s=((S=e.bookings)==null?void 0:S.filter(C=>C.category==="flight").length)||0,l=((E=e.bookings)==null?void 0:E.filter(C=>["experience","concert"].includes(C.category)).length)||0,c=((_=e.budget)==null?void 0:_.reduce((C,I)=>C+(I.min||0),0))||0,f=((k=e.budget)==null?void 0:k.reduce((C,I)=>C+(I.max||0),0))||0,h=((R=e.budget)==null?void 0:R.reduce((C,I)=>C+(I.actual||0),0))||0,m=W.useMemo(()=>{var N,A;const C=(N=e.todos)==null?void 0:N.filter(P=>!P.done).sort((P,j)=>P.priority==="high"&&j.priority!=="high"?-1:j.priority==="high"&&P.priority!=="high"?1:P.dueDate&&j.dueDate?new Date(P.dueDate)-new Date(j.dueDate):P.dueDate?-1:1);if((C==null?void 0:C.length)>0)return{type:"todo",item:C[0]};const I=(A=e.bookings)==null?void 0:A.filter(P=>P.status!=="booked").sort((P,j)=>P.priority&&!j.priority?-1:j.priority&&!P.priority?1:0);return(I==null?void 0:I.length)>0?{type:"booking",item:I[0]}:null},[e.todos,e.bookings]),y=n===100?"You're 100% ready. Go enjoy the world. ":n>=75?"Almost there! Just a few more things.":n>=50?"Making good progress. Keep it up!":"Let's get this trip planned! ";return v.jsxs("div",{className:"space-y-7 animate-fade-in",children:[v.jsx("div",{className:"bg-bg-secondary rounded-[var(--radius-xl)] p-9 relative overflow-hidden border border-border",children:v.jsxs("div",{className:"relative z-10",children:[v.jsxs("h2",{className:"font-heading text-3xl font-bold mb-2 text-text-primary",children:[e.emoji," ",e.name]}),v.jsxs("p",{className:"text-text-muted text-sm",children:[I1(e.startDate,e.endDate),"  ",e.travelers," ",e.travelers===1?"traveler":"travelers"]}),v.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:(D=e.destinations)==null?void 0:D.map((C,I)=>v.jsxs("span",{className:"px-3 py-1 bg-bg-hover rounded-[var(--radius-pill)] text-sm text-text-secondary",children:[C.flag," ",C.city]},I))})]})}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-5",children:[{label:"Total Days",value:i,emoji:""},{label:"Cities",value:a,emoji:""},{label:"Flights",value:s,emoji:""},{label:"Experiences",value:l,emoji:""}].map((C,I)=>v.jsxs(Nt,{className:`text-center delay-${I+1} animate-fade-in-up`,padding:"py-7 px-6",children:[v.jsx("div",{className:"text-3xl mb-2",children:C.emoji}),v.jsx("div",{className:"text-3xl font-heading font-bold text-text-primary",children:C.value}),v.jsx("div",{className:"text-xs text-text-muted mt-1.5 uppercase tracking-wider",children:C.label})]},I))}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[v.jsx(Nt,{children:v.jsxs("div",{className:"flex items-center gap-5",children:[v.jsx(O1,{value:n,size:96,strokeWidth:7}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-heading text-lg text-text-primary mb-1",children:"Trip Readiness"}),v.jsx("p",{className:"text-sm text-text-muted mb-3",children:y}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(yu,{value:r.bookings.done,max:r.bookings.total,label:"Bookings",showLabel:!0,colorClass:"bg-info",height:"h-1.5"}),v.jsx(yu,{value:r.todos.done,max:r.todos.total,label:"To-Dos",showLabel:!0,colorClass:"bg-accent",height:"h-1.5"}),v.jsx(yu,{value:r.packing.done,max:r.packing.total,label:"Packing",showLabel:!0,colorClass:"bg-success",height:"h-1.5"})]})]})]})}),v.jsx("div",{className:"space-y-3",children:v.jsx(lq,{targetDate:e.startDate,label:" Days to departure"})})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m&&v.jsxs(Nt,{children:[v.jsx("h3",{className:"font-heading text-sm text-text-muted uppercase tracking-wider mb-2",children:"Next Thing to Do"}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("span",{className:"text-2xl",children:m.type==="todo"?"":""}),v.jsxs("div",{children:[v.jsx("p",{className:"text-text-primary font-medium",children:m.type==="todo"?m.item.text:m.item.name}),v.jsxs("p",{className:"text-sm text-text-muted mt-0.5",children:[m.type==="todo"?`Category: ${m.item.category}`:`Status: ${m.item.status.replace("_"," ")}`,m.item.dueDate&&`  Due: ${m.item.dueDate}`,m.item.bookByDate&&`  Book by: ${m.item.bookByDate}`]})]})]})]}),f>0&&v.jsxs(Nt,{children:[v.jsx("h3",{className:"font-heading text-sm text-text-muted uppercase tracking-wider mb-2",children:"Budget Snapshot"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-text-secondary",children:"Estimated range"}),v.jsxs("span",{className:"text-text-primary font-medium",children:[sr(c,e.currency),"  ",sr(f,e.currency)]})]}),h>0&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-text-secondary",children:"Spent so far"}),v.jsx("span",{className:`font-medium ${h>f?"text-danger":"text-accent"}`,children:sr(h,e.currency)})]}),v.jsx(yu,{value:h,max:f,colorClass:h>f?"bg-danger":"bg-accent",height:"h-2"})]})]})]})]})]})}function cq({activity:t,dayId:e,index:n,onUpdate:r,onDelete:i,onReorder:a}){const[s,l]=W.useState(!1);return v.jsxs("div",{draggable:!0,onDragStart:c=>{c.dataTransfer.effectAllowed="move",c.dataTransfer.setData("activityIndex",String(n))},onDragOver:c=>{c.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:c=>{c.preventDefault(),l(!1);const f=Number(c.dataTransfer.getData("activityIndex"));f!==n&&a(f,n)},className:`flex items-start gap-2 group py-2 rounded transition-all cursor-default
        ${s?"border-t-2 border-accent":""}`,children:[v.jsx("span",{className:"flex-shrink-0 cursor-grab active:cursor-grabbing opacity-0 group-hover:opacity-30 mt-1 text-text-muted select-none text-base",children:""}),v.jsx("div",{className:"flex-shrink-0 w-14 text-right",children:v.jsx(Wt,{value:t.time,onSave:c=>r({time:c}),className:"text-sm text-text-muted font-mono",placeholder:"--:--"})}),v.jsx("span",{className:"text-lg flex-shrink-0 mt-0.5",children:t.emoji}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx(Wt,{value:t.name,onSave:c=>r({name:c}),className:"text-text-primary font-medium text-sm",placeholder:"Activity name"}),v.jsx(Wt,{value:t.notes||"",onSave:c=>r({notes:c}),className:"text-xs text-text-muted mt-0.5",placeholder:"Add notes",multiline:!0})]}),v.jsx("button",{onClick:i,className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-sm transition-opacity p-1 flex-shrink-0",children:""})]})}function fq({onAdd:t,onCancel:e}){const[n,r]=W.useState(""),[i,a]=W.useState(""),[s,l]=W.useState(""),[c,f]=W.useState(""),[h,m]=W.useState(!1),y=b=>{b.preventDefault(),n.trim()&&(t({name:n.trim(),time:i,emoji:s,notes:c.trim()}),r(""),a(""),l(""),f(""))};return v.jsxs("form",{onSubmit:y,className:"mt-3 p-3 bg-bg-primary rounded-[var(--radius-md)] border border-border",children:[v.jsxs("div",{className:"flex gap-2 items-start",children:[v.jsx("input",{type:"time",value:i,onChange:b=>a(b.target.value),className:"w-24 px-2 py-1.5 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary"}),v.jsxs("div",{className:"relative",children:[v.jsx("button",{type:"button",onClick:()=>m(!h),className:"text-xl p-1.5 border border-border rounded-[var(--radius-sm)] hover:bg-bg-hover",children:s}),h&&v.jsx("div",{className:"absolute top-full left-0 mt-1 p-2 bg-bg-secondary border border-border rounded-[var(--radius-md)] grid grid-cols-4 gap-1 z-10",children:K9.map(b=>v.jsx("button",{type:"button",onClick:()=>{l(b.emoji),m(!1)},className:"text-lg p-1 hover:bg-bg-hover rounded",title:b.label,children:b.emoji},b.emoji))})]}),v.jsx("input",{value:n,onChange:b=>r(b.target.value),placeholder:"Activity name",className:"flex-1 px-3 py-1.5 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted"})]}),v.jsx("input",{value:c,onChange:b=>f(b.target.value),placeholder:"Notes (optional)",className:"w-full mt-2 px-3 py-1.5 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted"}),v.jsxs("div",{className:"flex gap-2 mt-2 justify-end",children:[v.jsx("button",{type:"button",onClick:e,className:"px-3 py-1 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"}),v.jsx("button",{type:"submit",className:"px-3 py-1 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"})]})]})}function dq({day:t,dayIndex:e,isConcertDay:n,onReorderDay:r}){var R,D;const{dispatch:i}=Kt(),[a,s]=W.useState(!0),[l,c]=W.useState(!1),[f,h]=W.useState(!1),[m,y]=W.useState(t.notes||""),[b,S]=W.useState(!1),E=n?"border-concert-red/30 bg-concert-dark/5 dark:bg-concert-dark/30":"",_=t.location?`https://www.google.com/maps/search/${encodeURIComponent(t.location)}`:null,k=()=>{i({type:me.UPDATE_DAY,payload:{dayId:t.id,updates:{notes:m}}}),h(!1)};return v.jsxs("div",{className:`relative animate-fade-in transition-all ${b?"border-t-2 border-accent":""}`,draggable:!0,onDragStart:C=>{C.dataTransfer.effectAllowed="move",C.dataTransfer.setData("dayIndex",String(e))},onDragOver:C=>{C.preventDefault(),S(!0)},onDragLeave:()=>S(!1),onDrop:C=>{C.preventDefault(),S(!1);const I=Number(C.dataTransfer.getData("dayIndex"));I!==e&&r(I,e)},children:[v.jsx("div",{className:"absolute left-5 top-0 bottom-0 w-px bg-border hidden md:block"}),v.jsx("div",{className:`absolute left-3 top-6 w-5 h-5 rounded-full border-2 hidden md:block z-10
        ${n?"border-concert-red bg-concert-red/20":"border-accent bg-accent/20"}`}),v.jsxs(Nt,{className:`md:ml-12 ${E}`,children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"hidden md:block cursor-grab active:cursor-grabbing text-text-muted opacity-30 hover:opacity-60 select-none",title:"Drag to reorder",children:""}),v.jsxs("div",{className:"flex items-center gap-3 flex-1 cursor-pointer",onClick:()=>s(!a),children:[v.jsx("span",{className:"text-2xl",children:t.emoji}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[v.jsxs("span",{className:`font-heading font-semibold ${n?"text-concert-red":"text-text-primary"}`,children:["Day ",t.dayNumber]}),v.jsx("span",{className:"text-text-muted text-sm",children:""}),v.jsx("span",{className:"text-sm text-text-secondary",children:up(t.date,"long")})]}),v.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[v.jsx(Wt,{value:t.location,onSave:C=>i({type:me.UPDATE_DAY,payload:{dayId:t.id,updates:{location:C}}}),className:"text-sm text-text-muted",placeholder:"Location"}),_&&v.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",onClick:C=>C.stopPropagation(),className:"text-sm hover:opacity-70 transition-opacity flex-shrink-0",title:"View on Google Maps",children:""})]})]})]}),v.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[v.jsx("span",{className:"text-xs text-text-muted",children:((R=t.activities)==null?void 0:R.length)||0}),v.jsx("button",{onClick:C=>{C.stopPropagation(),i({type:me.REMOVE_DAY,payload:t.id})},className:"text-xs text-text-muted hover:text-danger transition-colors px-1",children:""}),v.jsx("span",{className:`text-text-muted cursor-pointer transition-transform ${a?"rotate-180":""}`,onClick:()=>s(!a),children:""})]})]}),a&&v.jsxs("div",{className:"mt-3 border-t border-border pt-3",children:[((D=t.activities)==null?void 0:D.length)>0?v.jsx("div",{className:"divide-y divide-border/50",children:t.activities.map((C,I)=>v.jsx(cq,{activity:C,dayId:t.id,index:I,onUpdate:N=>i({type:me.UPDATE_ACTIVITY,payload:{dayId:t.id,activityId:C.id,updates:N}}),onDelete:()=>i({type:me.DELETE_ACTIVITY,payload:{dayId:t.id,activityId:C.id}}),onReorder:(N,A)=>i({type:me.REORDER_ACTIVITIES,payload:{dayId:t.id,fromIndex:N,toIndex:A}})},C.id))}):v.jsx("p",{className:"text-sm text-text-muted italic py-2",children:"No activities yet"}),v.jsx("div",{className:"mt-3 pt-2 border-t border-border/50",children:f?v.jsxs("div",{children:[v.jsx("textarea",{value:m,onChange:C=>y(C.target.value),onKeyDown:C=>{C.key==="Escape"&&(y(t.notes||""),h(!1))},placeholder:"Day notes",rows:2,autoFocus:!0,className:"w-full px-3 py-2 text-xs bg-bg-input border border-accent rounded-[var(--radius-sm)] text-text-primary resize-none focus:outline-none"}),v.jsxs("div",{className:"flex gap-2 mt-1 justify-end",children:[v.jsx("button",{onClick:()=>{y(t.notes||""),h(!1)},className:"text-xs text-text-muted",children:"Cancel"}),v.jsx("button",{onClick:k,className:"text-xs text-accent font-medium",children:"Save"})]})]}):v.jsx("button",{onClick:()=>{y(t.notes||""),h(!0)},className:"text-xs text-text-muted hover:text-text-secondary transition-colors text-left w-full",children:t.notes?v.jsxs("span",{children:[" ",v.jsx("span",{className:"italic",children:t.notes})]}):v.jsx("span",{className:"opacity-50",children:"+ Add day notes"})})}),l?v.jsx(fq,{onAdd:C=>{i({type:me.ADD_ACTIVITY,payload:{dayId:t.id,activity:C}}),c(!1)},onCancel:()=>c(!1)}):v.jsx("button",{onClick:()=>c(!0),className:"mt-2 text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add activity"})]})]})]})}function hq(){var i,a,s,l;const{activeTrip:t,dispatch:e}=Kt();if(!t)return null;const n=t,r=(i=n.bookings)==null?void 0:i.find(c=>c.category==="concert");return v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsxs("h2",{className:"font-heading text-xl text-text-primary",children:[" Itinerary  ",((a=n.itinerary)==null?void 0:a.length)||0," days"]}),(((s=n.itinerary)==null?void 0:s.length)||0)>1&&v.jsx("p",{className:"text-xs text-text-muted mt-0.5",children:"Drag  to reorder days or activities"})]}),v.jsx("button",{onClick:()=>{var h;const c=(h=n.itinerary)==null?void 0:h[n.itinerary.length-1];let f="";if(c!=null&&c.date){const m=new Date(c.date+"T00:00:00");m.setDate(m.getDate()+1),f=m.toISOString().slice(0,10)}e({type:me.ADD_DAY,payload:{date:f,location:"",emoji:""}})},className:"px-3 py-1.5 text-sm bg-accent text-white rounded-[var(--radius-md)] hover:bg-accent-hover transition-colors",children:"+ Add Day"})]}),v.jsx("div",{className:"relative space-y-5",children:(l=n.itinerary)==null?void 0:l.map((c,f)=>{var m;const h=r&&((m=c.activities)==null?void 0:m.some(y=>{var b,S;return((b=y.name)==null?void 0:b.toLowerCase().includes("mcr"))||((S=y.name)==null?void 0:S.toLowerCase().includes("concert"))||y.emoji===""||y.emoji===""}));return v.jsx(dq,{day:c,dayIndex:f,isConcertDay:h,onReorderDay:(y,b)=>e({type:me.REORDER_DAYS,payload:{fromIndex:y,toIndex:b}})},c.id)})}),(!n.itinerary||n.itinerary.length===0)&&v.jsxs(Nt,{className:"text-center py-12",children:[v.jsx("p",{className:"text-4xl mb-3",children:""}),v.jsx("p",{className:"text-text-muted",children:"No itinerary yet. Add your first day!"})]})]})}const Gy=[{value:"not_started",label:"Not Started",colors:"bg-text-muted/10 text-text-muted border-text-muted/20"},{value:"in_progress",label:"In Progress",colors:"bg-warning/10 text-warning border-warning/20"},{value:"booked",label:"Booked ",colors:"bg-success/10 text-success border-success/20"}];function pq({status:t,bookingId:e}){const{dispatch:n,showToast:r}=Kt(),i=Gy.find(s=>s.value===t)||Gy[0],a=s=>{const l=s.target.value;n({type:me.SET_BOOKING_STATUS,payload:{id:e,status:l}}),l==="booked"&&r("Booked!  One less thing to worry about.")};return v.jsxs("div",{className:"relative inline-block",children:[v.jsx("select",{value:t,onChange:a,className:`appearance-none cursor-pointer pl-2.5 pr-6 py-1 text-xs font-medium rounded-[var(--radius-pill)]
          border transition-all hover:opacity-80 ${i.colors}`,children:Gy.map(s=>v.jsx("option",{value:s.value,children:s.label},s.value))}),v.jsx("span",{className:"pointer-events-none absolute right-1.5 top-1/2 -translate-y-1/2 text-[10px] opacity-60",children:""})]})}function mq({booking:t,currency:e}){const{dispatch:n}=Kt(),r=Yc.find(i=>i.id===t.category)||Yc[5];return v.jsxs(Nt,{hover:!0,className:"animate-fade-in",children:[v.jsxs("div",{className:"flex items-start justify-between gap-3",children:[v.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[v.jsx("span",{className:"text-2xl flex-shrink-0",children:r.emoji}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[v.jsx(Wt,{value:t.name,onSave:i=>n({type:me.UPDATE_BOOKING,payload:{id:t.id,updates:{name:i}}}),className:"font-medium text-text-primary text-sm"}),t.priority&&v.jsx("span",{className:"text-xs",title:"Priority",children:""})]}),v.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[v.jsx("span",{className:"text-xs px-2 py-0.5 bg-bg-hover rounded-[var(--radius-pill)] text-text-muted",children:r.label}),v.jsx(pq,{status:t.status,bookingId:t.id})]})]})]}),v.jsx("button",{onClick:()=>n({type:me.UPDATE_BOOKING,payload:{id:t.id,updates:{priority:!t.priority}}}),className:`text-lg flex-shrink-0 transition-transform hover:scale-110 ${t.priority?"":"opacity-30 hover:opacity-60"}`,title:"Toggle priority",children:""})]}),v.jsxs("div",{className:"mt-3 pt-3 border-t border-border/50 grid grid-cols-2 sm:grid-cols-3 gap-4 text-sm",children:[v.jsxs("div",{children:[v.jsx("span",{className:"text-text-muted text-xs block",children:"Confirmation #"}),v.jsx(Wt,{value:t.confirmationNumber,onSave:i=>n({type:me.UPDATE_BOOKING,payload:{id:t.id,updates:{confirmationNumber:i}}}),className:"font-mono text-text-primary text-xs",placeholder:""})]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-text-muted text-xs block",children:"Amount Paid"}),v.jsx(Wt,{value:t.amountPaid?String(t.amountPaid):"",onSave:i=>n({type:me.UPDATE_BOOKING,payload:{id:t.id,updates:{amountPaid:Number(i)||0}}}),className:"text-text-primary text-xs",placeholder:sr(0,e)})]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-text-muted text-xs block",children:"Book By"}),v.jsx(Wt,{value:t.bookByDate,onSave:i=>n({type:me.UPDATE_BOOKING,payload:{id:t.id,updates:{bookByDate:i}}}),className:"text-text-primary text-xs",placeholder:""})]})]}),v.jsx("div",{className:"mt-2 text-right",children:v.jsx("button",{onClick:()=>n({type:me.DELETE_BOOKING,payload:t.id}),className:"text-xs text-text-muted hover:text-danger transition-colors",children:"Remove"})})]})}function gq({onAdd:t,onCancel:e}){const[n,r]=W.useState(""),[i,a]=W.useState("custom"),s=l=>{l.preventDefault(),n.trim()&&(t({name:n.trim(),category:i}),r(""),a("custom"))};return v.jsx(Nt,{children:v.jsxs("form",{onSubmit:s,className:"flex flex-wrap gap-2 items-end",children:[v.jsxs("div",{className:"flex-1 min-w-[200px]",children:[v.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Booking name"}),v.jsx("input",{value:n,onChange:l=>r(l.target.value),placeholder:"e.g., Singapore Hotel",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Category"}),v.jsx("select",{value:i,onChange:l=>a(l.target.value),className:"px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",children:Yc.map(l=>v.jsxs("option",{value:l.id,children:[l.emoji," ",l.label]},l.id))})]}),v.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),v.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"})]})})}function yq(){var b,S;const{activeTrip:t,dispatch:e,showToast:n}=Kt(),[r,i]=W.useState("all"),[a,s]=W.useState(!1);if(!t)return null;const l=t,c=((b=l.bookings)==null?void 0:b.filter(E=>E.status==="booked").length)||0,f=((S=l.bookings)==null?void 0:S.length)||0,h=W.useMemo(()=>{let E=[...l.bookings||[]];return r!=="all"&&(E=E.filter(_=>_.category===r)),E.sort((_,k)=>_.status==="booked"&&k.status!=="booked"?1:k.status==="booked"&&_.status!=="booked"||_.priority&&!k.priority?-1:k.priority&&!_.priority?1:0)},[l.bookings,r]),m=[{id:"all",label:"All"},...Yc.filter(E=>{var _;return(_=l.bookings)==null?void 0:_.some(k=>k.category===E.id)}).map(E=>({id:E.id,label:E.label}))],y=()=>{var _;const E=(_=l.bookings)==null?void 0:_.map(k=>{const R=Yc.find(D=>D.id===k.category);return`${(R==null?void 0:R.emoji)||""} ${k.name}  ${k.status==="booked"?" Booked":" "+k.status.replace("_"," ")}${k.confirmationNumber?` (#${k.confirmationNumber})`:""}`}).join(`
`);navigator.clipboard.writeText(` ${l.name}  Bookings

${E}`),n("Bookings copied to clipboard! ")};return v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsxs(Nt,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("h2",{className:"font-heading text-lg text-text-primary",children:" Bookings"}),v.jsxs("span",{className:"text-sm text-text-muted",children:[c," of ",f," confirmed"]})]}),v.jsx(yu,{value:c,max:f,colorClass:"bg-success",height:"h-2"})]}),v.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[v.jsx("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide",children:m.map(E=>v.jsx("button",{onClick:()=>i(E.id),className:`px-3 py-1.5 text-xs font-medium rounded-[var(--radius-pill)] whitespace-nowrap transition-colors
                ${r===E.id?"bg-accent text-white":"bg-bg-secondary text-text-muted hover:text-text-secondary border border-border"}`,children:E.label},E.id))}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:y,className:"px-3 py-1.5 text-xs text-text-muted hover:text-text-secondary border border-border rounded-[var(--radius-sm)] hover:bg-bg-hover transition-colors",children:" Export"}),v.jsx("button",{onClick:()=>s(!0),className:"px-3 py-1.5 text-xs bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover transition-colors",children:"+ Add Booking"})]})]}),a&&v.jsx(gq,{onAdd:E=>{e({type:me.ADD_BOOKING,payload:E}),s(!1)},onCancel:()=>s(!1)}),v.jsx("div",{className:"space-y-4",children:h.map(E=>v.jsx(mq,{booking:E,currency:l.currency},E.id))}),h.length===0&&v.jsxs(Nt,{className:"text-center py-8",children:[v.jsx("p",{className:"text-3xl mb-2",children:""}),v.jsxs("p",{className:"text-text-muted text-sm",children:["No bookings ",r!=="all"?"in this category":"yet","."]})]})]})}function VD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=VD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ot(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=VD(t))&&(r&&(r+=" "),r+=e);return r}var Ky,RI;function Gn(){if(RI)return Ky;RI=1;var t=Array.isArray;return Ky=t,Ky}var Yy,DI;function BD(){if(DI)return Yy;DI=1;var t=typeof lh=="object"&&lh&&lh.Object===Object&&lh;return Yy=t,Yy}var Xy,MI;function Si(){if(MI)return Xy;MI=1;var t=BD(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Xy=n,Xy}var Qy,LI;function Uf(){if(LI)return Qy;LI=1;var t=Si(),e=t.Symbol;return Qy=e,Qy}var Jy,$I;function vq(){if($I)return Jy;$I=1;var t=Uf(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(s){var l=n.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=r.call(s);return f&&(l?s[i]=c:delete s[i]),h}return Jy=a,Jy}var Zy,VI;function xq(){if(VI)return Zy;VI=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Zy=n,Zy}var ev,BI;function fa(){if(BI)return ev;BI=1;var t=Uf(),e=vq(),n=xq(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:r:a&&a in Object(l)?e(l):n(l)}return ev=s,ev}var tv,FI;function da(){if(FI)return tv;FI=1;function t(e){return e!=null&&typeof e=="object"}return tv=t,tv}var nv,UI;function dl(){if(UI)return nv;UI=1;var t=fa(),e=da(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return nv=r,nv}var rv,qI;function k1(){if(qI)return rv;qI=1;var t=Gn(),e=dl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||s!=null&&a in Object(s)}return rv=i,rv}var iv,zI;function lo(){if(zI)return iv;zI=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return iv=t,iv}var av,WI;function N1(){if(WI)return av;WI=1;var t=fa(),e=lo(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==a}return av=s,av}var ov,HI;function bq(){if(HI)return ov;HI=1;var t=Si(),e=t["__core-js_shared__"];return ov=e,ov}var sv,GI;function _q(){if(GI)return sv;GI=1;var t=bq(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return sv=n,sv}var uv,KI;function FD(){if(KI)return uv;KI=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return uv=n,uv}var lv,YI;function wq(){if(YI)return lv;YI=1;var t=N1(),e=_q(),n=lo(),r=FD(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!n(y)||e(y))return!1;var b=t(y)?h:a;return b.test(r(y))}return lv=m,lv}var cv,XI;function Tq(){if(XI)return cv;XI=1;function t(e,n){return e==null?void 0:e[n]}return cv=t,cv}var fv,QI;function bs(){if(QI)return fv;QI=1;var t=wq(),e=Tq();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return fv=n,fv}var dv,JI;function Em(){if(JI)return dv;JI=1;var t=bs(),e=t(Object,"create");return dv=e,dv}var hv,ZI;function Eq(){if(ZI)return hv;ZI=1;var t=Em();function e(){this.__data__=t?t(null):{},this.size=0}return hv=e,hv}var pv,eP;function Sq(){if(eP)return pv;eP=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return pv=t,pv}var mv,tP;function Aq(){if(tP)return mv;tP=1;var t=Em(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var s=this.__data__;if(t){var l=s[a];return l===e?void 0:l}return r.call(s,a)?s[a]:void 0}return mv=i,mv}var gv,nP;function Iq(){if(nP)return gv;nP=1;var t=Em(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return gv=r,gv}var yv,rP;function Pq(){if(rP)return yv;rP=1;var t=Em(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return yv=n,yv}var vv,iP;function Oq(){if(iP)return vv;iP=1;var t=Eq(),e=Sq(),n=Aq(),r=Iq(),i=Pq();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,vv=a,vv}var xv,aP;function Cq(){if(aP)return xv;aP=1;function t(){this.__data__=[],this.size=0}return xv=t,xv}var bv,oP;function j1(){if(oP)return bv;oP=1;function t(e,n){return e===n||e!==e&&n!==n}return bv=t,bv}var _v,sP;function Sm(){if(sP)return _v;sP=1;var t=j1();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return _v=e,_v}var wv,uP;function kq(){if(uP)return wv;uP=1;var t=Sm(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var l=a.length-1;return s==l?a.pop():n.call(a,s,1),--this.size,!0}return wv=r,wv}var Tv,lP;function Nq(){if(lP)return Tv;lP=1;var t=Sm();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Tv=e,Tv}var Ev,cP;function jq(){if(cP)return Ev;cP=1;var t=Sm();function e(n){return t(this.__data__,n)>-1}return Ev=e,Ev}var Sv,fP;function Rq(){if(fP)return Sv;fP=1;var t=Sm();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return Sv=e,Sv}var Av,dP;function Am(){if(dP)return Av;dP=1;var t=Cq(),e=kq(),n=Nq(),r=jq(),i=Rq();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Av=a,Av}var Iv,hP;function R1(){if(hP)return Iv;hP=1;var t=bs(),e=Si(),n=t(e,"Map");return Iv=n,Iv}var Pv,pP;function Dq(){if(pP)return Pv;pP=1;var t=Oq(),e=Am(),n=R1();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Pv=r,Pv}var Ov,mP;function Mq(){if(mP)return Ov;mP=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Ov=t,Ov}var Cv,gP;function Im(){if(gP)return Cv;gP=1;var t=Mq();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Cv=e,Cv}var kv,yP;function Lq(){if(yP)return kv;yP=1;var t=Im();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return kv=e,kv}var Nv,vP;function $q(){if(vP)return Nv;vP=1;var t=Im();function e(n){return t(this,n).get(n)}return Nv=e,Nv}var jv,xP;function Vq(){if(xP)return jv;xP=1;var t=Im();function e(n){return t(this,n).has(n)}return jv=e,jv}var Rv,bP;function Bq(){if(bP)return Rv;bP=1;var t=Im();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return Rv=e,Rv}var Dv,_P;function D1(){if(_P)return Dv;_P=1;var t=Dq(),e=Lq(),n=$q(),r=Vq(),i=Bq();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Dv=a,Dv}var Mv,wP;function UD(){if(wP)return Mv;wP=1;var t=D1(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=a.cache;if(c.has(l))return c.get(l);var f=r.apply(this,s);return a.cache=c.set(l,f)||c,f};return a.cache=new(n.Cache||t),a}return n.Cache=t,Mv=n,Mv}var Lv,TP;function Fq(){if(TP)return Lv;TP=1;var t=UD(),e=500;function n(r){var i=t(r,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return Lv=n,Lv}var $v,EP;function Uq(){if(EP)return $v;EP=1;var t=Fq(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,l,c,f){a.push(c?f.replace(n,"$1"):l||s)}),a});return $v=r,$v}var Vv,SP;function M1(){if(SP)return Vv;SP=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return Vv=t,Vv}var Bv,AP;function qq(){if(AP)return Bv;AP=1;var t=Uf(),e=M1(),n=Gn(),r=dl(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return e(l,s)+"";if(r(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return Bv=s,Bv}var Fv,IP;function qD(){if(IP)return Fv;IP=1;var t=qq();function e(n){return n==null?"":t(n)}return Fv=e,Fv}var Uv,PP;function zD(){if(PP)return Uv;PP=1;var t=Gn(),e=k1(),n=Uq(),r=qD();function i(a,s){return t(a)?a:e(a,s)?[a]:n(r(a))}return Uv=i,Uv}var qv,OP;function Pm(){if(OP)return qv;OP=1;var t=dl();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return qv=e,qv}var zv,CP;function L1(){if(CP)return zv;CP=1;var t=zD(),e=Pm();function n(r,i){i=t(i,r);for(var a=0,s=i.length;r!=null&&a<s;)r=r[e(i[a++])];return a&&a==s?r:void 0}return zv=n,zv}var Wv,kP;function WD(){if(kP)return Wv;kP=1;var t=L1();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return Wv=e,Wv}var zq=WD();const wr=ht(zq);var Hv,NP;function Wq(){if(NP)return Hv;NP=1;function t(e){return e==null}return Hv=t,Hv}var Hq=Wq();const st=ht(Hq);var Gv,jP;function Gq(){if(jP)return Gv;jP=1;var t=fa(),e=Gn(),n=da(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return Gv=i,Gv}var Kq=Gq();const fs=ht(Kq);var Yq=N1();const Ge=ht(Yq);var Xq=lo();const hl=ht(Xq);var Kv={exports:{}},ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RP;function Qq(){if(RP)return ut;RP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function E(_){if(typeof _=="object"&&_!==null){var k=_.$$typeof;switch(k){case t:switch(_=_.type,_){case n:case i:case r:case f:case h:return _;default:switch(_=_&&_.$$typeof,_){case l:case s:case c:case y:case m:case a:return _;default:return k}}case e:return k}}}return ut.ContextConsumer=s,ut.ContextProvider=a,ut.Element=t,ut.ForwardRef=c,ut.Fragment=n,ut.Lazy=y,ut.Memo=m,ut.Portal=e,ut.Profiler=i,ut.StrictMode=r,ut.Suspense=f,ut.SuspenseList=h,ut.isAsyncMode=function(){return!1},ut.isConcurrentMode=function(){return!1},ut.isContextConsumer=function(_){return E(_)===s},ut.isContextProvider=function(_){return E(_)===a},ut.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},ut.isForwardRef=function(_){return E(_)===c},ut.isFragment=function(_){return E(_)===n},ut.isLazy=function(_){return E(_)===y},ut.isMemo=function(_){return E(_)===m},ut.isPortal=function(_){return E(_)===e},ut.isProfiler=function(_){return E(_)===i},ut.isStrictMode=function(_){return E(_)===r},ut.isSuspense=function(_){return E(_)===f},ut.isSuspenseList=function(_){return E(_)===h},ut.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===i||_===r||_===f||_===h||_===b||typeof _=="object"&&_!==null&&(_.$$typeof===y||_.$$typeof===m||_.$$typeof===a||_.$$typeof===s||_.$$typeof===c||_.$$typeof===S||_.getModuleId!==void 0)},ut.typeOf=E,ut}var DP;function Jq(){return DP||(DP=1,Kv.exports=Qq()),Kv.exports}var Zq=Jq(),Yv,MP;function HD(){if(MP)return Yv;MP=1;var t=fa(),e=da(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return Yv=r,Yv}var Xv,LP;function e8(){if(LP)return Xv;LP=1;var t=HD();function e(n){return t(n)&&n!=+n}return Xv=e,Xv}var t8=e8();const qf=ht(t8);var n8=HD();const r8=ht(n8);var Fr=function(e){return e===0?0:e>0?1:-1},Ko=function(e){return fs(e)&&e.indexOf("%")===e.length-1},xe=function(e){return r8(e)&&!qf(e)},i8=function(e){return st(e)},nn=function(e){return xe(e)||fs(e)},a8=0,Om=function(e){var n=++a8;return"".concat(e||"").concat(n)},ds=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(e)&&!fs(e))return r;var a;if(Ko(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return qf(a)&&(a=r),i&&a>n&&(a=n),a},Ga=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},o8=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},lu=function(e,n){return xe(e)&&xe(n)?function(r){return e+r*(n-e)}:function(){return n}};function __(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):wr(r,e))===n})}var s8=function(e,n){return xe(e)&&xe(n)?e-n:fs(e)&&fs(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Iu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function w_(t){"@babel/helpers - typeof";return w_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w_(t)}var u8=["viewBox","children"],l8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$P=["points","pathLength"],Qv={svg:u8,polygon:$P,polyline:$P},$1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],cp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(W.isValidElement(e)&&(r=e.props),!hl(r))return null;var i={};return Object.keys(r).forEach(function(a){$1.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},c8=function(e,n,r){return function(i){return e(n,r,i),null}},fp=function(e,n,r){if(!hl(e)||w_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];$1.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=c8(s,n,r))}),i},f8=["children"],d8=["children"];function VP(t,e){if(t==null)return{};var n=h8(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var BP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Zi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},FP=null,Jv=null,V1=function t(e){if(e===FP&&Array.isArray(Jv))return Jv;var n=[];return W.Children.forEach(e,function(r){st(r)||(Zq.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Jv=n,FP=e,n};function zr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Zi(i)}):r=[Zi(e)],V1(t).forEach(function(i){var a=wr(i,"type.displayName")||wr(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function ar(t,e){var n=zr(t,e);return n&&n[0]}var UP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!xe(r)||r<=0||!xe(i)||i<=0)},p8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],m8=function(e){return e&&e.type&&fs(e.type)&&p8.indexOf(e.type)>=0},g8=function(e,n,r,i){var a,s=(a=Qv==null?void 0:Qv[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Ge(e)&&(i&&s.includes(n)||l8.includes(n))||r&&$1.includes(n)},at=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(W.isValidElement(e)&&(i=e.props),!hl(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;g8((l=i)===null||l===void 0?void 0:l[s],s,n,r)&&(a[s]=i[s])}),a},T_=function t(e,n){if(e===n)return!0;var r=W.Children.count(e);if(r!==W.Children.count(n))return!1;if(r===0)return!0;if(r===1)return qP(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!qP(a,s))return!1}return!0},qP=function(e,n){if(st(e)&&st(n))return!0;if(!st(e)&&!st(n)){var r=e.props||{},i=r.children,a=VP(r,f8),s=n.props||{},l=s.children,c=VP(s,d8);return i&&l?Iu(a,c)&&T_(i,l):!i&&!l?Iu(a,c):!1}return!1},zP=function(e,n){var r=[],i={};return V1(e).forEach(function(a,s){if(m8(a))r.push(a);else if(a){var l=Zi(a.type),c=n[l]||{},f=c.handler,h=c.once;if(f&&(!h||!i[l])){var m=f(a,l,s);r.push(m),i[l]=!0}}}),r},y8=function(e){var n=e&&e.type;return n&&BP[n]?BP[n]:null},v8=function(e,n){return V1(n).indexOf(e)},x8=["children","width","height","viewBox","className","style","title","desc"];function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_.apply(this,arguments)}function b8(t,e){if(t==null)return{};var n=_8(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function S_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,l=t.title,c=t.desc,f=b8(t,x8),h=i||{width:n,height:r,x:0,y:0},m=ot("recharts-surface",a);return K.createElement("svg",E_({},at(f,!0,"svg"),{className:m,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),K.createElement("title",null,l),K.createElement("desc",null,c),e)}var w8=["children","className"];function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_.apply(this,arguments)}function T8(t,e){if(t==null)return{};var n=E8(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function E8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fn=K.forwardRef(function(t,e){var n=t.children,r=t.className,i=T8(t,w8),a=ot("recharts-layer",r);return K.createElement("g",A_({className:a},at(i,!0),{ref:e}),n)}),ea=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},Zv,WP;function S8(){if(WP)return Zv;WP=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+n];return s}return Zv=t,Zv}var e0,HP;function A8(){if(HP)return e0;HP=1;var t=S8();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return e0=e,e0}var t0,GP;function GD(){if(GP)return t0;GP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+a+"]");function c(f){return l.test(f)}return t0=c,t0}var n0,KP;function I8(){if(KP)return n0;KP=1;function t(e){return e.split("")}return n0=t,n0}var r0,YP;function P8(){if(YP)return r0;YP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+c+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",S=f+"?",E="["+a+"]?",_="(?:"+b+"(?:"+[h,m,y].join("|")+")"+E+S+")*",k=E+S+_,R="(?:"+[h+l+"?",l,m,y,s].join("|")+")",D=RegExp(c+"(?="+c+")|"+R+k,"g");function C(I){return I.match(D)||[]}return r0=C,r0}var i0,XP;function O8(){if(XP)return i0;XP=1;var t=I8(),e=GD(),n=P8();function r(i){return e(i)?n(i):t(i)}return i0=r,i0}var a0,QP;function C8(){if(QP)return a0;QP=1;var t=A8(),e=GD(),n=O8(),r=qD();function i(a){return function(s){s=r(s);var l=e(s)?n(s):void 0,c=l?l[0]:s.charAt(0),f=l?t(l,1).join(""):s.slice(1);return c[a]()+f}}return a0=i,a0}var o0,JP;function k8(){if(JP)return o0;JP=1;var t=C8(),e=t("toUpperCase");return o0=e,o0}var N8=k8();const Cm=ht(N8);function bt(t){return function(){return t}}const KD=Math.cos,dp=Math.sin,Wr=Math.sqrt,hp=Math.PI,km=2*hp,I_=Math.PI,P_=2*I_,zo=1e-6,j8=P_-zo;function YD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function R8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return YD;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class D8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?YD:R8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=r-e,f=i-n,h=s-e,m=l-n,y=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>zo)if(!(Math.abs(m*c-f*h)>zo)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-s,S=i-l,E=c*c+f*f,_=b*b+S*S,k=Math.sqrt(E),R=Math.sqrt(y),D=a*Math.tan((I_-Math.acos((E+y-_)/(2*k*R)))/2),C=D/R,I=D/k;Math.abs(C-1)>zo&&this._append`L${e+C*h},${n+C*m}`,this._append`A${a},${a},0,0,${+(m*b>h*S)},${this._x1=e+I*c},${this._y1=n+I*f}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=e+l,h=n+c,m=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>zo||Math.abs(this._y1-h)>zo)&&this._append`L${f},${h}`,r&&(y<0&&(y=y%P_+P_),y>j8?this._append`A${r},${r},0,1,${m},${e-l},${n-c}A${r},${r},0,1,${m},${this._x1=f},${this._y1=h}`:y>zo&&this._append`A${r},${r},0,${+(y>=I_)},${m},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function B1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new D8(e)}function F1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function XD(t){this._context=t}XD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Nm(t){return new XD(t)}function QD(t){return t[0]}function JD(t){return t[1]}function ZD(t,e){var n=bt(!0),r=null,i=Nm,a=null,s=B1(l);t=typeof t=="function"?t:t===void 0?QD:bt(t),e=typeof e=="function"?e:e===void 0?JD:bt(e);function l(c){var f,h=(c=F1(c)).length,m,y=!1,b;for(r==null&&(a=i(b=s())),f=0;f<=h;++f)!(f<h&&n(m=c[f],f,c))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(m,f,c),+e(m,f,c));if(b)return a=null,b+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:bt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:bt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:bt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function vh(t,e,n){var r=null,i=bt(!0),a=null,s=Nm,l=null,c=B1(f);t=typeof t=="function"?t:t===void 0?QD:bt(+t),e=typeof e=="function"?e:bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?JD:bt(+n);function f(m){var y,b,S,E=(m=F1(m)).length,_,k=!1,R,D=new Array(E),C=new Array(E);for(a==null&&(l=s(R=c())),y=0;y<=E;++y){if(!(y<E&&i(_=m[y],y,m))===k)if(k=!k)b=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),S=y-1;S>=b;--S)l.point(D[S],C[S]);l.lineEnd(),l.areaEnd()}k&&(D[y]=+t(_,y,m),C[y]=+e(_,y,m),l.point(r?+r(_,y,m):D[y],n?+n(_,y,m):C[y]))}if(R)return l=null,R+""||null}function h(){return ZD().defined(i).curve(s).context(a)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:bt(+m),r=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:bt(+m),f):t},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:bt(+m),f):r},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:bt(+m),n=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:bt(+m),f):e},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:bt(+m),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:bt(!!m),f):i},f.curve=function(m){return arguments.length?(s=m,a!=null&&(l=s(a)),f):s},f.context=function(m){return arguments.length?(m==null?a=l=null:l=s(a=m),f):a},f}class eM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function M8(t){return new eM(t,!0)}function L8(t){return new eM(t,!1)}const U1={draw(t,e){const n=Wr(e/hp);t.moveTo(n,0),t.arc(0,0,n,0,km)}},$8={draw(t,e){const n=Wr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},tM=Wr(1/3),V8=tM*2,B8={draw(t,e){const n=Wr(e/V8),r=n*tM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},F8={draw(t,e){const n=Wr(e),r=-n/2;t.rect(r,r,n,n)}},U8=.8908130915292852,nM=dp(hp/10)/dp(7*hp/10),q8=dp(km/10)*nM,z8=-KD(km/10)*nM,W8={draw(t,e){const n=Wr(e*U8),r=q8*n,i=z8*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=km*a/5,l=KD(s),c=dp(s);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},s0=Wr(3),H8={draw(t,e){const n=-Wr(e/(s0*3));t.moveTo(0,n*2),t.lineTo(-s0*n,-n),t.lineTo(s0*n,-n),t.closePath()}},gr=-.5,yr=Wr(3)/2,O_=1/Wr(12),G8=(O_/2+1)*3,K8={draw(t,e){const n=Wr(e/G8),r=n/2,i=n*O_,a=r,s=n*O_+n,l=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(l,c),t.lineTo(gr*r-yr*i,yr*r+gr*i),t.lineTo(gr*a-yr*s,yr*a+gr*s),t.lineTo(gr*l-yr*c,yr*l+gr*c),t.lineTo(gr*r+yr*i,gr*i-yr*r),t.lineTo(gr*a+yr*s,gr*s-yr*a),t.lineTo(gr*l+yr*c,gr*c-yr*l),t.closePath()}};function Y8(t,e){let n=null,r=B1(i);t=typeof t=="function"?t:bt(t||U1),e=typeof e=="function"?e:bt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:bt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:bt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function pp(){}function mp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function rM(t){this._context=t}rM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function X8(t){return new rM(t)}function iM(t){this._context=t}iM.prototype={areaStart:pp,areaEnd:pp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:mp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Q8(t){return new iM(t)}function aM(t){this._context=t}aM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:mp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function J8(t){return new aM(t)}function oM(t){this._context=t}oM.prototype={areaStart:pp,areaEnd:pp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Z8(t){return new oM(t)}function ZP(t){return t<0?-1:1}function eO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(ZP(a)+ZP(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function tO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function u0(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,s-l*n,a,s)}function gp(t){this._context=t}gp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:u0(this,this._t0,tO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,u0(this,tO(this,n=eO(this,t,e)),n);break;default:u0(this,this._t0,n=eO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function sM(t){this._context=new uM(t)}(sM.prototype=Object.create(gp.prototype)).point=function(t,e){gp.prototype.point.call(this,e,t)};function uM(t){this._context=t}uM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function ez(t){return new gp(t)}function tz(t){return new sM(t)}function lM(t){this._context=t}lM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=nO(t),i=nO(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function nO(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function nz(t){return new lM(t)}function jm(t,e){this._context=t,this._t=e}jm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function rz(t){return new jm(t,.5)}function iz(t){return new jm(t,0)}function az(t){return new jm(t,1)}function $u(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,l=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function C_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function oz(t,e){return t[e]}function sz(t){const e=[];return e.key=t,e}function uz(){var t=bt([]),e=C_,n=$u,r=oz;function i(a){var s=Array.from(t.apply(this,arguments),sz),l,c=s.length,f=-1,h;for(const m of a)for(l=0,++f;l<c;++l)(s[l][f]=[0,+r(m,s[l].key,f,a)]).data=m;for(l=0,h=F1(e(s));l<c;++l)s[h[l]].index=l;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:bt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:bt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?C_:typeof a=="function"?a:bt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??$u,i):n},i}function lz(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}$u(t,e)}}function cz(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}$u(t,e)}}function fz(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,c=0,f=0;l<s;++l){for(var h=t[e[l]],m=h[r][1]||0,y=h[r-1][1]||0,b=(m-y)/2,S=0;S<l;++S){var E=t[e[S]],_=E[r][1]||0,k=E[r-1][1]||0;b+=_-k}c+=m,f+=b*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,$u(t,e)}}function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}var dz=["type","size","sizeType"];function k_(){return k_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k_.apply(this,arguments)}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){hz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hz(t,e,n){return e=pz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pz(t){var e=mz(t,"string");return Xc(e)=="symbol"?e:e+""}function mz(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gz(t,e){if(t==null)return{};var n=yz(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cM={symbolCircle:U1,symbolCross:$8,symbolDiamond:B8,symbolSquare:F8,symbolStar:W8,symbolTriangle:H8,symbolWye:K8},vz=Math.PI/180,xz=function(e){var n="symbol".concat(Cm(e));return cM[n]||U1},bz=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*vz;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},_z=function(e,n){cM["symbol".concat(Cm(e))]=n},q1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=gz(e,dz),f=iO(iO({},c),{},{type:r,size:a,sizeType:l}),h=function(){var _=xz(r),k=Y8().type(_).size(bz(a,l,r));return k()},m=f.className,y=f.cx,b=f.cy,S=at(f,!0);return y===+y&&b===+b&&a===+a?K.createElement("path",k_({},S,{className:ot("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(b,")"),d:h()})):null};q1.registerSymbol=_z;function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(this,arguments)}function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){Qc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ez(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dM(r.key),r)}}function Sz(t,e,n){return e&&Ez(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Az(t,e,n){return e=yp(e),Iz(t,fM()?Reflect.construct(e,n||[],yp(t).constructor):e.apply(t,n))}function Iz(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pz(t)}function Pz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fM=function(){return!!t})()}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yp(t)}function Oz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j_(t,e)}function j_(t,e){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j_(t,e)}function Qc(t,e,n){return e=dM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dM(t){var e=Cz(t,"string");return Vu(e)=="symbol"?e:e+""}function Cz(t,e){if(Vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vr=32,z1=(function(t){function e(){return Tz(this,e),Az(this,e,arguments)}return Oz(e,t),Sz(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=vr/2,s=vr/6,l=vr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:vr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(vr,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return K.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(vr/8,"h").concat(vr,"v").concat(vr*3/4,"h").concat(-vr,"z"),className:"recharts-legend-icon"});if(K.isValidElement(r.legendIcon)){var f=wz({},r);return delete f.legendIcon,K.cloneElement(r.legendIcon,f)}return K.createElement(q1,{fill:c,cx:a,cy:a,size:vr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:vr,height:vr},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(b,S){var E=b.formatter||c,_=ot(Qc(Qc({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",b.inactive));if(b.type==="none")return null;var k=Ge(b.value)?null:b.value;ea(!Ge(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var R=b.inactive?f:b.color;return K.createElement("li",N_({className:_,style:m,key:"legend-item-".concat(S)},fp(r.props,b,S)),K.createElement(S_,{width:s,height:s,viewBox:h,style:y},r.renderIcon(b)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:R}},E?E(k,b,S):k))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(W.PureComponent);Qc(z1,"displayName","Legend");Qc(z1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var l0,oO;function kz(){if(oO)return l0;oO=1;var t=Am();function e(){this.__data__=new t,this.size=0}return l0=e,l0}var c0,sO;function Nz(){if(sO)return c0;sO=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return c0=t,c0}var f0,uO;function jz(){if(uO)return f0;uO=1;function t(e){return this.__data__.get(e)}return f0=t,f0}var d0,lO;function Rz(){if(lO)return d0;lO=1;function t(e){return this.__data__.has(e)}return d0=t,d0}var h0,cO;function Dz(){if(cO)return h0;cO=1;var t=Am(),e=R1(),n=D1(),r=200;function i(a,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([a,s]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(a,s),this.size=l.size,this}return h0=i,h0}var p0,fO;function hM(){if(fO)return p0;fO=1;var t=Am(),e=kz(),n=Nz(),r=jz(),i=Rz(),a=Dz();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,p0=s,p0}var m0,dO;function Mz(){if(dO)return m0;dO=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return m0=e,m0}var g0,hO;function Lz(){if(hO)return g0;hO=1;function t(e){return this.__data__.has(e)}return g0=t,g0}var y0,pO;function pM(){if(pO)return y0;pO=1;var t=D1(),e=Mz(),n=Lz();function r(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,y0=r,y0}var v0,mO;function mM(){if(mO)return v0;mO=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return v0=t,v0}var x0,gO;function gM(){if(gO)return x0;gO=1;function t(e,n){return e.has(n)}return x0=t,x0}var b0,yO;function yM(){if(yO)return b0;yO=1;var t=pM(),e=mM(),n=gM(),r=1,i=2;function a(s,l,c,f,h,m){var y=c&r,b=s.length,S=l.length;if(b!=S&&!(y&&S>b))return!1;var E=m.get(s),_=m.get(l);if(E&&_)return E==l&&_==s;var k=-1,R=!0,D=c&i?new t:void 0;for(m.set(s,l),m.set(l,s);++k<b;){var C=s[k],I=l[k];if(f)var N=y?f(I,C,k,l,s,m):f(C,I,k,s,l,m);if(N!==void 0){if(N)continue;R=!1;break}if(D){if(!e(l,function(A,P){if(!n(D,P)&&(C===A||h(C,A,c,f,m)))return D.push(P)})){R=!1;break}}else if(!(C===I||h(C,I,c,f,m))){R=!1;break}}return m.delete(s),m.delete(l),R}return b0=a,b0}var _0,vO;function $z(){if(vO)return _0;vO=1;var t=Si(),e=t.Uint8Array;return _0=e,_0}var w0,xO;function Vz(){if(xO)return w0;xO=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return w0=t,w0}var T0,bO;function W1(){if(bO)return T0;bO=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return T0=t,T0}var E0,_O;function Bz(){if(_O)return E0;_O=1;var t=Uf(),e=$z(),n=j1(),r=yM(),i=Vz(),a=W1(),s=1,l=2,c="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",y="[object Number]",b="[object RegExp]",S="[object Set]",E="[object String]",_="[object Symbol]",k="[object ArrayBuffer]",R="[object DataView]",D=t?t.prototype:void 0,C=D?D.valueOf:void 0;function I(N,A,P,j,B,$,V){switch(P){case R:if(N.byteLength!=A.byteLength||N.byteOffset!=A.byteOffset)return!1;N=N.buffer,A=A.buffer;case k:return!(N.byteLength!=A.byteLength||!$(new e(N),new e(A)));case c:case f:case y:return n(+N,+A);case h:return N.name==A.name&&N.message==A.message;case b:case E:return N==A+"";case m:var L=i;case S:var Z=j&s;if(L||(L=a),N.size!=A.size&&!Z)return!1;var ee=V.get(N);if(ee)return ee==A;j|=l,V.set(N,A);var oe=r(L(N),L(A),j,B,$,V);return V.delete(N),oe;case _:if(C)return C.call(N)==C.call(A)}return!1}return E0=I,E0}var S0,wO;function vM(){if(wO)return S0;wO=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return S0=t,S0}var A0,TO;function Fz(){if(TO)return A0;TO=1;var t=vM(),e=Gn();function n(r,i,a){var s=i(r);return e(r)?s:t(s,a(r))}return A0=n,A0}var I0,EO;function Uz(){if(EO)return I0;EO=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,s=[];++r<i;){var l=e[r];n(l,r,e)&&(s[a++]=l)}return s}return I0=t,I0}var P0,SO;function qz(){if(SO)return P0;SO=1;function t(){return[]}return P0=t,P0}var O0,AO;function zz(){if(AO)return O0;AO=1;var t=Uz(),e=qz(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return r.call(s,l)}))}:e;return O0=a,O0}var C0,IO;function Wz(){if(IO)return C0;IO=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return C0=t,C0}var k0,PO;function Hz(){if(PO)return k0;PO=1;var t=fa(),e=da(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return k0=r,k0}var N0,OO;function H1(){if(OO)return N0;OO=1;var t=Hz(),e=da(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return N0=a,N0}var Ac={exports:{}},j0,CO;function Gz(){if(CO)return j0;CO=1;function t(){return!1}return j0=t,j0}Ac.exports;var kO;function xM(){return kO||(kO=1,(function(t,e){var n=Si(),r=Gz(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,f=c||r;t.exports=f})(Ac,Ac.exports)),Ac.exports}var R0,NO;function G1(){if(NO)return R0;NO=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return R0=n,R0}var D0,jO;function K1(){if(jO)return D0;jO=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return D0=e,D0}var M0,RO;function Kz(){if(RO)return M0;RO=1;var t=fa(),e=K1(),n=da(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",y="[object RegExp]",b="[object Set]",S="[object String]",E="[object WeakMap]",_="[object ArrayBuffer]",k="[object DataView]",R="[object Float32Array]",D="[object Float64Array]",C="[object Int8Array]",I="[object Int16Array]",N="[object Int32Array]",A="[object Uint8Array]",P="[object Uint8ClampedArray]",j="[object Uint16Array]",B="[object Uint32Array]",$={};$[R]=$[D]=$[C]=$[I]=$[N]=$[A]=$[P]=$[j]=$[B]=!0,$[r]=$[i]=$[_]=$[a]=$[k]=$[s]=$[l]=$[c]=$[f]=$[h]=$[m]=$[y]=$[b]=$[S]=$[E]=!1;function V(L){return n(L)&&e(L.length)&&!!$[t(L)]}return M0=V,M0}var L0,DO;function bM(){if(DO)return L0;DO=1;function t(e){return function(n){return e(n)}}return L0=t,L0}var Ic={exports:{}};Ic.exports;var MO;function Yz(){return MO||(MO=1,(function(t,e){var n=BD(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=l})(Ic,Ic.exports)),Ic.exports}var $0,LO;function _M(){if(LO)return $0;LO=1;var t=Kz(),e=bM(),n=Yz(),r=n&&n.isTypedArray,i=r?e(r):t;return $0=i,$0}var V0,$O;function Xz(){if($O)return V0;$O=1;var t=Wz(),e=H1(),n=Gn(),r=xM(),i=G1(),a=_M(),s=Object.prototype,l=s.hasOwnProperty;function c(f,h){var m=n(f),y=!m&&e(f),b=!m&&!y&&r(f),S=!m&&!y&&!b&&a(f),E=m||y||b||S,_=E?t(f.length,String):[],k=_.length;for(var R in f)(h||l.call(f,R))&&!(E&&(R=="length"||b&&(R=="offset"||R=="parent")||S&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||i(R,k)))&&_.push(R);return _}return V0=c,V0}var B0,VO;function Qz(){if(VO)return B0;VO=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return B0=e,B0}var F0,BO;function wM(){if(BO)return F0;BO=1;function t(e,n){return function(r){return e(n(r))}}return F0=t,F0}var U0,FO;function Jz(){if(FO)return U0;FO=1;var t=wM(),e=t(Object.keys,Object);return U0=e,U0}var q0,UO;function Zz(){if(UO)return q0;UO=1;var t=Qz(),e=Jz(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var l in Object(a))r.call(a,l)&&l!="constructor"&&s.push(l);return s}return q0=i,q0}var z0,qO;function zf(){if(qO)return z0;qO=1;var t=N1(),e=K1();function n(r){return r!=null&&e(r.length)&&!t(r)}return z0=n,z0}var W0,zO;function Rm(){if(zO)return W0;zO=1;var t=Xz(),e=Zz(),n=zf();function r(i){return n(i)?t(i):e(i)}return W0=r,W0}var H0,WO;function e7(){if(WO)return H0;WO=1;var t=Fz(),e=zz(),n=Rm();function r(i){return t(i,n,e)}return H0=r,H0}var G0,HO;function t7(){if(HO)return G0;HO=1;var t=e7(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,s,l,c,f,h){var m=l&e,y=t(a),b=y.length,S=t(s),E=S.length;if(b!=E&&!m)return!1;for(var _=b;_--;){var k=y[_];if(!(m?k in s:r.call(s,k)))return!1}var R=h.get(a),D=h.get(s);if(R&&D)return R==s&&D==a;var C=!0;h.set(a,s),h.set(s,a);for(var I=m;++_<b;){k=y[_];var N=a[k],A=s[k];if(c)var P=m?c(A,N,k,s,a,h):c(N,A,k,a,s,h);if(!(P===void 0?N===A||f(N,A,l,c,h):P)){C=!1;break}I||(I=k=="constructor")}if(C&&!I){var j=a.constructor,B=s.constructor;j!=B&&"constructor"in a&&"constructor"in s&&!(typeof j=="function"&&j instanceof j&&typeof B=="function"&&B instanceof B)&&(C=!1)}return h.delete(a),h.delete(s),C}return G0=i,G0}var K0,GO;function n7(){if(GO)return K0;GO=1;var t=bs(),e=Si(),n=t(e,"DataView");return K0=n,K0}var Y0,KO;function r7(){if(KO)return Y0;KO=1;var t=bs(),e=Si(),n=t(e,"Promise");return Y0=n,Y0}var X0,YO;function TM(){if(YO)return X0;YO=1;var t=bs(),e=Si(),n=t(e,"Set");return X0=n,X0}var Q0,XO;function i7(){if(XO)return Q0;XO=1;var t=bs(),e=Si(),n=t(e,"WeakMap");return Q0=n,Q0}var J0,QO;function a7(){if(QO)return J0;QO=1;var t=n7(),e=R1(),n=r7(),r=TM(),i=i7(),a=fa(),s=FD(),l="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",y="[object DataView]",b=s(t),S=s(e),E=s(n),_=s(r),k=s(i),R=a;return(t&&R(new t(new ArrayBuffer(1)))!=y||e&&R(new e)!=l||n&&R(n.resolve())!=f||r&&R(new r)!=h||i&&R(new i)!=m)&&(R=function(D){var C=a(D),I=C==c?D.constructor:void 0,N=I?s(I):"";if(N)switch(N){case b:return y;case S:return l;case E:return f;case _:return h;case k:return m}return C}),J0=R,J0}var Z0,JO;function o7(){if(JO)return Z0;JO=1;var t=hM(),e=yM(),n=Bz(),r=t7(),i=a7(),a=Gn(),s=xM(),l=_M(),c=1,f="[object Arguments]",h="[object Array]",m="[object Object]",y=Object.prototype,b=y.hasOwnProperty;function S(E,_,k,R,D,C){var I=a(E),N=a(_),A=I?h:i(E),P=N?h:i(_);A=A==f?m:A,P=P==f?m:P;var j=A==m,B=P==m,$=A==P;if($&&s(E)){if(!s(_))return!1;I=!0,j=!1}if($&&!j)return C||(C=new t),I||l(E)?e(E,_,k,R,D,C):n(E,_,A,k,R,D,C);if(!(k&c)){var V=j&&b.call(E,"__wrapped__"),L=B&&b.call(_,"__wrapped__");if(V||L){var Z=V?E.value():E,ee=L?_.value():_;return C||(C=new t),D(Z,ee,k,R,C)}}return $?(C||(C=new t),r(E,_,k,R,D,C)):!1}return Z0=S,Z0}var ex,ZO;function Y1(){if(ZO)return ex;ZO=1;var t=o7(),e=da();function n(r,i,a,s,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,s,n,l)}return ex=n,ex}var tx,eC;function s7(){if(eC)return tx;eC=1;var t=hM(),e=Y1(),n=1,r=2;function i(a,s,l,c){var f=l.length,h=f,m=!c;if(a==null)return!h;for(a=Object(a);f--;){var y=l[f];if(m&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++f<h;){y=l[f];var b=y[0],S=a[b],E=y[1];if(m&&y[2]){if(S===void 0&&!(b in a))return!1}else{var _=new t;if(c)var k=c(S,E,b,a,s,_);if(!(k===void 0?e(E,S,n|r,c,_):k))return!1}}return!0}return tx=i,tx}var nx,tC;function EM(){if(tC)return nx;tC=1;var t=lo();function e(n){return n===n&&!t(n)}return nx=e,nx}var rx,nC;function u7(){if(nC)return rx;nC=1;var t=EM(),e=Rm();function n(r){for(var i=e(r),a=i.length;a--;){var s=i[a],l=r[s];i[a]=[s,l,t(l)]}return i}return rx=n,rx}var ix,rC;function SM(){if(rC)return ix;rC=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return ix=t,ix}var ax,iC;function l7(){if(iC)return ax;iC=1;var t=s7(),e=u7(),n=SM();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return ax=r,ax}var ox,aC;function c7(){if(aC)return ox;aC=1;function t(e,n){return e!=null&&n in Object(e)}return ox=t,ox}var sx,oC;function f7(){if(oC)return sx;oC=1;var t=zD(),e=H1(),n=Gn(),r=G1(),i=K1(),a=Pm();function s(l,c,f){c=t(c,l);for(var h=-1,m=c.length,y=!1;++h<m;){var b=a(c[h]);if(!(y=l!=null&&f(l,b)))break;l=l[b]}return y||++h!=m?y:(m=l==null?0:l.length,!!m&&i(m)&&r(b,m)&&(n(l)||e(l)))}return sx=s,sx}var ux,sC;function d7(){if(sC)return ux;sC=1;var t=c7(),e=f7();function n(r,i){return r!=null&&e(r,i,t)}return ux=n,ux}var lx,uC;function h7(){if(uC)return lx;uC=1;var t=Y1(),e=WD(),n=d7(),r=k1(),i=EM(),a=SM(),s=Pm(),l=1,c=2;function f(h,m){return r(h)&&i(m)?a(s(h),m):function(y){var b=e(y,h);return b===void 0&&b===m?n(y,h):t(m,b,l|c)}}return lx=f,lx}var cx,lC;function pl(){if(lC)return cx;lC=1;function t(e){return e}return cx=t,cx}var fx,cC;function p7(){if(cC)return fx;cC=1;function t(e){return function(n){return n==null?void 0:n[e]}}return fx=t,fx}var dx,fC;function m7(){if(fC)return dx;fC=1;var t=L1();function e(n){return function(r){return t(r,n)}}return dx=e,dx}var hx,dC;function g7(){if(dC)return hx;dC=1;var t=p7(),e=m7(),n=k1(),r=Pm();function i(a){return n(a)?t(r(a)):e(a)}return hx=i,hx}var px,hC;function co(){if(hC)return px;hC=1;var t=l7(),e=h7(),n=pl(),r=Gn(),i=g7();function a(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return px=a,px}var mx,pC;function AM(){if(pC)return mx;pC=1;function t(e,n,r,i){for(var a=e.length,s=r+(i?1:-1);i?s--:++s<a;)if(n(e[s],s,e))return s;return-1}return mx=t,mx}var gx,mC;function y7(){if(mC)return gx;mC=1;function t(e){return e!==e}return gx=t,gx}var yx,gC;function v7(){if(gC)return yx;gC=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return yx=t,yx}var vx,yC;function x7(){if(yC)return vx;yC=1;var t=AM(),e=y7(),n=v7();function r(i,a,s){return a===a?n(i,a,s):t(i,e,s)}return vx=r,vx}var xx,vC;function b7(){if(vC)return xx;vC=1;var t=x7();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return xx=e,xx}var bx,xC;function _7(){if(xC)return bx;xC=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return bx=t,bx}var _x,bC;function w7(){if(bC)return _x;bC=1;function t(){}return _x=t,_x}var wx,_C;function T7(){if(_C)return wx;_C=1;var t=TM(),e=w7(),n=W1(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return wx=i,wx}var Tx,wC;function E7(){if(wC)return Tx;wC=1;var t=pM(),e=b7(),n=_7(),r=gM(),i=T7(),a=W1(),s=200;function l(c,f,h){var m=-1,y=e,b=c.length,S=!0,E=[],_=E;if(h)S=!1,y=n;else if(b>=s){var k=f?null:i(c);if(k)return a(k);S=!1,y=r,_=new t}else _=f?[]:E;e:for(;++m<b;){var R=c[m],D=f?f(R):R;if(R=h||R!==0?R:0,S&&D===D){for(var C=_.length;C--;)if(_[C]===D)continue e;f&&_.push(D),E.push(R)}else y(_,D,h)||(_!==E&&_.push(D),E.push(R))}return E}return Tx=l,Tx}var Ex,TC;function S7(){if(TC)return Ex;TC=1;var t=co(),e=E7();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return Ex=n,Ex}var A7=S7();const EC=ht(A7);function IM(t,e,n){return e===!0?EC(t,n):Ge(e)?EC(t,e):t}function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}var I7=["ref"];function SC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SC(Object(n),!0).forEach(function(r){Dm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OM(r.key),r)}}function O7(t,e,n){return e&&AC(t.prototype,e),n&&AC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function C7(t,e,n){return e=vp(e),k7(t,PM()?Reflect.construct(e,n||[],vp(t).constructor):e.apply(t,n))}function k7(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N7(t)}function N7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PM=function(){return!!t})()}function vp(t){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vp(t)}function j7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R_(t,e)}function R_(t,e){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R_(t,e)}function Dm(t,e,n){return e=OM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OM(t){var e=R7(t,"string");return Bu(e)=="symbol"?e:e+""}function R7(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function D7(t,e){if(t==null)return{};var n=M7(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function L7(t){return t.value}function $7(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var n=D7(e,I7);return K.createElement(z1,n)}var IC=1,Pu=(function(t){function e(){var n;P7(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=C7(this,e,[].concat(i)),Dm(n,"lastBoundingBox",{width:-1,height:-1}),n}return j7(e,t),O7(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>IC||Math.abs(i.height-this.lastBoundingBox.height)>IC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Hi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,m,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var b=this.getBBoxSnapshot();m={left:((f||0)-b.width)/2}}else m=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var S=this.getBBoxSnapshot();y={top:((h||0)-S.height)/2}}else y=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Hi(Hi({},m),y)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,m=Hi(Hi({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return K.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(b){r.wrapperNode=b}},$7(a,Hi(Hi({},this.props),{},{payload:IM(h,f,L7)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Hi(Hi({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&xe(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])})(W.PureComponent);Dm(Pu,"displayName","Legend");Dm(Pu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Sx,PC;function V7(){if(PC)return Sx;PC=1;var t=Uf(),e=H1(),n=Gn(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return Sx=i,Sx}var Ax,OC;function CM(){if(OC)return Ax;OC=1;var t=vM(),e=V7();function n(r,i,a,s,l){var c=-1,f=r.length;for(a||(a=e),l||(l=[]);++c<f;){var h=r[c];i>0&&a(h)?i>1?n(h,i-1,a,s,l):t(l,h):s||(l[l.length]=h)}return l}return Ax=n,Ax}var Ix,CC;function B7(){if(CC)return Ix;CC=1;function t(e){return function(n,r,i){for(var a=-1,s=Object(n),l=i(n),c=l.length;c--;){var f=l[e?c:++a];if(r(s[f],f,s)===!1)break}return n}}return Ix=t,Ix}var Px,kC;function F7(){if(kC)return Px;kC=1;var t=B7(),e=t();return Px=e,Px}var Ox,NC;function kM(){if(NC)return Ox;NC=1;var t=F7(),e=Rm();function n(r,i){return r&&t(r,i,e)}return Ox=n,Ox}var Cx,jC;function U7(){if(jC)return Cx;jC=1;var t=zf();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var s=i.length,l=r?s:-1,c=Object(i);(r?l--:++l<s)&&a(c[l],l,c)!==!1;);return i}}return Cx=e,Cx}var kx,RC;function X1(){if(RC)return kx;RC=1;var t=kM(),e=U7(),n=e(t);return kx=n,kx}var Nx,DC;function NM(){if(DC)return Nx;DC=1;var t=X1(),e=zf();function n(r,i){var a=-1,s=e(r)?Array(r.length):[];return t(r,function(l,c,f){s[++a]=i(l,c,f)}),s}return Nx=n,Nx}var jx,MC;function q7(){if(MC)return jx;MC=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return jx=t,jx}var Rx,LC;function z7(){if(LC)return Rx;LC=1;var t=dl();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,s=n===n,l=t(n),c=r!==void 0,f=r===null,h=r===r,m=t(r);if(!f&&!m&&!l&&n>r||l&&c&&h&&!f&&!m||a&&c&&h||!i&&h||!s)return 1;if(!a&&!l&&!m&&n<r||m&&i&&s&&!a&&!l||f&&i&&s||!c&&s||!h)return-1}return 0}return Rx=e,Rx}var Dx,$C;function W7(){if($C)return Dx;$C=1;var t=z7();function e(n,r,i){for(var a=-1,s=n.criteria,l=r.criteria,c=s.length,f=i.length;++a<c;){var h=t(s[a],l[a]);if(h){if(a>=f)return h;var m=i[a];return h*(m=="desc"?-1:1)}}return n.index-r.index}return Dx=e,Dx}var Mx,VC;function H7(){if(VC)return Mx;VC=1;var t=M1(),e=L1(),n=co(),r=NM(),i=q7(),a=bM(),s=W7(),l=pl(),c=Gn();function f(h,m,y){m.length?m=t(m,function(E){return c(E)?function(_){return e(_,E.length===1?E[0]:E)}:E}):m=[l];var b=-1;m=t(m,a(n));var S=r(h,function(E,_,k){var R=t(m,function(D){return D(E)});return{criteria:R,index:++b,value:E}});return i(S,function(E,_){return s(E,_,y)})}return Mx=f,Mx}var Lx,BC;function G7(){if(BC)return Lx;BC=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return Lx=t,Lx}var $x,FC;function K7(){if(FC)return $x;FC=1;var t=G7(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,l=-1,c=e(s.length-i,0),f=Array(c);++l<c;)f[l]=s[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=s[l];return h[i]=a(f),t(r,this,h)}}return $x=n,$x}var Vx,UC;function Y7(){if(UC)return Vx;UC=1;function t(e){return function(){return e}}return Vx=t,Vx}var Bx,qC;function jM(){if(qC)return Bx;qC=1;var t=bs(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Bx=e,Bx}var Fx,zC;function X7(){if(zC)return Fx;zC=1;var t=Y7(),e=jM(),n=pl(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return Fx=r,Fx}var Ux,WC;function Q7(){if(WC)return Ux;WC=1;var t=800,e=16,n=Date.now;function r(i){var a=0,s=0;return function(){var l=n(),c=e-(l-s);if(s=l,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Ux=r,Ux}var qx,HC;function J7(){if(HC)return qx;HC=1;var t=X7(),e=Q7(),n=e(t);return qx=n,qx}var zx,GC;function Z7(){if(GC)return zx;GC=1;var t=pl(),e=K7(),n=J7();function r(i,a){return n(e(i,a,t),i+"")}return zx=r,zx}var Wx,KC;function Mm(){if(KC)return Wx;KC=1;var t=j1(),e=zf(),n=G1(),r=lo();function i(a,s,l){if(!r(l))return!1;var c=typeof s;return(c=="number"?e(l)&&n(s,l.length):c=="string"&&s in l)?t(l[s],a):!1}return Wx=i,Wx}var Hx,YC;function eW(){if(YC)return Hx;YC=1;var t=CM(),e=H7(),n=Z7(),r=Mm(),i=n(function(a,s){if(a==null)return[];var l=s.length;return l>1&&r(a,s[0],s[1])?s=[]:l>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return Hx=i,Hx}var tW=eW();const Q1=ht(tW);function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D_.apply(this,arguments)}function nW(t,e){return oW(t)||aW(t,e)||iW(t,e)||rW()}function rW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iW(t,e){if(t){if(typeof t=="string")return XC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XC(t,e)}}function XC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function oW(t){if(Array.isArray(t))return t}function QC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(n),!0).forEach(function(r){sW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sW(t,e,n){return e=uW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uW(t){var e=lW(t,"string");return Jc(e)=="symbol"?e:e+""}function lW(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cW(t){return Array.isArray(t)&&nn(t[0])&&nn(t[1])?t.join(" ~ "):t}var fW=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,m=e.formatter,y=e.itemSorter,b=e.wrapperClassName,S=e.labelClassName,E=e.label,_=e.labelFormatter,k=e.accessibilityLayer,R=k===void 0?!1:k,D=function(){if(h&&h.length){var V={padding:0,margin:0},L=(y?Q1(h,y):h).map(function(Z,ee){if(Z.type==="none")return null;var oe=Gx({display:"block",paddingTop:4,paddingBottom:4,color:Z.color||"#000"},l),se=Z.formatter||m||cW,Q=Z.value,ie=Z.name,re=Q,q=ie;if(se&&re!=null&&q!=null){var G=se(Q,ie,Z,ee,h);if(Array.isArray(G)){var ge=nW(G,2);re=ge[0],q=ge[1]}else re=G}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:oe},nn(q)?K.createElement("span",{className:"recharts-tooltip-item-name"},q):null,nn(q)?K.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,K.createElement("span",{className:"recharts-tooltip-item-value"},re),K.createElement("span",{className:"recharts-tooltip-item-unit"},Z.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:V},L)}return null},C=Gx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),I=Gx({margin:0},f),N=!st(E),A=N?E:"",P=ot("recharts-default-tooltip",b),j=ot("recharts-tooltip-label",S);N&&_&&h!==void 0&&h!==null&&(A=_(E,h));var B=R?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",D_({className:P,style:C},B),K.createElement("p",{className:j,style:I},K.isValidElement(A)?A:"".concat(A)),D())};function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function xh(t,e,n){return e=dW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dW(t){var e=hW(t,"string");return Zc(e)=="symbol"?e:e+""}function hW(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fc="recharts-tooltip-wrapper",pW={visibility:"hidden"};function mW(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ot(fc,xh(xh(xh(xh({},"".concat(fc,"-right"),xe(n)&&e&&xe(e.x)&&n>=e.x),"".concat(fc,"-left"),xe(n)&&e&&xe(e.x)&&n<e.x),"".concat(fc,"-bottom"),xe(r)&&e&&xe(e.y)&&r>=e.y),"".concat(fc,"-top"),xe(r)&&e&&xe(e.y)&&r<e.y))}function JC(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(a&&xe(a[r]))return a[r];var h=n[r]-l-i,m=n[r]+i;if(e[r])return s[r]?h:m;if(s[r]){var y=h,b=c[r];return y<b?Math.max(m,c[r]):Math.max(h,c[r])}var S=m+l,E=c[r]+f;return S>E?Math.max(h,c[r]):Math.max(m,c[r])}function gW(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function yW(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,f,h,m;return s.height>0&&s.width>0&&n?(h=JC({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=JC({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=gW({translateX:h,translateY:m,useTranslate3d:l})):f=pW,{cssProperties:f,cssClasses:mW({translateX:h,translateY:m,coordinate:n})}}function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function ZC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(n),!0).forEach(function(r){L_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DM(r.key),r)}}function bW(t,e,n){return e&&xW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _W(t,e,n){return e=xp(e),wW(t,RM()?Reflect.construct(e,n||[],xp(t).constructor):e.apply(t,n))}function wW(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TW(t)}function TW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RM=function(){return!!t})()}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xp(t)}function EW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(t,e)}function L_(t,e,n){return e=DM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DM(t){var e=SW(t,"string");return Fu(e)=="symbol"?e:e+""}function SW(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tk=1,AW=(function(t){function e(){var n;vW(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=_W(this,e,[].concat(i)),L_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),L_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,f,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(f=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),n}return EW(e,t),bW(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>tk||Math.abs(r.height-this.state.lastBoundingBox.height)>tk)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,m=i.hasPayload,y=i.isAnimationActive,b=i.offset,S=i.position,E=i.reverseDirection,_=i.useTranslate3d,k=i.viewBox,R=i.wrapperStyle,D=yW({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:b,position:S,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:k}),C=D.cssClasses,I=D.cssProperties,N=ek(ek({transition:y&&a?"transform ".concat(l,"ms ").concat(c):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},R);return K.createElement("div",{tabIndex:-1,className:C,style:N,ref:function(P){r.wrapperNode=P}},f)}}])})(W.PureComponent),IW=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Wf={isSsr:IW()};function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){J1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LM(r.key),r)}}function CW(t,e,n){return e&&OW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kW(t,e,n){return e=bp(e),NW(t,MM()?Reflect.construct(e,n||[],bp(t).constructor):e.apply(t,n))}function NW(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jW(t)}function jW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MM=function(){return!!t})()}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bp(t)}function RW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function J1(t,e,n){return e=LM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LM(t){var e=DW(t,"string");return Uu(e)=="symbol"?e:e+""}function DW(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function MW(t){return t.dataKey}function LW(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(fW,e)}var fi=(function(t){function e(){return PW(this,e),kW(this,e,arguments)}return RW(e,t),CW(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,m=i.filterNull,y=i.isAnimationActive,b=i.offset,S=i.payload,E=i.payloadUniqBy,_=i.position,k=i.reverseDirection,R=i.useTranslate3d,D=i.viewBox,C=i.wrapperStyle,I=S??[];m&&I.length&&(I=IM(S.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),E,MW));var N=I.length>0;return K.createElement(AW,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:y,active:a,coordinate:h,hasPayload:N,offset:b,position:_,reverseDirection:k,useTranslate3d:R,viewBox:D,wrapperStyle:C},LW(f,rk(rk({},this.props),{},{payload:I})))}}])})(W.PureComponent);J1(fi,"displayName","Tooltip");J1(fi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Wf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Kx,ik;function $W(){if(ik)return Kx;ik=1;var t=Si(),e=function(){return t.Date.now()};return Kx=e,Kx}var Yx,ak;function VW(){if(ak)return Yx;ak=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Yx=e,Yx}var Xx,ok;function BW(){if(ok)return Xx;ok=1;var t=VW(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Xx=n,Xx}var Qx,sk;function $M(){if(sk)return Qx;sk=1;var t=BW(),e=lo(),n=dl(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=a.test(f);return m||s.test(f)?l(f.slice(2),m?2:8):i.test(f)?r:+f}return Qx=c,Qx}var Jx,uk;function FW(){if(uk)return Jx;uk=1;var t=lo(),e=$W(),n=$M(),r="Expected a function",i=Math.max,a=Math.min;function s(l,c,f){var h,m,y,b,S,E,_=0,k=!1,R=!1,D=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(k=!!f.leading,R="maxWait"in f,y=R?i(n(f.maxWait)||0,c):y,D="trailing"in f?!!f.trailing:D);function C(L){var Z=h,ee=m;return h=m=void 0,_=L,b=l.apply(ee,Z),b}function I(L){return _=L,S=setTimeout(P,c),k?C(L):b}function N(L){var Z=L-E,ee=L-_,oe=c-Z;return R?a(oe,y-ee):oe}function A(L){var Z=L-E,ee=L-_;return E===void 0||Z>=c||Z<0||R&&ee>=y}function P(){var L=e();if(A(L))return j(L);S=setTimeout(P,N(L))}function j(L){return S=void 0,D&&h?C(L):(h=m=void 0,b)}function B(){S!==void 0&&clearTimeout(S),_=0,h=E=m=S=void 0}function $(){return S===void 0?b:j(e())}function V(){var L=e(),Z=A(L);if(h=arguments,m=this,E=L,Z){if(S===void 0)return I(E);if(R)return clearTimeout(S),S=setTimeout(P,c),C(E)}return S===void 0&&(S=setTimeout(P,c)),b}return V.cancel=B,V.flush=$,V}return Jx=s,Jx}var Zx,lk;function UW(){if(lk)return Zx;lk=1;var t=FW(),e=lo(),n="Expected a function";function r(i,a,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:l,maxWait:a,trailing:c})}return Zx=r,Zx}var qW=UW();const VM=ht(qW);function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){zW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zW(t,e,n){return e=WW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WW(t){var e=HW(t,"string");return ef(e)=="symbol"?e:e+""}function HW(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GW(t,e){return QW(t)||XW(t,e)||YW(t,e)||KW()}function KW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YW(t,e){if(t){if(typeof t=="string")return fk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fk(t,e)}}function fk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function QW(t){if(Array.isArray(t))return t}var JW=W.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,f=t.minWidth,h=f===void 0?0:f,m=t.minHeight,y=t.maxHeight,b=t.children,S=t.debounce,E=S===void 0?0:S,_=t.id,k=t.className,R=t.onResize,D=t.style,C=D===void 0?{}:D,I=W.useRef(null),N=W.useRef();N.current=R,W.useImperativeHandle(e,function(){return Object.defineProperty(I.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var A=W.useState({containerWidth:i.width,containerHeight:i.height}),P=GW(A,2),j=P[0],B=P[1],$=W.useCallback(function(L,Z){B(function(ee){var oe=Math.round(L),se=Math.round(Z);return ee.containerWidth===oe&&ee.containerHeight===se?ee:{containerWidth:oe,containerHeight:se}})},[]);W.useEffect(function(){var L=function(ie){var re,q=ie[0].contentRect,G=q.width,ge=q.height;$(G,ge),(re=N.current)===null||re===void 0||re.call(N,G,ge)};E>0&&(L=VM(L,E,{trailing:!0,leading:!1}));var Z=new ResizeObserver(L),ee=I.current.getBoundingClientRect(),oe=ee.width,se=ee.height;return $(oe,se),Z.observe(I.current),function(){Z.disconnect()}},[$,E]);var V=W.useMemo(function(){var L=j.containerWidth,Z=j.containerHeight;if(L<0||Z<0)return null;ea(Ko(s)||Ko(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),ea(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ee=Ko(s)?L:s,oe=Ko(c)?Z:c;n&&n>0&&(ee?oe=ee/n:oe&&(ee=oe*n),y&&oe>y&&(oe=y)),ea(ee>0||oe>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,oe,s,c,h,m,n);var se=!Array.isArray(b)&&Zi(b.type).endsWith("Chart");return K.Children.map(b,function(Q){return K.isValidElement(Q)?W.cloneElement(Q,bh({width:ee,height:oe},se?{style:bh({height:"100%",width:"100%",maxHeight:oe,maxWidth:ee},Q.props.style)}:{})):Q})},[n,b,c,y,m,h,j,s]);return K.createElement("div",{id:_?"".concat(_):void 0,className:ot("recharts-responsive-container",k),style:bh(bh({},C),{},{width:s,height:c,minWidth:h,minHeight:m,maxHeight:y}),ref:I},V)}),Z1=function(e){return null};Z1.displayName="Cell";function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(n),!0).forEach(function(r){ZW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZW(t,e,n){return e=eH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eH(t){var e=tH(t,"string");return tf(e)=="symbol"?e:e+""}function tH(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cu={widthCache:{},cacheCount:0},nH=2e3,rH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hk="recharts_measurement_span";function iH(t){var e=V_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Dc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Wf.isSsr)return{width:0,height:0};var r=iH(n),i=JSON.stringify({text:e,copyStyle:r});if(cu.widthCache[i])return cu.widthCache[i];try{var a=document.getElementById(hk);a||(a=document.createElement("span"),a.setAttribute("id",hk),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=V_(V_({},rH),r);Object.assign(a.style,s),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return cu.widthCache[i]=c,++cu.cacheCount>nH&&(cu.cacheCount=0,cu.widthCache={}),c}catch{return{width:0,height:0}}},aH=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function _p(t,e){return lH(t)||uH(t,e)||sH(t,e)||oH()}function oH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sH(t,e){if(t){if(typeof t=="string")return pk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pk(t,e)}}function pk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function lH(t){if(Array.isArray(t))return t}function cH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dH(r.key),r)}}function fH(t,e,n){return e&&mk(t.prototype,e),n&&mk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dH(t){var e=hH(t,"string");return nf(e)=="symbol"?e:e+""}function hH(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gH=Object.keys(BM),vu="NaN";function yH(t,e){return t*BM[e]}var _h=(function(){function t(e,n){cH(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!pH.test(n)&&(this.num=NaN,this.unit=""),gH.includes(n)&&(this.num=yH(e,n),this.unit="px")}return fH(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=mH.exec(n))!==null&&r!==void 0?r:[],a=_p(i,3),s=a[1],l=a[2];return new t(parseFloat(s),l??"")}}])})();function FM(t){if(t.includes(vu))return vu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=gk.exec(e))!==null&&n!==void 0?n:[],i=_p(r,4),a=i[1],s=i[2],l=i[3],c=_h.parse(a??""),f=_h.parse(l??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return vu;e=e.replace(gk,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,y=(m=yk.exec(e))!==null&&m!==void 0?m:[],b=_p(y,4),S=b[1],E=b[2],_=b[3],k=_h.parse(S??""),R=_h.parse(_??""),D=E==="+"?k.add(R):k.subtract(R);if(D.isNaN())return vu;e=e.replace(yk,D.toString())}return e}var vk=/\(([^()]*)\)/;function vH(t){for(var e=t;e.includes("(");){var n=vk.exec(e),r=_p(n,2),i=r[1];e=e.replace(vk,FM(i))}return e}function xH(t){var e=t.replace(/\s+/g,"");return e=vH(e),e=FM(e),e}function bH(t){try{return xH(t)}catch{return vu}}function eb(t){var e=bH(t.slice(5,-1));return e===vu?"":e}var _H=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],wH=["dx","dy","angle","className","breakAll"];function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B_.apply(this,arguments)}function xk(t,e){if(t==null)return{};var n=TH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bk(t,e){return IH(t)||AH(t,e)||SH(t,e)||EH()}function EH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SH(t,e){if(t){if(typeof t=="string")return _k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _k(t,e)}}function _k(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function IH(t){if(Array.isArray(t))return t}var UM=/[ \f\n\r\t\v\u2028\u2029]+/,qM=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];st(n)||(r?a=n.toString().split(""):a=n.toString().split(UM));var s=a.map(function(c){return{word:c,width:Dc(c,i).width}}),l=r?0:Dc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},PH=function(e,n,r,i,a){var s=e.maxLines,l=e.children,c=e.style,f=e.breakAll,h=xe(s),m=l,y=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee.reduce(function(oe,se){var Q=se.word,ie=se.width,re=oe[oe.length-1];if(re&&(i==null||a||re.width+ie+r<Number(i)))re.words.push(Q),re.width+=ie+r;else{var q={words:[Q],width:ie};oe.push(q)}return oe},[])},b=y(n),S=function(ee){return ee.reduce(function(oe,se){return oe.width>se.width?oe:se})};if(!h)return b;for(var E="",_=function(ee){var oe=m.slice(0,ee),se=qM({breakAll:f,style:c,children:oe+E}).wordsWithComputedWidth,Q=y(se),ie=Q.length>s||S(Q).width>Number(i);return[ie,Q]},k=0,R=m.length-1,D=0,C;k<=R&&D<=m.length-1;){var I=Math.floor((k+R)/2),N=I-1,A=_(N),P=bk(A,2),j=P[0],B=P[1],$=_(I),V=bk($,1),L=V[0];if(!j&&!L&&(k=I+1),j&&L&&(R=I-1),!j&&L){C=B;break}D++}return C||b},wk=function(e){var n=st(e)?[]:e.toString().split(UM);return[{words:n}]},OH=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,l=e.maxLines;if((n||r)&&!Wf.isSsr){var c,f,h=qM({breakAll:s,children:i,style:a});if(h){var m=h.wordsWithComputedWidth,y=h.spaceWidth;c=m,f=y}else return wk(i);return PH({breakAll:s,children:i,maxLines:l,style:a},c,f,n,r)}return wk(i)},Tk="#808080",wp=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,m=h===void 0?!1:h,y=e.textAnchor,b=y===void 0?"start":y,S=e.verticalAnchor,E=S===void 0?"end":S,_=e.fill,k=_===void 0?Tk:_,R=xk(e,_H),D=W.useMemo(function(){return OH({breakAll:R.breakAll,children:R.children,maxLines:R.maxLines,scaleToFit:m,style:R.style,width:R.width})},[R.breakAll,R.children,R.maxLines,m,R.style,R.width]),C=R.dx,I=R.dy,N=R.angle,A=R.className,P=R.breakAll,j=xk(R,wH);if(!nn(r)||!nn(a))return null;var B=r+(xe(C)?C:0),$=a+(xe(I)?I:0),V;switch(E){case"start":V=eb("calc(".concat(f,")"));break;case"middle":V=eb("calc(".concat((D.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:V=eb("calc(".concat(D.length-1," * -").concat(l,")"));break}var L=[];if(m){var Z=D[0].width,ee=R.width;L.push("scale(".concat((xe(ee)?ee/Z:1)/Z,")"))}return N&&L.push("rotate(".concat(N,", ").concat(B,", ").concat($,")")),L.length&&(j.transform=L.join(" ")),K.createElement("text",B_({},at(j,!0),{x:B,y:$,className:ot("recharts-text",A),textAnchor:b,fill:k.includes("url")?Tk:k}),D.map(function(oe,se){var Q=oe.words.join(P?"":" ");return K.createElement("tspan",{x:B,dy:se===0?V:l,key:"".concat(Q,"-").concat(se)},Q)}))};function to(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function CH(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function eT(t){let e,n,r;t.length!==2?(e=to,n=(l,c)=>to(t(l),c),r=(l,c)=>t(l)-c):(e=t===to||t===CH?t:kH,n=t,r=t);function i(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(l[m],c)<0?f=m+1:h=m}while(f<h)}return f}function a(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(l[m],c)<=0?f=m+1:h=m}while(f<h)}return f}function s(l,c,f=0,h=l.length){const m=i(l,c,f,h-1);return m>f&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:i,center:s,right:a}}function kH(){return 0}function zM(t){return t===null?NaN:+t}function*NH(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const jH=eT(to),Hf=jH.right;eT(zM).center;class Ek extends Map{constructor(e,n=MH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Sk(this,e))}has(e){return super.has(Sk(this,e))}set(e,n){return super.set(RH(this,e),n)}delete(e){return super.delete(DH(this,e))}}function Sk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function RH({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function DH({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function MH(t){return t!==null&&typeof t=="object"?t.valueOf():t}function LH(t=to){if(t===to)return WM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function WM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const $H=Math.sqrt(50),VH=Math.sqrt(10),BH=Math.sqrt(2);function Tp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=$H?10:a>=VH?5:a>=BH?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/s,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=n&&n<2?Tp(t,e,n*2):[l,c,f]}function F_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Tp(e,t,n):Tp(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(s<0)for(let f=0;f<l;++f)c[f]=(a-f)/-s;else for(let f=0;f<l;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<l;++f)c[f]=(i+f)/-s;else for(let f=0;f<l;++f)c[f]=(i+f)*s;return c}function U_(t,e,n){return e=+e,t=+t,n=+n,Tp(t,e,n)[2]}function q_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?U_(e,t,n):U_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Ak(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Ik(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function HM(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?WM:LH(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(c-m)/c)*(f-c/2<0?-1:1),b=Math.max(n,Math.floor(e-f*m/c+y)),S=Math.min(r,Math.floor(e+(c-f)*m/c+y));HM(t,e,b,S,i)}const a=t[e];let s=n,l=r;for(dc(t,n,e),i(t[r],a)>0&&dc(t,n,r);s<l;){for(dc(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?dc(t,n,l):(++l,dc(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function dc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function FH(t,e,n){if(t=Float64Array.from(NH(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Ik(t);if(e>=1)return Ak(t);var r,i=(r-1)*e,a=Math.floor(i),s=Ak(HM(t,a).subarray(0,a+1)),l=Ik(t.subarray(a+1));return s+(l-s)*(i-a)}}function UH(t,e,n=zM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function qH(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Er(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ha(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const z_=Symbol("implicit");function tT(){var t=new Ek,e=[],n=[],r=z_;function i(a){let s=t.get(a);if(s===void 0){if(r!==z_)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Ek;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return tT(e,n).unknown(r)},Er.apply(i,arguments),i}function rf(){var t=tT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,l=!1,c=0,f=0,h=.5;delete t.unknown;function m(){var y=e().length,b=i<r,S=b?i:r,E=b?r:i;a=(E-S)/Math.max(1,y-c+f*2),l&&(a=Math.floor(a)),S+=(E-S-a*(y-c))*h,s=a*(1-c),l&&(S=Math.round(S),s=Math.round(s));var _=qH(y).map(function(k){return S+a*k});return n(b?_.reverse():_)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(y){return arguments.length?(l=!!y,m()):l},t.padding=function(y){return arguments.length?(c=Math.min(1,f=+y),m()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),m()):c},t.paddingOuter=function(y){return arguments.length?(f=+y,m()):f},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),m()):h},t.copy=function(){return rf(e(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(h)},Er.apply(m(),arguments)}function GM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return GM(e())},t}function Mc(){return GM(rf.apply(null,arguments).paddingInner(1))}function nT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function KM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Gf(){}var af=.7,Ep=1/af,Ou="\\s*([+-]?\\d+)\\s*",of="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zH=/^#([0-9a-f]{3,8})$/,WH=new RegExp(`^rgb\\(${Ou},${Ou},${Ou}\\)$`),HH=new RegExp(`^rgb\\(${vi},${vi},${vi}\\)$`),GH=new RegExp(`^rgba\\(${Ou},${Ou},${Ou},${of}\\)$`),KH=new RegExp(`^rgba\\(${vi},${vi},${vi},${of}\\)$`),YH=new RegExp(`^hsl\\(${of},${vi},${vi}\\)$`),XH=new RegExp(`^hsla\\(${of},${vi},${vi},${of}\\)$`),Pk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nT(Gf,sf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ok,formatHex:Ok,formatHex8:QH,formatHsl:JH,formatRgb:Ck,toString:Ck});function Ok(){return this.rgb().formatHex()}function QH(){return this.rgb().formatHex8()}function JH(){return YM(this).formatHsl()}function Ck(){return this.rgb().formatRgb()}function sf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=zH.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?kk(e):n===3?new Wn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?wh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?wh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=WH.exec(t))?new Wn(e[1],e[2],e[3],1):(e=HH.exec(t))?new Wn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=GH.exec(t))?wh(e[1],e[2],e[3],e[4]):(e=KH.exec(t))?wh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=YH.exec(t))?Rk(e[1],e[2]/100,e[3]/100,1):(e=XH.exec(t))?Rk(e[1],e[2]/100,e[3]/100,e[4]):Pk.hasOwnProperty(t)?kk(Pk[t]):t==="transparent"?new Wn(NaN,NaN,NaN,0):null}function kk(t){return new Wn(t>>16&255,t>>8&255,t&255,1)}function wh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wn(t,e,n,r)}function ZH(t){return t instanceof Gf||(t=sf(t)),t?(t=t.rgb(),new Wn(t.r,t.g,t.b,t.opacity)):new Wn}function W_(t,e,n,r){return arguments.length===1?ZH(t):new Wn(t,e,n,r??1)}function Wn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}nT(Wn,W_,KM(Gf,{brighter(t){return t=t==null?Ep:Math.pow(Ep,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?af:Math.pow(af,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wn(ns(this.r),ns(this.g),ns(this.b),Sp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nk,formatHex:Nk,formatHex8:eG,formatRgb:jk,toString:jk}));function Nk(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}`}function eG(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}${Yo((isNaN(this.opacity)?1:this.opacity)*255)}`}function jk(){const t=Sp(this.opacity);return`${t===1?"rgb(":"rgba("}${ns(this.r)}, ${ns(this.g)}, ${ns(this.b)}${t===1?")":`, ${t})`}`}function Sp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ns(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Yo(t){return t=ns(t),(t<16?"0":"")+t.toString(16)}function Rk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $r(t,e,n,r)}function YM(t){if(t instanceof $r)return new $r(t.h,t.s,t.l,t.opacity);if(t instanceof Gf||(t=sf(t)),!t)return new $r;if(t instanceof $r)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-i,c=(a+i)/2;return l?(e===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new $r(s,l,c,t.opacity)}function tG(t,e,n,r){return arguments.length===1?YM(t):new $r(t,e,n,r??1)}function $r(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}nT($r,tG,KM(Gf,{brighter(t){return t=t==null?Ep:Math.pow(Ep,t),new $r(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?af:Math.pow(af,t),new $r(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wn(tb(t>=240?t-240:t+120,i,r),tb(t,i,r),tb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new $r(Dk(this.h),Th(this.s),Th(this.l),Sp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Sp(this.opacity);return`${t===1?"hsl(":"hsla("}${Dk(this.h)}, ${Th(this.s)*100}%, ${Th(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Dk(t){return t=(t||0)%360,t<0?t+360:t}function Th(t){return Math.max(0,Math.min(1,t||0))}function tb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const rT=t=>()=>t;function nG(t,e){return function(n){return t+n*e}}function rG(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function iG(t){return(t=+t)==1?XM:function(e,n){return n-e?rG(e,n,t):rT(isNaN(e)?n:e)}}function XM(t,e){var n=e-t;return n?nG(t,n):rT(isNaN(t)?e:t)}const Mk=(function t(e){var n=iG(e);function r(i,a){var s=n((i=W_(i)).r,(a=W_(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),f=XM(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=l(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function aG(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function oG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sG(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=ml(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function uG(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ap(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function lG(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ml(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var H_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nb=new RegExp(H_.source,"g");function cG(t){return function(){return t}}function fG(t){return function(e){return t(e)+""}}function dG(t,e){var n=H_.lastIndex=nb.lastIndex=0,r,i,a,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=H_.exec(t))&&(i=nb.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Ap(r,i)})),n=nb.lastIndex;return n<e.length&&(a=e.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?fG(c[0].x):cG(e):(e=c.length,function(f){for(var h=0,m;h<e;++h)l[(m=c[h]).i]=m.x(f);return l.join("")})}function ml(t,e){var n=typeof e,r;return e==null||n==="boolean"?rT(e):(n==="number"?Ap:n==="string"?(r=sf(e))?(e=r,Mk):dG:e instanceof sf?Mk:e instanceof Date?uG:oG(e)?aG:Array.isArray(e)?sG:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?lG:Ap)(t,e)}function iT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function hG(t,e){e===void 0&&(e=t,t=ml);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function pG(t){return function(){return t}}function Ip(t){return+t}var Lk=[0,1];function Mn(t){return t}function G_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:pG(isNaN(e)?NaN:.5)}function mG(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function gG(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=G_(i,r),a=n(s,a)):(r=G_(r,i),a=n(a,s)),function(l){return a(r(l))}}function yG(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=G_(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(l){var c=Hf(t,l,1,r)-1;return a[c](i[c](l))}}function Kf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Lm(){var t=Lk,e=Lk,n=ml,r,i,a,s=Mn,l,c,f;function h(){var y=Math.min(t.length,e.length);return s!==Mn&&(s=mG(t[0],t[y-1])),l=y>2?yG:gG,c=f=null,m}function m(y){return y==null||isNaN(y=+y)?a:(c||(c=l(t.map(r),e,n)))(r(s(y)))}return m.invert=function(y){return s(i((f||(f=l(e,t.map(r),Ap)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,Ip),h()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),n=iT,h()},m.clamp=function(y){return arguments.length?(s=y?!0:Mn,h()):s!==Mn},m.interpolate=function(y){return arguments.length?(n=y,h()):n},m.unknown=function(y){return arguments.length?(a=y,m):a},function(y,b){return r=y,i=b,h()}}function aT(){return Lm()(Mn,Mn)}function vG(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Pp(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function qu(t){return t=Pp(Math.abs(t)),t?t[1]:NaN}function xG(t,e){return function(n,r){for(var i=n.length,a=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function bG(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var _G=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uf(t){if(!(e=_G.exec(t)))throw new Error("invalid format: "+t);var e;return new oT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}uf.prototype=oT.prototype;function oT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}oT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wG(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Op;function TG(t,e){var n=Pp(t,e);if(!n)return Op=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(Op=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Pp(t,Math.max(0,e+a-1))[0]}function $k(t,e){var n=Pp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Vk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:vG,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$k(t*100,e),r:$k,s:TG,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Bk(t){return t}var Fk=Array.prototype.map,Uk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function EG(t){var e=t.grouping===void 0||t.thousands===void 0?Bk:xG(Fk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Bk:bG(Fk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(m,y){m=uf(m);var b=m.fill,S=m.align,E=m.sign,_=m.symbol,k=m.zero,R=m.width,D=m.comma,C=m.precision,I=m.trim,N=m.type;N==="n"?(D=!0,N="g"):Vk[N]||(C===void 0&&(C=12),I=!0,N="g"),(k||b==="0"&&S==="=")&&(k=!0,b="0",S="=");var A=(y&&y.prefix!==void 0?y.prefix:"")+(_==="$"?n:_==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),P=(_==="$"?r:/[%p]/.test(N)?s:"")+(y&&y.suffix!==void 0?y.suffix:""),j=Vk[N],B=/[defgprs%]/.test(N);C=C===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function $(V){var L=A,Z=P,ee,oe,se;if(N==="c")Z=j(V)+Z,V="";else{V=+V;var Q=V<0||1/V<0;if(V=isNaN(V)?c:j(Math.abs(V),C),I&&(V=wG(V)),Q&&+V==0&&E!=="+"&&(Q=!1),L=(Q?E==="("?E:l:E==="-"||E==="("?"":E)+L,Z=(N==="s"&&!isNaN(V)&&Op!==void 0?Uk[8+Op/3]:"")+Z+(Q&&E==="("?")":""),B){for(ee=-1,oe=V.length;++ee<oe;)if(se=V.charCodeAt(ee),48>se||se>57){Z=(se===46?i+V.slice(ee+1):V.slice(ee))+Z,V=V.slice(0,ee);break}}}D&&!k&&(V=e(V,1/0));var ie=L.length+V.length+Z.length,re=ie<R?new Array(R-ie+1).join(b):"";switch(D&&k&&(V=e(re+V,re.length?R-Z.length:1/0),re=""),S){case"<":V=L+V+Z+re;break;case"=":V=L+re+V+Z;break;case"^":V=re.slice(0,ie=re.length>>1)+L+V+Z+re.slice(ie);break;default:V=re+L+V+Z;break}return a(V)}return $.toString=function(){return m+""},$}function h(m,y){var b=Math.max(-8,Math.min(8,Math.floor(qu(y)/3)))*3,S=Math.pow(10,-b),E=f((m=uf(m),m.type="f",m),{suffix:Uk[8+b/3]});return function(_){return E(S*_)}}return{format:f,formatPrefix:h}}var Eh,sT,QM;SG({thousands:",",grouping:[3],currency:["$",""]});function SG(t){return Eh=EG(t),sT=Eh.format,QM=Eh.formatPrefix,Eh}function AG(t){return Math.max(0,-qu(Math.abs(t)))}function IG(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qu(e)/3)))*3-qu(Math.abs(t)))}function PG(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qu(e)-qu(t))+1}function JM(t,e,n,r){var i=q_(t,e,n),a;switch(r=uf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=IG(i,s))&&(r.precision=a),QM(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=PG(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=AG(i))&&(r.precision=a-(r.type==="%")*2);break}}return sT(r)}function fo(t){var e=t.domain;return t.ticks=function(n){var r=e();return F_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return JM(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],l=r[a],c,f,h=10;for(l<s&&(f=s,s=l,l=f,f=i,i=a,a=f);h-- >0;){if(f=U_(s,l,n),f===c)return r[i]=s,r[a]=l,e(r);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function Cp(){var t=aT();return t.copy=function(){return Kf(t,Cp())},Er.apply(t,arguments),fo(t)}function ZM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ip),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return ZM(t).unknown(e)},t=arguments.length?Array.from(t,Ip):[0,1],fo(n)}function eL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function qk(t){return Math.log(t)}function zk(t){return Math.exp(t)}function OG(t){return-Math.log(-t)}function CG(t){return-Math.exp(-t)}function kG(t){return isFinite(t)?+("1e"+t):t<0?0:t}function NG(t){return t===10?kG:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jG(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Wk(t){return(e,n)=>-t(-e,n)}function uT(t){const e=t(qk,zk),n=e.domain;let r=10,i,a;function s(){return i=jG(r),a=NG(r),n()[0]<0?(i=Wk(i),a=Wk(a),t(OG,CG)):t(qk,zk),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const c=n();let f=c[0],h=c[c.length-1];const m=h<f;m&&([f,h]=[h,f]);let y=i(f),b=i(h),S,E;const _=l==null?10:+l;let k=[];if(!(r%1)&&b-y<_){if(y=Math.floor(y),b=Math.ceil(b),f>0){for(;y<=b;++y)for(S=1;S<r;++S)if(E=y<0?S/a(-y):S*a(y),!(E<f)){if(E>h)break;k.push(E)}}else for(;y<=b;++y)for(S=r-1;S>=1;--S)if(E=y>0?S/a(-y):S*a(y),!(E<f)){if(E>h)break;k.push(E)}k.length*2<_&&(k=F_(f,h,_))}else k=F_(y,b,Math.min(b-y,_)).map(a);return m?k.reverse():k},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=uf(c)).precision==null&&(c.trim=!0),c=sT(c)),l===1/0)return c;const f=Math.max(1,r*l/e.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=f?c(h):""}},e.nice=()=>n(eL(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function tL(){const t=uT(Lm()).domain([1,10]);return t.copy=()=>Kf(t,tL()).base(t.base()),Er.apply(t,arguments),t}function Hk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Gk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function lT(t){var e=1,n=t(Hk(e),Gk(e));return n.constant=function(r){return arguments.length?t(Hk(e=+r),Gk(e)):e},fo(n)}function nL(){var t=lT(Lm());return t.copy=function(){return Kf(t,nL()).constant(t.constant())},Er.apply(t,arguments)}function Kk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function RG(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function DG(t){return t<0?-t*t:t*t}function cT(t){var e=t(Mn,Mn),n=1;function r(){return n===1?t(Mn,Mn):n===.5?t(RG,DG):t(Kk(n),Kk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},fo(e)}function fT(){var t=cT(Lm());return t.copy=function(){return Kf(t,fT()).exponent(t.exponent())},Er.apply(t,arguments),t}function MG(){return fT.apply(null,arguments).exponent(.5)}function Yk(t){return Math.sign(t)*t*t}function LG(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function rL(){var t=aT(),e=[0,1],n=!1,r;function i(a){var s=LG(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(Yk(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Ip)).map(Yk)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return rL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Er.apply(i,arguments),fo(i)}function iL(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=UH(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Hf(n,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(to),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return iL().domain(t).range(e).unknown(r)},Er.apply(a,arguments)}function aL(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Hf(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return aL().domain([t,e]).range(i).unknown(a)},Er.apply(fo(s),arguments)}function oL(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Hf(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return oL().domain(t).range(e).unknown(n)},Er.apply(i,arguments)}const rb=new Date,ib=new Date;function an(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let f;do c.push(f=new Date(+a)),e(a,l),t(a);while(f<a&&a<s);return c},i.filter=a=>an(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(rb.setTime(+a),ib.setTime(+s),t(rb),t(ib),Math.floor(n(rb,ib))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const kp=an(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);kp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?an(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):kp);kp.range;const Xi=1e3,_r=Xi*60,Qi=_r*60,sa=Qi*24,dT=sa*7,Xk=sa*30,ab=sa*365,Xo=an(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Xi)},(t,e)=>(e-t)/Xi,t=>t.getUTCSeconds());Xo.range;const hT=an(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xi)},(t,e)=>{t.setTime(+t+e*_r)},(t,e)=>(e-t)/_r,t=>t.getMinutes());hT.range;const pT=an(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*_r)},(t,e)=>(e-t)/_r,t=>t.getUTCMinutes());pT.range;const mT=an(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xi-t.getMinutes()*_r)},(t,e)=>{t.setTime(+t+e*Qi)},(t,e)=>(e-t)/Qi,t=>t.getHours());mT.range;const gT=an(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Qi)},(t,e)=>(e-t)/Qi,t=>t.getUTCHours());gT.range;const Yf=an(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_r)/sa,t=>t.getDate()-1);Yf.range;const $m=an(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/sa,t=>t.getUTCDate()-1);$m.range;const sL=an(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/sa,t=>Math.floor(t/sa));sL.range;function _s(t){return an(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*_r)/dT)}const Vm=_s(0),Np=_s(1),$G=_s(2),VG=_s(3),zu=_s(4),BG=_s(5),FG=_s(6);Vm.range;Np.range;$G.range;VG.range;zu.range;BG.range;FG.range;function ws(t){return an(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/dT)}const Bm=ws(0),jp=ws(1),UG=ws(2),qG=ws(3),Wu=ws(4),zG=ws(5),WG=ws(6);Bm.range;jp.range;UG.range;qG.range;Wu.range;zG.range;WG.range;const yT=an(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());yT.range;const vT=an(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());vT.range;const ua=an(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ua.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:an(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ua.range;const la=an(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());la.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:an(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});la.range;function uL(t,e,n,r,i,a){const s=[[Xo,1,Xi],[Xo,5,5*Xi],[Xo,15,15*Xi],[Xo,30,30*Xi],[a,1,_r],[a,5,5*_r],[a,15,15*_r],[a,30,30*_r],[i,1,Qi],[i,3,3*Qi],[i,6,6*Qi],[i,12,12*Qi],[r,1,sa],[r,2,2*sa],[n,1,dT],[e,1,Xk],[e,3,3*Xk],[t,1,ab]];function l(f,h,m){const y=h<f;y&&([f,h]=[h,f]);const b=m&&typeof m.range=="function"?m:c(f,h,m),S=b?b.range(f,+h+1):[];return y?S.reverse():S}function c(f,h,m){const y=Math.abs(h-f)/m,b=eT(([,,_])=>_).right(s,y);if(b===s.length)return t.every(q_(f/ab,h/ab,m));if(b===0)return kp.every(Math.max(q_(f,h,m),1));const[S,E]=s[y/s[b-1][2]<s[b][2]/y?b-1:b];return S.every(E)}return[l,c]}const[HG,GG]=uL(la,vT,Bm,sL,gT,pT),[KG,YG]=uL(ua,yT,Vm,Yf,mT,hT);function ob(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function XG(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,f=pc(i),h=mc(i),m=pc(a),y=mc(a),b=pc(s),S=mc(s),E=pc(l),_=mc(l),k=pc(c),R=mc(c),D={a:se,A:Q,b:ie,B:re,c:null,d:nN,e:nN,f:xK,g:OK,G:kK,H:gK,I:yK,j:vK,L:lL,m:bK,M:_K,p:q,q:G,Q:aN,s:oN,S:wK,u:TK,U:EK,V:SK,w:AK,W:IK,x:null,X:null,y:PK,Y:CK,Z:NK,"%":iN},C={a:ge,A:_e,b:Oe,B:Re,c:null,d:rN,e:rN,f:MK,g:HK,G:KK,H:jK,I:RK,j:DK,L:fL,m:LK,M:$K,p:We,q:Le,Q:aN,s:oN,S:VK,u:BK,U:FK,V:UK,w:qK,W:zK,x:null,X:null,y:WK,Y:GK,Z:YK,"%":iN},I={a:B,A:$,b:V,B:L,c:Z,d:eN,e:eN,f:dK,g:Zk,G:Jk,H:tN,I:tN,j:uK,L:fK,m:sK,M:lK,p:j,q:oK,Q:pK,s:mK,S:cK,u:tK,U:nK,V:rK,w:eK,W:iK,x:ee,X:oe,y:Zk,Y:Jk,Z:aK,"%":hK};D.x=N(n,D),D.X=N(r,D),D.c=N(e,D),C.x=N(n,C),C.X=N(r,C),C.c=N(e,C);function N(he,Ce){return function(Be){var ce=[],rt=-1,ze=0,It=he.length,yt,Rt,Ln;for(Be instanceof Date||(Be=new Date(+Be));++rt<It;)he.charCodeAt(rt)===37&&(ce.push(he.slice(ze,rt)),(Rt=Qk[yt=he.charAt(++rt)])!=null?yt=he.charAt(++rt):Rt=yt==="e"?" ":"0",(Ln=Ce[yt])&&(yt=Ln(Be,Rt)),ce.push(yt),ze=rt+1);return ce.push(he.slice(ze,rt)),ce.join("")}}function A(he,Ce){return function(Be){var ce=hc(1900,void 0,1),rt=P(ce,he,Be+="",0),ze,It;if(rt!=Be.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(Ce&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(ze=sb(hc(ce.y,0,1)),It=ze.getUTCDay(),ze=It>4||It===0?jp.ceil(ze):jp(ze),ze=$m.offset(ze,(ce.V-1)*7),ce.y=ze.getUTCFullYear(),ce.m=ze.getUTCMonth(),ce.d=ze.getUTCDate()+(ce.w+6)%7):(ze=ob(hc(ce.y,0,1)),It=ze.getDay(),ze=It>4||It===0?Np.ceil(ze):Np(ze),ze=Yf.offset(ze,(ce.V-1)*7),ce.y=ze.getFullYear(),ce.m=ze.getMonth(),ce.d=ze.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),It="Z"in ce?sb(hc(ce.y,0,1)).getUTCDay():ob(hc(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(It+5)%7:ce.w+ce.U*7-(It+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,sb(ce)):ob(ce)}}function P(he,Ce,Be,ce){for(var rt=0,ze=Ce.length,It=Be.length,yt,Rt;rt<ze;){if(ce>=It)return-1;if(yt=Ce.charCodeAt(rt++),yt===37){if(yt=Ce.charAt(rt++),Rt=I[yt in Qk?Ce.charAt(rt++):yt],!Rt||(ce=Rt(he,Be,ce))<0)return-1}else if(yt!=Be.charCodeAt(ce++))return-1}return ce}function j(he,Ce,Be){var ce=f.exec(Ce.slice(Be));return ce?(he.p=h.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function B(he,Ce,Be){var ce=b.exec(Ce.slice(Be));return ce?(he.w=S.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function $(he,Ce,Be){var ce=m.exec(Ce.slice(Be));return ce?(he.w=y.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function V(he,Ce,Be){var ce=k.exec(Ce.slice(Be));return ce?(he.m=R.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function L(he,Ce,Be){var ce=E.exec(Ce.slice(Be));return ce?(he.m=_.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function Z(he,Ce,Be){return P(he,e,Ce,Be)}function ee(he,Ce,Be){return P(he,n,Ce,Be)}function oe(he,Ce,Be){return P(he,r,Ce,Be)}function se(he){return s[he.getDay()]}function Q(he){return a[he.getDay()]}function ie(he){return c[he.getMonth()]}function re(he){return l[he.getMonth()]}function q(he){return i[+(he.getHours()>=12)]}function G(he){return 1+~~(he.getMonth()/3)}function ge(he){return s[he.getUTCDay()]}function _e(he){return a[he.getUTCDay()]}function Oe(he){return c[he.getUTCMonth()]}function Re(he){return l[he.getUTCMonth()]}function We(he){return i[+(he.getUTCHours()>=12)]}function Le(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Ce=N(he+="",D);return Ce.toString=function(){return he},Ce},parse:function(he){var Ce=A(he+="",!1);return Ce.toString=function(){return he},Ce},utcFormat:function(he){var Ce=N(he+="",C);return Ce.toString=function(){return he},Ce},utcParse:function(he){var Ce=A(he+="",!0);return Ce.toString=function(){return he},Ce}}}var Qk={"-":"",_:" ",0:"0"},dn=/^\s*\d+/,QG=/^%/,JG=/[\\^$*+?|[\]().{}]/g;function nt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function ZG(t){return t.replace(JG,"\\$&")}function pc(t){return new RegExp("^(?:"+t.map(ZG).join("|")+")","i")}function mc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function eK(t,e,n){var r=dn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function tK(t,e,n){var r=dn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function nK(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function rK(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function iK(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Jk(t,e,n){var r=dn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Zk(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function aK(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function oK(t,e,n){var r=dn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function sK(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function eN(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function uK(t,e,n){var r=dn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function tN(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function lK(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function cK(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function fK(t,e,n){var r=dn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function dK(t,e,n){var r=dn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hK(t,e,n){var r=QG.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function pK(t,e,n){var r=dn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function mK(t,e,n){var r=dn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function nN(t,e){return nt(t.getDate(),e,2)}function gK(t,e){return nt(t.getHours(),e,2)}function yK(t,e){return nt(t.getHours()%12||12,e,2)}function vK(t,e){return nt(1+Yf.count(ua(t),t),e,3)}function lL(t,e){return nt(t.getMilliseconds(),e,3)}function xK(t,e){return lL(t,e)+"000"}function bK(t,e){return nt(t.getMonth()+1,e,2)}function _K(t,e){return nt(t.getMinutes(),e,2)}function wK(t,e){return nt(t.getSeconds(),e,2)}function TK(t){var e=t.getDay();return e===0?7:e}function EK(t,e){return nt(Vm.count(ua(t)-1,t),e,2)}function cL(t){var e=t.getDay();return e>=4||e===0?zu(t):zu.ceil(t)}function SK(t,e){return t=cL(t),nt(zu.count(ua(t),t)+(ua(t).getDay()===4),e,2)}function AK(t){return t.getDay()}function IK(t,e){return nt(Np.count(ua(t)-1,t),e,2)}function PK(t,e){return nt(t.getFullYear()%100,e,2)}function OK(t,e){return t=cL(t),nt(t.getFullYear()%100,e,2)}function CK(t,e){return nt(t.getFullYear()%1e4,e,4)}function kK(t,e){var n=t.getDay();return t=n>=4||n===0?zu(t):zu.ceil(t),nt(t.getFullYear()%1e4,e,4)}function NK(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+nt(e/60|0,"0",2)+nt(e%60,"0",2)}function rN(t,e){return nt(t.getUTCDate(),e,2)}function jK(t,e){return nt(t.getUTCHours(),e,2)}function RK(t,e){return nt(t.getUTCHours()%12||12,e,2)}function DK(t,e){return nt(1+$m.count(la(t),t),e,3)}function fL(t,e){return nt(t.getUTCMilliseconds(),e,3)}function MK(t,e){return fL(t,e)+"000"}function LK(t,e){return nt(t.getUTCMonth()+1,e,2)}function $K(t,e){return nt(t.getUTCMinutes(),e,2)}function VK(t,e){return nt(t.getUTCSeconds(),e,2)}function BK(t){var e=t.getUTCDay();return e===0?7:e}function FK(t,e){return nt(Bm.count(la(t)-1,t),e,2)}function dL(t){var e=t.getUTCDay();return e>=4||e===0?Wu(t):Wu.ceil(t)}function UK(t,e){return t=dL(t),nt(Wu.count(la(t),t)+(la(t).getUTCDay()===4),e,2)}function qK(t){return t.getUTCDay()}function zK(t,e){return nt(jp.count(la(t)-1,t),e,2)}function WK(t,e){return nt(t.getUTCFullYear()%100,e,2)}function HK(t,e){return t=dL(t),nt(t.getUTCFullYear()%100,e,2)}function GK(t,e){return nt(t.getUTCFullYear()%1e4,e,4)}function KK(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Wu(t):Wu.ceil(t),nt(t.getUTCFullYear()%1e4,e,4)}function YK(){return"+0000"}function iN(){return"%"}function aN(t){return+t}function oN(t){return Math.floor(+t/1e3)}var fu,hL,pL;XK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function XK(t){return fu=XG(t),hL=fu.format,fu.parse,pL=fu.utcFormat,fu.utcParse,fu}function QK(t){return new Date(t)}function JK(t){return t instanceof Date?+t:+new Date(+t)}function xT(t,e,n,r,i,a,s,l,c,f){var h=aT(),m=h.invert,y=h.domain,b=f(".%L"),S=f(":%S"),E=f("%I:%M"),_=f("%I %p"),k=f("%a %d"),R=f("%b %d"),D=f("%B"),C=f("%Y");function I(N){return(c(N)<N?b:l(N)<N?S:s(N)<N?E:a(N)<N?_:r(N)<N?i(N)<N?k:R:n(N)<N?D:C)(N)}return h.invert=function(N){return new Date(m(N))},h.domain=function(N){return arguments.length?y(Array.from(N,JK)):y().map(QK)},h.ticks=function(N){var A=y();return t(A[0],A[A.length-1],N??10)},h.tickFormat=function(N,A){return A==null?I:f(A)},h.nice=function(N){var A=y();return(!N||typeof N.range!="function")&&(N=e(A[0],A[A.length-1],N??10)),N?y(eL(A,N)):h},h.copy=function(){return Kf(h,xT(t,e,n,r,i,a,s,l,c,f))},h}function ZK(){return Er.apply(xT(KG,YG,ua,yT,Vm,Yf,mT,hT,Xo,hL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eY(){return Er.apply(xT(HG,GG,la,vT,Bm,$m,gT,pT,Xo,pL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fm(){var t=0,e=1,n,r,i,a,s=Mn,l=!1,c;function f(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(a(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(l=!!m,f):l},f.interpolator=function(m){return arguments.length?(s=m,f):s};function h(m){return function(y){var b,S;return arguments.length?([b,S]=y,s=m(b,S),f):[s(0),s(1)]}}return f.range=h(ml),f.rangeRound=h(iT),f.unknown=function(m){return arguments.length?(c=m,f):c},function(m){return a=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),f}}function ho(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function mL(){var t=fo(Fm()(Mn));return t.copy=function(){return ho(t,mL())},ha.apply(t,arguments)}function gL(){var t=uT(Fm()).domain([1,10]);return t.copy=function(){return ho(t,gL()).base(t.base())},ha.apply(t,arguments)}function yL(){var t=lT(Fm());return t.copy=function(){return ho(t,yL()).constant(t.constant())},ha.apply(t,arguments)}function bT(){var t=cT(Fm());return t.copy=function(){return ho(t,bT()).exponent(t.exponent())},ha.apply(t,arguments)}function tY(){return bT.apply(null,arguments).exponent(.5)}function vL(){var t=[],e=Mn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Hf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(to),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>FH(t,a/r))},n.copy=function(){return vL(e).domain(t)},ha.apply(n,arguments)}function Um(){var t=0,e=.5,n=1,r=1,i,a,s,l,c,f=Mn,h,m=!1,y;function b(E){return isNaN(E=+E)?y:(E=.5+((E=+h(E))-a)*(r*E<r*a?l:c),f(m?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,n]=E,i=h(t=+t),a=h(e=+e),s=h(n=+n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(E){return arguments.length?(m=!!E,b):m},b.interpolator=function(E){return arguments.length?(f=E,b):f};function S(E){return function(_){var k,R,D;return arguments.length?([k,R,D]=_,f=hG(E,[k,R,D]),b):[f(0),f(.5),f(1)]}}return b.range=S(ml),b.rangeRound=S(iT),b.unknown=function(E){return arguments.length?(y=E,b):y},function(E){return h=E,i=E(t),a=E(e),s=E(n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,b}}function xL(){var t=fo(Um()(Mn));return t.copy=function(){return ho(t,xL())},ha.apply(t,arguments)}function bL(){var t=uT(Um()).domain([.1,1,10]);return t.copy=function(){return ho(t,bL()).base(t.base())},ha.apply(t,arguments)}function _L(){var t=lT(Um());return t.copy=function(){return ho(t,_L()).constant(t.constant())},ha.apply(t,arguments)}function _T(){var t=cT(Um());return t.copy=function(){return ho(t,_T()).exponent(t.exponent())},ha.apply(t,arguments)}function nY(){return _T.apply(null,arguments).exponent(.5)}const sN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rf,scaleDiverging:xL,scaleDivergingLog:bL,scaleDivergingPow:_T,scaleDivergingSqrt:nY,scaleDivergingSymlog:_L,scaleIdentity:ZM,scaleImplicit:z_,scaleLinear:Cp,scaleLog:tL,scaleOrdinal:tT,scalePoint:Mc,scalePow:fT,scaleQuantile:iL,scaleQuantize:aL,scaleRadial:rL,scaleSequential:mL,scaleSequentialLog:gL,scaleSequentialPow:bT,scaleSequentialQuantile:vL,scaleSequentialSqrt:tY,scaleSequentialSymlog:yL,scaleSqrt:MG,scaleSymlog:nL,scaleThreshold:oL,scaleTime:ZK,scaleUtc:eY,tickFormat:JM},Symbol.toStringTag,{value:"Module"}));var ub,uN;function wL(){if(uN)return ub;uN=1;var t=dl();function e(n,r,i){for(var a=-1,s=n.length;++a<s;){var l=n[a],c=r(l);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=l}return h}return ub=e,ub}var lb,lN;function rY(){if(lN)return lb;lN=1;function t(e,n){return e>n}return lb=t,lb}var cb,cN;function iY(){if(cN)return cb;cN=1;var t=wL(),e=rY(),n=pl();function r(i){return i&&i.length?t(i,n,e):void 0}return cb=r,cb}var aY=iY();const qm=ht(aY);var fb,fN;function oY(){if(fN)return fb;fN=1;function t(e,n){return e<n}return fb=t,fb}var db,dN;function sY(){if(dN)return db;dN=1;var t=wL(),e=oY(),n=pl();function r(i){return i&&i.length?t(i,n,e):void 0}return db=r,db}var uY=sY();const zm=ht(uY);var hb,hN;function lY(){if(hN)return hb;hN=1;var t=M1(),e=co(),n=NM(),r=Gn();function i(a,s){var l=r(a)?t:n;return l(a,e(s,3))}return hb=i,hb}var pb,pN;function cY(){if(pN)return pb;pN=1;var t=CM(),e=lY();function n(r,i){return t(e(r,i),1)}return pb=n,pb}var fY=cY();const dY=ht(fY);var mb,mN;function hY(){if(mN)return mb;mN=1;var t=Y1();function e(n,r){return t(n,r)}return mb=e,mb}var pY=hY();const wT=ht(pY);var gl=1e9,mY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ET,Ot=!0,Tr="[DecimalError] ",rs=Tr+"Invalid argument: ",TT=Tr+"Exponent out of range: ",yl=Math.floor,Wo=Math.pow,gY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,or,cn=1e7,Et=7,TL=9007199254740991,Rp=yl(TL/Et),Ee={};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ee.comparedTo=Ee.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Et;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(t){return ta(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.idiv=function(t){var e=this,n=e.constructor;return gt(ta(e,new n(t),0,1),n.precision)};Ee.equals=Ee.eq=function(t){return!this.cmp(t)};Ee.exponent=function(){return Gt(this)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){return this.cmp(t)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(or))throw Error(Tr+"NaN");if(n.s<1)throw Error(Tr+(n.s?"NaN":"-Infinity"));return n.eq(or)?new r(0):(Ot=!1,e=ta(lf(n,a),lf(t,a),a),Ot=!0,gt(e,i))};Ee.minus=Ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?AL(e,t):EL(e,(t.s=-t.s,t))};Ee.modulo=Ee.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Tr+"NaN");return n.s?(Ot=!1,e=ta(n,t,0,1).times(t),Ot=!0,n.minus(e)):gt(new r(n),i)};Ee.naturalExponential=Ee.exp=function(){return SL(this)};Ee.naturalLogarithm=Ee.ln=function(){return lf(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ee.plus=Ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?EL(e,t):AL(e,(t.s=-t.s,t))};Ee.precision=Ee.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(rs+t);if(e=Gt(i)+1,r=i.d.length-1,n=r*Et+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ee.squareRoot=Ee.sqrt=function(){var t,e,n,r,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Tr+"NaN")}for(t=Gt(l),Ot=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=di(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=yl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(ta(l,a,s+2)).times(.5),di(a.d).slice(0,s)===(e=di(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(gt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;s+=4}return Ot=!0,gt(r,n)};Ee.times=Ee.mul=function(t){var e,n,r,i,a,s,l,c,f,h=this,m=h.constructor,y=h.d,b=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,c=y.length,f=b.length,c<f&&(a=y,y=b,b=a,s=c,c=f,f=s),a=[],s=c+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+b[r]*y[i-r-1]+e,a[i--]=l%cn|0,e=l/cn|0;a[i]=(a[i]+e)%cn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Ot?gt(t,m.precision):t};Ee.toDecimalPlaces=Ee.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ti(t,0,gl),e===void 0?e=r.rounding:Ti(e,0,8),gt(n,t+Gt(n)+1,e))};Ee.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=hs(r,!0):(Ti(t,0,gl),e===void 0?e=i.rounding:Ti(e,0,8),r=gt(new i(r),t+1,e),n=hs(r,!0,t+1)),n};Ee.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?hs(i):(Ti(t,0,gl),e===void 0?e=a.rounding:Ti(e,0,8),r=gt(new a(i),t+Gt(i)+1,e),n=hs(r.abs(),!1,t+Gt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var t=this,e=t.constructor;return gt(new e(t),Gt(t)+1,e.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(t){var e,n,r,i,a,s,l=this,c=l.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(or);if(l=new c(l),!l.s){if(t.s<1)throw Error(Tr+"Infinity");return l}if(l.eq(or))return l;if(r=c.precision,t.eq(or))return gt(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=l.s,s){if((n=h<0?-h:h)<=TL){for(i=new c(or),e=Math.ceil(r/Et+4),Ot=!1;n%2&&(i=i.times(l),yN(i.d,e)),n=yl(n/2),n!==0;)l=l.times(l),yN(l.d,e);return Ot=!0,t.s<0?new c(or).div(i):gt(i,r)}}else if(a<0)throw Error(Tr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Ot=!1,i=t.times(lf(l,r+f)),Ot=!0,i=SL(i),i.s=a,i};Ee.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Gt(i),r=hs(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ti(t,1,gl),e===void 0?e=a.rounding:Ti(e,0,8),i=gt(new a(i),t,e),n=Gt(i),r=hs(i,t<=n||n<=a.toExpNeg,t)),r};Ee.toSignificantDigits=Ee.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ti(t,1,gl),e===void 0?e=r.rounding:Ti(e,0,8)),gt(new r(n),t,e)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Gt(t),n=t.constructor;return hs(t,e<=n.toExpNeg||e>=n.toExpPos)};function EL(t,e){var n,r,i,a,s,l,c,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Ot?gt(e,m):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,l=f.length):(r=f,i=s,l=c.length),s=Math.ceil(m/Et),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=f.length,l-a<0&&(a=l,r=f,f=c,c=r),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/cn|0,c[a]%=cn;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Ot?gt(e,m):e}function Ti(t,e,n){if(t!==~~t||t<e||t>n)throw Error(rs+t)}function di(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Et-r.length,n&&(a+=qa(n)),a+=r;s=t[e],r=s+"",n=Et-r.length,n&&(a+=qa(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ta=(function(){function t(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%cn|0,s=a/cn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*cn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,c,f,h,m,y,b,S,E,_,k,R,D,C,I,N,A,P,j=r.constructor,B=r.s==i.s?1:-1,$=r.d,V=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(Tr+"Division by zero");for(c=r.e-i.e,A=V.length,I=$.length,b=new j(B),S=b.d=[],f=0;V[f]==($[f]||0);)++f;if(V[f]>($[f]||0)&&--c,a==null?R=a=j.precision:s?R=a+(Gt(r)-Gt(i))+1:R=a,R<0)return new j(0);if(R=R/Et+2|0,f=0,A==1)for(h=0,V=V[0],R++;(f<I||h)&&R--;f++)D=h*cn+($[f]||0),S[f]=D/V|0,h=D%V|0;else{for(h=cn/(V[0]+1)|0,h>1&&(V=t(V,h),$=t($,h),A=V.length,I=$.length),C=A,E=$.slice(0,A),_=E.length;_<A;)E[_++]=0;P=V.slice(),P.unshift(0),N=V[0],V[1]>=cn/2&&++N;do h=0,l=e(V,E,A,_),l<0?(k=E[0],A!=_&&(k=k*cn+(E[1]||0)),h=k/N|0,h>1?(h>=cn&&(h=cn-1),m=t(V,h),y=m.length,_=E.length,l=e(m,E,y,_),l==1&&(h--,n(m,A<y?P:V,y))):(h==0&&(l=h=1),m=V.slice()),y=m.length,y<_&&m.unshift(0),n(E,m,_),l==-1&&(_=E.length,l=e(V,E,A,_),l<1&&(h++,n(E,A<_?P:V,_))),_=E.length):l===0&&(h++,E=[0]),S[f++]=h,l&&E[0]?E[_++]=$[C]||0:(E=[$[C]],_=1);while((C++<I||E[0]!==void 0)&&R--)}return S[0]||S.shift(),b.e=c,gt(b,s?a+Gt(b)+1:a)}})();function SL(t,e){var n,r,i,a,s,l,c=0,f=0,h=t.constructor,m=h.precision;if(Gt(t)>16)throw Error(TT+Gt(t));if(!t.s)return new h(or);for(Ot=!1,l=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(Wo(2,f))/Math.LN10*2+5|0,l+=r,n=i=a=new h(or),h.precision=l;;){if(i=gt(i.times(t),l),n=n.times(++c),s=a.plus(ta(i,n,l)),di(s.d).slice(0,l)===di(a.d).slice(0,l)){for(;f--;)a=gt(a.times(a),l);return h.precision=m,e==null?(Ot=!0,gt(a,m)):a}a=s}}function Gt(t){for(var e=t.e*Et,n=t.d[0];n>=10;n/=10)e++;return e}function gb(t,e,n){if(e>t.LN10.sd())throw Ot=!0,n&&(t.precision=n),Error(Tr+"LN10 precision limit exceeded");return gt(new t(t.LN10),e)}function qa(t){for(var e="";t--;)e+="0";return e}function lf(t,e){var n,r,i,a,s,l,c,f,h,m=1,y=10,b=t,S=b.d,E=b.constructor,_=E.precision;if(b.s<1)throw Error(Tr+(b.s?"NaN":"-Infinity"));if(b.eq(or))return new E(0);if(e==null?(Ot=!1,f=_):f=e,b.eq(10))return e==null&&(Ot=!0),gb(E,f);if(f+=y,E.precision=f,n=di(S),r=n.charAt(0),a=Gt(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=di(b.d),r=n.charAt(0),m++;a=Gt(b),r>1?(b=new E("0."+n),a++):b=new E(r+"."+n.slice(1))}else return c=gb(E,f+2,_).times(a+""),b=lf(new E(r+"."+n.slice(1)),f-y).plus(c),E.precision=_,e==null?(Ot=!0,gt(b,_)):b;for(l=s=b=ta(b.minus(or),b.plus(or),f),h=gt(b.times(b),f),i=3;;){if(s=gt(s.times(h),f),c=l.plus(ta(s,new E(i),f)),di(c.d).slice(0,f)===di(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(gb(E,f+2,_).times(a+""))),l=ta(l,new E(m),f),E.precision=_,e==null?(Ot=!0,gt(l,_)):l;l=c,i+=2}}function gN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=yl(n/Et),t.d=[],r=(n+1)%Et,n<0&&(r+=Et),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Et;r<i;)t.d.push(+e.slice(r,r+=Et));e=e.slice(r),r=Et-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ot&&(t.e>Rp||t.e<-Rp))throw Error(TT+n)}else t.s=0,t.e=0,t.d=[0];return t}function gt(t,e,n){var r,i,a,s,l,c,f,h,m=t.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Et,i=e,f=m[h=0];else{if(h=Math.ceil((r+1)/Et),a=m.length,h>=a)return t;for(f=a=m[h],s=1;a>=10;a/=10)s++;r%=Et,i=r-Et+s}if(n!==void 0&&(a=Wo(10,s-i-1),l=f/a%10|0,c=e<0||m[h+1]!==void 0||f%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?f/Wo(10,s-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(a=Gt(t),m.length=1,e=e-a-1,m[0]=Wo(10,(Et-e%Et)%Et),t.e=yl(-e/Et)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=Wo(10,Et-r),m[h]=i>0?(f/Wo(10,s-i)%Wo(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==cn&&(m[0]=1,++t.e);break}else{if(m[h]+=a,m[h]!=cn)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(Ot&&(t.e>Rp||t.e<-Rp))throw Error(TT+Gt(t));return t}function AL(t,e){var n,r,i,a,s,l,c,f,h,m,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Ot?gt(e,b):e;if(c=t.d,m=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,l=m.length):(n=m,r=f,l=c.length),i=Math.max(Math.ceil(b/Et),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=m.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}s=0}for(h&&(n=c,c=m,m=n,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=cn-1;--c[a],c[i]+=cn}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Ot?gt(e,b):e):new y(0)}function hs(t,e,n){var r,i=Gt(t),a=di(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+qa(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+qa(-i-1)+a,n&&(r=n-s)>0&&(a+=qa(r))):i>=s?(a+=qa(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+qa(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=qa(r))),t.s<0?"-"+a:a}function yN(t,e){if(t.length>e)return t.length=e,!0}function IL(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(rs+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return gN(s,a.toString())}else if(typeof a!="string")throw Error(rs+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,gY.test(a))gN(s,a);else throw Error(rs+a)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=IL,i.config=i.set=yY,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function yY(t){if(!t||typeof t!="object")throw Error(Tr+"Object expected");var e,n,r,i=["precision",1,gl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(yl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(rs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(rs+n+": "+r);return this}var ET=IL(mY);or=new ET(1);const dt=ET;function vY(t){return wY(t)||_Y(t)||bY(t)||xY()}function xY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bY(t,e){if(t){if(typeof t=="string")return K_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K_(t,e)}}function _Y(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function wY(t){if(Array.isArray(t))return K_(t)}function K_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var TY=function(e){return e},PL={},OL=function(e){return e===PL},vN=function(e){return function n(){return arguments.length===0||arguments.length===1&&OL(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},EY=function t(e,n){return e===1?n:vN(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==PL}).length;return s>=e?n.apply(void 0,i):t(e-s,vN(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var h=i.map(function(m){return OL(m)?c.shift():m});return n.apply(void 0,vY(h).concat(c))}))})},Wm=function(e){return EY(e.length,e)},Y_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},SY=Wm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),AY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return TY;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},X_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},CL=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function IY(t){var e;return t===0?e=1:e=Math.floor(new dt(t).abs().log(10).toNumber())+1,e}function PY(t,e,n){for(var r=new dt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var OY=Wm(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),CY=Wm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),kY=Wm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Hm={rangeStep:PY,getDigitCount:IY,interpolateNumber:OY,uninterpolateNumber:CY,uninterpolateTruncation:kY};function Q_(t){return RY(t)||jY(t)||kL(t)||NY()}function NY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function RY(t){if(Array.isArray(t))return J_(t)}function cf(t,e){return LY(t)||MY(t,e)||kL(t,e)||DY()}function DY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kL(t,e){if(t){if(typeof t=="string")return J_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J_(t,e)}}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MY(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function LY(t){if(Array.isArray(t))return t}function NL(t){var e=cf(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function jL(t,e,n){if(t.lte(0))return new dt(0);var r=Hm.getDigitCount(t.toNumber()),i=new dt(10).pow(r),a=t.div(i),s=r!==1?.05:.1,l=new dt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return e?c:new dt(Math.ceil(c))}function $Y(t,e,n){var r=1,i=new dt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new dt(10).pow(Hm.getDigitCount(t)-1),i=new dt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new dt(Math.floor(t)))}else t===0?i=new dt(Math.floor((e-1)/2)):n||(i=new dt(Math.floor(t)));var s=Math.floor((e-1)/2),l=AY(SY(function(c){return i.add(new dt(c-s).mul(r)).toNumber()}),Y_);return l(0,e)}function RL(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new dt(0),tickMin:new dt(0),tickMax:new dt(0)};var a=jL(new dt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new dt(0):(s=new dt(t).add(e).div(2),s=s.sub(new dt(s).mod(a)));var l=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new dt(e).sub(s).div(a).toNumber()),f=l+c+1;return f>n?RL(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,l=e>0?l:l+(n-f)),{step:a,tickMin:s.sub(new dt(l).mul(a)),tickMax:s.add(new dt(c).mul(a))})}function VY(t){var e=cf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=NL([n,r]),c=cf(l,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(Q_(Y_(0,i-1).map(function(){return 1/0}))):[].concat(Q_(Y_(0,i-1).map(function(){return-1/0})),[h]);return n>r?X_(m):m}if(f===h)return $Y(f,i,a);var y=RL(f,h,s,a),b=y.step,S=y.tickMin,E=y.tickMax,_=Hm.rangeStep(S,E.add(new dt(.1).mul(b)),b);return n>r?X_(_):_}function BY(t,e){var n=cf(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=NL([r,i]),l=cf(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var h=Math.max(e,2),m=jL(new dt(f).sub(c).div(h-1),a,0),y=[].concat(Q_(Hm.rangeStep(new dt(c),new dt(f).sub(new dt(.99).mul(m)),m)),[f]);return r>i?X_(y):y}var FY=CL(VY),UY=CL(BY),qY="Invariant failed";function ps(t,e){throw new Error(qY)}var zY=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function Dp(){return Dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dp.apply(this,arguments)}function WY(t,e){return YY(t)||KY(t,e)||GY(t,e)||HY()}function HY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GY(t,e){if(t){if(typeof t=="string")return xN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xN(t,e)}}function xN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function YY(t){if(Array.isArray(t))return t}function XY(t,e){if(t==null)return{};var n=QY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LL(r.key),r)}}function eX(t,e,n){return e&&ZY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tX(t,e,n){return e=Mp(e),nX(t,DL()?Reflect.construct(e,n||[],Mp(t).constructor):e.apply(t,n))}function nX(t,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rX(t)}function rX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DL=function(){return!!t})()}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mp(t)}function iX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z_(t,e)}function Z_(t,e){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z_(t,e)}function ML(t,e,n){return e=LL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LL(t){var e=aX(t,"string");return Hu(e)=="symbol"?e:e+""}function aX(t,e){if(Hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gm=(function(t){function e(){return JY(this,e),tX(this,e,arguments)}return iX(e,t),eX(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,l=r.dataKey,c=r.data,f=r.dataPointFormatter,h=r.xAxis,m=r.yAxis,y=XY(r,zY),b=at(y,!1);this.props.direction==="x"&&h.type!=="number"&&ps();var S=c.map(function(E){var _=f(E,l),k=_.x,R=_.y,D=_.value,C=_.errorVal;if(!C)return null;var I=[],N,A;if(Array.isArray(C)){var P=WY(C,2);N=P[0],A=P[1]}else N=A=C;if(a==="vertical"){var j=h.scale,B=R+i,$=B+s,V=B-s,L=j(D-N),Z=j(D+A);I.push({x1:Z,y1:$,x2:Z,y2:V}),I.push({x1:L,y1:B,x2:Z,y2:B}),I.push({x1:L,y1:$,x2:L,y2:V})}else if(a==="horizontal"){var ee=m.scale,oe=k+i,se=oe-s,Q=oe+s,ie=ee(D-N),re=ee(D+A);I.push({x1:se,y1:re,x2:Q,y2:re}),I.push({x1:oe,y1:ie,x2:oe,y2:re}),I.push({x1:se,y1:ie,x2:Q,y2:ie})}return K.createElement(fn,Dp({className:"recharts-errorBar",key:"bar-".concat(I.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},b),I.map(function(q){return K.createElement("line",Dp({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return K.createElement(fn,{className:"recharts-errorBars"},S)}}])})(K.Component);ML(Gm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ML(Gm,"displayName","ErrorBar");function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function bN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bN(Object(n),!0).forEach(function(r){oX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oX(t,e,n){return e=sX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sX(t){var e=uX(t,"string");return ff(e)=="symbol"?e:e+""}function uX(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $L=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=ar(n,Pu);if(!s)return null;var l=Pu.defaultProps,c=l!==void 0?Uo(Uo({},l),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(r||[]).reduce(function(h,m){var y=m.item,b=m.props,S=b.sectors||b.data||[];return h.concat(S.map(function(E){return{type:s.props.iconType||y.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):f=(r||[]).map(function(h){var m=h.item,y=m.type.defaultProps,b=y!==void 0?Uo(Uo({},y),m.props):{},S=b.dataKey,E=b.name,_=b.legendType,k=b.hide;return{inactive:k,dataKey:S,type:c.iconType||_||"square",color:ST(m),value:E||S,payload:b}}),Uo(Uo(Uo({},c),Pu.getWithHeight(s,i)),{},{payload:f,item:s})};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function _N(t){return dX(t)||fX(t)||cX(t)||lX()}function lX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cX(t,e){if(t){if(typeof t=="string")return ew(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ew(t,e)}}function fX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dX(t){if(Array.isArray(t))return ew(t)}function ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wN(Object(n),!0).forEach(function(r){Cu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cu(t,e,n){return e=hX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hX(t){var e=pX(t,"string");return df(e)=="symbol"?e:e+""}function pX(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ei(t,e,n){return st(t)||st(e)?n:nn(e)?wr(t,e,n):Ge(e)?e(t):n}function Lc(t,e,n,r){var i=dY(t,function(l){return Ei(l,e)});if(n==="number"){var a=i.filter(function(l){return xe(l)||parseFloat(l)});return a.length?[zm(a),qm(a)]:[1/0,-1/0]}var s=r?i.filter(function(l){return!st(l)}):i;return s.map(function(l){return nn(l)||l instanceof Date?l:""})}var mX=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,f=0;f<l;f++){var h=f>0?i[f-1].coordinate:i[l-1].coordinate,m=i[f].coordinate,y=f>=l-1?i[0].coordinate:i[f+1].coordinate,b=void 0;if(Fr(m-h)!==Fr(y-m)){var S=[];if(Fr(y-m)===Fr(c[1]-c[0])){b=y;var E=m+c[1]-c[0];S[0]=Math.min(E,(E+h)/2),S[1]=Math.max(E,(E+h)/2)}else{b=h;var _=y+c[1]-c[0];S[0]=Math.min(m,(_+m)/2),S[1]=Math.max(m,(_+m)/2)}var k=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(e>k[0]&&e<=k[1]||e>=S[0]&&e<=S[1]){s=i[f].index;break}}else{var R=Math.min(h,y),D=Math.max(h,y);if(e>(R+m)/2&&e<=(D+m)/2){s=i[f].index;break}}}else for(var C=0;C<l;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},ST=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Lt(Lt({},e.type.defaultProps),e.props):e.props,s=a.stroke,l=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},gX=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),c=0,f=l.length;c<f;c++)for(var h=a[l[c]].stackGroups,m=Object.keys(h),y=0,b=m.length;y<b;y++){var S=h[m[y]],E=S.items,_=S.cateAxisId,k=E.filter(function(A){return Zi(A.type).indexOf("Bar")>=0});if(k&&k.length){var R=k[0].type.defaultProps,D=R!==void 0?Lt(Lt({},R),k[0].props):k[0].props,C=D.barSize,I=D[_];s[I]||(s[I]=[]);var N=st(C)?n:C;s[I].push({item:k[0],stackList:k.slice(1),barSize:st(N)?void 0:ds(N,r,0)})}}return s},yX=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,l=e.maxBarSize,c=s.length;if(c<1)return null;var f=ds(n,i,0,!0),h,m=[];if(s[0].barSize===+s[0].barSize){var y=!1,b=i/c,S=s.reduce(function(C,I){return C+I.barSize||0},0);S+=(c-1)*f,S>=i&&(S-=(c-1)*f,f=0),S>=i&&b>0&&(y=!0,b*=.9,S=c*b);var E=(i-S)/2>>0,_={offset:E-f,size:0};h=s.reduce(function(C,I){var N={item:I.item,position:{offset:_.offset+_.size+f,size:y?b:I.barSize}},A=[].concat(_N(C),[N]);return _=A[A.length-1].position,I.stackList&&I.stackList.length&&I.stackList.forEach(function(P){A.push({item:P,position:_})}),A},m)}else{var k=ds(r,i,0,!0);i-2*k-(c-1)*f<=0&&(f=0);var R=(i-2*k-(c-1)*f)/c;R>1&&(R>>=0);var D=l===+l?Math.min(R,l):R;h=s.reduce(function(C,I,N){var A=[].concat(_N(C),[{item:I.item,position:{offset:k+(R+f)*N+(R-D)/2,size:D}}]);return I.stackList&&I.stackList.length&&I.stackList.forEach(function(P){A.push({item:P,position:A[A.length-1].position})}),A},m)}return h},vX=function(e,n,r,i){var a=r.children,s=r.width,l=r.margin,c=s-(l.left||0)-(l.right||0),f=$L({children:a,legendWidth:c});if(f){var h=i||{},m=h.width,y=h.height,b=f.align,S=f.verticalAlign,E=f.layout;if((E==="vertical"||E==="horizontal"&&S==="middle")&&b!=="center"&&xe(e[b]))return Lt(Lt({},e),{},Cu({},b,e[b]+(m||0)));if((E==="horizontal"||E==="vertical"&&b==="center")&&S!=="middle"&&xe(e[S]))return Lt(Lt({},e),{},Cu({},S,e[S]+(y||0)))}return e},xX=function(e,n,r){return st(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},VL=function(e,n,r,i,a){var s=n.props.children,l=zr(s,Gm).filter(function(f){return xX(i,a,f.props.direction)});if(l&&l.length){var c=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var m=Ei(h,r);if(st(m))return f;var y=Array.isArray(m)?[zm(m),qm(m)]:[m,m],b=c.reduce(function(S,E){var _=Ei(h,E,0),k=y[0]-Math.abs(Array.isArray(_)?_[0]:_),R=y[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(k,S[0]),Math.max(R,S[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},bX=function(e,n,r,i,a){var s=n.map(function(l){return VL(e,l,r,a,i)}).filter(function(l){return!st(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},BL=function(e,n,r,i,a){var s=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&VL(e,c,f,i)||Lc(e,f,r,a)});if(r==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,f){for(var h=0,m=f.length;h<m;h++)l[f[h]]||(l[f[h]]=!0,c.push(f[h]));return c},[])},FL=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},UL=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,s,l=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(s=!0),c.coordinate});return a||l.push(n),s||l.push(r),l},Ji=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Fr(l[0]-l[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var y=a?a.indexOf(m):m;return{coordinate:i(y)+f,value:m,offset:f}});return h.filter(function(m){return!qf(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,y){return{coordinate:i(m)+f,value:m,index:y,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,y){return{coordinate:i(m)+f,value:a?a[m]:m,index:y,offset:f}})},yb=new WeakMap,Sh=function(e,n){if(typeof n!="function")return e;yb.has(e)||yb.set(e,new WeakMap);var r=yb.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},_X=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:rf(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Cp(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Mc(),realScaleType:"point"}:a==="category"?{scale:rf(),realScaleType:"band"}:{scale:Cp(),realScaleType:"linear"};if(fs(i)){var c="scale".concat(Cm(i));return{scale:(sN[c]||Mc)(),realScaleType:sN[c]?c:"point"}}return Ge(i)?{scale:i}:{scale:Mc(),realScaleType:"point"}},TN=1e-4,wX=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-TN,s=Math.max(i[0],i[1])+TN,l=e(n[0]),c=e(n[r-1]);(l<a||l>s||c<a||c>s)&&e.domain([n[0],n[r-1]])}},TX=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},EX=function(e,n){if(!n||n.length!==2||!xe(n[0])||!xe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!xe(e[0])||e[0]<r)&&(a[0]=r),(!xe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},SX=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,l=0;l<n;++l){var c=qf(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1])}},AX=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var l=qf(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},IX={sign:SX,expand:lz,none:$u,silhouette:cz,wiggle:fz,positive:AX},PX=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),a=IX[r],s=uz().keys(i).value(function(l,c){return+Ei(l,c,0)}).order(C_).offset(a);return s(e)},OX=function(e,n,r,i,a,s){if(!e)return null;var l=s?n.reverse():n,c={},f=l.reduce(function(m,y){var b,S=(b=y.type)!==null&&b!==void 0&&b.defaultProps?Lt(Lt({},y.type.defaultProps),y.props):y.props,E=S.stackId,_=S.hide;if(_)return m;var k=S[r],R=m[k]||{hasStack:!1,stackGroups:{}};if(nn(E)){var D=R.stackGroups[E]||{numericAxisId:r,cateAxisId:i,items:[]};D.items.push(y),R.hasStack=!0,R.stackGroups[E]=D}else R.stackGroups[Om("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[y]};return Lt(Lt({},m),{},Cu({},k,R))},c),h={};return Object.keys(f).reduce(function(m,y){var b=f[y];if(b.hasStack){var S={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(E,_){var k=b.stackGroups[_];return Lt(Lt({},E),{},Cu({},_,{numericAxisId:r,cateAxisId:i,items:k.items,stackedData:PX(e,k.items,a)}))},S)}return Lt(Lt({},m),{},Cu({},y,b))},h)},CX=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=FY(f,a,l);return e.domain([zm(h),qm(h)]),{niceTicks:h}}if(a&&i==="number"){var m=e.domain(),y=UY(m,a,l);return{niceTicks:y}}return null},EN=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Ei(s,n.dataKey,n.domain[l]);return st(c)?null:n.scale(c)-a/2+i},kX=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},NX=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Lt(Lt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(nn(a)){var s=n[a];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},jX=function(e){return e.reduce(function(n,r){return[zm(r.concat([n[0]]).filter(xe)),qm(r.concat([n[1]]).filter(xe))]},[1/0,-1/0])},qL=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],l=s.stackedData,c=l.reduce(function(f,h){var m=jX(h.slice(n,r+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},SN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tw=function(e,n,r){if(Ge(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(xe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(SN.test(e[0])){var a=+SN.exec(e[0])[1];i[0]=n[0]-a}else Ge(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(xe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(AN.test(e[1])){var s=+AN.exec(e[1])[1];i[1]=n[1]+s}else Ge(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Lp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=Q1(n,function(m){return m.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var f=a[l],h=a[l-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},IN=function(e,n,r){return!e||!e.length||wT(e,wr(r,"type.defaultProps.domain"))?n:e},zL=function(e,n){var r=e.type.defaultProps?Lt(Lt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,l=r.formatter,c=r.tooltipType,f=r.chartType,h=r.hide;return Lt(Lt({},at(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:ST(e),value:Ei(n,i),type:c,payload:n,chartType:f,hide:h})};function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function PN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ON(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(n),!0).forEach(function(r){RX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RX(t,e,n){return e=DX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DX(t){var e=MX(t,"string");return hf(e)=="symbol"?e:e+""}function MX(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $p=Math.PI/180,LX=function(e){return e*180/Math.PI},bn=function(e,n,r,i){return{x:e+Math.cos(-$p*i)*r,y:n+Math.sin(-$p*i)*r}},$X=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},VX=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,l=$X({x:r,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(r-a)/l,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:l,angle:LX(f),angleInRadian:f}},BX=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},FX=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),l=Math.min(a,s);return e+l*360},CN=function(e,n){var r=e.x,i=e.y,a=VX({x:r,y:i},n),s=a.radius,l=a.angle,c=n.innerRadius,f=n.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=BX(n),m=h.startAngle,y=h.endAngle,b=l,S;if(m<=y){for(;b>y;)b-=360;for(;b<m;)b+=360;S=b>=m&&b<=y}else{for(;b>m;)b-=360;for(;b<y;)b+=360;S=b>=y&&b<=m}return S?ON(ON({},n),{},{radius:s,angle:FX(b,n)}):null};function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}var UX=["offset"];function qX(t){return GX(t)||HX(t)||WX(t)||zX()}function zX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WX(t,e){if(t){if(typeof t=="string")return nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nw(t,e)}}function HX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GX(t){if(Array.isArray(t))return nw(t)}function nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KX(t,e){if(t==null)return{};var n=YX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(n),!0).forEach(function(r){XX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XX(t,e,n){return e=QX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QX(t){var e=JX(t,"string");return pf(e)=="symbol"?e:e+""}function JX(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mf.apply(this,arguments)}var ZX=function(e){var n=e.value,r=e.formatter,i=st(e.children)?n:e.children;return Ge(r)?r(i):i},eQ=function(e,n){var r=Fr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},tQ=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,l=e.className,c=a,f=c.cx,h=c.cy,m=c.innerRadius,y=c.outerRadius,b=c.startAngle,S=c.endAngle,E=c.clockWise,_=(m+y)/2,k=eQ(b,S),R=k>=0?1:-1,D,C;i==="insideStart"?(D=b+R*s,C=E):i==="insideEnd"?(D=S-R*s,C=!E):i==="end"&&(D=S+R*s,C=E),C=k<=0?C:!C;var I=bn(f,h,_,D),N=bn(f,h,_,D+(C?1:-1)*359),A="M".concat(I.x,",").concat(I.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(C?0:1,`,
    `).concat(N.x,",").concat(N.y),P=st(e.id)?Om("recharts-radial-line-"):e.id;return K.createElement("text",mf({},r,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",l)}),K.createElement("defs",null,K.createElement("path",{id:P,d:A})),K.createElement("textPath",{xlinkHref:"#".concat(P)},n))},nQ=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,l=a.cy,c=a.innerRadius,f=a.outerRadius,h=a.startAngle,m=a.endAngle,y=(h+m)/2;if(i==="outside"){var b=bn(s,l,f+r,y),S=b.x,E=b.y;return{x:S,y:E,textAnchor:S>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var _=(c+f)/2,k=bn(s,l,_,y),R=k.x,D=k.y;return{x:R,y:D,textAnchor:"middle",verticalAnchor:"middle"}},rQ=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,l=s.x,c=s.y,f=s.width,h=s.height,m=h>=0?1:-1,y=m*i,b=m>0?"end":"start",S=m>0?"start":"end",E=f>=0?1:-1,_=E*i,k=E>0?"end":"start",R=E>0?"start":"end";if(a==="top"){var D={x:l+f/2,y:c-m*i,textAnchor:"middle",verticalAnchor:b};return Zt(Zt({},D),r?{height:Math.max(c-r.y,0),width:f}:{})}if(a==="bottom"){var C={x:l+f/2,y:c+h+y,textAnchor:"middle",verticalAnchor:S};return Zt(Zt({},C),r?{height:Math.max(r.y+r.height-(c+h),0),width:f}:{})}if(a==="left"){var I={x:l-_,y:c+h/2,textAnchor:k,verticalAnchor:"middle"};return Zt(Zt({},I),r?{width:Math.max(I.x-r.x,0),height:h}:{})}if(a==="right"){var N={x:l+f+_,y:c+h/2,textAnchor:R,verticalAnchor:"middle"};return Zt(Zt({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:h}:{})}var A=r?{width:f,height:h}:{};return a==="insideLeft"?Zt({x:l+_,y:c+h/2,textAnchor:R,verticalAnchor:"middle"},A):a==="insideRight"?Zt({x:l+f-_,y:c+h/2,textAnchor:k,verticalAnchor:"middle"},A):a==="insideTop"?Zt({x:l+f/2,y:c+y,textAnchor:"middle",verticalAnchor:S},A):a==="insideBottom"?Zt({x:l+f/2,y:c+h-y,textAnchor:"middle",verticalAnchor:b},A):a==="insideTopLeft"?Zt({x:l+_,y:c+y,textAnchor:R,verticalAnchor:S},A):a==="insideTopRight"?Zt({x:l+f-_,y:c+y,textAnchor:k,verticalAnchor:S},A):a==="insideBottomLeft"?Zt({x:l+_,y:c+h-y,textAnchor:R,verticalAnchor:b},A):a==="insideBottomRight"?Zt({x:l+f-_,y:c+h-y,textAnchor:k,verticalAnchor:b},A):hl(a)&&(xe(a.x)||Ko(a.x))&&(xe(a.y)||Ko(a.y))?Zt({x:l+ds(a.x,f),y:c+ds(a.y,h),textAnchor:"end",verticalAnchor:"end"},A):Zt({x:l+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},A)},iQ=function(e){return"cx"in e&&xe(e.cx)};function kn(t){var e=t.offset,n=e===void 0?5:e,r=KX(t,UX),i=Zt({offset:n},r),a=i.viewBox,s=i.position,l=i.value,c=i.children,f=i.content,h=i.className,m=h===void 0?"":h,y=i.textBreakAll;if(!a||st(l)&&st(c)&&!W.isValidElement(f)&&!Ge(f))return null;if(W.isValidElement(f))return W.cloneElement(f,i);var b;if(Ge(f)){if(b=W.createElement(f,i),W.isValidElement(b))return b}else b=ZX(i);var S=iQ(a),E=at(i,!0);if(S&&(s==="insideStart"||s==="insideEnd"||s==="end"))return tQ(i,b,E);var _=S?nQ(i):rQ(i);return K.createElement(wp,mf({className:ot("recharts-label",m)},E,_,{breakAll:y}),b)}kn.displayName="Label";var WL=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,m=e.x,y=e.y,b=e.top,S=e.left,E=e.width,_=e.height,k=e.clockWise,R=e.labelViewBox;if(R)return R;if(xe(E)&&xe(_)){if(xe(m)&&xe(y))return{x:m,y,width:E,height:_};if(xe(b)&&xe(S))return{x:b,y:S,width:E,height:_}}return xe(m)&&xe(y)?{x:m,y,width:0,height:0}:xe(n)&&xe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||l||0,clockWise:k}:e.viewBox?e.viewBox:{}},aQ=function(e,n){return e?e===!0?K.createElement(kn,{key:"label-implicit",viewBox:n}):nn(e)?K.createElement(kn,{key:"label-implicit",viewBox:n,value:e}):W.isValidElement(e)?e.type===kn?W.cloneElement(e,{key:"label-implicit",viewBox:n}):K.createElement(kn,{key:"label-implicit",content:e,viewBox:n}):Ge(e)?K.createElement(kn,{key:"label-implicit",content:e,viewBox:n}):hl(e)?K.createElement(kn,mf({viewBox:n},e,{key:"label-implicit"})):null:null},oQ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=WL(e),s=zr(i,kn).map(function(c,f){return W.cloneElement(c,{viewBox:n||a,key:"label-".concat(f)})});if(!r)return s;var l=aQ(e.label,n||a);return[l].concat(qX(s))};kn.parseViewBox=WL;kn.renderCallByParent=oQ;var vb,NN;function sQ(){if(NN)return vb;NN=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return vb=t,vb}var uQ=sQ();const lQ=ht(uQ);function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}var cQ=["valueAccessor"],fQ=["data","dataKey","clockWise","id","textBreakAll"];function dQ(t){return gQ(t)||mQ(t)||pQ(t)||hQ()}function hQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pQ(t,e){if(t){if(typeof t=="string")return rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rw(t,e)}}function mQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gQ(t){if(Array.isArray(t))return rw(t)}function rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vp(){return Vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vp.apply(this,arguments)}function jN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(n),!0).forEach(function(r){yQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yQ(t,e,n){return e=vQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vQ(t){var e=xQ(t,"string");return gf(e)=="symbol"?e:e+""}function xQ(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DN(t,e){if(t==null)return{};var n=bQ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _Q=function(e){return Array.isArray(e.value)?lQ(e.value):e.value};function is(t){var e=t.valueAccessor,n=e===void 0?_Q:e,r=DN(t,cQ),i=r.data,a=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,f=DN(r,fQ);return!i||!i.length?null:K.createElement(fn,{className:"recharts-label-list"},i.map(function(h,m){var y=st(a)?n(h,m):Ei(h&&h.payload,a),b=st(l)?{}:{id:"".concat(l,"-").concat(m)};return K.createElement(kn,Vp({},at(h,!0),f,b,{parentViewBox:h.parentViewBox,value:y,textBreakAll:c,viewBox:kn.parseViewBox(st(s)?h:RN(RN({},h),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}is.displayName="LabelList";function wQ(t,e){return t?t===!0?K.createElement(is,{key:"labelList-implicit",data:e}):K.isValidElement(t)||Ge(t)?K.createElement(is,{key:"labelList-implicit",data:e,content:t}):hl(t)?K.createElement(is,Vp({data:e},t,{key:"labelList-implicit"})):null:null}function TQ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=zr(r,is).map(function(s,l){return W.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var a=wQ(t.label,e);return[a].concat(dQ(i))}is.renderCallByParent=TQ;function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(this,arguments)}function MN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(n),!0).forEach(function(r){EQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EQ(t,e,n){return e=SQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SQ(t){var e=AQ(t,"string");return yf(e)=="symbol"?e:e+""}function AQ(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IQ=function(e,n){var r=Fr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Ah=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(l?1:-1)+i,m=Math.asin(c/h)/$p,y=f?a:a+s*m,b=bn(n,r,h,y),S=bn(n,r,i,y),E=f?a-s*m:a,_=bn(n,r,h*Math.cos(m*$p),E);return{center:b,circleTangency:S,lineTangency:_,theta:m}},HL=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,l=e.endAngle,c=IQ(s,l),f=s+c,h=bn(n,r,a,s),m=bn(n,r,a,f),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var b=bn(n,r,i,s),S=bn(n,r,i,f);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},PQ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,m=Fr(h-f),y=Ah({cx:n,cy:r,radius:a,angle:f,sign:m,cornerRadius:s,cornerIsExternal:c}),b=y.circleTangency,S=y.lineTangency,E=y.theta,_=Ah({cx:n,cy:r,radius:a,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:c}),k=_.circleTangency,R=_.lineTangency,D=_.theta,C=c?Math.abs(f-h):Math.abs(f-h)-E-D;if(C<0)return l?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):HL({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h});var I="M ".concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,`
  `);if(i>0){var N=Ah({cx:n,cy:r,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=N.circleTangency,P=N.lineTangency,j=N.theta,B=Ah({cx:n,cy:r,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),$=B.circleTangency,V=B.lineTangency,L=B.theta,Z=c?Math.abs(f-h):Math.abs(f-h)-j-L;if(Z<0&&s===0)return"".concat(I,"L").concat(n,",").concat(r,"Z");I+="L".concat(V.x,",").concat(V.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Z>180),",").concat(+(m>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else I+="L".concat(n,",").concat(r,"Z");return I},OQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GL=function(e){var n=LN(LN({},OQ),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,h=n.startAngle,m=n.endAngle,y=n.className;if(s<a||h===m)return null;var b=ot("recharts-sector",y),S=s-a,E=ds(l,S,0,!0),_;return E>0&&Math.abs(h-m)<360?_=PQ({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(E,S/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m}):_=HL({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:m}),K.createElement("path",iw({},at(n,!0),{className:b,d:_,role:"img"}))};function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(this,arguments)}function $N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$N(Object(n),!0).forEach(function(r){CQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CQ(t,e,n){return e=kQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kQ(t){var e=NQ(t,"string");return vf(e)=="symbol"?e:e+""}function NQ(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BN={curveBasisClosed:Q8,curveBasisOpen:J8,curveBasis:X8,curveBumpX:M8,curveBumpY:L8,curveLinearClosed:Z8,curveLinear:Nm,curveMonotoneX:ez,curveMonotoneY:tz,curveNatural:nz,curveStep:rz,curveStepAfter:az,curveStepBefore:iz},Ih=function(e){return e.x===+e.x&&e.y===+e.y},gc=function(e){return e.x},yc=function(e){return e.y},jQ=function(e,n){if(Ge(e))return e;var r="curve".concat(Cm(e));return(r==="curveMonotone"||r==="curveBump")&&n?BN["".concat(r).concat(n==="vertical"?"Y":"X")]:BN[r]||Nm},RQ=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=jQ(r,l),m=f?a.filter(function(E){return Ih(E)}):a,y;if(Array.isArray(s)){var b=f?s.filter(function(E){return Ih(E)}):s,S=m.map(function(E,_){return VN(VN({},E),{},{base:b[_]})});return l==="vertical"?y=vh().y(yc).x1(gc).x0(function(E){return E.base.x}):y=vh().x(gc).y1(yc).y0(function(E){return E.base.y}),y.defined(Ih).curve(h),y(S)}return l==="vertical"&&xe(s)?y=vh().y(yc).x1(gc).x0(s):xe(s)?y=vh().x(gc).y1(yc).y0(s):y=ZD().x(gc).y(yc),y.defined(Ih).curve(h),y(m)},FN=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?RQ(e):i;return W.createElement("path",aw({},at(e,!1),cp(e),{className:ot("recharts-curve",n),d:s,ref:a}))},xb={exports:{}},bb,UN;function DQ(){if(UN)return bb;UN=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return bb=t,bb}var _b,qN;function MQ(){if(qN)return _b;qN=1;var t=DQ();function e(){}function n(){}return n.resetWarningCache=e,_b=function(){function r(s,l,c,f,h,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},_b}var zN;function LQ(){return zN||(zN=1,xb.exports=MQ()()),xb.exports}var $Q=LQ();const lt=ht($Q),{getOwnPropertyNames:VQ,getOwnPropertySymbols:BQ}=Object,{hasOwnProperty:FQ}=Object.prototype;function wb(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Ph(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),l=a.get(r);if(s&&l)return s===r&&l===n;a.set(n,r),a.set(r,n);const c=t(n,r,i);return a.delete(n),a.delete(r),c}}function UQ(t){return t!=null?t[Symbol.toStringTag]:void 0}function WN(t){return VQ(t).concat(BQ(t))}const qQ=Object.hasOwn||((t,e)=>FQ.call(t,e));function Ts(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const zQ="__v",WQ="__o",HQ="_owner",{getOwnPropertyDescriptor:HN,keys:GN}=Object;function GQ(t,e){return t.byteLength===e.byteLength&&Bp(new Uint8Array(t),new Uint8Array(e))}function KQ(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function YQ(t,e){return t.byteLength===e.byteLength&&Bp(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function XQ(t,e){return Ts(t.getTime(),e.getTime())}function QQ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function JQ(t,e){return t===e}function KN(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,l,c=0;for(;(s=a.next())&&!s.done;){const f=e.entries();let h=!1,m=0;for(;(l=f.next())&&!l.done;){if(i[m]){m++;continue}const y=s.value,b=l.value;if(n.equals(y[0],b[0],c,m,t,e,n)&&n.equals(y[1],b[1],y[0],b[0],t,e,n)){h=i[m]=!0;break}m++}if(!h)return!1;c++}return!0}const ZQ=Ts;function eJ(t,e,n){const r=GN(t);let i=r.length;if(GN(e).length!==i)return!1;for(;i-- >0;)if(!KL(t,e,n,r[i]))return!1;return!0}function vc(t,e,n){const r=WN(t);let i=r.length;if(WN(e).length!==i)return!1;let a,s,l;for(;i-- >0;)if(a=r[i],!KL(t,e,n,a)||(s=HN(t,a),l=HN(e,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function tJ(t,e){return Ts(t.valueOf(),e.valueOf())}function nJ(t,e){return t.source===e.source&&t.flags===e.flags}function YN(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,l;for(;(s=a.next())&&!s.done;){const c=e.values();let f=!1,h=0;for(;(l=c.next())&&!l.done;){if(!i[h]&&n.equals(s.value,l.value,s.value,l.value,t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function Bp(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function rJ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function KL(t,e,n,r){return(r===HQ||r===WQ||r===zQ)&&(t.$$typeof||e.$$typeof)?!0:qQ(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const iJ="[object ArrayBuffer]",aJ="[object Arguments]",oJ="[object Boolean]",sJ="[object DataView]",uJ="[object Date]",lJ="[object Error]",cJ="[object Map]",fJ="[object Number]",dJ="[object Object]",hJ="[object RegExp]",pJ="[object Set]",mJ="[object String]",gJ={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},yJ="[object URL]",vJ=Object.prototype.toString;function xJ({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:m,areTypedArraysEqual:y,areUrlsEqual:b,unknownTagComparators:S}){return function(_,k,R){if(_===k)return!0;if(_==null||k==null)return!1;const D=typeof _;if(D!==typeof k)return!1;if(D!=="object")return D==="number"?l(_,k,R):D==="function"?a(_,k,R):!1;const C=_.constructor;if(C!==k.constructor)return!1;if(C===Object)return c(_,k,R);if(Array.isArray(_))return e(_,k,R);if(C===Date)return r(_,k,R);if(C===RegExp)return h(_,k,R);if(C===Map)return s(_,k,R);if(C===Set)return m(_,k,R);const I=vJ.call(_);if(I===uJ)return r(_,k,R);if(I===hJ)return h(_,k,R);if(I===cJ)return s(_,k,R);if(I===pJ)return m(_,k,R);if(I===dJ)return typeof _.then!="function"&&typeof k.then!="function"&&c(_,k,R);if(I===yJ)return b(_,k,R);if(I===lJ)return i(_,k,R);if(I===aJ)return c(_,k,R);if(gJ[I])return y(_,k,R);if(I===iJ)return t(_,k,R);if(I===sJ)return n(_,k,R);if(I===oJ||I===fJ||I===mJ)return f(_,k,R);if(S){let N=S[I];if(!N){const A=UQ(_);A&&(N=S[A])}if(N)return N(_,k,R)}return!1}}function bJ({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:GQ,areArraysEqual:n?vc:KQ,areDataViewsEqual:YQ,areDatesEqual:XQ,areErrorsEqual:QQ,areFunctionsEqual:JQ,areMapsEqual:n?wb(KN,vc):KN,areNumbersEqual:ZQ,areObjectsEqual:n?vc:eJ,arePrimitiveWrappersEqual:tJ,areRegExpsEqual:nJ,areSetsEqual:n?wb(YN,vc):YN,areTypedArraysEqual:n?wb(Bp,vc):Bp,areUrlsEqual:rJ,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Ph(r.areArraysEqual),a=Ph(r.areMapsEqual),s=Ph(r.areObjectsEqual),l=Ph(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return r}function _J(t){return function(e,n,r,i,a,s,l){return t(e,n,l)}}function wJ({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(l,c){const{cache:f=t?new WeakMap:void 0,meta:h}=n();return e(l,c,{cache:f,equals:r,meta:h,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(l,c){return e(l,c,a)}}const TJ=po();po({strict:!0});po({circular:!0});po({circular:!0,strict:!0});po({createInternalComparator:()=>Ts});po({strict:!0,createInternalComparator:()=>Ts});po({circular:!0,createInternalComparator:()=>Ts});po({circular:!0,createInternalComparator:()=>Ts,strict:!0});function po(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=bJ(t),s=xJ(a),l=n?n(s):_J(s);return wJ({circular:e,comparator:s,createState:r,equals:l,strict:i})}function EJ(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function XN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):EJ(i)};requestAnimationFrame(r)}function ow(t){"@babel/helpers - typeof";return ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ow(t)}function SJ(t){return OJ(t)||PJ(t)||IJ(t)||AJ()}function AJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IJ(t,e){if(t){if(typeof t=="string")return QN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QN(t,e)}}function QN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OJ(t){if(Array.isArray(t))return t}function CJ(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,l=SJ(s),c=l[0],f=l.slice(1);if(typeof c=="number"){XN(i.bind(null,f),c);return}i(c),XN(i.bind(null,f));return}ow(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(r){YL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YL(t,e,n){return e=kJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kJ(t){var e=NJ(t,"string");return xf(e)==="symbol"?e:String(e)}function NJ(t,e){if(xf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jJ=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},RJ=function(e){return e},DJ=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},$c=function(e,n){return Object.keys(n).reduce(function(r,i){return ZN(ZN({},r),{},YL({},i,e(i,n[i])))},{})},e2=function(e,n,r){return e.map(function(i){return"".concat(DJ(i)," ").concat(n,"ms ").concat(r)}).join(",")};function MJ(t,e){return VJ(t)||$J(t,e)||XL(t,e)||LJ()}function LJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $J(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function VJ(t){if(Array.isArray(t))return t}function BJ(t){return qJ(t)||UJ(t)||XL(t)||FJ()}function FJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XL(t,e){if(t){if(typeof t=="string")return sw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sw(t,e)}}function UJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qJ(t){if(Array.isArray(t))return sw(t)}function sw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Fp=1e-4,QL=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},JL=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},t2=function(e,n){return function(r){var i=QL(e,n);return JL(i,r)}},zJ=function(e,n){return function(r){var i=QL(e,n),a=[].concat(BJ(i.map(function(s,l){return s*l}).slice(1)),[0]);return JL(a,r)}},n2=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),h=MJ(f,4);i=h[0],a=h[1],s=h[2],l=h[3]}}}var m=t2(i,s),y=t2(a,l),b=zJ(i,s),S=function(k){return k>1?1:k<0?0:k},E=function(k){for(var R=k>1?1:k,D=R,C=0;C<8;++C){var I=m(D)-R,N=b(D);if(Math.abs(I-R)<Fp||N<Fp)return y(D);D=S(D-I/N)}return y(D)};return E.isStepper=!1,E},WJ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(h,m,y){var b=-(h-m)*r,S=y*a,E=y+(b-S)*l/1e3,_=y*l/1e3+h;return Math.abs(_-m)<Fp&&Math.abs(E)<Fp?[m,0]:[_,E]};return c.isStepper=!0,c.dt=l,c},HJ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return n2(i);case"spring":return WJ();default:if(i.split("(")[0]==="cubic-bezier")return n2(i)}return typeof i=="function"?i:null};function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function r2(t){return YJ(t)||KJ(t)||ZL(t)||GJ()}function GJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YJ(t){if(Array.isArray(t))return lw(t)}function i2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i2(Object(n),!0).forEach(function(r){uw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uw(t,e,n){return e=XJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XJ(t){var e=QJ(t,"string");return bf(e)==="symbol"?e:String(e)}function QJ(t,e){if(bf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JJ(t,e){return tZ(t)||eZ(t,e)||ZL(t,e)||ZJ()}function ZJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZL(t,e){if(t){if(typeof t=="string")return lw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lw(t,e)}}function lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function tZ(t){if(Array.isArray(t))return t}var Up=function(e,n,r){return e+(n-e)*r},cw=function(e){var n=e.from,r=e.to;return n!==r},nZ=function t(e,n,r){var i=$c(function(a,s){if(cw(s)){var l=e(s.from,s.to,s.velocity),c=JJ(l,2),f=c[0],h=c[1];return yn(yn({},s),{},{from:f,velocity:h})}return s},n);return r<1?$c(function(a,s){return cw(s)?yn(yn({},s),{},{velocity:Up(s.velocity,i[a].velocity,r),from:Up(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const rZ=(function(t,e,n,r,i){var a=jJ(t,e),s=a.reduce(function(_,k){return yn(yn({},_),{},uw({},k,[t[k],e[k]]))},{}),l=a.reduce(function(_,k){return yn(yn({},_),{},uw({},k,{from:t[k],velocity:0,to:e[k]}))},{}),c=-1,f,h,m=function(){return null},y=function(){return $c(function(k,R){return R.from},l)},b=function(){return!Object.values(l).filter(cw).length},S=function(k){f||(f=k);var R=k-f,D=R/n.dt;l=nZ(n,l,D),i(yn(yn(yn({},t),e),y())),f=k,b()||(c=requestAnimationFrame(m))},E=function(k){h||(h=k);var R=(k-h)/r,D=$c(function(I,N){return Up.apply(void 0,r2(N).concat([n(R)]))},s);if(i(yn(yn(yn({},t),e),D)),R<1)c=requestAnimationFrame(m);else{var C=$c(function(I,N){return Up.apply(void 0,r2(N).concat([n(1)]))},s);i(yn(yn(yn({},t),e),C))}};return m=n.isStepper?S:E,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}var iZ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function aZ(t,e){if(t==null)return{};var n=oZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Tb(t){return cZ(t)||lZ(t)||uZ(t)||sZ()}function sZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uZ(t,e){if(t){if(typeof t=="string")return fw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fw(t,e)}}function lZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cZ(t){if(Array.isArray(t))return fw(t)}function fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(n),!0).forEach(function(r){Pc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pc(t,e,n){return e=e4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e4(r.key),r)}}function hZ(t,e,n){return e&&dZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e4(t){var e=pZ(t,"string");return Gu(e)==="symbol"?e:String(e)}function pZ(t,e){if(Gu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dw(t,e)}function dw(t,e){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dw(t,e)}function gZ(t){var e=yZ();return function(){var r=qp(t),i;if(e){var a=qp(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return hw(this,i)}}function hw(t,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pw(t)}function pw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qp(t)}var uo=(function(t){mZ(n,t);var e=gZ(n);function n(r,i){var a;fZ(this,n),a=e.call(this,r,i);var s=a.props,l=s.isActive,c=s.attributeName,f=s.from,h=s.to,m=s.steps,y=s.children,b=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(pw(a)),a.changeStyle=a.changeStyle.bind(pw(a)),!l||b<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:h}),hw(a);if(m&&m.length)a.state={style:m[0].style};else if(f){if(typeof y=="function")return a.state={style:f},hw(a);a.state={style:c?Pc({},c,f):f}}else a.state={style:{}};return a}return hZ(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,f=a.shouldReAnimate,h=a.to,m=a.from,y=this.state.style;if(l){if(!s){var b={style:c?Pc({},c,h):h};this.state&&y&&(c&&y[c]!==h||!c&&y!==h)&&this.setState(b);return}if(!(TJ(i.to,h)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=S||f?m:i.to;if(this.state&&y){var _={style:c?Pc({},c,E):E};(c&&y[c]!==E||!c&&y!==E)&&this.setState(_)}this.runAnimation(Dr(Dr({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,f=i.easing,h=i.begin,m=i.onAnimationEnd,y=i.onAnimationStart,b=rZ(s,l,HJ(f),c,this.changeStyle),S=function(){a.stopJSAnimation=b()};this.manager.start([y,h,S,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,m=f.duration,y=m===void 0?0:m,b=function(E,_,k){if(k===0)return E;var R=_.duration,D=_.easing,C=D===void 0?"ease":D,I=_.style,N=_.properties,A=_.onAnimationEnd,P=k>0?s[k-1]:_,j=N||Object.keys(I);if(typeof C=="function"||C==="spring")return[].concat(Tb(E),[a.runJSAnimation.bind(a,{from:P.style,to:I,duration:R,easing:C}),R]);var B=e2(j,R,C),$=Dr(Dr(Dr({},P.style),I),{},{transition:B});return[].concat(Tb(E),[$,R,A]).filter(RJ)};return this.manager.start([c].concat(Tb(s.reduce(b,[h,Math.max(y,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=CJ());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,y=i.steps,b=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var E=l?Pc({},l,c):c,_=e2(Object.keys(E),s,f);S.start([h,a,Dr(Dr({},E),{},{transition:_}),s,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=aZ(i,iZ),f=W.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!l||f===0||s<=0)return a;var m=function(b){var S=b.props,E=S.style,_=E===void 0?{}:E,k=S.className,R=W.cloneElement(b,Dr(Dr({},c),{},{style:Dr(Dr({},_),h),className:k}));return R};return f===1?m(W.Children.only(a)):K.createElement("div",null,W.Children.map(a,function(y){return m(y)}))}}]),n})(W.PureComponent);uo.displayName="Animate";uo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};uo.propTypes={from:lt.oneOfType([lt.object,lt.string]),to:lt.oneOfType([lt.object,lt.string]),attributeName:lt.string,duration:lt.number,begin:lt.number,easing:lt.oneOfType([lt.string,lt.func]),steps:lt.arrayOf(lt.shape({duration:lt.number.isRequired,style:lt.object.isRequired,easing:lt.oneOfType([lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),lt.func]),properties:lt.arrayOf("string"),onAnimationEnd:lt.func})),children:lt.oneOfType([lt.node,lt.func]),isActive:lt.bool,canBegin:lt.bool,onAnimationEnd:lt.func,shouldReAnimate:lt.bool,onAnimationStart:lt.func,onAnimationReStart:lt.func};function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function zp(){return zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zp.apply(this,arguments)}function vZ(t,e){return wZ(t)||_Z(t,e)||bZ(t,e)||xZ()}function xZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bZ(t,e){if(t){if(typeof t=="string")return o2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o2(t,e)}}function o2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Z(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function wZ(t){if(Array.isArray(t))return t}function s2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s2(Object(n),!0).forEach(function(r){TZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TZ(t,e,n){return e=EZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EZ(t){var e=SZ(t,"string");return _f(e)=="symbol"?e:e+""}function SZ(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l2=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,h;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],y=0,b=4;y<b;y++)m[y]=a[y]>s?s:a[y];h="M".concat(e,",").concat(n+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+c*m[0],",").concat(n)),h+="L ".concat(e+r-c*m[1],",").concat(n),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+l*m[1])),h+="L ".concat(e+r,",").concat(n+i-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+r-c*m[2],",").concat(n+i)),h+="L ".concat(e+c*m[3],",").concat(n+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-l*m[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var S=Math.min(s,a);h="M ".concat(e,",").concat(n+l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+c*S,",").concat(n,`
            L `).concat(e+r-c*S,",").concat(n,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+r,",").concat(n+l*S,`
            L `).concat(e+r,",").concat(n+i-l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+r-c*S,",").concat(n+i,`
            L `).concat(e+c*S,",").concat(n+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e,",").concat(n+i-l*S," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},AZ=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var f=Math.min(a,a+l),h=Math.max(a,a+l),m=Math.min(s,s+c),y=Math.max(s,s+c);return r>=f&&r<=h&&i>=m&&i<=y}return!1},IZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AT=function(e){var n=u2(u2({},IZ),e),r=W.useRef(),i=W.useState(-1),a=vZ(i,2),s=a[0],l=a[1];W.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&l(C)}catch{}},[]);var c=n.x,f=n.y,h=n.width,m=n.height,y=n.radius,b=n.className,S=n.animationEasing,E=n.animationDuration,_=n.animationBegin,k=n.isAnimationActive,R=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||h===0||m===0)return null;var D=ot("recharts-rectangle",b);return R?K.createElement(uo,{canBegin:s>0,from:{width:h,height:m,x:c,y:f},to:{width:h,height:m,x:c,y:f},duration:E,animationEasing:S,isActive:R},function(C){var I=C.width,N=C.height,A=C.x,P=C.y;return K.createElement(uo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:E,isActive:k,easing:S},K.createElement("path",zp({},at(n,!0),{className:D,d:l2(A,P,I,N,y),ref:r})))}):K.createElement("path",zp({},at(n,!0),{className:D,d:l2(c,f,h,m,y)}))};function mw(){return mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mw.apply(this,arguments)}var t4=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=ot("recharts-dot",a);return n===+n&&r===+r&&i===+i?W.createElement("circle",mw({},at(e,!1),cp(e),{className:s,cx:n,cy:r,r:i})):null};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}var PZ=["x","y","top","left","width","height","className"];function gw(){return gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gw.apply(this,arguments)}function c2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(n),!0).forEach(function(r){CZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CZ(t,e,n){return e=kZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kZ(t){var e=NZ(t,"string");return wf(e)=="symbol"?e:e+""}function NZ(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jZ(t,e){if(t==null)return{};var n=RZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var DZ=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},MZ=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,m=h===void 0?0:h,y=e.height,b=y===void 0?0:y,S=e.className,E=jZ(e,PZ),_=OZ({x:r,y:a,top:l,left:f,width:m,height:b},E);return!xe(r)||!xe(a)||!xe(m)||!xe(b)||!xe(l)||!xe(f)?null:K.createElement("path",gw({},at(_,!0),{className:ot("recharts-cross",S),d:DZ(r,a,m,b,l,f)}))},Eb,f2;function LZ(){if(f2)return Eb;f2=1;var t=wM(),e=t(Object.getPrototypeOf,Object);return Eb=e,Eb}var Sb,d2;function $Z(){if(d2)return Sb;d2=1;var t=fa(),e=LZ(),n=da(),r="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,l=a.hasOwnProperty,c=s.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var m=e(h);if(m===null)return!0;var y=l.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==c}return Sb=f,Sb}var VZ=$Z();const BZ=ht(VZ);var Ab,h2;function FZ(){if(h2)return Ab;h2=1;var t=fa(),e=da(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return Ab=r,Ab}var UZ=FZ();const qZ=ht(UZ);function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wp.apply(this,arguments)}function zZ(t,e){return KZ(t)||GZ(t,e)||HZ(t,e)||WZ()}function WZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HZ(t,e){if(t){if(typeof t=="string")return p2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p2(t,e)}}function p2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function KZ(t){if(Array.isArray(t))return t}function m2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(n),!0).forEach(function(r){YZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YZ(t,e,n){return e=XZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XZ(t){var e=QZ(t,"string");return Tf(e)=="symbol"?e:e+""}function QZ(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y2=function(e,n,r,i,a){var s=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-s/2,",").concat(n+a),l+="L ".concat(e+r-s/2-i,",").concat(n+a),l+="L ".concat(e,",").concat(n," Z"),l},JZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZZ=function(e){var n=g2(g2({},JZ),e),r=W.useRef(),i=W.useState(-1),a=zZ(i,2),s=a[0],l=a[1];W.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var D=r.current.getTotalLength();D&&l(D)}catch{}},[]);var c=n.x,f=n.y,h=n.upperWidth,m=n.lowerWidth,y=n.height,b=n.className,S=n.animationEasing,E=n.animationDuration,_=n.animationBegin,k=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||y!==+y||h===0&&m===0||y===0)return null;var R=ot("recharts-trapezoid",b);return k?K.createElement(uo,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:f},to:{upperWidth:h,lowerWidth:m,height:y,x:c,y:f},duration:E,animationEasing:S,isActive:k},function(D){var C=D.upperWidth,I=D.lowerWidth,N=D.height,A=D.x,P=D.y;return K.createElement(uo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:E,easing:S},K.createElement("path",Wp({},at(n,!0),{className:R,d:y2(A,P,C,I,N),ref:r})))}):K.createElement("g",null,K.createElement("path",Wp({},at(n,!0),{className:R,d:y2(c,f,h,m,y)})))},eee=["option","shapeType","propTransformer","activeClassName","isActive"];function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function tee(t,e){if(t==null)return{};var n=nee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(n),!0).forEach(function(r){ree(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ree(t,e,n){return e=iee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iee(t){var e=aee(t,"string");return Ef(e)=="symbol"?e:e+""}function aee(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oee(t,e){return Hp(Hp({},e),t)}function see(t,e){return t==="symbols"}function x2(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return K.createElement(AT,n);case"trapezoid":return K.createElement(ZZ,n);case"sector":return K.createElement(GL,n);case"symbols":if(see(e))return K.createElement(q1,n);break;default:return null}}function uee(t){return W.isValidElement(t)?t.props:t}function lee(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?oee:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,l=t.isActive,c=tee(t,eee),f;if(W.isValidElement(e))f=W.cloneElement(e,Hp(Hp({},c),uee(e)));else if(Ge(e))f=e(c);else if(BZ(e)&&!qZ(e)){var h=i(e,c);f=K.createElement(x2,{shapeType:n,elementProps:h})}else{var m=c;f=K.createElement(x2,{shapeType:n,elementProps:m})}return l?K.createElement(fn,{className:s},f):f}function Km(t,e){return e!=null&&"trapezoids"in t.props}function Ym(t,e){return e!=null&&"sectors"in t.props}function Sf(t,e){return e!=null&&"points"in t.props}function cee(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function fee(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function dee(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function hee(t,e){var n;return Km(t,e)?n=cee:Ym(t,e)?n=fee:Sf(t,e)&&(n=dee),n}function pee(t,e){var n;return Km(t,e)?n="trapezoids":Ym(t,e)?n="sectors":Sf(t,e)&&(n="points"),n}function mee(t,e){if(Km(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Ym(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Sf(t,e)?e.payload:{}}function gee(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=pee(n,e),a=mee(n,e),s=r.filter(function(c,f){var h=wT(a,c),m=n.props[i].filter(function(S){var E=hee(n,e);return E(S,e)}),y=n.props[i].indexOf(m[m.length-1]),b=f===y;return h&&b}),l=r.indexOf(s[s.length-1]);return l}var Ib,b2;function yee(){if(b2)return Ib;b2=1;var t=Math.ceil,e=Math.max;function n(r,i,a,s){for(var l=-1,c=e(t((i-r)/(a||1)),0),f=Array(c);c--;)f[s?c:++l]=r,r+=a;return f}return Ib=n,Ib}var Pb,_2;function n4(){if(_2)return Pb;_2=1;var t=$M(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return Pb=r,Pb}var Ob,w2;function vee(){if(w2)return Ob;w2=1;var t=yee(),e=Mm(),n=n4();function r(i){return function(a,s,l){return l&&typeof l!="number"&&e(a,s,l)&&(s=l=void 0),a=n(a),s===void 0?(s=a,a=0):s=n(s),l=l===void 0?a<s?1:-1:n(l),t(a,s,l,i)}}return Ob=r,Ob}var Cb,T2;function xee(){if(T2)return Cb;T2=1;var t=vee(),e=t();return Cb=e,Cb}var bee=xee();const Gp=ht(bee);function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){r4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r4(t,e,n){return e=_ee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ee(t){var e=wee(t,"string");return Af(e)=="symbol"?e:e+""}function wee(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tee=["Webkit","Moz","O","ms"],Eee=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Tee.reduce(function(a,s){return S2(S2({},a),{},r4({},s+r,n))},{});return i[e]=n,i};function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function Kp(){return Kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kp.apply(this,arguments)}function A2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(n),!0).forEach(function(r){ir(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function See(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a4(r.key),r)}}function Aee(t,e,n){return e&&I2(t.prototype,e),n&&I2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iee(t,e,n){return e=Yp(e),Pee(t,i4()?Reflect.construct(e,n||[],Yp(t).constructor):e.apply(t,n))}function Pee(t,e){if(e&&(Ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oee(t)}function Oee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i4=function(){return!!t})()}function Yp(t){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yp(t)}function Cee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yw(t,e)}function yw(t,e){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yw(t,e)}function ir(t,e,n){return e=a4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a4(t){var e=kee(t,"string");return Ku(e)=="symbol"?e:e+""}function kee(t,e){if(Ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nee=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=Mc().domain(Gp(0,c)).range([a,a+s-l]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:h}},P2=function(e){return e.changedTouches&&!!e.changedTouches.length},Yu=(function(t){function e(n){var r;return See(this,e),r=Iee(this,e,[n]),ir(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ir(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ir(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),ir(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ir(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ir(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ir(r,"handleSlideDragStart",function(i){var a=P2(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Cee(e,t),Aee(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,l=this.props,c=l.gap,f=l.data,h=f.length-1,m=Math.min(i,a),y=Math.max(i,a),b=e.getIndexInRange(s,m),S=e.getIndexInRange(s,y);return{startIndex:b-b%c,endIndex:S===h?h:S-S%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=Ei(a[r],l,r);return Ge(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,f=c.x,h=c.width,m=c.travellerWidth,y=c.startIndex,b=c.endIndex,S=c.onChange,E=r.pageX-a;E>0?E=Math.min(E,f+h-m-l,f+h-m-s):E<0&&(E=Math.max(E,f-s,f-l));var _=this.getIndex({startX:s+E,endX:l+E});(_.startIndex!==y||_.endIndex!==b)&&S&&S(_),this.setState({startX:s+E,endX:l+E,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=P2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,f=this.state[s],h=this.props,m=h.x,y=h.width,b=h.travellerWidth,S=h.onChange,E=h.gap,_=h.data,k={startX:this.state.startX,endX:this.state.endX},R=r.pageX-a;R>0?R=Math.min(R,m+y-b-f):R<0&&(R=Math.max(R,m-f)),k[s]=f+R;var D=this.getIndex(k),C=D.startIndex,I=D.endIndex,N=function(){var P=_.length-1;return s==="startX"&&(l>c?C%E===0:I%E===0)||l<c&&I===P||s==="endX"&&(l>c?I%E===0:C%E===0)||l>c&&I===P};this.setState(ir(ir({},s,f+R),"brushMoveStartX",r.pageX),function(){S&&N()&&S(D)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],m=l.indexOf(h);if(m!==-1){var y=m+r;if(!(y===-1||y>=l.length)){var b=l[y];i==="startX"&&b>=f||i==="endX"&&b<=c||this.setState(ir({},i,b),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.fill,f=r.stroke;return K.createElement("rect",{stroke:f,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.data,f=r.children,h=r.padding,m=W.Children.only(f);return m?K.cloneElement(m,{x:i,y:a,width:s,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,l=this,c=this.props,f=c.y,h=c.travellerWidth,m=c.height,y=c.traveller,b=c.ariaLabel,S=c.data,E=c.startIndex,_=c.endIndex,k=Math.max(r,this.props.x),R=kb(kb({},at(this.props,!1)),{},{x:k,y:f,width:h,height:m}),D=b||"Min value: ".concat((a=S[E])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=S[_])===null||s===void 0?void 0:s.name);return K.createElement(fn,{tabIndex:0,role:"slider","aria-label":D,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(I){["ArrowLeft","ArrowRight"].includes(I.key)&&(I.preventDefault(),I.stopPropagation(),l.handleTravellerMoveKeyboard(I.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,R))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,f=a.travellerWidth,h=Math.min(r,i)+f,m=Math.max(Math.abs(i-r)-f,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:m,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,l=r.height,c=r.travellerWidth,f=r.stroke,h=this.state,m=h.startX,y=h.endX,b=5,S={pointerEvents:"none",fill:f};return K.createElement(fn,{className:"recharts-brush-texts"},K.createElement(wp,Kp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-b,y:s+l/2},S),this.getTextOfTick(i)),K.createElement(wp,Kp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+c+b,y:s+l/2},S),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,l=r.x,c=r.y,f=r.width,h=r.height,m=r.alwaysShowText,y=this.state,b=y.startX,S=y.endX,E=y.isTextActive,_=y.isSlideMoving,k=y.isTravellerMoving,R=y.isTravellerFocused;if(!i||!i.length||!xe(l)||!xe(c)||!xe(f)||!xe(h)||f<=0||h<=0)return null;var D=ot("recharts-brush",a),C=K.Children.count(s)===1,I=Eee("userSelect","none");return K.createElement(fn,{className:D,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:I},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(b,S),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(S,"endX"),(E||_||k||R||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,l=r.height,c=r.stroke,f=Math.floor(a+l/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),K.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return K.isValidElement(r)?a=K.cloneElement(r,i):Ge(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,l=r.x,c=r.travellerWidth,f=r.updateId,h=r.startIndex,m=r.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return kb({prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s},a&&a.length?Nee({data:a,width:s,x:l,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var y=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);r[c]>i?l=c:s=c}return i>=r[l]?l:s}}])})(W.PureComponent);ir(Yu,"displayName","Brush");ir(Yu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Nb,O2;function jee(){if(O2)return Nb;O2=1;var t=X1();function e(n,r){var i;return t(n,function(a,s,l){return i=r(a,s,l),!i}),!!i}return Nb=e,Nb}var jb,C2;function Ree(){if(C2)return jb;C2=1;var t=mM(),e=co(),n=jee(),r=Gn(),i=Mm();function a(s,l,c){var f=r(s)?t:n;return c&&i(s,l,c)&&(l=void 0),f(s,e(l,3))}return jb=a,jb}var Dee=Ree();const Mee=ht(Dee);var xi=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},Rb,k2;function Lee(){if(k2)return Rb;k2=1;var t=jM();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Rb=e,Rb}var Db,N2;function $ee(){if(N2)return Db;N2=1;var t=Lee(),e=kM(),n=co();function r(i,a){var s={};return a=n(a,3),e(i,function(l,c,f){t(s,c,a(l,c,f))}),s}return Db=r,Db}var Vee=$ee();const Bee=ht(Vee);var Mb,j2;function Fee(){if(j2)return Mb;j2=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return Mb=t,Mb}var Lb,R2;function Uee(){if(R2)return Lb;R2=1;var t=X1();function e(n,r){var i=!0;return t(n,function(a,s,l){return i=!!r(a,s,l),i}),i}return Lb=e,Lb}var $b,D2;function qee(){if(D2)return $b;D2=1;var t=Fee(),e=Uee(),n=co(),r=Gn(),i=Mm();function a(s,l,c){var f=r(s)?t:e;return c&&i(s,l,c)&&(l=void 0),f(s,n(l,3))}return $b=a,$b}var zee=qee();const o4=ht(zee);var Wee=["x","y"];function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vw.apply(this,arguments)}function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(r){Hee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hee(t,e,n){return e=Gee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gee(t){var e=Kee(t,"string");return If(e)=="symbol"?e:e+""}function Kee(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yee(t,e){if(t==null)return{};var n=Xee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qee(t,e){var n=t.x,r=t.y,i=Yee(t,Wee),a="".concat(n),s=parseInt(a,10),l="".concat(r),c=parseInt(l,10),f="".concat(e.height||i.height),h=parseInt(f,10),m="".concat(e.width||i.width),y=parseInt(m,10);return xc(xc(xc(xc(xc({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function L2(t){return K.createElement(lee,vw({shapeType:"rectangle",propTransformer:Qee,activeClassName:"recharts-active-bar"},t))}var Jee=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=xe(r)||i8(r);return a?e(r,i):(a||ps(),n)}},Zee=["value","background"],s4;function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function ete(t,e){if(t==null)return{};var n=tte(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xp(){return Xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xp.apply(this,arguments)}function $2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(n),!0).forEach(function(r){Ya(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l4(r.key),r)}}function rte(t,e,n){return e&&V2(t.prototype,e),n&&V2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ite(t,e,n){return e=Qp(e),ate(t,u4()?Reflect.construct(e,n||[],Qp(t).constructor):e.apply(t,n))}function ate(t,e){if(e&&(Xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ote(t)}function ote(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u4=function(){return!!t})()}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qp(t)}function ste(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xw(t,e)}function xw(t,e){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xw(t,e)}function Ya(t,e,n){return e=l4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l4(t){var e=ute(t,"string");return Xu(e)=="symbol"?e:e+""}function ute(t,e){if(Xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var na=(function(t){function e(){var n;nte(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ite(this,e,[].concat(i)),Ya(n,"state",{isAnimationFinished:!1}),Ya(n,"id",Om("recharts-bar-")),Ya(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Ya(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return ste(e,t),rte(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,f=a.activeBar,h=at(this.props,!1);return r&&r.map(function(m,y){var b=y===c,S=b?f:s,E=zt(zt(zt({},h),m),{},{isActive:b,option:S,index:y,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(fn,Xp({className:"recharts-bar-rectangle"},fp(i.props,m,y),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(y)}),K.createElement(L2,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,y=this.state.prevData;return K.createElement(uo,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var S=b.t,E=a.map(function(_,k){var R=y&&y[k];if(R){var D=lu(R.x,_.x),C=lu(R.y,_.y),I=lu(R.width,_.width),N=lu(R.height,_.height);return zt(zt({},_),{},{x:D(S),y:C(S),width:I(S),height:N(S)})}if(s==="horizontal"){var A=lu(0,_.height),P=A(S);return zt(zt({},_),{},{y:_.y+_.height-P,height:P})}var j=lu(0,_.width),B=j(S);return zt(zt({},_),{},{width:B})});return K.createElement(fn,null,r.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!wT(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=at(this.props.background,!1);return a.map(function(f,h){f.value;var m=f.background,y=ete(f,Zee);if(!m)return null;var b=zt(zt(zt(zt(zt({},y),{},{fill:"#eee"},m),c),fp(r.props,f,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return K.createElement(L2,Xp({key:"background-bar-".concat(h),option:r.props.background,isActive:h===l},b))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,f=a.layout,h=a.children,m=zr(h,Gm);if(!m)return null;var y=f==="vertical"?s[0].height/2:s[0].width/2,b=function(_,k){var R=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:R,errorVal:Ei(_,k)}},S={clipPath:r?"url(#clipPath-".concat(i,")"):null};return K.createElement(fn,S,m.map(function(E){return K.cloneElement(E,{key:"error-bar-".concat(i,"-").concat(E.props.dataKey),data:s,xAxis:l,yAxis:c,layout:f,offset:y,dataPointFormatter:b})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,l=r.xAxis,c=r.yAxis,f=r.left,h=r.top,m=r.width,y=r.height,b=r.isAnimationActive,S=r.background,E=r.id;if(i||!a||!a.length)return null;var _=this.state.isAnimationFinished,k=ot("recharts-bar",s),R=l&&l.allowDataOverflow,D=c&&c.allowDataOverflow,C=R||D,I=st(E)?this.id:E;return K.createElement(fn,{className:k},R||D?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(I)},K.createElement("rect",{x:R?f:f-m/2,y:D?h:h-y/2,width:R?m:m*2,height:D?y:y*2}))):null,K.createElement(fn,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(I,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,I),(!b||_)&&is.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(W.PureComponent);s4=na;Ya(na,"displayName","Bar");Ya(na,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Wf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ya(na,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,m=t.displayedData,y=t.offset,b=TX(r,n);if(!b)return null;var S=e.layout,E=n.type.defaultProps,_=E!==void 0?zt(zt({},E),n.props):n.props,k=_.dataKey,R=_.children,D=_.minPointSize,C=S==="horizontal"?s:a,I=f?C.scale.domain():null,N=kX({numericAxis:C}),A=zr(R,Z1),P=m.map(function(j,B){var $,V,L,Z,ee,oe;f?$=EX(f[h+B],I):($=Ei(j,k),Array.isArray($)||($=[N,$]));var se=Jee(D,s4.defaultProps.minPointSize)($[1],B);if(S==="horizontal"){var Q,ie=[s.scale($[0]),s.scale($[1])],re=ie[0],q=ie[1];V=EN({axis:a,ticks:l,bandSize:i,offset:b.offset,entry:j,index:B}),L=(Q=q??re)!==null&&Q!==void 0?Q:void 0,Z=b.size;var G=re-q;if(ee=Number.isNaN(G)?0:G,oe={x:V,y:s.y,width:Z,height:s.height},Math.abs(se)>0&&Math.abs(ee)<Math.abs(se)){var ge=Fr(ee||se)*(Math.abs(se)-Math.abs(ee));L-=ge,ee+=ge}}else{var _e=[a.scale($[0]),a.scale($[1])],Oe=_e[0],Re=_e[1];if(V=Oe,L=EN({axis:s,ticks:c,bandSize:i,offset:b.offset,entry:j,index:B}),Z=Re-Oe,ee=b.size,oe={x:a.x,y:L,width:a.width,height:ee},Math.abs(se)>0&&Math.abs(Z)<Math.abs(se)){var We=Fr(Z||se)*(Math.abs(se)-Math.abs(Z));Z+=We}}return zt(zt(zt({},j),{},{x:V,y:L,width:Z,height:ee,value:f?$:$[1],payload:j,background:oe},A&&A[B]&&A[B].props),{},{tooltipPayload:[zL(n,j)],tooltipPosition:{x:V+Z/2,y:L+ee/2}})});return zt({data:P,layout:S},y)});function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function lte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c4(r.key),r)}}function cte(t,e,n){return e&&B2(t.prototype,e),n&&B2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){Xm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xm(t,e,n){return e=c4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c4(t){var e=fte(t,"string");return Pf(e)=="symbol"?e:e+""}function fte(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dte=function(e,n,r,i,a){var s=e.width,l=e.height,c=e.layout,f=e.children,h=Object.keys(n),m={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},y=!!ar(f,na);return h.reduce(function(b,S){var E=n[S],_=E.orientation,k=E.domain,R=E.padding,D=R===void 0?{}:R,C=E.mirror,I=E.reversed,N="".concat(_).concat(C?"Mirror":""),A,P,j,B,$;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var V=k[1]-k[0],L=1/0,Z=E.categoricalDomain.sort(s8);if(Z.forEach(function(_e,Oe){Oe>0&&(L=Math.min((_e||0)-(Z[Oe-1]||0),L))}),Number.isFinite(L)){var ee=L/V,oe=E.layout==="vertical"?r.height:r.width;if(E.padding==="gap"&&(A=ee*oe/2),E.padding==="no-gap"){var se=ds(e.barCategoryGap,ee*oe),Q=ee*oe/2;A=Q-se-(Q-se)/oe*se}}}i==="xAxis"?P=[r.left+(D.left||0)+(A||0),r.left+r.width-(D.right||0)-(A||0)]:i==="yAxis"?P=c==="horizontal"?[r.top+r.height-(D.bottom||0),r.top+(D.top||0)]:[r.top+(D.top||0)+(A||0),r.top+r.height-(D.bottom||0)-(A||0)]:P=E.range,I&&(P=[P[1],P[0]]);var ie=_X(E,a,y),re=ie.scale,q=ie.realScaleType;re.domain(k).range(P),wX(re);var G=CX(re,Mr(Mr({},E),{},{realScaleType:q}));i==="xAxis"?($=_==="top"&&!C||_==="bottom"&&C,j=r.left,B=m[N]-$*E.height):i==="yAxis"&&($=_==="left"&&!C||_==="right"&&C,j=m[N]-$*E.width,B=r.top);var ge=Mr(Mr(Mr({},E),G),{},{realScaleType:q,x:j,y:B,scale:re,width:i==="xAxis"?r.width:E.width,height:i==="yAxis"?r.height:E.height});return ge.bandSize=Lp(ge,G),!E.hide&&i==="xAxis"?m[N]+=($?-1:1)*ge.height:E.hide||(m[N]+=($?-1:1)*ge.width),Mr(Mr({},b),{},Xm({},S,ge))},{})},f4=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},hte=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return f4({x:n,y:r},{x:i,y:a})},d4=(function(){function t(e){lte(this,t),this.scale=e}return cte(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();Xm(d4,"EPS",1e-4);var IT=function(e){var n=Object.keys(e).reduce(function(r,i){return Mr(Mr({},r),{},Xm({},i,d4.create(e[i])))},{});return Mr(Mr({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return Bee(i,function(c,f){return n[f].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return o4(i,function(a,s){return n[s].isInRange(a)})}})};function pte(t){return(t%180+180)%180}var mte=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=pte(i),s=a*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},Vb,U2;function gte(){if(U2)return Vb;U2=1;var t=co(),e=zf(),n=Rm();function r(i){return function(a,s,l){var c=Object(a);if(!e(a)){var f=t(s,3);a=n(a),s=function(m){return f(c[m],m,c)}}var h=i(a,s,l);return h>-1?c[f?a[h]:h]:void 0}}return Vb=r,Vb}var Bb,q2;function yte(){if(q2)return Bb;q2=1;var t=n4();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return Bb=e,Bb}var Fb,z2;function vte(){if(z2)return Fb;z2=1;var t=AM(),e=co(),n=yte(),r=Math.max;function i(a,s,l){var c=a==null?0:a.length;if(!c)return-1;var f=l==null?0:n(l);return f<0&&(f=r(c+f,0)),t(a,e(s,3),f)}return Fb=i,Fb}var Ub,W2;function xte(){if(W2)return Ub;W2=1;var t=gte(),e=vte(),n=t(e);return Ub=n,Ub}var bte=xte();const _te=ht(bte);var wte=UD();const Tte=ht(wte);var Ete=Tte(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),PT=W.createContext(void 0),OT=W.createContext(void 0),h4=W.createContext(void 0),p4=W.createContext({}),m4=W.createContext(void 0),g4=W.createContext(0),y4=W.createContext(0),H2=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,l=e.children,c=e.width,f=e.height,h=Ete(a);return K.createElement(PT.Provider,{value:r},K.createElement(OT.Provider,{value:i},K.createElement(p4.Provider,{value:a},K.createElement(h4.Provider,{value:h},K.createElement(m4.Provider,{value:s},K.createElement(g4.Provider,{value:f},K.createElement(y4.Provider,{value:c},l)))))))},Ste=function(){return W.useContext(m4)},v4=function(e){var n=W.useContext(PT);n==null&&ps();var r=n[e];return r==null&&ps(),r},Ate=function(){var e=W.useContext(PT);return Ga(e)},Ite=function(){var e=W.useContext(OT),n=_te(e,function(r){return o4(r.domain,Number.isFinite)});return n||Ga(e)},x4=function(e){var n=W.useContext(OT);n==null&&ps();var r=n[e];return r==null&&ps(),r},Pte=function(){var e=W.useContext(h4);return e},Ote=function(){return W.useContext(p4)},CT=function(){return W.useContext(y4)},kT=function(){return W.useContext(g4)};function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function Cte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_4(r.key),r)}}function Nte(t,e,n){return e&&kte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jte(t,e,n){return e=Jp(e),Rte(t,b4()?Reflect.construct(e,n||[],Jp(t).constructor):e.apply(t,n))}function Rte(t,e){if(e&&(Qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dte(t)}function Dte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b4=function(){return!!t})()}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jp(t)}function Mte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bw(t,e)}function bw(t,e){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bw(t,e)}function G2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(n),!0).forEach(function(r){NT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NT(t,e,n){return e=_4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _4(t){var e=Lte(t,"string");return Qu(e)=="symbol"?e:e+""}function Lte(t,e){if(Qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $te(t,e){return Ute(t)||Fte(t,e)||Bte(t,e)||Vte()}function Vte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bte(t,e){if(t){if(typeof t=="string")return Y2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y2(t,e)}}function Y2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Ute(t){if(Array.isArray(t))return t}function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(this,arguments)}var qte=function(e,n){var r;return K.isValidElement(e)?r=K.cloneElement(e,n):Ge(e)?r=e(n):r=K.createElement("line",_w({},n,{className:"recharts-reference-line-line"})),r},zte=function(e,n,r,i,a,s,l,c,f){var h=a.x,m=a.y,y=a.width,b=a.height;if(r){var S=f.y,E=e.y.apply(S,{position:s});if(xi(f,"discard")&&!e.y.isInRange(E))return null;var _=[{x:h+y,y:E},{x:h,y:E}];return c==="left"?_.reverse():_}if(n){var k=f.x,R=e.x.apply(k,{position:s});if(xi(f,"discard")&&!e.x.isInRange(R))return null;var D=[{x:R,y:m+b},{x:R,y:m}];return l==="top"?D.reverse():D}if(i){var C=f.segment,I=C.map(function(N){return e.apply(N,{position:s})});return xi(f,"discard")&&Mee(I,function(N){return!e.isInRange(N)})?null:I}return null};function Wte(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,f=Ste(),h=v4(i),m=x4(a),y=Pte();if(!f||!y)return null;ea(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=IT({x:h.scale,y:m.scale}),S=nn(e),E=nn(n),_=r&&r.length===2,k=zte(b,S,E,_,y,t.position,h.orientation,m.orientation,t);if(!k)return null;var R=$te(k,2),D=R[0],C=D.x,I=D.y,N=R[1],A=N.x,P=N.y,j=xi(t,"hidden")?"url(#".concat(f,")"):void 0,B=K2(K2({clipPath:j},at(t,!0)),{},{x1:C,y1:I,x2:A,y2:P});return K.createElement(fn,{className:ot("recharts-reference-line",l)},qte(s,B),kn.renderCallByParent(t,hte({x1:C,y1:I,x2:A,y2:P})))}var jT=(function(t){function e(){return Cte(this,e),jte(this,e,arguments)}return Mte(e,t),Nte(e,[{key:"render",value:function(){return K.createElement(Wte,this.props)}}])})(K.Component);NT(jT,"displayName","ReferenceLine");NT(jT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(this,arguments)}function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function X2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(n),!0).forEach(function(r){Qm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T4(r.key),r)}}function Kte(t,e,n){return e&&Gte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yte(t,e,n){return e=Zp(e),Xte(t,w4()?Reflect.construct(e,n||[],Zp(t).constructor):e.apply(t,n))}function Xte(t,e){if(e&&(Ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qte(t)}function Qte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w4=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zp(t)}function Jte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tw(t,e)}function Tw(t,e){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tw(t,e)}function Qm(t,e,n){return e=T4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T4(t){var e=Zte(t,"string");return Ju(e)=="symbol"?e:e+""}function Zte(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ene=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=IT({x:i.scale,y:a.scale}),l=s.apply({x:n,y:r},{bandAware:!0});return xi(e,"discard")&&!s.isInRange(l)?null:l},Jm=(function(t){function e(){return Hte(this,e),Yte(this,e,arguments)}return Jte(e,t),Kte(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,l=r.alwaysShow,c=r.clipPathId,f=nn(i),h=nn(a);if(ea(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var m=ene(this.props);if(!m)return null;var y=m.x,b=m.y,S=this.props,E=S.shape,_=S.className,k=xi(this.props,"hidden")?"url(#".concat(c,")"):void 0,R=Q2(Q2({clipPath:k},at(this.props,!0)),{},{cx:y,cy:b});return K.createElement(fn,{className:ot("recharts-reference-dot",_)},e.renderDot(E,R),kn.renderCallByParent(this.props,{x:y-s,y:b-s,width:2*s,height:2*s}))}}])})(K.Component);Qm(Jm,"displayName","ReferenceDot");Qm(Jm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Qm(Jm,"renderDot",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):Ge(t)?n=t(e):n=K.createElement(t4,ww({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ew.apply(this,arguments)}function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function J2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J2(Object(n),!0).forEach(function(r){Zm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S4(r.key),r)}}function rne(t,e,n){return e&&nne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ine(t,e,n){return e=em(e),ane(t,E4()?Reflect.construct(e,n||[],em(t).constructor):e.apply(t,n))}function ane(t,e){if(e&&(Zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return one(t)}function one(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E4=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},em(t)}function sne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sw(t,e)}function Sw(t,e){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sw(t,e)}function Zm(t,e,n){return e=S4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S4(t){var e=une(t,"string");return Zu(e)=="symbol"?e:e+""}function une(t,e){if(Zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lne=function(e,n,r,i,a){var s=a.x1,l=a.x2,c=a.y1,f=a.y2,h=a.xAxis,m=a.yAxis;if(!h||!m)return null;var y=IT({x:h.scale,y:m.scale}),b={x:e?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(c,{position:"start"}):y.y.rangeMin},S={x:n?y.x.apply(l,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(f,{position:"end"}):y.y.rangeMax};return xi(a,"discard")&&(!y.isInRange(b)||!y.isInRange(S))?null:f4(b,S)},eg=(function(t){function e(){return tne(this,e),ine(this,e,arguments)}return sne(e,t),rne(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,l=r.y2,c=r.className,f=r.alwaysShow,h=r.clipPathId;ea(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=nn(i),y=nn(a),b=nn(s),S=nn(l),E=this.props.shape;if(!m&&!y&&!b&&!S&&!E)return null;var _=lne(m,y,b,S,this.props);if(!_&&!E)return null;var k=xi(this.props,"hidden")?"url(#".concat(h,")"):void 0;return K.createElement(fn,{className:ot("recharts-reference-area",c)},e.renderRect(E,Z2(Z2({clipPath:k},at(this.props,!0)),_)),kn.renderCallByParent(this.props,_))}}])})(K.Component);Zm(eg,"displayName","ReferenceArea");Zm(eg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Zm(eg,"renderRect",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):Ge(t)?n=t(e):n=K.createElement(AT,Ew({},e,{className:"recharts-reference-area-rect"})),n});function A4(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function cne(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return mte(r,n)}function fne(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,l=t.height;return e===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function tm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function dne(t,e){return A4(t,e+1)}function hne(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,l=e.end,c=0,f=1,h=s,m=function(){var S=r==null?void 0:r[c];if(S===void 0)return{v:A4(r,f)};var E=c,_,k=function(){return _===void 0&&(_=n(S,E)),_},R=S.coordinate,D=c===0||tm(t,R,k,h,l);D||(c=0,h=s,f+=1),D&&(h=R+t*(k()/2+i),c+=f)},y;f<=a.length;)if(y=m(),y)return y.v;return[]}function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ej(Object(n),!0).forEach(function(r){pne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pne(t,e,n){return e=mne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mne(t){var e=gne(t,"string");return Of(e)=="symbol"?e:e+""}function gne(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yne(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end,f=function(y){var b=a[y],S,E=function(){return S===void 0&&(S=n(b,y)),S};if(y===s-1){var _=t*(b.coordinate+t*E()/2-c);a[y]=b=Pn(Pn({},b),{},{tickCoord:_>0?b.coordinate-_*t:b.coordinate})}else a[y]=b=Pn(Pn({},b),{},{tickCoord:b.coordinate});var k=tm(t,b.tickCoord,E,l,c);k&&(c=b.tickCoord-t*(E()/2+i),a[y]=Pn(Pn({},b),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return a}function vne(t,e,n,r,i,a){var s=(r||[]).slice(),l=s.length,c=e.start,f=e.end;if(a){var h=r[l-1],m=n(h,l-1),y=t*(h.coordinate+t*m/2-f);s[l-1]=h=Pn(Pn({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var b=tm(t,h.tickCoord,function(){return m},c,f);b&&(f=h.tickCoord-t*(m/2+i),s[l-1]=Pn(Pn({},h),{},{isShow:!0}))}for(var S=a?l-1:l,E=function(R){var D=s[R],C,I=function(){return C===void 0&&(C=n(D,R)),C};if(R===0){var N=t*(D.coordinate-t*I()/2-c);s[R]=D=Pn(Pn({},D),{},{tickCoord:N<0?D.coordinate-N*t:D.coordinate})}else s[R]=D=Pn(Pn({},D),{},{tickCoord:D.coordinate});var A=tm(t,D.tickCoord,I,c,f);A&&(c=D.tickCoord+t*(I()/2+i),s[R]=Pn(Pn({},D),{},{isShow:!0}))},_=0;_<S;_++)E(_);return s}function RT(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(xe(c)||Wf.isSsr)return dne(i,typeof c=="number"&&xe(c)?c:0);var y=[],b=l==="top"||l==="bottom"?"width":"height",S=h&&b==="width"?Dc(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=function(D,C){var I=Ge(f)?f(D.value,C):D.value;return b==="width"?cne(Dc(I,{fontSize:e,letterSpacing:n}),S,m):Dc(I,{fontSize:e,letterSpacing:n})[b]},_=i.length>=2?Fr(i[1].coordinate-i[0].coordinate):1,k=fne(a,_,b);return c==="equidistantPreserveStart"?hne(_,k,E,i,s):(c==="preserveStart"||c==="preserveStartEnd"?y=vne(_,k,E,i,s,c==="preserveStartEnd"):y=yne(_,k,E,i,s),y.filter(function(R){return R.isShow}))}var xne=["viewBox"],bne=["viewBox"],_ne=["ticks"];function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function xu(){return xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xu.apply(this,arguments)}function tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tj(Object(n),!0).forEach(function(r){DT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qb(t,e){if(t==null)return{};var n=wne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P4(r.key),r)}}function Ene(t,e,n){return e&&nj(t.prototype,e),n&&nj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sne(t,e,n){return e=nm(e),Ane(t,I4()?Reflect.construct(e,n||[],nm(t).constructor):e.apply(t,n))}function Ane(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ine(t)}function Ine(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I4=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nm(t)}function Pne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Aw(t,e)}function Aw(t,e){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Aw(t,e)}function DT(t,e,n){return e=P4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P4(t){var e=One(t,"string");return el(e)=="symbol"?e:e+""}function One(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vl=(function(t){function e(n){var r;return Tne(this,e),r=Sne(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Pne(e,t),Ene(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=qb(r,xne),l=this.props,c=l.viewBox,f=qb(l,bne);return!Iu(a,c)||!Iu(s,f)||!Iu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,f=i.orientation,h=i.tickSize,m=i.mirror,y=i.tickMargin,b,S,E,_,k,R,D=m?-1:1,C=r.tickSize||h,I=xe(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":b=S=r.coordinate,_=s+ +!m*c,E=_-D*C,R=E-D*y,k=I;break;case"left":E=_=r.coordinate,S=a+ +!m*l,b=S-D*C,k=b-D*y,R=I;break;case"right":E=_=r.coordinate,S=a+ +m*l,b=S+D*C,k=b+D*y,R=I;break;default:b=S=r.coordinate,_=s+ +m*c,E=_+D*C,R=E+D*y,k=I;break}return{line:{x1:b,y1:E,x2:S,y2:_},tick:{x:k,y:R}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.orientation,f=r.mirror,h=r.axisLine,m=Jt(Jt(Jt({},at(this.props,!1)),at(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!f||c==="bottom"&&f);m=Jt(Jt({},m),{},{x1:i,y1:a+y*l,x2:i+s,y2:a+y*l})}else{var b=+(c==="left"&&!f||c==="right"&&f);m=Jt(Jt({},m),{},{x1:i+b*s,y1:a,x2:i+b*s,y2:a+l})}return K.createElement("line",xu({},m,{className:ot("recharts-cartesian-axis-line",wr(h,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,l=this.props,c=l.tickLine,f=l.stroke,h=l.tick,m=l.tickFormatter,y=l.unit,b=RT(Jt(Jt({},this.props),{},{ticks:r}),i,a),S=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),_=at(this.props,!1),k=at(h,!1),R=Jt(Jt({},_),{},{fill:"none"},at(c,!1)),D=b.map(function(C,I){var N=s.getTickLineCoord(C),A=N.line,P=N.tick,j=Jt(Jt(Jt(Jt({textAnchor:S,verticalAnchor:E},_),{},{stroke:"none",fill:f},k),P),{},{index:I,payload:C,visibleTicksCount:b.length,tickFormatter:m});return K.createElement(fn,xu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},fp(s.props,C,I)),c&&K.createElement("line",xu({},R,A,{className:ot("recharts-cartesian-axis-tick-line",wr(c,"className"))})),h&&e.renderTickItem(h,j,"".concat(Ge(m)?m(C.value,I):C.value).concat(y||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},D)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var m=this.props,y=m.ticks,b=qb(m,_ne),S=y;return Ge(c)&&(S=y&&y.length>0?c(this.props):c(b)),s<=0||l<=0||!S||!S.length?null:K.createElement(fn,{className:ot("recharts-cartesian-axis",f),ref:function(_){r.layerReference=_}},a&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),kn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,l=ot(i.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(r)?s=K.cloneElement(r,Jt(Jt({},i),{},{className:l})):Ge(r)?s=r(Jt(Jt({},i),{},{className:l})):s=K.createElement(wp,xu({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(W.Component);DT(vl,"displayName","CartesianAxis");DT(vl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Cne=["x1","y1","x2","y2","key"],kne=["offset"];function ms(t){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(t)}function rj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rj(Object(n),!0).forEach(function(r){Nne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nne(t,e,n){return e=jne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jne(t){var e=Rne(t,"string");return ms(e)=="symbol"?e:e+""}function Rne(t,e){if(ms(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qo(){return Qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qo.apply(this,arguments)}function ij(t,e){if(t==null)return{};var n=Dne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Mne=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,l=e.height,c=e.ry;return K.createElement("rect",{x:i,y:a,ry:c,width:s,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function O4(t,e){var n;if(K.isValidElement(t))n=K.cloneElement(t,e);else if(Ge(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,l=e.key,c=ij(e,Cne),f=at(c,!1);f.offset;var h=ij(f,kne);n=K.createElement("line",Qo({},h,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:l}))}return n}function Lne(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var f=Nn(Nn({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return O4(i,f)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function $ne(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var f=Nn(Nn({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return O4(i,f)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Vne(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=l.map(function(y){return Math.round(y+i-i)}).sort(function(y,b){return y-b});i!==h[0]&&h.unshift(0);var m=h.map(function(y,b){var S=!h[b+1],E=S?i+s-y:h[b+1]-y;if(E<=0)return null;var _=b%e.length;return K.createElement("rect",{key:"react-".concat(b),y,x:r,height:E,width:a,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Bne(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,l=t.width,c=t.height,f=t.verticalPoints;if(!n||!r||!r.length)return null;var h=f.map(function(y){return Math.round(y+a-a)}).sort(function(y,b){return y-b});a!==h[0]&&h.unshift(0);var m=h.map(function(y,b){var S=!h[b+1],E=S?a+l-y:h[b+1]-y;if(E<=0)return null;var _=b%r.length;return K.createElement("rect",{key:"react-".concat(b),x:y,y:s,width:E,height:c,stroke:"none",fill:r[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Fne=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return UL(RT(Nn(Nn(Nn({},vl.defaultProps),r),{},{ticks:Ji(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},Une=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return UL(RT(Nn(Nn(Nn({},vl.defaultProps),r),{},{ticks:Ji(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},du={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function C4(t){var e,n,r,i,a,s,l=CT(),c=kT(),f=Ote(),h=Nn(Nn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:du.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:du.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:du.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:du.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:du.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:du.verticalFill,x:xe(t.x)?t.x:f.left,y:xe(t.y)?t.y:f.top,width:xe(t.width)?t.width:f.width,height:xe(t.height)?t.height:f.height}),m=h.x,y=h.y,b=h.width,S=h.height,E=h.syncWithTicks,_=h.horizontalValues,k=h.verticalValues,R=Ate(),D=Ite();if(!xe(b)||b<=0||!xe(S)||S<=0||!xe(m)||m!==+m||!xe(y)||y!==+y)return null;var C=h.verticalCoordinatesGenerator||Fne,I=h.horizontalCoordinatesGenerator||Une,N=h.horizontalPoints,A=h.verticalPoints;if((!N||!N.length)&&Ge(I)){var P=_&&_.length,j=I({yAxis:D?Nn(Nn({},D),{},{ticks:P?_:D.ticks}):void 0,width:l,height:c,offset:f},P?!0:E);ea(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ms(j),"]")),Array.isArray(j)&&(N=j)}if((!A||!A.length)&&Ge(C)){var B=k&&k.length,$=C({xAxis:R?Nn(Nn({},R),{},{ticks:B?k:R.ticks}):void 0,width:l,height:c,offset:f},B?!0:E);ea(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ms($),"]")),Array.isArray($)&&(A=$)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(Mne,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),K.createElement(Lne,Qo({},h,{offset:f,horizontalPoints:N,xAxis:R,yAxis:D})),K.createElement($ne,Qo({},h,{offset:f,verticalPoints:A,xAxis:R,yAxis:D})),K.createElement(Vne,Qo({},h,{horizontalPoints:N})),K.createElement(Bne,Qo({},h,{verticalPoints:A})))}C4.displayName="CartesianGrid";function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function qne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j4(r.key),r)}}function Wne(t,e,n){return e&&zne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hne(t,e,n){return e=rm(e),Gne(t,k4()?Reflect.construct(e,n||[],rm(t).constructor):e.apply(t,n))}function Gne(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kne(t)}function Kne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k4=function(){return!!t})()}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rm(t)}function Yne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}function Iw(t,e){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Iw(t,e)}function N4(t,e,n){return e=j4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j4(t){var e=Xne(t,"string");return tl(e)=="symbol"?e:e+""}function Xne(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pw.apply(this,arguments)}function Qne(t){var e=t.xAxisId,n=CT(),r=kT(),i=v4(e);return i==null?null:W.createElement(vl,Pw({},i,{className:ot("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ji(s,!0)}}))}var tg=(function(t){function e(){return qne(this,e),Hne(this,e,arguments)}return Yne(e,t),Wne(e,[{key:"render",value:function(){return W.createElement(Qne,this.props)}}])})(W.Component);N4(tg,"displayName","XAxis");N4(tg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function Jne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M4(r.key),r)}}function ere(t,e,n){return e&&Zne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tre(t,e,n){return e=im(e),nre(t,R4()?Reflect.construct(e,n||[],im(t).constructor):e.apply(t,n))}function nre(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rre(t)}function rre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R4=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},im(t)}function ire(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ow(t,e)}function Ow(t,e){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ow(t,e)}function D4(t,e,n){return e=M4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M4(t){var e=are(t,"string");return nl(e)=="symbol"?e:e+""}function are(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cw.apply(this,arguments)}var ore=function(e){var n=e.yAxisId,r=CT(),i=kT(),a=x4(n);return a==null?null:W.createElement(vl,Cw({},a,{className:ot("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Ji(l,!0)}}))},ng=(function(t){function e(){return Jne(this,e),tre(this,e,arguments)}return ire(e,t),ere(e,[{key:"render",value:function(){return W.createElement(ore,this.props)}}])})(W.Component);D4(ng,"displayName","YAxis");D4(ng,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function aj(t){return cre(t)||lre(t)||ure(t)||sre()}function sre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ure(t,e){if(t){if(typeof t=="string")return kw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kw(t,e)}}function lre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cre(t){if(Array.isArray(t))return kw(t)}function kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Nw=function(e,n,r,i,a){var s=zr(e,jT),l=zr(e,Jm),c=[].concat(aj(s),aj(l)),f=zr(e,eg),h="".concat(i,"Id"),m=i[0],y=n;if(c.length&&(y=c.reduce(function(E,_){if(_.props[h]===r&&xi(_.props,"extendDomain")&&xe(_.props[m])){var k=_.props[m];return[Math.min(E[0],k),Math.max(E[1],k)]}return E},y)),f.length){var b="".concat(m,"1"),S="".concat(m,"2");y=f.reduce(function(E,_){if(_.props[h]===r&&xi(_.props,"extendDomain")&&xe(_.props[b])&&xe(_.props[S])){var k=_.props[b],R=_.props[S];return[Math.min(E[0],k,R),Math.max(E[1],k,R)]}return E},y)}return a&&a.length&&(y=a.reduce(function(E,_){return xe(_)?[Math.min(E[0],_),Math.max(E[1],_)]:E},y)),y},zb={exports:{}},oj;function fre(){return oj||(oj=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,m,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new i(h,m||c,y),S=n?n+f:f;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],b]:c._events[S].push(b):(c._events[S]=b,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,b=m.length,S=new Array(b);y<b;y++)S[y]=m[y].fn;return S},l.prototype.listenerCount=function(f){var h=n?n+f:f,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(f,h,m,y,b,S){var E=n?n+f:f;if(!this._events[E])return!1;var _=this._events[E],k=arguments.length,R,D;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),k){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,m),!0;case 4:return _.fn.call(_.context,h,m,y),!0;case 5:return _.fn.call(_.context,h,m,y,b),!0;case 6:return _.fn.call(_.context,h,m,y,b,S),!0}for(D=1,R=new Array(k-1);D<k;D++)R[D-1]=arguments[D];_.fn.apply(_.context,R)}else{var C=_.length,I;for(D=0;D<C;D++)switch(_[D].once&&this.removeListener(f,_[D].fn,void 0,!0),k){case 1:_[D].fn.call(_[D].context);break;case 2:_[D].fn.call(_[D].context,h);break;case 3:_[D].fn.call(_[D].context,h,m);break;case 4:_[D].fn.call(_[D].context,h,m,y);break;default:if(!R)for(I=1,R=new Array(k-1);I<k;I++)R[I-1]=arguments[I];_[D].fn.apply(_[D].context,R)}}return!0},l.prototype.on=function(f,h,m){return a(this,f,h,m,!1)},l.prototype.once=function(f,h,m){return a(this,f,h,m,!0)},l.prototype.removeListener=function(f,h,m,y){var b=n?n+f:f;if(!this._events[b])return this;if(!h)return s(this,b),this;var S=this._events[b];if(S.fn)S.fn===h&&(!y||S.once)&&(!m||S.context===m)&&s(this,b);else{for(var E=0,_=[],k=S.length;E<k;E++)(S[E].fn!==h||y&&!S[E].once||m&&S[E].context!==m)&&_.push(S[E]);_.length?this._events[b]=_.length===1?_[0]:_:s(this,b)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(zb)),zb.exports}var dre=fre();const hre=ht(dre);var Wb=new hre,Hb="recharts.syncMouseEvents";function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function pre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L4(r.key),r)}}function gre(t,e,n){return e&&mre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gb(t,e,n){return e=L4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L4(t){var e=yre(t,"string");return Cf(e)=="symbol"?e:e+""}function yre(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vre=(function(){function t(){pre(this,t),Gb(this,"activeIndex",0),Gb(this,"coordinateList",[]),Gb(this,"layout","horizontal")}return gre(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,l=s===void 0?null:s,c=n.layout,f=c===void 0?null:c,h=n.offset,m=h===void 0?null:h,y=n.mouseHandlerCallback,b=y===void 0?null:y;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=a+c+f,y=s+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])})();function xre(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&xe(r)&&xe(i))return!0}return!1}function bre(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function $4(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=bn(e,n,r,i),l=bn(e,n,r,a);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function _re(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,m=e.angle,y=bn(l,c,f,m),b=bn(l,c,h,m);r=y.x,i=y.y,a=b.x,s=b.y}else return $4(e);return[{x:r,y:i},{x:a,y:s}]}function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function sj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sj(Object(n),!0).forEach(function(r){wre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wre(t,e,n){return e=Tre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tre(t){var e=Ere(t,"string");return kf(e)=="symbol"?e:e+""}function Ere(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sre(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,y=t.chartName,b=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!b||!a||!s||y!=="ScatterChart"&&i!=="axis")return null;var S,E=FN;if(y==="ScatterChart")S=s,E=MZ;else if(y==="BarChart")S=bre(m,s,c,h),E=AT;else if(m==="radial"){var _=$4(s),k=_.cx,R=_.cy,D=_.radius,C=_.startAngle,I=_.endAngle;S={cx:k,cy:R,startAngle:C,endAngle:I,innerRadius:D,outerRadius:D},E=GL}else S={points:_re(m,s,c)},E=FN;var N=Oh(Oh(Oh(Oh({stroke:"#ccc",pointerEvents:"none"},c),S),at(b,!1)),{},{payload:l,payloadIndex:f,className:ot("recharts-tooltip-cursor",b.className)});return W.isValidElement(b)?W.cloneElement(b,N):W.createElement(E,N)}var Are=["item"],Ire=["children","className","width","height","style","compact","title","desc"];function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function bu(){return bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bu.apply(this,arguments)}function uj(t,e){return Cre(t)||Ore(t,e)||B4(t,e)||Pre()}function Pre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ore(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Cre(t){if(Array.isArray(t))return t}function lj(t,e){if(t==null)return{};var n=kre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F4(r.key),r)}}function Rre(t,e,n){return e&&jre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dre(t,e,n){return e=am(e),Mre(t,V4()?Reflect.construct(e,n||[],am(t).constructor):e.apply(t,n))}function Mre(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lre(t)}function Lre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V4=function(){return!!t})()}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},am(t)}function $re(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jw(t,e)}function jw(t,e){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jw(t,e)}function il(t){return Fre(t)||Bre(t)||B4(t)||Vre()}function Vre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B4(t,e){if(t){if(typeof t=="string")return Rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rw(t,e)}}function Bre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fre(t){if(Array.isArray(t))return Rw(t)}function Rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cj(Object(n),!0).forEach(function(r){De(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function De(t,e,n){return e=F4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F4(t){var e=Ure(t,"string");return rl(e)=="symbol"?e:e+""}function Ure(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qre={xAxis:["bottom","top"],yAxis:["left","right"]},zre={width:"100%",height:"100%"},U4={x:0,y:0};function Ch(t){return t}var Wre=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Hre=function(e,n,r,i){var a=n.find(function(h){return h&&h.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,l=i.radius;return ae(ae(ae({},i),bn(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,f=i.angle;return ae(ae(ae({},i),bn(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return U4},rg=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(l,c){var f=c.props.data;return f&&f.length?[].concat(il(l),il(f)):l},[]);return s.length>0?s:e&&e.length&&xe(i)&&xe(a)?e.slice(i,a+1):[]};function q4(t){return t==="number"?[0,"auto"]:void 0}var Dw=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,l=rg(n,e);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,f){var h,m=(h=f.props.data)!==null&&h!==void 0?h:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var b=m===void 0?l:m;y=__(b,s.dataKey,i)}else y=m&&m[r]||l[r];return y?[].concat(il(c),[zL(f,y)]):c},[])},fj=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=Wre(a,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=mX(s,l,f,c);if(h>=0&&f){var m=f[h]&&f[h].value,y=Dw(e,n,h,m),b=Hre(r,l,h,a);return{activeTooltipIndex:h,activeLabel:m,activePayload:y,activeCoordinate:b}}return null},Gre=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,m=e.children,y=e.stackOffset,b=FL(h,a);return r.reduce(function(S,E){var _,k=E.type.defaultProps!==void 0?ae(ae({},E.type.defaultProps),E.props):E.props,R=k.type,D=k.dataKey,C=k.allowDataOverflow,I=k.allowDuplicatedCategory,N=k.scale,A=k.ticks,P=k.includeHidden,j=k[s];if(S[j])return S;var B=rg(e.data,{graphicalItems:i.filter(function(G){var ge,_e=s in G.props?G.props[s]:(ge=G.type.defaultProps)===null||ge===void 0?void 0:ge[s];return _e===j}),dataStartIndex:c,dataEndIndex:f}),$=B.length,V,L,Z;xre(k.domain,C,R)&&(V=tw(k.domain,null,C),b&&(R==="number"||N!=="auto")&&(Z=Lc(B,D,"category")));var ee=q4(R);if(!V||V.length===0){var oe,se=(oe=k.domain)!==null&&oe!==void 0?oe:ee;if(D){if(V=Lc(B,D,R),R==="category"&&b){var Q=o8(V);I&&Q?(L=V,V=Gp(0,$)):I||(V=IN(se,V,E).reduce(function(G,ge){return G.indexOf(ge)>=0?G:[].concat(il(G),[ge])},[]))}else if(R==="category")I?V=V.filter(function(G){return G!==""&&!st(G)}):V=IN(se,V,E).reduce(function(G,ge){return G.indexOf(ge)>=0||ge===""||st(ge)?G:[].concat(il(G),[ge])},[]);else if(R==="number"){var ie=bX(B,i.filter(function(G){var ge,_e,Oe=s in G.props?G.props[s]:(ge=G.type.defaultProps)===null||ge===void 0?void 0:ge[s],Re="hide"in G.props?G.props.hide:(_e=G.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return Oe===j&&(P||!Re)}),D,a,h);ie&&(V=ie)}b&&(R==="number"||N!=="auto")&&(Z=Lc(B,D,"category"))}else b?V=Gp(0,$):l&&l[j]&&l[j].hasStack&&R==="number"?V=y==="expand"?[0,1]:qL(l[j].stackGroups,c,f):V=BL(B,i.filter(function(G){var ge=s in G.props?G.props[s]:G.type.defaultProps[s],_e="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ge===j&&(P||!_e)}),R,h,!0);if(R==="number")V=Nw(m,V,j,a,A),se&&(V=tw(se,V,C));else if(R==="category"&&se){var re=se,q=V.every(function(G){return re.indexOf(G)>=0});q&&(V=re)}}return ae(ae({},S),{},De({},j,ae(ae({},k),{},{axisType:a,domain:V,categoricalDomain:Z,duplicateDomain:L,originalDomain:(_=k.domain)!==null&&_!==void 0?_:ee,isCategorical:b,layout:h})))},{})},Kre=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,m=e.children,y=rg(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),b=y.length,S=FL(h,a),E=-1;return r.reduce(function(_,k){var R=k.type.defaultProps!==void 0?ae(ae({},k.type.defaultProps),k.props):k.props,D=R[s],C=q4("number");if(!_[D]){E++;var I;return S?I=Gp(0,b):l&&l[D]&&l[D].hasStack?(I=qL(l[D].stackGroups,c,f),I=Nw(m,I,D,a)):(I=tw(C,BL(y,r.filter(function(N){var A,P,j=s in N.props?N.props[s]:(A=N.type.defaultProps)===null||A===void 0?void 0:A[s],B="hide"in N.props?N.props.hide:(P=N.type.defaultProps)===null||P===void 0?void 0:P.hide;return j===D&&!B}),"number",h),i.defaultProps.allowDataOverflow),I=Nw(m,I,D,a)),ae(ae({},_),{},De({},D,ae(ae({axisType:a},i.defaultProps),{},{hide:!0,orientation:wr(qre,"".concat(a,".").concat(E%2),null),domain:I,originalDomain:C,isCategorical:S,layout:h})))}return _},{})},Yre=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.children,m="".concat(i,"Id"),y=zr(h,a),b={};return y&&y.length?b=Gre(e,{axes:y,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(b=Kre(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:f})),b},Xre=function(e){var n=Ga(e),r=Ji(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Q1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Lp(n,r)}},dj=function(e){var n=e.children,r=e.defaultShowTooltip,i=ar(n,Yu),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Qre=function(e){return!e||!e.length?!1:e.some(function(n){var r=Zi(n&&n.type);return r&&r.indexOf("Bar")>=0})},hj=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Jre=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,f=r.width,h=r.height,m=r.children,y=r.margin||{},b=ar(m,Yu),S=ar(m,Pu),E=Object.keys(c).reduce(function(I,N){var A=c[N],P=A.orientation;return!A.mirror&&!A.hide?ae(ae({},I),{},De({},P,I[P]+A.width)):I},{left:y.left||0,right:y.right||0}),_=Object.keys(s).reduce(function(I,N){var A=s[N],P=A.orientation;return!A.mirror&&!A.hide?ae(ae({},I),{},De({},P,wr(I,"".concat(P))+A.height)):I},{top:y.top||0,bottom:y.bottom||0}),k=ae(ae({},_),E),R=k.bottom;b&&(k.bottom+=b.props.height||Yu.defaultProps.height),S&&n&&(k=vX(k,i,r,n));var D=f-k.left-k.right,C=h-k.top-k.bottom;return ae(ae({brushBottom:R},k),{},{width:Math.max(D,0),height:Math.max(C,0)})},Zre=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},eie=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,y=function(k,R){var D=R.graphicalItems,C=R.stackGroups,I=R.offset,N=R.updateId,A=R.dataStartIndex,P=R.dataEndIndex,j=k.barSize,B=k.layout,$=k.barGap,V=k.barCategoryGap,L=k.maxBarSize,Z=hj(B),ee=Z.numericAxisName,oe=Z.cateAxisName,se=Qre(D),Q=[];return D.forEach(function(ie,re){var q=rg(k.data,{graphicalItems:[ie],dataStartIndex:A,dataEndIndex:P}),G=ie.type.defaultProps!==void 0?ae(ae({},ie.type.defaultProps),ie.props):ie.props,ge=G.dataKey,_e=G.maxBarSize,Oe=G["".concat(ee,"Id")],Re=G["".concat(oe,"Id")],We={},Le=c.reduce(function(Yt,Kn){var Ai=R["".concat(Kn.axisType,"Map")],mo=G["".concat(Kn.axisType,"Id")];Ai&&Ai[mo]||Kn.axisType==="zAxis"||ps();var Sr=Ai[mo];return ae(ae({},Yt),{},De(De({},Kn.axisType,Sr),"".concat(Kn.axisType,"Ticks"),Ji(Sr)))},We),he=Le[oe],Ce=Le["".concat(oe,"Ticks")],Be=C&&C[Oe]&&C[Oe].hasStack&&NX(ie,C[Oe].stackGroups),ce=Zi(ie.type).indexOf("Bar")>=0,rt=Lp(he,Ce),ze=[],It=se&&gX({barSize:j,stackGroups:C,totalSize:Zre(Le,oe)});if(ce){var yt,Rt,Ln=st(_e)?L:_e,pt=(yt=(Rt=Lp(he,Ce,!0))!==null&&Rt!==void 0?Rt:Ln)!==null&&yt!==void 0?yt:0;ze=yX({barGap:$,barCategoryGap:V,bandSize:pt!==rt?pt:rt,sizeList:It[Re],maxBarSize:Ln}),pt!==rt&&(ze=ze.map(function(Yt){return ae(ae({},Yt),{},{position:ae(ae({},Yt.position),{},{offset:Yt.position.offset-pt/2})})}))}var vt=ie&&ie.type&&ie.type.getComposedData;vt&&Q.push({props:ae(ae({},vt(ae(ae({},Le),{},{displayedData:q,props:k,dataKey:ge,item:ie,bandSize:rt,barPosition:ze,offset:I,stackedData:Be,layout:B,dataStartIndex:A,dataEndIndex:P}))),{},De(De(De({key:ie.key||"item-".concat(re)},ee,Le[ee]),oe,Le[oe]),"animationId",N)),childIndex:v8(ie,k.children),item:ie})}),Q},b=function(k,R){var D=k.props,C=k.dataStartIndex,I=k.dataEndIndex,N=k.updateId;if(!UP({props:D}))return null;var A=D.children,P=D.layout,j=D.stackOffset,B=D.data,$=D.reverseStackOrder,V=hj(P),L=V.numericAxisName,Z=V.cateAxisName,ee=zr(A,r),oe=OX(B,ee,"".concat(L,"Id"),"".concat(Z,"Id"),j,$),se=c.reduce(function(G,ge){var _e="".concat(ge.axisType,"Map");return ae(ae({},G),{},De({},_e,Yre(D,ae(ae({},ge),{},{graphicalItems:ee,stackGroups:ge.axisType===L&&oe,dataStartIndex:C,dataEndIndex:I}))))},{}),Q=Jre(ae(ae({},se),{},{props:D,graphicalItems:ee}),R==null?void 0:R.legendBBox);Object.keys(se).forEach(function(G){se[G]=h(D,se[G],Q,G.replace("Map",""),n)});var ie=se["".concat(Z,"Map")],re=Xre(ie),q=y(D,ae(ae({},se),{},{dataStartIndex:C,dataEndIndex:I,updateId:N,graphicalItems:ee,stackGroups:oe,offset:Q}));return ae(ae({formattedGraphicalItems:q,graphicalItems:ee,offset:Q,stackGroups:oe},re),se)},S=(function(_){function k(R){var D,C,I;return Nre(this,k),I=Dre(this,k,[R]),De(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),De(I,"accessibilityManager",new vre),De(I,"handleLegendBBoxUpdate",function(N){if(N){var A=I.state,P=A.dataStartIndex,j=A.dataEndIndex,B=A.updateId;I.setState(ae({legendBBox:N},b({props:I.props,dataStartIndex:P,dataEndIndex:j,updateId:B},ae(ae({},I.state),{},{legendBBox:N}))))}}),De(I,"handleReceiveSyncEvent",function(N,A,P){if(I.props.syncId===N){if(P===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(A)}}),De(I,"handleBrushChange",function(N){var A=N.startIndex,P=N.endIndex;if(A!==I.state.dataStartIndex||P!==I.state.dataEndIndex){var j=I.state.updateId;I.setState(function(){return ae({dataStartIndex:A,dataEndIndex:P},b({props:I.props,dataStartIndex:A,dataEndIndex:P,updateId:j},I.state))}),I.triggerSyncEvent({dataStartIndex:A,dataEndIndex:P})}}),De(I,"handleMouseEnter",function(N){var A=I.getMouseInfo(N);if(A){var P=ae(ae({},A),{},{isTooltipActive:!0});I.setState(P),I.triggerSyncEvent(P);var j=I.props.onMouseEnter;Ge(j)&&j(P,N)}}),De(I,"triggeredAfterMouseMove",function(N){var A=I.getMouseInfo(N),P=A?ae(ae({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(P),I.triggerSyncEvent(P);var j=I.props.onMouseMove;Ge(j)&&j(P,N)}),De(I,"handleItemMouseEnter",function(N){I.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),De(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),De(I,"handleMouseMove",function(N){N.persist(),I.throttleTriggeredAfterMouseMove(N)}),De(I,"handleMouseLeave",function(N){I.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};I.setState(A),I.triggerSyncEvent(A);var P=I.props.onMouseLeave;Ge(P)&&P(A,N)}),De(I,"handleOuterEvent",function(N){var A=y8(N),P=wr(I.props,"".concat(A));if(A&&Ge(P)){var j,B;/.*touch.*/i.test(A)?B=I.getMouseInfo(N.changedTouches[0]):B=I.getMouseInfo(N),P((j=B)!==null&&j!==void 0?j:{},N)}}),De(I,"handleClick",function(N){var A=I.getMouseInfo(N);if(A){var P=ae(ae({},A),{},{isTooltipActive:!0});I.setState(P),I.triggerSyncEvent(P);var j=I.props.onClick;Ge(j)&&j(P,N)}}),De(I,"handleMouseDown",function(N){var A=I.props.onMouseDown;if(Ge(A)){var P=I.getMouseInfo(N);A(P,N)}}),De(I,"handleMouseUp",function(N){var A=I.props.onMouseUp;if(Ge(A)){var P=I.getMouseInfo(N);A(P,N)}}),De(I,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),De(I,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&I.handleMouseDown(N.changedTouches[0])}),De(I,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&I.handleMouseUp(N.changedTouches[0])}),De(I,"handleDoubleClick",function(N){var A=I.props.onDoubleClick;if(Ge(A)){var P=I.getMouseInfo(N);A(P,N)}}),De(I,"handleContextMenu",function(N){var A=I.props.onContextMenu;if(Ge(A)){var P=I.getMouseInfo(N);A(P,N)}}),De(I,"triggerSyncEvent",function(N){I.props.syncId!==void 0&&Wb.emit(Hb,I.props.syncId,N,I.eventEmitterSymbol)}),De(I,"applySyncEvent",function(N){var A=I.props,P=A.layout,j=A.syncMethod,B=I.state.updateId,$=N.dataStartIndex,V=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)I.setState(ae({dataStartIndex:$,dataEndIndex:V},b({props:I.props,dataStartIndex:$,dataEndIndex:V,updateId:B},I.state)));else if(N.activeTooltipIndex!==void 0){var L=N.chartX,Z=N.chartY,ee=N.activeTooltipIndex,oe=I.state,se=oe.offset,Q=oe.tooltipTicks;if(!se)return;if(typeof j=="function")ee=j(Q,N);else if(j==="value"){ee=-1;for(var ie=0;ie<Q.length;ie++)if(Q[ie].value===N.activeLabel){ee=ie;break}}var re=ae(ae({},se),{},{x:se.left,y:se.top}),q=Math.min(L,re.x+re.width),G=Math.min(Z,re.y+re.height),ge=Q[ee]&&Q[ee].value,_e=Dw(I.state,I.props.data,ee),Oe=Q[ee]?{x:P==="horizontal"?Q[ee].coordinate:q,y:P==="horizontal"?G:Q[ee].coordinate}:U4;I.setState(ae(ae({},N),{},{activeLabel:ge,activeCoordinate:Oe,activePayload:_e,activeTooltipIndex:ee}))}else I.setState(N)}),De(I,"renderCursor",function(N){var A,P=I.state,j=P.isTooltipActive,B=P.activeCoordinate,$=P.activePayload,V=P.offset,L=P.activeTooltipIndex,Z=P.tooltipAxisBandSize,ee=I.getTooltipEventType(),oe=(A=N.props.active)!==null&&A!==void 0?A:j,se=I.props.layout,Q=N.key||"_recharts-cursor";return K.createElement(Sre,{key:Q,activeCoordinate:B,activePayload:$,activeTooltipIndex:L,chartName:n,element:N,isActive:oe,layout:se,offset:V,tooltipAxisBandSize:Z,tooltipEventType:ee})}),De(I,"renderPolarAxis",function(N,A,P){var j=wr(N,"type.axisType"),B=wr(I.state,"".concat(j,"Map")),$=N.type.defaultProps,V=$!==void 0?ae(ae({},$),N.props):N.props,L=B&&B[V["".concat(j,"Id")]];return W.cloneElement(N,ae(ae({},L),{},{className:ot(j,L.className),key:N.key||"".concat(A,"-").concat(P),ticks:Ji(L,!0)}))}),De(I,"renderPolarGrid",function(N){var A=N.props,P=A.radialLines,j=A.polarAngles,B=A.polarRadius,$=I.state,V=$.radiusAxisMap,L=$.angleAxisMap,Z=Ga(V),ee=Ga(L),oe=ee.cx,se=ee.cy,Q=ee.innerRadius,ie=ee.outerRadius;return W.cloneElement(N,{polarAngles:Array.isArray(j)?j:Ji(ee,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(B)?B:Ji(Z,!0).map(function(re){return re.coordinate}),cx:oe,cy:se,innerRadius:Q,outerRadius:ie,key:N.key||"polar-grid",radialLines:P})}),De(I,"renderLegend",function(){var N=I.state.formattedGraphicalItems,A=I.props,P=A.children,j=A.width,B=A.height,$=I.props.margin||{},V=j-($.left||0)-($.right||0),L=$L({children:P,formattedGraphicalItems:N,legendWidth:V,legendContent:f});if(!L)return null;var Z=L.item,ee=lj(L,Are);return W.cloneElement(Z,ae(ae({},ee),{},{chartWidth:j,chartHeight:B,margin:$,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),De(I,"renderTooltip",function(){var N,A=I.props,P=A.children,j=A.accessibilityLayer,B=ar(P,fi);if(!B)return null;var $=I.state,V=$.isTooltipActive,L=$.activeCoordinate,Z=$.activePayload,ee=$.activeLabel,oe=$.offset,se=(N=B.props.active)!==null&&N!==void 0?N:V;return W.cloneElement(B,{viewBox:ae(ae({},oe),{},{x:oe.left,y:oe.top}),active:se,label:ee,payload:se?Z:[],coordinate:L,accessibilityLayer:j})}),De(I,"renderBrush",function(N){var A=I.props,P=A.margin,j=A.data,B=I.state,$=B.offset,V=B.dataStartIndex,L=B.dataEndIndex,Z=B.updateId;return W.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Sh(I.handleBrushChange,N.props.onChange),data:j,x:xe(N.props.x)?N.props.x:$.left,y:xe(N.props.y)?N.props.y:$.top+$.height+$.brushBottom-(P.bottom||0),width:xe(N.props.width)?N.props.width:$.width,startIndex:V,endIndex:L,updateId:"brush-".concat(Z)})}),De(I,"renderReferenceElement",function(N,A,P){if(!N)return null;var j=I,B=j.clipPathId,$=I.state,V=$.xAxisMap,L=$.yAxisMap,Z=$.offset,ee=N.type.defaultProps||{},oe=N.props,se=oe.xAxisId,Q=se===void 0?ee.xAxisId:se,ie=oe.yAxisId,re=ie===void 0?ee.yAxisId:ie;return W.cloneElement(N,{key:N.key||"".concat(A,"-").concat(P),xAxis:V[Q],yAxis:L[re],viewBox:{x:Z.left,y:Z.top,width:Z.width,height:Z.height},clipPathId:B})}),De(I,"renderActivePoints",function(N){var A=N.item,P=N.activePoint,j=N.basePoint,B=N.childIndex,$=N.isRange,V=[],L=A.props.key,Z=A.item.type.defaultProps!==void 0?ae(ae({},A.item.type.defaultProps),A.item.props):A.item.props,ee=Z.activeDot,oe=Z.dataKey,se=ae(ae({index:B,dataKey:oe,cx:P.x,cy:P.y,r:4,fill:ST(A.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},at(ee,!1)),cp(ee));return V.push(k.renderActiveDot(ee,se,"".concat(L,"-activePoint-").concat(B))),j?V.push(k.renderActiveDot(ee,ae(ae({},se),{},{cx:j.x,cy:j.y}),"".concat(L,"-basePoint-").concat(B))):$&&V.push(null),V}),De(I,"renderGraphicChild",function(N,A,P){var j=I.filterFormatItem(N,A,P);if(!j)return null;var B=I.getTooltipEventType(),$=I.state,V=$.isTooltipActive,L=$.tooltipAxis,Z=$.activeTooltipIndex,ee=$.activeLabel,oe=I.props.children,se=ar(oe,fi),Q=j.props,ie=Q.points,re=Q.isRange,q=Q.baseLine,G=j.item.type.defaultProps!==void 0?ae(ae({},j.item.type.defaultProps),j.item.props):j.item.props,ge=G.activeDot,_e=G.hide,Oe=G.activeBar,Re=G.activeShape,We=!!(!_e&&V&&se&&(ge||Oe||Re)),Le={};B!=="axis"&&se&&se.props.trigger==="click"?Le={onClick:Sh(I.handleItemMouseEnter,N.props.onClick)}:B!=="axis"&&(Le={onMouseLeave:Sh(I.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Sh(I.handleItemMouseEnter,N.props.onMouseEnter)});var he=W.cloneElement(N,ae(ae({},j.props),Le));function Ce(Kn){return typeof L.dataKey=="function"?L.dataKey(Kn.payload):null}if(We)if(Z>=0){var Be,ce;if(L.dataKey&&!L.allowDuplicatedCategory){var rt=typeof L.dataKey=="function"?Ce:"payload.".concat(L.dataKey.toString());Be=__(ie,rt,ee),ce=re&&q&&__(q,rt,ee)}else Be=ie==null?void 0:ie[Z],ce=re&&q&&q[Z];if(Re||Oe){var ze=N.props.activeIndex!==void 0?N.props.activeIndex:Z;return[W.cloneElement(N,ae(ae(ae({},j.props),Le),{},{activeIndex:ze})),null,null]}if(!st(Be))return[he].concat(il(I.renderActivePoints({item:j,activePoint:Be,basePoint:ce,childIndex:Z,isRange:re})))}else{var It,yt=(It=I.getItemByXY(I.state.activeCoordinate))!==null&&It!==void 0?It:{graphicalItem:he},Rt=yt.graphicalItem,Ln=Rt.item,pt=Ln===void 0?N:Ln,vt=Rt.childIndex,Yt=ae(ae(ae({},j.props),Le),{},{activeIndex:vt});return[W.cloneElement(pt,Yt),null,null]}return re?[he,null,null]:[he,null]}),De(I,"renderCustomized",function(N,A,P){return W.cloneElement(N,ae(ae({key:"recharts-customized-".concat(P)},I.props),I.state))}),De(I,"renderMap",{CartesianGrid:{handler:Ch,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:Ch},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:Ch},YAxis:{handler:Ch},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((D=R.id)!==null&&D!==void 0?D:Om("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=VM(I.triggeredAfterMouseMove,(C=R.throttleDelay)!==null&&C!==void 0?C:1e3/60),I.state={},I}return $re(k,_),Rre(k,[{key:"componentDidMount",value:function(){var D,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(D=this.props.margin.left)!==null&&D!==void 0?D:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var D=this.props,C=D.children,I=D.data,N=D.height,A=D.layout,P=ar(C,fi);if(P){var j=P.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,$=Dw(this.state,I,j,B),V=this.state.tooltipTicks[j].coordinate,L=(this.state.offset.top+N)/2,Z=A==="horizontal",ee=Z?{x:V,y:L}:{y:V,x:L},oe=this.state.formattedGraphicalItems.find(function(Q){var ie=Q.item;return ie.type.name==="Scatter"});oe&&(ee=ae(ae({},ee),oe.props.points[j].tooltipPosition),$=oe.props.points[j].tooltipPayload);var se={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:B,activePayload:$,activeCoordinate:ee};this.setState(se),this.renderCursor(P),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(D,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==D.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==D.margin){var I,N;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(D){T_([ar(D.children,fi)],[ar(this.props.children,fi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var D=ar(this.props.children,fi);if(D&&typeof D.props.shared=="boolean"){var C=D.props.shared?"axis":"item";return l.indexOf(C)>=0?C:a}return a}},{key:"getMouseInfo",value:function(D){if(!this.container)return null;var C=this.container,I=C.getBoundingClientRect(),N=aH(I),A={chartX:Math.round(D.pageX-N.left),chartY:Math.round(D.pageY-N.top)},P=I.width/C.offsetWidth||1,j=this.inRange(A.chartX,A.chartY,P);if(!j)return null;var B=this.state,$=B.xAxisMap,V=B.yAxisMap,L=this.getTooltipEventType(),Z=fj(this.state,this.props.data,this.props.layout,j);if(L!=="axis"&&$&&V){var ee=Ga($).scale,oe=Ga(V).scale,se=ee&&ee.invert?ee.invert(A.chartX):null,Q=oe&&oe.invert?oe.invert(A.chartY):null;return ae(ae({},A),{},{xValue:se,yValue:Q},Z)}return Z?ae(ae({},A),Z):null}},{key:"inRange",value:function(D,C){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,A=D/I,P=C/I;if(N==="horizontal"||N==="vertical"){var j=this.state.offset,B=A>=j.left&&A<=j.left+j.width&&P>=j.top&&P<=j.top+j.height;return B?{x:A,y:P}:null}var $=this.state,V=$.angleAxisMap,L=$.radiusAxisMap;if(V&&L){var Z=Ga(V);return CN({x:A,y:P},Z)}return null}},{key:"parseEventsOfWrapper",value:function(){var D=this.props.children,C=this.getTooltipEventType(),I=ar(D,fi),N={};I&&C==="axis"&&(I.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=cp(this.props,this.handleOuterEvent);return ae(ae({},A),N)}},{key:"addListener",value:function(){Wb.on(Hb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Wb.removeListener(Hb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(D,C,I){for(var N=this.state.formattedGraphicalItems,A=0,P=N.length;A<P;A++){var j=N[A];if(j.item===D||j.props.key===D.key||C===Zi(j.item.type)&&I===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var D=this.clipPathId,C=this.state.offset,I=C.left,N=C.top,A=C.height,P=C.width;return K.createElement("defs",null,K.createElement("clipPath",{id:D},K.createElement("rect",{x:I,y:N,height:A,width:P})))}},{key:"getXScales",value:function(){var D=this.state.xAxisMap;return D?Object.entries(D).reduce(function(C,I){var N=uj(I,2),A=N[0],P=N[1];return ae(ae({},C),{},De({},A,P.scale))},{}):null}},{key:"getYScales",value:function(){var D=this.state.yAxisMap;return D?Object.entries(D).reduce(function(C,I){var N=uj(I,2),A=N[0],P=N[1];return ae(ae({},C),{},De({},A,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(D){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[D])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(D){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[D])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(D){var C=this.state,I=C.formattedGraphicalItems,N=C.activeItem;if(I&&I.length)for(var A=0,P=I.length;A<P;A++){var j=I[A],B=j.props,$=j.item,V=$.type.defaultProps!==void 0?ae(ae({},$.type.defaultProps),$.props):$.props,L=Zi($.type);if(L==="Bar"){var Z=(B.data||[]).find(function(Q){return AZ(D,Q)});if(Z)return{graphicalItem:j,payload:Z}}else if(L==="RadialBar"){var ee=(B.data||[]).find(function(Q){return CN(D,Q)});if(ee)return{graphicalItem:j,payload:ee}}else if(Km(j,N)||Ym(j,N)||Sf(j,N)){var oe=gee({graphicalItem:j,activeTooltipItem:N,itemData:V.data}),se=V.activeIndex===void 0?oe:V.activeIndex;return{graphicalItem:ae(ae({},j),{},{childIndex:se}),payload:Sf(j,N)?V.data[oe]:j.props.data[oe]}}}return null}},{key:"render",value:function(){var D=this;if(!UP(this))return null;var C=this.props,I=C.children,N=C.className,A=C.width,P=C.height,j=C.style,B=C.compact,$=C.title,V=C.desc,L=lj(C,Ire),Z=at(L,!1);if(B)return K.createElement(H2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(S_,bu({},Z,{width:A,height:P,title:$,desc:V}),this.renderClipPath(),zP(I,this.renderMap)));if(this.props.accessibilityLayer){var ee,oe;Z.tabIndex=(ee=this.props.tabIndex)!==null&&ee!==void 0?ee:0,Z.role=(oe=this.props.role)!==null&&oe!==void 0?oe:"application",Z.onKeyDown=function(Q){D.accessibilityManager.keyboardEvent(Q)},Z.onFocus=function(){D.accessibilityManager.focus()}}var se=this.parseEventsOfWrapper();return K.createElement(H2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",bu({className:ot("recharts-wrapper",N),style:ae({position:"relative",cursor:"default",width:A,height:P},j)},se,{ref:function(ie){D.container=ie}}),K.createElement(S_,bu({},Z,{width:A,height:P,title:$,desc:V,style:zre}),this.renderClipPath(),zP(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(W.Component);De(S,"displayName",n),De(S,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),De(S,"getDerivedStateFromProps",function(_,k){var R=_.dataKey,D=_.data,C=_.children,I=_.width,N=_.height,A=_.layout,P=_.stackOffset,j=_.margin,B=k.dataStartIndex,$=k.dataEndIndex;if(k.updateId===void 0){var V=dj(_);return ae(ae(ae({},V),{},{updateId:0},b(ae(ae({props:_},V),{},{updateId:0}),k)),{},{prevDataKey:R,prevData:D,prevWidth:I,prevHeight:N,prevLayout:A,prevStackOffset:P,prevMargin:j,prevChildren:C})}if(R!==k.prevDataKey||D!==k.prevData||I!==k.prevWidth||N!==k.prevHeight||A!==k.prevLayout||P!==k.prevStackOffset||!Iu(j,k.prevMargin)){var L=dj(_),Z={chartX:k.chartX,chartY:k.chartY,isTooltipActive:k.isTooltipActive},ee=ae(ae({},fj(k,D,A)),{},{updateId:k.updateId+1}),oe=ae(ae(ae({},L),Z),ee);return ae(ae(ae({},oe),b(ae({props:_},oe),k)),{},{prevDataKey:R,prevData:D,prevWidth:I,prevHeight:N,prevLayout:A,prevStackOffset:P,prevMargin:j,prevChildren:C})}if(!T_(C,k.prevChildren)){var se,Q,ie,re,q=ar(C,Yu),G=q&&(se=(Q=q.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&se!==void 0?se:B,ge=q&&(ie=(re=q.props)===null||re===void 0?void 0:re.endIndex)!==null&&ie!==void 0?ie:$,_e=G!==B||ge!==$,Oe=!st(D),Re=Oe&&!_e?k.updateId:k.updateId+1;return ae(ae({updateId:Re},b(ae(ae({props:_},k),{},{updateId:Re,dataStartIndex:G,dataEndIndex:ge}),k)),{},{prevChildren:C,dataStartIndex:G,dataEndIndex:ge})}return null}),De(S,"renderActiveDot",function(_,k,R){var D;return W.isValidElement(_)?D=W.cloneElement(_,k):Ge(_)?D=_(k):D=K.createElement(t4,k),K.createElement(fn,{className:"recharts-active-dot",key:R},D)});var E=W.forwardRef(function(k,R){return K.createElement(S,bu({},k,{ref:R}))});return E.displayName=S.displayName,E},tie=eie({chartName:"BarChart",GraphicalChild:na,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:tg},{axisType:"yAxis",AxisComp:ng}],formatAxisMap:dte});function nie({budget:t,currency:e}){const n=t.map(i=>({name:i.name,emoji:i.emoji,min:i.min||0,max:i.max||0,actual:i.actual||0})),r=({active:i,payload:a,label:s})=>!i||!(a!=null&&a.length)?null:v.jsxs("div",{className:"bg-bg-secondary border border-border rounded-[var(--radius-md)] p-3",children:[v.jsx("p",{className:"text-text-primary font-medium text-sm mb-1",children:s}),a.map((l,c)=>v.jsxs("p",{className:"text-xs",style:{color:l.color},children:[l.name,": ",sr(l.value,e)]},c))]});return v.jsx(JW,{width:"100%",height:280,children:v.jsxs(tie,{data:n,margin:{top:10,right:10,left:0,bottom:0},children:[v.jsx(C4,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),v.jsx(tg,{dataKey:"name",stroke:"var(--color-text-muted)",fontSize:11,tickLine:!1,axisLine:!1}),v.jsx(ng,{stroke:"var(--color-text-muted)",fontSize:11,tickLine:!1,axisLine:!1,tickFormatter:i=>sr(i,e)}),v.jsx(fi,{content:v.jsx(r,{})}),v.jsx(na,{dataKey:"min",name:"Min Budget",fill:"#6A9BCC",opacity:.4,radius:[2,2,0,0]}),v.jsx(na,{dataKey:"max",name:"Max Budget",fill:"#6A9BCC",opacity:.7,radius:[2,2,0,0]}),v.jsx(na,{dataKey:"actual",name:"Actual Spent",radius:[4,4,0,0],children:n.map((i,a)=>v.jsx(Z1,{fill:i.actual>i.max?"#C15F3C":"#D97757"},a))})]})})}function rie({category:t,currency:e,travelers:n,perPerson:r}){const{dispatch:i}=Kt(),a=r?Math.max(n,1):1,s=t.actual>t.max&&t.max>0;return v.jsxs(Nt,{className:"animate-fade-in",children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-xl",children:t.emoji}),v.jsx(Wt,{value:t.name,onSave:l=>i({type:me.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{name:l}}}),className:"font-medium text-text-primary text-sm"})]}),v.jsx("button",{onClick:()=>i({type:me.DELETE_BUDGET_CATEGORY,payload:t.id}),className:"text-xs text-text-muted hover:text-danger transition-colors",children:""})]}),v.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-4 text-sm",children:[v.jsxs("div",{children:[v.jsx("span",{className:"text-text-muted text-xs block",children:"Min"}),v.jsx(Wt,{value:t.min?String(Math.round(t.min/a)):"",onSave:l=>i({type:me.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{min:(Number(l)||0)*a}}}),className:"text-text-primary font-mono text-xs",placeholder:"0"})]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-text-muted text-xs block",children:"Max"}),v.jsx(Wt,{value:t.max?String(Math.round(t.max/a)):"",onSave:l=>i({type:me.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{max:(Number(l)||0)*a}}}),className:"text-text-primary font-mono text-xs",placeholder:"0"})]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-text-muted text-xs block",children:"Actual"}),v.jsx(Wt,{value:t.actual?String(Math.round(t.actual/a)):"",onSave:l=>i({type:me.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{actual:(Number(l)||0)*a}}}),className:`font-mono text-xs ${s?"text-danger font-bold":"text-text-primary"}`,placeholder:"0"})]})]}),s&&v.jsxs("p",{className:"text-xs text-danger mt-2 font-medium",children:[" Over budget by ",sr(t.actual-t.max,e)]}),v.jsxs("div",{className:"mt-2 text-xs text-text-muted",children:["Range: ",sr(Math.round(t.min/a),e),"  ",sr(Math.round(t.max/a),e),r&&" per person"]})]})}function iie({onAdd:t,onCancel:e,categories:n,currency:r}){var m;const[i,a]=W.useState(""),[s,l]=W.useState(""),[c,f]=W.useState(((m=n[0])==null?void 0:m.name)||""),h=y=>{y.preventDefault(),!(!i.trim()||!s)&&(t({description:i.trim(),amount:Number(s),category:c}),a(""),l(""))};return v.jsx(Nt,{children:v.jsxs("form",{onSubmit:h,className:"flex flex-wrap gap-2 items-end",children:[v.jsxs("div",{className:"flex-1 min-w-[160px]",children:[v.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Description"}),v.jsx("input",{value:i,onChange:y=>a(y.target.value),placeholder:"What did you spend on?",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0})]}),v.jsxs("div",{className:"w-28",children:[v.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Amount"}),v.jsx("input",{type:"number",value:s,onChange:y=>l(y.target.value),placeholder:"0",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Category"}),v.jsx("select",{value:c,onChange:y=>f(y.target.value),className:"px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",children:n.map(y=>v.jsxs("option",{value:y.name,children:[y.emoji," ",y.name]},y.id))})]}),v.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),v.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"})]})})}function aie(){var m;const{activeTrip:t,dispatch:e}=Kt(),[n,r]=W.useState(!1),[i,a]=W.useState(!1);if(!t)return null;const s=t,l=s.budget||[],c=s.currency||"PHP",f=W.useMemo(()=>({min:l.reduce((y,b)=>y+(b.min||0),0),max:l.reduce((y,b)=>y+(b.max||0),0),actual:l.reduce((y,b)=>y+(b.actual||0),0)}),[l]),h=n?Math.max(s.travelers,1):1;return v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsxs(Nt,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h2",{className:"font-heading text-lg text-text-primary",children:" Budget"}),v.jsx("button",{onClick:()=>r(!n),className:`px-3 py-1 text-xs rounded-[var(--radius-pill)] border transition-colors
              ${n?"bg-accent text-white border-accent":"border-border text-text-muted hover:text-text-secondary"}`,children:n?"Per Person":"Total"})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-5 text-center",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Min Estimate"}),v.jsx("p",{className:"font-heading text-xl text-text-primary mt-1",children:sr(Math.round(f.min/h),c)})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Max Estimate"}),v.jsx("p",{className:"font-heading text-xl text-text-primary mt-1",children:sr(Math.round(f.max/h),c)})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Spent"}),v.jsx("p",{className:`font-heading text-xl mt-1 ${f.actual>f.max&&f.max>0?"text-danger":"text-accent"}`,children:sr(Math.round(f.actual/h),c)})]})]}),n&&v.jsxs("p",{className:"text-xs text-text-muted text-center mt-2",children:["Showing per person (",s.travelers," travelers)"]})]}),l.length>0&&v.jsx(Nt,{children:v.jsx(nie,{budget:l,currency:c})}),v.jsx("div",{className:"grid sm:grid-cols-2 gap-5",children:l.map(y=>v.jsx(rie,{category:y,currency:c,travelers:s.travelers,perPerson:n},y.id))}),v.jsx("button",{onClick:()=>e({type:me.ADD_BUDGET_CATEGORY,payload:{name:"New Category",emoji:""}}),className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add budget category"}),v.jsxs(Nt,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("h3",{className:"font-heading text-sm text-text-primary",children:"Spending Log"}),v.jsx("button",{onClick:()=>a(!0),className:"text-xs text-accent hover:text-accent-hover",children:"+ Log expense"})]}),i&&v.jsx("div",{className:"mb-3",children:v.jsx(iie,{categories:l,currency:c,onAdd:y=>{e({type:me.ADD_SPENDING,payload:y}),a(!1)},onCancel:()=>a(!1)})}),((m=s.spendingLog)==null?void 0:m.length)>0?v.jsx("div",{className:"space-y-2",children:s.spendingLog.map(y=>v.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50 last:border-0 group",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-text-primary",children:y.description}),v.jsxs("p",{className:"text-xs text-text-muted",children:[y.date,"  ",y.category]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-sm font-mono text-text-primary",children:sr(y.amount,c)}),v.jsx("button",{onClick:()=>e({type:me.DELETE_SPENDING,payload:y.id}),className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-xs transition-opacity",children:""})]})]},y.id))}):v.jsx("p",{className:"text-sm text-text-muted italic",children:"No expenses logged yet."})]})]})}const pj=["#D97757","#D4A72C","#788C5D","#6A9BCC","#C15F3C","#E07BA0"];function z4({trigger:t}){const[e,n]=W.useState([]);return W.useEffect(()=>{if(!t)return;const r=Array.from({length:30},(a,s)=>({id:Date.now()+s,left:Math.random()*100,color:pj[Math.floor(Math.random()*pj.length)],delay:Math.random()*.5,size:6+Math.random()*6,duration:2+Math.random()*1}));n(r);const i=setTimeout(()=>n([]),3500);return()=>clearTimeout(i)},[t]),e.length===0?null:v.jsx(v.Fragment,{children:e.map(r=>v.jsx("div",{className:"confetti-piece",style:{left:`${r.left}%`,backgroundColor:r.color,width:r.size,height:r.size,animationDelay:`${r.delay}s`,animationDuration:`${r.duration}s`}},r.id))})}function oie({todo:t,onToggle:e,onUpdate:n,onDelete:r}){const[i,a]=W.useState(!1),[s,l]=W.useState(t.text),c=()=>{a(!1),s.trim()!==t.text&&n({text:s.trim()})};return v.jsxs("div",{className:`flex items-center gap-3 py-2.5 group transition-opacity ${t.done?"opacity-60":""}`,children:[v.jsx("button",{onClick:e,className:`flex-shrink-0 w-5 h-5 rounded-[var(--radius-sm)] border-2 transition-all flex items-center justify-center
          ${t.done?"bg-success border-success text-white animate-check-pop":"border-border-strong hover:border-accent"}`,children:t.done&&v.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:v.jsx("path",{d:"M2 6l3 3 5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[i?v.jsx("input",{value:s,onChange:f=>l(f.target.value),onBlur:c,onKeyDown:f=>{f.key==="Enter"&&c(),f.key==="Escape"&&(l(t.text),a(!1))},className:"w-full px-2 py-0.5 text-sm bg-bg-input border border-accent/30 rounded-[var(--radius-sm)] text-text-primary outline-none focus:border-accent",autoFocus:!0}):v.jsx("span",{onClick:()=>{l(t.text),a(!0)},className:`text-sm cursor-pointer hover:border-b hover:border-accent/30 transition-colors
              ${t.done?"line-through text-text-muted":"text-text-primary"}`,children:t.text}),v.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:t.dueDate&&v.jsx("span",{className:"text-xs text-text-muted",children:t.dueDate})})]}),t.priority==="high"&&v.jsx("span",{className:"flex-shrink-0 w-2 h-2 rounded-full bg-danger",title:"High priority"}),v.jsx("button",{onClick:r,className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-xs transition-opacity flex-shrink-0",children:""})]})}function sie({category:t,onAdd:e}){const[n,r]=W.useState(""),[i,a]=W.useState(""),[s,l]=W.useState("normal"),[c,f]=W.useState(!1),h=m=>{m.preventDefault(),n.trim()&&(e({text:n.trim(),category:t,dueDate:i,priority:s}),r(""),a(""),l("normal"),f(!1))};return c?v.jsxs("form",{onSubmit:h,className:"flex gap-2 items-center py-1",children:[v.jsx("input",{value:n,onChange:m=>r(m.target.value),placeholder:"New task...",className:"flex-1 px-2 py-1 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0}),v.jsx("input",{type:"date",value:i,onChange:m=>a(m.target.value),className:"px-2 py-1 text-xs bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary"}),v.jsx("button",{type:"button",onClick:()=>l(m=>m==="high"?"normal":"high"),className:`text-xs px-2 py-1 rounded-[var(--radius-sm)] border transition-colors
          ${s==="high"?"border-danger text-danger bg-danger/10":"border-border text-text-muted"}`,title:"Toggle high priority",children:"!!"}),v.jsx("button",{type:"submit",className:"px-2 py-1 text-xs bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),v.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-xs text-text-muted",children:""})]}):v.jsx("button",{onClick:()=>f(!0),className:"text-xs text-accent hover:text-accent-hover transition-colors py-1",children:"+ Add task"})}function uie(){const{activeTrip:t,dispatch:e,showToast:n}=Kt(),[r,i]=W.useState("all"),[a,s]=W.useState(0);if(!t)return null;const c=t.todos||[],f=W.useMemo(()=>{const C=[...new Set(c.map(I=>I.category))];return W9.forEach(I=>{C.includes(I)||C.push(I)}),C},[c]),h=W.useMemo(()=>{switch(r){case"high":return c.filter(C=>C.priority==="high");case"incomplete":return c.filter(C=>!C.done);case"complete":return c.filter(C=>C.done);default:return c}},[c,r]),m=W.useMemo(()=>{const C={};return f.forEach(I=>{C[I]=[]}),h.forEach(I=>{const N=I.category||"Misc";C[N]||(C[N]=[]),C[N].push(I)}),C},[h,f]),y=c.filter(C=>C.done).length,b=c.length,S=W.useCallback(C=>{e({type:me.TOGGLE_TODO,payload:C});const I=c.find(N=>N.id===C);I&&!I.done&&y+1===b&&(s(A=>A+1),n("You're all set! Have an amazing trip "))},[e,c,y,b,n]),[E,_]=W.useState(!1),[k,R]=W.useState(""),D=[{id:"all",label:`All (${b})`},{id:"high",label:"High Priority"},{id:"incomplete",label:`Incomplete (${b-y})`},{id:"complete",label:`Complete (${y})`}];return v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsx(z4,{trigger:a}),v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs("h2",{className:"font-heading text-lg text-text-primary",children:[" To-Do  ",y,"/",b," done"]})}),v.jsx("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide",children:D.map(C=>v.jsx("button",{onClick:()=>i(C.id),className:`px-3 py-1.5 text-xs font-medium rounded-[var(--radius-pill)] whitespace-nowrap transition-colors
              ${r===C.id?"bg-accent text-white":"bg-bg-secondary text-text-muted hover:text-text-secondary border border-border"}`,children:C.label},C.id))}),Object.entries(m).map(([C,I])=>{const N=I.filter(P=>P.done).length,A=I.length;return v.jsxs(Nt,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h3",{className:"font-heading text-sm font-semibold text-text-primary",children:C}),v.jsxs("span",{className:"text-xs text-text-muted",children:[N,"/",A]})]}),v.jsx("div",{className:"divide-y divide-border/30",children:I.map(P=>v.jsx(oie,{todo:P,onToggle:()=>S(P.id),onUpdate:j=>e({type:me.UPDATE_TODO,payload:{id:P.id,updates:j}}),onDelete:()=>e({type:me.DELETE_TODO,payload:P.id})},P.id))}),v.jsx(sie,{category:C,onAdd:P=>e({type:me.ADD_TODO,payload:P})})]},C)}),E?v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{value:k,onChange:C=>R(C.target.value),placeholder:"Category name",className:"flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",autoFocus:!0,onKeyDown:C=>{C.key==="Enter"&&k.trim()&&(e({type:me.ADD_TODO,payload:{text:"New task",category:k.trim()}}),R(""),_(!1))}}),v.jsx("button",{onClick:()=>_(!1),className:"text-sm text-text-muted",children:"Cancel"})]}):v.jsx("button",{onClick:()=>_(!0),className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add category"})]})}const W4={Philippines:"",Singapore:"",Thailand:"",Malaysia:"",Indonesia:"",Vietnam:"",Japan:"","South Korea":"",Taiwan:"",Cambodia:"",India:"",China:"","Hong Kong":"",Australia:"","New Zealand":"",USA:"",UK:"",France:"",Italy:"",Spain:"",Germany:"",Netherlands:"",Greece:"",Turkey:"",UAE:"",Mexico:"",Brazil:"",Canada:""};function lie({city:t}){const{dispatch:e}=Kt(),n=i=>{e({type:me.UPDATE_CITY,payload:{id:t.id,updates:i}})},r=i=>{const a=W4[i.trim()]||t.flag||"";n({country:i,flag:a})};return v.jsxs(Nt,{className:"animate-fade-in-up",children:[v.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[v.jsx("span",{className:"text-4xl flex-shrink-0",children:t.flag}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx(Wt,{value:t.city,onSave:i=>n({city:i}),className:"font-heading text-xl text-text-primary font-bold",placeholder:"City name"}),v.jsx(Wt,{value:t.country,onSave:r,className:"text-sm text-text-muted mt-0.5",placeholder:"Country"})]}),v.jsx("button",{onClick:()=>e({type:me.DELETE_CITY,payload:t.id}),className:"text-xs text-text-muted hover:text-danger transition-colors flex-shrink-0",title:"Remove city",children:""})]}),v.jsxs("div",{className:"space-y-5",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-1",children:" Highlights"}),v.jsx(Wt,{value:t.highlights,onSave:i=>n({highlights:i}),className:"text-sm text-text-secondary",placeholder:"What makes this city special?"})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-1",children:" Must-Do"}),v.jsx(Wt,{value:t.mustDo,onSave:i=>n({mustDo:i}),className:"text-sm text-text-secondary",placeholder:"Can't-miss activities"})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-1",children:" Weather"}),v.jsx(Wt,{value:t.weather,onSave:i=>n({weather:i}),className:"text-sm text-text-secondary",placeholder:"Expected weather during your visit"})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-1",children:" Currency Tip"}),v.jsx(Wt,{value:t.currencyTip,onSave:i=>n({currencyTip:i}),className:"text-sm text-text-secondary",placeholder:"Local currency and payment tips"})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-1",children:" Notes"}),v.jsx(Wt,{value:t.notes,onSave:i=>n({notes:i}),className:"text-sm text-text-secondary",placeholder:"Your personal notes for this city",multiline:!0})]})]})]})}function cie({onAdd:t,onCancel:e}){const[n,r]=W.useState(""),[i,a]=W.useState(""),s=l=>{if(l.preventDefault(),!n.trim())return;const c=W4[i.trim()]||"";t({city:n.trim(),country:i.trim(),flag:c})};return v.jsx(Nt,{children:v.jsxs("form",{onSubmit:s,className:"flex flex-wrap gap-2 items-end",children:[v.jsxs("div",{className:"flex-1 min-w-[140px]",children:[v.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"City"}),v.jsx("input",{value:n,onChange:l=>r(l.target.value),placeholder:"e.g., Bangkok",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0})]}),v.jsxs("div",{className:"flex-1 min-w-[140px]",children:[v.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Country"}),v.jsx("input",{value:i,onChange:l=>a(l.target.value),placeholder:"e.g., Thailand",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted"})]}),v.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),v.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"})]})})}function fie(){const{activeTrip:t,dispatch:e}=Kt(),[n,r]=W.useState(!1);if(!t)return null;const i=t.cities||[];return v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("h2",{className:"font-heading text-lg text-text-primary",children:[" Cities  ",i.length," destinations"]}),v.jsx("button",{onClick:()=>r(!0),className:"px-3 py-1.5 text-sm bg-accent text-white rounded-[var(--radius-md)] hover:bg-accent-hover transition-colors",children:"+ Add City"})]}),n&&v.jsx(cie,{onAdd:a=>{e({type:me.ADD_CITY,payload:a}),r(!1)},onCancel:()=>r(!1)}),i.length>0?v.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:i.map(a=>v.jsx(lie,{city:a},a.id))}):v.jsxs(Nt,{className:"text-center py-12",children:[v.jsx("p",{className:"text-4xl mb-3",children:""}),v.jsx("p",{className:"text-text-muted",children:"No city guides yet."}),v.jsx("p",{className:"text-text-muted text-sm mt-1",children:'Click "+ Add City" or add destinations when creating a trip.'})]})]})}function die({item:t,onToggle:e,onDelete:n}){return v.jsxs("div",{className:"flex items-center gap-3 py-1.5 group",children:[v.jsx("button",{onClick:e,className:`flex-shrink-0 w-4.5 h-4.5 rounded border-2 transition-all flex items-center justify-center
          ${t.packed?"bg-success border-success text-white animate-check-pop":"border-border-strong hover:border-accent"}`,style:{width:18,height:18},children:t.packed&&v.jsx("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",children:v.jsx("path",{d:"M2 6l3 3 5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),v.jsx("span",{className:`flex-1 text-sm ${t.packed?"line-through text-text-muted":"text-text-primary"}`,children:t.name}),v.jsx("button",{onClick:n,className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-xs transition-opacity",children:""})]})}function hie({section:t,onAdd:e}){const[n,r]=W.useState(""),[i,a]=W.useState(!1);if(!i)return v.jsx("button",{onClick:()=>a(!0),className:"text-xs text-accent hover:text-accent-hover transition-colors mt-1",children:"+ Add item"});const s=l=>{l.preventDefault(),n.trim()&&(e({name:n.trim(),section:t}),r(""))};return v.jsxs("form",{onSubmit:s,className:"flex gap-2 mt-2",children:[v.jsx("input",{value:n,onChange:l=>r(l.target.value),placeholder:"Item name...",className:"flex-1 px-2 py-1 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0}),v.jsx("button",{type:"submit",className:"px-2 py-1 text-xs bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),v.jsx("button",{type:"button",onClick:()=>a(!1),className:"text-xs text-text-muted",children:""})]})}function pie(){const{activeTrip:t,dispatch:e,showToast:n}=Kt(),[r,i]=W.useState(0),[a,s]=W.useState(!1),[l,c]=W.useState(!1),[f,h]=W.useState("");if(!t)return null;const y=t.packingList||[],b=y.filter(D=>D.packed).length,S=y.length,E=W.useMemo(()=>{const D=[...new Set(y.map(C=>C.section))];return PI.forEach(C=>{D.includes(C)||D.push(C)}),D},[y]),_=W.useMemo(()=>{const D={};return E.forEach(C=>{D[C]=[]}),y.forEach(C=>{const I=C.section||"Misc";D[I]||(D[I]=[]),D[I].push(C)}),D},[y,E]),k=W.useCallback(D=>{e({type:me.TOGGLE_PACKING_ITEM,payload:D});const C=y.find(I=>I.id===D);C&&!C.packed&&b+1===S&&(i(N=>N+1),n("All packed! You're ready to go "))},[e,y,b,S,n]),R={Documents:"",Clothing:"",Tech:"","Concert Essentials":"",Toiletries:"",Misc:""};return v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsx(z4,{trigger:r}),v.jsx(LD,{isOpen:a,onClose:()=>s(!1),onConfirm:()=>{e({type:me.RESET_PACKING}),n("Packing list reset")},title:"Reset Packing List?",message:"This will uncheck all packed items. Your items will not be removed.",confirmLabel:"Reset All",danger:!1}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("h2",{className:"font-heading text-lg text-text-primary",children:[" Packing  ",b,"/",S," packed"]}),S>0&&v.jsx("button",{onClick:()=>s(!0),className:"text-xs text-text-muted hover:text-danger transition-colors",children:"Reset all"})]}),v.jsx(yu,{value:b,max:S,colorClass:"bg-accent",height:"h-2.5"}),Object.entries(_).map(([D,C])=>{if(C.length===0&&!PI.includes(D))return null;const I=C.filter(A=>A.packed).length,N=R[D]||"";return v.jsxs(Nt,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("h3",{className:"font-heading text-sm font-semibold text-text-primary",children:[N," ",D]}),v.jsxs("span",{className:"text-xs text-text-muted",children:[I,"/",C.length]})]}),v.jsx("div",{className:"space-y-1",children:C.map(A=>v.jsx(die,{item:A,onToggle:()=>k(A.id),onDelete:()=>e({type:me.DELETE_PACKING_ITEM,payload:A.id})},A.id))}),v.jsx(hie,{section:D,onAdd:A=>e({type:me.ADD_PACKING_ITEM,payload:A})})]},D)}),l?v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{value:f,onChange:D=>h(D.target.value),placeholder:"Section name",className:"flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",autoFocus:!0,onKeyDown:D=>{D.key==="Enter"&&f.trim()&&(e({type:me.ADD_PACKING_ITEM,payload:{name:"New item",section:f.trim()}}),h(""),c(!1))}}),v.jsx("button",{onClick:()=>c(!1),className:"text-sm text-text-muted",children:"Cancel"})]}):v.jsx("button",{onClick:()=>c(!0),className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add section"})]})}function mie({targetDate:t}){const e=C1(t);return e.expired?v.jsx("div",{className:"text-center py-4",children:v.jsx("p",{className:"text-3xl font-heading font-bold text-red-500",children:" IT'S SHOWTIME! "})}):v.jsxs("div",{className:"text-center py-6",children:[v.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-red-400 mb-4 font-semibold",children:"Countdown to showtime"}),v.jsx("div",{className:"flex justify-center gap-6",children:[{value:e.days,label:"Days"},{value:e.hours,label:"Hours"},{value:e.minutes,label:"Min"},{value:e.seconds,label:"Sec"}].map((n,r)=>v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:`text-4xl md:text-5xl font-heading font-bold text-white
              ${n.label==="Sec"?"animate-pulse":""}`,children:String(n.value).padStart(2,"0")}),v.jsx("div",{className:"text-xs text-red-400/70 uppercase tracking-wider mt-1",children:n.label})]},r))})]})}function gie(){var a,s,l,c,f,h;const{activeTrip:t}=Kt();if(!t)return null;const e=t,n=(a=e.bookings)==null?void 0:a.find(m=>m.category==="concert");if(!n)return v.jsxs(Nt,{className:"text-center py-12",children:[v.jsx("p",{className:"text-4xl mb-3",children:""}),v.jsx("p",{className:"text-text-muted",children:"No concert or event bookings found."}),v.jsx("p",{className:"text-text-muted text-sm mt-1",children:'Add a booking with category "Concert" to unlock this tab.'})]});const r=(s=e.itinerary)==null?void 0:s.find(m=>{var y;return(y=m.activities)==null?void 0:y.some(b=>{var S,E;return((S=b.name)==null?void 0:S.toLowerCase().includes("concert"))||((E=b.name)==null?void 0:E.toLowerCase().includes("mcr"))||b.emoji===""||b.emoji===""})}),i=((l=n.name)==null?void 0:l.toLowerCase().includes("mcr"))||((c=n.name)==null?void 0:c.toLowerCase().includes("my chemical romance"))||((f=n.name)==null?void 0:f.toLowerCase().includes("chemical"));return v.jsx("div",{className:"concert-theme rounded-[var(--radius-xl)] overflow-hidden animate-fade-in",children:v.jsxs("div",{className:"bg-[#141413] rounded-[var(--radius-xl)] border border-[#2A2A28]",children:[v.jsxs("div",{className:"relative p-8 md:p-12 text-center overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-[#141413]"}),v.jsxs("div",{className:"relative z-10",children:[v.jsx("p",{className:"text-red-500 text-sm uppercase tracking-[0.3em] font-semibold mb-3",children:i?" THE BLACK PARADE ":" LIVE EVENT "}),v.jsx("h2",{className:"font-heading text-3xl md:text-4xl font-bold text-white mb-2",children:n.name}),r&&v.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:[up(r.date,"full"),"  Day ",r.dayNumber]})]})]}),v.jsx("div",{className:"px-6 md:px-12",children:v.jsx(mie,{targetDate:(r==null?void 0:r.date)||e.startDate})}),v.jsx("div",{className:"h-px bg-red-900/50 mx-8"}),v.jsxs("div",{className:"p-6 md:p-12 grid md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-1",children:"Venue"}),v.jsx("p",{className:"text-white font-medium",children:i?"Stadium Merdeka, Kuala Lumpur":"Check your booking details"})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-1",children:"Tickets"}),v.jsxs("p",{className:"text-white font-medium",children:[e.travelers," pax  ",n.status==="booked"?" Confirmed":" "+n.status.replace("_"," ")]}),n.confirmationNumber&&v.jsxs("p",{className:"text-gray-500 text-xs font-mono mt-1",children:["Ref: ",n.confirmationNumber]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-1",children:"Status"}),v.jsx("div",{className:`inline-flex px-3 py-1 rounded-[var(--radius-pill)] text-xs font-medium
                ${n.status==="booked"?"bg-green-900/30 text-green-400 border border-green-800/30":"bg-red-900/30 text-red-400 border border-red-800/30"}`,children:n.status==="booked"?" Booked":"Not yet booked"})]})]}),v.jsx("div",{className:"space-y-4",children:v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-2",children:" Concert Tips"}),v.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"text-red-500",children:""}),"Arrive early to get a good spot"]}),v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"text-red-500",children:""}),"Charge your phone to 100% before leaving"]}),v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"text-red-500",children:""}),"Wear comfortable shoes  you'll be standing"]}),v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"text-red-500",children:""}),"Bring earplugs to protect your hearing"]}),v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"text-red-500",children:""}),"Check the venue's bag policy before going"]}),v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"text-red-500",children:""}),"Stay hydrated  bring a sealed water bottle if allowed"]})]})]})})]}),r&&((h=r.activities)==null?void 0:h.length)>0&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"h-px bg-red-900/50 mx-8"}),v.jsxs("div",{className:"p-6 md:p-12",children:[v.jsxs("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-4",children:[" Day ",r.dayNumber," Schedule"]}),v.jsx("div",{className:"space-y-3",children:r.activities.map(m=>v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-sm font-mono text-gray-500 w-12",children:m.time||"--:--"}),v.jsx("span",{className:"text-lg",children:m.emoji}),v.jsxs("div",{children:[v.jsx("p",{className:"text-white text-sm font-medium",children:m.name}),m.notes&&v.jsx("p",{className:"text-gray-500 text-xs",children:m.notes})]})]},m.id))})]})]}),v.jsx("div",{className:"h-1 bg-[#141413]"})]})})}function yie({activeTab:t}){switch(t){case"overview":return v.jsx(jI,{});case"itinerary":return v.jsx(hq,{});case"bookings":return v.jsx(yq,{});case"budget":return v.jsx(aie,{});case"todo":return v.jsx(uie,{});case"cities":return v.jsx(fie,{});case"packing":return v.jsx(pie,{});case"concert":return v.jsx(gie,{});default:return v.jsx(jI,{})}}function vie({onNewTrip:t}){return v.jsx("div",{className:"flex-1 flex items-center justify-center p-8 animate-fade-in-up",children:v.jsxs("div",{className:"text-center max-w-sm",children:[v.jsx("div",{className:"text-7xl mb-6 animate-pulse-warm",children:""}),v.jsx("h2",{className:"font-heading text-2xl font-bold text-text-primary mb-3",children:"No trips yet"}),v.jsx("p",{className:"text-text-muted text-sm leading-relaxed mb-8",children:"Every great adventure starts with a plan. Create your first trip and let Wanderplan help you make it unforgettable."}),v.jsxs("button",{onClick:t,className:`inline-flex items-center gap-2 px-6 py-3
                     bg-accent hover:bg-accent-hover text-text-inverse
                     font-semibold text-sm rounded-[var(--radius-md)]
                     transition-all duration-200 active:scale-[0.98]`,children:[v.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),v.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Plan Your First Trip"]})]})})}function xie({onClick:t}){return v.jsx("button",{onClick:t,className:`fixed top-4 left-4 z-30 p-2.5
                 bg-bg-secondary border border-border
                 rounded-[var(--radius-md)]
                 text-text-secondary hover:text-text-primary
                 transition-colors duration-150
                 md:hidden`,"aria-label":"Open sidebar",children:v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),v.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),v.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})}function H4({message:t="Loading"}){return v.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-4xl mb-4 animate-pulse-warm",children:""}),v.jsx("p",{className:"text-text-muted text-sm animate-pulse",children:t})]})})}function bie({signOutUser:t}){const{state:e,dispatch:n,activeTrip:r,sortedTrips:i,showToast:a,firestoreLoading:s}=N9(),l=j9("(max-width: 767px)"),[c,f]=W.useState(!1),h=W.useCallback(()=>{f(!0),l&&n({type:me.SET_SIDEBAR,payload:!1})},[l,n]),m=W.useCallback(()=>f(!1),[]),y=W.useCallback(()=>n({type:me.SET_SIDEBAR,payload:!0}),[n]),b=e.activeTab==="concert";return s?v.jsx(H4,{message:"Loading your trips"}):v.jsx(mj.Provider,{value:{state:e,dispatch:n,activeTrip:r,sortedTrips:i,showToast:a,signOutUser:t},children:v.jsxs("div",{className:"flex h-screen overflow-hidden bg-bg-primary text-text-secondary",children:[v.jsx(U9,{isMobile:l,isOpen:e.sidebarOpen,onNewTrip:h}),l&&v.jsx(xie,{onClick:y}),v.jsx("main",{className:`
            flex-1 flex flex-col overflow-hidden bg-bg-primary
            ${b?"concert-theme":""}
            transition-colors duration-300
          `,children:r?v.jsxs(v.Fragment,{children:[v.jsx(q9,{}),v.jsx(H9,{}),v.jsx("div",{id:`panel-${e.activeTab}`,role:"tabpanel",className:"flex-1 overflow-y-auto",children:v.jsx("div",{className:"px-8 py-7 max-w-4xl mx-auto",children:v.jsx(yie,{activeTab:e.activeTab})})})]}):v.jsx(vie,{onNewTrip:h})}),v.jsx(eq,{isOpen:c,onClose:m}),v.jsx(uq,{}),v.jsx(tq,{message:e.toast.message,type:e.toast.type,visible:e.toast.visible})]})})}function _ie(){const{user:t,authLoading:e,signInWithGoogle:n,signOutUser:r}=DD();return e?v.jsx(H4,{message:"Loading"}):t?["valentin.bonite@gmail.com","juliannsibi@gmail.com"].includes(t.email)?v.jsx(bie,{signOutUser:r}):v.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary",children:v.jsxs("div",{className:"text-center max-w-sm px-8",children:[v.jsx("div",{className:"text-5xl mb-5",children:""}),v.jsx("h2",{className:"font-heading text-xl font-bold text-text-primary mb-2",children:"Access restricted"}),v.jsxs("p",{className:"text-text-muted text-sm mb-6 leading-relaxed",children:["This app is private. You signed in as ",v.jsx("span",{className:"text-text-primary font-medium",children:t.email}),", which isn't on the access list."]}),v.jsx("button",{onClick:r,className:"text-sm text-accent hover:underline",children:"Sign out and try another account"})]})}):v.jsx(R9,{onSignIn:n})}u$.createRoot(document.getElementById("root")).render(v.jsx(K.StrictMode,{children:v.jsx(_ie,{})}));
