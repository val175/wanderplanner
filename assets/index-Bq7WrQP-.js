(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ht(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cy={exports:{}},cc={},Oy={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS;function s$(){if(KS)return He;KS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=m&&z[m]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function _(z,G,ge){this.props=z,this.context=G,this.refs=T,this.updater=ge||x}_.prototype.isReactComponent={},_.prototype.setState=function(z,G){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,G,"setState")},_.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function C(){}C.prototype=_.prototype;function D(z,G,ge){this.props=z,this.context=G,this.refs=T,this.updater=ge||x}var N=D.prototype=new C;N.constructor=D,S(N,_.prototype),N.isPureReactComponent=!0;var R=Array.isArray,O=Object.prototype.hasOwnProperty,j={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function P(z,G,ge){var _e,Ce={},Re=null,We=null;if(G!=null)for(_e in G.ref!==void 0&&(We=G.ref),G.key!==void 0&&(Re=""+G.key),G)O.call(G,_e)&&!A.hasOwnProperty(_e)&&(Ce[_e]=G[_e]);var Le=arguments.length-2;if(Le===1)Ce.children=ge;else if(1<Le){for(var he=Array(Le),Oe=0;Oe<Le;Oe++)he[Oe]=arguments[Oe+2];Ce.children=he}if(z&&z.defaultProps)for(_e in Le=z.defaultProps,Le)Ce[_e]===void 0&&(Ce[_e]=Le[_e]);return{$$typeof:t,type:z,key:Re,ref:We,props:Ce,_owner:j.current}}function I(z,G){return{$$typeof:t,type:z.type,key:G,ref:z.ref,props:z.props,_owner:z._owner}}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function $(z){var G={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ge){return G[ge]})}var B=/\/+/g;function L(z,G){return typeof z=="object"&&z!==null&&z.key!=null?$(""+z.key):G.toString(36)}function Q(z,G,ge,_e,Ce){var Re=typeof z;(Re==="undefined"||Re==="boolean")&&(z=null);var We=!1;if(z===null)We=!0;else switch(Re){case"string":case"number":We=!0;break;case"object":switch(z.$$typeof){case t:case e:We=!0}}if(We)return We=z,Ce=Ce(We),z=_e===""?"."+L(We,0):_e,R(Ce)?(ge="",z!=null&&(ge=z.replace(B,"$&/")+"/"),Q(Ce,G,ge,"",function(Oe){return Oe})):Ce!=null&&(V(Ce)&&(Ce=I(Ce,ge+(!Ce.key||We&&We.key===Ce.key?"":(""+Ce.key).replace(B,"$&/")+"/")+z)),G.push(Ce)),1;if(We=0,_e=_e===""?".":_e+":",R(z))for(var Le=0;Le<z.length;Le++){Re=z[Le];var he=_e+L(Re,Le);We+=Q(Re,G,ge,he,Ce)}else if(he=v(z),typeof he=="function")for(z=he.call(z),Le=0;!(Re=z.next()).done;)Re=Re.value,he=_e+L(Re,Le++),We+=Q(Re,G,ge,he,Ce);else if(Re==="object")throw G=String(z),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return We}function ee(z,G,ge){if(z==null)return z;var _e=[],Ce=0;return Q(z,_e,"","",function(Re){return G.call(ge,Re,Ce++)}),_e}function ae(z){if(z._status===-1){var G=z._result;G=G(),G.then(function(ge){(z._status===0||z._status===-1)&&(z._status=1,z._result=ge)},function(ge){(z._status===0||z._status===-1)&&(z._status=2,z._result=ge)}),z._status===-1&&(z._status=0,z._result=G)}if(z._status===1)return z._result.default;throw z._result}var se={current:null},J={transition:null},ie={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:J,ReactCurrentOwner:j};function re(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:ee,forEach:function(z,G,ge){ee(z,function(){G.apply(this,arguments)},ge)},count:function(z){var G=0;return ee(z,function(){G++}),G},toArray:function(z){return ee(z,function(G){return G})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},He.Component=_,He.Fragment=n,He.Profiler=i,He.PureComponent=D,He.StrictMode=r,He.Suspense=c,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,He.act=re,He.cloneElement=function(z,G,ge){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var _e=S({},z.props),Ce=z.key,Re=z.ref,We=z._owner;if(G!=null){if(G.ref!==void 0&&(Re=G.ref,We=j.current),G.key!==void 0&&(Ce=""+G.key),z.type&&z.type.defaultProps)var Le=z.type.defaultProps;for(he in G)O.call(G,he)&&!A.hasOwnProperty(he)&&(_e[he]=G[he]===void 0&&Le!==void 0?Le[he]:G[he])}var he=arguments.length-2;if(he===1)_e.children=ge;else if(1<he){Le=Array(he);for(var Oe=0;Oe<he;Oe++)Le[Oe]=arguments[Oe+2];_e.children=Le}return{$$typeof:t,type:z.type,key:Ce,ref:Re,props:_e,_owner:We}},He.createContext=function(z){return z={$$typeof:s,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},He.createElement=P,He.createFactory=function(z){var G=P.bind(null,z);return G.type=z,G},He.createRef=function(){return{current:null}},He.forwardRef=function(z){return{$$typeof:l,render:z}},He.isValidElement=V,He.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:ae}},He.memo=function(z,G){return{$$typeof:f,type:z,compare:G===void 0?null:G}},He.startTransition=function(z){var G=J.transition;J.transition={};try{z()}finally{J.transition=G}},He.unstable_act=re,He.useCallback=function(z,G){return se.current.useCallback(z,G)},He.useContext=function(z){return se.current.useContext(z)},He.useDebugValue=function(){},He.useDeferredValue=function(z){return se.current.useDeferredValue(z)},He.useEffect=function(z,G){return se.current.useEffect(z,G)},He.useId=function(){return se.current.useId()},He.useImperativeHandle=function(z,G,ge){return se.current.useImperativeHandle(z,G,ge)},He.useInsertionEffect=function(z,G){return se.current.useInsertionEffect(z,G)},He.useLayoutEffect=function(z,G){return se.current.useLayoutEffect(z,G)},He.useMemo=function(z,G){return se.current.useMemo(z,G)},He.useReducer=function(z,G,ge){return se.current.useReducer(z,G,ge)},He.useRef=function(z){return se.current.useRef(z)},He.useState=function(z){return se.current.useState(z)},He.useSyncExternalStore=function(z,G,ge){return se.current.useSyncExternalStore(z,G,ge)},He.useTransition=function(){return se.current.useTransition()},He.version="18.3.1",He}var YS;function Lw(){return YS||(YS=1,Oy.exports=s$()),Oy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS;function u$(){if(XS)return cc;XS=1;var t=Lw(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,f){var h,m={},v=null,x=null;f!==void 0&&(v=""+f),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(x=c.ref);for(h in c)r.call(c,h)&&!o.hasOwnProperty(h)&&(m[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)m[h]===void 0&&(m[h]=c[h]);return{$$typeof:e,type:l,key:v,ref:x,props:m,_owner:i.current}}return cc.Fragment=n,cc.jsx=s,cc.jsxs=s,cc}var QS;function l$(){return QS||(QS=1,Cy.exports=u$()),Cy.exports}var y=l$(),q=Lw();const K=ht(q);var fh={},ky={exports:{}},Un={},Ny={exports:{}},jy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JS;function c$(){return JS||(JS=1,(function(t){function e(J,ie){var re=J.length;J.push(ie);e:for(;0<re;){var z=re-1>>>1,G=J[z];if(0<i(G,ie))J[z]=ie,J[re]=G,re=z;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ie=J[0],re=J.pop();if(re!==ie){J[0]=re;e:for(var z=0,G=J.length,ge=G>>>1;z<ge;){var _e=2*(z+1)-1,Ce=J[_e],Re=_e+1,We=J[Re];if(0>i(Ce,re))Re<G&&0>i(We,Ce)?(J[z]=We,J[Re]=re,z=Re):(J[z]=Ce,J[_e]=re,z=_e);else if(Re<G&&0>i(We,re))J[z]=We,J[Re]=re,z=Re;else break e}}return ie}function i(J,ie){var re=J.sortIndex-ie.sortIndex;return re!==0?re:J.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],f=[],h=1,m=null,v=3,x=!1,S=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(J){for(var ie=n(f);ie!==null;){if(ie.callback===null)r(f);else if(ie.startTime<=J)r(f),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=n(f)}}function R(J){if(T=!1,N(J),!S)if(n(c)!==null)S=!0,ae(O);else{var ie=n(f);ie!==null&&se(R,ie.startTime-J)}}function O(J,ie){S=!1,T&&(T=!1,C(P),P=-1),x=!0;var re=v;try{for(N(ie),m=n(c);m!==null&&(!(m.expirationTime>ie)||J&&!$());){var z=m.callback;if(typeof z=="function"){m.callback=null,v=m.priorityLevel;var G=z(m.expirationTime<=ie);ie=t.unstable_now(),typeof G=="function"?m.callback=G:m===n(c)&&r(c),N(ie)}else r(c);m=n(c)}if(m!==null)var ge=!0;else{var _e=n(f);_e!==null&&se(R,_e.startTime-ie),ge=!1}return ge}finally{m=null,v=re,x=!1}}var j=!1,A=null,P=-1,I=5,V=-1;function $(){return!(t.unstable_now()-V<I)}function B(){if(A!==null){var J=t.unstable_now();V=J;var ie=!0;try{ie=A(!0,J)}finally{ie?L():(j=!1,A=null)}}else j=!1}var L;if(typeof D=="function")L=function(){D(B)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ee=Q.port2;Q.port1.onmessage=B,L=function(){ee.postMessage(null)}}else L=function(){_(B,0)};function ae(J){A=J,j||(j=!0,L())}function se(J,ie){P=_(function(){J(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,ae(O))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(J){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var re=v;v=ie;try{return J()}finally{v=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,ie){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var re=v;v=J;try{return ie()}finally{v=re}},t.unstable_scheduleCallback=function(J,ie,re){var z=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?z+re:z):re=z,J){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=re+G,J={id:h++,callback:ie,priorityLevel:J,startTime:re,expirationTime:G,sortIndex:-1},re>z?(J.sortIndex=re,e(f,J),n(c)===null&&J===n(f)&&(T?(C(P),P=-1):T=!0,se(R,re-z))):(J.sortIndex=G,e(c,J),S||x||(S=!0,ae(O))),J},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(J){var ie=v;return function(){var re=v;v=ie;try{return J.apply(this,arguments)}finally{v=re}}}})(jy)),jy}var ZS;function f$(){return ZS||(ZS=1,Ny.exports=c$()),Ny.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eA;function d$(){if(eA)return Un;eA=1;var t=Lw(),e=f$();function n(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(a,u){s(a,u),s(a+"Capture",u)}function s(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function v(a){return c.call(m,a)?!0:c.call(h,a)?!1:f.test(a)?m[a]=!0:(h[a]=!0,!1)}function x(a,u,d,g){if(d!==null&&d.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,u,d,g){if(u===null||typeof u>"u"||x(a,u,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function T(a,u,d,g,b,w,M){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=d,this.propertyName=a,this.type=u,this.sanitizeURL=w,this.removeEmptyString=M}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){_[a]=new T(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];_[u]=new T(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){_[a]=new T(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){_[a]=new T(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){_[a]=new T(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){_[a]=new T(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){_[a]=new T(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){_[a]=new T(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){_[a]=new T(a,5,!1,a.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function D(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(C,D);_[u]=new T(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(C,D);_[u]=new T(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(C,D);_[u]=new T(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){_[a]=new T(a,1,!1,a.toLowerCase(),null,!1,!1)}),_.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){_[a]=new T(a,1,!1,a.toLowerCase(),null,!0,!0)});function N(a,u,d,g){var b=_.hasOwnProperty(u)?_[u]:null;(b!==null?b.type!==0:g||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(S(u,d,b,g)&&(d=null),g||b===null?v(u)&&(d===null?a.removeAttribute(u):a.setAttribute(u,""+d)):b.mustUseProperty?a[b.propertyName]=d===null?b.type===3?!1:"":d:(u=b.attributeName,g=b.attributeNamespace,d===null?a.removeAttribute(u):(b=b.type,d=b===3||b===4&&d===!0?"":""+d,g?a.setAttributeNS(g,u,d):a.setAttribute(u,d))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),j=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),$=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),J=Symbol.iterator;function ie(a){return a===null||typeof a!="object"?null:(a=J&&a[J]||a["@@iterator"],typeof a=="function"?a:null)}var re=Object.assign,z;function G(a){if(z===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);z=u&&u[1]||""}return`
`+z+a}var ge=!1;function _e(a,u){if(!a||ge)return"";ge=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(te){var g=te}Reflect.construct(a,[],u)}else{try{u.call()}catch(te){g=te}a.call(u.prototype)}else{try{throw Error()}catch(te){g=te}a()}}catch(te){if(te&&g&&typeof te.stack=="string"){for(var b=te.stack.split(`
`),w=g.stack.split(`
`),M=b.length-1,U=w.length-1;1<=M&&0<=U&&b[M]!==w[U];)U--;for(;1<=M&&0<=U;M--,U--)if(b[M]!==w[U]){if(M!==1||U!==1)do if(M--,U--,0>U||b[M]!==w[U]){var W=`
`+b[M].replace(" at new "," at ");return a.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",a.displayName)),W}while(1<=M&&0<=U);break}}}finally{ge=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?G(a):""}function Ce(a){switch(a.tag){case 5:return G(a.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return a=_e(a.type,!1),a;case 11:return a=_e(a.type.render,!1),a;case 1:return a=_e(a.type,!0),a;default:return""}}function Re(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case j:return"Portal";case I:return"Profiler";case P:return"StrictMode";case L:return"Suspense";case Q:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case $:return(a.displayName||"Context")+".Consumer";case V:return(a._context.displayName||"Context")+".Provider";case B:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ee:return u=a.displayName||null,u!==null?u:Re(a.type)||"Memo";case ae:u=a._payload,a=a._init;try{return Re(a(u))}catch{}}return null}function We(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(u);case 8:return u===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Le(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function he(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Oe(a){var u=he(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),g=""+a[u];if(!a.hasOwnProperty(u)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,w=d.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return b.call(this)},set:function(M){g=""+M,w.call(this,M)}}),Object.defineProperty(a,u,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(M){g=""+M},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Be(a){a._valueTracker||(a._valueTracker=Oe(a))}function ce(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var d=u.getValue(),g="";return a&&(g=he(a)?a.checked?"true":"false":a.value),a=g,a!==d?(u.setValue(a),!0):!1}function rt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function ze(a,u){var d=u.checked;return re({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function Pt(a,u){var d=u.defaultValue==null?"":u.defaultValue,g=u.checked!=null?u.checked:u.defaultChecked;d=Le(u.value!=null?u.value:d),a._wrapperState={initialChecked:g,initialValue:d,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function yt(a,u){u=u.checked,u!=null&&N(a,"checked",u,!1)}function Rt(a,u){yt(a,u);var d=Le(u.value),g=u.type;if(d!=null)g==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?pt(a,u.type,d):u.hasOwnProperty("defaultValue")&&pt(a,u.type,Le(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function Mn(a,u,d){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var g=u.type;if(!(g!=="submit"&&g!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,d||u===a.value||(a.value=u),a.defaultValue=u}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function pt(a,u,d){(u!=="number"||rt(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var vt=Array.isArray;function Kt(a,u,d,g){if(a=a.options,u){u={};for(var b=0;b<d.length;b++)u["$"+d[b]]=!0;for(d=0;d<a.length;d++)b=u.hasOwnProperty("$"+a[d].value),a[d].selected!==b&&(a[d].selected=b),b&&g&&(a[d].defaultSelected=!0)}else{for(d=""+Le(d),u=null,b=0;b<a.length;b++){if(a[b].value===d){a[b].selected=!0,g&&(a[b].defaultSelected=!0);return}u!==null||a[b].disabled||(u=a[b])}u!==null&&(u.selected=!0)}}function Kn(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Ai(a,u){var d=u.value;if(d==null){if(d=u.children,u=u.defaultValue,d!=null){if(u!=null)throw Error(n(92));if(vt(d)){if(1<d.length)throw Error(n(93));d=d[0]}u=d}u==null&&(u=""),d=u}a._wrapperState={initialValue:Le(d)}}function ma(a,u){var d=Le(u.value),g=Le(u.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),u.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),g!=null&&(a.defaultValue=""+g)}function Sr(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function bl(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ts(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?bl(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var mo,Qf=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,d,g,b){MSApp.execUnsafeLocalFunction(function(){return a(u,d,g,b)})}:a})(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(mo=mo||document.createElement("div"),mo.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=mo.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function ga(a,u){if(u){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=u;return}}a.textContent=u}var go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jf=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(a){Jf.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),go[u]=go[a]})});function yo(a,u,d){return u==null||typeof u=="boolean"||u===""?"":d||typeof u!="number"||u===0||go.hasOwnProperty(a)&&go[a]?(""+u).trim():u+"px"}function Ss(a,u){a=a.style;for(var d in u)if(u.hasOwnProperty(d)){var g=d.indexOf("--")===0,b=yo(d,u[d],g);d==="float"&&(d="cssFloat"),g?a.setProperty(d,b):a[d]=b}}var _l=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ar(a,u){if(u){if(_l[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function As(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vo=null;function Ps(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Pi=null,Ii=null,Dt=null;function wl(a){if(a=Yl(a)){if(typeof Pi!="function")throw Error(n(280));var u=a.stateNode;u&&(u=Sd(u),Pi(a.stateNode,a.type,u))}}function xo(a){Ii?Dt?Dt.push(a):Dt=[a]:Ii=a}function bo(){if(Ii){var a=Ii,u=Dt;if(Dt=Ii=null,wl(a),u)for(a=0;a<u.length;a++)wl(u[a])}}function Zf(a,u){return a(u)}function ed(){}var Hr=!1;function td(a,u,d){if(Hr)return a(u,d);Hr=!0;try{return Zf(a,u,d)}finally{Hr=!1,(Ii!==null||Dt!==null)&&(ed(),bo())}}function ya(a,u){var d=a.stateNode;if(d===null)return null;var g=Sd(d);if(g===null)return null;d=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(n(231,u,typeof d));return d}var _o=!1;if(l)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){_o=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{_o=!1}function nd(a,u,d,g,b,w,M,U,W){var te=Array.prototype.slice.call(arguments,3);try{u.apply(d,te)}catch(de){this.onError(de)}}var Ci=!1,Gr=null,Is=!1,ur=null,rd={onError:function(a){Ci=!0,Gr=a}};function id(a,u,d,g,b,w,M,U,W){Ci=!1,Gr=null,nd.apply(rd,arguments)}function El(a,u,d,g,b,w,M,U,W){if(id.apply(this,arguments),Ci){if(Ci){var te=Gr;Ci=!1,Gr=null}else throw Error(n(198));Is||(Is=!0,ur=te)}}function Pr(a){var u=a,d=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(d=u.return),a=u.return;while(a)}return u.tag===3?d:null}function Tl(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function od(a){if(Pr(a)!==a)throw Error(n(188))}function ad(a){var u=a.alternate;if(!u){if(u=Pr(a),u===null)throw Error(n(188));return u!==a?null:a}for(var d=a,g=u;;){var b=d.return;if(b===null)break;var w=b.alternate;if(w===null){if(g=b.return,g!==null){d=g;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===d)return od(b),a;if(w===g)return od(b),u;w=w.sibling}throw Error(n(188))}if(d.return!==g.return)d=b,g=w;else{for(var M=!1,U=b.child;U;){if(U===d){M=!0,d=b,g=w;break}if(U===g){M=!0,g=b,d=w;break}U=U.sibling}if(!M){for(U=w.child;U;){if(U===d){M=!0,d=w,g=b;break}if(U===g){M=!0,g=w,d=b;break}U=U.sibling}if(!M)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?a:u}function sd(a){return a=ad(a),a!==null?va(a):null}function va(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=va(a);if(u!==null)return u;a=a.sibling}return null}var Sl=e.unstable_scheduleCallback,Cs=e.unstable_cancelCallback,xa=e.unstable_shouldYield,Oi=e.unstable_requestPaint,_t=e.unstable_now,ag=e.unstable_getCurrentPriorityLevel,Os=e.unstable_ImmediatePriority,Al=e.unstable_UserBlockingPriority,ba=e.unstable_NormalPriority,Pl=e.unstable_LowPriority,ks=e.unstable_IdlePriority,_a=null,Yn=null;function ud(a){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(_a,a,void 0,(a.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:wa,Kr=Math.log,lr=Math.LN2;function wa(a){return a>>>=0,a===0?32:31-(Kr(a)/lr|0)|0}var Yr=64,Eo=4194304;function it(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function ki(a,u){var d=a.pendingLanes;if(d===0)return 0;var g=0,b=a.suspendedLanes,w=a.pingedLanes,M=d&268435455;if(M!==0){var U=M&~b;U!==0?g=it(U):(w&=M,w!==0&&(g=it(w)))}else M=d&~b,M!==0?g=it(M):w!==0&&(g=it(w));if(g===0)return 0;if(u!==0&&u!==g&&(u&b)===0&&(b=g&-g,w=u&-u,b>=w||b===16&&(w&4194240)!==0))return u;if((g&4)!==0&&(g|=d&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=g;0<u;)d=31-Xn(u),b=1<<d,g|=a[d],u&=~b;return g}function Ea(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ta(a,u){for(var d=a.suspendedLanes,g=a.pingedLanes,b=a.expirationTimes,w=a.pendingLanes;0<w;){var M=31-Xn(w),U=1<<M,W=b[M];W===-1?((U&d)===0||(U&g)!==0)&&(b[M]=Ea(U,u)):W<=u&&(a.expiredLanes|=U),w&=~U}}function Il(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Cl(){var a=Yr;return Yr<<=1,(Yr&4194240)===0&&(Yr=64),a}function Ol(a){for(var u=[],d=0;31>d;d++)u.push(a);return u}function Sa(a,u,d){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-Xn(u),a[u]=d}function sg(a,u){var d=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<d;){var b=31-Xn(d),w=1<<b;u[b]=0,g[b]=-1,a[b]=-1,d&=~w}}function kl(a,u){var d=a.entangledLanes|=u;for(a=a.entanglements;d;){var g=31-Xn(d),b=1<<g;b&u|a[g]&u&&(a[g]|=u),d&=~b}}var Qe=0;function Xr(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Nl,Ns,jl,Rl,Dl,Qr=!1,js=[],Jr=null,Zr=null,dn=null,Aa=new Map,Ni=new Map,Qn=[],ld="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function To(a,u){switch(a){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":Aa.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ni.delete(u.pointerId)}}function Ir(a,u,d,g,b,w){return a===null||a.nativeEvent!==w?(a={blockedOn:u,domEventName:d,eventSystemFlags:g,nativeEvent:w,targetContainers:[b]},u!==null&&(u=Yl(u),u!==null&&Ns(u)),a):(a.eventSystemFlags|=g,u=a.targetContainers,b!==null&&u.indexOf(b)===-1&&u.push(b),a)}function cd(a,u,d,g,b){switch(u){case"focusin":return Jr=Ir(Jr,a,u,d,g,b),!0;case"dragenter":return Zr=Ir(Zr,a,u,d,g,b),!0;case"mouseover":return dn=Ir(dn,a,u,d,g,b),!0;case"pointerover":var w=b.pointerId;return Aa.set(w,Ir(Aa.get(w)||null,a,u,d,g,b)),!0;case"gotpointercapture":return w=b.pointerId,Ni.set(w,Ir(Ni.get(w)||null,a,u,d,g,b)),!0}return!1}function Rs(a){var u=Oa(a.target);if(u!==null){var d=Pr(u);if(d!==null){if(u=d.tag,u===13){if(u=Tl(d),u!==null){a.blockedOn=u,Dl(a.priority,function(){jl(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function mt(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var d=Ds(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);vo=g,d.target.dispatchEvent(g),vo=null}else return u=Yl(d),u!==null&&Ns(u),a.blockedOn=d,!1;u.shift()}return!0}function fd(a,u,d){mt(a)&&d.delete(u)}function ug(){Qr=!1,Jr!==null&&mt(Jr)&&(Jr=null),Zr!==null&&mt(Zr)&&(Zr=null),dn!==null&&mt(dn)&&(dn=null),Aa.forEach(fd),Ni.forEach(fd)}function So(a,u){a.blockedOn===u&&(a.blockedOn=null,Qr||(Qr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ug)))}function Ao(a){function u(b){return So(b,a)}if(0<js.length){So(js[0],a);for(var d=1;d<js.length;d++){var g=js[d];g.blockedOn===a&&(g.blockedOn=null)}}for(Jr!==null&&So(Jr,a),Zr!==null&&So(Zr,a),dn!==null&&So(dn,a),Aa.forEach(u),Ni.forEach(u),d=0;d<Qn.length;d++)g=Qn[d],g.blockedOn===a&&(g.blockedOn=null);for(;0<Qn.length&&(d=Qn[0],d.blockedOn===null);)Rs(d),d.blockedOn===null&&Qn.shift()}var ji=R.ReactCurrentBatchConfig,Ri=!0;function ei(a,u,d,g){var b=Qe,w=ji.transition;ji.transition=null;try{Qe=1,Ml(a,u,d,g)}finally{Qe=b,ji.transition=w}}function dd(a,u,d,g){var b=Qe,w=ji.transition;ji.transition=null;try{Qe=4,Ml(a,u,d,g)}finally{Qe=b,ji.transition=w}}function Ml(a,u,d,g){if(Ri){var b=Ds(a,u,d,g);if(b===null)xg(a,u,g,ti,d),To(a,g);else if(cd(b,a,u,d,g))g.stopPropagation();else if(To(a,g),u&4&&-1<ld.indexOf(a)){for(;b!==null;){var w=Yl(b);if(w!==null&&Nl(w),w=Ds(a,u,d,g),w===null&&xg(a,u,g,ti,d),w===b)break;b=w}b!==null&&g.stopPropagation()}else xg(a,u,g,null,d)}}var ti=null;function Ds(a,u,d,g){if(ti=null,a=Ps(g),a=Oa(a),a!==null)if(u=Pr(a),u===null)a=null;else if(d=u.tag,d===13){if(a=Tl(u),a!==null)return a;a=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return ti=a,null}function Ms(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ag()){case Os:return 1;case Al:return 4;case ba:case Pl:return 16;case ks:return 536870912;default:return 16}default:return 16}}var Jn=null,Ls=null,Di=null;function hd(){if(Di)return Di;var a,u=Ls,d=u.length,g,b="value"in Jn?Jn.value:Jn.textContent,w=b.length;for(a=0;a<d&&u[a]===b[a];a++);var M=d-a;for(g=1;g<=M&&u[d-g]===b[w-g];g++);return Di=b.slice(a,1<g?1-g:void 0)}function Pa(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function ni(){return!0}function Ll(){return!1}function _n(a){function u(d,g,b,w,M){this._reactName=d,this._targetInst=b,this.type=g,this.nativeEvent=w,this.target=M,this.currentTarget=null;for(var U in a)a.hasOwnProperty(U)&&(d=a[U],this[U]=d?d(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ni:Ll,this.isPropagationStopped=Ll,this}return re(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),u}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=_n(ri),Po=re({},ri,{view:0,detail:0}),$s=_n(Po),Vs,Bs,Zn,Ca=re({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ue,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Zn&&(Zn&&a.type==="mousemove"?(Vs=a.screenX-Zn.screenX,Bs=a.screenY-Zn.screenY):Bs=Vs=0,Zn=a),Vs)},movementY:function(a){return"movementY"in a?a.movementY:Bs}}),$l=_n(Ca),pd=re({},Ca,{dataTransfer:0}),md=_n(pd),Fs=re({},Po,{relatedTarget:0}),hn=_n(Fs),gd=re({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),yd=_n(gd),Io=re({},ri,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),p=_n(Io),E=re({},ri,{data:0}),k=_n(E),F={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ve(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=ne[a])?!!u[a]:!1}function Ue(){return ve}var $t=re({},Po,{key:function(a){if(a.key){var u=F[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Pa(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?X[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ue,charCode:function(a){return a.type==="keypress"?Pa(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Pa(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ft=_n($t),Ft=re({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),er=_n(Ft),Mi=re({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ue}),ii=_n(Mi),oi=re({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),Us=_n(oi),Vl=re({},Ca,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),t3=_n(Vl),n3=[9,13,27,32],lg=l&&"CompositionEvent"in window,Bl=null;l&&"documentMode"in document&&(Bl=document.documentMode);var r3=l&&"TextEvent"in window&&!Bl,BE=l&&(!lg||Bl&&8<Bl&&11>=Bl),FE=" ",UE=!1;function qE(a,u){switch(a){case"keyup":return n3.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zE(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var qs=!1;function i3(a,u){switch(a){case"compositionend":return zE(u);case"keypress":return u.which!==32?null:(UE=!0,FE);case"textInput":return a=u.data,a===FE&&UE?null:a;default:return null}}function o3(a,u){if(qs)return a==="compositionend"||!lg&&qE(a,u)?(a=hd(),Di=Ls=Jn=null,qs=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return BE&&u.locale!=="ko"?null:u.data;default:return null}}var a3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WE(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!a3[a.type]:u==="textarea"}function HE(a,u,d,g){xo(g),u=wd(u,"onChange"),0<u.length&&(d=new Ia("onChange","change",null,d,g),a.push({event:d,listeners:u}))}var Fl=null,Ul=null;function s3(a){cT(a,0)}function vd(a){var u=Ks(a);if(ce(u))return a}function u3(a,u){if(a==="change")return u}var GE=!1;if(l){var cg;if(l){var fg="oninput"in document;if(!fg){var KE=document.createElement("div");KE.setAttribute("oninput","return;"),fg=typeof KE.oninput=="function"}cg=fg}else cg=!1;GE=cg&&(!document.documentMode||9<document.documentMode)}function YE(){Fl&&(Fl.detachEvent("onpropertychange",XE),Ul=Fl=null)}function XE(a){if(a.propertyName==="value"&&vd(Ul)){var u=[];HE(u,Ul,a,Ps(a)),td(s3,u)}}function l3(a,u,d){a==="focusin"?(YE(),Fl=u,Ul=d,Fl.attachEvent("onpropertychange",XE)):a==="focusout"&&YE()}function c3(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return vd(Ul)}function f3(a,u){if(a==="click")return vd(u)}function d3(a,u){if(a==="input"||a==="change")return vd(u)}function h3(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var Cr=typeof Object.is=="function"?Object.is:h3;function ql(a,u){if(Cr(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var d=Object.keys(a),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var b=d[g];if(!c.call(u,b)||!Cr(a[b],u[b]))return!1}return!0}function QE(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function JE(a,u){var d=QE(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=u&&g>=u)return{node:d,offset:u-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=QE(d)}}function ZE(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?ZE(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function eT(){for(var a=window,u=rt();u instanceof a.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)a=u.contentWindow;else break;u=rt(a.document)}return u}function dg(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function p3(a){var u=eT(),d=a.focusedElem,g=a.selectionRange;if(u!==d&&d&&d.ownerDocument&&ZE(d.ownerDocument.documentElement,d)){if(g!==null&&dg(d)){if(u=g.start,a=g.end,a===void 0&&(a=u),"selectionStart"in d)d.selectionStart=u,d.selectionEnd=Math.min(a,d.value.length);else if(a=(u=d.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var b=d.textContent.length,w=Math.min(g.start,b);g=g.end===void 0?w:Math.min(g.end,b),!a.extend&&w>g&&(b=g,g=w,w=b),b=JE(d,w);var M=JE(d,g);b&&M&&(a.rangeCount!==1||a.anchorNode!==b.node||a.anchorOffset!==b.offset||a.focusNode!==M.node||a.focusOffset!==M.offset)&&(u=u.createRange(),u.setStart(b.node,b.offset),a.removeAllRanges(),w>g?(a.addRange(u),a.extend(M.node,M.offset)):(u.setEnd(M.node,M.offset),a.addRange(u)))}}for(u=[],a=d;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<u.length;d++)a=u[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var m3=l&&"documentMode"in document&&11>=document.documentMode,zs=null,hg=null,zl=null,pg=!1;function tT(a,u,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;pg||zs==null||zs!==rt(g)||(g=zs,"selectionStart"in g&&dg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),zl&&ql(zl,g)||(zl=g,g=wd(hg,"onSelect"),0<g.length&&(u=new Ia("onSelect","select",null,u,d),a.push({event:u,listeners:g}),u.target=zs)))}function xd(a,u){var d={};return d[a.toLowerCase()]=u.toLowerCase(),d["Webkit"+a]="webkit"+u,d["Moz"+a]="moz"+u,d}var Ws={animationend:xd("Animation","AnimationEnd"),animationiteration:xd("Animation","AnimationIteration"),animationstart:xd("Animation","AnimationStart"),transitionend:xd("Transition","TransitionEnd")},mg={},nT={};l&&(nT=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function bd(a){if(mg[a])return mg[a];if(!Ws[a])return a;var u=Ws[a],d;for(d in u)if(u.hasOwnProperty(d)&&d in nT)return mg[a]=u[d];return a}var rT=bd("animationend"),iT=bd("animationiteration"),oT=bd("animationstart"),aT=bd("transitionend"),sT=new Map,uT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(a,u){sT.set(a,u),o(u,[a])}for(var gg=0;gg<uT.length;gg++){var yg=uT[gg],g3=yg.toLowerCase(),y3=yg[0].toUpperCase()+yg.slice(1);Co(g3,"on"+y3)}Co(rT,"onAnimationEnd"),Co(iT,"onAnimationIteration"),Co(oT,"onAnimationStart"),Co("dblclick","onDoubleClick"),Co("focusin","onFocus"),Co("focusout","onBlur"),Co(aT,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wl));function lT(a,u,d){var g=a.type||"unknown-event";a.currentTarget=d,El(g,u,void 0,a),a.currentTarget=null}function cT(a,u){u=(u&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],b=g.event;g=g.listeners;e:{var w=void 0;if(u)for(var M=g.length-1;0<=M;M--){var U=g[M],W=U.instance,te=U.currentTarget;if(U=U.listener,W!==w&&b.isPropagationStopped())break e;lT(b,U,te),w=W}else for(M=0;M<g.length;M++){if(U=g[M],W=U.instance,te=U.currentTarget,U=U.listener,W!==w&&b.isPropagationStopped())break e;lT(b,U,te),w=W}}}if(Is)throw a=ur,Is=!1,ur=null,a}function wt(a,u){var d=u[Sg];d===void 0&&(d=u[Sg]=new Set);var g=a+"__bubble";d.has(g)||(fT(u,a,2,!1),d.add(g))}function vg(a,u,d){var g=0;u&&(g|=4),fT(d,a,g,u)}var _d="_reactListening"+Math.random().toString(36).slice(2);function Hl(a){if(!a[_d]){a[_d]=!0,r.forEach(function(d){d!=="selectionchange"&&(v3.has(d)||vg(d,!1,a),vg(d,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[_d]||(u[_d]=!0,vg("selectionchange",!1,u))}}function fT(a,u,d,g){switch(Ms(u)){case 1:var b=ei;break;case 4:b=dd;break;default:b=Ml}d=b.bind(null,u,d,a),b=void 0,!_o||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(b=!0),g?b!==void 0?a.addEventListener(u,d,{capture:!0,passive:b}):a.addEventListener(u,d,!0):b!==void 0?a.addEventListener(u,d,{passive:b}):a.addEventListener(u,d,!1)}function xg(a,u,d,g,b){var w=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var U=g.stateNode.containerInfo;if(U===b||U.nodeType===8&&U.parentNode===b)break;if(M===4)for(M=g.return;M!==null;){var W=M.tag;if((W===3||W===4)&&(W=M.stateNode.containerInfo,W===b||W.nodeType===8&&W.parentNode===b))return;M=M.return}for(;U!==null;){if(M=Oa(U),M===null)return;if(W=M.tag,W===5||W===6){g=w=M;continue e}U=U.parentNode}}g=g.return}td(function(){var te=w,de=Ps(d),me=[];e:{var le=sT.get(a);if(le!==void 0){var be=Ia,Se=a;switch(a){case"keypress":if(Pa(d)===0)break e;case"keydown":case"keyup":be=ft;break;case"focusin":Se="focus",be=hn;break;case"focusout":Se="blur",be=hn;break;case"beforeblur":case"afterblur":be=hn;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=$l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=md;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=ii;break;case rT:case iT:case oT:be=yd;break;case aT:be=Us;break;case"scroll":be=$s;break;case"wheel":be=t3;break;case"copy":case"cut":case"paste":be=p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=er}var Ae=(u&4)!==0,Vt=!Ae&&a==="scroll",Y=Ae?le!==null?le+"Capture":null:le;Ae=[];for(var H=te,Z;H!==null;){Z=H;var ye=Z.stateNode;if(Z.tag===5&&ye!==null&&(Z=ye,Y!==null&&(ye=ya(H,Y),ye!=null&&Ae.push(Gl(H,ye,Z)))),Vt)break;H=H.return}0<Ae.length&&(le=new be(le,Se,null,d,de),me.push({event:le,listeners:Ae}))}}if((u&7)===0){e:{if(le=a==="mouseover"||a==="pointerover",be=a==="mouseout"||a==="pointerout",le&&d!==vo&&(Se=d.relatedTarget||d.fromElement)&&(Oa(Se)||Se[Li]))break e;if((be||le)&&(le=de.window===de?de:(le=de.ownerDocument)?le.defaultView||le.parentWindow:window,be?(Se=d.relatedTarget||d.toElement,be=te,Se=Se?Oa(Se):null,Se!==null&&(Vt=Pr(Se),Se!==Vt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(be=null,Se=te),be!==Se)){if(Ae=$l,ye="onMouseLeave",Y="onMouseEnter",H="mouse",(a==="pointerout"||a==="pointerover")&&(Ae=er,ye="onPointerLeave",Y="onPointerEnter",H="pointer"),Vt=be==null?le:Ks(be),Z=Se==null?le:Ks(Se),le=new Ae(ye,H+"leave",be,d,de),le.target=Vt,le.relatedTarget=Z,ye=null,Oa(de)===te&&(Ae=new Ae(Y,H+"enter",Se,d,de),Ae.target=Z,Ae.relatedTarget=Vt,ye=Ae),Vt=ye,be&&Se)t:{for(Ae=be,Y=Se,H=0,Z=Ae;Z;Z=Hs(Z))H++;for(Z=0,ye=Y;ye;ye=Hs(ye))Z++;for(;0<H-Z;)Ae=Hs(Ae),H--;for(;0<Z-H;)Y=Hs(Y),Z--;for(;H--;){if(Ae===Y||Y!==null&&Ae===Y.alternate)break t;Ae=Hs(Ae),Y=Hs(Y)}Ae=null}else Ae=null;be!==null&&dT(me,le,be,Ae,!1),Se!==null&&Vt!==null&&dT(me,Vt,Se,Ae,!0)}}e:{if(le=te?Ks(te):window,be=le.nodeName&&le.nodeName.toLowerCase(),be==="select"||be==="input"&&le.type==="file")var Pe=u3;else if(WE(le))if(GE)Pe=d3;else{Pe=c3;var Ne=l3}else(be=le.nodeName)&&be.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Pe=f3);if(Pe&&(Pe=Pe(a,te))){HE(me,Pe,d,de);break e}Ne&&Ne(a,le,te),a==="focusout"&&(Ne=le._wrapperState)&&Ne.controlled&&le.type==="number"&&pt(le,"number",le.value)}switch(Ne=te?Ks(te):window,a){case"focusin":(WE(Ne)||Ne.contentEditable==="true")&&(zs=Ne,hg=te,zl=null);break;case"focusout":zl=hg=zs=null;break;case"mousedown":pg=!0;break;case"contextmenu":case"mouseup":case"dragend":pg=!1,tT(me,d,de);break;case"selectionchange":if(m3)break;case"keydown":case"keyup":tT(me,d,de)}var je;if(lg)e:{switch(a){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else qs?qE(a,d)&&($e="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&($e="onCompositionStart");$e&&(BE&&d.locale!=="ko"&&(qs||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&qs&&(je=hd()):(Jn=de,Ls="value"in Jn?Jn.value:Jn.textContent,qs=!0)),Ne=wd(te,$e),0<Ne.length&&($e=new k($e,a,null,d,de),me.push({event:$e,listeners:Ne}),je?$e.data=je:(je=zE(d),je!==null&&($e.data=je)))),(je=r3?i3(a,d):o3(a,d))&&(te=wd(te,"onBeforeInput"),0<te.length&&(de=new k("onBeforeInput","beforeinput",null,d,de),me.push({event:de,listeners:te}),de.data=je))}cT(me,u)})}function Gl(a,u,d){return{instance:a,listener:u,currentTarget:d}}function wd(a,u){for(var d=u+"Capture",g=[];a!==null;){var b=a,w=b.stateNode;b.tag===5&&w!==null&&(b=w,w=ya(a,d),w!=null&&g.unshift(Gl(a,w,b)),w=ya(a,u),w!=null&&g.push(Gl(a,w,b))),a=a.return}return g}function Hs(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function dT(a,u,d,g,b){for(var w=u._reactName,M=[];d!==null&&d!==g;){var U=d,W=U.alternate,te=U.stateNode;if(W!==null&&W===g)break;U.tag===5&&te!==null&&(U=te,b?(W=ya(d,w),W!=null&&M.unshift(Gl(d,W,U))):b||(W=ya(d,w),W!=null&&M.push(Gl(d,W,U)))),d=d.return}M.length!==0&&a.push({event:u,listeners:M})}var x3=/\r\n?/g,b3=/\u0000|\uFFFD/g;function hT(a){return(typeof a=="string"?a:""+a).replace(x3,`
`).replace(b3,"")}function Ed(a,u,d){if(u=hT(u),hT(a)!==u&&d)throw Error(n(425))}function Td(){}var bg=null,_g=null;function wg(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Eg=typeof setTimeout=="function"?setTimeout:void 0,_3=typeof clearTimeout=="function"?clearTimeout:void 0,pT=typeof Promise=="function"?Promise:void 0,w3=typeof queueMicrotask=="function"?queueMicrotask:typeof pT<"u"?function(a){return pT.resolve(null).then(a).catch(E3)}:Eg;function E3(a){setTimeout(function(){throw a})}function Tg(a,u){var d=u,g=0;do{var b=d.nextSibling;if(a.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"){if(g===0){a.removeChild(b),Ao(u);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=b}while(d);Ao(u)}function Oo(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function mT(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(u===0)return a;u--}else d==="/$"&&u++}a=a.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),ai="__reactFiber$"+Gs,Kl="__reactProps$"+Gs,Li="__reactContainer$"+Gs,Sg="__reactEvents$"+Gs,T3="__reactListeners$"+Gs,S3="__reactHandles$"+Gs;function Oa(a){var u=a[ai];if(u)return u;for(var d=a.parentNode;d;){if(u=d[Li]||d[ai]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(a=mT(a);a!==null;){if(d=a[ai])return d;a=mT(a)}return u}a=d,d=a.parentNode}return null}function Yl(a){return a=a[ai]||a[Li],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ks(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Sd(a){return a[Kl]||null}var Ag=[],Ys=-1;function ko(a){return{current:a}}function Et(a){0>Ys||(a.current=Ag[Ys],Ag[Ys]=null,Ys--)}function xt(a,u){Ys++,Ag[Ys]=a.current,a.current=u}var No={},wn=ko(No),Ln=ko(!1),ka=No;function Xs(a,u){var d=a.type.contextTypes;if(!d)return No;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var b={},w;for(w in d)b[w]=u[w];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=b),b}function $n(a){return a=a.childContextTypes,a!=null}function Ad(){Et(Ln),Et(wn)}function gT(a,u,d){if(wn.current!==No)throw Error(n(168));xt(wn,u),xt(Ln,d)}function yT(a,u,d){var g=a.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var b in g)if(!(b in u))throw Error(n(108,We(a)||"Unknown",b));return re({},d,g)}function Pd(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||No,ka=wn.current,xt(wn,a),xt(Ln,Ln.current),!0}function vT(a,u,d){var g=a.stateNode;if(!g)throw Error(n(169));d?(a=yT(a,u,ka),g.__reactInternalMemoizedMergedChildContext=a,Et(Ln),Et(wn),xt(wn,a)):Et(Ln),xt(Ln,d)}var $i=null,Id=!1,Pg=!1;function xT(a){$i===null?$i=[a]:$i.push(a)}function A3(a){Id=!0,xT(a)}function jo(){if(!Pg&&$i!==null){Pg=!0;var a=0,u=Qe;try{var d=$i;for(Qe=1;a<d.length;a++){var g=d[a];do g=g(!0);while(g!==null)}$i=null,Id=!1}catch(b){throw $i!==null&&($i=$i.slice(a+1)),Sl(Os,jo),b}finally{Qe=u,Pg=!1}}return null}var Qs=[],Js=0,Cd=null,Od=0,cr=[],fr=0,Na=null,Vi=1,Bi="";function ja(a,u){Qs[Js++]=Od,Qs[Js++]=Cd,Cd=a,Od=u}function bT(a,u,d){cr[fr++]=Vi,cr[fr++]=Bi,cr[fr++]=Na,Na=a;var g=Vi;a=Bi;var b=32-Xn(g)-1;g&=~(1<<b),d+=1;var w=32-Xn(u)+b;if(30<w){var M=b-b%5;w=(g&(1<<M)-1).toString(32),g>>=M,b-=M,Vi=1<<32-Xn(u)+b|d<<b|g,Bi=w+a}else Vi=1<<w|d<<b|g,Bi=a}function Ig(a){a.return!==null&&(ja(a,1),bT(a,1,0))}function Cg(a){for(;a===Cd;)Cd=Qs[--Js],Qs[Js]=null,Od=Qs[--Js],Qs[Js]=null;for(;a===Na;)Na=cr[--fr],cr[fr]=null,Bi=cr[--fr],cr[fr]=null,Vi=cr[--fr],cr[fr]=null}var tr=null,nr=null,It=!1,Or=null;function _T(a,u){var d=mr(5,null,null,0);d.elementType="DELETED",d.stateNode=u,d.return=a,u=a.deletions,u===null?(a.deletions=[d],a.flags|=16):u.push(d)}function wT(a,u){switch(a.tag){case 5:var d=a.type;return u=u.nodeType!==1||d.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,tr=a,nr=Oo(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,tr=a,nr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(d=Na!==null?{id:Vi,overflow:Bi}:null,a.memoizedState={dehydrated:u,treeContext:d,retryLane:1073741824},d=mr(18,null,null,0),d.stateNode=u,d.return=a,a.child=d,tr=a,nr=null,!0):!1;default:return!1}}function Og(a){return(a.mode&1)!==0&&(a.flags&128)===0}function kg(a){if(It){var u=nr;if(u){var d=u;if(!wT(a,u)){if(Og(a))throw Error(n(418));u=Oo(d.nextSibling);var g=tr;u&&wT(a,u)?_T(g,d):(a.flags=a.flags&-4097|2,It=!1,tr=a)}}else{if(Og(a))throw Error(n(418));a.flags=a.flags&-4097|2,It=!1,tr=a}}}function ET(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;tr=a}function kd(a){if(a!==tr)return!1;if(!It)return ET(a),It=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!wg(a.type,a.memoizedProps)),u&&(u=nr)){if(Og(a))throw TT(),Error(n(418));for(;u;)_T(a,u),u=Oo(u.nextSibling)}if(ET(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(u===0){nr=Oo(a.nextSibling);break e}u--}else d!=="$"&&d!=="$!"&&d!=="$?"||u++}a=a.nextSibling}nr=null}}else nr=tr?Oo(a.stateNode.nextSibling):null;return!0}function TT(){for(var a=nr;a;)a=Oo(a.nextSibling)}function Zs(){nr=tr=null,It=!1}function Ng(a){Or===null?Or=[a]:Or.push(a)}var P3=R.ReactCurrentBatchConfig;function Xl(a,u,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var g=d.stateNode}if(!g)throw Error(n(147,a));var b=g,w=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===w?u.ref:(u=function(M){var U=b.refs;M===null?delete U[w]:U[w]=M},u._stringRef=w,u)}if(typeof a!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,a))}return a}function Nd(a,u){throw a=Object.prototype.toString.call(u),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function ST(a){var u=a._init;return u(a._payload)}function AT(a){function u(Y,H){if(a){var Z=Y.deletions;Z===null?(Y.deletions=[H],Y.flags|=16):Z.push(H)}}function d(Y,H){if(!a)return null;for(;H!==null;)u(Y,H),H=H.sibling;return null}function g(Y,H){for(Y=new Map;H!==null;)H.key!==null?Y.set(H.key,H):Y.set(H.index,H),H=H.sibling;return Y}function b(Y,H){return Y=Fo(Y,H),Y.index=0,Y.sibling=null,Y}function w(Y,H,Z){return Y.index=Z,a?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<H?(Y.flags|=2,H):Z):(Y.flags|=2,H)):(Y.flags|=1048576,H)}function M(Y){return a&&Y.alternate===null&&(Y.flags|=2),Y}function U(Y,H,Z,ye){return H===null||H.tag!==6?(H=Ey(Z,Y.mode,ye),H.return=Y,H):(H=b(H,Z),H.return=Y,H)}function W(Y,H,Z,ye){var Pe=Z.type;return Pe===A?de(Y,H,Z.props.children,ye,Z.key):H!==null&&(H.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===ae&&ST(Pe)===H.type)?(ye=b(H,Z.props),ye.ref=Xl(Y,H,Z),ye.return=Y,ye):(ye=nh(Z.type,Z.key,Z.props,null,Y.mode,ye),ye.ref=Xl(Y,H,Z),ye.return=Y,ye)}function te(Y,H,Z,ye){return H===null||H.tag!==4||H.stateNode.containerInfo!==Z.containerInfo||H.stateNode.implementation!==Z.implementation?(H=Ty(Z,Y.mode,ye),H.return=Y,H):(H=b(H,Z.children||[]),H.return=Y,H)}function de(Y,H,Z,ye,Pe){return H===null||H.tag!==7?(H=Fa(Z,Y.mode,ye,Pe),H.return=Y,H):(H=b(H,Z),H.return=Y,H)}function me(Y,H,Z){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Ey(""+H,Y.mode,Z),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case O:return Z=nh(H.type,H.key,H.props,null,Y.mode,Z),Z.ref=Xl(Y,null,H),Z.return=Y,Z;case j:return H=Ty(H,Y.mode,Z),H.return=Y,H;case ae:var ye=H._init;return me(Y,ye(H._payload),Z)}if(vt(H)||ie(H))return H=Fa(H,Y.mode,Z,null),H.return=Y,H;Nd(Y,H)}return null}function le(Y,H,Z,ye){var Pe=H!==null?H.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Pe!==null?null:U(Y,H,""+Z,ye);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:return Z.key===Pe?W(Y,H,Z,ye):null;case j:return Z.key===Pe?te(Y,H,Z,ye):null;case ae:return Pe=Z._init,le(Y,H,Pe(Z._payload),ye)}if(vt(Z)||ie(Z))return Pe!==null?null:de(Y,H,Z,ye,null);Nd(Y,Z)}return null}function be(Y,H,Z,ye,Pe){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return Y=Y.get(Z)||null,U(H,Y,""+ye,Pe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case O:return Y=Y.get(ye.key===null?Z:ye.key)||null,W(H,Y,ye,Pe);case j:return Y=Y.get(ye.key===null?Z:ye.key)||null,te(H,Y,ye,Pe);case ae:var Ne=ye._init;return be(Y,H,Z,Ne(ye._payload),Pe)}if(vt(ye)||ie(ye))return Y=Y.get(Z)||null,de(H,Y,ye,Pe,null);Nd(H,ye)}return null}function Se(Y,H,Z,ye){for(var Pe=null,Ne=null,je=H,$e=H=0,sn=null;je!==null&&$e<Z.length;$e++){je.index>$e?(sn=je,je=null):sn=je.sibling;var et=le(Y,je,Z[$e],ye);if(et===null){je===null&&(je=sn);break}a&&je&&et.alternate===null&&u(Y,je),H=w(et,H,$e),Ne===null?Pe=et:Ne.sibling=et,Ne=et,je=sn}if($e===Z.length)return d(Y,je),It&&ja(Y,$e),Pe;if(je===null){for(;$e<Z.length;$e++)je=me(Y,Z[$e],ye),je!==null&&(H=w(je,H,$e),Ne===null?Pe=je:Ne.sibling=je,Ne=je);return It&&ja(Y,$e),Pe}for(je=g(Y,je);$e<Z.length;$e++)sn=be(je,Y,$e,Z[$e],ye),sn!==null&&(a&&sn.alternate!==null&&je.delete(sn.key===null?$e:sn.key),H=w(sn,H,$e),Ne===null?Pe=sn:Ne.sibling=sn,Ne=sn);return a&&je.forEach(function(Uo){return u(Y,Uo)}),It&&ja(Y,$e),Pe}function Ae(Y,H,Z,ye){var Pe=ie(Z);if(typeof Pe!="function")throw Error(n(150));if(Z=Pe.call(Z),Z==null)throw Error(n(151));for(var Ne=Pe=null,je=H,$e=H=0,sn=null,et=Z.next();je!==null&&!et.done;$e++,et=Z.next()){je.index>$e?(sn=je,je=null):sn=je.sibling;var Uo=le(Y,je,et.value,ye);if(Uo===null){je===null&&(je=sn);break}a&&je&&Uo.alternate===null&&u(Y,je),H=w(Uo,H,$e),Ne===null?Pe=Uo:Ne.sibling=Uo,Ne=Uo,je=sn}if(et.done)return d(Y,je),It&&ja(Y,$e),Pe;if(je===null){for(;!et.done;$e++,et=Z.next())et=me(Y,et.value,ye),et!==null&&(H=w(et,H,$e),Ne===null?Pe=et:Ne.sibling=et,Ne=et);return It&&ja(Y,$e),Pe}for(je=g(Y,je);!et.done;$e++,et=Z.next())et=be(je,Y,$e,et.value,ye),et!==null&&(a&&et.alternate!==null&&je.delete(et.key===null?$e:et.key),H=w(et,H,$e),Ne===null?Pe=et:Ne.sibling=et,Ne=et);return a&&je.forEach(function(a$){return u(Y,a$)}),It&&ja(Y,$e),Pe}function Vt(Y,H,Z,ye){if(typeof Z=="object"&&Z!==null&&Z.type===A&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:e:{for(var Pe=Z.key,Ne=H;Ne!==null;){if(Ne.key===Pe){if(Pe=Z.type,Pe===A){if(Ne.tag===7){d(Y,Ne.sibling),H=b(Ne,Z.props.children),H.return=Y,Y=H;break e}}else if(Ne.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===ae&&ST(Pe)===Ne.type){d(Y,Ne.sibling),H=b(Ne,Z.props),H.ref=Xl(Y,Ne,Z),H.return=Y,Y=H;break e}d(Y,Ne);break}else u(Y,Ne);Ne=Ne.sibling}Z.type===A?(H=Fa(Z.props.children,Y.mode,ye,Z.key),H.return=Y,Y=H):(ye=nh(Z.type,Z.key,Z.props,null,Y.mode,ye),ye.ref=Xl(Y,H,Z),ye.return=Y,Y=ye)}return M(Y);case j:e:{for(Ne=Z.key;H!==null;){if(H.key===Ne)if(H.tag===4&&H.stateNode.containerInfo===Z.containerInfo&&H.stateNode.implementation===Z.implementation){d(Y,H.sibling),H=b(H,Z.children||[]),H.return=Y,Y=H;break e}else{d(Y,H);break}else u(Y,H);H=H.sibling}H=Ty(Z,Y.mode,ye),H.return=Y,Y=H}return M(Y);case ae:return Ne=Z._init,Vt(Y,H,Ne(Z._payload),ye)}if(vt(Z))return Se(Y,H,Z,ye);if(ie(Z))return Ae(Y,H,Z,ye);Nd(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,H!==null&&H.tag===6?(d(Y,H.sibling),H=b(H,Z),H.return=Y,Y=H):(d(Y,H),H=Ey(Z,Y.mode,ye),H.return=Y,Y=H),M(Y)):d(Y,H)}return Vt}var eu=AT(!0),PT=AT(!1),jd=ko(null),Rd=null,tu=null,jg=null;function Rg(){jg=tu=Rd=null}function Dg(a){var u=jd.current;Et(jd),a._currentValue=u}function Mg(a,u,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),a===d)break;a=a.return}}function nu(a,u){Rd=a,jg=tu=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&u)!==0&&(Vn=!0),a.firstContext=null)}function dr(a){var u=a._currentValue;if(jg!==a)if(a={context:a,memoizedValue:u,next:null},tu===null){if(Rd===null)throw Error(n(308));tu=a,Rd.dependencies={lanes:0,firstContext:a}}else tu=tu.next=a;return u}var Ra=null;function Lg(a){Ra===null?Ra=[a]:Ra.push(a)}function IT(a,u,d,g){var b=u.interleaved;return b===null?(d.next=d,Lg(u)):(d.next=b.next,b.next=d),u.interleaved=d,Fi(a,g)}function Fi(a,u){a.lanes|=u;var d=a.alternate;for(d!==null&&(d.lanes|=u),d=a,a=a.return;a!==null;)a.childLanes|=u,d=a.alternate,d!==null&&(d.childLanes|=u),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Ro=!1;function $g(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CT(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ui(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Do(a,u,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Ze&2)!==0){var b=g.pending;return b===null?u.next=u:(u.next=b.next,b.next=u),g.pending=u,Fi(a,d)}return b=g.interleaved,b===null?(u.next=u,Lg(g)):(u.next=b.next,b.next=u),g.interleaved=u,Fi(a,d)}function Dd(a,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194240)!==0)){var g=u.lanes;g&=a.pendingLanes,d|=g,u.lanes=d,kl(a,d)}}function OT(a,u){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var b=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var M={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?b=w=M:w=w.next=M,d=d.next}while(d!==null);w===null?b=w=u:w=w.next=u}else b=w=u;d={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:g.shared,effects:g.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=u}function Md(a,u,d,g){var b=a.updateQueue;Ro=!1;var w=b.firstBaseUpdate,M=b.lastBaseUpdate,U=b.shared.pending;if(U!==null){b.shared.pending=null;var W=U,te=W.next;W.next=null,M===null?w=te:M.next=te,M=W;var de=a.alternate;de!==null&&(de=de.updateQueue,U=de.lastBaseUpdate,U!==M&&(U===null?de.firstBaseUpdate=te:U.next=te,de.lastBaseUpdate=W))}if(w!==null){var me=b.baseState;M=0,de=te=W=null,U=w;do{var le=U.lane,be=U.eventTime;if((g&le)===le){de!==null&&(de=de.next={eventTime:be,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Se=a,Ae=U;switch(le=u,be=d,Ae.tag){case 1:if(Se=Ae.payload,typeof Se=="function"){me=Se.call(be,me,le);break e}me=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ae.payload,le=typeof Se=="function"?Se.call(be,me,le):Se,le==null)break e;me=re({},me,le);break e;case 2:Ro=!0}}U.callback!==null&&U.lane!==0&&(a.flags|=64,le=b.effects,le===null?b.effects=[U]:le.push(U))}else be={eventTime:be,lane:le,tag:U.tag,payload:U.payload,callback:U.callback,next:null},de===null?(te=de=be,W=me):de=de.next=be,M|=le;if(U=U.next,U===null){if(U=b.shared.pending,U===null)break;le=U,U=le.next,le.next=null,b.lastBaseUpdate=le,b.shared.pending=null}}while(!0);if(de===null&&(W=me),b.baseState=W,b.firstBaseUpdate=te,b.lastBaseUpdate=de,u=b.shared.interleaved,u!==null){b=u;do M|=b.lane,b=b.next;while(b!==u)}else w===null&&(b.shared.lanes=0);La|=M,a.lanes=M,a.memoizedState=me}}function kT(a,u,d){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var g=a[u],b=g.callback;if(b!==null){if(g.callback=null,g=d,typeof b!="function")throw Error(n(191,b));b.call(g)}}}var Ql={},si=ko(Ql),Jl=ko(Ql),Zl=ko(Ql);function Da(a){if(a===Ql)throw Error(n(174));return a}function Vg(a,u){switch(xt(Zl,u),xt(Jl,a),xt(si,Ql),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Ts(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Ts(u,a)}Et(si),xt(si,u)}function ru(){Et(si),Et(Jl),Et(Zl)}function NT(a){Da(Zl.current);var u=Da(si.current),d=Ts(u,a.type);u!==d&&(xt(Jl,a),xt(si,d))}function Bg(a){Jl.current===a&&(Et(si),Et(Jl))}var Ot=ko(0);function Ld(a){for(var u=a;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Fg=[];function Ug(){for(var a=0;a<Fg.length;a++)Fg[a]._workInProgressVersionPrimary=null;Fg.length=0}var $d=R.ReactCurrentDispatcher,qg=R.ReactCurrentBatchConfig,Ma=0,kt=null,Yt=null,on=null,Vd=!1,ec=!1,tc=0,I3=0;function En(){throw Error(n(321))}function zg(a,u){if(u===null)return!1;for(var d=0;d<u.length&&d<a.length;d++)if(!Cr(a[d],u[d]))return!1;return!0}function Wg(a,u,d,g,b,w){if(Ma=w,kt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,$d.current=a===null||a.memoizedState===null?N3:j3,a=d(g,b),ec){w=0;do{if(ec=!1,tc=0,25<=w)throw Error(n(301));w+=1,on=Yt=null,u.updateQueue=null,$d.current=R3,a=d(g,b)}while(ec)}if($d.current=Ud,u=Yt!==null&&Yt.next!==null,Ma=0,on=Yt=kt=null,Vd=!1,u)throw Error(n(300));return a}function Hg(){var a=tc!==0;return tc=0,a}function ui(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?kt.memoizedState=on=a:on=on.next=a,on}function hr(){if(Yt===null){var a=kt.alternate;a=a!==null?a.memoizedState:null}else a=Yt.next;var u=on===null?kt.memoizedState:on.next;if(u!==null)on=u,Yt=a;else{if(a===null)throw Error(n(310));Yt=a,a={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},on===null?kt.memoizedState=on=a:on=on.next=a}return on}function nc(a,u){return typeof u=="function"?u(a):u}function Gg(a){var u=hr(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var g=Yt,b=g.baseQueue,w=d.pending;if(w!==null){if(b!==null){var M=b.next;b.next=w.next,w.next=M}g.baseQueue=b=w,d.pending=null}if(b!==null){w=b.next,g=g.baseState;var U=M=null,W=null,te=w;do{var de=te.lane;if((Ma&de)===de)W!==null&&(W=W.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),g=te.hasEagerState?te.eagerState:a(g,te.action);else{var me={lane:de,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};W===null?(U=W=me,M=g):W=W.next=me,kt.lanes|=de,La|=de}te=te.next}while(te!==null&&te!==w);W===null?M=g:W.next=U,Cr(g,u.memoizedState)||(Vn=!0),u.memoizedState=g,u.baseState=M,u.baseQueue=W,d.lastRenderedState=g}if(a=d.interleaved,a!==null){b=a;do w=b.lane,kt.lanes|=w,La|=w,b=b.next;while(b!==a)}else b===null&&(d.lanes=0);return[u.memoizedState,d.dispatch]}function Kg(a){var u=hr(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var g=d.dispatch,b=d.pending,w=u.memoizedState;if(b!==null){d.pending=null;var M=b=b.next;do w=a(w,M.action),M=M.next;while(M!==b);Cr(w,u.memoizedState)||(Vn=!0),u.memoizedState=w,u.baseQueue===null&&(u.baseState=w),d.lastRenderedState=w}return[w,g]}function jT(){}function RT(a,u){var d=kt,g=hr(),b=u(),w=!Cr(g.memoizedState,b);if(w&&(g.memoizedState=b,Vn=!0),g=g.queue,Yg(LT.bind(null,d,g,a),[a]),g.getSnapshot!==u||w||on!==null&&on.memoizedState.tag&1){if(d.flags|=2048,rc(9,MT.bind(null,d,g,b,u),void 0,null),an===null)throw Error(n(349));(Ma&30)!==0||DT(d,u,b)}return b}function DT(a,u,d){a.flags|=16384,a={getSnapshot:u,value:d},u=kt.updateQueue,u===null?(u={lastEffect:null,stores:null},kt.updateQueue=u,u.stores=[a]):(d=u.stores,d===null?u.stores=[a]:d.push(a))}function MT(a,u,d,g){u.value=d,u.getSnapshot=g,$T(u)&&VT(a)}function LT(a,u,d){return d(function(){$T(u)&&VT(a)})}function $T(a){var u=a.getSnapshot;a=a.value;try{var d=u();return!Cr(a,d)}catch{return!0}}function VT(a){var u=Fi(a,1);u!==null&&Rr(u,a,1,-1)}function BT(a){var u=ui();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nc,lastRenderedState:a},u.queue=a,a=a.dispatch=k3.bind(null,kt,a),[u.memoizedState,a]}function rc(a,u,d,g){return a={tag:a,create:u,destroy:d,deps:g,next:null},u=kt.updateQueue,u===null?(u={lastEffect:null,stores:null},kt.updateQueue=u,u.lastEffect=a.next=a):(d=u.lastEffect,d===null?u.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,u.lastEffect=a)),a}function FT(){return hr().memoizedState}function Bd(a,u,d,g){var b=ui();kt.flags|=a,b.memoizedState=rc(1|u,d,void 0,g===void 0?null:g)}function Fd(a,u,d,g){var b=hr();g=g===void 0?null:g;var w=void 0;if(Yt!==null){var M=Yt.memoizedState;if(w=M.destroy,g!==null&&zg(g,M.deps)){b.memoizedState=rc(u,d,w,g);return}}kt.flags|=a,b.memoizedState=rc(1|u,d,w,g)}function UT(a,u){return Bd(8390656,8,a,u)}function Yg(a,u){return Fd(2048,8,a,u)}function qT(a,u){return Fd(4,2,a,u)}function zT(a,u){return Fd(4,4,a,u)}function WT(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function HT(a,u,d){return d=d!=null?d.concat([a]):null,Fd(4,4,WT.bind(null,u,a),d)}function Xg(){}function GT(a,u){var d=hr();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&zg(u,g[1])?g[0]:(d.memoizedState=[a,u],a)}function KT(a,u){var d=hr();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&zg(u,g[1])?g[0]:(a=a(),d.memoizedState=[a,u],a)}function YT(a,u,d){return(Ma&21)===0?(a.baseState&&(a.baseState=!1,Vn=!0),a.memoizedState=d):(Cr(d,u)||(d=Cl(),kt.lanes|=d,La|=d,a.baseState=!0),u)}function C3(a,u){var d=Qe;Qe=d!==0&&4>d?d:4,a(!0);var g=qg.transition;qg.transition={};try{a(!1),u()}finally{Qe=d,qg.transition=g}}function XT(){return hr().memoizedState}function O3(a,u,d){var g=Vo(a);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},QT(a))JT(u,d);else if(d=IT(a,u,d,g),d!==null){var b=Rn();Rr(d,a,g,b),ZT(d,u,g)}}function k3(a,u,d){var g=Vo(a),b={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(QT(a))JT(u,b);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=u.lastRenderedReducer,w!==null))try{var M=u.lastRenderedState,U=w(M,d);if(b.hasEagerState=!0,b.eagerState=U,Cr(U,M)){var W=u.interleaved;W===null?(b.next=b,Lg(u)):(b.next=W.next,W.next=b),u.interleaved=b;return}}catch{}finally{}d=IT(a,u,b,g),d!==null&&(b=Rn(),Rr(d,a,g,b),ZT(d,u,g))}}function QT(a){var u=a.alternate;return a===kt||u!==null&&u===kt}function JT(a,u){ec=Vd=!0;var d=a.pending;d===null?u.next=u:(u.next=d.next,d.next=u),a.pending=u}function ZT(a,u,d){if((d&4194240)!==0){var g=u.lanes;g&=a.pendingLanes,d|=g,u.lanes=d,kl(a,d)}}var Ud={readContext:dr,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},N3={readContext:dr,useCallback:function(a,u){return ui().memoizedState=[a,u===void 0?null:u],a},useContext:dr,useEffect:UT,useImperativeHandle:function(a,u,d){return d=d!=null?d.concat([a]):null,Bd(4194308,4,WT.bind(null,u,a),d)},useLayoutEffect:function(a,u){return Bd(4194308,4,a,u)},useInsertionEffect:function(a,u){return Bd(4,2,a,u)},useMemo:function(a,u){var d=ui();return u=u===void 0?null:u,a=a(),d.memoizedState=[a,u],a},useReducer:function(a,u,d){var g=ui();return u=d!==void 0?d(u):u,g.memoizedState=g.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},g.queue=a,a=a.dispatch=O3.bind(null,kt,a),[g.memoizedState,a]},useRef:function(a){var u=ui();return a={current:a},u.memoizedState=a},useState:BT,useDebugValue:Xg,useDeferredValue:function(a){return ui().memoizedState=a},useTransition:function(){var a=BT(!1),u=a[0];return a=C3.bind(null,a[1]),ui().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,d){var g=kt,b=ui();if(It){if(d===void 0)throw Error(n(407));d=d()}else{if(d=u(),an===null)throw Error(n(349));(Ma&30)!==0||DT(g,u,d)}b.memoizedState=d;var w={value:d,getSnapshot:u};return b.queue=w,UT(LT.bind(null,g,w,a),[a]),g.flags|=2048,rc(9,MT.bind(null,g,w,d,u),void 0,null),d},useId:function(){var a=ui(),u=an.identifierPrefix;if(It){var d=Bi,g=Vi;d=(g&~(1<<32-Xn(g)-1)).toString(32)+d,u=":"+u+"R"+d,d=tc++,0<d&&(u+="H"+d.toString(32)),u+=":"}else d=I3++,u=":"+u+"r"+d.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},j3={readContext:dr,useCallback:GT,useContext:dr,useEffect:Yg,useImperativeHandle:HT,useInsertionEffect:qT,useLayoutEffect:zT,useMemo:KT,useReducer:Gg,useRef:FT,useState:function(){return Gg(nc)},useDebugValue:Xg,useDeferredValue:function(a){var u=hr();return YT(u,Yt.memoizedState,a)},useTransition:function(){var a=Gg(nc)[0],u=hr().memoizedState;return[a,u]},useMutableSource:jT,useSyncExternalStore:RT,useId:XT,unstable_isNewReconciler:!1},R3={readContext:dr,useCallback:GT,useContext:dr,useEffect:Yg,useImperativeHandle:HT,useInsertionEffect:qT,useLayoutEffect:zT,useMemo:KT,useReducer:Kg,useRef:FT,useState:function(){return Kg(nc)},useDebugValue:Xg,useDeferredValue:function(a){var u=hr();return Yt===null?u.memoizedState=a:YT(u,Yt.memoizedState,a)},useTransition:function(){var a=Kg(nc)[0],u=hr().memoizedState;return[a,u]},useMutableSource:jT,useSyncExternalStore:RT,useId:XT,unstable_isNewReconciler:!1};function kr(a,u){if(a&&a.defaultProps){u=re({},u),a=a.defaultProps;for(var d in a)u[d]===void 0&&(u[d]=a[d]);return u}return u}function Qg(a,u,d,g){u=a.memoizedState,d=d(g,u),d=d==null?u:re({},u,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var qd={isMounted:function(a){return(a=a._reactInternals)?Pr(a)===a:!1},enqueueSetState:function(a,u,d){a=a._reactInternals;var g=Rn(),b=Vo(a),w=Ui(g,b);w.payload=u,d!=null&&(w.callback=d),u=Do(a,w,b),u!==null&&(Rr(u,a,b,g),Dd(u,a,b))},enqueueReplaceState:function(a,u,d){a=a._reactInternals;var g=Rn(),b=Vo(a),w=Ui(g,b);w.tag=1,w.payload=u,d!=null&&(w.callback=d),u=Do(a,w,b),u!==null&&(Rr(u,a,b,g),Dd(u,a,b))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var d=Rn(),g=Vo(a),b=Ui(d,g);b.tag=2,u!=null&&(b.callback=u),u=Do(a,b,g),u!==null&&(Rr(u,a,g,d),Dd(u,a,g))}};function eS(a,u,d,g,b,w,M){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,w,M):u.prototype&&u.prototype.isPureReactComponent?!ql(d,g)||!ql(b,w):!0}function tS(a,u,d){var g=!1,b=No,w=u.contextType;return typeof w=="object"&&w!==null?w=dr(w):(b=$n(u)?ka:wn.current,g=u.contextTypes,w=(g=g!=null)?Xs(a,b):No),u=new u(d,w),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=qd,a.stateNode=u,u._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=w),u}function nS(a,u,d,g){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==a&&qd.enqueueReplaceState(u,u.state,null)}function Jg(a,u,d,g){var b=a.stateNode;b.props=d,b.state=a.memoizedState,b.refs={},$g(a);var w=u.contextType;typeof w=="object"&&w!==null?b.context=dr(w):(w=$n(u)?ka:wn.current,b.context=Xs(a,w)),b.state=a.memoizedState,w=u.getDerivedStateFromProps,typeof w=="function"&&(Qg(a,u,w,d),b.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(u=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),u!==b.state&&qd.enqueueReplaceState(b,b.state,null),Md(a,d,b,g),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308)}function iu(a,u){try{var d="",g=u;do d+=Ce(g),g=g.return;while(g);var b=d}catch(w){b=`
Error generating stack: `+w.message+`
`+w.stack}return{value:a,source:u,stack:b,digest:null}}function Zg(a,u,d){return{value:a,source:null,stack:d??null,digest:u??null}}function ey(a,u){try{console.error(u.value)}catch(d){setTimeout(function(){throw d})}}var D3=typeof WeakMap=="function"?WeakMap:Map;function rS(a,u,d){d=Ui(-1,d),d.tag=3,d.payload={element:null};var g=u.value;return d.callback=function(){Xd||(Xd=!0,my=g),ey(a,u)},d}function iS(a,u,d){d=Ui(-1,d),d.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var b=u.value;d.payload=function(){return g(b)},d.callback=function(){ey(a,u)}}var w=a.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){ey(a,u),typeof g!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})}),d}function oS(a,u,d){var g=a.pingCache;if(g===null){g=a.pingCache=new D3;var b=new Set;g.set(u,b)}else b=g.get(u),b===void 0&&(b=new Set,g.set(u,b));b.has(d)||(b.add(d),a=Y3.bind(null,a,u,d),u.then(a,a))}function aS(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function sS(a,u,d,g,b){return(a.mode&1)===0?(a===u?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(u=Ui(-1,1),u.tag=2,Do(d,u,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=b,a)}var M3=R.ReactCurrentOwner,Vn=!1;function jn(a,u,d,g){u.child=a===null?PT(u,null,d,g):eu(u,a.child,d,g)}function uS(a,u,d,g,b){d=d.render;var w=u.ref;return nu(u,b),g=Wg(a,u,d,g,w,b),d=Hg(),a!==null&&!Vn?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~b,qi(a,u,b)):(It&&d&&Ig(u),u.flags|=1,jn(a,u,g,b),u.child)}function lS(a,u,d,g,b){if(a===null){var w=d.type;return typeof w=="function"&&!wy(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(u.tag=15,u.type=w,cS(a,u,w,g,b)):(a=nh(d.type,null,g,u,u.mode,b),a.ref=u.ref,a.return=u,u.child=a)}if(w=a.child,(a.lanes&b)===0){var M=w.memoizedProps;if(d=d.compare,d=d!==null?d:ql,d(M,g)&&a.ref===u.ref)return qi(a,u,b)}return u.flags|=1,a=Fo(w,g),a.ref=u.ref,a.return=u,u.child=a}function cS(a,u,d,g,b){if(a!==null){var w=a.memoizedProps;if(ql(w,g)&&a.ref===u.ref)if(Vn=!1,u.pendingProps=g=w,(a.lanes&b)!==0)(a.flags&131072)!==0&&(Vn=!0);else return u.lanes=a.lanes,qi(a,u,b)}return ty(a,u,d,g,b)}function fS(a,u,d){var g=u.pendingProps,b=g.children,w=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(au,rr),rr|=d;else{if((d&1073741824)===0)return a=w!==null?w.baseLanes|d:d,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,xt(au,rr),rr|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=w!==null?w.baseLanes:d,xt(au,rr),rr|=g}else w!==null?(g=w.baseLanes|d,u.memoizedState=null):g=d,xt(au,rr),rr|=g;return jn(a,u,b,d),u.child}function dS(a,u){var d=u.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(u.flags|=512,u.flags|=2097152)}function ty(a,u,d,g,b){var w=$n(d)?ka:wn.current;return w=Xs(u,w),nu(u,b),d=Wg(a,u,d,g,w,b),g=Hg(),a!==null&&!Vn?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~b,qi(a,u,b)):(It&&g&&Ig(u),u.flags|=1,jn(a,u,d,b),u.child)}function hS(a,u,d,g,b){if($n(d)){var w=!0;Pd(u)}else w=!1;if(nu(u,b),u.stateNode===null)Wd(a,u),tS(u,d,g),Jg(u,d,g,b),g=!0;else if(a===null){var M=u.stateNode,U=u.memoizedProps;M.props=U;var W=M.context,te=d.contextType;typeof te=="object"&&te!==null?te=dr(te):(te=$n(d)?ka:wn.current,te=Xs(u,te));var de=d.getDerivedStateFromProps,me=typeof de=="function"||typeof M.getSnapshotBeforeUpdate=="function";me||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(U!==g||W!==te)&&nS(u,M,g,te),Ro=!1;var le=u.memoizedState;M.state=le,Md(u,g,M,b),W=u.memoizedState,U!==g||le!==W||Ln.current||Ro?(typeof de=="function"&&(Qg(u,d,de,g),W=u.memoizedState),(U=Ro||eS(u,d,U,g,le,W,te))?(me||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(u.flags|=4194308)):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=W),M.props=g,M.state=W,M.context=te,g=U):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{M=u.stateNode,CT(a,u),U=u.memoizedProps,te=u.type===u.elementType?U:kr(u.type,U),M.props=te,me=u.pendingProps,le=M.context,W=d.contextType,typeof W=="object"&&W!==null?W=dr(W):(W=$n(d)?ka:wn.current,W=Xs(u,W));var be=d.getDerivedStateFromProps;(de=typeof be=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(U!==me||le!==W)&&nS(u,M,g,W),Ro=!1,le=u.memoizedState,M.state=le,Md(u,g,M,b);var Se=u.memoizedState;U!==me||le!==Se||Ln.current||Ro?(typeof be=="function"&&(Qg(u,d,be,g),Se=u.memoizedState),(te=Ro||eS(u,d,te,g,le,Se,W)||!1)?(de||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(g,Se,W),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(g,Se,W)),typeof M.componentDidUpdate=="function"&&(u.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof M.componentDidUpdate!="function"||U===a.memoizedProps&&le===a.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&le===a.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=Se),M.props=g,M.state=Se,M.context=W,g=te):(typeof M.componentDidUpdate!="function"||U===a.memoizedProps&&le===a.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&le===a.memoizedState||(u.flags|=1024),g=!1)}return ny(a,u,d,g,w,b)}function ny(a,u,d,g,b,w){dS(a,u);var M=(u.flags&128)!==0;if(!g&&!M)return b&&vT(u,d,!1),qi(a,u,w);g=u.stateNode,M3.current=u;var U=M&&typeof d.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,a!==null&&M?(u.child=eu(u,a.child,null,w),u.child=eu(u,null,U,w)):jn(a,u,U,w),u.memoizedState=g.state,b&&vT(u,d,!0),u.child}function pS(a){var u=a.stateNode;u.pendingContext?gT(a,u.pendingContext,u.pendingContext!==u.context):u.context&&gT(a,u.context,!1),Vg(a,u.containerInfo)}function mS(a,u,d,g,b){return Zs(),Ng(b),u.flags|=256,jn(a,u,d,g),u.child}var ry={dehydrated:null,treeContext:null,retryLane:0};function iy(a){return{baseLanes:a,cachePool:null,transitions:null}}function gS(a,u,d){var g=u.pendingProps,b=Ot.current,w=!1,M=(u.flags&128)!==0,U;if((U=M)||(U=a!==null&&a.memoizedState===null?!1:(b&2)!==0),U?(w=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(b|=1),xt(Ot,b&1),a===null)return kg(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((u.mode&1)===0?u.lanes=1:a.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(M=g.children,a=g.fallback,w?(g=u.mode,w=u.child,M={mode:"hidden",children:M},(g&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=M):w=rh(M,g,0,null),a=Fa(a,g,d,null),w.return=u,a.return=u,w.sibling=a,u.child=w,u.child.memoizedState=iy(d),u.memoizedState=ry,a):oy(u,M));if(b=a.memoizedState,b!==null&&(U=b.dehydrated,U!==null))return L3(a,u,M,g,U,b,d);if(w){w=g.fallback,M=u.mode,b=a.child,U=b.sibling;var W={mode:"hidden",children:g.children};return(M&1)===0&&u.child!==b?(g=u.child,g.childLanes=0,g.pendingProps=W,u.deletions=null):(g=Fo(b,W),g.subtreeFlags=b.subtreeFlags&14680064),U!==null?w=Fo(U,w):(w=Fa(w,M,d,null),w.flags|=2),w.return=u,g.return=u,g.sibling=w,u.child=g,g=w,w=u.child,M=a.child.memoizedState,M=M===null?iy(d):{baseLanes:M.baseLanes|d,cachePool:null,transitions:M.transitions},w.memoizedState=M,w.childLanes=a.childLanes&~d,u.memoizedState=ry,g}return w=a.child,a=w.sibling,g=Fo(w,{mode:"visible",children:g.children}),(u.mode&1)===0&&(g.lanes=d),g.return=u,g.sibling=null,a!==null&&(d=u.deletions,d===null?(u.deletions=[a],u.flags|=16):d.push(a)),u.child=g,u.memoizedState=null,g}function oy(a,u){return u=rh({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function zd(a,u,d,g){return g!==null&&Ng(g),eu(u,a.child,null,d),a=oy(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function L3(a,u,d,g,b,w,M){if(d)return u.flags&256?(u.flags&=-257,g=Zg(Error(n(422))),zd(a,u,M,g)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(w=g.fallback,b=u.mode,g=rh({mode:"visible",children:g.children},b,0,null),w=Fa(w,b,M,null),w.flags|=2,g.return=u,w.return=u,g.sibling=w,u.child=g,(u.mode&1)!==0&&eu(u,a.child,null,M),u.child.memoizedState=iy(M),u.memoizedState=ry,w);if((u.mode&1)===0)return zd(a,u,M,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var U=g.dgst;return g=U,w=Error(n(419)),g=Zg(w,g,void 0),zd(a,u,M,g)}if(U=(M&a.childLanes)!==0,Vn||U){if(g=an,g!==null){switch(M&-M){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(g.suspendedLanes|M))!==0?0:b,b!==0&&b!==w.retryLane&&(w.retryLane=b,Fi(a,b),Rr(g,a,b,-1))}return _y(),g=Zg(Error(n(421))),zd(a,u,M,g)}return b.data==="$?"?(u.flags|=128,u.child=a.child,u=X3.bind(null,a),b._reactRetry=u,null):(a=w.treeContext,nr=Oo(b.nextSibling),tr=u,It=!0,Or=null,a!==null&&(cr[fr++]=Vi,cr[fr++]=Bi,cr[fr++]=Na,Vi=a.id,Bi=a.overflow,Na=u),u=oy(u,g.children),u.flags|=4096,u)}function yS(a,u,d){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u),Mg(a.return,u,d)}function ay(a,u,d,g,b){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:b}:(w.isBackwards=u,w.rendering=null,w.renderingStartTime=0,w.last=g,w.tail=d,w.tailMode=b)}function vS(a,u,d){var g=u.pendingProps,b=g.revealOrder,w=g.tail;if(jn(a,u,g.children,d),g=Ot.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&yS(a,d,u);else if(a.tag===19)yS(a,d,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(xt(Ot,g),(u.mode&1)===0)u.memoizedState=null;else switch(b){case"forwards":for(d=u.child,b=null;d!==null;)a=d.alternate,a!==null&&Ld(a)===null&&(b=d),d=d.sibling;d=b,d===null?(b=u.child,u.child=null):(b=d.sibling,d.sibling=null),ay(u,!1,b,d,w);break;case"backwards":for(d=null,b=u.child,u.child=null;b!==null;){if(a=b.alternate,a!==null&&Ld(a)===null){u.child=b;break}a=b.sibling,b.sibling=d,d=b,b=a}ay(u,!0,d,null,w);break;case"together":ay(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Wd(a,u){(u.mode&1)===0&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function qi(a,u,d){if(a!==null&&(u.dependencies=a.dependencies),La|=u.lanes,(d&u.childLanes)===0)return null;if(a!==null&&u.child!==a.child)throw Error(n(153));if(u.child!==null){for(a=u.child,d=Fo(a,a.pendingProps),u.child=d,d.return=u;a.sibling!==null;)a=a.sibling,d=d.sibling=Fo(a,a.pendingProps),d.return=u;d.sibling=null}return u.child}function $3(a,u,d){switch(u.tag){case 3:pS(u),Zs();break;case 5:NT(u);break;case 1:$n(u.type)&&Pd(u);break;case 4:Vg(u,u.stateNode.containerInfo);break;case 10:var g=u.type._context,b=u.memoizedProps.value;xt(jd,g._currentValue),g._currentValue=b;break;case 13:if(g=u.memoizedState,g!==null)return g.dehydrated!==null?(xt(Ot,Ot.current&1),u.flags|=128,null):(d&u.child.childLanes)!==0?gS(a,u,d):(xt(Ot,Ot.current&1),a=qi(a,u,d),a!==null?a.sibling:null);xt(Ot,Ot.current&1);break;case 19:if(g=(d&u.childLanes)!==0,(a.flags&128)!==0){if(g)return vS(a,u,d);u.flags|=128}if(b=u.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),xt(Ot,Ot.current),g)break;return null;case 22:case 23:return u.lanes=0,fS(a,u,d)}return qi(a,u,d)}var xS,sy,bS,_S;xS=function(a,u){for(var d=u.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},sy=function(){},bS=function(a,u,d,g){var b=a.memoizedProps;if(b!==g){a=u.stateNode,Da(si.current);var w=null;switch(d){case"input":b=ze(a,b),g=ze(a,g),w=[];break;case"select":b=re({},b,{value:void 0}),g=re({},g,{value:void 0}),w=[];break;case"textarea":b=Kn(a,b),g=Kn(a,g),w=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=Td)}Ar(d,g);var M;d=null;for(te in b)if(!g.hasOwnProperty(te)&&b.hasOwnProperty(te)&&b[te]!=null)if(te==="style"){var U=b[te];for(M in U)U.hasOwnProperty(M)&&(d||(d={}),d[M]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(i.hasOwnProperty(te)?w||(w=[]):(w=w||[]).push(te,null));for(te in g){var W=g[te];if(U=b!=null?b[te]:void 0,g.hasOwnProperty(te)&&W!==U&&(W!=null||U!=null))if(te==="style")if(U){for(M in U)!U.hasOwnProperty(M)||W&&W.hasOwnProperty(M)||(d||(d={}),d[M]="");for(M in W)W.hasOwnProperty(M)&&U[M]!==W[M]&&(d||(d={}),d[M]=W[M])}else d||(w||(w=[]),w.push(te,d)),d=W;else te==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,U=U?U.__html:void 0,W!=null&&U!==W&&(w=w||[]).push(te,W)):te==="children"?typeof W!="string"&&typeof W!="number"||(w=w||[]).push(te,""+W):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(i.hasOwnProperty(te)?(W!=null&&te==="onScroll"&&wt("scroll",a),w||U===W||(w=[])):(w=w||[]).push(te,W))}d&&(w=w||[]).push("style",d);var te=w;(u.updateQueue=te)&&(u.flags|=4)}},_S=function(a,u,d,g){d!==g&&(u.flags|=4)};function ic(a,u){if(!It)switch(a.tailMode){case"hidden":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Tn(a){var u=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(u)for(var b=a.child;b!==null;)d|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)d|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=g,a.childLanes=d,u}function V3(a,u,d){var g=u.pendingProps;switch(Cg(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(u),null;case 1:return $n(u.type)&&Ad(),Tn(u),null;case 3:return g=u.stateNode,ru(),Et(Ln),Et(wn),Ug(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(kd(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Or!==null&&(vy(Or),Or=null))),sy(a,u),Tn(u),null;case 5:Bg(u);var b=Da(Zl.current);if(d=u.type,a!==null&&u.stateNode!=null)bS(a,u,d,g,b),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(n(166));return Tn(u),null}if(a=Da(si.current),kd(u)){g=u.stateNode,d=u.type;var w=u.memoizedProps;switch(g[ai]=u,g[Kl]=w,a=(u.mode&1)!==0,d){case"dialog":wt("cancel",g),wt("close",g);break;case"iframe":case"object":case"embed":wt("load",g);break;case"video":case"audio":for(b=0;b<Wl.length;b++)wt(Wl[b],g);break;case"source":wt("error",g);break;case"img":case"image":case"link":wt("error",g),wt("load",g);break;case"details":wt("toggle",g);break;case"input":Pt(g,w),wt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!w.multiple},wt("invalid",g);break;case"textarea":Ai(g,w),wt("invalid",g)}Ar(d,w),b=null;for(var M in w)if(w.hasOwnProperty(M)){var U=w[M];M==="children"?typeof U=="string"?g.textContent!==U&&(w.suppressHydrationWarning!==!0&&Ed(g.textContent,U,a),b=["children",U]):typeof U=="number"&&g.textContent!==""+U&&(w.suppressHydrationWarning!==!0&&Ed(g.textContent,U,a),b=["children",""+U]):i.hasOwnProperty(M)&&U!=null&&M==="onScroll"&&wt("scroll",g)}switch(d){case"input":Be(g),Mn(g,w,!0);break;case"textarea":Be(g),Sr(g);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(g.onclick=Td)}g=b,u.updateQueue=g,g!==null&&(u.flags|=4)}else{M=b.nodeType===9?b:b.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=bl(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=M.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=M.createElement(d,{is:g.is}):(a=M.createElement(d),d==="select"&&(M=a,g.multiple?M.multiple=!0:g.size&&(M.size=g.size))):a=M.createElementNS(a,d),a[ai]=u,a[Kl]=g,xS(a,u,!1,!1),u.stateNode=a;e:{switch(M=As(d,g),d){case"dialog":wt("cancel",a),wt("close",a),b=g;break;case"iframe":case"object":case"embed":wt("load",a),b=g;break;case"video":case"audio":for(b=0;b<Wl.length;b++)wt(Wl[b],a);b=g;break;case"source":wt("error",a),b=g;break;case"img":case"image":case"link":wt("error",a),wt("load",a),b=g;break;case"details":wt("toggle",a),b=g;break;case"input":Pt(a,g),b=ze(a,g),wt("invalid",a);break;case"option":b=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},b=re({},g,{value:void 0}),wt("invalid",a);break;case"textarea":Ai(a,g),b=Kn(a,g),wt("invalid",a);break;default:b=g}Ar(d,b),U=b;for(w in U)if(U.hasOwnProperty(w)){var W=U[w];w==="style"?Ss(a,W):w==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&Qf(a,W)):w==="children"?typeof W=="string"?(d!=="textarea"||W!=="")&&ga(a,W):typeof W=="number"&&ga(a,""+W):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?W!=null&&w==="onScroll"&&wt("scroll",a):W!=null&&N(a,w,W,M))}switch(d){case"input":Be(a),Mn(a,g,!1);break;case"textarea":Be(a),Sr(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Le(g.value));break;case"select":a.multiple=!!g.multiple,w=g.value,w!=null?Kt(a,!!g.multiple,w,!1):g.defaultValue!=null&&Kt(a,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(a.onclick=Td)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Tn(u),null;case 6:if(a&&u.stateNode!=null)_S(a,u,a.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(n(166));if(d=Da(Zl.current),Da(si.current),kd(u)){if(g=u.stateNode,d=u.memoizedProps,g[ai]=u,(w=g.nodeValue!==d)&&(a=tr,a!==null))switch(a.tag){case 3:Ed(g.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Ed(g.nodeValue,d,(a.mode&1)!==0)}w&&(u.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[ai]=u,u.stateNode=g}return Tn(u),null;case 13:if(Et(Ot),g=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(It&&nr!==null&&(u.mode&1)!==0&&(u.flags&128)===0)TT(),Zs(),u.flags|=98560,w=!1;else if(w=kd(u),g!==null&&g.dehydrated!==null){if(a===null){if(!w)throw Error(n(318));if(w=u.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[ai]=u}else Zs(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Tn(u),w=!1}else Or!==null&&(vy(Or),Or=null),w=!0;if(!w)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=d,u):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(u.child.flags|=8192,(u.mode&1)!==0&&(a===null||(Ot.current&1)!==0?Xt===0&&(Xt=3):_y())),u.updateQueue!==null&&(u.flags|=4),Tn(u),null);case 4:return ru(),sy(a,u),a===null&&Hl(u.stateNode.containerInfo),Tn(u),null;case 10:return Dg(u.type._context),Tn(u),null;case 17:return $n(u.type)&&Ad(),Tn(u),null;case 19:if(Et(Ot),w=u.memoizedState,w===null)return Tn(u),null;if(g=(u.flags&128)!==0,M=w.rendering,M===null)if(g)ic(w,!1);else{if(Xt!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(M=Ld(a),M!==null){for(u.flags|=128,ic(w,!1),g=M.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),u.subtreeFlags=0,g=d,d=u.child;d!==null;)w=d,a=g,w.flags&=14680066,M=w.alternate,M===null?(w.childLanes=0,w.lanes=a,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=M.childLanes,w.lanes=M.lanes,w.child=M.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=M.memoizedProps,w.memoizedState=M.memoizedState,w.updateQueue=M.updateQueue,w.type=M.type,a=M.dependencies,w.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return xt(Ot,Ot.current&1|2),u.child}a=a.sibling}w.tail!==null&&_t()>su&&(u.flags|=128,g=!0,ic(w,!1),u.lanes=4194304)}else{if(!g)if(a=Ld(M),a!==null){if(u.flags|=128,g=!0,d=a.updateQueue,d!==null&&(u.updateQueue=d,u.flags|=4),ic(w,!0),w.tail===null&&w.tailMode==="hidden"&&!M.alternate&&!It)return Tn(u),null}else 2*_t()-w.renderingStartTime>su&&d!==1073741824&&(u.flags|=128,g=!0,ic(w,!1),u.lanes=4194304);w.isBackwards?(M.sibling=u.child,u.child=M):(d=w.last,d!==null?d.sibling=M:u.child=M,w.last=M)}return w.tail!==null?(u=w.tail,w.rendering=u,w.tail=u.sibling,w.renderingStartTime=_t(),u.sibling=null,d=Ot.current,xt(Ot,g?d&1|2:d&1),u):(Tn(u),null);case 22:case 23:return by(),g=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(u.flags|=8192),g&&(u.mode&1)!==0?(rr&1073741824)!==0&&(Tn(u),u.subtreeFlags&6&&(u.flags|=8192)):Tn(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function B3(a,u){switch(Cg(u),u.tag){case 1:return $n(u.type)&&Ad(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return ru(),Et(Ln),Et(wn),Ug(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 5:return Bg(u),null;case 13:if(Et(Ot),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Zs()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return Et(Ot),null;case 4:return ru(),null;case 10:return Dg(u.type._context),null;case 22:case 23:return by(),null;case 24:return null;default:return null}}var Hd=!1,Sn=!1,F3=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function ou(a,u){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Mt(a,u,g)}else d.current=null}function uy(a,u,d){try{d()}catch(g){Mt(a,u,g)}}var wS=!1;function U3(a,u){if(bg=Ri,a=eT(),dg(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var b=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var M=0,U=-1,W=-1,te=0,de=0,me=a,le=null;t:for(;;){for(var be;me!==d||b!==0&&me.nodeType!==3||(U=M+b),me!==w||g!==0&&me.nodeType!==3||(W=M+g),me.nodeType===3&&(M+=me.nodeValue.length),(be=me.firstChild)!==null;)le=me,me=be;for(;;){if(me===a)break t;if(le===d&&++te===b&&(U=M),le===w&&++de===g&&(W=M),(be=me.nextSibling)!==null)break;me=le,le=me.parentNode}me=be}d=U===-1||W===-1?null:{start:U,end:W}}else d=null}d=d||{start:0,end:0}}else d=null;for(_g={focusedElem:a,selectionRange:d},Ri=!1,Ee=u;Ee!==null;)if(u=Ee,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Ee=a;else for(;Ee!==null;){u=Ee;try{var Se=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ae=Se.memoizedProps,Vt=Se.memoizedState,Y=u.stateNode,H=Y.getSnapshotBeforeUpdate(u.elementType===u.type?Ae:kr(u.type,Ae),Vt);Y.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Z=u.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ye){Mt(u,u.return,ye)}if(a=u.sibling,a!==null){a.return=u.return,Ee=a;break}Ee=u.return}return Se=wS,wS=!1,Se}function oc(a,u,d){var g=u.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&a)===a){var w=b.destroy;b.destroy=void 0,w!==void 0&&uy(u,d,w)}b=b.next}while(b!==g)}}function Gd(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&a)===a){var g=d.create;d.destroy=g()}d=d.next}while(d!==u)}}function ly(a){var u=a.ref;if(u!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof u=="function"?u(a):u.current=a}}function ES(a){var u=a.alternate;u!==null&&(a.alternate=null,ES(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[ai],delete u[Kl],delete u[Sg],delete u[T3],delete u[S3])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function TS(a){return a.tag===5||a.tag===3||a.tag===4}function SS(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||TS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function cy(a,u,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?d.nodeType===8?d.parentNode.insertBefore(a,u):d.insertBefore(a,u):(d.nodeType===8?(u=d.parentNode,u.insertBefore(a,d)):(u=d,u.appendChild(a)),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Td));else if(g!==4&&(a=a.child,a!==null))for(cy(a,u,d),a=a.sibling;a!==null;)cy(a,u,d),a=a.sibling}function fy(a,u,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?d.insertBefore(a,u):d.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(fy(a,u,d),a=a.sibling;a!==null;)fy(a,u,d),a=a.sibling}var pn=null,Nr=!1;function Mo(a,u,d){for(d=d.child;d!==null;)AS(a,u,d),d=d.sibling}function AS(a,u,d){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(_a,d)}catch{}switch(d.tag){case 5:Sn||ou(d,u);case 6:var g=pn,b=Nr;pn=null,Mo(a,u,d),pn=g,Nr=b,pn!==null&&(Nr?(a=pn,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):pn.removeChild(d.stateNode));break;case 18:pn!==null&&(Nr?(a=pn,d=d.stateNode,a.nodeType===8?Tg(a.parentNode,d):a.nodeType===1&&Tg(a,d),Ao(a)):Tg(pn,d.stateNode));break;case 4:g=pn,b=Nr,pn=d.stateNode.containerInfo,Nr=!0,Mo(a,u,d),pn=g,Nr=b;break;case 0:case 11:case 14:case 15:if(!Sn&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var w=b,M=w.destroy;w=w.tag,M!==void 0&&((w&2)!==0||(w&4)!==0)&&uy(d,u,M),b=b.next}while(b!==g)}Mo(a,u,d);break;case 1:if(!Sn&&(ou(d,u),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(U){Mt(d,u,U)}Mo(a,u,d);break;case 21:Mo(a,u,d);break;case 22:d.mode&1?(Sn=(g=Sn)||d.memoizedState!==null,Mo(a,u,d),Sn=g):Mo(a,u,d);break;default:Mo(a,u,d)}}function PS(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new F3),u.forEach(function(g){var b=Q3.bind(null,a,g);d.has(g)||(d.add(g),g.then(b,b))})}}function jr(a,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var b=d[g];try{var w=a,M=u,U=M;e:for(;U!==null;){switch(U.tag){case 5:pn=U.stateNode,Nr=!1;break e;case 3:pn=U.stateNode.containerInfo,Nr=!0;break e;case 4:pn=U.stateNode.containerInfo,Nr=!0;break e}U=U.return}if(pn===null)throw Error(n(160));AS(w,M,b),pn=null,Nr=!1;var W=b.alternate;W!==null&&(W.return=null),b.return=null}catch(te){Mt(b,u,te)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)IS(u,a),u=u.sibling}function IS(a,u){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(jr(u,a),li(a),g&4){try{oc(3,a,a.return),Gd(3,a)}catch(Ae){Mt(a,a.return,Ae)}try{oc(5,a,a.return)}catch(Ae){Mt(a,a.return,Ae)}}break;case 1:jr(u,a),li(a),g&512&&d!==null&&ou(d,d.return);break;case 5:if(jr(u,a),li(a),g&512&&d!==null&&ou(d,d.return),a.flags&32){var b=a.stateNode;try{ga(b,"")}catch(Ae){Mt(a,a.return,Ae)}}if(g&4&&(b=a.stateNode,b!=null)){var w=a.memoizedProps,M=d!==null?d.memoizedProps:w,U=a.type,W=a.updateQueue;if(a.updateQueue=null,W!==null)try{U==="input"&&w.type==="radio"&&w.name!=null&&yt(b,w),As(U,M);var te=As(U,w);for(M=0;M<W.length;M+=2){var de=W[M],me=W[M+1];de==="style"?Ss(b,me):de==="dangerouslySetInnerHTML"?Qf(b,me):de==="children"?ga(b,me):N(b,de,me,te)}switch(U){case"input":Rt(b,w);break;case"textarea":ma(b,w);break;case"select":var le=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!w.multiple;var be=w.value;be!=null?Kt(b,!!w.multiple,be,!1):le!==!!w.multiple&&(w.defaultValue!=null?Kt(b,!!w.multiple,w.defaultValue,!0):Kt(b,!!w.multiple,w.multiple?[]:"",!1))}b[Kl]=w}catch(Ae){Mt(a,a.return,Ae)}}break;case 6:if(jr(u,a),li(a),g&4){if(a.stateNode===null)throw Error(n(162));b=a.stateNode,w=a.memoizedProps;try{b.nodeValue=w}catch(Ae){Mt(a,a.return,Ae)}}break;case 3:if(jr(u,a),li(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Ao(u.containerInfo)}catch(Ae){Mt(a,a.return,Ae)}break;case 4:jr(u,a),li(a);break;case 13:jr(u,a),li(a),b=a.child,b.flags&8192&&(w=b.memoizedState!==null,b.stateNode.isHidden=w,!w||b.alternate!==null&&b.alternate.memoizedState!==null||(py=_t())),g&4&&PS(a);break;case 22:if(de=d!==null&&d.memoizedState!==null,a.mode&1?(Sn=(te=Sn)||de,jr(u,a),Sn=te):jr(u,a),li(a),g&8192){if(te=a.memoizedState!==null,(a.stateNode.isHidden=te)&&!de&&(a.mode&1)!==0)for(Ee=a,de=a.child;de!==null;){for(me=Ee=de;Ee!==null;){switch(le=Ee,be=le.child,le.tag){case 0:case 11:case 14:case 15:oc(4,le,le.return);break;case 1:ou(le,le.return);var Se=le.stateNode;if(typeof Se.componentWillUnmount=="function"){g=le,d=le.return;try{u=g,Se.props=u.memoizedProps,Se.state=u.memoizedState,Se.componentWillUnmount()}catch(Ae){Mt(g,d,Ae)}}break;case 5:ou(le,le.return);break;case 22:if(le.memoizedState!==null){kS(me);continue}}be!==null?(be.return=le,Ee=be):kS(me)}de=de.sibling}e:for(de=null,me=a;;){if(me.tag===5){if(de===null){de=me;try{b=me.stateNode,te?(w=b.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(U=me.stateNode,W=me.memoizedProps.style,M=W!=null&&W.hasOwnProperty("display")?W.display:null,U.style.display=yo("display",M))}catch(Ae){Mt(a,a.return,Ae)}}}else if(me.tag===6){if(de===null)try{me.stateNode.nodeValue=te?"":me.memoizedProps}catch(Ae){Mt(a,a.return,Ae)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===a)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===a)break e;for(;me.sibling===null;){if(me.return===null||me.return===a)break e;de===me&&(de=null),me=me.return}de===me&&(de=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:jr(u,a),li(a),g&4&&PS(a);break;case 21:break;default:jr(u,a),li(a)}}function li(a){var u=a.flags;if(u&2){try{e:{for(var d=a.return;d!==null;){if(TS(d)){var g=d;break e}d=d.return}throw Error(n(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(ga(b,""),g.flags&=-33);var w=SS(a);fy(a,w,b);break;case 3:case 4:var M=g.stateNode.containerInfo,U=SS(a);cy(a,U,M);break;default:throw Error(n(161))}}catch(W){Mt(a,a.return,W)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function q3(a,u,d){Ee=a,CS(a)}function CS(a,u,d){for(var g=(a.mode&1)!==0;Ee!==null;){var b=Ee,w=b.child;if(b.tag===22&&g){var M=b.memoizedState!==null||Hd;if(!M){var U=b.alternate,W=U!==null&&U.memoizedState!==null||Sn;U=Hd;var te=Sn;if(Hd=M,(Sn=W)&&!te)for(Ee=b;Ee!==null;)M=Ee,W=M.child,M.tag===22&&M.memoizedState!==null?NS(b):W!==null?(W.return=M,Ee=W):NS(b);for(;w!==null;)Ee=w,CS(w),w=w.sibling;Ee=b,Hd=U,Sn=te}OS(a)}else(b.subtreeFlags&8772)!==0&&w!==null?(w.return=b,Ee=w):OS(a)}}function OS(a){for(;Ee!==null;){var u=Ee;if((u.flags&8772)!==0){var d=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Sn||Gd(5,u);break;case 1:var g=u.stateNode;if(u.flags&4&&!Sn)if(d===null)g.componentDidMount();else{var b=u.elementType===u.type?d.memoizedProps:kr(u.type,d.memoizedProps);g.componentDidUpdate(b,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var w=u.updateQueue;w!==null&&kT(u,w,g);break;case 3:var M=u.updateQueue;if(M!==null){if(d=null,u.child!==null)switch(u.child.tag){case 5:d=u.child.stateNode;break;case 1:d=u.child.stateNode}kT(u,M,d)}break;case 5:var U=u.stateNode;if(d===null&&u.flags&4){d=U;var W=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&d.focus();break;case"img":W.src&&(d.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var te=u.alternate;if(te!==null){var de=te.memoizedState;if(de!==null){var me=de.dehydrated;me!==null&&Ao(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Sn||u.flags&512&&ly(u)}catch(le){Mt(u,u.return,le)}}if(u===a){Ee=null;break}if(d=u.sibling,d!==null){d.return=u.return,Ee=d;break}Ee=u.return}}function kS(a){for(;Ee!==null;){var u=Ee;if(u===a){Ee=null;break}var d=u.sibling;if(d!==null){d.return=u.return,Ee=d;break}Ee=u.return}}function NS(a){for(;Ee!==null;){var u=Ee;try{switch(u.tag){case 0:case 11:case 15:var d=u.return;try{Gd(4,u)}catch(W){Mt(u,d,W)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var b=u.return;try{g.componentDidMount()}catch(W){Mt(u,b,W)}}var w=u.return;try{ly(u)}catch(W){Mt(u,w,W)}break;case 5:var M=u.return;try{ly(u)}catch(W){Mt(u,M,W)}}}catch(W){Mt(u,u.return,W)}if(u===a){Ee=null;break}var U=u.sibling;if(U!==null){U.return=u.return,Ee=U;break}Ee=u.return}}var z3=Math.ceil,Kd=R.ReactCurrentDispatcher,dy=R.ReactCurrentOwner,pr=R.ReactCurrentBatchConfig,Ze=0,an=null,Ut=null,mn=0,rr=0,au=ko(0),Xt=0,ac=null,La=0,Yd=0,hy=0,sc=null,Bn=null,py=0,su=1/0,zi=null,Xd=!1,my=null,Lo=null,Qd=!1,$o=null,Jd=0,uc=0,gy=null,Zd=-1,eh=0;function Rn(){return(Ze&6)!==0?_t():Zd!==-1?Zd:Zd=_t()}function Vo(a){return(a.mode&1)===0?1:(Ze&2)!==0&&mn!==0?mn&-mn:P3.transition!==null?(eh===0&&(eh=Cl()),eh):(a=Qe,a!==0||(a=window.event,a=a===void 0?16:Ms(a.type)),a)}function Rr(a,u,d,g){if(50<uc)throw uc=0,gy=null,Error(n(185));Sa(a,d,g),((Ze&2)===0||a!==an)&&(a===an&&((Ze&2)===0&&(Yd|=d),Xt===4&&Bo(a,mn)),Fn(a,g),d===1&&Ze===0&&(u.mode&1)===0&&(su=_t()+500,Id&&jo()))}function Fn(a,u){var d=a.callbackNode;Ta(a,u);var g=ki(a,a===an?mn:0);if(g===0)d!==null&&Cs(d),a.callbackNode=null,a.callbackPriority=0;else if(u=g&-g,a.callbackPriority!==u){if(d!=null&&Cs(d),u===1)a.tag===0?A3(RS.bind(null,a)):xT(RS.bind(null,a)),w3(function(){(Ze&6)===0&&jo()}),d=null;else{switch(Xr(g)){case 1:d=Os;break;case 4:d=Al;break;case 16:d=ba;break;case 536870912:d=ks;break;default:d=ba}d=US(d,jS.bind(null,a))}a.callbackPriority=u,a.callbackNode=d}}function jS(a,u){if(Zd=-1,eh=0,(Ze&6)!==0)throw Error(n(327));var d=a.callbackNode;if(uu()&&a.callbackNode!==d)return null;var g=ki(a,a===an?mn:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||u)u=th(a,g);else{u=g;var b=Ze;Ze|=2;var w=MS();(an!==a||mn!==u)&&(zi=null,su=_t()+500,Va(a,u));do try{G3();break}catch(U){DS(a,U)}while(!0);Rg(),Kd.current=w,Ze=b,Ut!==null?u=0:(an=null,mn=0,u=Xt)}if(u!==0){if(u===2&&(b=Il(a),b!==0&&(g=b,u=yy(a,b))),u===1)throw d=ac,Va(a,0),Bo(a,g),Fn(a,_t()),d;if(u===6)Bo(a,g);else{if(b=a.current.alternate,(g&30)===0&&!W3(b)&&(u=th(a,g),u===2&&(w=Il(a),w!==0&&(g=w,u=yy(a,w))),u===1))throw d=ac,Va(a,0),Bo(a,g),Fn(a,_t()),d;switch(a.finishedWork=b,a.finishedLanes=g,u){case 0:case 1:throw Error(n(345));case 2:Ba(a,Bn,zi);break;case 3:if(Bo(a,g),(g&130023424)===g&&(u=py+500-_t(),10<u)){if(ki(a,0)!==0)break;if(b=a.suspendedLanes,(b&g)!==g){Rn(),a.pingedLanes|=a.suspendedLanes&b;break}a.timeoutHandle=Eg(Ba.bind(null,a,Bn,zi),u);break}Ba(a,Bn,zi);break;case 4:if(Bo(a,g),(g&4194240)===g)break;for(u=a.eventTimes,b=-1;0<g;){var M=31-Xn(g);w=1<<M,M=u[M],M>b&&(b=M),g&=~w}if(g=b,g=_t()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*z3(g/1960))-g,10<g){a.timeoutHandle=Eg(Ba.bind(null,a,Bn,zi),g);break}Ba(a,Bn,zi);break;case 5:Ba(a,Bn,zi);break;default:throw Error(n(329))}}}return Fn(a,_t()),a.callbackNode===d?jS.bind(null,a):null}function yy(a,u){var d=sc;return a.current.memoizedState.isDehydrated&&(Va(a,u).flags|=256),a=th(a,u),a!==2&&(u=Bn,Bn=d,u!==null&&vy(u)),a}function vy(a){Bn===null?Bn=a:Bn.push.apply(Bn,a)}function W3(a){for(var u=a;;){if(u.flags&16384){var d=u.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var b=d[g],w=b.getSnapshot;b=b.value;try{if(!Cr(w(),b))return!1}catch{return!1}}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Bo(a,u){for(u&=~hy,u&=~Yd,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var d=31-Xn(u),g=1<<d;a[d]=-1,u&=~g}}function RS(a){if((Ze&6)!==0)throw Error(n(327));uu();var u=ki(a,0);if((u&1)===0)return Fn(a,_t()),null;var d=th(a,u);if(a.tag!==0&&d===2){var g=Il(a);g!==0&&(u=g,d=yy(a,g))}if(d===1)throw d=ac,Va(a,0),Bo(a,u),Fn(a,_t()),d;if(d===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Ba(a,Bn,zi),Fn(a,_t()),null}function xy(a,u){var d=Ze;Ze|=1;try{return a(u)}finally{Ze=d,Ze===0&&(su=_t()+500,Id&&jo())}}function $a(a){$o!==null&&$o.tag===0&&(Ze&6)===0&&uu();var u=Ze;Ze|=1;var d=pr.transition,g=Qe;try{if(pr.transition=null,Qe=1,a)return a()}finally{Qe=g,pr.transition=d,Ze=u,(Ze&6)===0&&jo()}}function by(){rr=au.current,Et(au)}function Va(a,u){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,_3(d)),Ut!==null)for(d=Ut.return;d!==null;){var g=d;switch(Cg(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Ad();break;case 3:ru(),Et(Ln),Et(wn),Ug();break;case 5:Bg(g);break;case 4:ru();break;case 13:Et(Ot);break;case 19:Et(Ot);break;case 10:Dg(g.type._context);break;case 22:case 23:by()}d=d.return}if(an=a,Ut=a=Fo(a.current,null),mn=rr=u,Xt=0,ac=null,hy=Yd=La=0,Bn=sc=null,Ra!==null){for(u=0;u<Ra.length;u++)if(d=Ra[u],g=d.interleaved,g!==null){d.interleaved=null;var b=g.next,w=d.pending;if(w!==null){var M=w.next;w.next=b,g.next=M}d.pending=g}Ra=null}return a}function DS(a,u){do{var d=Ut;try{if(Rg(),$d.current=Ud,Vd){for(var g=kt.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}Vd=!1}if(Ma=0,on=Yt=kt=null,ec=!1,tc=0,dy.current=null,d===null||d.return===null){Xt=1,ac=u,Ut=null;break}e:{var w=a,M=d.return,U=d,W=u;if(u=mn,U.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var te=W,de=U,me=de.tag;if((de.mode&1)===0&&(me===0||me===11||me===15)){var le=de.alternate;le?(de.updateQueue=le.updateQueue,de.memoizedState=le.memoizedState,de.lanes=le.lanes):(de.updateQueue=null,de.memoizedState=null)}var be=aS(M);if(be!==null){be.flags&=-257,sS(be,M,U,w,u),be.mode&1&&oS(w,te,u),u=be,W=te;var Se=u.updateQueue;if(Se===null){var Ae=new Set;Ae.add(W),u.updateQueue=Ae}else Se.add(W);break e}else{if((u&1)===0){oS(w,te,u),_y();break e}W=Error(n(426))}}else if(It&&U.mode&1){var Vt=aS(M);if(Vt!==null){(Vt.flags&65536)===0&&(Vt.flags|=256),sS(Vt,M,U,w,u),Ng(iu(W,U));break e}}w=W=iu(W,U),Xt!==4&&(Xt=2),sc===null?sc=[w]:sc.push(w),w=M;do{switch(w.tag){case 3:w.flags|=65536,u&=-u,w.lanes|=u;var Y=rS(w,W,u);OT(w,Y);break e;case 1:U=W;var H=w.type,Z=w.stateNode;if((w.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(Lo===null||!Lo.has(Z)))){w.flags|=65536,u&=-u,w.lanes|=u;var ye=iS(w,U,u);OT(w,ye);break e}}w=w.return}while(w!==null)}$S(d)}catch(Pe){u=Pe,Ut===d&&d!==null&&(Ut=d=d.return);continue}break}while(!0)}function MS(){var a=Kd.current;return Kd.current=Ud,a===null?Ud:a}function _y(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),an===null||(La&268435455)===0&&(Yd&268435455)===0||Bo(an,mn)}function th(a,u){var d=Ze;Ze|=2;var g=MS();(an!==a||mn!==u)&&(zi=null,Va(a,u));do try{H3();break}catch(b){DS(a,b)}while(!0);if(Rg(),Ze=d,Kd.current=g,Ut!==null)throw Error(n(261));return an=null,mn=0,Xt}function H3(){for(;Ut!==null;)LS(Ut)}function G3(){for(;Ut!==null&&!xa();)LS(Ut)}function LS(a){var u=FS(a.alternate,a,rr);a.memoizedProps=a.pendingProps,u===null?$S(a):Ut=u,dy.current=null}function $S(a){var u=a;do{var d=u.alternate;if(a=u.return,(u.flags&32768)===0){if(d=V3(d,u,rr),d!==null){Ut=d;return}}else{if(d=B3(d,u),d!==null){d.flags&=32767,Ut=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Xt=6,Ut=null;return}}if(u=u.sibling,u!==null){Ut=u;return}Ut=u=a}while(u!==null);Xt===0&&(Xt=5)}function Ba(a,u,d){var g=Qe,b=pr.transition;try{pr.transition=null,Qe=1,K3(a,u,d,g)}finally{pr.transition=b,Qe=g}return null}function K3(a,u,d,g){do uu();while($o!==null);if((Ze&6)!==0)throw Error(n(327));d=a.finishedWork;var b=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var w=d.lanes|d.childLanes;if(sg(a,w),a===an&&(Ut=an=null,mn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Qd||(Qd=!0,US(ba,function(){return uu(),null})),w=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||w){w=pr.transition,pr.transition=null;var M=Qe;Qe=1;var U=Ze;Ze|=4,dy.current=null,U3(a,d),IS(d,a),p3(_g),Ri=!!bg,_g=bg=null,a.current=d,q3(d),Oi(),Ze=U,Qe=M,pr.transition=w}else a.current=d;if(Qd&&(Qd=!1,$o=a,Jd=b),w=a.pendingLanes,w===0&&(Lo=null),ud(d.stateNode),Fn(a,_t()),u!==null)for(g=a.onRecoverableError,d=0;d<u.length;d++)b=u[d],g(b.value,{componentStack:b.stack,digest:b.digest});if(Xd)throw Xd=!1,a=my,my=null,a;return(Jd&1)!==0&&a.tag!==0&&uu(),w=a.pendingLanes,(w&1)!==0?a===gy?uc++:(uc=0,gy=a):uc=0,jo(),null}function uu(){if($o!==null){var a=Xr(Jd),u=pr.transition,d=Qe;try{if(pr.transition=null,Qe=16>a?16:a,$o===null)var g=!1;else{if(a=$o,$o=null,Jd=0,(Ze&6)!==0)throw Error(n(331));var b=Ze;for(Ze|=4,Ee=a.current;Ee!==null;){var w=Ee,M=w.child;if((Ee.flags&16)!==0){var U=w.deletions;if(U!==null){for(var W=0;W<U.length;W++){var te=U[W];for(Ee=te;Ee!==null;){var de=Ee;switch(de.tag){case 0:case 11:case 15:oc(8,de,w)}var me=de.child;if(me!==null)me.return=de,Ee=me;else for(;Ee!==null;){de=Ee;var le=de.sibling,be=de.return;if(ES(de),de===te){Ee=null;break}if(le!==null){le.return=be,Ee=le;break}Ee=be}}}var Se=w.alternate;if(Se!==null){var Ae=Se.child;if(Ae!==null){Se.child=null;do{var Vt=Ae.sibling;Ae.sibling=null,Ae=Vt}while(Ae!==null)}}Ee=w}}if((w.subtreeFlags&2064)!==0&&M!==null)M.return=w,Ee=M;else e:for(;Ee!==null;){if(w=Ee,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:oc(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,Ee=Y;break e}Ee=w.return}}var H=a.current;for(Ee=H;Ee!==null;){M=Ee;var Z=M.child;if((M.subtreeFlags&2064)!==0&&Z!==null)Z.return=M,Ee=Z;else e:for(M=H;Ee!==null;){if(U=Ee,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Gd(9,U)}}catch(Pe){Mt(U,U.return,Pe)}if(U===M){Ee=null;break e}var ye=U.sibling;if(ye!==null){ye.return=U.return,Ee=ye;break e}Ee=U.return}}if(Ze=b,jo(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(_a,a)}catch{}g=!0}return g}finally{Qe=d,pr.transition=u}}return!1}function VS(a,u,d){u=iu(d,u),u=rS(a,u,1),a=Do(a,u,1),u=Rn(),a!==null&&(Sa(a,1,u),Fn(a,u))}function Mt(a,u,d){if(a.tag===3)VS(a,a,d);else for(;u!==null;){if(u.tag===3){VS(u,a,d);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Lo===null||!Lo.has(g))){a=iu(d,a),a=iS(u,a,1),u=Do(u,a,1),a=Rn(),u!==null&&(Sa(u,1,a),Fn(u,a));break}}u=u.return}}function Y3(a,u,d){var g=a.pingCache;g!==null&&g.delete(u),u=Rn(),a.pingedLanes|=a.suspendedLanes&d,an===a&&(mn&d)===d&&(Xt===4||Xt===3&&(mn&130023424)===mn&&500>_t()-py?Va(a,0):hy|=d),Fn(a,u)}function BS(a,u){u===0&&((a.mode&1)===0?u=1:(u=Eo,Eo<<=1,(Eo&130023424)===0&&(Eo=4194304)));var d=Rn();a=Fi(a,u),a!==null&&(Sa(a,u,d),Fn(a,d))}function X3(a){var u=a.memoizedState,d=0;u!==null&&(d=u.retryLane),BS(a,d)}function Q3(a,u){var d=0;switch(a.tag){case 13:var g=a.stateNode,b=a.memoizedState;b!==null&&(d=b.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(u),BS(a,d)}var FS;FS=function(a,u,d){if(a!==null)if(a.memoizedProps!==u.pendingProps||Ln.current)Vn=!0;else{if((a.lanes&d)===0&&(u.flags&128)===0)return Vn=!1,$3(a,u,d);Vn=(a.flags&131072)!==0}else Vn=!1,It&&(u.flags&1048576)!==0&&bT(u,Od,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;Wd(a,u),a=u.pendingProps;var b=Xs(u,wn.current);nu(u,d),b=Wg(null,u,g,a,b,d);var w=Hg();return u.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,$n(g)?(w=!0,Pd(u)):w=!1,u.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,$g(u),b.updater=qd,u.stateNode=b,b._reactInternals=u,Jg(u,g,a,d),u=ny(null,u,g,!0,w,d)):(u.tag=0,It&&w&&Ig(u),jn(null,u,b,d),u=u.child),u;case 16:g=u.elementType;e:{switch(Wd(a,u),a=u.pendingProps,b=g._init,g=b(g._payload),u.type=g,b=u.tag=Z3(g),a=kr(g,a),b){case 0:u=ty(null,u,g,a,d);break e;case 1:u=hS(null,u,g,a,d);break e;case 11:u=uS(null,u,g,a,d);break e;case 14:u=lS(null,u,g,kr(g.type,a),d);break e}throw Error(n(306,g,""))}return u;case 0:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:kr(g,b),ty(a,u,g,b,d);case 1:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:kr(g,b),hS(a,u,g,b,d);case 3:e:{if(pS(u),a===null)throw Error(n(387));g=u.pendingProps,w=u.memoizedState,b=w.element,CT(a,u),Md(u,g,null,d);var M=u.memoizedState;if(g=M.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},u.updateQueue.baseState=w,u.memoizedState=w,u.flags&256){b=iu(Error(n(423)),u),u=mS(a,u,g,d,b);break e}else if(g!==b){b=iu(Error(n(424)),u),u=mS(a,u,g,d,b);break e}else for(nr=Oo(u.stateNode.containerInfo.firstChild),tr=u,It=!0,Or=null,d=PT(u,null,g,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Zs(),g===b){u=qi(a,u,d);break e}jn(a,u,g,d)}u=u.child}return u;case 5:return NT(u),a===null&&kg(u),g=u.type,b=u.pendingProps,w=a!==null?a.memoizedProps:null,M=b.children,wg(g,b)?M=null:w!==null&&wg(g,w)&&(u.flags|=32),dS(a,u),jn(a,u,M,d),u.child;case 6:return a===null&&kg(u),null;case 13:return gS(a,u,d);case 4:return Vg(u,u.stateNode.containerInfo),g=u.pendingProps,a===null?u.child=eu(u,null,g,d):jn(a,u,g,d),u.child;case 11:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:kr(g,b),uS(a,u,g,b,d);case 7:return jn(a,u,u.pendingProps,d),u.child;case 8:return jn(a,u,u.pendingProps.children,d),u.child;case 12:return jn(a,u,u.pendingProps.children,d),u.child;case 10:e:{if(g=u.type._context,b=u.pendingProps,w=u.memoizedProps,M=b.value,xt(jd,g._currentValue),g._currentValue=M,w!==null)if(Cr(w.value,M)){if(w.children===b.children&&!Ln.current){u=qi(a,u,d);break e}}else for(w=u.child,w!==null&&(w.return=u);w!==null;){var U=w.dependencies;if(U!==null){M=w.child;for(var W=U.firstContext;W!==null;){if(W.context===g){if(w.tag===1){W=Ui(-1,d&-d),W.tag=2;var te=w.updateQueue;if(te!==null){te=te.shared;var de=te.pending;de===null?W.next=W:(W.next=de.next,de.next=W),te.pending=W}}w.lanes|=d,W=w.alternate,W!==null&&(W.lanes|=d),Mg(w.return,d,u),U.lanes|=d;break}W=W.next}}else if(w.tag===10)M=w.type===u.type?null:w.child;else if(w.tag===18){if(M=w.return,M===null)throw Error(n(341));M.lanes|=d,U=M.alternate,U!==null&&(U.lanes|=d),Mg(M,d,u),M=w.sibling}else M=w.child;if(M!==null)M.return=w;else for(M=w;M!==null;){if(M===u){M=null;break}if(w=M.sibling,w!==null){w.return=M.return,M=w;break}M=M.return}w=M}jn(a,u,b.children,d),u=u.child}return u;case 9:return b=u.type,g=u.pendingProps.children,nu(u,d),b=dr(b),g=g(b),u.flags|=1,jn(a,u,g,d),u.child;case 14:return g=u.type,b=kr(g,u.pendingProps),b=kr(g.type,b),lS(a,u,g,b,d);case 15:return cS(a,u,u.type,u.pendingProps,d);case 17:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:kr(g,b),Wd(a,u),u.tag=1,$n(g)?(a=!0,Pd(u)):a=!1,nu(u,d),tS(u,g,b),Jg(u,g,b,d),ny(null,u,g,!0,a,d);case 19:return vS(a,u,d);case 22:return fS(a,u,d)}throw Error(n(156,u.tag))};function US(a,u){return Sl(a,u)}function J3(a,u,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(a,u,d,g){return new J3(a,u,d,g)}function wy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Z3(a){if(typeof a=="function")return wy(a)?1:0;if(a!=null){if(a=a.$$typeof,a===B)return 11;if(a===ee)return 14}return 2}function Fo(a,u){var d=a.alternate;return d===null?(d=mr(a.tag,u,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=u,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,u=a.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function nh(a,u,d,g,b,w){var M=2;if(g=a,typeof a=="function")wy(a)&&(M=1);else if(typeof a=="string")M=5;else e:switch(a){case A:return Fa(d.children,b,w,u);case P:M=8,b|=8;break;case I:return a=mr(12,d,u,b|2),a.elementType=I,a.lanes=w,a;case L:return a=mr(13,d,u,b),a.elementType=L,a.lanes=w,a;case Q:return a=mr(19,d,u,b),a.elementType=Q,a.lanes=w,a;case se:return rh(d,b,w,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case V:M=10;break e;case $:M=9;break e;case B:M=11;break e;case ee:M=14;break e;case ae:M=16,g=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return u=mr(M,d,u,b),u.elementType=a,u.type=g,u.lanes=w,u}function Fa(a,u,d,g){return a=mr(7,a,g,u),a.lanes=d,a}function rh(a,u,d,g){return a=mr(22,a,g,u),a.elementType=se,a.lanes=d,a.stateNode={isHidden:!1},a}function Ey(a,u,d){return a=mr(6,a,null,u),a.lanes=d,a}function Ty(a,u,d){return u=mr(4,a.children!==null?a.children:[],a.key,u),u.lanes=d,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function e$(a,u,d,g,b){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ol(0),this.expirationTimes=Ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ol(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Sy(a,u,d,g,b,w,M,U,W){return a=new e$(a,u,d,U,W),u===1?(u=1,w===!0&&(u|=8)):u=0,w=mr(3,null,null,u),a.current=w,w.stateNode=a,w.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},$g(w),a}function t$(a,u,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:g==null?null:""+g,children:a,containerInfo:u,implementation:d}}function qS(a){if(!a)return No;a=a._reactInternals;e:{if(Pr(a)!==a||a.tag!==1)throw Error(n(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if($n(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(a.tag===1){var d=a.type;if($n(d))return yT(a,d,u)}return u}function zS(a,u,d,g,b,w,M,U,W){return a=Sy(d,g,!0,a,b,w,M,U,W),a.context=qS(null),d=a.current,g=Rn(),b=Vo(d),w=Ui(g,b),w.callback=u??null,Do(d,w,b),a.current.lanes=b,Sa(a,b,g),Fn(a,g),a}function ih(a,u,d,g){var b=u.current,w=Rn(),M=Vo(b);return d=qS(d),u.context===null?u.context=d:u.pendingContext=d,u=Ui(w,M),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=Do(b,u,M),a!==null&&(Rr(a,b,M,w),Dd(a,b,M)),M}function oh(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function WS(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<u?d:u}}function Ay(a,u){WS(a,u),(a=a.alternate)&&WS(a,u)}function n$(){return null}var HS=typeof reportError=="function"?reportError:function(a){console.error(a)};function Py(a){this._internalRoot=a}ah.prototype.render=Py.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(n(409));ih(a,u,null,null)},ah.prototype.unmount=Py.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;$a(function(){ih(null,a,null,null)}),u[Li]=null}};function ah(a){this._internalRoot=a}ah.prototype.unstable_scheduleHydration=function(a){if(a){var u=Rl();a={blockedOn:null,target:a,priority:u};for(var d=0;d<Qn.length&&u!==0&&u<Qn[d].priority;d++);Qn.splice(d,0,a),d===0&&Rs(a)}};function Iy(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function sh(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function GS(){}function r$(a,u,d,g,b){if(b){if(typeof g=="function"){var w=g;g=function(){var te=oh(M);w.call(te)}}var M=zS(u,g,a,0,null,!1,!1,"",GS);return a._reactRootContainer=M,a[Li]=M.current,Hl(a.nodeType===8?a.parentNode:a),$a(),M}for(;b=a.lastChild;)a.removeChild(b);if(typeof g=="function"){var U=g;g=function(){var te=oh(W);U.call(te)}}var W=Sy(a,0,!1,null,null,!1,!1,"",GS);return a._reactRootContainer=W,a[Li]=W.current,Hl(a.nodeType===8?a.parentNode:a),$a(function(){ih(u,W,d,g)}),W}function uh(a,u,d,g,b){var w=d._reactRootContainer;if(w){var M=w;if(typeof b=="function"){var U=b;b=function(){var W=oh(M);U.call(W)}}ih(u,M,a,b)}else M=r$(d,u,a,b,g);return oh(M)}Nl=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var d=it(u.pendingLanes);d!==0&&(kl(u,d|1),Fn(u,_t()),(Ze&6)===0&&(su=_t()+500,jo()))}break;case 13:$a(function(){var g=Fi(a,1);if(g!==null){var b=Rn();Rr(g,a,1,b)}}),Ay(a,1)}},Ns=function(a){if(a.tag===13){var u=Fi(a,134217728);if(u!==null){var d=Rn();Rr(u,a,134217728,d)}Ay(a,134217728)}},jl=function(a){if(a.tag===13){var u=Vo(a),d=Fi(a,u);if(d!==null){var g=Rn();Rr(d,a,u,g)}Ay(a,u)}},Rl=function(){return Qe},Dl=function(a,u){var d=Qe;try{return Qe=a,u()}finally{Qe=d}},Pi=function(a,u,d){switch(u){case"input":if(Rt(a,d),u=d.name,d.type==="radio"&&u!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<d.length;u++){var g=d[u];if(g!==a&&g.form===a.form){var b=Sd(g);if(!b)throw Error(n(90));ce(g),Rt(g,b)}}}break;case"textarea":ma(a,d);break;case"select":u=d.value,u!=null&&Kt(a,!!d.multiple,u,!1)}},Zf=xy,ed=$a;var i$={usingClientEntryPoint:!1,Events:[Yl,Ks,Sd,xo,bo,xy]},lc={findFiberByHostInstance:Oa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o$={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=sd(a),a===null?null:a.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||n$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{_a=lh.inject(o$),Yn=lh}catch{}}return Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i$,Un.createPortal=function(a,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iy(u))throw Error(n(200));return t$(a,u,null,d)},Un.createRoot=function(a,u){if(!Iy(a))throw Error(n(299));var d=!1,g="",b=HS;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(b=u.onRecoverableError)),u=Sy(a,1,!1,null,null,d,!1,g,b),a[Li]=u.current,Hl(a.nodeType===8?a.parentNode:a),new Py(u)},Un.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=sd(u),a=a===null?null:a.stateNode,a},Un.flushSync=function(a){return $a(a)},Un.hydrate=function(a,u,d){if(!sh(u))throw Error(n(200));return uh(null,a,u,!0,d)},Un.hydrateRoot=function(a,u,d){if(!Iy(a))throw Error(n(405));var g=d!=null&&d.hydratedSources||null,b=!1,w="",M=HS;if(d!=null&&(d.unstable_strictMode===!0&&(b=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(M=d.onRecoverableError)),u=zS(u,null,a,1,d??null,b,!1,w,M),a[Li]=u.current,Hl(a),g)for(a=0;a<g.length;a++)d=g[a],b=d._getVersion,b=b(d._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[d,b]:u.mutableSourceEagerHydrationData.push(d,b);return new ah(u)},Un.render=function(a,u,d){if(!sh(u))throw Error(n(200));return uh(null,a,u,!1,d)},Un.unmountComponentAtNode=function(a){if(!sh(a))throw Error(n(40));return a._reactRootContainer?($a(function(){uh(null,null,a,!1,function(){a._reactRootContainer=null,a[Li]=null})}),!0):!1},Un.unstable_batchedUpdates=xy,Un.unstable_renderSubtreeIntoContainer=function(a,u,d,g){if(!sh(d))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return uh(a,u,d,!1,g)},Un.version="18.3.1-next-f1338f8080-20240426",Un}var tA;function xj(){if(tA)return ky.exports;tA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ky.exports=d$(),ky.exports}var nA;function h$(){if(nA)return fh;nA=1;var t=xj();return fh.createRoot=t.createRoot,fh.hydrateRoot=t.hydrateRoot,fh}var p$=h$();const m$=ht(p$),bj=q.createContext(null);function Gt(){const t=q.useContext(bj);if(!t)throw new Error("useTripContext must be used within a TripContext.Provider");return t}const _j="wanderplan_profiles",wj=q.createContext(null);function g$(){try{const t=localStorage.getItem(_j);if(t)return JSON.parse(t)}catch{}return[]}function y$({children:t}){const[e,n]=q.useState(g$);q.useEffect(()=>{localStorage.setItem(_j,JSON.stringify(e))},[e]);const r=q.useCallback(s=>{const l={id:Date.now().toString(36)+Math.random().toString(36).slice(2,6),name:s.name.trim(),photo:s.photo||null};return n(c=>[...c,l]),l},[]),i=q.useCallback((s,l)=>{n(c=>c.map(f=>f.id===s?{...f,...l}:f))},[]),o=q.useCallback(s=>{n(l=>l.filter(c=>c.id!==s))},[]);return y.jsx(wj.Provider,{value:{profiles:e,addProfile:r,updateProfile:i,deleteProfile:o},children:t})}function ol(){const t=q.useContext(wj);if(!t)throw new Error("useProfiles must be used within ProfileProvider");return t}const v$=()=>{};var rA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},x$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Tj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,m=(o&3)<<4|l>>4;let v=(l&15)<<2|f>>6,x=f&63;c||(x=64,s||(v=64)),r.push(n[h],n[m],n[v],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ej(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||f==null||m==null)throw new b$;const v=o<<2|l>>4;if(r.push(v),f!==64){const x=l<<4&240|f>>2;if(r.push(x),m!==64){const S=f<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class b$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _$=function(t){const e=Ej(t);return Tj.encodeByteArray(e,!0)},Uh=function(t){return _$(t).replace(/\./g,"")},Sj=function(t){try{return Tj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$=()=>w$().__FIREBASE_DEFAULTS__,T$=()=>{if(typeof process>"u"||typeof rA>"u")return;const t=rA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},S$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sj(t[1]);return e&&JSON.parse(e)},sm=()=>{try{return v$()||E$()||T$()||S$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Aj=t=>{var e,n;return(n=(e=sm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},A$=t=>{const e=Aj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Pj=()=>{var t;return(t=sm())==null?void 0:t.config},Ij=t=>{var e;return(e=sm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Uh(JSON.stringify(n)),Uh(JSON.stringify(s)),""].join(".")}const Oc={};function C$(){const t={prod:[],emulator:[]};for(const e of Object.keys(Oc))Oc[e]?t.emulator.push(e):t.prod.push(e);return t}function O$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let iA=!1;function Oj(t,e){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||Oc[t]===e||Oc[t]||iA)return;Oc[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=C$().prod.length>0;function s(){const v=document.getElementById(r);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,x){v.setAttribute("width","24"),v.setAttribute("id",x),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{iA=!0,s()},v}function h(v,x){v.setAttribute("id",x),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=O$(r),x=n("text"),S=document.getElementById(x)||document.createElement("span"),T=n("learnmore"),_=document.getElementById(T)||document.createElement("a"),C=n("preprendIcon"),D=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const N=v.element;l(N),h(_,T);const R=f();c(D,C),N.append(D,S,_,R),document.body.appendChild(N)}o?(S.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function N$(){var e;const t=(e=sm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function R$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function D$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function M$(){const t=Nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function L$(){return!N$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $$(){try{return typeof indexedDB=="object"}catch{return!1}}function V$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$="FirebaseError";class co extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=B$,Object.setPrototypeOf(this,co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jf.prototype.create)}}class jf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?F$(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new co(i,l,r)}}function F$(t,e){return t.replace(U$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const U$=/\{\$([^}]+)}/g;function q$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function os(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(oA(o)&&oA(s)){if(!os(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function oA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function z$(t,e){const n=new W$(t,e);return n.subscribe.bind(n)}class W${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");H$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ry),i.error===void 0&&(i.error=Ry),i.complete===void 0&&(i.complete=Ry);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ry(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t){return t&&t._delegate?t._delegate:t}class as{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new P$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y$(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K$(t){return t===qa?void 0:t}function Y$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new G$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const Q$={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},J$=Ke.INFO,Z$={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},eV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Z$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $w{constructor(e){this.name=e,this._logLevel=J$,this._logHandler=eV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Q$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const tV=(t,e)=>e.some(n=>t instanceof n);let aA,sA;function nV(){return aA||(aA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rV(){return sA||(sA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kj=new WeakMap,Xb=new WeakMap,Nj=new WeakMap,Dy=new WeakMap,Vw=new WeakMap;function iV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Qo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&kj.set(n,t)}).catch(()=>{}),Vw.set(e,t),e}function oV(t){if(Xb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Xb.set(t,e)}let Qb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Nj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aV(t){Qb=t(Qb)}function sV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(My(this),e,...n);return Nj.set(r,e.sort?e.sort():[e]),Qo(r)}:rV().includes(t)?function(...e){return t.apply(My(this),e),Qo(kj.get(this))}:function(...e){return Qo(t.apply(My(this),e))}}function uV(t){return typeof t=="function"?sV(t):(t instanceof IDBTransaction&&oV(t),tV(t,nV())?new Proxy(t,Qb):t)}function Qo(t){if(t instanceof IDBRequest)return iV(t);if(Dy.has(t))return Dy.get(t);const e=uV(t);return e!==t&&(Dy.set(t,e),Vw.set(e,t)),e}const My=t=>Vw.get(t);function lV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=Qo(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Qo(s.result),c.oldVersion,c.newVersion,Qo(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const cV=["get","getKey","getAll","getAllKeys","count"],fV=["put","add","delete","clear"],Ly=new Map;function uA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ly.get(e))return Ly.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=fV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||cV.includes(n)))return;const o=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return Ly.set(e,o),o}aV(t=>({...t,get:(e,n,r)=>uA(e,n)||t.get(e,n,r),has:(e,n)=>!!uA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jb="@firebase/app",lA="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new $w("@firebase/app"),pV="@firebase/app-compat",mV="@firebase/analytics-compat",gV="@firebase/analytics",yV="@firebase/app-check-compat",vV="@firebase/app-check",xV="@firebase/auth",bV="@firebase/auth-compat",_V="@firebase/database",wV="@firebase/data-connect",EV="@firebase/database-compat",TV="@firebase/functions",SV="@firebase/functions-compat",AV="@firebase/installations",PV="@firebase/installations-compat",IV="@firebase/messaging",CV="@firebase/messaging-compat",OV="@firebase/performance",kV="@firebase/performance-compat",NV="@firebase/remote-config",jV="@firebase/remote-config-compat",RV="@firebase/storage",DV="@firebase/storage-compat",MV="@firebase/firestore",LV="@firebase/ai",$V="@firebase/firestore-compat",VV="firebase",BV="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="[DEFAULT]",FV={[Jb]:"fire-core",[pV]:"fire-core-compat",[gV]:"fire-analytics",[mV]:"fire-analytics-compat",[vV]:"fire-app-check",[yV]:"fire-app-check-compat",[xV]:"fire-auth",[bV]:"fire-auth-compat",[_V]:"fire-rtdb",[wV]:"fire-data-connect",[EV]:"fire-rtdb-compat",[TV]:"fire-fn",[SV]:"fire-fn-compat",[AV]:"fire-iid",[PV]:"fire-iid-compat",[IV]:"fire-fcm",[CV]:"fire-fcm-compat",[OV]:"fire-perf",[kV]:"fire-perf-compat",[NV]:"fire-rc",[jV]:"fire-rc-compat",[RV]:"fire-gcs",[DV]:"fire-gcs-compat",[MV]:"fire-fst",[$V]:"fire-fst-compat",[LV]:"fire-vertex","fire-js":"fire-js",[VV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,UV=new Map,e_=new Map;function cA(t,e){try{t.container.addComponent(e)}catch(n){ro.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ku(t){const e=t.name;if(e_.has(e))return ro.debug(`There were multiple attempts to register component ${e}.`),!1;e_.set(e,t);for(const n of qh.values())cA(n,t);for(const n of UV.values())cA(n,t);return!0}function Bw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Lr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jo=new jf("app","Firebase",qV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=BV;function jj(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Zb,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Jo.create("bad-app-name",{appName:String(i)});if(n||(n=Pj()),!n)throw Jo.create("no-options");const o=qh.get(i);if(o){if(os(n,o.options)&&os(r,o.config))return o;throw Jo.create("duplicate-app",{appName:i})}const s=new X$(i);for(const c of e_.values())s.addComponent(c);const l=new zV(n,r,s);return qh.set(i,l),l}function Rj(t=Zb){const e=qh.get(t);if(!e&&t===Zb&&Pj())return jj();if(!e)throw Jo.create("no-app",{appName:t});return e}function Zo(t,e,n){let r=FV[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ro.warn(s.join(" "));return}ku(new as(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV="firebase-heartbeat-database",HV=1,Bc="firebase-heartbeat-store";let $y=null;function Dj(){return $y||($y=lV(WV,HV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jo.create("idb-open",{originalErrorMessage:t.message})})),$y}async function GV(t){try{const n=(await Dj()).transaction(Bc),r=await n.objectStore(Bc).get(Mj(t));return await n.done,r}catch(e){if(e instanceof co)ro.warn(e.message);else{const n=Jo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ro.warn(n.message)}}}async function fA(t,e){try{const r=(await Dj()).transaction(Bc,"readwrite");await r.objectStore(Bc).put(e,Mj(t)),await r.done}catch(n){if(n instanceof co)ro.warn(n.message);else{const r=Jo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ro.warn(r.message)}}}function Mj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=1024,YV=30;class XV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=dA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>YV){const s=ZV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ro.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dA(),{heartbeatsToSend:r,unsentEntries:i}=QV(this._heartbeatsCache.heartbeats),o=Uh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ro.warn(n),""}}}function dA(){return new Date().toISOString().substring(0,10)}function QV(t,e=KV){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),hA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $$()?V$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hA(t){return Uh(JSON.stringify({version:2,heartbeats:t})).length}function ZV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(t){ku(new as("platform-logger",e=>new dV(e),"PRIVATE")),ku(new as("heartbeat",e=>new XV(e),"PRIVATE")),Zo(Jb,lA,t),Zo(Jb,lA,"esm2020"),Zo("fire-js","")}eB("");function Lj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tB=Lj,$j=new jf("auth","Firebase",Lj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new $w("@firebase/auth");function nB(t,...e){zh.logLevel<=Ke.WARN&&zh.warn(`Auth (${sl}): ${t}`,...e)}function kh(t,...e){zh.logLevel<=Ke.ERROR&&zh.error(`Auth (${sl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t,...e){throw Uw(t,...e)}function Ur(t,...e){return Uw(t,...e)}function Fw(t,e,n){const r={...tB(),[e]:n};return new jf("auth","Firebase",r).create(e,{appName:t.name})}function Ja(t){return Fw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rB(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&bi(t,"argument-error"),Fw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Uw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $j.create(t,...e)}function Ve(t,e,...n){if(!t)throw Uw(e,...n)}function Ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kh(e),new Error(e)}function io(t,e){t||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function iB(){return pA()==="http:"||pA()==="https:"}function pA(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iB()||R$()||"connection"in navigator)?navigator.onLine:!0}function aB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.shortDelay=e,this.longDelay=n,io(n>e,"Short delay should be less than long delay!"),this.isMobile=k$()||D$()}get(){return oB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t,e){io(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lB=new Df(3e4,6e4);function zw(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ul(t,e,n,r,i={}){return Bj(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const l=Rf({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...o};return j$()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&al(t.emulatorConfig.host)&&(f.credentials="include"),Vj.fetch()(await Fj(t,t.config.apiHost,n,l),f)})}async function Bj(t,e,n){t._canInitEmulator=!1;const r={...sB,...e};try{const i=new fB(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw dh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const l=o.ok?s.errorMessage:s.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw dh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw dh(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Fw(t,h,f);bi(t,h)}}catch(i){if(i instanceof co)throw i;bi(t,"network-request-failed",{message:String(i)})}}async function cB(t,e,n,r,i={}){const o=await ul(t,e,n,r,i);return"mfaPendingCredential"in o&&bi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function Fj(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?qw(t.config,i):`${t.config.apiScheme}://${i}`;return uB.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class fB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),lB.get())})}}function dh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ur(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dB(t,e){return ul(t,"POST","/v1/accounts:delete",e)}async function Wh(t,e){return ul(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hB(t,e=!1){const n=Hn(t),r=await n.getIdToken(e),i=Ww(r);Ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:kc(Vy(i.auth_time)),issuedAtTime:kc(Vy(i.iat)),expirationTime:kc(Vy(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Vy(t){return Number(t)*1e3}function Ww(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Sj(n);return i?JSON.parse(i):(kh("Failed to decode base64 JWT payload"),null)}catch(i){return kh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function mA(t){const e=Ww(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof co&&pB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kc(this.lastLoginAt),this.creationTime=kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(t){var m;const e=t.auth,n=await t.getIdToken(),r=await Fc(t,Wh(e,{idToken:n}));Ve(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(m=i.providerUserInfo)!=null&&m.length?Uj(i.providerUserInfo):[],s=yB(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),f=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new n_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function gB(t){const e=Hn(t);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Uj(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vB(t,e){const n=await Bj(t,{},async()=>{const r=Rf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await Fj(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&al(t.emulatorConfig.host)&&(c.credentials="include"),Vj.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xB(t,e){return ul(t,"POST","/v2/accounts:revokeToken",zw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=mA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await vB(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new _u;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ve(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ve(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _u,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new mB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new n_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Fc(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hB(this,e)}reload(){return gB(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lr(this.auth.app))return Promise.reject(Ja(this.auth));const e=await this.getIdToken();return await Fc(this,dB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,f=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:v,isAnonymous:x,providerData:S,stsTokenManager:T}=n;Ve(m&&T,e,"internal-error");const _=_u.fromJSON(this.name,T);Ve(typeof m=="string",e,"internal-error"),qo(r,e.name),qo(i,e.name),Ve(typeof v=="boolean",e,"internal-error"),Ve(typeof x=="boolean",e,"internal-error"),qo(o,e.name),qo(s,e.name),qo(l,e.name),qo(c,e.name),qo(f,e.name),qo(h,e.name);const C=new Vr({uid:m,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:x,photoURL:s,phoneNumber:o,tenantId:l,stsTokenManager:_,createdAt:f,lastLoginAt:h});return S&&Array.isArray(S)&&(C.providerData=S.map(D=>({...D}))),c&&(C._redirectEventId=c),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new _u;i.updateFromServerResponse(n);const o=new Vr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Hh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ve(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Uj(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new _u;l.updateFromIdToken(r);const c=new Vr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new n_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=new Map;function Yi(t){io(t instanceof Function,"Expected a class definition");let e=gA.get(t);return e?(io(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qj.type="NONE";const yA=qj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t,e,n){return`firebase:${t}:${e}:${n}`}class wu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Nh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Nh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wh(this.auth,{idToken:e}).catch(()=>{});return n?Vr._fromGetAccountInfoResponse(this.auth,n,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wu(Yi(yA),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Yi(yA);const s=Nh(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const h=await f._get(s);if(h){let m;if(typeof h=="string"){const v=await Wh(e,{idToken:h}).catch(()=>{});if(!v)break;m=await Vr._fromGetAccountInfoResponse(e,v,h)}else m=Vr._fromJSON(e,h);f!==o&&(l=m),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new wu(o,e,r):(o=c[0],l&&await o._set(s,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(s)}catch{}})),new wu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yj(e))return"Blackberry";if(Xj(e))return"Webos";if(Wj(e))return"Safari";if((e.includes("chrome/")||Hj(e))&&!e.includes("edge/"))return"Chrome";if(Kj(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zj(t=Nn()){return/firefox\//i.test(t)}function Wj(t=Nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hj(t=Nn()){return/crios\//i.test(t)}function Gj(t=Nn()){return/iemobile/i.test(t)}function Kj(t=Nn()){return/android/i.test(t)}function Yj(t=Nn()){return/blackberry/i.test(t)}function Xj(t=Nn()){return/webos/i.test(t)}function Hw(t=Nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bB(t=Nn()){var e;return Hw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function _B(){return M$()&&document.documentMode===10}function Qj(t=Nn()){return Hw(t)||Kj(t)||Xj(t)||Yj(t)||/windows phone/i.test(t)||Gj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t,e=[]){let n;switch(t){case"Browser":n=vA(Nn());break;case"Worker":n=`${vA(Nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,l)=>{try{const c=e(o);s(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EB(t,e={}){return ul(t,"GET","/v2/passwordPolicy",zw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB=6;class SB{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??TB,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xA(this),this.idTokenSubscription=new xA(this),this.beforeStateQueue=new wB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$j,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await wu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wh(this,{idToken:e}),r=await Vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Lr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lr(this.app))return Promise.reject(Ja(this));const n=e?Hn(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lr(this.app)?Promise.reject(Ja(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lr(this.app)?Promise.reject(Ja(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EB(this),n=new SB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yi(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await wu.create(this,[Yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(l,this,"internal-error"),l.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&nB(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function um(t){return Hn(t)}class xA{constructor(e){this.auth=e,this.observer=null,this.addObserver=z$(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PB(t){Gw=t}function IB(t){return Gw.loadJS(t)}function CB(){return Gw.gapiScript}function OB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(t,e){const n=Bw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(os(o,e??{}))return i;bi(i,"already-initialized")}return n.initialize({options:e})}function NB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jB(t,e,n){const r=um(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Zj(e),{host:s,port:l}=RB(e),c=l===null?"":`:${l}`,f={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(os(f,r.config.emulator)&&os(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,al(s)?(Cj(`${o}//${s}${c}`),Oj("Auth",!0)):DB()}function Zj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RB(t){const e=Zj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:bA(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:bA(s)}}}function bA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function DB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,n){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t,e){return cB(t,"POST","/v1/accounts:signInWithIdp",zw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB="http://localhost";class ss extends eR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new ss(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Eu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Eu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eu(e,n)}buildRequest(){const e={requestUri:MB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends Kw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends Mf{constructor(){super("facebook.com")}static credential(e){return ss._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wo.credential(e.oauthAccessToken)}catch{return null}}}Wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Mf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ss._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends Mf{constructor(){super("github.com")}static credential(e){return ss._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ho.credential(e.oauthAccessToken)}catch{return null}}}Ho.GITHUB_SIGN_IN_METHOD="github.com";Ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Mf{constructor(){super("twitter.com")}static credential(e,n){return ss._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Go.credential(n,r)}catch{return null}}}Go.TWITTER_SIGN_IN_METHOD="twitter.com";Go.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Vr._fromIdTokenResponse(e,r,i),s=_A(r);return new Nu({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=_A(r);return new Nu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function _A(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends co{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gh(e,n,r,i)}}function tR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Gh._fromErrorAndOperation(t,o,e,r):o})}async function LB(t,e,n=!1){const r=await Fc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $B(t,e,n=!1){const{auth:r}=t;if(Lr(r.app))return Promise.reject(Ja(r));const i="reauthenticate";try{const o=await Fc(t,tR(r,i,e,t),n);Ve(o.idToken,r,"internal-error");const s=Ww(o.idToken);Ve(s,r,"internal-error");const{sub:l}=s;return Ve(t.uid===l,r,"user-mismatch"),Nu._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&bi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VB(t,e,n=!1){if(Lr(t.app))return Promise.reject(Ja(t));const r="signIn",i=await tR(t,r,e),o=await Nu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function BB(t,e,n,r){return Hn(t).onIdTokenChanged(e,n,r)}function FB(t,e,n){return Hn(t).beforeAuthStateChanged(e,n)}function UB(t,e,n,r){return Hn(t).onAuthStateChanged(e,n,r)}function qB(t){return Hn(t).signOut()}const Kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kh,"1"),this.storage.removeItem(Kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=1e3,WB=10;class rR extends nR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);_B()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,WB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},zB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rR.type="LOCAL";const HB=rR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR extends nR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iR.type="SESSION";const oR=iR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async f=>f(n.origin,o)),c=await GB(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((l,c)=>{const f=Yw("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(v.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return window}function YB(t){hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}async function XB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function JB(){return aR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebaseLocalStorageDb",ZB=1,Yh="firebaseLocalStorage",uR="fbase_key";class Lf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cm(t,e){return t.transaction([Yh],e?"readwrite":"readonly").objectStore(Yh)}function e6(){const t=indexedDB.deleteDatabase(sR);return new Lf(t).toPromise()}function r_(){const t=indexedDB.open(sR,ZB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yh,{keyPath:uR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yh)?e(r):(r.close(),await e6(),e(await r_()))})})}async function wA(t,e,n){const r=cm(t,!0).put({[uR]:e,value:n});return new Lf(r).toPromise()}async function t6(t,e){const n=cm(t,!1).get(e),r=await new Lf(n).toPromise();return r===void 0?null:r.value}function EA(t,e){const n=cm(t,!0).delete(e);return new Lf(n).toPromise()}const n6=800,r6=3;class lR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await r_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>r6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lm._getInstance(JB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await XB(),!this.activeServiceWorker)return;this.sender=new KB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await r_();return await wA(e,Kh,"1"),await EA(e,Kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>t6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>EA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=cm(i,!1).getAll();return new Lf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lR.type="LOCAL";const i6=lR;new Df(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e){return e?Yi(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw extends eR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function o6(t){return VB(t.auth,new Xw(t),t.bypassAuthState)}function a6(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),$B(n,new Xw(t),t.bypassAuthState)}async function s6(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),LB(n,new Xw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o6;case"linkViaPopup":case"linkViaRedirect":return s6;case"reauthViaPopup":case"reauthViaRedirect":return a6;default:bi(this.auth,"internal-error")}}resolve(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=new Df(2e3,1e4);async function l6(t,e,n){if(Lr(t.app))return Promise.reject(Ur(t,"operation-not-supported-in-this-environment"));const r=um(t);rB(t,e,Kw);const i=cR(r,n);return new Ha(r,"signInViaPopup",e,i).executeNotNull()}class Ha extends fR{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){io(this.filter.length===1,"Popup operations only handle one event");const e=Yw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u6.get())};e()}}Ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6="pendingRedirect",jh=new Map;class f6 extends fR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jh.get(this.auth._key());if(!e){try{const r=await d6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jh.set(this.auth._key(),e)}return this.bypassAuthState||jh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d6(t,e){const n=m6(e),r=p6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function h6(t,e){jh.set(t._key(),e)}function p6(t){return Yi(t._redirectPersistence)}function m6(t){return Nh(c6,t.config.apiKey,t.name)}async function g6(t,e,n=!1){if(Lr(t.app))return Promise.reject(Ja(t));const r=um(t),i=cR(r,e),s=await new f6(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=600*1e3;class v6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dR(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y6&&this.cachedEventUids.clear(),this.cachedEventUids.has(TA(e))}saveEventToCache(e){this.cachedEventUids.add(TA(e)),this.lastProcessedEventTime=Date.now()}}function TA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function x6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b6(t,e={}){return ul(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w6=/^https?/;async function E6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await b6(t);for(const n of e)try{if(T6(n))return}catch{}bi(t,"unauthorized-domain")}function T6(t){const e=t_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!w6.test(n))return!1;if(_6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=new Df(3e4,6e4);function SA(){const t=hi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function A6(t){return new Promise((e,n)=>{var i,o,s;function r(){SA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SA(),n(Ur(t,"network-request-failed"))},timeout:S6.get()})}if((o=(i=hi().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=hi().gapi)!=null&&s.load)r();else{const l=OB("iframefcb");return hi()[l]=()=>{gapi.load?r():n(Ur(t,"network-request-failed"))},IB(`${CB()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function P6(t){return Rh=Rh||A6(t),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=new Df(5e3,15e3),C6="__/auth/iframe",O6="emulator/auth/iframe",k6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j6(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qw(e,O6):`https://${t.config.authDomain}/${C6}`,r={apiKey:e.apiKey,appName:t.name,v:sl},i=N6.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Rf(r).slice(1)}`}async function R6(t){const e=await P6(t),n=hi().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:j6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k6,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Ur(t,"network-request-failed"),l=hi().setTimeout(()=>{o(s)},I6.get());function c(){hi().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M6=500,L6=600,$6="_blank",V6="http://localhost";class AA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function B6(t,e,n,r=M6,i=L6){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...D6,width:r.toString(),height:i.toString(),top:o,left:s},f=Nn().toLowerCase();n&&(l=Hj(f)?$6:n),zj(f)&&(e=e||V6,c.scrollbars="yes");const h=Object.entries(c).reduce((v,[x,S])=>`${v}${x}=${S},`,"");if(bB(f)&&l!=="_self")return F6(e||"",l),new AA(null);const m=window.open(e||"",l,h);Ve(m,t,"popup-blocked");try{m.focus()}catch{}return new AA(m)}function F6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6="__/auth/handler",q6="emulator/auth/handler",z6=encodeURIComponent("fac");async function PA(t,e,n,r,i,o){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sl,eventId:i};if(e instanceof Kw){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",q$(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))s[h]=m}if(e instanceof Mf){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),f=c?`#${z6}=${encodeURIComponent(c)}`:"";return`${W6(t)}?${Rf(l).slice(1)}${f}`}function W6({config:t}){return t.emulator?qw(t,q6):`https://${t.authDomain}/${U6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="webStorageSupport";class H6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oR,this._completeRedirectFn=g6,this._overrideRedirectResult=h6}async _openPopup(e,n,r,i){var s;io((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await PA(e,n,r,t_(),i);return B6(e,o,Yw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await PA(e,n,r,t_(),i);return YB(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(io(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await R6(e),r=new v6(e);return n.register("authEvent",i=>(Ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(By,{type:By},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[By];o!==void 0&&n(!!o),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Qj()||Wj()||Hw()}}const G6=H6;var IA="@firebase/auth",CA="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X6(t){ku(new as("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;Ve(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jj(t)},f=new AB(r,i,o,c);return NB(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ku(new as("auth-internal",e=>{const n=um(e.getProvider("auth").getImmediate());return(r=>new K6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zo(IA,CA,Y6(t)),Zo(IA,CA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=300,J6=Ij("authIdTokenMaxAge")||Q6;let OA=null;const Z6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>J6)return;const i=n==null?void 0:n.token;OA!==i&&(OA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function e5(t=Rj()){const e=Bw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kB(t,{popupRedirectResolver:G6,persistence:[i6,HB,oR]}),r=Ij("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Z6(o.toString());FB(n,s,()=>s(n.currentUser)),BB(n,l=>s(l))}}const i=Aj("auth");return i&&jB(n,`http://${i}`),n}function t5(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}PB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ur("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",t5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X6("Browser");var n5="firebase",r5="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zo(n5,r5,"app");var kA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,hR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,P){function I(){}I.prototype=P.prototype,A.F=P.prototype,A.prototype=new I,A.prototype.constructor=A,A.D=function(V,$,B){for(var L=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)L[Q-2]=arguments[Q];return P.prototype[$].apply(V,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,P,I){I||(I=0);const V=Array(16);if(typeof P=="string")for(var $=0;$<16;++$)V[$]=P.charCodeAt(I++)|P.charCodeAt(I++)<<8|P.charCodeAt(I++)<<16|P.charCodeAt(I++)<<24;else for($=0;$<16;++$)V[$]=P[I++]|P[I++]<<8|P[I++]<<16|P[I++]<<24;P=A.g[0],I=A.g[1],$=A.g[2];let B=A.g[3],L;L=P+(B^I&($^B))+V[0]+3614090360&4294967295,P=I+(L<<7&4294967295|L>>>25),L=B+($^P&(I^$))+V[1]+3905402710&4294967295,B=P+(L<<12&4294967295|L>>>20),L=$+(I^B&(P^I))+V[2]+606105819&4294967295,$=B+(L<<17&4294967295|L>>>15),L=I+(P^$&(B^P))+V[3]+3250441966&4294967295,I=$+(L<<22&4294967295|L>>>10),L=P+(B^I&($^B))+V[4]+4118548399&4294967295,P=I+(L<<7&4294967295|L>>>25),L=B+($^P&(I^$))+V[5]+1200080426&4294967295,B=P+(L<<12&4294967295|L>>>20),L=$+(I^B&(P^I))+V[6]+2821735955&4294967295,$=B+(L<<17&4294967295|L>>>15),L=I+(P^$&(B^P))+V[7]+4249261313&4294967295,I=$+(L<<22&4294967295|L>>>10),L=P+(B^I&($^B))+V[8]+1770035416&4294967295,P=I+(L<<7&4294967295|L>>>25),L=B+($^P&(I^$))+V[9]+2336552879&4294967295,B=P+(L<<12&4294967295|L>>>20),L=$+(I^B&(P^I))+V[10]+4294925233&4294967295,$=B+(L<<17&4294967295|L>>>15),L=I+(P^$&(B^P))+V[11]+2304563134&4294967295,I=$+(L<<22&4294967295|L>>>10),L=P+(B^I&($^B))+V[12]+1804603682&4294967295,P=I+(L<<7&4294967295|L>>>25),L=B+($^P&(I^$))+V[13]+4254626195&4294967295,B=P+(L<<12&4294967295|L>>>20),L=$+(I^B&(P^I))+V[14]+2792965006&4294967295,$=B+(L<<17&4294967295|L>>>15),L=I+(P^$&(B^P))+V[15]+1236535329&4294967295,I=$+(L<<22&4294967295|L>>>10),L=P+($^B&(I^$))+V[1]+4129170786&4294967295,P=I+(L<<5&4294967295|L>>>27),L=B+(I^$&(P^I))+V[6]+3225465664&4294967295,B=P+(L<<9&4294967295|L>>>23),L=$+(P^I&(B^P))+V[11]+643717713&4294967295,$=B+(L<<14&4294967295|L>>>18),L=I+(B^P&($^B))+V[0]+3921069994&4294967295,I=$+(L<<20&4294967295|L>>>12),L=P+($^B&(I^$))+V[5]+3593408605&4294967295,P=I+(L<<5&4294967295|L>>>27),L=B+(I^$&(P^I))+V[10]+38016083&4294967295,B=P+(L<<9&4294967295|L>>>23),L=$+(P^I&(B^P))+V[15]+3634488961&4294967295,$=B+(L<<14&4294967295|L>>>18),L=I+(B^P&($^B))+V[4]+3889429448&4294967295,I=$+(L<<20&4294967295|L>>>12),L=P+($^B&(I^$))+V[9]+568446438&4294967295,P=I+(L<<5&4294967295|L>>>27),L=B+(I^$&(P^I))+V[14]+3275163606&4294967295,B=P+(L<<9&4294967295|L>>>23),L=$+(P^I&(B^P))+V[3]+4107603335&4294967295,$=B+(L<<14&4294967295|L>>>18),L=I+(B^P&($^B))+V[8]+1163531501&4294967295,I=$+(L<<20&4294967295|L>>>12),L=P+($^B&(I^$))+V[13]+2850285829&4294967295,P=I+(L<<5&4294967295|L>>>27),L=B+(I^$&(P^I))+V[2]+4243563512&4294967295,B=P+(L<<9&4294967295|L>>>23),L=$+(P^I&(B^P))+V[7]+1735328473&4294967295,$=B+(L<<14&4294967295|L>>>18),L=I+(B^P&($^B))+V[12]+2368359562&4294967295,I=$+(L<<20&4294967295|L>>>12),L=P+(I^$^B)+V[5]+4294588738&4294967295,P=I+(L<<4&4294967295|L>>>28),L=B+(P^I^$)+V[8]+2272392833&4294967295,B=P+(L<<11&4294967295|L>>>21),L=$+(B^P^I)+V[11]+1839030562&4294967295,$=B+(L<<16&4294967295|L>>>16),L=I+($^B^P)+V[14]+4259657740&4294967295,I=$+(L<<23&4294967295|L>>>9),L=P+(I^$^B)+V[1]+2763975236&4294967295,P=I+(L<<4&4294967295|L>>>28),L=B+(P^I^$)+V[4]+1272893353&4294967295,B=P+(L<<11&4294967295|L>>>21),L=$+(B^P^I)+V[7]+4139469664&4294967295,$=B+(L<<16&4294967295|L>>>16),L=I+($^B^P)+V[10]+3200236656&4294967295,I=$+(L<<23&4294967295|L>>>9),L=P+(I^$^B)+V[13]+681279174&4294967295,P=I+(L<<4&4294967295|L>>>28),L=B+(P^I^$)+V[0]+3936430074&4294967295,B=P+(L<<11&4294967295|L>>>21),L=$+(B^P^I)+V[3]+3572445317&4294967295,$=B+(L<<16&4294967295|L>>>16),L=I+($^B^P)+V[6]+76029189&4294967295,I=$+(L<<23&4294967295|L>>>9),L=P+(I^$^B)+V[9]+3654602809&4294967295,P=I+(L<<4&4294967295|L>>>28),L=B+(P^I^$)+V[12]+3873151461&4294967295,B=P+(L<<11&4294967295|L>>>21),L=$+(B^P^I)+V[15]+530742520&4294967295,$=B+(L<<16&4294967295|L>>>16),L=I+($^B^P)+V[2]+3299628645&4294967295,I=$+(L<<23&4294967295|L>>>9),L=P+($^(I|~B))+V[0]+4096336452&4294967295,P=I+(L<<6&4294967295|L>>>26),L=B+(I^(P|~$))+V[7]+1126891415&4294967295,B=P+(L<<10&4294967295|L>>>22),L=$+(P^(B|~I))+V[14]+2878612391&4294967295,$=B+(L<<15&4294967295|L>>>17),L=I+(B^($|~P))+V[5]+4237533241&4294967295,I=$+(L<<21&4294967295|L>>>11),L=P+($^(I|~B))+V[12]+1700485571&4294967295,P=I+(L<<6&4294967295|L>>>26),L=B+(I^(P|~$))+V[3]+2399980690&4294967295,B=P+(L<<10&4294967295|L>>>22),L=$+(P^(B|~I))+V[10]+4293915773&4294967295,$=B+(L<<15&4294967295|L>>>17),L=I+(B^($|~P))+V[1]+2240044497&4294967295,I=$+(L<<21&4294967295|L>>>11),L=P+($^(I|~B))+V[8]+1873313359&4294967295,P=I+(L<<6&4294967295|L>>>26),L=B+(I^(P|~$))+V[15]+4264355552&4294967295,B=P+(L<<10&4294967295|L>>>22),L=$+(P^(B|~I))+V[6]+2734768916&4294967295,$=B+(L<<15&4294967295|L>>>17),L=I+(B^($|~P))+V[13]+1309151649&4294967295,I=$+(L<<21&4294967295|L>>>11),L=P+($^(I|~B))+V[4]+4149444226&4294967295,P=I+(L<<6&4294967295|L>>>26),L=B+(I^(P|~$))+V[11]+3174756917&4294967295,B=P+(L<<10&4294967295|L>>>22),L=$+(P^(B|~I))+V[2]+718787259&4294967295,$=B+(L<<15&4294967295|L>>>17),L=I+(B^($|~P))+V[9]+3951481745&4294967295,A.g[0]=A.g[0]+P&4294967295,A.g[1]=A.g[1]+($+(L<<21&4294967295|L>>>11))&4294967295,A.g[2]=A.g[2]+$&4294967295,A.g[3]=A.g[3]+B&4294967295}r.prototype.v=function(A,P){P===void 0&&(P=A.length);const I=P-this.blockSize,V=this.C;let $=this.h,B=0;for(;B<P;){if($==0)for(;B<=I;)i(this,A,B),B+=this.blockSize;if(typeof A=="string"){for(;B<P;)if(V[$++]=A.charCodeAt(B++),$==this.blockSize){i(this,V),$=0;break}}else for(;B<P;)if(V[$++]=A[B++],$==this.blockSize){i(this,V),$=0;break}}this.h=$,this.o+=P},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var P=1;P<A.length-8;++P)A[P]=0;P=this.o*8;for(var I=A.length-8;I<A.length;++I)A[I]=P&255,P/=256;for(this.v(A),A=Array(16),P=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)A[P++]=this.g[I]>>>V&255;return A};function o(A,P){var I=l;return Object.prototype.hasOwnProperty.call(I,A)?I[A]:I[A]=P(A)}function s(A,P){this.h=P;const I=[];let V=!0;for(let $=A.length-1;$>=0;$--){const B=A[$]|0;V&&B==P||(I[$]=B,V=!1)}this.g=I}var l={};function c(A){return-128<=A&&A<128?o(A,function(P){return new s([P|0],P<0?-1:0)}):new s([A|0],A<0?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return m;if(A<0)return _(f(-A));const P=[];let I=1;for(let V=0;A>=I;V++)P[V]=A/I|0,I*=4294967296;return new s(P,0)}function h(A,P){if(A.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(A.charAt(0)=="-")return _(h(A.substring(1),P));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=f(Math.pow(P,8));let V=m;for(let B=0;B<A.length;B+=8){var $=Math.min(8,A.length-B);const L=parseInt(A.substring(B,B+$),P);$<8?($=f(Math.pow(P,$)),V=V.j($).add(f(L))):(V=V.j(I),V=V.add(f(L)))}return V}var m=c(0),v=c(1),x=c(16777216);t=s.prototype,t.m=function(){if(T(this))return-_(this).m();let A=0,P=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);A+=(V>=0?V:4294967296+V)*P,P*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S(this))return"0";if(T(this))return"-"+_(this).toString(A);const P=f(Math.pow(A,6));var I=this;let V="";for(;;){const $=R(I,P).g;I=C(I,$.j(P));let B=((I.g.length>0?I.g[0]:I.h)>>>0).toString(A);if(I=$,S(I))return B+V;for(;B.length<6;)B="0"+B;V=B+V}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function S(A){if(A.h!=0)return!1;for(let P=0;P<A.g.length;P++)if(A.g[P]!=0)return!1;return!0}function T(A){return A.h==-1}t.l=function(A){return A=C(this,A),T(A)?-1:S(A)?0:1};function _(A){const P=A.g.length,I=[];for(let V=0;V<P;V++)I[V]=~A.g[V];return new s(I,~A.h).add(v)}t.abs=function(){return T(this)?_(this):this},t.add=function(A){const P=Math.max(this.g.length,A.g.length),I=[];let V=0;for(let $=0;$<=P;$++){let B=V+(this.i($)&65535)+(A.i($)&65535),L=(B>>>16)+(this.i($)>>>16)+(A.i($)>>>16);V=L>>>16,B&=65535,L&=65535,I[$]=L<<16|B}return new s(I,I[I.length-1]&-2147483648?-1:0)};function C(A,P){return A.add(_(P))}t.j=function(A){if(S(this)||S(A))return m;if(T(this))return T(A)?_(this).j(_(A)):_(_(this).j(A));if(T(A))return _(this.j(_(A)));if(this.l(x)<0&&A.l(x)<0)return f(this.m()*A.m());const P=this.g.length+A.g.length,I=[];for(var V=0;V<2*P;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let $=0;$<A.g.length;$++){const B=this.i(V)>>>16,L=this.i(V)&65535,Q=A.i($)>>>16,ee=A.i($)&65535;I[2*V+2*$]+=L*ee,D(I,2*V+2*$),I[2*V+2*$+1]+=B*ee,D(I,2*V+2*$+1),I[2*V+2*$+1]+=L*Q,D(I,2*V+2*$+1),I[2*V+2*$+2]+=B*Q,D(I,2*V+2*$+2)}for(A=0;A<P;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=P;A<2*P;A++)I[A]=0;return new s(I,0)};function D(A,P){for(;(A[P]&65535)!=A[P];)A[P+1]+=A[P]>>>16,A[P]&=65535,P++}function N(A,P){this.g=A,this.h=P}function R(A,P){if(S(P))throw Error("division by zero");if(S(A))return new N(m,m);if(T(A))return P=R(_(A),P),new N(_(P.g),_(P.h));if(T(P))return P=R(A,_(P)),new N(_(P.g),P.h);if(A.g.length>30){if(T(A)||T(P))throw Error("slowDivide_ only works with positive integers.");for(var I=v,V=P;V.l(A)<=0;)I=O(I),V=O(V);var $=j(I,1),B=j(V,1);for(V=j(V,2),I=j(I,2);!S(V);){var L=B.add(V);L.l(A)<=0&&($=$.add(I),B=L),V=j(V,1),I=j(I,1)}return P=C(A,$.j(P)),new N($,P)}for($=m;A.l(P)>=0;){for(I=Math.max(1,Math.floor(A.m()/P.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),B=f(I),L=B.j(P);T(L)||L.l(A)>0;)I-=V,B=f(I),L=B.j(P);S(B)&&(B=v),$=$.add(B),A=C(A,L)}return new N($,A)}t.B=function(A){return R(this,A).h},t.and=function(A){const P=Math.max(this.g.length,A.g.length),I=[];for(let V=0;V<P;V++)I[V]=this.i(V)&A.i(V);return new s(I,this.h&A.h)},t.or=function(A){const P=Math.max(this.g.length,A.g.length),I=[];for(let V=0;V<P;V++)I[V]=this.i(V)|A.i(V);return new s(I,this.h|A.h)},t.xor=function(A){const P=Math.max(this.g.length,A.g.length),I=[];for(let V=0;V<P;V++)I[V]=this.i(V)^A.i(V);return new s(I,this.h^A.h)};function O(A){const P=A.g.length+1,I=[];for(let V=0;V<P;V++)I[V]=A.i(V)<<1|A.i(V-1)>>>31;return new s(I,A.h)}function j(A,P){const I=P>>5;P%=32;const V=A.g.length-I,$=[];for(let B=0;B<V;B++)$[B]=P>0?A.i(B+I)>>>P|A.i(B+I+1)<<32-P:A.i(B+I);return new s($,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,hR=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,ea=s}).apply(typeof kA<"u"?kA:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pR,_c,mR,Dh,i_,gR,yR,vR;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var E=0;E<p.length;++E){var k=p[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(p,E){if(E)e:{var k=r;p=p.split(".");for(var F=0;F<p.length-1;F++){var X=p[F];if(!(X in k))break e;k=k[X]}p=p[p.length-1],F=k[p],E=E(F),E!=F&&E!=null&&e(k,p,{configurable:!0,writable:!0,value:E})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(E){var k=[],F;for(F in E)Object.prototype.hasOwnProperty.call(E,F)&&k.push([F,E[F]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function c(p,E,k){return p.call.apply(p.bind,arguments)}function f(p,E,k){return f=c,f.apply(null,arguments)}function h(p,E){var k=Array.prototype.slice.call(arguments,1);return function(){var F=k.slice();return F.push.apply(F,arguments),p.apply(this,F)}}function m(p,E){function k(){}k.prototype=E.prototype,p.Z=E.prototype,p.prototype=new k,p.prototype.constructor=p,p.Ob=function(F,X,ne){for(var ve=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ve[Ue-2]=arguments[Ue];return E.prototype[X].apply(F,ve)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function x(p){const E=p.length;if(E>0){const k=Array(E);for(let F=0;F<E;F++)k[F]=p[F];return k}return[]}function S(p,E){for(let F=1;F<arguments.length;F++){const X=arguments[F];var k=typeof X;if(k=k!="object"?k:X?Array.isArray(X)?"array":k:"null",k=="array"||k=="object"&&typeof X.length=="number"){k=p.length||0;const ne=X.length||0;p.length=k+ne;for(let ve=0;ve<ne;ve++)p[k+ve]=X[ve]}else p.push(X)}}class T{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function _(p){s.setTimeout(()=>{throw p},0)}function C(){var p=A;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class D{constructor(){this.h=this.g=null}add(E,k){const F=N.get();F.set(E,k),this.h?this.h.next=F:this.g=F,this.h=F}}var N=new T(()=>new R,p=>p.reset());class R{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let O,j=!1,A=new D,P=()=>{const p=Promise.resolve(void 0);O=()=>{p.then(I)}};function I(){for(var p;p=C();){try{p.h.call(p.g)}catch(k){_(k)}var E=N;E.j(p),E.h<100&&(E.h++,p.next=E.g,E.g=p)}j=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const k=()=>{};s.addEventListener("test",k,E),s.removeEventListener("test",k,E)}catch{}return p})();function L(p){return/^[\s\xa0]*$/.test(p)}function Q(p,E){$.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,E)}m(Q,$),Q.prototype.init=function(p,E){const k=this.type=p.type,F=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget,E||(k=="mouseover"?E=p.fromElement:k=="mouseout"&&(E=p.toElement)),this.relatedTarget=E,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),ae=0;function se(p,E,k,F,X){this.listener=p,this.proxy=null,this.src=E,this.type=k,this.capture=!!F,this.ha=X,this.key=++ae,this.da=this.fa=!1}function J(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ie(p,E,k){for(const F in p)E.call(k,p[F],F,p)}function re(p,E){for(const k in p)E.call(void 0,p[k],k,p)}function z(p){const E={};for(const k in p)E[k]=p[k];return E}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(p,E){let k,F;for(let X=1;X<arguments.length;X++){F=arguments[X];for(k in F)p[k]=F[k];for(let ne=0;ne<G.length;ne++)k=G[ne],Object.prototype.hasOwnProperty.call(F,k)&&(p[k]=F[k])}}function _e(p){this.src=p,this.g={},this.h=0}_e.prototype.add=function(p,E,k,F,X){const ne=p.toString();p=this.g[ne],p||(p=this.g[ne]=[],this.h++);const ve=Re(p,E,F,X);return ve>-1?(E=p[ve],k||(E.fa=!1)):(E=new se(E,this.src,ne,!!F,X),E.fa=k,p.push(E)),E};function Ce(p,E){const k=E.type;if(k in p.g){var F=p.g[k],X=Array.prototype.indexOf.call(F,E,void 0),ne;(ne=X>=0)&&Array.prototype.splice.call(F,X,1),ne&&(J(E),p.g[k].length==0&&(delete p.g[k],p.h--))}}function Re(p,E,k,F){for(let X=0;X<p.length;++X){const ne=p[X];if(!ne.da&&ne.listener==E&&ne.capture==!!k&&ne.ha==F)return X}return-1}var We="closure_lm_"+(Math.random()*1e6|0),Le={};function he(p,E,k,F,X){if(Array.isArray(E)){for(let ne=0;ne<E.length;ne++)he(p,E[ne],k,F,X);return null}return k=Mn(k),p&&p[ee]?p.J(E,k,l(F)?!!F.capture:!1,X):Oe(p,E,k,!1,F,X)}function Oe(p,E,k,F,X,ne){if(!E)throw Error("Invalid event type");const ve=l(X)?!!X.capture:!!X;let Ue=yt(p);if(Ue||(p[We]=Ue=new _e(p)),k=Ue.add(E,k,F,ve,ne),k.proxy)return k;if(F=Be(),k.proxy=F,F.src=p,F.listener=k,p.addEventListener)B||(X=ve),X===void 0&&(X=!1),p.addEventListener(E.toString(),F,X);else if(p.attachEvent)p.attachEvent(ze(E.toString()),F);else if(p.addListener&&p.removeListener)p.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Be(){function p(k){return E.call(p.src,p.listener,k)}const E=Pt;return p}function ce(p,E,k,F,X){if(Array.isArray(E))for(var ne=0;ne<E.length;ne++)ce(p,E[ne],k,F,X);else F=l(F)?!!F.capture:!!F,k=Mn(k),p&&p[ee]?(p=p.i,ne=String(E).toString(),ne in p.g&&(E=p.g[ne],k=Re(E,k,F,X),k>-1&&(J(E[k]),Array.prototype.splice.call(E,k,1),E.length==0&&(delete p.g[ne],p.h--)))):p&&(p=yt(p))&&(E=p.g[E.toString()],p=-1,E&&(p=Re(E,k,F,X)),(k=p>-1?E[p]:null)&&rt(k))}function rt(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[ee])Ce(E.i,p);else{var k=p.type,F=p.proxy;E.removeEventListener?E.removeEventListener(k,F,p.capture):E.detachEvent?E.detachEvent(ze(k),F):E.addListener&&E.removeListener&&E.removeListener(F),(k=yt(E))?(Ce(k,p),k.h==0&&(k.src=null,E[We]=null)):J(p)}}}function ze(p){return p in Le?Le[p]:Le[p]="on"+p}function Pt(p,E){if(p.da)p=!0;else{E=new Q(E,this);const k=p.listener,F=p.ha||p.src;p.fa&&rt(p),p=k.call(F,E)}return p}function yt(p){return p=p[We],p instanceof _e?p:null}var Rt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mn(p){return typeof p=="function"?p:(p[Rt]||(p[Rt]=function(E){return p.handleEvent(E)}),p[Rt])}function pt(){V.call(this),this.i=new _e(this),this.M=this,this.G=null}m(pt,V),pt.prototype[ee]=!0,pt.prototype.removeEventListener=function(p,E,k,F){ce(this,p,E,k,F)};function vt(p,E){var k,F=p.G;if(F)for(k=[];F;F=F.G)k.push(F);if(p=p.M,F=E.type||E,typeof E=="string")E=new $(E,p);else if(E instanceof $)E.target=E.target||p;else{var X=E;E=new $(F,p),ge(E,X)}X=!0;let ne,ve;if(k)for(ve=k.length-1;ve>=0;ve--)ne=E.g=k[ve],X=Kt(ne,F,!0,E)&&X;if(ne=E.g=p,X=Kt(ne,F,!0,E)&&X,X=Kt(ne,F,!1,E)&&X,k)for(ve=0;ve<k.length;ve++)ne=E.g=k[ve],X=Kt(ne,F,!1,E)&&X}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var p=this.i;for(const E in p.g){const k=p.g[E];for(let F=0;F<k.length;F++)J(k[F]);delete p.g[E],p.h--}}this.G=null},pt.prototype.J=function(p,E,k,F){return this.i.add(String(p),E,!1,k,F)},pt.prototype.K=function(p,E,k,F){return this.i.add(String(p),E,!0,k,F)};function Kt(p,E,k,F){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();let X=!0;for(let ne=0;ne<E.length;++ne){const ve=E[ne];if(ve&&!ve.da&&ve.capture==k){const Ue=ve.listener,$t=ve.ha||ve.src;ve.fa&&Ce(p.i,ve),X=Ue.call($t,F)!==!1&&X}}return X&&!F.defaultPrevented}function Kn(p,E){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:s.setTimeout(p,E||0)}function Ai(p){p.g=Kn(()=>{p.g=null,p.i&&(p.i=!1,Ai(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class ma extends V{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ai(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(p){V.call(this),this.h=p,this.g={}}m(Sr,V);var bl=[];function Ts(p){ie(p.g,function(E,k){this.g.hasOwnProperty(k)&&rt(E)},p),p.g={}}Sr.prototype.N=function(){Sr.Z.N.call(this),Ts(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mo=s.JSON.stringify,Qf=s.JSON.parse,ga=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function go(){}function Jf(){}var yo={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ss(){$.call(this,"d")}m(Ss,$);function _l(){$.call(this,"c")}m(_l,$);var Ar={},As=null;function vo(){return As=As||new pt}Ar.Ia="serverreachability";function Ps(p){$.call(this,Ar.Ia,p)}m(Ps,$);function Pi(p){const E=vo();vt(E,new Ps(E))}Ar.STAT_EVENT="statevent";function Ii(p,E){$.call(this,Ar.STAT_EVENT,p),this.stat=E}m(Ii,$);function Dt(p){const E=vo();vt(E,new Ii(E,p))}Ar.Ja="timingevent";function wl(p,E){$.call(this,Ar.Ja,p),this.size=E}m(wl,$);function xo(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},E)}function bo(){this.g=!0}bo.prototype.ua=function(){this.g=!1};function Zf(p,E,k,F,X,ne){p.info(function(){if(p.g)if(ne){var ve="",Ue=ne.split("&");for(let ft=0;ft<Ue.length;ft++){var $t=Ue[ft].split("=");if($t.length>1){const Ft=$t[0];$t=$t[1];const er=Ft.split("_");ve=er.length>=2&&er[1]=="type"?ve+(Ft+"="+$t+"&"):ve+(Ft+"=redacted&")}}}else ve=null;else ve=ne;return"XMLHTTP REQ ("+F+") [attempt "+X+"]: "+E+`
`+k+`
`+ve})}function ed(p,E,k,F,X,ne,ve){p.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+X+"]: "+E+`
`+k+`
`+ne+" "+ve})}function Hr(p,E,k,F){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+ya(p,k)+(F?" "+F:"")})}function td(p,E){p.info(function(){return"TIMEOUT: "+E})}bo.prototype.info=function(){};function ya(p,E){if(!p.g)return E;if(!E)return null;try{const ne=JSON.parse(E);if(ne){for(p=0;p<ne.length;p++)if(Array.isArray(ne[p])){var k=ne[p];if(!(k.length<2)){var F=k[1];if(Array.isArray(F)&&!(F.length<1)){var X=F[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ve=1;ve<F.length;ve++)F[ve]=""}}}}return mo(ne)}catch{return E}}var _o={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},nd;function Ci(){}m(Ci,go),Ci.prototype.g=function(){return new XMLHttpRequest},nd=new Ci;function Gr(p){return encodeURIComponent(String(p))}function Is(p){var E=1;p=p.split(":");const k=[];for(;E>0&&p.length;)k.push(p.shift()),E--;return p.length&&k.push(p.join(":")),k}function ur(p,E,k,F){this.j=p,this.i=E,this.l=k,this.S=F||1,this.V=new Sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new rd}function rd(){this.i=null,this.g="",this.h=!1}var id={},El={};function Pr(p,E,k){p.M=1,p.A=ki(lr(E)),p.u=k,p.R=!0,Tl(p,null)}function Tl(p,E){p.F=Date.now(),va(p),p.B=lr(p.A);var k=p.B,F=p.S;Array.isArray(F)||(F=[String(F)]),Rl(k.i,"t",F),p.C=0,k=p.j.L,p.h=new rd,p.g=pd(p.j,k?E:null,!p.u),p.P>0&&(p.O=new ma(f(p.Y,p,p.g),p.P)),E=p.V,k=p.g,F=p.ba;var X="readystatechange";Array.isArray(X)||(X&&(bl[0]=X.toString()),X=bl);for(let ne=0;ne<X.length;ne++){const ve=he(k,X[ne],F||E.handleEvent,!1,E.h||E);if(!ve)break;E.g[ve.key]=ve}E=p.J?z(p.J):{},p.u?(p.v||(p.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,E)):(p.v="GET",p.g.ea(p.B,p.v,null,E)),Pi(),Zf(p.i,p.v,p.B,p.l,p.S,p.u)}ur.prototype.ba=function(p){p=p.target;const E=this.O;E&&ei(p)==3?E.j():this.Y(p)},ur.prototype.Y=function(p){try{if(p==this.g)e:{const Ue=ei(this.g),$t=this.g.ya(),ft=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||dd(this.g)))){this.K||Ue!=4||$t==7||($t==8||ft<=0?Pi(3):Pi(2)),Cs(this);var E=this.g.ca();this.X=E;var k=od(this);if(this.o=E==200,ed(this.i,this.v,this.B,this.l,this.S,Ue,E),this.o){if(this.U&&!this.L){t:{if(this.g){var F,X=this.g;if((F=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(F)){var ne=F;break t}}ne=null}if(p=ne)Hr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_t(this,p);else{this.o=!1,this.m=3,Dt(12),Oi(this),xa(this);break e}}if(this.R){p=!0;let Ft;for(;!this.K&&this.C<k.length;)if(Ft=sd(this,k),Ft==El){Ue==4&&(this.m=4,Dt(14),p=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==id){this.m=4,Dt(15),Hr(this.i,this.l,k,"[Invalid Chunk]"),p=!1;break}else Hr(this.i,this.l,Ft,null),_t(this,Ft);if(ad(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||k.length!=0||this.h.h||(this.m=1,Dt(16),p=!1),this.o=this.o&&p,!p)Hr(this.i,this.l,k,"[Invalid Chunked Response]"),Oi(this),xa(this);else if(k.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Ia(ve),ve.P=!0,Dt(11))}}else Hr(this.i,this.l,k,null),_t(this,k);Ue==4&&Oi(this),this.o&&!this.K&&(Ue==4?Vs(this.j,this):(this.o=!1,va(this)))}else Ml(this.g),E==400&&k.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),Oi(this),xa(this)}}}catch{}finally{}};function od(p){if(!ad(p))return p.g.la();const E=dd(p.g);if(E==="")return"";let k="";const F=E.length,X=ei(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Oi(p),xa(p),"";p.h.i=new s.TextDecoder}for(let ne=0;ne<F;ne++)p.h.h=!0,k+=p.h.i.decode(E[ne],{stream:!(X&&ne==F-1)});return E.length=0,p.h.g+=k,p.C=0,p.h.g}function ad(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function sd(p,E){var k=p.C,F=E.indexOf(`
`,k);return F==-1?El:(k=Number(E.substring(k,F)),isNaN(k)?id:(F+=1,F+k>E.length?El:(E=E.slice(F,F+k),p.C=F+k,E)))}ur.prototype.cancel=function(){this.K=!0,Oi(this)};function va(p){p.T=Date.now()+p.H,Sl(p,p.H)}function Sl(p,E){if(p.D!=null)throw Error("WatchDog timer not null");p.D=xo(f(p.aa,p),E)}function Cs(p){p.D&&(s.clearTimeout(p.D),p.D=null)}ur.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(td(this.i,this.B),this.M!=2&&(Pi(),Dt(17)),Oi(this),this.m=2,xa(this)):Sl(this,this.T-p)};function xa(p){p.j.I==0||p.K||Vs(p.j,p)}function Oi(p){Cs(p);var E=p.O;E&&typeof E.dispose=="function"&&E.dispose(),p.O=null,Ts(p.V),p.g&&(E=p.g,p.g=null,E.abort(),E.dispose())}function _t(p,E){try{var k=p.j;if(k.I!=0&&(k.g==p||Pl(k.h,p))){if(!p.L&&Pl(k.h,p)&&k.I==3){try{var F=k.Ba.g.parse(E)}catch{F=null}if(Array.isArray(F)&&F.length==3){var X=F;if(X[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<p.F)$s(k),Jn(k);else break e;ri(k),Dt(18)}}else k.xa=X[1],0<k.xa-k.K&&X[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=xo(f(k.Va,k),6e3));ba(k.h)<=1&&k.ta&&(k.ta=void 0)}else Zn(k,11)}else if((p.L||k.g==p)&&$s(k),!L(E))for(X=k.Ba.g.parse(E),E=0;E<X.length;E++){let ft=X[E];const Ft=ft[0];if(!(Ft<=k.K))if(k.K=Ft,ft=ft[1],k.I==2)if(ft[0]=="c"){k.M=ft[1],k.ba=ft[2];const er=ft[3];er!=null&&(k.ka=er,k.j.info("VER="+k.ka));const Mi=ft[4];Mi!=null&&(k.za=Mi,k.j.info("SVER="+k.za));const ii=ft[5];ii!=null&&typeof ii=="number"&&ii>0&&(F=1.5*ii,k.O=F,k.j.info("backChannelRequestTimeoutMs_="+F)),F=k;const oi=p.g;if(oi){const Us=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var ne=F.h;ne.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(ks(ne,ne.h),ne.h=null))}if(F.G){const Vl=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Vl&&(F.wa=Vl,it(F.J,F.G,Vl))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-p.F,k.j.info("Handshake RTT: "+k.T+"ms")),F=k;var ve=p;if(F.na=$l(F,F.L?F.ba:null,F.W),ve.L){_a(F.h,ve);var Ue=ve,$t=F.O;$t&&(Ue.H=$t),Ue.D&&(Cs(Ue),va(Ue)),F.g=ve}else _n(F);k.i.length>0&&Di(k)}else ft[0]!="stop"&&ft[0]!="close"||Zn(k,7);else k.I==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?Zn(k,7):Ms(k):ft[0]!="noop"&&k.l&&k.l.qa(ft),k.A=0)}}Pi(4)}catch{}}var ag=class{constructor(p,E){this.g=p,this.map=E}};function Os(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Al(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ba(p){return p.h?1:p.g?p.g.size:0}function Pl(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function ks(p,E){p.g?p.g.add(E):p.h=E}function _a(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Os.prototype.cancel=function(){if(this.i=Yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Yn(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const k of p.g.values())E=E.concat(k.G);return E}return x(p.i)}var ud=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xn(p,E){if(p){p=p.split("&");for(let k=0;k<p.length;k++){const F=p[k].indexOf("=");let X,ne=null;F>=0?(X=p[k].substring(0,F),ne=p[k].substring(F+1)):X=p[k],E(X,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Kr(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;p instanceof Kr?(this.l=p.l,wa(this,p.j),this.o=p.o,this.g=p.g,Yr(this,p.u),this.h=p.h,Eo(this,Dl(p.i)),this.m=p.m):p&&(E=String(p).match(ud))?(this.l=!1,wa(this,E[1]||"",!0),this.o=Ea(E[2]||""),this.g=Ea(E[3]||"",!0),Yr(this,E[4]),this.h=Ea(E[5]||"",!0),Eo(this,E[6]||"",!0),this.m=Ea(E[7]||"")):(this.l=!1,this.i=new Qe(null,this.l))}Kr.prototype.toString=function(){const p=[];var E=this.j;E&&p.push(Ta(E,Cl,!0),":");var k=this.g;return(k||E=="file")&&(p.push("//"),(E=this.o)&&p.push(Ta(E,Cl,!0),"@"),p.push(Gr(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&p.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&p.push("/"),p.push(Ta(k,k.charAt(0)=="/"?Sa:Ol,!0))),(k=this.i.toString())&&p.push("?",k),(k=this.m)&&p.push("#",Ta(k,kl)),p.join("")},Kr.prototype.resolve=function(p){const E=lr(this);let k=!!p.j;k?wa(E,p.j):k=!!p.o,k?E.o=p.o:k=!!p.g,k?E.g=p.g:k=p.u!=null;var F=p.h;if(k)Yr(E,p.u);else if(k=!!p.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var X=E.h.lastIndexOf("/");X!=-1&&(F=E.h.slice(0,X+1)+F)}if(X=F,X==".."||X==".")F="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){F=X.lastIndexOf("/",0)==0,X=X.split("/");const ne=[];for(let ve=0;ve<X.length;){const Ue=X[ve++];Ue=="."?F&&ve==X.length&&ne.push(""):Ue==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),F&&ve==X.length&&ne.push("")):(ne.push(Ue),F=!0)}F=ne.join("/")}else F=X}return k?E.h=F:k=p.i.toString()!=="",k?Eo(E,Dl(p.i)):k=!!p.m,k&&(E.m=p.m),E};function lr(p){return new Kr(p)}function wa(p,E,k){p.j=k?Ea(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Yr(p,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);p.u=E}else p.u=null}function Eo(p,E,k){E instanceof Qe?(p.i=E,js(p.i,p.l)):(k||(E=Ta(E,sg)),p.i=new Qe(E,p.l))}function it(p,E,k){p.i.set(E,k)}function ki(p){return it(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Ea(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ta(p,E,k){return typeof p=="string"?(p=encodeURI(p).replace(E,Il),k&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Il(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Cl=/[#\/\?@]/g,Ol=/[#\?:]/g,Sa=/[#\?]/g,sg=/[#\?@]/g,kl=/#/g;function Qe(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Xr(p){p.g||(p.g=new Map,p.h=0,p.i&&Xn(p.i,function(E,k){p.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}t=Qe.prototype,t.add=function(p,E){Xr(this),this.i=null,p=Qr(this,p);let k=this.g.get(p);return k||this.g.set(p,k=[]),k.push(E),this.h+=1,this};function Nl(p,E){Xr(p),E=Qr(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function Ns(p,E){return Xr(p),E=Qr(p,E),p.g.has(E)}t.forEach=function(p,E){Xr(this),this.g.forEach(function(k,F){k.forEach(function(X){p.call(E,X,F,this)},this)},this)};function jl(p,E){Xr(p);let k=[];if(typeof E=="string")Ns(p,E)&&(k=k.concat(p.g.get(Qr(p,E))));else for(p=Array.from(p.g.values()),E=0;E<p.length;E++)k=k.concat(p[E]);return k}t.set=function(p,E){return Xr(this),this.i=null,p=Qr(this,p),Ns(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},t.get=function(p,E){return p?(p=jl(this,p),p.length>0?String(p[0]):E):E};function Rl(p,E,k){Nl(p,E),k.length>0&&(p.i=null,p.g.set(Qr(p,E),x(k)),p.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(let F=0;F<E.length;F++){var k=E[F];const X=Gr(k);k=jl(this,k);for(let ne=0;ne<k.length;ne++){let ve=X;k[ne]!==""&&(ve+="="+Gr(k[ne])),p.push(ve)}}return this.i=p.join("&")};function Dl(p){const E=new Qe;return E.i=p.i,p.g&&(E.g=new Map(p.g),E.h=p.h),E}function Qr(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function js(p,E){E&&!p.j&&(Xr(p),p.i=null,p.g.forEach(function(k,F){const X=F.toLowerCase();F!=X&&(Nl(this,F),Rl(this,X,k))},p)),p.j=E}function Jr(p,E){const k=new bo;if(s.Image){const F=new Image;F.onload=h(dn,k,"TestLoadImage: loaded",!0,E,F),F.onerror=h(dn,k,"TestLoadImage: error",!1,E,F),F.onabort=h(dn,k,"TestLoadImage: abort",!1,E,F),F.ontimeout=h(dn,k,"TestLoadImage: timeout",!1,E,F),s.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=p}else E(!1)}function Zr(p,E){const k=new bo,F=new AbortController,X=setTimeout(()=>{F.abort(),dn(k,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:F.signal}).then(ne=>{clearTimeout(X),ne.ok?dn(k,"TestPingServer: ok",!0,E):dn(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(X),dn(k,"TestPingServer: error",!1,E)})}function dn(p,E,k,F,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),F(k)}catch{}}function Aa(){this.g=new ga}function Ni(p){this.i=p.Sb||null,this.h=p.ab||!1}m(Ni,go),Ni.prototype.g=function(){return new Qn(this.i,this.h)};function Qn(p,E){pt.call(this),this.H=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Qn,pt),t=Qn.prototype,t.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=E,this.readyState=1,Ir(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(E.body=p),(this.H||s).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,To(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ld(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function ld(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?To(this):Ir(this),this.readyState==3&&ld(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,To(this))},t.Na=function(p){this.g&&(this.response=p,To(this))},t.ga=function(){this.g&&To(this)};function To(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Ir(p)}t.setRequestHeader=function(p,E){this.A.append(p,E)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,p.push(k[0]+": "+k[1]),k=E.next();return p.join(`\r
`)};function Ir(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Qn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function cd(p){let E="";return ie(p,function(k,F){E+=F,E+=":",E+=k,E+=`\r
`}),E}function Rs(p,E,k){e:{for(F in k){var F=!1;break e}F=!0}F||(k=cd(k),typeof p=="string"?k!=null&&Gr(k):it(p,E,k))}function mt(p){pt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(mt,pt);var fd=/^https?$/i,ug=["POST","PUT"];t=mt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,E,k,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():nd.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(ne){So(this,ne);return}if(p=k||"",k=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var X in F)k.set(X,F[X]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ne of F.keys())k.set(ne,F.get(ne));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(k.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=s.FormData&&p instanceof s.FormData,!(Array.prototype.indexOf.call(ug,E,void 0)>=0)||F||X||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ve]of k)this.g.setRequestHeader(ne,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ne){So(this,ne)}};function So(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.o=5,Ao(p),Ri(p)}function Ao(p){p.A||(p.A=!0,vt(p,"complete"),vt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,vt(this,"complete"),vt(this,"abort"),Ri(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ji(this):this.Xa())},t.Xa=function(){ji(this)};function ji(p){if(p.h&&typeof o<"u"){if(p.v&&ei(p)==4)setTimeout(p.Ca.bind(p),0);else if(vt(p,"readystatechange"),ei(p)==4){p.h=!1;try{const ne=p.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var k;if(!(k=E)){var F;if(F=ne===0){let ve=String(p.D).match(ud)[1]||null;!ve&&s.self&&s.self.location&&(ve=s.self.location.protocol.slice(0,-1)),F=!fd.test(ve?ve.toLowerCase():"")}k=F}if(k)vt(p,"complete"),vt(p,"success");else{p.o=6;try{var X=ei(p)>2?p.g.statusText:""}catch{X=""}p.l=X+" ["+p.ca()+"]",Ao(p)}}finally{Ri(p)}}}}function Ri(p,E){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const k=p.g;p.g=null,E||vt(p,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ei(p){return p.g?p.g.readyState:0}t.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),Qf(E)}};function dd(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Ml(p){const E={};p=(p.g&&ei(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<p.length;F++){if(L(p[F]))continue;var k=Is(p[F]);const X=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ne=E[X]||[];E[X]=ne,ne.push(k)}re(E,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ti(p,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[p]||E}function Ds(p){this.za=0,this.i=[],this.j=new bo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ti("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ti("baseRetryDelayMs",5e3,p),this.Za=ti("retryDelaySeedMs",1e4,p),this.Ta=ti("forwardChannelMaxRetries",2,p),this.va=ti("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Os(p&&p.concurrentRequestLimit),this.Ba=new Aa,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ds.prototype,t.ka=8,t.I=1,t.connect=function(p,E,k,F){Dt(0),this.W=p,this.H=E||{},k&&F!==void 0&&(this.H.OSID=k,this.H.OAID=F),this.F=this.X,this.J=$l(this,null,this.W),Di(this)};function Ms(p){if(Ls(p),p.I==3){var E=p.V++,k=lr(p.J);if(it(k,"SID",p.M),it(k,"RID",E),it(k,"TYPE","terminate"),ni(p,k),E=new ur(p,p.j,E),E.M=2,E.A=ki(lr(k)),k=!1,s.navigator&&s.navigator.sendBeacon)try{k=s.navigator.sendBeacon(E.A.toString(),"")}catch{}!k&&s.Image&&(new Image().src=E.A,k=!0),k||(E.g=pd(E.j,null),E.g.ea(E.A)),E.F=Date.now(),va(E)}Ca(p)}function Jn(p){p.g&&(Ia(p),p.g.cancel(),p.g=null)}function Ls(p){Jn(p),p.v&&(s.clearTimeout(p.v),p.v=null),$s(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&s.clearTimeout(p.m),p.m=null)}function Di(p){if(!Al(p.h)&&!p.m){p.m=!0;var E=p.Ea;O||P(),j||(O(),j=!0),A.add(E,p),p.D=0}}function hd(p,E){return ba(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=E.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=xo(f(p.Ea,p,E),Bs(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const X=new ur(this,this.j,p);let ne=this.o;if(this.U&&(ne?(ne=z(ne),ge(ne,this.U)):ne=this.U),this.u!==null||this.R||(X.J=ne,ne=null),this.S)e:{for(var E=0,k=0;k<this.i.length;k++){t:{var F=this.i[k];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(E+=F,E>4096){E=k;break e}if(E===4096||k===this.i.length-1){E=k+1;break e}}E=1e3}else E=1e3;E=Ll(this,X,E),k=lr(this.J),it(k,"RID",p),it(k,"CVER",22),this.G&&it(k,"X-HTTP-Session-Id",this.G),ni(this,k),ne&&(this.R?E="headers="+Gr(cd(ne))+"&"+E:this.u&&Rs(k,this.u,ne)),ks(this.h,X),this.Ra&&it(k,"TYPE","init"),this.S?(it(k,"$req",E),it(k,"SID","null"),X.U=!0,Pr(X,k,null)):Pr(X,k,E),this.I=2}}else this.I==3&&(p?Pa(this,p):this.i.length==0||Al(this.h)||Pa(this))};function Pa(p,E){var k;E?k=E.l:k=p.V++;const F=lr(p.J);it(F,"SID",p.M),it(F,"RID",k),it(F,"AID",p.K),ni(p,F),p.u&&p.o&&Rs(F,p.u,p.o),k=new ur(p,p.j,k,p.D+1),p.u===null&&(k.J=p.o),E&&(p.i=E.G.concat(p.i)),E=Ll(p,k,1e3),k.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),ks(p.h,k),Pr(k,F,E)}function ni(p,E){p.H&&ie(p.H,function(k,F){it(E,F,k)}),p.l&&ie({},function(k,F){it(E,F,k)})}function Ll(p,E,k){k=Math.min(p.i.length,k);const F=p.l?f(p.l.Ka,p.l,p):null;e:{var X=p.i;let Ue=-1;for(;;){const $t=["count="+k];Ue==-1?k>0?(Ue=X[0].g,$t.push("ofs="+Ue)):Ue=0:$t.push("ofs="+Ue);let ft=!0;for(let Ft=0;Ft<k;Ft++){var ne=X[Ft].g;const er=X[Ft].map;if(ne-=Ue,ne<0)Ue=Math.max(0,X[Ft].g-100),ft=!1;else try{ne="req"+ne+"_"||"";try{var ve=er instanceof Map?er:Object.entries(er);for(const[Mi,ii]of ve){let oi=ii;l(ii)&&(oi=mo(ii)),$t.push(ne+Mi+"="+encodeURIComponent(oi))}}catch(Mi){throw $t.push(ne+"type="+encodeURIComponent("_badmap")),Mi}}catch{F&&F(er)}}if(ft){ve=$t.join("&");break e}}ve=void 0}return p=p.i.splice(0,k),E.G=p,ve}function _n(p){if(!p.g&&!p.v){p.Y=1;var E=p.Da;O||P(),j||(O(),j=!0),A.add(E,p),p.A=0}}function ri(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=xo(f(p.Da,p),Bs(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,Po(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=xo(f(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Jn(this),Po(this))};function Ia(p){p.B!=null&&(s.clearTimeout(p.B),p.B=null)}function Po(p){p.g=new ur(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var E=lr(p.na);it(E,"RID","rpc"),it(E,"SID",p.M),it(E,"AID",p.K),it(E,"CI",p.F?"0":"1"),!p.F&&p.ia&&it(E,"TO",p.ia),it(E,"TYPE","xmlhttp"),ni(p,E),p.u&&p.o&&Rs(E,p.u,p.o),p.O&&(p.g.H=p.O);var k=p.g;p=p.ba,k.M=1,k.A=ki(lr(E)),k.u=null,k.R=!0,Tl(k,p)}t.Va=function(){this.C!=null&&(this.C=null,Jn(this),ri(this),Dt(19))};function $s(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function Vs(p,E){var k=null;if(p.g==E){$s(p),Ia(p),p.g=null;var F=2}else if(Pl(p.h,E))k=E.G,_a(p.h,E),F=1;else return;if(p.I!=0){if(E.o)if(F==1){k=E.u?E.u.length:0,E=Date.now()-E.F;var X=p.D;F=vo(),vt(F,new wl(F,k)),Di(p)}else _n(p);else if(X=E.m,X==3||X==0&&E.X>0||!(F==1&&hd(p,E)||F==2&&ri(p)))switch(k&&k.length>0&&(E=p.h,E.i=E.i.concat(k)),X){case 1:Zn(p,5);break;case 4:Zn(p,10);break;case 3:Zn(p,6);break;default:Zn(p,2)}}}function Bs(p,E){let k=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(k*=2),k*E}function Zn(p,E){if(p.j.info("Error code "+E),E==2){var k=f(p.bb,p),F=p.Ua;const X=!F;F=new Kr(F||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||wa(F,"https"),ki(F),X?Jr(F.toString(),k):Zr(F.toString(),k)}else Dt(2);p.I=0,p.l&&p.l.pa(E),Ca(p),Ls(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Ca(p){if(p.I=0,p.ja=[],p.l){const E=Yn(p.h);(E.length!=0||p.i.length!=0)&&(S(p.ja,E),S(p.ja,p.i),p.h.i.length=0,x(p.i),p.i.length=0),p.l.oa()}}function $l(p,E,k){var F=k instanceof Kr?lr(k):new Kr(k);if(F.g!="")E&&(F.g=E+"."+F.g),Yr(F,F.u);else{var X=s.location;F=X.protocol,E=E?E+"."+X.hostname:X.hostname,X=+X.port;const ne=new Kr(null);F&&wa(ne,F),E&&(ne.g=E),X&&Yr(ne,X),k&&(ne.h=k),F=ne}return k=p.G,E=p.wa,k&&E&&it(F,k,E),it(F,"VER",p.ka),ni(p,F),F}function pd(p,E,k){if(E&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Aa&&!p.ma?new mt(new Ni({ab:k})):new mt(p.ma),E.Fa(p.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function md(){}t=md.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Fs(){}Fs.prototype.g=function(p,E){return new hn(p,E)};function hn(p,E){pt.call(this),this.g=new Ds(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(p?p["X-WebChannel-Client-Profile"]=E.sa:p={"X-WebChannel-Client-Profile":E.sa}),this.g.U=p,(p=E&&E.Qb)&&!L(p)&&(this.g.u=p),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!L(E)&&(this.g.G=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new Io(this)}m(hn,pt),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Ms(this.g)},hn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var k={};k.__data__=p,p=k}else this.v&&(k={},k.__data__=mo(p),p=k);E.i.push(new ag(E.Ya++,p)),E.I==3&&Di(E)},hn.prototype.N=function(){this.g.l=null,delete this.j,Ms(this.g),delete this.g,hn.Z.N.call(this)};function gd(p){Ss.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const k in E){p=k;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}m(gd,Ss);function yd(){_l.call(this),this.status=1}m(yd,_l);function Io(p){this.g=p}m(Io,md),Io.prototype.ra=function(){vt(this.g,"a")},Io.prototype.qa=function(p){vt(this.g,new gd(p))},Io.prototype.pa=function(p){vt(this.g,new yd)},Io.prototype.oa=function(){vt(this.g,"b")},Fs.prototype.createWebChannel=Fs.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,vR=function(){return new Fs},yR=function(){return vo()},gR=Ar,i_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_o.NO_ERROR=0,_o.TIMEOUT=8,_o.HTTP_ERROR=6,Dh=_o,wo.COMPLETE="complete",mR=wo,Jf.EventType=yo,yo.OPEN="a",yo.CLOSE="b",yo.ERROR="c",yo.MESSAGE="d",pt.prototype.listen=pt.prototype.J,_c=Jf,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,pR=mt}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll="12.9.0";function i5(t){ll=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new $w("@firebase/firestore");function hu(){return us.logLevel}function we(t,...e){if(us.logLevel<=Ke.DEBUG){const n=e.map(Qw);us.debug(`Firestore (${ll}): ${t}`,...n)}}function oo(t,...e){if(us.logLevel<=Ke.ERROR){const n=e.map(Qw);us.error(`Firestore (${ll}): ${t}`,...n)}}function ls(t,...e){if(us.logLevel<=Ke.WARN){const n=e.map(Qw);us.warn(`Firestore (${ll}): ${t}`,...n)}}function Qw(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,xR(t,r,n)}function xR(t,e,n){let r=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw oo(r),new Error(r)}function ct(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||xR(e,i,r)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends co{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(In.UNAUTHENTICATED)))}shutdown(){}}class a5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class s5{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Za;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Za,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=o;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Za)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string",31837,{l:r}),new bR(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class u5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class l5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new u5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class NA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const r=o=>{o.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,we("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new NA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new NA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=f5(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function o_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Fy(i)===Fy(o)?Ye(i,o):Fy(i)?1:-1}return Ye(t.length,e.length)}const d5=55296,h5=57343;function Fy(t){const e=t.charCodeAt(0);return e>=d5&&e<=h5}function ju(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="__name__";class ci{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=ci.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Ye(e.length,n.length)}static compareSegments(e,n){const r=ci.isNumericId(e),i=ci.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ci.extractNumericId(e).compare(ci.extractNumericId(n)):o_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ea.fromString(e.substring(4,e.length-2))}}class St extends ci{construct(e,n,r){return new St(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new St(n)}static emptyPath(){return new St([])}}const p5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends ci{construct(e,n,r){return new vn(e,n,r)}static isValidIdentifier(e){return p5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jA}static keyField(){return new vn([jA])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ie(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Ie(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ie(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new Ie(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(St.fromString(e))}static fromName(e){return new ke(St.fromString(e).popFirst(5))}static empty(){return new ke(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new St(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t,e,n){if(!n)throw new Ie(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function m5(t,e,n,r){if(e===!0&&r===!0)throw new Ie(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RA(t){if(!ke.isDocumentKey(t))throw new Ie(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DA(t){if(ke.isDocumentKey(t))throw new Ie(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Zw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zw(t);throw new Ie(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,e){const n={typeString:t};return e&&(n.value=e),n}function $f(t,e){if(!wR(t))throw new Ie(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ie(fe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=-62135596800,LA=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*LA);return new At(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<MA)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LA}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($f(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-MA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Wt("string",At._jsonSchemaVersion),seconds:Wt("number"),nanoseconds:Wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new At(0,0))}static max(){return new Fe(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=-1;function g5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new ra(i,ke.empty(),e)}function y5(t){return new ra(t.readTime,t.key,Uc)}class ra{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ra(Fe.min(),ke.empty(),Uc)}static max(){return new ra(Fe.max(),ke.empty(),Uc)}}function v5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==x5)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,r)=>{n(e)}))}static reject(e){return new ue(((n,r)=>{r(e)}))}static waitFor(e){return new ue(((n,r)=>{let i=0,o=0,s=!1;e.forEach((l=>{++i,l.next((()=>{++o,s&&o===i&&n()}),(c=>r(c)))})),s=!0,o===i&&n()}))}static or(e){let n=ue.resolve(!1);for(const r of e)n=n.next((i=>i?ue.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new ue(((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next((h=>{s[f]=h,++l,l===o&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new ue(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function _5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=-1;function dm(t){return t==null}function Xh(t){return t===0&&1/t==-1/0}function w5(t){return typeof t=="number"&&Number.isInteger(t)&&!Xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="";function E5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$A(e)),e=T5(t.get(n),e);return $A(e)}function T5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case ER:n+="";break;default:n+=o}}return n}function $A(t){return t+ER+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??yn.RED,this.left=i??yn.EMPTY,this.right=o??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new yn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BA(this.data.getIterator())}getIteratorFrom(e){return new BA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class BA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new Br([])}unionWith(e){let n=new nn(vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ju(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new SR("Invalid base64 string: "+o):o}})(e);return new bn(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const S5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=S5.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oa(t){return typeof t=="string"?bn.fromBase64String(t):bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="server_timestamp",PR="__type__",IR="__previous_value__",CR="__local_write_time__";function t1(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[PR])==null?void 0:r.stringValue)===AR}function hm(t){const e=t.mapValue.fields[IR];return t1(e)?hm(e):e}function qc(t){const e=ia(t.mapValue.fields[CR].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n,r,i,o,s,l,c,f,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h,this.apiKey=m}}const Qh="(default)";class zc{constructor(e,n){this.projectId=e,this.database=n||Qh}static empty(){return new zc("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof zc&&e.projectId===this.projectId&&e.database===this.database}}function P5(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ie(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zc(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="__type__",I5="__max__",mh={mapValue:{}},kR="__vector__",Jh="value";function aa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?t1(t)?4:O5(t)?9007199254740991:C5(t)?10:11:Me(28295,{value:t})}function _i(t,e){if(t===e)return!0;const n=aa(t);if(n!==aa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qc(t).isEqual(qc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ia(i.timestampValue),l=ia(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return oa(i.bytesValue).isEqual(oa(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Bt(i.geoPointValue.latitude)===Bt(o.geoPointValue.latitude)&&Bt(i.geoPointValue.longitude)===Bt(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Bt(i.integerValue)===Bt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Bt(i.doubleValue),l=Bt(o.doubleValue);return s===l?Xh(s)===Xh(l):isNaN(s)&&isNaN(l)}return!1})(t,e);case 9:return ju(t.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return(function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(VA(s)!==VA(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!_i(s[c],l[c])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function Wc(t,e){return(t.values||[]).find((n=>_i(n,e)))!==void 0}function Ru(t,e){if(t===e)return 0;const n=aa(t),r=aa(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return(function(o,s){const l=Bt(o.integerValue||o.doubleValue),c=Bt(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return FA(t.timestampValue,e.timestampValue);case 4:return FA(qc(t),qc(e));case 5:return o_(t.stringValue,e.stringValue);case 6:return(function(o,s){const l=oa(o),c=oa(s);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){const l=o.split("/"),c=s.split("/");for(let f=0;f<l.length&&f<c.length;f++){const h=Ye(l[f],c[f]);if(h!==0)return h}return Ye(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){const l=Ye(Bt(o.latitude),Bt(s.latitude));return l!==0?l:Ye(Bt(o.longitude),Bt(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return UA(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var v,x,S,T;const l=o.fields||{},c=s.fields||{},f=(v=l[Jh])==null?void 0:v.arrayValue,h=(x=c[Jh])==null?void 0:x.arrayValue,m=Ye(((S=f==null?void 0:f.values)==null?void 0:S.length)||0,((T=h==null?void 0:h.values)==null?void 0:T.length)||0);return m!==0?m:UA(f,h)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===mh.mapValue&&s===mh.mapValue)return 0;if(o===mh.mapValue)return 1;if(s===mh.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const v=o_(c[m],h[m]);if(v!==0)return v;const x=Ru(l[c[m]],f[h[m]]);if(x!==0)return x}return Ye(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function FA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=ia(t),r=ia(e),i=Ye(n.seconds,r.seconds);return i!==0?i:Ye(n.nanos,r.nanos)}function UA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ru(n[i],r[i]);if(o)return o}return Ye(n.length,r.length)}function Du(t){return a_(t)}function a_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ia(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return oa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=a_(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${a_(n.fields[s])}`;return i+"}"})(t.mapValue):Me(61005,{value:t})}function Mh(t){switch(aa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hm(t);return e?16+Mh(e):16;case 5:return 2*t.stringValue.length;case 6:return oa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Mh(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return gs(r.fields,((o,s)=>{i+=o.length+Mh(s)})),i})(t.mapValue);default:throw Me(13486,{value:t})}}function s_(t){return!!t&&"integerValue"in t}function n1(t){return!!t&&"arrayValue"in t}function qA(t){return!!t&&"nullValue"in t}function zA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lh(t){return!!t&&"mapValue"in t}function C5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[OR])==null?void 0:r.stringValue)===kR}function Nc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return gs(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Nc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nc(t.arrayValue.values[n]);return e}return{...t}}function O5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===I5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.value=e}static empty(){return new xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nc(n)}setAll(e){let n=vn.emptyPath(),r={},i=[];e.forEach(((s,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=Nc(s):i.push(l.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){gs(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new xr(Nc(this.value))}}function NR(t){const e=[];return gs(t.fields,((n,r)=>{const i=new vn([n]);if(Lh(r)){const o=NR(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)})),new Br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Cn(e,0,Fe.min(),Fe.min(),Fe.min(),xr.empty(),0)}static newFoundDocument(e,n,r,i){return new Cn(e,1,n,Fe.min(),r,i,0)}static newNoDocument(e,n){return new Cn(e,2,n,Fe.min(),Fe.min(),xr.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Fe.min(),Fe.min(),xr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.position=e,this.inclusive=n}}function WA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ke.comparator(ke.fromName(s.referenceValue),n.key):r=Ru(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function HA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_i(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n="asc"){this.field=e,this.dir=n}}function k5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{}class Zt extends jR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new j5(e,n,r):n==="array-contains"?new M5(e,r):n==="in"?new L5(e,r):n==="not-in"?new $5(e,r):n==="array-contains-any"?new V5(e,r):new Zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new R5(e,r):new D5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ru(n,this.value)):n!==null&&aa(this.value)===aa(n)&&this.matchesComparison(Ru(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends jR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wi(e,n)}matches(e){return RR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RR(t){return t.op==="and"}function DR(t){return N5(t)&&RR(t)}function N5(t){for(const e of t.filters)if(e instanceof wi)return!1;return!0}function u_(t){if(t instanceof Zt)return t.field.canonicalString()+t.op.toString()+Du(t.value);if(DR(t))return t.filters.map((e=>u_(e))).join(",");{const e=t.filters.map((n=>u_(n))).join(",");return`${t.op}(${e})`}}function MR(t,e){return t instanceof Zt?(function(r,i){return i instanceof Zt&&r.op===i.op&&r.field.isEqual(i.field)&&_i(r.value,i.value)})(t,e):t instanceof wi?(function(r,i){return i instanceof wi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,s,l)=>o&&MR(s,i.filters[l])),!0):!1})(t,e):void Me(19439)}function LR(t){return t instanceof Zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Du(n.value)}`})(t):t instanceof wi?(function(n){return n.op.toString()+" {"+n.getFilters().map(LR).join(" ,")+"}"})(t):"Filter"}class j5 extends Zt{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class R5 extends Zt{constructor(e,n){super(e,"in",n),this.keys=$R("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class D5 extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=$R("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function $R(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ke.fromName(r.referenceValue)))}class M5 extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return n1(n)&&Wc(n.arrayValue,this.value)}}class L5 extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wc(this.value.arrayValue,n)}}class $5 extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wc(this.value.arrayValue,n)}}class V5 extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!n1(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Wc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.Te=null}}function GA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new B5(t,e,n,r,i,o,s)}function r1(t){const e=qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>u_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),dm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Du(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Du(r))).join(",")),e.Te=n}return e.Te}function i1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!k5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HA(t.startAt,e.startAt)&&HA(t.endAt,e.endAt)}function l_(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function F5(t,e,n,r,i,o,s,l){return new pm(t,e,n,r,i,o,s,l)}function o1(t){return new pm(t)}function KA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function U5(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function q5(t){return t.collectionGroup!==null}function jc(t){const e=qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new nn(vn.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new ep(o,r))})),n.has(vn.keyField().canonicalString())||e.Ie.push(new ep(vn.keyField(),r))}return e.Ie}function pi(t){const e=qe(t);return e.Ee||(e.Ee=z5(e,jc(t))),e.Ee}function z5(t,e){if(t.limitType==="F")return GA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new ep(i.field,o)}));const n=t.endAt?new Zh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zh(t.startAt.position,t.startAt.inclusive):null;return GA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function c_(t,e,n){return new pm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mm(t,e){return i1(pi(t),pi(e))&&t.limitType===e.limitType}function VR(t){return`${r1(pi(t))}|lt:${t.limitType}`}function pu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>LR(i))).join(", ")}]`),dm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Du(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Du(i))).join(",")),`Target(${r})`})(pi(t))}; limitType=${t.limitType})`}function gm(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ke.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of jc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,l,c){const f=WA(s,l,c);return s.inclusive?f<=0:f<0})(r.startAt,jc(r),i)||r.endAt&&!(function(s,l,c){const f=WA(s,l,c);return s.inclusive?f>=0:f>0})(r.endAt,jc(r),i))})(t,e)}function W5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BR(t){return(e,n)=>{let r=!1;for(const i of jc(t)){const o=H5(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function H5(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):(function(o,s,l){const c=s.data.field(o),f=l.data.field(o);return c!==null&&f!==null?Ru(c,f):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return TR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=new jt(ke.comparator);function ao(){return G5}const FR=new jt(ke.comparator);function wc(...t){let e=FR;for(const n of t)e=e.insert(n.key,n);return e}function UR(t){let e=FR;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ga(){return Rc()}function qR(){return Rc()}function Rc(){return new ys((t=>t.toString()),((t,e)=>t.isEqual(e)))}const K5=new jt(ke.comparator),Y5=new nn(ke.comparator);function Xe(...t){let e=Y5;for(const n of t)e=e.add(n);return e}const X5=new nn(Ye);function Q5(){return X5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function zR(t){return{integerValue:""+t}}function J5(t,e){return w5(e)?zR(e):a1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this._=void 0}}function Z5(t,e,n){return t instanceof Hc?(function(i,o){const s={fields:{[PR]:{stringValue:AR},[CR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&t1(o)&&(o=hm(o)),o&&(s.fields[IR]=o),{mapValue:s}})(n,e):t instanceof Gc?HR(t,e):t instanceof Kc?GR(t,e):(function(i,o){const s=WR(i,o),l=YA(s)+YA(i.Ae);return s_(s)&&s_(i.Ae)?zR(l):a1(i.serializer,l)})(t,e)}function eF(t,e,n){return t instanceof Gc?HR(t,e):t instanceof Kc?GR(t,e):n}function WR(t,e){return t instanceof tp?(function(r){return s_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Hc extends ym{}class Gc extends ym{constructor(e){super(),this.elements=e}}function HR(t,e){const n=KR(e);for(const r of t.elements)n.some((i=>_i(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Kc extends ym{constructor(e){super(),this.elements=e}}function GR(t,e){let n=KR(e);for(const r of t.elements)n=n.filter((i=>!_i(i,r)));return{arrayValue:{values:n}}}class tp extends ym{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function YA(t){return Bt(t.integerValue||t.doubleValue)}function KR(t){return n1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e,n){this.field=e,this.transform=n}}function nF(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Gc&&i instanceof Gc||r instanceof Kc&&i instanceof Kc?ju(r.elements,i.elements,_i):r instanceof tp&&i instanceof tp?_i(r.Ae,i.Ae):r instanceof Hc&&i instanceof Hc})(t.transform,e.transform)}class rF{constructor(e,n){this.version=e,this.transformResults=n}}class mi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $h(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vm{}function YR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new s1(t.key,mi.none()):new Vf(t.key,t.data,mi.none());{const n=t.data,r=xr.empty();let i=new nn(vn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new vs(t.key,r,new Br(i.toArray()),mi.none())}}function iF(t,e,n){t instanceof Vf?(function(i,o,s){const l=i.value.clone(),c=QA(i.fieldTransforms,o,s.transformResults);l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(t,e,n):t instanceof vs?(function(i,o,s){if(!$h(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=QA(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(XR(i)),c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function Dc(t,e,n,r){return t instanceof Vf?(function(o,s,l,c){if(!$h(o.precondition,s))return l;const f=o.value.clone(),h=JA(o.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof vs?(function(o,s,l,c){if(!$h(o.precondition,s))return l;const f=JA(o.fieldTransforms,c,s),h=s.data;return h.setAll(XR(o)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(o,s,l){return $h(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(t,e,n)}function oF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=WR(r.transform,i||null);o!=null&&(n===null&&(n=xr.empty()),n.set(r.field,o))}return n||null}function XA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ju(r,i,((o,s)=>nF(o,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vf extends vm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vs extends vm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function XR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function QA(t,e,n){const r=new Map;ct(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,eF(s,l,n[i]))}return r}function JA(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Z5(o,s,e))}return r}class s1 extends vm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aF extends vm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&iF(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qR();return this.mutations.forEach((i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const c=YR(s,l);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Fe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&ju(this.mutations,e.mutations,((n,r)=>XA(n,r)))&&ju(this.baseMutations,e.baseMutations,((n,r)=>XA(n,r)))}}class u1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return K5})();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new u1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Je;function cF(t){switch(t){case fe.OK:return Me(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function QR(t){if(t===void 0)return oo("GRPC error has no .code"),fe.UNKNOWN;switch(t){case qt.OK:return fe.OK;case qt.CANCELLED:return fe.CANCELLED;case qt.UNKNOWN:return fe.UNKNOWN;case qt.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case qt.INTERNAL:return fe.INTERNAL;case qt.UNAVAILABLE:return fe.UNAVAILABLE;case qt.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case qt.NOT_FOUND:return fe.NOT_FOUND;case qt.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case qt.ABORTED:return fe.ABORTED;case qt.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case qt.DATA_LOSS:return fe.DATA_LOSS;default:return Me(39323,{code:t})}}(Je=qt||(qt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=new ea([4294967295,4294967295],0);function ZA(t){const e=fF().encode(t),n=new hR;return n.update(e),new Uint8Array(n.digest())}function eP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ea([n,r],0),new ea([i,o],0)]}class l1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ec(`Invalid padding: ${n}`);if(r<0)throw new Ec(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ec(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ec(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ea.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ea.fromNumber(r)));return i.compare(dF)===1&&(i=new ea([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ZA(e),[r,i]=eP(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new l1(o,i,n);return r.forEach((l=>s.insert(l))),s}insert(e){if(this.ge===0)return;const n=ZA(e),[r,i]=eP(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xm(Fe.min(),i,new jt(Ye),ao(),Xe())}}class Bf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bf(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class JR{constructor(e,n){this.targetId=e,this.Ce=n}}class ZR{constructor(e,n,r=bn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tP{constructor(){this.ve=0,this.Fe=nP(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),r=Xe();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Me(38017,{changeType:o})}})),new Bf(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=nP()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class hF{constructor(e){this.Ge=e,this.ze=new Map,this.je=ao(),this.He=gh(),this.Je=gh(),this.Ze=new jt(Ye)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(l_(o))if(r===0){const s=new ke(o.path);this.et(n,s,Cn.newNoDocument(s,Fe.min()))}else ct(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const l=this.ut(e),c=l?this.ct(l,e,s):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=oa(r).toUint8Array()}catch(c){if(c instanceof SR)return ls("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new l1(s,i,o)}catch(c){return ls(c instanceof Ec?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const s=this.Ge.ht(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,s)=>{const l=this.ot(s);if(l){if(o.current&&l_(l.target)){const c=new ke(l.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Cn.newNoDocument(c,e))}o.Be&&(n.set(s,o.ke()),o.Ke())}}));let r=Xe();this.Je.forEach(((o,s)=>{let l=!0;s.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(o))})),this.je.forEach(((o,s)=>s.setReadTime(e)));const i=new xm(e,n,this.Ze,this.je,r);return this.je=ao(),this.He=gh(),this.Je=gh(),this.Ze=new jt(Ye),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new tP,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new nn(Ye),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new nn(Ye),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tP),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gh(){return new jt(ke.comparator)}function nP(){return new jt(ke.comparator)}const pF={asc:"ASCENDING",desc:"DESCENDING"},mF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gF={and:"AND",or:"OR"};class yF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function f_(t,e){return t.useProto3Json||dm(e)?e:{value:e}}function np(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vF(t,e){return np(t,e.toTimestamp())}function gi(t){return ct(!!t,49232),Fe.fromTimestamp((function(n){const r=ia(n);return new At(r.seconds,r.nanos)})(t))}function c1(t,e){return d_(t,e).canonicalString()}function d_(t,e){const n=(function(i){return new St(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function tD(t){const e=St.fromString(t);return ct(aD(e),10190,{key:e.toString()}),e}function h_(t,e){return c1(t.databaseId,e.path)}function Uy(t,e){const n=tD(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(rD(n))}function nD(t,e){return c1(t.databaseId,e)}function xF(t){const e=tD(t);return e.length===4?St.emptyPath():rD(e)}function p_(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rD(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rP(t,e,n){return{name:h_(t,e),fields:n.value.mapValue.fields}}function bF(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Me(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,h){return f.useProto3Json?(ct(h===void 0||typeof h=="string",58123),bn.fromBase64String(h||"")):(ct(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),bn.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&(function(f){const h=f.code===void 0?fe.UNKNOWN:QR(f.code);return new Ie(h,f.message||"")})(s);n=new ZR(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Uy(t,r.document.name),o=gi(r.document.updateTime),s=r.document.createTime?gi(r.document.createTime):Fe.min(),l=new xr({mapValue:{fields:r.document.fields}}),c=Cn.newFoundDocument(i,o,s,l),f=r.targetIds||[],h=r.removedTargetIds||[];n=new Vh(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Uy(t,r.document),o=r.readTime?gi(r.readTime):Fe.min(),s=Cn.newNoDocument(i,o),l=r.removedTargetIds||[];n=new Vh([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Uy(t,r.document),o=r.removedTargetIds||[];n=new Vh([],o,i,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new lF(i,o),l=r.targetId;n=new JR(l,s)}}return n}function _F(t,e){let n;if(e instanceof Vf)n={update:rP(t,e.key,e.value)};else if(e instanceof s1)n={delete:h_(t,e.key)};else if(e instanceof vs)n={update:rP(t,e.key,e.data),updateMask:OF(e.fieldMask)};else{if(!(e instanceof aF))return Me(16599,{dt:e.type});n={verify:h_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,s){const l=s.transform;if(l instanceof Hc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Gc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Kc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof tp)return{fieldPath:s.field.canonicalString(),increment:l.Ae};throw Me(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:vF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Me(27497)})(t,e.precondition)),n}function wF(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map((n=>(function(i,o){let s=i.updateTime?gi(i.updateTime):gi(o);return s.isEqual(Fe.min())&&(s=gi(o)),new rF(s,i.transformResults||[])})(n,e)))):[]}function EF(t,e){return{documents:[nD(t,e.path)]}}function TF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nD(t,i);const o=(function(f){if(f.length!==0)return oD(wi.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const s=(function(f){if(f.length!==0)return f.map((h=>(function(v){return{field:mu(v.field),direction:PF(v.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=f_(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function SF(t){let e=xF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ct(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(m){const v=iD(m);return v instanceof wi&&DR(v)?v.getFilters():[v]})(n.where));let s=[];n.orderBy&&(s=(function(m){return m.map((v=>(function(S){return new ep(gu(S.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(n.orderBy));let l=null;n.limit&&(l=(function(m){let v;return v=typeof m=="object"?m.value:m,dm(v)?null:v})(n.limit));let c=null;n.startAt&&(c=(function(m){const v=!!m.before,x=m.values||[];return new Zh(x,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(m){const v=!m.before,x=m.values||[];return new Zh(x,v)})(n.endAt)),F5(e,i,s,o,l,"F",c,f)}function AF(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iD(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gu(n.unaryFilter.field);return Zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=gu(n.unaryFilter.field);return Zt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=gu(n.unaryFilter.field);return Zt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=gu(n.unaryFilter.field);return Zt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Zt.create(gu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return wi.create(n.compositeFilter.filters.map((r=>iD(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function PF(t){return pF[t]}function IF(t){return mF[t]}function CF(t){return gF[t]}function mu(t){return{fieldPath:t.canonicalString()}}function gu(t){return vn.fromServerFormat(t.fieldPath)}function oD(t){return t instanceof Zt?(function(n){if(n.op==="=="){if(zA(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NAN"}};if(qA(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zA(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NOT_NAN"}};if(qA(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mu(n.field),op:IF(n.op),value:n.value}}})(t):t instanceof wi?(function(n){const r=n.getFilters().map((i=>oD(i)));return r.length===1?r[0]:{compositeFilter:{op:CF(n.op),filters:r}}})(t):Me(54877,{filter:t})}function OF(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function aD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function sD(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n,r,i,o=Fe.min(),s=Fe.min(),l=bn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e){this.yt=e}}function NF(t){const e=SF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?c_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(){this.Sn=new RF}addToCollectionParentIndex(e,n){return this.Sn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(ra.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(ra.min())}updateCollectionGroup(e,n,r){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class RF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nn(St.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nn(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uD=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(uD,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Mu(0)}static ar(){return new Mu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="LruGarbageCollector",DF=1048576;function aP([t,e],[n,r]){const i=Ye(t,n);return i===0?Ye(e,r):i}class MF{constructor(e){this.Pr=e,this.buffer=new nn(aP),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();aP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){we(oP,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fl(n)?we(oP,"Ignoring IndexedDB error during garbage collection: ",n):await cl(n)}await this.Ar(3e5)}))}}class $F{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(fm.ce);const r=new MF(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(iP)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iP):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,o,s,l,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,l=Date.now(),this.removeTargets(e,r,n)))).next((m=>(o=m,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(f=Date.now(),hu()<=Ke.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m}))))}}function VF(t,e){return new $F(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(){this.changes=new ys((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Dc(r.mutation,i,Br.empty(),At.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Xe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Xe()){const i=Ga();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let s=wc();return o.forEach(((l,c)=>{s=s.insert(l,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=Ga();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Xe())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((s,l)=>{n.set(s,l)}))}))}computeViews(e,n,r,i){let o=ao();const s=Rc(),l=(function(){return Rc()})();return n.forEach(((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof vs)?o=o.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),Dc(h.mutation,f,h.mutation.getFieldMask(),At.now())):s.set(f.key,Br.empty())})),this.recalculateAndSaveOverlays(e,o).next((c=>(c.forEach(((f,h)=>s.set(f,h))),n.forEach(((f,h)=>l.set(f,new FF(h,s.get(f)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=Rc();let i=new jt(((s,l)=>s-l)),o=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const l of s)l.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||Br.empty();h=l.applyToLocalView(f,h),r.set(c,h);const m=(i.get(l.batchId)||Xe()).add(c);i=i.insert(l.batchId,m)}))})).next((()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,h=c.value,m=qR();h.forEach((v=>{if(!o.has(v)){const x=YR(n.get(v),r.get(v));x!==null&&m.set(v,x),o=o.add(v)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,m))}return ue.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return U5(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):q5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ue.resolve(Ga());let l=Uc,c=o;return s.next((f=>ue.forEach(f,((h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),o.get(h)?ue.resolve():this.remoteDocumentCache.getEntry(e,h).next((v=>{c=c.insert(h,v)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,c,f,Xe()))).next((h=>({batchId:l,changes:UR(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((r=>{let i=wc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=wc();return this.indexManager.getCollectionParents(e,o).next((l=>ue.forEach(l,(c=>{const f=(function(m,v){return new pm(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((m,v)=>{s=s.insert(m,v)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((s=>{o.forEach(((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,Cn.newInvalidDocument(h)))}));let l=wc();return s.forEach(((c,f)=>{const h=o.get(c);h!==void 0&&Dc(h.mutation,f,Br.empty(),At.now()),gm(n,f)&&(l=l.insert(c,f))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ue.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:gi(i.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:NF(i.bundledQuery),readTime:gi(i.readTime)}})(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(){this.overlays=new jt(ke.comparator),this.Lr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ga();return ue.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.bt(e,n,o)})),ue.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),ue.resolve()}getOverlaysForCollection(e,n,r){const i=Ga(),o=n.length+1,s=new ke(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new jt(((f,h)=>f-h));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=o.get(f.largestBatchId);h===null&&(h=Ga(),o=o.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=Ga(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>l.set(f,h))),!(l.size()>=i)););return ue.resolve(l)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new uF(n,r));let o=this.Lr.get(n);o===void 0&&(o=Xe(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.kr=new nn(un.Kr),this.qr=new nn(un.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new un(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new un(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ke(new St([])),r=new un(n,e),i=new un(n,e+1),o=[];return this.qr.forEachInRange([r,i],(s=>{this.Wr(s),o.push(s.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ke(new St([])),r=new un(n,e),i=new un(n,e+1);let o=Xe();return this.qr.forEachInRange([r,i],(s=>{o=o.add(s.key)})),o}containsKey(e){const n=new un(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class un{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ke.comparator(e.key,n.key)||Ye(e.Hr,n.Hr)}static Ur(e,n){return Ye(e.Hr,n.Hr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new nn(un.Kr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new sF(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Jr=this.Jr.add(new un(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ue.resolve(s)}lookupMutationBatch(e,n){return ue.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return ue.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?e1:this.Yn-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new un(n,0),i=new un(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],(s=>{const l=this.Zr(s.Hr);o.push(l)})),ue.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nn(Ye);return n.forEach((i=>{const o=new un(i,0),s=new un(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,s],(l=>{r=r.add(l.Hr)}))})),ue.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ke.isDocumentKey(o)||(o=o.child(""));const s=new un(new ke(o),0);let l=new nn(Ye);return this.Jr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Hr)),!0)}),s),ue.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ct(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ue.forEach(n.mutations,(i=>{const o=new un(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new un(n,0),i=this.Jr.firstAfterOrEqual(r);return ue.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.ti=e,this.docs=(function(){return new jt(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ue.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=ao();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Cn.newInvalidDocument(i))})),ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ao();const s=n.path,l=new ke(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||v5(y5(h),r)<=0||(i.has(h.key)||gm(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return ue.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Me(9500)}ni(e,n){return ue.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new KF(this)}getSize(e){return ue.resolve(this.size)}}class KF extends BF{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),ue.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e){this.persistence=e,this.ri=new ys((n=>r1(n)),i1),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.ii=0,this.si=new f1,this.targetCount=0,this.oi=Mu._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ue.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Mu(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.lr(n),ue.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ri.forEach(((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ri.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),ue.waitFor(o).next((()=>i))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ue.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ue.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((s=>{o.push(i.markPotentiallyOrphaned(e,s))})),ue.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ue.resolve(r)}containsKey(e,n){return ue.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this._i={},this.overlays={},this.ai=new fm(0),this.ui=!1,this.ui=!0,this.ci=new WF,this.referenceDelegate=e(this),this.li=new YF(this),this.indexManager=new jF,this.remoteDocumentCache=(function(i){return new GF(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new kF(n),this.Pi=new qF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new HF(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new XF(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((o=>this.referenceDelegate.Ii(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ei(e,n){return ue.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class XF extends b5{constructor(e){super(),this.currentSequenceNumber=e}}class d1{constructor(e){this.persistence=e,this.Ri=new f1,this.Ai=null}static Vi(e){return new d1(e)}get di(){if(this.Ai)return this.Ai;throw Me(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ue.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.di,(r=>{const i=ke.fromPath(r);return this.mi(e,i).next((o=>{o||n.removeEntry(i,Fe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ue.or([()=>ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class rp{constructor(e,n){this.persistence=e,this.fi=new ys((r=>E5(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=VF(this,n)}static Vi(e,n){return new rp(e,n)}Ti(){}Ii(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ue.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((o=>o?ue.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,(s=>this.wr(e,s,n).next((l=>{l||(r++,o.removeEntry(s,Fe.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mh(e.data.value)),n}wr(e,n,r){return ue.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return ue.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=Xe(),i=Xe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new h1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return L$()?8:_5(Nn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.gs(e,n).next((s=>{o.result=s})).next((()=>{if(!o.result)return this.ps(e,n,i,r).next((s=>{o.result=s}))})).next((()=>{if(o.result)return;const s=new QF;return this.ys(e,n,s).next((l=>{if(o.result=l,this.As)return this.ws(e,n,s,l.size)}))})).next((()=>o.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(hu()<=Ke.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",pu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ue.resolve()):(hu()<=Ke.DEBUG&&we("QueryEngine","Query:",pu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(hu()<=Ke.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",pu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(n))):ue.resolve())}gs(e,n){if(KA(n))return ue.resolve(null);let r=pi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=c_(n,null,"F"),r=pi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const s=Xe(...o);return this.fs.getDocuments(e,s).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.bs(n,l);return this.Ss(n,f,s,c.readTime)?this.gs(e,c_(n,null,"F")):this.Ds(e,f,n,c)}))))})))))}ps(e,n,r,i){return KA(n)||i.isEqual(Fe.min())?ue.resolve(null):this.fs.getDocuments(e,r).next((o=>{const s=this.bs(n,o);return this.Ss(n,s,r,i)?ue.resolve(null):(hu()<=Ke.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pu(n)),this.Ds(e,s,n,g5(i,Uc)).next((l=>l)))}))}bs(e,n){let r=new nn(BR(e));return n.forEach(((i,o)=>{gm(e,o)&&(r=r.add(o))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,n,r){return hu()<=Ke.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",pu(n)),this.fs.getDocumentsMatchingQuery(e,n,ra.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((s=>{o=o.insert(s.key,s)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="LocalStore",ZF=3e8;class eU{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new jt(Ye),this.Fs=new ys((o=>r1(o)),i1),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UF(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function tU(t,e,n,r){return new eU(t,e,n,r)}async function cD(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const s=[],l=[];let c=Xe();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of o){l.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ns:f,removedBatchIds:s,addedBatchIds:l})))}))}))}function nU(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(l,c,f,h){const m=f.batch,v=m.keys();let x=ue.resolve();return v.forEach((S=>{x=x.next((()=>h.getEntry(c,S))).next((T=>{const _=f.docVersions.get(S);ct(_!==null,48541),T.version.compareTo(_)<0&&(m.applyToRemoteDocument(T,f),T.isValidDocument()&&(T.setReadTime(f.commitVersion),h.addEntry(T)))}))})),x.next((()=>l.mutationQueue.removeMutationBatch(c,m)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=Xe();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function fD(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function rU(t,e){const n=qe(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const l=[];e.targetChanges.forEach(((h,m)=>{const v=i.get(m);if(!v)return;l.push(n.li.removeMatchingKeys(o,h.removedDocuments,m).next((()=>n.li.addMatchingKeys(o,h.addedDocuments,m))));let x=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(bn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,r)),i=i.insert(m,x),(function(T,_,C){return T.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=ZF?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(v,x,h)&&l.push(n.li.updateTargetData(o,x))}));let c=ao(),f=Xe();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})),l.push(iU(o,s,e.documentUpdates).next((h=>{c=h.Bs,f=h.Ls}))),!r.isEqual(Fe.min())){const h=n.li.getLastRemoteSnapshotVersion(o).next((m=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));l.push(h)}return ue.waitFor(l).next((()=>s.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,c,f))).next((()=>c))})).then((o=>(n.vs=i,o)))}function iU(t,e,n){let r=Xe(),i=Xe();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let s=ao();return n.forEach(((l,c)=>{const f=o.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Fe.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):we(p1,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)})),{Bs:s,Ls:i}}))}function oU(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=e1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function aU(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((o=>o?(i=o,ue.resolve(i)):n.li.allocateTargetId(r).next((s=>(i=new Yo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function m_(t,e,n){const r=qe(t),i=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!fl(s))throw s;we(p1,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function sP(t,e,n){const r=qe(t);let i=Fe.min(),o=Xe();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,f,h){const m=qe(c),v=m.Fs.get(h);return v!==void 0?ue.resolve(m.vs.get(v)):m.li.getTargetData(f,h)})(r,s,pi(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,l.targetId).next((c=>{o=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:Fe.min(),n?o:Xe()))).next((l=>(sU(r,W5(e),l),{documents:l,ks:o})))))}function sU(t,e,n){let r=t.Ms.get(e)||Fe.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Ms.set(e,r)}class uP{constructor(){this.activeTargetIds=Q5()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uU{constructor(){this.vo=new uP,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new uP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="ConnectivityMonitor";class cP{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){we(lP,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){we(lP,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh=null;function g_(){return yh===null?yh=(function(){return 268435456+Math.round(2147483648*Math.random())})():yh++,"0x"+yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="RestConnection",cU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class fU{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Qh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const s=g_(),l=this.Qo(e,n.toUriEncodedString());we(qy,`Sending RPC '${e}' ${s}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,o);const{host:f}=new URL(l),h=al(f);return this.zo(e,l,c,r,h).then((m=>(we(qy,`Received RPC '${e}' ${s}: `,m),m)),(m=>{throw ls(qy,`RPC '${e}' ${s} failed with error: `,m,"url: ",l,"request:",r),m}))}jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ll})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}Qo(e,n){const r=cU[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection",fc=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Tu extends fU{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Tu.c_){const e=yR();fc(e,gR.STAT_EVENT,(n=>{n.stat===i_.PROXY?we(An,"STAT_EVENT: detected buffering proxy"):n.stat===i_.NOPROXY&&we(An,"STAT_EVENT: detected no buffering proxy")})),Tu.c_=!0}}zo(e,n,r,i,o){const s=g_();return new Promise(((l,c)=>{const f=new pR;f.setWithCredentials(!0),f.listenOnce(mR.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Dh.NO_ERROR:const m=f.getResponseJson();we(An,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),l(m);break;case Dh.TIMEOUT:we(An,`RPC '${e}' ${s} timed out`),c(new Ie(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const v=f.getStatus();if(we(An,`RPC '${e}' ${s} failed with status:`,v,"response text:",f.getResponseText()),v>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const T=(function(C){const D=C.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(D)>=0?D:fe.UNKNOWN})(S.status);c(new Ie(T,S.message))}else c(new Ie(fe.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ie(fe.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{we(An,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);we(An,`RPC '${e}' ${s} sending request:`,i),f.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=g_(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=o.join("");we(An,`Creating RPC '${e}' stream ${i}: ${f}`,l);const h=s.createWebChannel(f,l);this.I_(h);let m=!1,v=!1;const x=new dU({Ho:S=>{v?we(An,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(we(An,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),we(An,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Jo:()=>h.close()});return fc(h,_c.EventType.OPEN,(()=>{v||(we(An,`RPC '${e}' stream ${i} transport opened.`),x.i_())})),fc(h,_c.EventType.CLOSE,(()=>{v||(v=!0,we(An,`RPC '${e}' stream ${i} transport closed`),x.o_(),this.E_(h))})),fc(h,_c.EventType.ERROR,(S=>{v||(v=!0,ls(An,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),x.o_(new Ie(fe.UNAVAILABLE,"The operation could not be completed")))})),fc(h,_c.EventType.MESSAGE,(S=>{var T;if(!v){const _=S.data[0];ct(!!_,16349);const C=_,D=(C==null?void 0:C.error)||((T=C[0])==null?void 0:T.error);if(D){we(An,`RPC '${e}' stream ${i} received error:`,D);const N=D.status;let R=(function(A){const P=qt[A];if(P!==void 0)return QR(P)})(N),O=D.message;N==="NOT_FOUND"&&O.includes("database")&&O.includes("does not exist")&&O.includes(this.databaseId.database)&&ls(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),R===void 0&&(R=fe.INTERNAL,O="Unknown error status: "+N+" with message "+D.message),v=!0,x.o_(new Ie(R,O)),h.close()}else we(An,`RPC '${e}' stream ${i} received:`,_),x.__(_)}})),Tu.u_(),setTimeout((()=>{x.s_()}),0),x}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return vR()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(t){return new Tu(t)}function zy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(t){return new yF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tu.c_=!1;class dD{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="PersistentStream";class hD{constructor(e,n,r,i,o,s,l,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(oo(n.toString()),oo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ie(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(fP,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(we(fP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pU extends hD{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bF(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Fe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Fe.min():s.readTime?gi(s.readTime):Fe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=p_(this.serializer),n.addTarget=(function(o,s){let l;const c=s.target;if(l=l_(c)?{documents:EF(o,c)}:{query:TF(o,c).ft},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=eD(o,s.resumeToken);const f=f_(o,s.expectedCount);f!==null&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(Fe.min())>0){l.readTime=np(o,s.snapshotVersion.toTimestamp());const f=f_(o,s.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const r=AF(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=p_(this.serializer),n.removeTarget=e,this.K_(n)}}class mU extends hD{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wF(e.writeResults,e.commitTime),r=gi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=p_(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>_F(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{}class yU extends gU{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ie(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Wo(e,d_(n,r),i,o,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(fe.UNKNOWN,o.toString())}))}jo(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.jo(e,d_(n,r),i,s,l,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(fe.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function vU(t,e,n,r){return new yU(t,e,n,r)}class xU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(oo(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="RemoteStore";class bU{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((s=>{r.enqueueAndForget((async()=>{xs(this)&&(we(cs,"Restarting streams for network reachability change."),await(async function(c){const f=qe(c);f.Ea.add(4),await Ff(f),f.Va.set("Unknown"),f.Ea.delete(4),await _m(f)})(this))}))})),this.Va=new xU(r,i)}}async function _m(t){if(xs(t))for(const e of t.Ra)await e(!0)}async function Ff(t){for(const e of t.Ra)await e(!1)}function pD(t,e){const n=qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),v1(n)?y1(n):dl(n).O_()&&g1(n,e))}function m1(t,e){const n=qe(t),r=dl(n);n.Ia.delete(e),r.O_()&&mD(n,e),n.Ia.size===0&&(r.O_()?r.L_():xs(n)&&n.Va.set("Unknown"))}function g1(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dl(t).Z_(e)}function mD(t,e){t.da.$e(e),dl(t).X_(e)}function y1(t){t.da=new hF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),dl(t).start(),t.Va.ua()}function v1(t){return xs(t)&&!dl(t).x_()&&t.Ia.size>0}function xs(t){return qe(t).Ea.size===0}function gD(t){t.da=void 0}async function _U(t){t.Va.set("Online")}async function wU(t){t.Ia.forEach(((e,n)=>{g1(t,e)}))}async function EU(t,e){gD(t),v1(t)?(t.Va.ha(e),y1(t)):t.Va.set("Unknown")}async function TU(t,e,n){if(t.Va.set("Online"),e instanceof ZR&&e.state===2&&e.cause)try{await(async function(i,o){const s=o.cause;for(const l of o.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ia.delete(l),i.da.removeTarget(l))})(t,e)}catch(r){we(cs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ip(t,r)}else if(e instanceof Vh?t.da.Xe(e):e instanceof JR?t.da.st(e):t.da.tt(e),!n.isEqual(Fe.min()))try{const r=await fD(t.localStore);n.compareTo(r)>=0&&await(function(o,s){const l=o.da.Tt(s);return l.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.Ia.get(f);h&&o.Ia.set(f,h.withResumeToken(c.resumeToken,s))}})),l.targetMismatches.forEach(((c,f)=>{const h=o.Ia.get(c);if(!h)return;o.Ia.set(c,h.withResumeToken(bn.EMPTY_BYTE_STRING,h.snapshotVersion)),mD(o,c);const m=new Yo(h.target,c,f,h.sequenceNumber);g1(o,m)})),o.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){we(cs,"Failed to raise snapshot:",r),await ip(t,r)}}async function ip(t,e,n){if(!fl(e))throw e;t.Ea.add(1),await Ff(t),t.Va.set("Offline"),n||(n=()=>fD(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(cs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await _m(t)}))}function yD(t,e){return e().catch((n=>ip(t,n,e)))}async function wm(t){const e=qe(t),n=sa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:e1;for(;SU(e);)try{const i=await oU(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,AU(e,i)}catch(i){await ip(e,i)}vD(e)&&xD(e)}function SU(t){return xs(t)&&t.Ta.length<10}function AU(t,e){t.Ta.push(e);const n=sa(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function vD(t){return xs(t)&&!sa(t).x_()&&t.Ta.length>0}function xD(t){sa(t).start()}async function PU(t){sa(t).ra()}async function IU(t){const e=sa(t);for(const n of t.Ta)e.ea(n.mutations)}async function CU(t,e,n){const r=t.Ta.shift(),i=u1.from(r,e,n);await yD(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await wm(t)}async function OU(t,e){e&&sa(t).Y_&&await(async function(r,i){if((function(s){return cF(s)&&s!==fe.ABORTED})(i.code)){const o=r.Ta.shift();sa(r).B_(),await yD(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await wm(r)}})(t,e),vD(t)&&xD(t)}async function dP(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),we(cs,"RemoteStore received new credentials");const r=xs(n);n.Ea.add(3),await Ff(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _m(n)}async function kU(t,e){const n=qe(t);e?(n.Ea.delete(2),await _m(n)):e||(n.Ea.add(2),await Ff(n),n.Va.set("Unknown"))}function dl(t){return t.ma||(t.ma=(function(n,r,i){const o=qe(n);return o.sa(),new pU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:_U.bind(null,t),Yo:wU.bind(null,t),t_:EU.bind(null,t),J_:TU.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),v1(t)?y1(t):t.Va.set("Unknown")):(await t.ma.stop(),gD(t))}))),t.ma}function sa(t){return t.fa||(t.fa=(function(n,r,i){const o=qe(n);return o.sa(),new mU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:PU.bind(null,t),t_:OU.bind(null,t),ta:IU.bind(null,t),na:CU.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await wm(t)):(await t.fa.stop(),t.Ta.length>0&&(we(cs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new x1(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b1(t,e){if(oo("AsyncQueue",`${e}: ${t}`),fl(t))return new Ie(fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{static emptySet(e){return new Su(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=wc(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Su)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Su;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.ga=new jt(ke.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Lu{constructor(e,n,r,i,o,s,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach((l=>{s.push({type:0,doc:l})})),new Lu(e,n,Su.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class jU{constructor(){this.queries=pP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=qe(n),o=i.queries;i.queries=pP(),o.forEach(((s,l)=>{for(const c of l.ba)c.onError(r)}))})(this,new Ie(fe.ABORTED,"Firestore shutting down"))}}function pP(){return new ys((t=>VR(t)),mm)}async function RU(t,e){const n=qe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new NU,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=b1(s,`Initialization of query '${pu(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&_1(n)}async function DU(t,e){const n=qe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ba.indexOf(e);s>=0&&(o.ba.splice(s,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function MU(t,e){const n=qe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.ba)l.Fa(i)&&(r=!0);s.wa=i}}r&&_1(n)}function LU(t,e,n){const r=qe(t),i=r.queries.get(e);if(i)for(const o of i.ba)o.onError(n);r.queries.delete(e)}function _1(t){t.Ca.forEach((e=>{e.next()}))}var y_,mP;(mP=y_||(y_={})).Ma="default",mP.Cache="cache";class $U{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Lu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Lu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==y_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.key=e}}class _D{constructor(e){this.key=e}}class VU{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xe(),this.mutatedKeys=Xe(),this.eu=BR(e),this.tu=new Su(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new hP,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,m)=>{const v=i.get(h),x=gm(this.query,m)?m:null,S=!!v&&this.mutatedKeys.has(v.key),T=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let _=!1;v&&x?v.data.isEqual(x.data)?S!==T&&(r.track({type:3,doc:x}),_=!0):this.su(v,x)||(r.track({type:2,doc:x}),_=!0,(c&&this.eu(x,c)>0||f&&this.eu(x,f)<0)&&(l=!0)):!v&&x?(r.track({type:0,doc:x}),_=!0):v&&!x&&(r.track({type:1,doc:v}),_=!0,(c||f)&&(l=!0)),_&&(x?(s=s.add(x),o=T?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Ss:l,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((h,m)=>(function(x,S){const T=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:_})}};return T(x)-T(S)})(h.type,m.type)||this.eu(h.doc,m.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,f=c!==this.Xa;return this.Xa=c,s.length!==0||f?{snapshot:new Lu(this.query,e.tu,o,s,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hP,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new _D(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new bD(r))})),n}cu(e){this.Za=e.ks,this.Ya=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Lu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const w1="SyncEngine";class BU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class FU{constructor(e){this.key=e,this.hu=!1}}class UU{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ys((l=>VR(l)),mm),this.Iu=new Map,this.Eu=new Set,this.Ru=new jt(ke.comparator),this.Au=new Map,this.Vu=new f1,this.du={},this.mu=new Map,this.fu=Mu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qU(t,e,n=!0){const r=PD(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await wD(r,e,n,!0),i}async function zU(t,e){const n=PD(t);await wD(n,e,!0,!1)}async function wD(t,e,n,r){const i=await aU(t.localStore,pi(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await WU(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&pD(t.remoteStore,i),l}async function WU(t,e,n,r,i){t.pu=(m,v,x)=>(async function(T,_,C,D){let N=_.view.ru(C);N.Ss&&(N=await sP(T.localStore,_.query,!1).then((({documents:A})=>_.view.ru(A,N))));const R=D&&D.targetChanges.get(_.targetId),O=D&&D.targetMismatches.get(_.targetId)!=null,j=_.view.applyChanges(N,T.isPrimaryClient,R,O);return yP(T,_.targetId,j.au),j.snapshot})(t,m,v,x);const o=await sP(t.localStore,e,!0),s=new VU(e,o.ks),l=s.ru(o.documents),c=Bf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=s.applyChanges(l,t.isPrimaryClient,c);yP(t,n,f.au);const h=new BU(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function HU(t,e,n){const r=qe(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((s=>!mm(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await m_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&m1(r.remoteStore,i.targetId),v_(r,i.targetId)})).catch(cl)):(v_(r,i.targetId),await m_(r.localStore,i.targetId,!0))}async function GU(t,e){const n=qe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),m1(n.remoteStore,r.targetId))}async function KU(t,e,n){const r=t9(t);try{const i=await(function(s,l){const c=qe(s),f=At.now(),h=l.reduce(((x,S)=>x.add(S.key)),Xe());let m,v;return c.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let S=ao(),T=Xe();return c.xs.getEntries(x,h).next((_=>{S=_,S.forEach(((C,D)=>{D.isValidDocument()||(T=T.add(C))}))})).next((()=>c.localDocuments.getOverlayedDocuments(x,S))).next((_=>{m=_;const C=[];for(const D of l){const N=oF(D,m.get(D.key).overlayedDocument);N!=null&&C.push(new vs(D.key,N,NR(N.value.mapValue),mi.exists(!0)))}return c.mutationQueue.addMutationBatch(x,f,C,l)})).next((_=>{v=_;const C=_.applyToLocalDocumentSet(m,T);return c.documentOverlayCache.saveOverlays(x,_.batchId,C)}))})).then((()=>({batchId:v.batchId,changes:UR(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,l,c){let f=s.du[s.currentUser.toKey()];f||(f=new jt(Ye)),f=f.insert(l,c),s.du[s.currentUser.toKey()]=f})(r,i.batchId,n),await Uf(r,i.changes),await wm(r.remoteStore)}catch(i){const o=b1(i,"Failed to persist write");n.reject(o)}}async function ED(t,e){const n=qe(t);try{const r=await rU(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const s=n.Au.get(o);s&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?ct(s.hu,14607):i.removedDocuments.size>0&&(ct(s.hu,42227),s.hu=!1))})),await Uf(n,r,e)}catch(r){await cl(r)}}function gP(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,s)=>{const l=s.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(s,l){const c=qe(s);c.onlineState=l;let f=!1;c.queries.forEach(((h,m)=>{for(const v of m.ba)v.va(l)&&(f=!0)})),f&&_1(c)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YU(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new jt(ke.comparator);s=s.insert(o,Cn.newNoDocument(o,Fe.min()));const l=Xe().add(o),c=new xm(Fe.min(),new Map,new jt(Ye),s,l);await ED(r,c),r.Ru=r.Ru.remove(o),r.Au.delete(e),E1(r)}else await m_(r.localStore,e,!1).then((()=>v_(r,e,n))).catch(cl)}async function XU(t,e){const n=qe(t),r=e.batch.batchId;try{const i=await nU(n.localStore,e);SD(n,r,null),TD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uf(n,i)}catch(i){await cl(i)}}async function QU(t,e,n){const r=qe(t);try{const i=await(function(s,l){const c=qe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,l).next((m=>(ct(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(f,m)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);SD(r,e,n),TD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uf(r,i)}catch(i){await cl(i)}}function TD(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function SD(t,e,n){const r=qe(t);let i=r.du[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function v_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||AD(t,r)}))}function AD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(m1(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),E1(t))}function yP(t,e,n){for(const r of n)r instanceof bD?(t.Vu.addReference(r.key,e),JU(t,r)):r instanceof _D?(we(w1,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||AD(t,r.key)):Me(19791,{wu:r})}function JU(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(we(w1,"New document in limbo: "+n),t.Eu.add(r),E1(t))}function E1(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ke(St.fromString(e)),r=t.fu.next();t.Au.set(r,new FU(n)),t.Ru=t.Ru.insert(n,r),pD(t.remoteStore,new Yo(pi(o1(n.path)),r,"TargetPurposeLimboResolution",fm.ce))}}async function Uf(t,e,n){const r=qe(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{s.push(r.pu(c,e,n).then((f=>{var h;if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(f){i.push(f);const m=h1.Es(c.targetId,f);o.push(m)}})))})),await Promise.all(s),r.Pu.J_(i),await(async function(c,f){const h=qe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>ue.forEach(f,(v=>ue.forEach(v.Ts,(x=>h.persistence.referenceDelegate.addReference(m,v.targetId,x))).next((()=>ue.forEach(v.Is,(x=>h.persistence.referenceDelegate.removeReference(m,v.targetId,x)))))))))}catch(m){if(!fl(m))throw m;we(p1,"Failed to update sequence numbers: "+m)}for(const m of f){const v=m.targetId;if(!m.fromCache){const x=h.vs.get(v),S=x.snapshotVersion,T=x.withLastLimboFreeSnapshotVersion(S);h.vs=h.vs.insert(v,T)}}})(r.localStore,o))}async function ZU(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){we(w1,"User change. New user:",e.toKey());const r=await cD(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach((l=>{l.forEach((c=>{c.reject(new Ie(fe.CANCELLED,s))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uf(n,r.Ns)}}function e9(t,e){const n=qe(t),r=n.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let i=Xe();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const l=n.Tu.get(s);i=i.unionWith(l.view.nu)}return i}}function PD(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ED.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YU.bind(null,e),e.Pu.J_=MU.bind(null,e.eventManager),e.Pu.yu=LU.bind(null,e.eventManager),e}function t9(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QU.bind(null,e),e}class op{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tU(this.persistence,new JF,e.initialUser,this.serializer)}Cu(e){return new lD(d1.Vi,this.serializer)}Du(e){return new uU}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}op.provider={build:()=>new op};class n9 extends op{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof rp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new LF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new lD((r=>rp.Vi(r,n)),this.serializer)}}class x_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZU.bind(null,this.syncEngine),await kU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jU})()}createDatastore(e){const n=bm(e.databaseInfo.databaseId),r=hU(e.databaseInfo);return vU(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,s,l){return new bU(r,i,o,s,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>gP(this.syncEngine,n,0)),(function(){return cP.v()?new cP:new lU})())}createSyncEngine(e,n){return(function(i,o,s,l,c,f,h){const m=new UU(i,o,s,l,c,f);return h&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=qe(i);we(cs,"RemoteStore shutting down."),o.Ea.add(5),await Ff(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}x_.provider={build:()=>new x_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):oo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="FirestoreClient";class i9{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=In.UNAUTHENTICATED,this.clientId=Jw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async s=>{we(ua,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(we(ua,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=b1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Wy(t,e){t.asyncQueue.verifyOperationInProgress(),we(ua,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await cD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function vP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await o9(t);we(ua,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>dP(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>dP(e.remoteStore,i))),t._onlineComponents=e}async function o9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(ua,"Using user provided OfflineComponentProvider");try{await Wy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ls("Error using user provided cache. Falling back to memory cache: "+n),await Wy(t,new op)}}else we(ua,"Using default OfflineComponentProvider"),await Wy(t,new n9(void 0));return t._offlineComponents}async function ID(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(ua,"Using user provided OnlineComponentProvider"),await vP(t,t._uninitializedComponentsProvider._online)):(we(ua,"Using default OnlineComponentProvider"),await vP(t,new x_))),t._onlineComponents}function a9(t){return ID(t).then((e=>e.syncEngine))}async function xP(t){const e=await ID(t),n=e.eventManager;return n.onListen=qU.bind(null,e.syncEngine),n.onUnlisten=HU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GU.bind(null,e.syncEngine),n}function s9(t,e,n,r){const i=new r9(r),o=new $U(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>RU(await xP(t),o))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>DU(await xP(t),o)))}}function u9(t,e){const n=new Za;return t.asyncQueue.enqueueAndForget((async()=>KU(await a9(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9="ComponentProvider",bP=new Map;function c9(t,e,n,r,i){return new A5(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,CD(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="firestore.googleapis.com",_P=!0;class wP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OD,this.ssl=_P}else this.host=e.host,this.ssl=e.ssl??_P;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DF)throw new Ie(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CD(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ie(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ie(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ie(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Em{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new o5;switch(r.type){case"firstParty":return new l5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=bP.get(n);r&&(we(l9,"Removing Datastore"),bP.delete(n),r.terminate())})(this),Promise.resolve()}}function f9(t,e,n,r={}){var f;t=es(t,Em);const i=al(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(Cj(`https://${l}`),Oj("Firestore",!0)),o.host!==OD&&o.host!==l&&ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:l,ssl:i,emulatorOptions:r};if(!os(c,s)&&(t._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=In.MOCK_USER;else{h=I$(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ie(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new In(v)}t._authCredentials=new a5(new bR(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tm(this.firestore,e,this._query)}}class en{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if($f(n,en._jsonSchema))return new en(e,r||null,new ke(St.fromString(n.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:Wt("string",en._jsonSchemaVersion),referencePath:Wt("string")};class ta extends Tm{constructor(e,n,r){super(e,n,o1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new ke(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function d9(t,e,...n){if(t=Hn(t),_R("collection","path",e),t instanceof Em){const r=St.fromString(e,...n);return DA(r),new ta(t,null,r)}{if(!(t instanceof en||t instanceof ta))throw new Ie(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return DA(r),new ta(t.firestore,null,r)}}function Bh(t,e,...n){if(t=Hn(t),arguments.length===1&&(e=Jw.newId()),_R("doc","path",e),t instanceof Em){const r=St.fromString(e,...n);return RA(r),new en(t,null,new ke(r))}{if(!(t instanceof en||t instanceof ta))throw new Ie(fe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return RA(r),new en(t.firestore,t instanceof ta?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="AsyncQueue";class TP{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dD(this,"async_queue_retry"),this._c=()=>{const r=zy();r&&we(EP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Za;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!fl(e))throw e;we(EP,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,oo("INTERNAL UNHANDLED ERROR: ",SP(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=x1.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Me(47125,{Pc:SP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function SP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Yc extends Em{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new TP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TP(e),this._firestoreClient=void 0,await e}}}function h9(t,e){const n=typeof t=="object"?t:Rj(),r=typeof t=="string"?t:Qh,i=Bw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=A$("firestore");o&&f9(i,...o)}return i}function kD(t){if(t._terminated)throw new Ie(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||p9(t),t._firestoreClient}function p9(t){var r,i,o,s;const e=t._freezeSettings(),n=c9(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new i9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this._byteString=e}static fromBase64String(e){try{return new br(bn.fromBase64String(e))}catch(n){throw new Ie(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new br(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:br._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($f(e,br._jsonSchema))return br.fromBase64String(e.bytes)}}br._jsonSchemaVersion="firestore/bytes/1.0",br._jsonSchema={type:Wt("string",br._jsonSchemaVersion),bytes:Wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yi._jsonSchemaVersion}}static fromJSON(e){if($f(e,yi._jsonSchema))return new yi(e.latitude,e.longitude)}}yi._jsonSchemaVersion="firestore/geoPoint/1.0",yi._jsonSchema={type:Wt("string",yi._jsonSchemaVersion),latitude:Wt("number"),longitude:Wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($f(e,qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qr(e.vectorValues);throw new Ie(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qr._jsonSchemaVersion="firestore/vectorValue/1.0",qr._jsonSchema={type:Wt("string",qr._jsonSchemaVersion),vectorValues:Wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=/^__.*__$/;class g9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vf(e,this.data,n,this.fieldTransforms)}}function jD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{dataSource:t})}}class S1{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new S1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ap(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(jD(this.dataSource)&&m9.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class y9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bm(e)}createContext(e,n,r,i=!1){return new S1({dataSource:e,methodName:n,targetDoc:r,path:vn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function v9(t){const e=t._freezeSettings(),n=bm(t._databaseId);return new y9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function x9(t,e,n,r,i,o={}){const s=t.createContext(o.merge||o.mergeFields?2:0,e,n,i);LD("Data must be an object, but it was:",s,r);const l=DD(r,s);let c,f;if(o.merge)c=new Br(s.fieldMask),f=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const m of o.mergeFields){const v=P1(e,m,n);if(!s.contains(v))throw new Ie(fe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);w9(h,v)||h.push(v)}c=new Br(h),f=s.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,f=s.fieldTransforms;return new g9(new xr(l),c,f)}class A1 extends T1{_toFieldTransform(e){return new tF(e.path,new Hc)}isEqual(e){return e instanceof A1}}function RD(t,e){if(MD(t=Hn(t)))return LD("Unsupported field value:",e,t),DD(t,e);if(t instanceof T1)return(function(r,i){if(!jD(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const o=[];let s=0;for(const l of r){let c=RD(l,i.childContextForArray(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return J5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=At.fromDate(r);return{timestampValue:np(i.serializer,o)}}if(r instanceof At){const o=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:np(i.serializer,o)}}if(r instanceof yi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof br)return{bytesValue:eD(i.serializer,r._byteString)};if(r instanceof en){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:c1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qr)return(function(s,l){const c=s instanceof qr?s.toArray():s;return{mapValue:{fields:{[OR]:{stringValue:kR},[Jh]:{arrayValue:{values:c.map((h=>{if(typeof h!="number")throw l.createError("VectorValues must only contain numeric values.");return a1(l.serializer,h)}))}}}}}})(r,i);if(sD(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Zw(r)}`)})(t,e)}function DD(t,e){const n={};return TR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(t,((r,i)=>{const o=RD(i,e.childContextForField(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function MD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof yi||t instanceof br||t instanceof en||t instanceof T1||t instanceof qr||sD(t))}function LD(t,e,n){if(!MD(n)||!wR(n)){const r=Zw(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function P1(t,e,n){if((e=Hn(e))instanceof ND)return e._internalPath;if(typeof e=="string")return _9(t,e);throw ap("Field path arguments must be of type string or ",t,!1,void 0,n)}const b9=new RegExp("[~\\*/\\[\\]]");function _9(t,e,n){if(e.search(b9)>=0)throw ap(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ND(...e.split("."))._internalPath}catch{throw ap(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ap(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Ie(fe.INVALID_ARGUMENT,l+t+c)}function w9(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{convertValue(e,n="none"){switch(aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gs(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Jh].arrayValue)==null?void 0:i.values)==null?void 0:o.map((s=>Bt(s.doubleValue)));return new qr(n)}convertGeoPoint(e){return new yi(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const n=ia(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=St.fromString(e);ct(aD(r),9688,{name:e});const i=new zc(r.get(1),r.get(3)),o=new ke(r.popFirst(5));return i.isEqual(n)||oo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D extends E9{constructor(e){super(),this.firestore=e}convertBytes(e){return new br(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function b_(){return new A1("serverTimestamp")}const AP="@firebase/firestore",PP="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new T9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(P1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class T9 extends VD{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function A9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ts extends VD{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(P1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ts._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",ts._jsonSchema={type:Wt("string",ts._jsonSchemaVersion),bundleSource:Wt("string","DocumentSnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class Fh extends ts{data(e={}){return super.data(e)}}class Au{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Tc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Fh(this._firestore,this._userDataWriter,r.key,r,new Tc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((l=>{const c=new Fh(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Tc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>o||l.type!==3)).map((l=>{const c=new Fh(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Tc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),h=s.indexOf(l.doc.key)),{type:P9(l.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Au._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function P9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Au._jsonSchemaVersion="firestore/querySnapshot/1.0",Au._jsonSchema={type:Wt("string",Au._jsonSchemaVersion),bundleSource:Wt("string","QuerySnapshot"),bundleName:Wt("string"),bundle:Wt("string")};function __(t,e,n){t=es(t,en);const r=es(t.firestore,Yc),i=A9(t.converter,e),o=v9(r);return BD(r,[x9(o,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,mi.none())])}function I9(t){return BD(es(t.firestore,Yc),[new s1(t._key,mi.none())])}function C9(t,...e){var f,h,m;t=Hn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||IP(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(IP(e[r])){const v=e[r];e[r]=(f=v.next)==null?void 0:f.bind(v),e[r+1]=(h=v.error)==null?void 0:h.bind(v),e[r+2]=(m=v.complete)==null?void 0:m.bind(v)}let o,s,l;if(t instanceof en)s=es(t.firestore,Yc),l=o1(t._key.path),o={next:v=>{e[r]&&e[r](O9(s,t,v))},error:e[r+1],complete:e[r+2]};else{const v=es(t,Tm);s=es(v.firestore,Yc),l=v._query;const x=new $D(s);o={next:S=>{e[r]&&e[r](new Au(s,x,v,S))},error:e[r+1],complete:e[r+2]},S9(t._query)}const c=kD(s);return s9(c,l,i,o)}function BD(t,e){const n=kD(t);return u9(n,e)}function O9(t,e,n){const r=n.docs.get(e._key),i=new $D(t);return new ts(t,i,e._key,r,new Tc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){i5(sl),ku(new as("firestore",((r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new Yc(new s5(r.getProvider("auth-internal")),new c5(s,r.getProvider("app-check-internal")),P5(s,i),s);return o={useFetchStreams:n,...o},l._setSettings(o),l}),"PUBLIC").setMultipleInstances(!0)),Zo(AP,PP,e),Zo(AP,PP,"esm2020")})();const k9={apiKey:"AIzaSyCLnLTVNRck2Ezz1z3VTTNobarWy7l_TMs",authDomain:"wanderplanner-dbee7.firebaseapp.com",projectId:"wanderplanner-dbee7",storageBucket:"wanderplanner-dbee7.firebasestorage.app",messagingSenderId:"151242477554",appId:"1:151242477554:web:f8a46861d6c46390dee56b"},FD=jj(k9),Hy=e5(FD),Sc=h9(FD),N9=new Gi;function UD(){const[t,e]=q.useState(null),[n,r]=q.useState(!0);return q.useEffect(()=>UB(Hy,l=>{e(l||!1),r(!1)}),[]),{user:t,authLoading:n,signInWithGoogle:async()=>{await l6(Hy,N9)},signOutUser:async()=>{await qB(Hy)}}}const sp=[{code:"PHP",symbol:"",name:"Philippine Peso"},{code:"USD",symbol:"$",name:"US Dollar"},{code:"SGD",symbol:"S$",name:"Singapore Dollar"},{code:"THB",symbol:"",name:"Thai Baht"},{code:"MYR",symbol:"RM",name:"Malaysian Ringgit"},{code:"EUR",symbol:"",name:"Euro"},{code:"GBP",symbol:"",name:"British Pound"},{code:"JPY",symbol:"",name:"Japanese Yen"},{code:"KRW",symbol:"",name:"Korean Won"},{code:"IDR",symbol:"Rp",name:"Indonesian Rupiah"}];function j9(t){const e=sp.find(n=>n.code===t);return e?e.symbol:t}function Wi(){return Date.now().toString(36)+Math.random().toString(36).slice(2,8)}function up(t,e="medium"){if(!t)return"";const n=new Date(t+"T00:00:00");if(isNaN(n.getTime()))return t;switch(e){case"short":return n.toLocaleDateString("en-US",{month:"short",day:"numeric"});case"medium":return n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});case"long":return n.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});case"full":return n.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});case"weekday":return n.toLocaleDateString("en-US",{weekday:"short"});default:return n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}}function I1(t,e){if(!t||!e)return"";const n=new Date(t+"T00:00:00"),r=new Date(e+"T00:00:00"),i=n.toLocaleDateString("en-US",{month:"short"}),o=r.toLocaleDateString("en-US",{month:"short"});return i===o?`${i} ${n.getDate()}${r.getDate()}, ${r.getFullYear()}`:`${i} ${n.getDate()}  ${o} ${r.getDate()}, ${r.getFullYear()}`}function sr(t,e="PHP"){return t==null||isNaN(t)?"":`${j9(e)}${Number(t).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`}function R9(t,e){if(!t||!e)return 0;const n=new Date(t+"T00:00:00"),r=new Date(e+"T00:00:00");return Math.round((r-n)/(1e3*60*60*24))+1}function D9(t){return JSON.parse(JSON.stringify(t))}function M9(t,e,n){return t===1?e:n||e+"s"}const pe={SET_ACTIVE_TRIP:"SET_ACTIVE_TRIP",ADD_TRIP:"ADD_TRIP",UPDATE_TRIP:"UPDATE_TRIP",DELETE_TRIP:"DELETE_TRIP",DUPLICATE_TRIP:"DUPLICATE_TRIP",RENAME_TRIP:"RENAME_TRIP",SET_TAB:"SET_TAB",TOGGLE_SIDEBAR:"TOGGLE_SIDEBAR",SET_SIDEBAR:"SET_SIDEBAR",SHOW_TOAST:"SHOW_TOAST",HIDE_TOAST:"HIDE_TOAST",TOGGLE_DARK_MODE:"TOGGLE_DARK_MODE",ADD_DAY:"ADD_DAY",REMOVE_DAY:"REMOVE_DAY",UPDATE_DAY:"UPDATE_DAY",REORDER_DAYS:"REORDER_DAYS",ADD_ACTIVITY:"ADD_ACTIVITY",UPDATE_ACTIVITY:"UPDATE_ACTIVITY",DELETE_ACTIVITY:"DELETE_ACTIVITY",REORDER_ACTIVITIES:"REORDER_ACTIVITIES",ADD_BOOKING:"ADD_BOOKING",UPDATE_BOOKING:"UPDATE_BOOKING",DELETE_BOOKING:"DELETE_BOOKING",CYCLE_BOOKING_STATUS:"CYCLE_BOOKING_STATUS",SET_BOOKING_STATUS:"SET_BOOKING_STATUS",UPDATE_BUDGET_CATEGORY:"UPDATE_BUDGET_CATEGORY",ADD_BUDGET_CATEGORY:"ADD_BUDGET_CATEGORY",DELETE_BUDGET_CATEGORY:"DELETE_BUDGET_CATEGORY",ADD_SPENDING:"ADD_SPENDING",DELETE_SPENDING:"DELETE_SPENDING",ADD_TODO:"ADD_TODO",TOGGLE_TODO:"TOGGLE_TODO",UPDATE_TODO:"UPDATE_TODO",DELETE_TODO:"DELETE_TODO",ADD_PACKING_ITEM:"ADD_PACKING_ITEM",TOGGLE_PACKING_ITEM:"TOGGLE_PACKING_ITEM",DELETE_PACKING_ITEM:"DELETE_PACKING_ITEM",RESET_PACKING:"RESET_PACKING",UPDATE_CITY:"UPDATE_CITY",ADD_CITY:"ADD_CITY",DELETE_CITY:"DELETE_CITY",UPDATE_NOTES:"UPDATE_NOTES",SET_TRIPS_FROM_FIRESTORE:"SET_TRIPS_FROM_FIRESTORE"},Gy=["not_started","in_progress","booked"];function tt(t,e,n){const r={...t.trips},i=r[e];return i?(r[e]=typeof n=="function"?n(i):{...i,...n},{...t,trips:r}):t}function L9(t,e){const{type:n,payload:r}=e,i=t.activeTripId;switch(n){case pe.SET_ACTIVE_TRIP:return{...t,activeTripId:r,activeTab:"overview"};case pe.ADD_TRIP:{const o={...t.trips,[r.id]:r};return{...t,trips:o,activeTripId:r.id,activeTab:"overview"}}case pe.UPDATE_TRIP:return tt(t,r.id,r.updates);case pe.DELETE_TRIP:{const o={...t.trips};delete o[r];const s=Object.keys(o);return{...t,trips:o,activeTripId:s.length>0?s[0]:null,activeTab:"overview"}}case pe.DUPLICATE_TRIP:{const o=t.trips[r];if(!o)return t;const s=Wi(),l=D9(o);return l.id=s,l.name=o.name+" (Copy)",l.createdAt=new Date().toISOString(),{...t,trips:{...t.trips,[s]:l},activeTripId:s}}case pe.RENAME_TRIP:return tt(t,r.id,{name:r.name});case pe.SET_TAB:return{...t,activeTab:r};case pe.TOGGLE_SIDEBAR:return{...t,sidebarOpen:!t.sidebarOpen};case pe.SET_SIDEBAR:return{...t,sidebarOpen:r};case pe.SHOW_TOAST:return{...t,toast:{message:r.message,type:r.type||"success",visible:!0}};case pe.HIDE_TOAST:return{...t,toast:{...t.toast,visible:!1}};case pe.TOGGLE_DARK_MODE:return{...t,darkMode:!t.darkMode};case pe.ADD_DAY:return tt(t,i,o=>({...o,itinerary:[...o.itinerary,{id:Wi(),date:r.date||"",dayNumber:o.itinerary.length+1,location:r.location||"",emoji:r.emoji||"",activities:[],notes:""}]}));case pe.REMOVE_DAY:return tt(t,i,o=>({...o,itinerary:o.itinerary.filter(s=>s.id!==r).map((s,l)=>({...s,dayNumber:l+1}))}));case pe.UPDATE_DAY:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>s.id===r.dayId?{...s,...r.updates}:s)}));case pe.REORDER_DAYS:return tt(t,i,o=>{const s=[...o.itinerary],[l]=s.splice(r.fromIndex,1);return s.splice(r.toIndex,0,l),{...o,itinerary:s.map((c,f)=>({...c,dayNumber:f+1}))}});case pe.ADD_ACTIVITY:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>s.id===r.dayId?{...s,activities:[...s.activities,{id:Wi(),time:"",name:"",emoji:"",notes:"",...r.activity}]}:s)}));case pe.UPDATE_ACTIVITY:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>s.id===r.dayId?{...s,activities:s.activities.map(l=>l.id===r.activityId?{...l,...r.updates}:l)}:s)}));case pe.DELETE_ACTIVITY:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>s.id===r.dayId?{...s,activities:s.activities.filter(l=>l.id!==r.activityId)}:s)}));case pe.REORDER_ACTIVITIES:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>{if(s.id!==r.dayId)return s;const l=[...s.activities],[c]=l.splice(r.fromIndex,1);return l.splice(r.toIndex,0,c),{...s,activities:l}})}));case pe.ADD_BOOKING:return tt(t,i,o=>({...o,bookings:[{id:Wi(),status:"not_started",priority:!1,amountPaid:0,confirmationNumber:"",currency:o.currency,...r},...o.bookings]}));case pe.UPDATE_BOOKING:return tt(t,i,o=>({...o,bookings:o.bookings.map(s=>s.id===r.id?{...s,...r.updates}:s)}));case pe.DELETE_BOOKING:return tt(t,i,o=>({...o,bookings:o.bookings.filter(s=>s.id!==r)}));case pe.CYCLE_BOOKING_STATUS:return tt(t,i,o=>({...o,bookings:o.bookings.map(s=>{if(s.id!==r)return s;const l=Gy.indexOf(s.status),c=Gy[(l+1)%Gy.length];return{...s,status:c}})}));case pe.SET_BOOKING_STATUS:return tt(t,i,o=>({...o,bookings:o.bookings.map(s=>s.id===r.id?{...s,status:r.status}:s)}));case pe.UPDATE_BUDGET_CATEGORY:return tt(t,i,o=>({...o,budget:o.budget.map(s=>s.id===r.id?{...s,...r.updates}:s)}));case pe.ADD_BUDGET_CATEGORY:return tt(t,i,o=>({...o,budget:[...o.budget,{id:Wi(),name:r.name||"New Category",emoji:r.emoji||"",min:0,max:0,actual:0}]}));case pe.DELETE_BUDGET_CATEGORY:return tt(t,i,o=>({...o,budget:o.budget.filter(s=>s.id!==r)}));case pe.ADD_SPENDING:return tt(t,i,o=>{const s={id:Wi(),date:new Date().toISOString().slice(0,10),...r},l=o.budget.map(c=>c.name===r.category?{...c,actual:(c.actual||0)+(r.amount||0)}:c);return{...o,spendingLog:[...o.spendingLog,s],budget:l}});case pe.DELETE_SPENDING:return tt(t,i,o=>{const s=o.spendingLog.find(c=>c.id===r);if(!s)return{...o,spendingLog:o.spendingLog.filter(c=>c.id!==r)};const l=o.budget.map(c=>c.name===s.category?{...c,actual:Math.max(0,(c.actual||0)-(s.amount||0))}:c);return{...o,spendingLog:o.spendingLog.filter(c=>c.id!==r),budget:l}});case pe.ADD_TODO:return tt(t,i,o=>({...o,todos:[...o.todos,{id:Wi(),done:!1,priority:"normal",dueDate:"",category:"Misc",...r}]}));case pe.TOGGLE_TODO:return tt(t,i,o=>({...o,todos:o.todos.map(s=>s.id===r?{...s,done:!s.done}:s)}));case pe.UPDATE_TODO:return tt(t,i,o=>({...o,todos:o.todos.map(s=>s.id===r.id?{...s,...r.updates}:s)}));case pe.DELETE_TODO:return tt(t,i,o=>({...o,todos:o.todos.filter(s=>s.id!==r)}));case pe.ADD_PACKING_ITEM:return tt(t,i,o=>({...o,packingList:[...o.packingList,{id:Wi(),packed:!1,section:"Misc",...r}]}));case pe.TOGGLE_PACKING_ITEM:return tt(t,i,o=>({...o,packingList:o.packingList.map(s=>s.id===r?{...s,packed:!s.packed}:s)}));case pe.DELETE_PACKING_ITEM:return tt(t,i,o=>({...o,packingList:o.packingList.filter(s=>s.id!==r)}));case pe.RESET_PACKING:return tt(t,i,o=>({...o,packingList:o.packingList.map(s=>({...s,packed:!1}))}));case pe.UPDATE_CITY:return tt(t,i,o=>({...o,cities:o.cities.map(s=>s.id===r.id?{...s,...r.updates}:s)}));case pe.ADD_CITY:return tt(t,i,o=>({...o,cities:[...o.cities||[],{id:Wi(),city:r.city||"New City",country:r.country||"",flag:r.flag||"",highlights:"",mustDo:"",weather:"",currencyTip:"",notes:""}]}));case pe.DELETE_CITY:return tt(t,i,o=>({...o,cities:o.cities.filter(s=>s.id!==r)}));case pe.UPDATE_NOTES:return tt(t,i,{notes:r});case pe.SET_TRIPS_FROM_FIRESTORE:{const o=r,s=Object.keys(o),l=t.activeTripId,c=l&&o[l]?l:s.length>0?s[0]:null;return{...t,trips:o,activeTripId:c}}default:return t}}const CP={id:"sea-adventure-2026",name:"Val & Partner's SEA Adventure",emoji:"",destinations:[{city:"Cebu",country:"Philippines",flag:""},{city:"Singapore",country:"Singapore",flag:""},{city:"Koh Samui",country:"Thailand",flag:""},{city:"Kuala Lumpur",country:"Malaysia",flag:""},{city:"Cebu",country:"Philippines",flag:""}],startDate:"2026-11-14",endDate:"2026-11-22",travelers:2,currency:"PHP",createdAt:"2025-01-01T00:00:00.000Z",itinerary:[{id:"day-1",date:"2026-11-14",dayNumber:1,location:"Cebu  Singapore",emoji:"",activities:[{id:"a1",time:"06:00",name:"Depart Cebu (Mactan)",emoji:"",notes:"Early morning flight"},{id:"a2",time:"12:00",name:"Arrive Singapore Changi",emoji:"",notes:"Collect bags, get EZ-Link card at airport"},{id:"a3",time:"14:00",name:"Check in to hotel",emoji:"",notes:"Near Marina Bay area"},{id:"a4",time:"16:00",name:"Gardens by the Bay",emoji:"",notes:"Cloud Forest + Flower Dome"},{id:"a5",time:"19:00",name:"Dinner at Lau Pa Sat",emoji:"",notes:"Hawker centre, try satay street"}],notes:"Travel day  take it easy in the evening"},{id:"day-2",date:"2026-11-15",dayNumber:2,location:"Singapore",emoji:"",activities:[{id:"a6",time:"09:00",name:"Marina Bay Sands area",emoji:"",notes:"ArtScience Museum, Merlion"},{id:"a7",time:"12:00",name:"Lunch at Maxwell Food Centre",emoji:"",notes:"Tian Tian chicken rice"},{id:"a8",time:"14:00",name:"Chinatown & Little India",emoji:"",notes:"Walking tour, temples, spice market"},{id:"a9",time:"17:00",name:"Orchard Road shopping",emoji:"",notes:"ION Orchard, Takashimaya"},{id:"a10",time:"20:00",name:"Spectra Light Show",emoji:"",notes:"Free show at Marina Bay, 8pm & 9pm"}],notes:"Full Singapore day  wear comfy shoes"},{id:"day-3",date:"2026-11-16",dayNumber:3,location:"Singapore  Koh Samui",emoji:"",activities:[{id:"a11",time:"08:00",name:"Breakfast at hotel",emoji:"",notes:""},{id:"a12",time:"10:00",name:"Last-minute Singapore shopping",emoji:"",notes:""},{id:"a13",time:"14:00",name:"Fly Singapore  Koh Samui",emoji:"",notes:"Afternoon flight"},{id:"a14",time:"17:00",name:"Check in Karma Resort",emoji:"",notes:"Beachfront resort"},{id:"a15",time:"19:00",name:"Beach sunset dinner",emoji:"",notes:"Fresh seafood on the beach"}],notes:"Transit day  Singapore to Thailand"},{id:"day-4",date:"2026-11-17",dayNumber:4,location:"Koh Samui",emoji:"",activities:[{id:"a16",time:"08:00",name:"Beach morning & swim",emoji:"",notes:"Chaweng Beach"},{id:"a17",time:"11:00",name:"Four Seasons Day Pass",emoji:"",notes:"Pool, beach, spa  day pass for 2"},{id:"a18",time:"15:00",name:"Explore Fisherman's Village",emoji:"",notes:"Bophut area, cute shops and cafs"},{id:"a19",time:"19:00",name:"Thai dinner on the beach",emoji:"",notes:"Pad Thai, green curry, mango sticky rice"}],notes:"Relaxation day  Four Seasons is the highlight!"},{id:"day-5",date:"2026-11-18",dayNumber:5,location:"Koh Samui",emoji:"",activities:[{id:"a20",time:"09:00",name:"Island tour",emoji:"",notes:"Na Muang Waterfall, Big Buddha, Secret Garden"},{id:"a21",time:"13:00",name:"Lunch at local spot",emoji:"",notes:""},{id:"a22",time:"15:00",name:"Snorkeling trip",emoji:"",notes:"Ang Thong National Marine Park or local reef"},{id:"a23",time:"19:00",name:"Night market",emoji:"",notes:"Lamai or Chaweng night market"}],notes:"Adventure day  bring waterproof phone case"},{id:"day-6",date:"2026-11-19",dayNumber:6,location:"Koh Samui  Kuala Lumpur",emoji:"",activities:[{id:"a24",time:"08:00",name:"Last beach morning",emoji:"",notes:""},{id:"a25",time:"11:00",name:"Check out Karma Resort",emoji:"",notes:""},{id:"a26",time:"13:00",name:"Fly Koh Samui  Kuala Lumpur",emoji:"",notes:"Afternoon flight"},{id:"a27",time:"17:00",name:"Check in KL hotel near Stadium Merdeka",emoji:"",notes:"Walking distance to concert venue!"},{id:"a28",time:"19:00",name:"Jalan Alor street food",emoji:"",notes:"Must-try: satay, char kway teow, durian"}],notes:"Transit day  Thailand to Malaysia"},{id:"day-7",date:"2026-11-20",dayNumber:7,location:"Kuala Lumpur",emoji:"",activities:[{id:"a29",time:"10:00",name:"Petronas Twin Towers + KLCC",emoji:"",notes:"Book skybridge tickets in advance"},{id:"a30",time:"13:00",name:"Lunch at Nasi Kandar",emoji:"",notes:""},{id:"a31",time:"15:00",name:"Pre-concert prep & rest",emoji:"",notes:"Charge phones, pick outfits, eat early"},{id:"a32",time:"17:00",name:" MCR CONCERT @ Stadium Merdeka",emoji:"",notes:"Gates open ~5pm, show ~8pm. THE main event!"}],notes:" CONCERT DAY! My Chemical Romance at Stadium Merdeka!"},{id:"day-8",date:"2026-11-21",dayNumber:8,location:"Kuala Lumpur",emoji:"",activities:[{id:"a33",time:"10:00",name:"Sleep in (post-concert recovery)",emoji:"",notes:""},{id:"a34",time:"12:00",name:"Batu Caves",emoji:"",notes:"272 colorful steps, Hindu temple"},{id:"a35",time:"15:00",name:"Central Market & Petaling Street",emoji:"",notes:"Souvenirs, batik, street art"},{id:"a36",time:"18:00",name:"Dinner at Pavilion KL",emoji:"",notes:""},{id:"a37",time:"20:00",name:"KL Tower night view",emoji:"",notes:"Amazing city views at night"}],notes:"Recovery day after the concert  take it chill"},{id:"day-9",date:"2026-11-22",dayNumber:9,location:"Kuala Lumpur  Cebu",emoji:"",activities:[{id:"a38",time:"08:00",name:"Pack & check out",emoji:"",notes:""},{id:"a39",time:"10:00",name:"Last KL breakfast  roti canai",emoji:"",notes:""},{id:"a40",time:"13:00",name:"Fly Kuala Lumpur  Cebu",emoji:"",notes:"Afternoon flight home"},{id:"a41",time:"18:00",name:"Arrive home ",emoji:"",notes:"End of an amazing trip!"}],notes:"Homeward bound  what a trip! "}],bookings:[{id:"b1",name:"Cebu  Singapore flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b2",name:"Singapore  Koh Samui flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b3",name:"Koh Samui  Kuala Lumpur flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b4",name:"Kuala Lumpur  Cebu flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b5",name:"Singapore hotel, 2 nights",category:"hotel",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-01",priority:!1,currency:"PHP"},{id:"b6",name:"Karma Resort, Koh Samui, 3 nights",category:"hotel",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-01",priority:!1,currency:"PHP"},{id:"b7",name:"KL hotel near Stadium Merdeka, 3 nights",category:"hotel",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-01",priority:!1,currency:"PHP"},{id:"b8",name:"Four Seasons day pass, 2 pax",category:"experience",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-15",priority:!1,currency:"PHP"},{id:"b9",name:"MCR Concert tickets, 2 pax",category:"concert",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"",priority:!0,currency:"PHP"}],todos:[{id:"t1",text:"Apply for Malaysia e-NTL",category:"Admin",done:!1,dueDate:"2026-10-01",priority:"high"},{id:"t2",text:"Check Thailand visa requirements",category:"Admin",done:!1,dueDate:"2026-10-01",priority:"high"},{id:"t3",text:"Get travel insurance for 2 people",category:"Admin",done:!1,dueDate:"2026-10-15",priority:"high"},{id:"t4",text:"Notify bank about international transactions",category:"Finances",done:!1,dueDate:"2026-11-01",priority:"normal"},{id:"t5",text:"Download offline maps: Singapore, Koh Samui, KL",category:"Tech",done:!1,dueDate:"2026-11-10",priority:"normal"},{id:"t6",text:"Exchange/load PHP to SGD, THB, MYR",category:"Finances",done:!1,dueDate:"2026-11-10",priority:"normal"},{id:"t7",text:"Check baggage allowance for all flights",category:"Admin",done:!1,dueDate:"2026-09-15",priority:"normal"},{id:"t8",text:"Research Four Seasons day pass booking process",category:"Admin",done:!1,dueDate:"2026-10-01",priority:"normal"},{id:"t9",text:"Buy portable charger / power bank",category:"Tech",done:!1,dueDate:"2026-11-01",priority:"normal"},{id:"t10",text:"Set up roaming or buy local SIMs plan",category:"Tech",done:!1,dueDate:"2026-11-10",priority:"normal"}],budget:[{id:"bg1",name:"Flights",emoji:"",min:44200,max:55600,actual:0},{id:"bg2",name:"Accommodation",emoji:"",min:39e3,max:71e3,actual:0},{id:"bg3",name:"Four Seasons Day Pass",emoji:"",min:11200,max:16800,actual:0},{id:"bg4",name:"MCR Concert Tickets",emoji:"",min:15e3,max:3e4,actual:0},{id:"bg5",name:"Other Expenses",emoji:"",min:47e3,max:61e3,actual:0}],spendingLog:[],packingList:[{id:"p1",name:"Passports (2)",section:"Documents",packed:!1},{id:"p2",name:"Travel insurance printouts",section:"Documents",packed:!1},{id:"p3",name:"Flight confirmations (printed)",section:"Documents",packed:!1},{id:"p4",name:"Hotel confirmations",section:"Documents",packed:!1},{id:"p5",name:"MCR concert tickets / QR codes",section:"Documents",packed:!1},{id:"p6",name:"Malaysia e-NTL printout",section:"Documents",packed:!1},{id:"p7",name:"T-shirts (6)",section:"Clothing",packed:!1},{id:"p8",name:"Shorts (3)",section:"Clothing",packed:!1},{id:"p9",name:"Light pants (2)",section:"Clothing",packed:!1},{id:"p10",name:"Swimwear (2)",section:"Clothing",packed:!1},{id:"p11",name:"Comfortable walking shoes",section:"Clothing",packed:!1},{id:"p12",name:"Flip flops / sandals",section:"Clothing",packed:!1},{id:"p13",name:"Light rain jacket",section:"Clothing",packed:!1},{id:"p14",name:"Underwear & socks",section:"Clothing",packed:!1},{id:"p15",name:"Sleepwear",section:"Clothing",packed:!1},{id:"p16",name:"Phone + charger",section:"Tech",packed:!1},{id:"p17",name:"Power bank (20,000mAh)",section:"Tech",packed:!1},{id:"p18",name:"Universal travel adapter",section:"Tech",packed:!1},{id:"p19",name:"Camera + SD cards",section:"Tech",packed:!1},{id:"p20",name:"Earphones / AirPods",section:"Tech",packed:!1},{id:"p21",name:"MCR concert outfit ",section:"Concert Essentials",packed:!1},{id:"p22",name:"Comfortable concert shoes",section:"Concert Essentials",packed:!1},{id:"p23",name:"Small crossbody bag",section:"Concert Essentials",packed:!1},{id:"p24",name:"Earplugs (for hearing protection)",section:"Concert Essentials",packed:!1},{id:"p25",name:"Sunscreen SPF 50",section:"Toiletries",packed:!1},{id:"p26",name:"Insect repellent",section:"Toiletries",packed:!1},{id:"p27",name:"Basic first aid kit",section:"Toiletries",packed:!1},{id:"p28",name:"Toothbrush & toothpaste",section:"Toiletries",packed:!1},{id:"p29",name:"Deodorant",section:"Toiletries",packed:!1},{id:"p30",name:"Medication / vitamins",section:"Toiletries",packed:!1},{id:"p31",name:"Daypack / small backpack",section:"Misc",packed:!1},{id:"p32",name:"Reusable water bottle",section:"Misc",packed:!1},{id:"p33",name:"Packing cubes",section:"Misc",packed:!1},{id:"p34",name:"Neck pillow for flights",section:"Misc",packed:!1},{id:"p35",name:"Snacks for travel days",section:"Misc",packed:!1}],cities:[{id:"c1",city:"Singapore",country:"Singapore",flag:"",highlights:"Marina Bay, Gardens by the Bay, hawker food culture",mustDo:"Eat at a hawker centre, see the Supertree light show",weather:"Hot & humid year-round, 27-32C. Rain possible anytime.",currencyTip:"SGD. Cashless-friendly, cards accepted everywhere.",notes:""},{id:"c2",city:"Koh Samui",country:"Thailand",flag:"",highlights:"Beautiful beaches, luxury resorts, island vibes",mustDo:"Visit Big Buddha, snorkel at Ang Thong, Four Seasons day pass",weather:"November is end of monsoon season. Expect some rain, 26-30C.",currencyTip:"THB. Cash is king for street food and markets.",notes:""},{id:"c3",city:"Kuala Lumpur",country:"Malaysia",flag:"",highlights:"Petronas Towers, Batu Caves, incredible food scene",mustDo:"Jalan Alor street food, Petronas Towers skybridge, MCR concert!",weather:"Hot & humid, 27-33C. Afternoon thunderstorms common.",currencyTip:"MYR. Very affordable. Cards widely accepted in malls.",notes:""}],notes:"This trip is our big Southeast Asia adventure  the MCR concert in KL is the anchor event. Build the rest of the trip around it!"};function $9(t={}){return{id:t.id||Date.now().toString(36)+Math.random().toString(36).slice(2,8),name:t.name||"New Trip",emoji:t.emoji||"",destinations:t.destinations||[],startDate:t.startDate||"",endDate:t.endDate||"",travelers:t.travelers||1,currency:t.currency||"PHP",createdAt:new Date().toISOString(),itinerary:[],bookings:[],todos:[],budget:t.budget||[],spendingLog:[],packingList:[],cities:[],notes:"",...t}}const Ac="trips",lp="wanderplan_data",OP="wanderplan_migrated";function V9(){let t=!1;try{const e=localStorage.getItem(lp);e&&(t=JSON.parse(e).darkMode||!1)}catch{}return{trips:{},activeTripId:null,activeTab:"overview",sidebarOpen:!1,darkMode:t,toast:{message:"",type:"success",visible:!1}}}async function B9(){if(localStorage.getItem(OP))return!1;try{const t=localStorage.getItem(lp);if(!t)return!1;const e=JSON.parse(t);if(!e.trips||Object.keys(e.trips).length===0)return!1;const n=Object.values(e.trips);return await Promise.all(n.map(r=>__(Bh(Sc,Ac,r.id),{...r,_updatedAt:b_()}))),localStorage.setItem(OP,"true"),console.log(`[Wanderplan] Migrated ${n.length} trip(s) from localStorage  Firestore`),!0}catch(t){return console.warn("[Wanderplan] Migration failed:",t),!1}}function F9(){const[t,e]=q.useReducer(L9,null,V9),[n,r]=q.useState(!0),i=q.useRef({}),o=q.useRef(!1);q.useEffect(()=>{const f=d9(Sc,Ac);return C9(f,async m=>{const v={};if(m.forEach(S=>{const{_updatedAt:T,..._}=S.data();v[S.id]=_}),Object.keys(i.current).length===0&&Object.keys(v).length===0){if(await B9())return;await __(Bh(Sc,Ac,CP.id),{...CP,_updatedAt:b_()});return}o.current=!0,i.current=v,e({type:pe.SET_TRIPS_FROM_FIRESTORE,payload:v}),r(!1)},m=>{console.error("[Wanderplan] Firestore listener error:",m),r(!1)})},[]),q.useEffect(()=>{if(o.current){o.current=!1;return}const f=t.trips,h=i.current;Object.keys(f).forEach(m=>{f[m]!==h[m]&&__(Bh(Sc,Ac,m),{...f[m],_updatedAt:b_()}).catch(console.error)}),Object.keys(h).forEach(m=>{f[m]||I9(Bh(Sc,Ac,m)).catch(console.error)}),i.current=f},[t.trips]),q.useEffect(()=>{document.documentElement.classList.toggle("dark",t.darkMode);try{const f=localStorage.getItem(lp),h=f?JSON.parse(f):{};localStorage.setItem(lp,JSON.stringify({...h,darkMode:t.darkMode}))}catch{}},[t.darkMode]),q.useEffect(()=>{if(t.toast.visible){const f=setTimeout(()=>e({type:pe.HIDE_TOAST}),3e3);return()=>clearTimeout(f)}},[t.toast.visible]);const s=t.activeTripId?t.trips[t.activeTripId]:null,l=Object.values(t.trips).sort((f,h)=>f.startDate?h.startDate?new Date(f.startDate)-new Date(h.startDate):-1:1),c=q.useCallback((f,h="success")=>{e({type:pe.SHOW_TOAST,payload:{message:f,type:h}})},[]);return{state:t,dispatch:e,activeTrip:s,sortedTrips:l,showToast:c,firestoreLoading:n}}function U9(t){const[e,n]=q.useState(()=>typeof window<"u"?window.matchMedia(t).matches:!1);return q.useEffect(()=>{const r=window.matchMedia(t),i=o=>n(o.matches);return r.addEventListener("change",i),n(r.matches),()=>r.removeEventListener("change",i)},[t]),e}function q9({onSignIn:t}){const[e,n]=q.useState(!1),[r,i]=q.useState(null),o=async()=>{n(!0),i(null);try{await t()}catch{i("Sign-in failed. Please try again."),n(!1)}};return y.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary animate-fade-in",children:y.jsxs("div",{className:"text-center max-w-sm px-8",children:[y.jsx("div",{className:"text-6xl mb-5 animate-pulse-warm",children:""}),y.jsx("h1",{className:"font-heading text-3xl font-bold text-text-primary mb-2",children:"Wanderplan"}),y.jsx("p",{className:"text-text-muted text-sm mb-10 leading-relaxed",children:"Every trip, perfectly planned."}),y.jsxs("button",{onClick:o,disabled:e,className:`inline-flex items-center gap-3 px-6 py-3
                     bg-bg-secondary border border-border
                     rounded-[var(--radius-md)]
                     text-text-primary font-medium text-sm
                     hover:bg-bg-hover hover:border-border-strong
                     transition-all duration-200 active:scale-[0.98]
                     disabled:opacity-50 disabled:cursor-not-allowed
                     shadow-sm w-full justify-center`,children:[y.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24","aria-hidden":"true",children:[y.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),y.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),y.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e?"Signing in":"Continue with Google"]}),r&&y.jsx("p",{className:"mt-4 text-sm text-red-500",children:r}),y.jsx("p",{className:"mt-8 text-xs text-text-muted leading-relaxed",children:"Your trips sync across all your devices in real time."})]})})}function C1(t){var v,x,S,T,_,C;if(!t)return 0;const e={bookings:.4,todos:.35,packing:.25},n=((v=t.bookings)==null?void 0:v.length)||0,r=((x=t.bookings)==null?void 0:x.filter(D=>D.status==="booked").length)||0,i=n>0?r/n:0,o=((S=t.todos)==null?void 0:S.length)||0,s=((T=t.todos)==null?void 0:T.filter(D=>D.done).length)||0,l=o>0?s/o:0,c=((_=t.packingList)==null?void 0:_.length)||0,f=((C=t.packingList)==null?void 0:C.filter(D=>D.packed).length)||0,h=c>0?f/c:0,m=Math.round((i*e.bookings+l*e.todos+h*e.packing)*100);return Math.min(100,Math.max(0,m))}function z9(t){var e,n,r,i,o,s;return t?{bookings:{done:((e=t.bookings)==null?void 0:e.filter(l=>l.status==="booked").length)||0,total:((n=t.bookings)==null?void 0:n.length)||0},todos:{done:((r=t.todos)==null?void 0:r.filter(l=>l.done).length)||0,total:((i=t.todos)==null?void 0:i.length)||0},packing:{done:((o=t.packingList)==null?void 0:o.filter(l=>l.packed).length)||0,total:((s=t.packingList)==null?void 0:s.length)||0}}:{bookings:{done:0,total:0},todos:{done:0,total:0},packing:{done:0,total:0}}}function O1({value:t=0,size:e=64,strokeWidth:n=5,className:r="",showLabel:i=!0,labelClassName:o="",pulse:s=!1,onClick:l=null,tooltip:c=null}){const[f,h]=q.useState(0),m=(e-n)/2,v=2*Math.PI*m,x=v-f/100*v;q.useEffect(()=>{const _=setTimeout(()=>h(t),100);return()=>clearTimeout(_)},[t]);const S=_=>_>=80?"var(--color-success)":_>=50?"var(--color-accent)":_>=25?"var(--color-warning)":"var(--color-text-muted)",T=y.jsxs("div",{className:`relative inline-flex items-center justify-center ${r}`,title:c||void 0,children:[s&&y.jsx("span",{className:"absolute inset-0 rounded-full animate-ping opacity-20",style:{background:"var(--color-accent)"}}),y.jsxs("svg",{width:e,height:e,className:"-rotate-90",children:[y.jsx("circle",{cx:e/2,cy:e/2,r:m,fill:"none",stroke:"var(--color-border)",strokeWidth:n}),y.jsx("circle",{cx:e/2,cy:e/2,r:m,fill:"none",stroke:S(f),strokeWidth:n,strokeDasharray:v,strokeDashoffset:x,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.8s ease-out, stroke 0.3s ease"}})]}),i&&y.jsxs("span",{className:`absolute text-text-primary font-semibold ${o}`,style:{fontSize:e*.22},children:[Math.round(f),"%"]})]});return l?y.jsx("button",{type:"button",onClick:l,className:`rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-accent/50
                   hover:opacity-80 active:scale-95 transition-all duration-150 cursor-pointer`,title:c||void 0,"aria-label":c||`Trip readiness: ${t}%`,children:T}):T}function W9(t,e){if(!t||!e)return"upcoming";const n=new Date;n.setHours(0,0,0,0);const r=new Date(t+"T00:00:00"),i=new Date(e+"T00:00:00");return n>i?"completed":n>=r&&n<=i?"ongoing":"upcoming"}const H9={upcoming:{label:"Upcoming",className:"bg-info/10 text-info"},ongoing:{label:"Ongoing",className:"bg-success/10 text-success"},completed:{label:"Completed",className:"bg-text-muted/10 text-text-muted"}};function G9({startDate:t,endDate:e,className:n=""}){const r=W9(t,e),i=H9[r];return y.jsx("span",{className:`
      inline-flex items-center px-2.5 py-0.5 text-xs font-medium
      rounded-[var(--radius-pill)] ${i.className} ${n}
    `,children:i.label})}function k1({isOpen:t,onClose:e,children:n,className:r="",maxWidth:i="max-w-xl"}){return q.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),t?y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-text-primary/30 backdrop-blur-sm animate-fade-in",onClick:e}),y.jsx("div",{className:`
        relative z-10 w-full ${i}
        bg-bg-primary border border-border rounded-[var(--radius-xl)]
        max-h-[90vh] overflow-y-auto
        animate-scale-in
        ${r}
      `,children:n})]}):null}function qD({isOpen:t,onClose:e,onConfirm:n,title:r,message:i,confirmLabel:o="Delete",danger:s=!0}){return y.jsx(k1,{isOpen:t,onClose:e,maxWidth:"max-w-sm",children:y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:"font-heading text-xl text-text-primary mb-2",children:r}),y.jsx("p",{className:"text-text-secondary text-sm mb-6",children:i}),y.jsxs("div",{className:"flex gap-3 justify-end",children:[y.jsx("button",{onClick:e,className:`px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary
                       bg-bg-secondary border border-border rounded-[var(--radius-md)]
                       hover:bg-bg-hover transition-colors`,children:"Cancel"}),y.jsx("button",{onClick:()=>{n(),e()},className:`px-4 py-2 text-sm font-medium rounded-[var(--radius-md)] transition-colors
              ${s?"bg-danger text-white hover:bg-danger/90":"bg-accent text-white hover:bg-accent-hover"}`,children:o})]})]})})}function K9({tripId:t,tripName:e,onClose:n}){const{dispatch:r,showToast:i}=Gt(),o=q.useRef(null),[s,l]=q.useState(!1);q.useEffect(()=>{function x(T){s||o.current&&!o.current.contains(T.target)&&n()}function S(T){T.key==="Escape"&&(s?l(!1):n())}return document.addEventListener("mousedown",x),document.addEventListener("keydown",S),()=>{document.removeEventListener("mousedown",x),document.removeEventListener("keydown",S)}},[n,s]);const c=x=>{x.stopPropagation();const S=window.prompt("Rename trip:",e);S&&S.trim()&&S.trim()!==e&&(r({type:pe.RENAME_TRIP,payload:{id:t,name:S.trim()}}),i("Trip renamed")),n()},f=x=>{x.stopPropagation(),r({type:pe.DUPLICATE_TRIP,payload:t}),i("Trip duplicated"),n()},h=x=>{x.stopPropagation(),l(!0)},m=()=>{r({type:pe.DELETE_TRIP,payload:t}),i("Trip deleted","info"),l(!1),n()},v=[{label:"Rename",icon:y.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),y.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),onClick:c},{label:"Duplicate",icon:y.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),y.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),onClick:f},{label:"Delete",icon:y.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("polyline",{points:"3 6 5 6 21 6"}),y.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),y.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),y.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),onClick:h,danger:!0}];return y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:o,className:`absolute right-2 top-8 z-50 w-40
                   bg-bg-input border border-border rounded-[var(--radius-md)]
                   animate-scale-in overflow-hidden`,onClick:x=>x.stopPropagation(),children:v.map(x=>y.jsxs("button",{onClick:x.onClick,className:`w-full flex items-center gap-2.5 px-3 py-2 text-sm text-left
                        transition-colors duration-100
                        ${x.danger?"text-danger hover:bg-danger/10":"text-text-secondary hover:bg-bg-hover hover:text-text-primary"}`,children:[y.jsx("span",{className:"shrink-0",children:x.icon}),x.label]},x.label))}),y.jsx(qD,{isOpen:s,onClose:()=>l(!1),onConfirm:m,title:"Delete trip?",message:`Are you sure you want to delete "${e}"? This action cannot be undone.`,confirmLabel:"Delete",danger:!0})]})}function Y9({trip:t,isActive:e,isMobile:n}){const{dispatch:r}=Gt(),[i,o]=q.useState(!1),[s,l]=q.useState(!1),c=C1(t),f=I1(t.startDate,t.endDate),h=3,m=t.destinations&&t.destinations.length>0?[...new Set(t.destinations.map(_=>_.flag||(_.country?_.country.slice(0,2):"")))].filter(Boolean):[],v=m.slice(0,h),x=m.length-h,S=()=>{r({type:pe.SET_ACTIVE_TRIP,payload:t.id}),n&&r({type:pe.SET_SIDEBAR,payload:!1})},T=_=>{_.stopPropagation(),o(C=>!C)};return y.jsxs("div",{className:`
        group relative flex items-start gap-3 px-3 py-3.5
        rounded-[var(--radius-md)] cursor-pointer
        transition-all duration-150
        ${e?"bg-accent-muted border border-accent/40":"border border-transparent hover:bg-bg-hover hover:border-border"}
      `,onClick:S,onMouseEnter:()=>l(!0),onMouseLeave:()=>{l(!1),i||o(!1)},children:[y.jsx("span",{className:"text-2xl leading-none mt-0.5 shrink-0",role:"img","aria-label":"trip icon",children:t.emoji||""}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-start justify-between gap-1.5",children:[y.jsx("h3",{className:`text-sm font-medium truncate leading-snug ${e?"text-text-primary":"text-text-secondary"}`,children:t.name}),y.jsx("button",{onClick:T,className:`shrink-0 p-0.5 rounded-[var(--radius-sm)]
                        text-text-muted hover:text-text-primary hover:bg-bg-secondary
                        transition-all duration-150
                        ${s||i?"opacity-100":"opacity-0"}
                      `,"aria-label":"Trip options",children:y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"6",r:"1.5"}),y.jsx("circle",{cx:"12",cy:"12",r:"1.5"}),y.jsx("circle",{cx:"12",cy:"18",r:"1.5"})]})})]}),m.length>0&&y.jsxs("div",{className:"flex items-center gap-0.5 mt-0.5",children:[v.map((_,C)=>y.jsx("span",{className:"text-sm leading-none",children:_},C)),x>0&&y.jsxs("span",{className:`text-[10px] text-text-muted font-medium px-1 py-0.5
                               bg-bg-secondary rounded-[var(--radius-sm)] leading-none ml-0.5`,children:["+",x]})]}),y.jsxs("div",{className:"flex items-center gap-2 mt-1.5 flex-wrap",children:[f&&y.jsx("span",{className:"text-xs text-text-muted whitespace-nowrap",children:f}),t.startDate&&t.endDate&&y.jsx(G9,{startDate:t.startDate,endDate:t.endDate})]})]}),y.jsx("div",{className:"shrink-0 mt-1",children:y.jsx(O1,{value:c,size:36,strokeWidth:3,showLabel:!0,labelClassName:"!text-[9px]"})}),i&&y.jsx(K9,{tripId:t.id,tripName:t.name,onClose:()=>o(!1)})]})}function X9({count:t,onSignOut:e}){return y.jsxs("div",{className:"px-5 py-4 border-t border-border-strong flex items-center justify-between",children:[y.jsxs("p",{className:"text-xs text-text-muted",children:[t," ",M9(t,"trip")," planned"]}),e&&y.jsx("button",{onClick:e,className:"text-xs text-text-muted hover:text-text-secondary transition-colors",title:"Sign out",children:"Sign out"})]})}function Sm({profile:t,size:e=28,className:n="",ring:r=!1}){var s,l,c;const i=((c=(l=(s=t==null?void 0:t.name)==null?void 0:s.trim())==null?void 0:l[0])==null?void 0:c.toUpperCase())||"?",o={width:e,height:e,fontSize:e*.38};return y.jsx("div",{className:`
        rounded-full overflow-hidden shrink-0 flex items-center justify-center
        bg-accent/20 text-accent font-semibold select-none
        ${r?"ring-2 ring-bg-card":""}
        ${n}
      `,style:o,title:t==null?void 0:t.name,children:t!=null&&t.photo?y.jsx("img",{src:t.photo,alt:t.name,className:"w-full h-full object-cover"}):y.jsx("span",{style:{fontSize:e*.38},children:i})})}function zD(t,e=200){return new Promise(n=>{const r=new FileReader;r.onload=i=>{const o=new Image;o.onload=()=>{const s=document.createElement("canvas"),l=Math.min(e/o.width,e/o.height,1);s.width=o.width*l,s.height=o.height*l,s.getContext("2d").drawImage(o,0,0,s.width,s.height),n(s.toDataURL("image/jpeg",.85))},o.src=i.target.result},r.readAsDataURL(t)})}function Q9({profile:t,onDelete:e}){const{updateProfile:n}=ol(),r=q.useRef(),[i,o]=q.useState(!1),[s,l]=q.useState(t.name),c=async h=>{var x;const m=(x=h.target.files)==null?void 0:x[0];if(!m)return;const v=await zD(m);n(t.id,{photo:v})},f=()=>{s.trim()&&n(t.id,{name:s.trim()}),o(!1)};return y.jsxs("div",{className:"flex items-center gap-3 py-2.5 px-1 group",children:[y.jsxs("button",{type:"button",onClick:()=>{var h;return(h=r.current)==null?void 0:h.click()},className:"relative shrink-0 hover:opacity-80 transition-opacity",title:"Change photo",children:[y.jsx(Sm,{profile:t,size:40}),y.jsx("span",{className:`absolute inset-0 flex items-center justify-center rounded-full
                         bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity text-white text-[10px] font-medium`,children:"edit"}),y.jsx("input",{ref:r,type:"file",accept:"image/*",className:"hidden",onChange:c})]}),y.jsx("div",{className:"flex-1 min-w-0",children:i?y.jsx("input",{autoFocus:!0,value:s,onChange:h=>l(h.target.value),onBlur:f,onKeyDown:h=>{h.key==="Enter"&&f(),h.key==="Escape"&&(l(t.name),o(!1))},className:"w-full px-2 py-1 text-sm bg-bg-input border border-accent/40 rounded-[var(--radius-sm)] text-text-primary outline-none focus:ring-1 focus:ring-accent/20"}):y.jsx("span",{className:"text-sm text-text-primary cursor-pointer hover:text-accent transition-colors",onClick:()=>o(!0),children:t.name})}),y.jsx("button",{type:"button",onClick:()=>e(t.id),className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger transition-all p-1",children:y.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("polyline",{points:"3 6 5 6 21 6"}),y.jsx("path",{d:"M19 6l-1 14H6L5 6"}),y.jsx("path",{d:"M10 11v6M14 11v6"}),y.jsx("path",{d:"M9 6V4h6v2"})]})})]})}function J9({onDone:t}){const{addProfile:e}=ol(),[n,r]=q.useState(""),[i,o]=q.useState(null),s=q.useRef(),l=async f=>{var v;const h=(v=f.target.files)==null?void 0:v[0];if(!h)return;const m=await zD(h);o(m)},c=()=>{n.trim()&&(e({name:n,photo:i}),t())};return y.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[y.jsx("p",{className:"text-xs font-medium text-text-muted uppercase tracking-widest mb-3",children:"Add traveler"}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("button",{type:"button",onClick:()=>{var f;return(f=s.current)==null?void 0:f.click()},className:"shrink-0 w-10 h-10 rounded-full border-2 border-dashed border-border hover:border-accent/50 flex items-center justify-center text-text-muted hover:text-accent transition-colors overflow-hidden",title:"Upload photo",children:[i?y.jsx("img",{src:i,alt:"",className:"w-full h-full object-cover"}):y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),y.jsx("polyline",{points:"17 8 12 3 7 8"}),y.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),y.jsx("input",{ref:s,type:"file",accept:"image/*",className:"hidden",onChange:l})]}),y.jsx("input",{autoFocus:!0,value:n,onChange:f=>r(f.target.value),onKeyDown:f=>{f.key==="Enter"&&c()},placeholder:"Traveler name",className:"flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-md)] text-text-primary placeholder:text-text-muted focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"}),y.jsx("button",{type:"button",onClick:c,disabled:!n.trim(),className:"px-3 py-2 text-sm bg-accent text-white rounded-[var(--radius-md)] hover:bg-accent-hover disabled:opacity-40 disabled:cursor-not-allowed transition-colors shrink-0",children:"Add"})]})]})}function kP({isOpen:t,onClose:e}){const{profiles:n,deleteProfile:r}=ol(),[i,o]=q.useState(!1);return y.jsx(k1,{isOpen:t,onClose:e,maxWidth:"max-w-sm",children:y.jsxs("div",{className:"px-6 pt-6 pb-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-5",children:[y.jsx("h2",{className:"font-heading text-lg font-bold text-text-primary",children:"Travelers"}),y.jsx("button",{onClick:e,className:"p-1.5 rounded-[var(--radius-sm)] text-text-muted hover:text-text-primary hover:bg-bg-hover transition-colors",children:y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),y.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),n.length===0&&!i?y.jsx("p",{className:"text-sm text-text-muted text-center py-6",children:"No traveler profiles yet."}):y.jsx("div",{className:"divide-y divide-border",children:n.map(s=>y.jsx(Q9,{profile:s,onDelete:r},s.id))}),i?y.jsx(J9,{onDone:()=>o(!1)}):y.jsxs("button",{type:"button",onClick:()=>o(!0),className:"mt-4 w-full flex items-center justify-center gap-2 px-4 py-2.5 border border-dashed border-border-strong rounded-[var(--radius-md)] text-sm text-text-muted font-medium hover:text-accent hover:border-accent/40 hover:bg-accent-muted/20 transition-colors",children:[y.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),y.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Traveler"]})]})})}function Z9({isMobile:t,isOpen:e,onNewTrip:n}){const{state:r,dispatch:i,sortedTrips:o}=Gt(),{signOutUser:s}=UD(),[l,c]=q.useState(!1),f=()=>{n&&n()},h=()=>{i({type:pe.TOGGLE_DARK_MODE})},m=()=>{i({type:pe.SET_SIDEBAR,payload:!1})},v=y.jsxs("aside",{className:"flex flex-col h-full w-[var(--sidebar-width)] bg-bg-sidebar border-r border-border",children:[y.jsxs("div",{className:"px-5 pt-6 pb-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[y.jsx("h1",{className:"font-heading text-xl font-bold tracking-tight text-text-primary",children:"Wanderplan"}),y.jsxs("div",{className:"flex items-center gap-0.5",children:[y.jsx("button",{onClick:()=>c(!0),className:"p-1.5 rounded-[var(--radius-md)] text-text-muted hover:text-text-secondary transition-colors","aria-label":"Manage traveler profiles",title:"Traveler profiles",children:y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"9",cy:"7",r:"4"}),y.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),y.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),y.jsx("button",{onClick:h,className:"p-1.5 rounded-[var(--radius-md)] text-text-muted hover:text-text-secondary transition-colors","aria-label":r.darkMode?"Switch to light mode":"Switch to dark mode",children:r.darkMode?y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("circle",{cx:"12",cy:"12",r:"5"}),y.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),y.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),y.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),y.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),y.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),y.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),y.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),y.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):y.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})]})]}),y.jsx("p",{className:"text-xs text-text-muted leading-relaxed",children:"Every trip, perfectly planned."})]}),y.jsx("div",{className:"px-4 pb-4",children:y.jsxs("button",{onClick:f,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5
                     bg-accent hover:bg-accent-hover text-text-inverse
                     font-medium text-sm rounded-[var(--radius-md)]
                     transition-all duration-200 active:scale-[0.98]`,children:[y.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),y.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New Trip"]})}),y.jsx("div",{className:"mx-4 mb-2 border-t border-border"}),y.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-2 space-y-0.5 scrollbar-hide",children:o.length===0?y.jsxs("div",{className:"px-3 py-8 text-center",children:[y.jsx("p",{className:"text-xs text-text-muted",children:"No trips yet."}),y.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Create one to get started!"})]}):o.map(x=>y.jsx(Y9,{trip:x,isActive:x.id===r.activeTripId,isMobile:t},x.id))}),y.jsx(X9,{count:o.length,onSignOut:s})]});return t?y.jsxs(y.Fragment,{children:[l&&y.jsx(kP,{isOpen:!0,onClose:()=>c(!1)}),e&&y.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 transition-opacity duration-300",onClick:m,"aria-hidden":"true"}),y.jsx("div",{className:`fixed inset-y-0 left-0 z-50 transition-transform duration-300 ease-out
          ${e?"translate-x-0":"-translate-x-full"}`,children:y.jsxs("div",{className:"relative h-full",children:[v,y.jsx("button",{onClick:m,className:`absolute top-4 right-3 p-1.5 rounded-[var(--radius-sm)]
                       text-text-muted hover:text-text-primary hover:bg-bg-hover
                       transition-colors`,"aria-label":"Close sidebar",children:y.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),y.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})})]}):y.jsxs(y.Fragment,{children:[v,l&&y.jsx(kP,{isOpen:!0,onClose:()=>c(!1)})]})}function Ky(t){if(!t)return{days:0,hours:0,minutes:0,seconds:0,expired:!0,total:0};const e=new Date,r=new Date(t+"T00:00:00")-e;return r<=0?{days:0,hours:0,minutes:0,seconds:0,expired:!0,total:0}:{days:Math.floor(r/(1e3*60*60*24)),hours:Math.floor(r/(1e3*60*60)%24),minutes:Math.floor(r/(1e3*60)%60),seconds:Math.floor(r/1e3%60),expired:!1,total:r}}function N1(t){const[e,n]=q.useState(()=>Ky(t));return q.useEffect(()=>{if(!t)return;n(Ky(t));const r=setInterval(()=>{n(Ky(t))},1e3);return()=>clearInterval(r)},[t]),e}function eq({targetDate:t,emoji:e}){const n=N1(t);return!t||n.expired?null:y.jsxs("span",{className:"inline-flex items-center gap-1.5 text-sm text-text-muted",children:[y.jsx("span",{children:e}),y.jsx("span",{className:"font-heading font-semibold text-text-primary",children:n.days}),y.jsx("span",{className:"text-xs",children:"days"})]})}function tq({value:t,onSave:e}){const[n,r]=q.useState(!1),[i,o]=q.useState(t),[s,l]=q.useState(!1),c=q.useRef(null);q.useEffect(()=>{n||o(t)},[t,n]);const f=()=>{o(t),r(!0),setTimeout(()=>{var x,S;(x=c.current)==null||x.focus(),(S=c.current)==null||S.select()},0)},h=()=>{const x=i.trim();x&&x!==t?e(x):o(t),r(!1)},m=()=>{o(t),r(!1)},v=x=>{x.key==="Enter"&&(x.preventDefault(),h()),x.key==="Escape"&&m()};return n?y.jsx("input",{ref:c,value:i,onChange:x=>o(x.target.value),onBlur:h,onKeyDown:v,className:`font-heading text-2xl md:text-3xl font-bold text-text-primary leading-tight
                   bg-transparent border-b-2 border-accent outline-none w-full min-w-0`,style:{fontFamily:"var(--font-heading)"},"aria-label":"Edit trip name"}):y.jsxs("button",{onClick:f,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),className:"group flex items-center gap-2 min-w-0 max-w-full text-left","aria-label":`Trip name: ${t}. Click to edit.`,children:[y.jsx("h1",{className:`font-heading text-2xl md:text-3xl font-bold text-text-primary
                       leading-tight truncate transition-all duration-150
                       ${s?"underline decoration-border-strong underline-offset-4":""}`,children:t}),y.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`shrink-0 text-text-muted transition-opacity duration-150 mt-1
                    ${s?"opacity-100":"opacity-0"}`,"aria-hidden":"true",children:[y.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),y.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})]})}function nq(){return y.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-text-muted mx-0.5 shrink-0 opacity-60",children:y.jsx("polyline",{points:"9 18 15 12 9 6"})})}function rq({destinations:t}){var o;const[e,n]=q.useState(!1);if(!(t!=null&&t.length))return null;const r=t.length,i=({dests:s})=>y.jsx("div",{className:"flex items-center flex-wrap gap-x-0.5 gap-y-1",children:s.map((l,c)=>y.jsxs("span",{className:"flex items-center",children:[c>0&&y.jsx(nq,{}),y.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-text-secondary whitespace-nowrap",children:[y.jsx("span",{children:l.flag}),y.jsx("span",{children:l.city})]})]},c))});return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"sm:hidden",children:e?y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx(i,{dests:t}),y.jsx("button",{onClick:()=>n(!1),className:"text-xs text-text-muted hover:text-text-secondary transition-colors self-start mt-0.5",children:" collapse"})]}):y.jsxs("button",{onClick:()=>n(!0),className:`inline-flex items-center gap-1.5 text-sm text-text-secondary
                       px-2.5 py-0.5 rounded-full border border-border hover:border-border-strong
                       hover:bg-bg-hover transition-colors duration-150`,children:[y.jsxs("span",{className:"text-base leading-none",children:[(o=t[0])==null?void 0:o.flag,r>1?"":""]}),y.jsxs("span",{className:"font-medium",children:[r," ",r===1?"city":"cities"]}),y.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-text-muted",children:y.jsx("polyline",{points:"6 9 12 15 18 9"})})]})}),y.jsx("div",{className:"hidden sm:block",children:y.jsx(i,{dests:t})})]})}function iq(){const{activeTrip:t,dispatch:e}=Gt(),{profiles:n}=ol(),r=q.useMemo(()=>C1(t),[t]);if(!t)return null;const i=t,o=I1(i.startDate,i.endDate),s=i.travelers||1,l=i.destinations||[],c=(i.travelerIds||[]).map(h=>n.find(m=>m.id===h)).filter(Boolean),f=h=>{h&&e({type:pe.RENAME_TRIP,payload:{id:i.id,name:h}})};return y.jsx("header",{className:"animate-fade-in border-b border-border",children:y.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-8 pt-5 pb-4",children:y.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[y.jsx("span",{className:"text-4xl sm:text-[44px] leading-none shrink-0 mt-0.5",role:"img","aria-label":"Trip emoji",children:i.emoji}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx(tq,{value:i.name,onSave:f}),y.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 mt-1.5",children:[o&&y.jsxs("span",{className:"inline-flex items-center gap-1.5 text-sm text-text-muted",children:[y.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0",children:[y.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),y.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),y.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),y.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),o]}),c.length>0?y.jsxs("span",{className:"inline-flex items-center",children:[c.map((h,m)=>y.jsx("span",{style:{marginLeft:m===0?0:-8},className:"inline-flex",children:y.jsx(Sm,{profile:h,size:26,ring:!0})},h.id)),y.jsx("span",{className:"ml-2 text-sm text-text-muted",children:c.map(h=>h.name.split(" ")[0]).join(" & ")})]}):y.jsxs("span",{className:"inline-flex items-center gap-1.5 text-sm text-text-muted",children:[y.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0",children:[y.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"9",cy:"7",r:"4"}),y.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),y.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),s," ",s===1?"traveler":"travelers"]}),i.startDate&&y.jsx(eq,{targetDate:i.startDate,emoji:""})]}),l.length>0&&y.jsx("div",{className:"mt-2",children:y.jsx(rq,{destinations:l})})]}),y.jsxs("div",{className:"shrink-0 flex flex-col items-center gap-1 mt-0.5",children:[y.jsx(O1,{value:r,size:68,strokeWidth:5,labelClassName:"text-sm"}),y.jsx("span",{className:"text-[10px] text-text-muted font-medium tracking-wide uppercase",children:"Ready"})]})]})})})}const oq=[{id:"overview",label:"Overview",emoji:""},{id:"itinerary",label:"Itinerary",emoji:""},{id:"bookings",label:"Bookings",emoji:""},{id:"budget",label:"Budget",emoji:""},{id:"todo",label:"To-Do",emoji:""},{id:"cities",label:"Cities",emoji:""},{id:"packing",label:"Packing",emoji:""},{id:"concert",label:"Concert",emoji:"",conditional:!0}],Xc=[{id:"flight",label:"Flight",emoji:""},{id:"hotel",label:"Hotel",emoji:""},{id:"experience",label:"Experience",emoji:""},{id:"concert",label:"Concert",emoji:""},{id:"transport",label:"Transport",emoji:""},{id:"custom",label:"Custom",emoji:""}],aq=["Admin","Finances","Tech","Health","Misc"],NP=["Documents","Clothing","Tech","Concert Essentials","Toiletries","Misc"];function sq(){var j,A;const{state:t,activeTrip:e,dispatch:n}=Gt(),r=t.activeTab,i=q.useRef(null),o=q.useRef(null),s=q.useRef(null),l=q.useRef({}),[c,f]=q.useState(!1),[h,m]=q.useState(!1),[v,x]=q.useState([]),[S,T]=q.useState(!1),_=((j=e==null?void 0:e.bookings)==null?void 0:j.some(P=>P.category==="concert"))||!1,C=oq.filter(P=>P.conditional&&P.id==="concert"?_:!0),D=P=>{n({type:pe.SET_TAB,payload:P}),T(!1)},N=q.useCallback(()=>{const P=i.current;P&&(f(P.scrollLeft>4),m(P.scrollLeft+P.clientWidth<P.scrollWidth-4))},[]);q.useEffect(()=>{const P=i.current;if(!P)return;s.current&&s.current.disconnect();const I=new Set;return s.current=new IntersectionObserver(V=>{V.forEach($=>{const B=$.target.dataset.tabId;B&&($.intersectionRatio<.9?I.add(B):I.delete(B))}),x(C.filter($=>I.has($.id)))},{root:P,threshold:.9}),Object.values(l.current).forEach(V=>{V&&s.current.observe(V)}),()=>{var V;return(V=s.current)==null?void 0:V.disconnect()}},[C.length,_]),q.useEffect(()=>{const P=i.current;if(P)return N(),P.addEventListener("scroll",N,{passive:!0}),window.addEventListener("resize",N,{passive:!0}),()=>{P.removeEventListener("scroll",N),window.removeEventListener("resize",N)}},[N]),q.useEffect(()=>{if(o.current&&i.current){const P=i.current,I=o.current,V=P.getBoundingClientRect(),$=I.getBoundingClientRect();($.left<V.left||$.right>V.right)&&I.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},[r]),q.useEffect(()=>{if(!S)return;const P=I=>{I.target.closest("[data-more-menu]")||T(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[S]);const R=v.length>0,O=v.some(P=>P.id===r);return y.jsx("nav",{className:"border-b border-border bg-bg-primary/80 backdrop-blur-sm sticky top-0 z-20",children:y.jsxs("div",{className:"relative flex items-stretch",children:[c&&y.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-8 z-10 pointer-events-none",style:{background:"linear-gradient(to right, var(--color-bg-primary), transparent)"},"aria-hidden":"true"}),y.jsxs("div",{ref:i,className:"flex overflow-x-auto scrollbar-hide flex-1",style:{scrollSnapType:"x mandatory"},role:"tablist","aria-label":"Trip sections",children:[y.jsx("div",{className:"w-4 md:w-8 shrink-0"}),C.map(P=>{const I=r===P.id;return v.some(V=>V.id===P.id),y.jsxs("button",{ref:V=>{l.current[P.id]=V,I&&(o.current=V)},"data-tab-id":P.id,role:"tab","aria-selected":I,"aria-controls":`panel-${P.id}`,onClick:()=>D(P.id),style:{scrollSnapAlign:"start"},className:`
                  relative flex items-center gap-1.5 px-3.5 py-3.5 text-sm font-medium
                  whitespace-nowrap transition-colors duration-150
                  shrink-0
                  ${I?"text-accent":"text-text-muted hover:text-text-secondary"}
                `,children:[y.jsx("span",{className:"text-base leading-none",children:P.emoji}),y.jsx("span",{className:"hidden sm:inline",children:P.label}),I&&y.jsx("span",{className:"absolute bottom-0 left-1.5 right-1.5 h-[2.5px] bg-accent rounded-full","aria-hidden":"true"})]},P.id)}),y.jsx("div",{className:"w-4 md:w-8 shrink-0"})]}),h&&y.jsx("div",{className:"absolute right-0 top-0 bottom-0 pointer-events-none z-10",style:{width:R?"80px":"32px",background:"linear-gradient(to left, var(--color-bg-primary) 40%, transparent)"},"aria-hidden":"true"}),R&&y.jsxs("div",{className:"relative shrink-0 flex items-center pr-3 pl-1 z-20","data-more-menu":!0,children:[y.jsxs("button",{onClick:()=>T(P=>!P),className:`
                flex items-center gap-1 px-2.5 py-1.5 text-xs font-medium rounded-[var(--radius-sm)]
                transition-colors duration-150
                ${O?"text-accent bg-accent/10":"text-text-muted hover:text-text-secondary hover:bg-bg-secondary"}
              `,"aria-haspopup":"true","aria-expanded":S,children:[O?y.jsx("span",{children:(A=v.find(P=>P.id===r))==null?void 0:A.emoji}):y.jsx("span",{children:"More"}),y.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform duration-150 ${S?"rotate-180":""}`,children:y.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),S&&y.jsx("div",{className:"absolute top-full right-0 mt-1 min-w-[140px] bg-bg-primary border border-border rounded-[var(--radius-md)] shadow-lg py-1 z-50",children:v.map(P=>{const I=r===P.id;return y.jsxs("button",{onClick:()=>D(P.id),className:`
                        w-full flex items-center gap-2.5 px-3 py-2 text-sm text-left
                        transition-colors duration-100
                        ${I?"text-accent bg-accent/8 font-medium":"text-text-secondary hover:bg-bg-secondary"}
                      `,children:[y.jsx("span",{children:P.emoji}),y.jsx("span",{children:P.label}),I&&y.jsx("span",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-accent"})]},P.id)})})]})]})})}var uq=xj();const cp=[{city:"Bangkok",country:"Thailand",iso:"TH"},{city:"Phuket",country:"Thailand",iso:"TH"},{city:"Chiang Mai",country:"Thailand",iso:"TH"},{city:"Koh Samui",country:"Thailand",iso:"TH"},{city:"Krabi",country:"Thailand",iso:"TH"},{city:"Pattaya",country:"Thailand",iso:"TH"},{city:"Singapore",country:"Singapore",iso:"SG"},{city:"Bali",country:"Indonesia",iso:"ID"},{city:"Jakarta",country:"Indonesia",iso:"ID"},{city:"Yogyakarta",country:"Indonesia",iso:"ID"},{city:"Lombok",country:"Indonesia",iso:"ID"},{city:"Komodo",country:"Indonesia",iso:"ID"},{city:"Kuala Lumpur",country:"Malaysia",iso:"MY"},{city:"Penang",country:"Malaysia",iso:"MY"},{city:"Langkawi",country:"Malaysia",iso:"MY"},{city:"Kota Kinabalu",country:"Malaysia",iso:"MY"},{city:"Ho Chi Minh City",country:"Vietnam",iso:"VN"},{city:"Hanoi",country:"Vietnam",iso:"VN"},{city:"Da Nang",country:"Vietnam",iso:"VN"},{city:"Hoi An",country:"Vietnam",iso:"VN"},{city:"Ha Long Bay",country:"Vietnam",iso:"VN"},{city:"Siem Reap",country:"Cambodia",iso:"KH"},{city:"Phnom Penh",country:"Cambodia",iso:"KH"},{city:"Luang Prabang",country:"Laos",iso:"LA"},{city:"Vientiane",country:"Laos",iso:"LA"},{city:"Yangon",country:"Myanmar",iso:"MM"},{city:"Mandalay",country:"Myanmar",iso:"MM"},{city:"Manila",country:"Philippines",iso:"PH"},{city:"Cebu",country:"Philippines",iso:"PH"},{city:"Boracay",country:"Philippines",iso:"PH"},{city:"Palawan",country:"Philippines",iso:"PH"},{city:"Davao",country:"Philippines",iso:"PH"},{city:"Siargao",country:"Philippines",iso:"PH"},{city:"Tokyo",country:"Japan",iso:"JP"},{city:"Osaka",country:"Japan",iso:"JP"},{city:"Kyoto",country:"Japan",iso:"JP"},{city:"Hiroshima",country:"Japan",iso:"JP"},{city:"Nara",country:"Japan",iso:"JP"},{city:"Sapporo",country:"Japan",iso:"JP"},{city:"Fukuoka",country:"Japan",iso:"JP"},{city:"Seoul",country:"South Korea",iso:"KR"},{city:"Busan",country:"South Korea",iso:"KR"},{city:"Jeju",country:"South Korea",iso:"KR"},{city:"Taipei",country:"Taiwan",iso:"TW"},{city:"Tainan",country:"Taiwan",iso:"TW"},{city:"Hong Kong",country:"Hong Kong",iso:"HK"},{city:"Macau",country:"Macau",iso:"MO"},{city:"Beijing",country:"China",iso:"CN"},{city:"Shanghai",country:"China",iso:"CN"},{city:"Chengdu",country:"China",iso:"CN"},{city:"Xi'an",country:"China",iso:"CN"},{city:"Guilin",country:"China",iso:"CN"},{city:"Mumbai",country:"India",iso:"IN"},{city:"New Delhi",country:"India",iso:"IN"},{city:"Agra",country:"India",iso:"IN"},{city:"Jaipur",country:"India",iso:"IN"},{city:"Goa",country:"India",iso:"IN"},{city:"Kerala",country:"India",iso:"IN"},{city:"Varanasi",country:"India",iso:"IN"},{city:"Colombo",country:"Sri Lanka",iso:"LK"},{city:"Kandy",country:"Sri Lanka",iso:"LK"},{city:"Kathmandu",country:"Nepal",iso:"NP"},{city:"Pokhara",country:"Nepal",iso:"NP"},{city:"Dhaka",country:"Bangladesh",iso:"BD"},{city:"Maldives",country:"Maldives",iso:"MV"},{city:"Dubai",country:"UAE",iso:"AE"},{city:"Abu Dhabi",country:"UAE",iso:"AE"},{city:"Doha",country:"Qatar",iso:"QA"},{city:"Istanbul",country:"Turkey",iso:"TR"},{city:"Cappadocia",country:"Turkey",iso:"TR"},{city:"Antalya",country:"Turkey",iso:"TR"},{city:"Bodrum",country:"Turkey",iso:"TR"},{city:"Tel Aviv",country:"Israel",iso:"IL"},{city:"Jerusalem",country:"Israel",iso:"IL"},{city:"Amman",country:"Jordan",iso:"JO"},{city:"Petra",country:"Jordan",iso:"JO"},{city:"Muscat",country:"Oman",iso:"OM"},{city:"Riyadh",country:"Saudi Arabia",iso:"SA"},{city:"Beirut",country:"Lebanon",iso:"LB"},{city:"Paris",country:"France",iso:"FR"},{city:"Nice",country:"France",iso:"FR"},{city:"Lyon",country:"France",iso:"FR"},{city:"Marseille",country:"France",iso:"FR"},{city:"London",country:"UK",iso:"GB"},{city:"Edinburgh",country:"UK",iso:"GB"},{city:"Manchester",country:"UK",iso:"GB"},{city:"Dublin",country:"Ireland",iso:"IE"},{city:"Amsterdam",country:"Netherlands",iso:"NL"},{city:"Brussels",country:"Belgium",iso:"BE"},{city:"Berlin",country:"Germany",iso:"DE"},{city:"Munich",country:"Germany",iso:"DE"},{city:"Hamburg",country:"Germany",iso:"DE"},{city:"Frankfurt",country:"Germany",iso:"DE"},{city:"Vienna",country:"Austria",iso:"AT"},{city:"Salzburg",country:"Austria",iso:"AT"},{city:"Zurich",country:"Switzerland",iso:"CH"},{city:"Geneva",country:"Switzerland",iso:"CH"},{city:"Interlaken",country:"Switzerland",iso:"CH"},{city:"Grindelwald",country:"Switzerland",iso:"CH"},{city:"Zermatt",country:"Switzerland",iso:"CH"},{city:"Lucerne",country:"Switzerland",iso:"CH"},{city:"Bern",country:"Switzerland",iso:"CH"},{city:"Rome",country:"Italy",iso:"IT"},{city:"Milan",country:"Italy",iso:"IT"},{city:"Venice",country:"Italy",iso:"IT"},{city:"Florence",country:"Italy",iso:"IT"},{city:"Naples",country:"Italy",iso:"IT"},{city:"Amalfi Coast",country:"Italy",iso:"IT"},{city:"Sicily",country:"Italy",iso:"IT"},{city:"Barcelona",country:"Spain",iso:"ES"},{city:"Madrid",country:"Spain",iso:"ES"},{city:"Seville",country:"Spain",iso:"ES"},{city:"Valencia",country:"Spain",iso:"ES"},{city:"Ibiza",country:"Spain",iso:"ES"},{city:"Mallorca",country:"Spain",iso:"ES"},{city:"Lisbon",country:"Portugal",iso:"PT"},{city:"Porto",country:"Portugal",iso:"PT"},{city:"Algarve",country:"Portugal",iso:"PT"},{city:"Athens",country:"Greece",iso:"GR"},{city:"Santorini",country:"Greece",iso:"GR"},{city:"Mykonos",country:"Greece",iso:"GR"},{city:"Crete",country:"Greece",iso:"GR"},{city:"Rhodes",country:"Greece",iso:"GR"},{city:"Corfu",country:"Greece",iso:"GR"},{city:"Copenhagen",country:"Denmark",iso:"DK"},{city:"Stockholm",country:"Sweden",iso:"SE"},{city:"Oslo",country:"Norway",iso:"NO"},{city:"Helsinki",country:"Finland",iso:"FI"},{city:"Reykjavik",country:"Iceland",iso:"IS"},{city:"Prague",country:"Czech Republic",iso:"CZ"},{city:"Budapest",country:"Hungary",iso:"HU"},{city:"Warsaw",country:"Poland",iso:"PL"},{city:"Krakow",country:"Poland",iso:"PL"},{city:"Tallinn",country:"Estonia",iso:"EE"},{city:"Riga",country:"Latvia",iso:"LV"},{city:"Vilnius",country:"Lithuania",iso:"LT"},{city:"Dubrovnik",country:"Croatia",iso:"HR"},{city:"Split",country:"Croatia",iso:"HR"},{city:"Zagreb",country:"Croatia",iso:"HR"},{city:"Ljubljana",country:"Slovenia",iso:"SI"},{city:"Bratislava",country:"Slovakia",iso:"SK"},{city:"Bucharest",country:"Romania",iso:"RO"},{city:"Sofia",country:"Bulgaria",iso:"BG"},{city:"Sarajevo",country:"Bosnia",iso:"BA"},{city:"Moscow",country:"Russia",iso:"RU"},{city:"St. Petersburg",country:"Russia",iso:"RU"},{city:"New York",country:"USA",iso:"US"},{city:"Los Angeles",country:"USA",iso:"US"},{city:"Chicago",country:"USA",iso:"US"},{city:"San Francisco",country:"USA",iso:"US"},{city:"Miami",country:"USA",iso:"US"},{city:"Las Vegas",country:"USA",iso:"US"},{city:"New Orleans",country:"USA",iso:"US"},{city:"Washington DC",country:"USA",iso:"US"},{city:"Boston",country:"USA",iso:"US"},{city:"Seattle",country:"USA",iso:"US"},{city:"Hawaii",country:"USA",iso:"US"},{city:"Toronto",country:"Canada",iso:"CA"},{city:"Vancouver",country:"Canada",iso:"CA"},{city:"Montreal",country:"Canada",iso:"CA"},{city:"Quebec City",country:"Canada",iso:"CA"},{city:"Mexico City",country:"Mexico",iso:"MX"},{city:"Cancn",country:"Mexico",iso:"MX"},{city:"Tulum",country:"Mexico",iso:"MX"},{city:"Oaxaca",country:"Mexico",iso:"MX"},{city:"Guadalajara",country:"Mexico",iso:"MX"},{city:"Havana",country:"Cuba",iso:"CU"},{city:"San Jos",country:"Costa Rica",iso:"CR"},{city:"Cartagena",country:"Colombia",iso:"CO"},{city:"Bogot",country:"Colombia",iso:"CO"},{city:"Medelln",country:"Colombia",iso:"CO"},{city:"Panama City",country:"Panama",iso:"PA"},{city:"Rio de Janeiro",country:"Brazil",iso:"BR"},{city:"So Paulo",country:"Brazil",iso:"BR"},{city:"Salvador",country:"Brazil",iso:"BR"},{city:"Buenos Aires",country:"Argentina",iso:"AR"},{city:"Patagonia",country:"Argentina",iso:"AR"},{city:"Mendoza",country:"Argentina",iso:"AR"},{city:"Lima",country:"Peru",iso:"PE"},{city:"Cusco",country:"Peru",iso:"PE"},{city:"Machu Picchu",country:"Peru",iso:"PE"},{city:"Santiago",country:"Chile",iso:"CL"},{city:"Valparaso",country:"Chile",iso:"CL"},{city:"Quito",country:"Ecuador",iso:"EC"},{city:"Galpagos",country:"Ecuador",iso:"EC"},{city:"Montevideo",country:"Uruguay",iso:"UY"},{city:"La Paz",country:"Bolivia",iso:"BO"},{city:"Cairo",country:"Egypt",iso:"EG"},{city:"Luxor",country:"Egypt",iso:"EG"},{city:"Sharm el-Sheikh",country:"Egypt",iso:"EG"},{city:"Marrakech",country:"Morocco",iso:"MA"},{city:"Casablanca",country:"Morocco",iso:"MA"},{city:"Fes",country:"Morocco",iso:"MA"},{city:"Cape Town",country:"South Africa",iso:"ZA"},{city:"Johannesburg",country:"South Africa",iso:"ZA"},{city:"Nairobi",country:"Kenya",iso:"KE"},{city:"Zanzibar",country:"Tanzania",iso:"TZ"},{city:"Serengeti",country:"Tanzania",iso:"TZ"},{city:"Accra",country:"Ghana",iso:"GH"},{city:"Lagos",country:"Nigeria",iso:"NG"},{city:"Addis Ababa",country:"Ethiopia",iso:"ET"},{city:"Sydney",country:"Australia",iso:"AU"},{city:"Melbourne",country:"Australia",iso:"AU"},{city:"Brisbane",country:"Australia",iso:"AU"},{city:"Perth",country:"Australia",iso:"AU"},{city:"Cairns",country:"Australia",iso:"AU"},{city:"Auckland",country:"New Zealand",iso:"NZ"},{city:"Queenstown",country:"New Zealand",iso:"NZ"},{city:"Christchurch",country:"New Zealand",iso:"NZ"},{city:"Suva",country:"Fiji",iso:"FJ"},{city:"Nadi",country:"Fiji",iso:"FJ"},{city:"Papeete",country:"French Polynesia",iso:"PF"},{city:"Bora Bora",country:"French Polynesia",iso:"PF"}];function j1(t){return!t||t.length!==2?"":String.fromCodePoint(127462+t.toUpperCase().charCodeAt(0)-65,127462+t.toUpperCase().charCodeAt(1)-65)}function jP(t){return j1(t.iso)}const WD=Object.fromEntries(cp.map(t=>[t.country,j1(t.iso)]));function R1(t,e,n){const r=t.trim(),i=e.trim(),o=cp.find(l=>l.city.toLowerCase()===r.toLowerCase());if(o)return{city:r,country:o.country,flag:j1(o.iso)};const s=WD[i]||n||"";return{city:r,country:i,flag:s}}function HD({value:t,country:e="",flag:n="",onChange:r,placeholder:i="City",className:o="",autoFocus:s=!1}){const[l,c]=q.useState(t||""),[f,h]=q.useState(!1),[m,v]=q.useState({top:0,left:0}),x=q.useRef(null);q.useEffect(()=>{t===""?c(""):t&&t!==l&&c(t)},[t]),q.useLayoutEffect(()=>{if(!f||!x.current)return;const N=()=>{if(!x.current)return;const R=x.current.getBoundingClientRect();v({top:R.bottom+4,left:R.left})};return N(),window.addEventListener("scroll",N,!0),window.addEventListener("resize",N),()=>{window.removeEventListener("scroll",N,!0),window.removeEventListener("resize",N)}},[f]);const S=q.useMemo(()=>{if(!l.trim())return[];const N=l.toLowerCase(),R=cp.filter(j=>j.city.toLowerCase().startsWith(N)),O=cp.filter(j=>!j.city.toLowerCase().startsWith(N)&&(j.city.toLowerCase().includes(N)||j.country.toLowerCase().startsWith(N)));return[...R,...O].slice(0,8)},[l]),T=N=>{const R=jP(N);c(N.city),h(!1),r({city:N.city,country:N.country,flag:R})},_=N=>{const R=N.target.value;c(R),h(!0),r({city:R,country:e,flag:n})},C=()=>{setTimeout(()=>{if(h(!1),l.trim()){const N=R1(l,e,n);(N.flag!==n||N.country!==e)&&(c(N.city),r(N))}},150)},D=N=>{if(N.key==="Escape"){h(!1);return}N.key==="Enter"&&S.length>0&&(N.preventDefault(),T(S[0])),N.key==="ArrowDown"&&S.length>0&&(N.preventDefault(),h(!0))};return y.jsxs("div",{className:"relative flex-1",children:[y.jsx("input",{ref:x,type:"text",value:l,onChange:_,onFocus:()=>l.trim().length>0&&h(!0),onBlur:C,onKeyDown:D,placeholder:i,autoComplete:"off",autoFocus:s,className:`w-full px-3 py-2 bg-bg-input border border-border rounded-[var(--radius-sm)]
                   text-text-primary placeholder:text-text-muted text-sm
                   focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors
                   ${o}`}),f&&S.length>0&&uq.createPortal(y.jsx("ul",{style:{position:"fixed",top:m.top,left:m.left,minWidth:"260px",width:"max-content",maxWidth:"340px"},className:`z-[9999] bg-bg-primary border border-border rounded-[var(--radius-md)]
                     shadow-xl max-h-52 overflow-y-auto`,children:S.map((N,R)=>y.jsx("li",{children:y.jsxs("button",{type:"button",onClick:()=>T(N),className:`w-full flex items-center gap-3 px-3 py-2.5 text-left
                           hover:bg-bg-hover transition-colors`,children:[y.jsx("span",{className:"text-lg flex-shrink-0 w-7 text-center",children:jP(N)}),y.jsxs("span",{className:"flex flex-col min-w-0",children:[y.jsx("span",{className:"text-sm font-semibold text-text-primary leading-tight",children:N.city}),y.jsx("span",{className:"text-xs text-text-muted leading-tight mt-0.5",children:N.country})]})]})},R))}),document.body)]})}const lq=["","","","","","","","","","","","","","","","","","","",""],cq=[{emoji:"",label:"Flight"},{emoji:"",label:"Hotel"},{emoji:"",label:"Food"},{emoji:"",label:"Sightseeing"},{emoji:"",label:"Activity"},{emoji:"",label:"Shopping"},{emoji:"",label:"Music"},{emoji:"",label:"Transport"},{emoji:"",label:"Beach"},{emoji:"",label:"Temple"},{emoji:"",label:"Nightlife"},{emoji:"",label:"Photo"},{emoji:"",label:"Spa"},{emoji:"",label:"Walk"},{emoji:"",label:"Show"},{emoji:"",label:"Other"}],GD=4,RP=[{name:"Flights",emoji:""},{name:"Accommodation",emoji:""},{name:"Food & Dining",emoji:""},{name:"Activities",emoji:""},{name:"Transport",emoji:""},{name:"Shopping",emoji:""},{name:"Other",emoji:""}];function fq({currentStep:t}){return y.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:Array.from({length:GD},(e,n)=>{const r=n+1,i=r===t,o=r<t;return y.jsxs("div",{className:"flex items-center gap-2",children:[n>0&&y.jsx("div",{className:`w-8 h-[2px] rounded-full transition-colors duration-300 ${o?"bg-accent":"bg-border"}`}),y.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold transition-all duration-300
              ${i?"bg-accent text-text-inverse ring-4 ring-accent/20":o?"bg-accent text-text-inverse":"bg-bg-secondary text-text-muted border border-border"}`,children:o?y.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("polyline",{points:"20 6 9 17 4 12"})}):r})]},r)})})}function dq({form:t,setForm:e}){const[n,r]=q.useState(""),{profiles:i}=ol(),o=l=>{const c=l.match(new RegExp("\\p{Emoji}","u"));c?(e(f=>({...f,emoji:c[0]})),r(c[0])):r(l)},s=l=>{e(c=>{const f=c.travelerIds||[],h=f.includes(l)?f.filter(m=>m!==l):[...f,l];return{...c,travelerIds:h,travelers:Math.max(h.length,1)}})};return y.jsxs("div",{className:"space-y-5 animate-fade-in",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Name your adventure"}),y.jsx("p",{className:"text-sm text-text-muted",children:"What should we call this trip?"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Trip Name"}),y.jsx("input",{type:"text",value:t.name,onChange:l=>e(c=>({...c,name:l.target.value})),placeholder:"e.g. Summer in Europe",className:`w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)]
                     text-text-primary placeholder:text-text-muted
                     focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors`,autoFocus:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Trip Emoji"}),y.jsx("div",{className:"grid grid-cols-10 gap-1.5 mb-2",children:lq.map(l=>y.jsx("button",{type:"button",onClick:()=>{e(c=>({...c,emoji:l})),r("")},className:`w-9 h-9 flex items-center justify-center text-lg rounded-[var(--radius-sm)] transition-all duration-150
                ${t.emoji===l&&!n?"bg-accent/15 ring-2 ring-accent scale-110":"bg-bg-secondary hover:bg-bg-hover"}`,children:l},l))}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-2xl w-9 h-9 flex items-center justify-center border border-border rounded-[var(--radius-sm)] bg-bg-secondary",children:t.emoji}),y.jsx("input",{type:"text",value:n,onChange:l=>o(l.target.value),placeholder:"Or type any emoji",className:`flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-md)]
                       text-text-primary placeholder:text-text-muted
                       focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors`})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Travelers"}),i.length>0?y.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(l=>{const c=(t.travelerIds||[]).includes(l.id);return y.jsxs("button",{type:"button",onClick:()=>s(l.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-[var(--radius-pill)] border text-sm transition-all duration-150
                    ${c?"bg-accent/10 border-accent/40 text-text-primary":"bg-bg-secondary border-border text-text-muted hover:border-accent/30 hover:text-text-secondary"}`,children:[y.jsx(Sm,{profile:l,size:22}),y.jsx("span",{className:"font-medium",children:l.name}),c&&y.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-accent",children:y.jsx("polyline",{points:"20 6 9 17 4 12"})})]},l.id)})}):y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{type:"button",onClick:()=>e(l=>({...l,travelers:Math.max(1,l.travelers-1)})),disabled:t.travelers<=1,className:"w-9 h-9 flex items-center justify-center rounded-[var(--radius-md)] bg-bg-secondary border border-border text-text-secondary hover:bg-bg-hover disabled:opacity-30 disabled:cursor-not-allowed transition-colors text-lg font-medium",children:"-"}),y.jsx("span",{className:"w-10 text-center text-lg font-heading font-bold text-text-primary",children:t.travelers}),y.jsx("button",{type:"button",onClick:()=>e(l=>({...l,travelers:Math.min(20,l.travelers+1)})),disabled:t.travelers>=20,className:"w-9 h-9 flex items-center justify-center rounded-[var(--radius-md)] bg-bg-secondary border border-border text-text-secondary hover:bg-bg-hover disabled:opacity-30 disabled:cursor-not-allowed transition-colors text-lg font-medium",children:"+"}),y.jsx("span",{className:"text-sm text-text-muted",children:t.travelers===1?"traveler":"travelers"})]}),i.length>0&&(t.travelerIds||[]).length===0&&y.jsx("p",{className:"text-xs text-text-muted mt-1.5",children:"Select who's coming on this trip"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Start Date"}),y.jsx("input",{type:"date",value:t.startDate,onChange:l=>e(c=>({...c,startDate:l.target.value})),className:"w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)] text-text-primary focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"End Date"}),y.jsx("input",{type:"date",value:t.endDate,min:t.startDate||void 0,onChange:l=>e(c=>({...c,endDate:l.target.value})),className:"w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)] text-text-primary focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]})]})]})}function hq({form:t,setForm:e}){const n=()=>{e(s=>({...s,destinations:[...s.destinations,{city:"",country:"",flag:""}]}))},r=(s,l)=>{e(c=>{const f=[...c.destinations];return f[s]={...f[s],...l},{...c,destinations:f}})},i=(s,l)=>{const c=WD[l.trim()]||t.destinations[s].flag||"";r(s,{country:l,flag:c})},o=s=>{t.destinations.length<=1||e(l=>({...l,destinations:l.destinations.filter((c,f)=>f!==s)}))};return y.jsxs("div",{className:"space-y-5 animate-fade-in",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Where are you going?"}),y.jsx("p",{className:"text-sm text-text-muted",children:"Add your destinations in order of visit."})]}),y.jsx("div",{className:"space-y-3",children:t.destinations.map((s,l)=>y.jsxs("div",{className:"flex items-start gap-2 p-3 bg-bg-secondary border border-border rounded-[var(--radius-md)]",children:[y.jsx("div",{className:"w-6 h-6 rounded-full bg-accent/10 text-accent flex items-center justify-center text-xs font-semibold shrink-0 mt-2",children:l+1}),y.jsx("span",{className:"text-xl flex-shrink-0 mt-1.5 w-7 text-center",children:s.flag||y.jsx("span",{className:"text-text-muted text-sm",children:""})}),y.jsx(HD,{value:s.city,country:s.country,flag:s.flag,onChange:c=>r(l,c)}),y.jsx("input",{type:"text",value:s.country,onChange:c=>i(l,c.target.value),placeholder:"Country",className:`flex-1 px-3 py-2 bg-bg-input border border-border rounded-[var(--radius-sm)]
                         text-text-primary placeholder:text-text-muted text-sm
                         focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors`}),y.jsx("button",{type:"button",onClick:()=>o(l),disabled:t.destinations.length<=1,className:"p-1.5 rounded-[var(--radius-sm)] text-text-muted hover:text-danger hover:bg-danger/10 disabled:opacity-0 disabled:pointer-events-none transition-all shrink-0 mt-0.5",children:y.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),y.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},l))}),y.jsxs("button",{type:"button",onClick:n,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 border border-dashed border-border-strong rounded-[var(--radius-md)] text-sm text-text-muted font-medium hover:text-accent hover:border-accent/40 hover:bg-accent-muted/20 transition-colors",children:[y.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),y.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Destination"]})]})}function pq({form:t,setForm:e}){const n=(l,c,f)=>{e(h=>{const m=[...h.budgetCategories];return m[l]={...m[l],[c]:Number(f)||0},{...h,budgetCategories:m}})},r=t.budgetCategories.reduce((l,c)=>l+(c.min||0),0),i=t.budgetCategories.reduce((l,c)=>l+(c.max||0),0),o=sp.find(l=>l.code===t.currency),s=o?o.symbol:t.currency;return y.jsxs("div",{className:"space-y-5 animate-fade-in",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Set your budget"}),y.jsx("p",{className:"text-sm text-text-muted",children:"Optional. You can always add this later."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Currency"}),y.jsx("select",{value:t.currency,onChange:l=>e(c=>({...c,currency:l.target.value})),className:"w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)] text-text-primary focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors appearance-none cursor-pointer",children:sp.map(l=>y.jsxs("option",{value:l.code,children:[l.symbol," ",l.code,"  ",l.name]},l.code))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Budget Categories"}),y.jsx("div",{className:"space-y-2",children:t.budgetCategories.map((l,c)=>y.jsxs("div",{className:"p-2.5 bg-bg-secondary border border-border rounded-[var(--radius-sm)]",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("span",{className:"text-base w-6 text-center",children:l.emoji}),y.jsx("span",{className:"text-sm text-text-secondary font-medium",children:l.name})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:items-center sm:gap-2",children:[y.jsxs("div",{className:"relative",children:[y.jsx("span",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-xs text-text-muted",children:s}),y.jsx("input",{type:"number",min:"0",value:l.min||"",onChange:f=>n(c,"min",f.target.value),placeholder:"Min",className:"w-full pl-7 pr-2 py-1.5 bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary text-sm text-right focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("span",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-xs text-text-muted",children:s}),y.jsx("input",{type:"number",min:"0",value:l.max||"",onChange:f=>n(c,"max",f.target.value),placeholder:"Max",className:"w-full pl-7 pr-2 py-1.5 bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary text-sm text-right focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]}),l.max>0&&y.jsx("div",{className:"col-span-2 sm:flex-1",children:y.jsx("input",{type:"range",min:"0",max:Math.max(l.max*2,1e5),step:"1000",value:l.max,onChange:f=>n(c,"max",f.target.value),className:"w-full accent-[var(--color-accent)] h-1.5 rounded-full cursor-pointer"})})]})]},c))})]}),(r>0||i>0)&&y.jsxs("div",{className:"flex justify-between items-center px-3 py-2.5 bg-accent-muted/30 rounded-[var(--radius-md)] border border-accent/10",children:[y.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Estimated Total"}),y.jsxs("span",{className:"text-sm font-heading font-semibold text-accent",children:[s,r.toLocaleString(),"  ",s,i.toLocaleString()]})]})]})}function mq({form:t}){const{profiles:e}=ol(),n=sp.find(c=>c.code===t.currency),r=n?n.symbol:t.currency,i=t.budgetCategories.reduce((c,f)=>c+(f.min||0),0),o=t.budgetCategories.reduce((c,f)=>c+(f.max||0),0),s=t.destinations.filter(c=>c.city.trim()),l=e.filter(c=>(t.travelerIds||[]).includes(c.id));return y.jsxs("div",{className:"space-y-5 animate-fade-in",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Review your trip"}),y.jsx("p",{className:"text-sm text-text-muted",children:"Everything look good? You can edit details later."})]}),y.jsxs("div",{className:"bg-bg-secondary border border-border rounded-[var(--radius-lg)] overflow-hidden",children:[y.jsx("div",{className:"px-5 py-4 border-b border-border",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-4xl",children:t.emoji}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-heading text-lg font-bold text-text-primary",children:t.name||"Untitled Trip"}),l.length>0?y.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[l.map(c=>y.jsx(Sm,{profile:c,size:22,ring:!0},c.id)),y.jsx("span",{className:"text-xs text-text-muted ml-1",children:l.map(c=>c.name).join(", ")})]}):y.jsxs("p",{className:"text-sm text-text-muted",children:[t.travelers," ",t.travelers===1?"traveler":"travelers"]})]})]})}),y.jsxs("div",{className:"px-5 py-4 space-y-4",children:[(t.startDate||t.endDate)&&y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider font-medium mb-1",children:"Dates"}),y.jsxs("p",{className:"text-sm text-text-primary",children:[t.startDate?up(t.startDate):"TBD","  ",t.endDate?up(t.endDate):"TBD"]})]}),s.length>0&&y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider font-medium mb-1.5",children:"Destinations"}),y.jsx("div",{className:"flex flex-wrap gap-1.5",children:s.map((c,f)=>y.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 text-xs bg-bg-hover rounded-[var(--radius-pill)] text-text-secondary",children:[c.flag||""," ",c.city,c.country?`, ${c.country}`:""]},f))})]}),(i>0||o>0)&&y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider font-medium mb-1",children:"Budget"}),y.jsxs("p",{className:"text-sm text-text-primary",children:[r,i.toLocaleString(),"  ",r,o.toLocaleString()," ",t.currency]})]})]})]})]})}function gq({isOpen:t,onClose:e}){const{dispatch:n,showToast:r}=Gt(),[i,o]=q.useState(1),[s,l]=q.useState(()=>c());function c(){return{name:"",emoji:"",travelers:1,travelerIds:[],startDate:"",endDate:"",destinations:[{city:"",country:"",flag:""}],currency:"PHP",budgetCategories:RP.map(v=>({...v,min:0,max:0}))}}const f=()=>{o(1),l(c()),e()},h=q.useMemo(()=>i===1?s.name.trim().length>0:i===2?s.destinations.some(v=>v.city.trim().length>0):!0,[i,s]),m=()=>{const v=s.destinations.filter(C=>C.city.trim()).map(C=>R1(C.city,C.country,C.flag)),x=new Map;v.forEach(C=>{const D=C.city.toLowerCase();x.has(D)||x.set(D,{id:Date.now().toString(36)+Math.random().toString(36).slice(2,8)+x.size,city:C.city,country:C.country,flag:C.flag||"",highlights:"",mustDo:"",weather:"",currencyTip:"",notes:""})});const S=Array.from(x.values()),T=s.budgetCategories.filter(C=>C.min>0||C.max>0).map(C=>({id:Date.now().toString(36)+Math.random().toString(36).slice(2,8),name:C.name,emoji:C.emoji,min:C.min,max:C.max,actual:0})),_=$9({name:s.name.trim()||"New Trip",emoji:s.emoji,travelers:s.travelers,travelerIds:s.travelerIds||[],startDate:s.startDate,endDate:s.endDate,destinations:v,cities:S,currency:s.currency,budget:T});n({type:pe.ADD_TRIP,payload:_}),r(`"${_.name}" created! Let's plan this trip. `),f()};return y.jsxs(k1,{isOpen:t,onClose:f,maxWidth:"max-w-lg",children:[y.jsxs("div",{className:"px-6 pt-6 pb-2",children:[y.jsx("button",{type:"button",onClick:f,className:"absolute top-4 right-4 p-1.5 rounded-[var(--radius-sm)] text-text-muted hover:text-text-primary hover:bg-bg-hover transition-colors z-10",children:y.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),y.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),y.jsx(fq,{currentStep:i}),y.jsxs("div",{className:"min-h-[320px]",children:[i===1&&y.jsx(dq,{form:s,setForm:l}),i===2&&y.jsx(hq,{form:s,setForm:l}),i===3&&y.jsx(pq,{form:s,setForm:l}),i===4&&y.jsx(mq,{form:s})]})]}),y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-border mt-2",children:[y.jsx("div",{children:i>1&&y.jsxs("button",{type:"button",onClick:()=>o(v=>v-1),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary hover:bg-bg-hover rounded-[var(--radius-md)] transition-colors",children:[y.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back"]})}),y.jsxs("div",{className:"flex items-center gap-2",children:[i===3&&y.jsx("button",{type:"button",onClick:()=>{l(v=>({...v,budgetCategories:RP.map(x=>({...x,min:0,max:0}))})),o(4)},className:"px-4 py-2 text-sm font-medium text-text-muted hover:text-text-secondary hover:bg-bg-hover rounded-[var(--radius-md)] transition-colors",children:"Skip"}),i<GD?y.jsxs("button",{type:"button",onClick:()=>o(v=>v+1),disabled:!h,className:"flex items-center gap-1.5 px-5 py-2 text-sm font-medium bg-accent hover:bg-accent-hover text-text-inverse rounded-[var(--radius-md)] disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200",children:["Next",y.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("polyline",{points:"9 18 15 12 9 6"})})]}):y.jsxs("button",{type:"button",onClick:m,className:"flex items-center gap-2 px-6 py-2.5 text-sm font-semibold bg-accent hover:bg-accent-hover text-text-inverse rounded-[var(--radius-md)] transition-all duration-200 active:scale-[0.98]",children:[y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),y.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Create Trip"]})]})]})]})}function yq({message:t,type:e="success",visible:n}){if(!t)return null;const r={success:"bg-success/10 text-success border-success/20",error:"bg-danger/10 text-danger border-danger/20",info:"bg-info/10 text-info border-info/20",warning:"bg-warning/10 text-warning border-warning/20"};return y.jsx("div",{className:`
      fixed bottom-6 left-1/2 -translate-x-1/2 z-[60]
      px-5 py-3 rounded-[var(--radius-lg)] border
      font-medium text-sm
      ${r[e]||r.success}
      ${n?"animate-toast-in":"animate-toast-out pointer-events-none"}
    `,children:t})}const vq="https://wanderplan-ai.valentin-bonite.workers.dev/ai";function xq(t){var C,D,N,R,O,j,A;if(!t)return`You are Wanda, a friendly AI travel assistant built into Wanderplan, a trip planning app.
Help users plan trips, suggest activities, recommend restaurants, give packing advice, and optimize itineraries.
Be concise, warm, and practical. Use emojis sparingly. The user hasn't selected a trip yet, so give general travel advice.`;const e=((C=t.cities)==null?void 0:C.map(P=>`${P.flag} ${P.city}, ${P.country}`).join("  "))||"Not specified",n=t.travelers||1,r=t.startDate||"TBD",i=t.endDate||"TBD",o=((D=t.itinerary)==null?void 0:D.length)||0;(N=t.itinerary)!=null&&N.reduce((P,I)=>{var V;return P+(((V=I.activities)==null?void 0:V.length)||0)},0);const s=(R=t.budget)!=null&&R.length?t.budget.map(P=>`${P.emoji||""} ${P.name}: ${P.max} budget (${P.actual||0} spent)`).join(", "):"No budget set",l=((O=t.budget)==null?void 0:O.reduce((P,I)=>P+(I.max||0),0))||0,c=((j=t.budget)==null?void 0:j.reduce((P,I)=>P+(I.actual||0),0))||0,f=t.bookings||[],h=f.filter(P=>P.status==="booked").length,m=f.filter(P=>P.status!=="booked").length,v=t.todos||[],x=v.filter(P=>P.done).length,S=t.packingList||[],T=S.filter(P=>P.packed).length,_=((A=t.itinerary)==null?void 0:A.slice(0,5).map(P=>{var I;return`Day ${P.dayNumber} (${P.location||"location TBD"}): ${((I=P.activities)==null?void 0:I.map(V=>V.name).join(", "))||"no activities yet"}`}).join(`
`))||"No itinerary yet";return`You are Wanda, a friendly AI travel assistant built into Wanderplan.
You are helping plan this specific trip:

 TRIP: "${t.name||"Unnamed Trip"}" ${t.emoji||""}
 Route: ${e}
 Dates: ${r}  ${i} (${o} days planned)
 Travelers: ${n}

 BUDGET:
${s}
Total: ${l} budget, ${c} spent, ${l-c} remaining

 BOOKINGS: ${h} confirmed, ${m} pending
 TODOS: ${x}/${v.length} done
 PACKING: ${T}/${S.length} packed

 ITINERARY PREVIEW:
${_}

Your role:
- Give specific, actionable advice tailored to THIS trip's cities, budget, and timeline
- Be concise  2-4 sentences per response unless the user asks for a detailed list
- Use emojis sparingly (1-2 per response max)
- When suggesting activities, consider the budget remaining (${l-c})
- If the user asks to "optimize" or "improve" something, give concrete suggestions
- Be warm and conversational, like a knowledgeable travel-savvy friend`}async function bq(t,e,n){var c,f,h,m,v,x;const i={contents:[...e.map(S=>({role:S.role,parts:[{text:S.text}]})),{role:"user",parts:[{text:n}]}],systemInstruction:{parts:[{text:t}]},generationConfig:{temperature:.8,maxOutputTokens:512}},o=await fetch(vq,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok){const S=await o.json().catch(()=>({}));throw new Error(((c=S==null?void 0:S.error)==null?void 0:c.message)||`Gemini API error ${o.status}`)}const l=(x=(v=(m=(h=(f=(await o.json()).candidates)==null?void 0:f[0])==null?void 0:h.content)==null?void 0:m.parts)==null?void 0:v[0])==null?void 0:x.text;if(!l)throw new Error("No response from Gemini");return l}const DP=[{label:" Optimize itinerary",text:"Can you review my itinerary and suggest any improvements or optimizations?"},{label:" Restaurant tips",text:"What are the best restaurants or food experiences I should try on this trip?"},{label:" Packing advice",text:"Based on my destinations and dates, what should I make sure to pack?"},{label:" Budget check",text:"How is my budget looking? Any tips to save money or where to splurge?"},{label:" Hidden gems",text:"What are some lesser-known hidden gems or local tips for my destinations?"},{label:" Day plan",text:"Can you suggest a perfect day itinerary for one of my destinations?"}];function _q({msg:t}){const e=t.role==="user";return y.jsxs("div",{className:`flex ${e?"justify-end":"justify-start"} mb-3`,children:[!e&&y.jsx("div",{className:"w-7 h-7 rounded-full bg-accent/10 border border-accent/20 flex items-center justify-center text-sm flex-shrink-0 mr-2 mt-0.5",children:""}),y.jsx("div",{className:`
          max-w-[85%] px-3.5 py-2.5 rounded-2xl text-sm leading-relaxed
          ${e?"bg-accent text-text-inverse rounded-tr-sm":"bg-bg-secondary border border-border text-text-primary rounded-tl-sm"}
        `,children:t.text})]})}function wq(){return y.jsxs("div",{className:"flex justify-start mb-3",children:[y.jsx("div",{className:"w-7 h-7 rounded-full bg-accent/10 border border-accent/20 flex items-center justify-center text-sm flex-shrink-0 mr-2 mt-0.5",children:""}),y.jsxs("div",{className:"bg-bg-secondary border border-border px-4 py-3 rounded-2xl rounded-tl-sm flex items-center gap-1.5",children:[y.jsx("span",{className:"w-1.5 h-1.5 bg-text-muted rounded-full animate-bounce",style:{animationDelay:"0ms"}}),y.jsx("span",{className:"w-1.5 h-1.5 bg-text-muted rounded-full animate-bounce",style:{animationDelay:"150ms"}}),y.jsx("span",{className:"w-1.5 h-1.5 bg-text-muted rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})}function Eq(){const{activeTrip:t}=Gt(),[e,n]=q.useState(!1),[r,i]=q.useState([]),[o,s]=q.useState(""),[l,c]=q.useState(!1),[f,h]=q.useState(null),[m,v]=q.useState(!0),[x,S]=q.useState(!1),T=q.useRef(null),_=q.useRef(null);q.useEffect(()=>{const A=setTimeout(()=>S(!0),200);return()=>clearTimeout(A)},[]),q.useEffect(()=>{var A;(A=T.current)==null||A.scrollIntoView({behavior:"smooth"})},[r,l]),q.useEffect(()=>{e&&setTimeout(()=>{var A;return(A=_.current)==null?void 0:A.focus()},150)},[e]);const C=xq(t);async function D(A){const P=(A||o).trim();if(!P||l)return;s(""),h(null),v(!1);const I={role:"user",text:P},V=[...r,I];i(V),c(!0);try{const B=await bq(C,r,P);i(L=>[...L,{role:"model",text:B}])}catch($){h($.message||"Something went wrong. Try again."),i(B=>B.slice(0,-1))}finally{c(!1)}}function N(A){D(A.text)}function R(A){A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),D())}function O(){i([]),h(null),v(!0)}const j=r.length>0;return y.jsxs(y.Fragment,{children:[x&&y.jsxs("button",{onClick:()=>n(A=>!A),className:`
            fixed bottom-6 right-6 z-40
            flex items-center gap-2 px-4 py-2.5
            rounded-full shadow-lg border border-border
            text-sm font-semibold
            transition-all duration-200 active:scale-95
            animate-bounce-in
            ${e?"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary":"bg-accent hover:bg-accent-hover text-text-inverse"}
          `,title:e?"Close Wanda":"Ask Wanda AI","aria-label":e?"Close AI assistant":"Open AI assistant",children:[y.jsx("span",{className:"text-base leading-none",children:e?"":""}),y.jsx("span",{children:e?"Close":"Ask Wanda"})]}),y.jsxs("div",{className:`
          fixed bottom-20 right-6 z-40
          w-[min(380px,calc(100vw-3rem))]
          bg-bg-primary border border-border rounded-[var(--radius-lg)]
          shadow-2xl flex flex-col
          transition-all duration-300 ease-out
          ${e?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 translate-y-4 pointer-events-none"}
        `,style:{maxHeight:"min(560px, calc(100dvh - 8rem))"},children:[y.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border flex-shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-lg",children:""}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-semibold text-text-primary leading-tight",children:"Wanda"}),y.jsx("p",{className:"text-[10px] text-text-muted leading-tight",children:t?`Knows your ${t.name} trip`:"AI travel assistant"})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[j&&y.jsx("button",{onClick:O,className:"text-xs text-text-muted hover:text-text-secondary transition-colors px-2 py-1 rounded hover:bg-bg-secondary",title:"Clear chat",children:"Clear"}),y.jsx("div",{className:"w-2 h-2 rounded-full bg-success animate-pulse",title:"Connected"})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 min-h-0",children:[!j&&m&&y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-text-muted text-center mb-4 leading-relaxed",children:t?`I know your ${t.emoji||""} ${t.name} trip. Ask me anything!`:"Your AI travel companion. Ask me anything about travel planning!"}),y.jsx("div",{className:"flex flex-wrap gap-1.5",children:DP.map(A=>y.jsx("button",{onClick:()=>N(A),className:`text-xs px-2.5 py-1.5 rounded-full border border-border bg-bg-secondary
                               hover:bg-bg-tertiary hover:border-accent/40 text-text-secondary
                               transition-all duration-150 active:scale-95`,children:A.label},A.label))})]}),r.map((A,P)=>y.jsx(_q,{msg:A},P)),l&&y.jsx(wq,{}),f&&y.jsx("div",{className:"text-xs text-center text-red-400 bg-red-400/10 border border-red-400/20 rounded-lg px-3 py-2 mb-2",children:f}),y.jsx("div",{ref:T})]}),j&&!l&&y.jsx("div",{className:"px-4 pb-2 flex gap-1.5 overflow-x-auto flex-shrink-0 scrollbar-none",children:DP.slice(0,3).map(A=>y.jsx("button",{onClick:()=>N(A),className:`text-[11px] px-2.5 py-1 rounded-full border border-border bg-bg-secondary
                           hover:bg-bg-tertiary text-text-muted whitespace-nowrap
                           transition-all duration-150 active:scale-95 flex-shrink-0`,children:A.label},A.label))}),y.jsxs("div",{className:"px-3 pb-3 pt-1 flex-shrink-0 border-t border-border mt-auto",children:[y.jsxs("div",{className:"flex items-end gap-2 mt-2",children:[y.jsx("textarea",{ref:_,value:o,onChange:A=>s(A.target.value),onKeyDown:R,placeholder:"Ask about your trip",rows:1,className:`
                flex-1 resize-none rounded-[var(--radius-md)] border border-border
                bg-bg-secondary text-text-primary placeholder:text-text-muted
                px-3 py-2 text-sm leading-relaxed
                focus:outline-none focus:border-accent/50 focus:ring-1 focus:ring-accent/20
                transition-all duration-150
                scrollbar-none overflow-hidden
              `,style:{minHeight:"38px",maxHeight:"120px"},onInput:A=>{A.target.style.height="auto",A.target.style.height=Math.min(A.target.scrollHeight,120)+"px"},disabled:l}),y.jsx("button",{onClick:()=>D(),disabled:!o.trim()||l,className:`
                w-9 h-9 flex-shrink-0 rounded-[var(--radius-md)]
                bg-accent hover:bg-accent-hover text-text-inverse
                flex items-center justify-center
                disabled:opacity-40 disabled:cursor-not-allowed
                transition-all duration-150 active:scale-95
              `,"aria-label":"Send message",children:y.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),y.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})})]}),y.jsx("p",{className:"text-[10px] text-text-muted text-center mt-1.5 opacity-60",children:"Powered by Gemini 2.0 Flash  Enter to send"})]})]}),e&&y.jsx("div",{className:"fixed inset-0 z-30 md:hidden",onClick:()=>n(!1)})]})}function Nt({children:t,className:e="",hover:n=!1,onClick:r,padding:i="p-5"}){return y.jsx("div",{onClick:r,className:`
        bg-[var(--color-bg-card)] border border-border rounded-[14px]
        ${n?"hover:border-border-strong cursor-pointer":""}
        transition-colors duration-200
        ${i}
        ${e}
      `,children:t})}function yu({value:t=0,max:e=100,className:n="",colorClass:r="bg-accent",height:i="h-2",showLabel:o=!1,label:s=""}){const l=e>0?Math.min(100,Math.round(t/e*100)):0;return y.jsxs("div",{className:n,children:[(o||s)&&y.jsxs("div",{className:"flex justify-between items-center mb-1.5 text-sm",children:[y.jsx("span",{className:"text-text-secondary",children:s}),y.jsxs("span",{className:"text-text-muted font-medium",children:[t,"/",e]})]}),y.jsx("div",{className:`w-full bg-border rounded-full overflow-hidden ${i}`,children:y.jsx("div",{className:`${i} ${r} rounded-full transition-all duration-700 ease-out`,style:{width:`${l}%`}})})]})}function MP({value:t,label:e}){return y.jsxs("div",{className:"text-center px-4 py-3 bg-bg-hover rounded-[var(--radius-lg)]",children:[y.jsx("div",{className:"text-4xl font-heading font-bold text-text-primary tabular-nums leading-none",children:t}),y.jsx("div",{className:"text-xs text-text-muted uppercase tracking-wider mt-1.5",children:e})]})}function Tq({targetDate:t,label:e}){const n=N1(t);if(!t)return null;if(n.expired)return y.jsxs(Nt,{className:"text-center",children:[y.jsx("p",{className:"text-text-muted text-sm mb-1",children:e}),y.jsx("p",{className:"text-accent font-heading text-lg font-semibold",children:"It's time! "})]});const r=n.days,i=Math.floor(r/7),o=r%7;return y.jsxs(Nt,{className:"text-center",children:[y.jsx("p",{className:"text-text-muted text-sm mb-4",children:e}),y.jsxs("div",{className:"flex justify-center gap-3",children:[i>0&&y.jsx(MP,{value:i,label:i===1?"week":"weeks"}),y.jsx(MP,{value:o,label:o===1?"day":"days"})]}),r===0&&y.jsx("p",{className:"text-xs text-text-muted mt-3",children:"Departing today!"})]})}const Sq=[{emoji:"",title:"Add a Booking",description:"Log flights, hotels, or activities.",tab:"Bookings",accentClass:"bg-info/10 border-info/20 text-info"},{emoji:"",title:"Create a To-Do",description:"Track tasks like visas and vaccines.",tab:"To-Do",accentClass:"bg-accent/10 border-accent/20 text-accent"},{emoji:"",title:"Start Packing",description:"Build your packing checklist.",tab:"Packing",accentClass:"bg-success/10 border-success/20 text-success"}];function Aq({onTabSwitch:t}){return y.jsxs("div",{children:[y.jsx("h3",{className:"font-heading text-sm text-text-muted uppercase tracking-wider mb-3",children:"Quick Start  get your trip ready"}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:Sq.map(e=>y.jsxs("button",{type:"button",onClick:()=>t==null?void 0:t(e.tab),className:`
              group text-left p-4 rounded-[var(--radius-lg)] border
              ${e.accentClass}
              hover:scale-[1.02] active:scale-[0.99]
              transition-all duration-150
            `,children:[y.jsx("div",{className:"text-2xl mb-2",children:e.emoji}),y.jsx("div",{className:"font-semibold text-sm text-text-primary mb-0.5",children:e.title}),y.jsx("div",{className:"text-xs text-text-muted",children:e.description})]},e.tab))})]})}function LP({onTabSwitch:t}){var D,N,R,O,j,A,P;const{activeTrip:e}=Gt(),n=q.useRef(null);if(!e)return null;const r=e,i=C1(r),o=z9(r),s=i===0;q.useMemo(()=>{var I;return((I=r.bookings)==null?void 0:I.find(V=>V.priority))||null},[r.bookings]);const l=R9(r.startDate,r.endDate),c=[...new Set((D=r.destinations)==null?void 0:D.map(I=>I.city))].length,f=((N=r.bookings)==null?void 0:N.filter(I=>I.category==="flight").length)||0,h=((R=r.bookings)==null?void 0:R.filter(I=>["experience","concert"].includes(I.category)).length)||0,m=((O=r.budget)==null?void 0:O.reduce((I,V)=>I+(V.min||0),0))||0,v=((j=r.budget)==null?void 0:j.reduce((I,V)=>I+(V.max||0),0))||0,x=((A=r.budget)==null?void 0:A.reduce((I,V)=>I+(V.actual||0),0))||0,S=q.useMemo(()=>{var $,B;const I=($=r.todos)==null?void 0:$.filter(L=>!L.done).sort((L,Q)=>L.priority==="high"&&Q.priority!=="high"?-1:Q.priority==="high"&&L.priority!=="high"?1:L.dueDate&&Q.dueDate?new Date(L.dueDate)-new Date(Q.dueDate):L.dueDate?-1:1);if((I==null?void 0:I.length)>0)return{type:"todo",item:I[0]};const V=(B=r.bookings)==null?void 0:B.filter(L=>L.status!=="booked").sort((L,Q)=>L.priority&&!Q.priority?-1:Q.priority&&!L.priority?1:0);return(V==null?void 0:V.length)>0?{type:"booking",item:V[0]}:null},[r.todos,r.bookings]),T=i===100?"You're 100% ready. Go enjoy the world. ":i>=75?"Almost there! Just a few more things.":i>=50?"Making good progress. Keep it up!":i>0?"Let's get this trip planned! ":"Nothing tracked yet  start below to build readiness.",_=o.bookings.total+o.todos.total+o.packing.total>0?`Based on ${o.bookings.total} bookings, ${o.todos.total} to-dos, ${o.packing.total} packing items`:"Add bookings, to-dos, and packing items to track readiness",C=()=>{var I;(I=n.current)==null||I.scrollIntoView({behavior:"smooth",block:"start"})};return y.jsxs("div",{className:"space-y-7 animate-fade-in",children:[y.jsx("div",{className:"bg-bg-secondary rounded-[var(--radius-xl)] p-9 relative overflow-hidden border border-border",children:y.jsxs("div",{className:"relative z-10",children:[y.jsxs("h2",{className:"font-heading text-3xl font-bold mb-2 text-text-primary",children:[r.emoji," ",r.name]}),y.jsxs("p",{className:"text-text-muted text-sm",children:[I1(r.startDate,r.endDate),"  ",r.travelers," ",r.travelers===1?"traveler":"travelers"]}),y.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:(P=r.destinations)==null?void 0:P.map((I,V)=>y.jsxs("span",{className:"px-3 py-1 bg-bg-hover rounded-[var(--radius-pill)] text-sm text-text-secondary",children:[I.flag," ",I.city]},V))})]})}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-5",children:[{label:"Total Days",value:l,emoji:""},{label:"Cities",value:c,emoji:""},{label:"Flights",value:f,emoji:""},{label:"Experiences",value:h,emoji:""}].map((I,V)=>y.jsxs(Nt,{className:`text-center delay-${V+1} animate-fade-in-up`,padding:"py-7 px-6",children:[y.jsx("div",{className:"text-3xl mb-2",children:I.emoji}),y.jsx("div",{className:"text-3xl font-heading font-bold text-text-primary",children:I.value}),y.jsx("div",{className:"text-xs text-text-muted mt-1.5 uppercase tracking-wider",children:I.label})]},V))}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[y.jsx("div",{ref:n,children:y.jsx(Nt,{children:y.jsxs("div",{className:"flex items-center gap-5",children:[y.jsx(O1,{value:i,size:96,strokeWidth:7,pulse:s,onClick:C,tooltip:_}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"font-heading text-lg text-text-primary mb-1",children:"Trip Readiness"}),y.jsx("p",{className:"text-sm text-text-muted mb-3",children:T}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(yu,{value:o.bookings.done,max:o.bookings.total,label:"Bookings",showLabel:!0,colorClass:"bg-info",height:"h-1.5"}),y.jsx(yu,{value:o.todos.done,max:o.todos.total,label:"To-Dos",showLabel:!0,colorClass:"bg-accent",height:"h-1.5"}),y.jsx(yu,{value:o.packing.done,max:o.packing.total,label:"Packing",showLabel:!0,colorClass:"bg-success",height:"h-1.5"})]})]})]})})}),y.jsx("div",{className:"space-y-3",children:y.jsx(Tq,{targetDate:r.startDate,label:" Days to departure"})})]}),s&&y.jsx(Aq,{onTabSwitch:t}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[S&&y.jsxs(Nt,{children:[y.jsx("h3",{className:"font-heading text-sm text-text-muted uppercase tracking-wider mb-2",children:"Next Thing to Do"}),y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("span",{className:"text-2xl",children:S.type==="todo"?"":""}),y.jsxs("div",{children:[y.jsx("p",{className:"text-text-primary font-medium",children:S.type==="todo"?S.item.text:S.item.name}),y.jsxs("p",{className:"text-sm text-text-muted mt-0.5",children:[S.type==="todo"?`Category: ${S.item.category}`:`Status: ${S.item.status.replace("_"," ")}`,S.item.dueDate&&`  Due: ${S.item.dueDate}`,S.item.bookByDate&&`  Book by: ${S.item.bookByDate}`]})]})]})]}),v>0&&y.jsxs(Nt,{children:[y.jsx("h3",{className:"font-heading text-sm text-text-muted uppercase tracking-wider mb-2",children:"Budget Snapshot"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-text-secondary",children:"Estimated range"}),y.jsxs("span",{className:"text-text-primary font-medium",children:[sr(m,r.currency),"  ",sr(v,r.currency)]})]}),x>0&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-text-secondary",children:"Spent so far"}),y.jsx("span",{className:`font-medium ${x>v?"text-danger":"text-accent"}`,children:sr(x,r.currency)})]}),y.jsx(yu,{value:x,max:v,colorClass:x>v?"bg-danger":"bg-accent",height:"h-2"})]})]})]})]})]})}function zn({value:t,onSave:e,tag:n="span",className:r="",inputClassName:i="",placeholder:o="Click to edit...",multiline:s=!1}){const[l,c]=q.useState(!1),[f,h]=q.useState(t),m=q.useRef(null);q.useEffect(()=>{var S,T;l&&m.current&&(m.current.focus(),(T=(S=m.current).select)==null||T.call(S))},[l]),q.useEffect(()=>{h(t)},[t]);const v=()=>{c(!1);const S=(f==null?void 0:f.trim())??"";S!==t&&e(S)},x=S=>{S.key==="Enter"&&!s&&(S.preventDefault(),v()),S.key==="Escape"&&(h(t),c(!1))};if(l){const S=s?"textarea":"input";return y.jsx(S,{ref:m,value:f,onChange:T=>h(T.target.value),onBlur:v,onKeyDown:x,placeholder:o,className:`
          bg-bg-input border border-accent/30 rounded-[var(--radius-sm)]
          px-2 py-1 outline-none focus:border-accent focus:ring-1 focus:ring-accent/20
          text-text-primary font-body
          ${s?"min-h-[80px] resize-y w-full":""}
          ${i}
        `,rows:s?3:void 0})}return y.jsx(n,{onClick:()=>{h(t),c(!0)},className:`
        cursor-pointer border-b border-transparent
        hover:border-accent/30 transition-colors duration-150
        ${t?"":"text-text-muted italic"}
        ${r}
      `,title:"Click to edit",children:t||o})}function Pq(t){const[e,n]=t.split(":").map(Number);return`${e%12||12}:${String(n).padStart(2,"0")} ${e<12?"AM":"PM"}`}function Iq(t){return{"":"border-l-info","":"border-l-info","":"border-l-info","":"border-l-success","":"border-l-success","":"border-l-warning","":"border-l-warning","":"border-l-warning","":"border-l-warning","":"border-l-warning","":"border-l-accent","":"border-l-accent","":"border-l-accent","":"border-l-accent","":"border-l-accent","":"border-l-[var(--color-text-muted)]","":"border-l-[var(--color-text-muted)]","":"border-l-[var(--color-text-muted)]"}[t]||"border-l-border"}function Cq({fromTime:t,toTime:e}){if(!t||!e)return null;const n=l=>{const[c,f]=l.split(":").map(Number);return c*60+f},r=n(e)-n(t);if(r<90)return null;const i=Math.floor(r/60),o=r%60,s=o===0?`${i}h free`:`${i}h ${o}m free`;return y.jsxs("div",{className:"flex items-center gap-2 py-1 px-2 select-none pointer-events-none",children:[y.jsx("div",{className:"flex-1 h-px bg-border"}),y.jsxs("span",{className:"text-[10px] text-text-muted tracking-wide",children:[" ",s," "]}),y.jsx("div",{className:"flex-1 h-px bg-border"})]})}function Oq({activity:t,dayId:e,index:n,onUpdate:r,onDelete:i,onReorder:o}){const[s,l]=q.useState(!1),c=Iq(t.emoji);return y.jsxs("div",{draggable:!0,onDragStart:f=>{f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("activityIndex",String(n))},onDragOver:f=>{f.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:f=>{f.preventDefault(),l(!1);const h=Number(f.dataTransfer.getData("activityIndex"));h!==n&&o(h,n)},className:`flex items-start gap-2 group py-2 pl-2 rounded transition-all cursor-default
        border-l-2 ${c}
        ${s?"bg-bg-hover":""}`,children:[y.jsx("span",{className:"flex-shrink-0 cursor-grab active:cursor-grabbing opacity-0 group-hover:opacity-30 mt-1 text-text-muted select-none text-base",children:""}),y.jsx("div",{className:"flex-shrink-0 w-[4.5rem] pt-0.5 text-right relative",children:t.time?y.jsxs("label",{className:"text-xs text-text-muted font-mono tabular-nums cursor-pointer hover:text-text-secondary transition-colors select-none",children:[Pq(t.time),y.jsx("input",{type:"time",value:t.time,onChange:f=>r({time:f.target.value}),className:"absolute opacity-0 w-0 h-0 pointer-events-none"})]}):y.jsxs("label",{className:"text-xs text-text-muted opacity-0 group-hover:opacity-40 cursor-pointer transition-opacity select-none",children:["time",y.jsx("input",{type:"time",value:"",onChange:f=>r({time:f.target.value}),className:"absolute opacity-0 w-0 h-0 pointer-events-none"})]})}),y.jsx("span",{className:"text-lg flex-shrink-0 mt-0.5",children:t.emoji}),y.jsx("div",{className:"flex-1 min-w-0",children:y.jsxs("div",{className:"flex items-baseline gap-1.5 flex-wrap",children:[y.jsx(zn,{value:t.name,onSave:f=>r({name:f}),className:"text-text-primary font-medium text-sm leading-snug",placeholder:"Activity name"}),(t.notes||t.notes==="")&&y.jsxs(y.Fragment,{children:[t.notes&&y.jsx("span",{className:"text-text-muted text-xs select-none",children:""}),y.jsx(zn,{value:t.notes||"",onSave:f=>r({notes:f}),className:"text-xs text-text-muted leading-relaxed",placeholder:"Add notes",multiline:!0})]})]})}),y.jsx("button",{onClick:i,className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-sm transition-opacity p-1 flex-shrink-0",children:""})]})}function kq({onAdd:t,onCancel:e}){const[n,r]=q.useState(""),[i,o]=q.useState(""),[s,l]=q.useState(""),[c,f]=q.useState(""),[h,m]=q.useState(!1),v=x=>{x.preventDefault(),n.trim()&&(t({name:n.trim(),time:i,emoji:s,notes:c.trim()}),r(""),o(""),l(""),f(""))};return y.jsxs("form",{onSubmit:v,className:"mt-3 p-3 bg-bg-primary rounded-[var(--radius-md)] border border-border",children:[y.jsxs("div",{className:"flex gap-2 items-start",children:[y.jsx("input",{type:"time",value:i,onChange:x=>o(x.target.value),className:"w-24 px-2 py-1.5 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary"}),y.jsxs("div",{className:"relative",children:[y.jsx("button",{type:"button",onClick:()=>m(!h),className:"text-xl p-1.5 border border-border rounded-[var(--radius-sm)] hover:bg-bg-hover",children:s}),h&&y.jsx("div",{className:"absolute top-full left-0 mt-1 p-2 bg-bg-secondary border border-border rounded-[var(--radius-md)] grid grid-cols-4 gap-1 z-10",children:cq.map(x=>y.jsx("button",{type:"button",onClick:()=>{l(x.emoji),m(!1)},className:"text-lg p-1 hover:bg-bg-hover rounded",title:x.label,children:x.emoji},x.emoji))})]}),y.jsx("input",{value:n,onChange:x=>r(x.target.value),placeholder:"Activity name",className:"flex-1 px-3 py-1.5 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted"})]}),y.jsx("input",{value:c,onChange:x=>f(x.target.value),placeholder:"Notes (optional)",className:"w-full mt-2 px-3 py-1.5 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted"}),y.jsxs("div",{className:"flex gap-2 mt-2 justify-end",children:[y.jsx("button",{type:"button",onClick:e,className:"px-3 py-1 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"}),y.jsx("button",{type:"submit",className:"px-3 py-1 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"})]})]})}function Nq({day:t,dayIndex:e,isConcertDay:n,onReorderDay:r}){var D,N;const{dispatch:i}=Gt(),[o,s]=q.useState(!0),[l,c]=q.useState(!1),[f,h]=q.useState(!1),[m,v]=q.useState(t.notes||""),[x,S]=q.useState(!1),T=n?"border-concert-red/30 bg-concert-dark/5 dark:bg-concert-dark/30":"",_=t.location?`https://www.google.com/maps/search/${encodeURIComponent(t.location)}`:null,C=()=>{i({type:pe.UPDATE_DAY,payload:{dayId:t.id,updates:{notes:m}}}),h(!1)};return y.jsxs("div",{className:`relative animate-fade-in transition-all ${x?"border-t-2 border-accent":""}`,draggable:!0,onDragStart:R=>{R.dataTransfer.effectAllowed="move",R.dataTransfer.setData("dayIndex",String(e))},onDragOver:R=>{R.preventDefault(),S(!0)},onDragLeave:()=>S(!1),onDrop:R=>{R.preventDefault(),S(!1);const O=Number(R.dataTransfer.getData("dayIndex"));O!==e&&r(O,e)},children:[y.jsx("div",{className:"absolute left-5 top-0 bottom-0 w-px bg-border hidden md:block"}),y.jsx("div",{className:`absolute left-3 top-6 w-5 h-5 rounded-full border-2 hidden md:block z-10
        ${n?"border-concert-red bg-concert-red/20":"border-accent bg-accent/20"}`}),y.jsxs(Nt,{className:`md:ml-12 ${T}`,children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"hidden md:block cursor-grab active:cursor-grabbing text-text-muted opacity-30 hover:opacity-60 select-none",title:"Drag to reorder",children:""}),y.jsxs("div",{className:"flex items-center gap-3 flex-1 cursor-pointer",onClick:()=>s(!o),children:[y.jsx("span",{className:"text-2xl",children:t.emoji}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[y.jsxs("span",{className:`font-heading font-semibold ${n?"text-concert-red":"text-text-primary"}`,children:["Day ",t.dayNumber]}),y.jsx("span",{className:"text-text-muted text-sm",children:""}),y.jsx("span",{className:"text-sm text-text-secondary",children:up(t.date,"long")})]}),y.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[y.jsx(zn,{value:t.location,onSave:R=>i({type:pe.UPDATE_DAY,payload:{dayId:t.id,updates:{location:R}}}),className:"text-sm text-text-muted",placeholder:"Location"}),_&&y.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",onClick:R=>R.stopPropagation(),className:"text-sm hover:opacity-70 transition-opacity flex-shrink-0",title:"View on Google Maps",children:""})]})]})]}),y.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[y.jsx("span",{className:"text-xs text-text-muted",children:((D=t.activities)==null?void 0:D.length)||0}),y.jsx("button",{onClick:R=>{R.stopPropagation(),i({type:pe.REMOVE_DAY,payload:t.id})},className:"text-xs text-text-muted hover:text-danger transition-colors px-1",children:""}),y.jsx("span",{className:`text-text-muted cursor-pointer transition-transform ${o?"rotate-180":""}`,onClick:()=>s(!o),children:""})]})]}),o&&y.jsxs("div",{className:"mt-3 border-t border-border pt-3",children:[((N=t.activities)==null?void 0:N.length)>0?y.jsx("div",{className:"divide-y divide-border/50",children:t.activities.map((R,O)=>{var j;return y.jsxs("div",{children:[y.jsx(Cq,{fromTime:(j=t.activities[O-1])==null?void 0:j.time,toTime:R.time}),y.jsx(Oq,{activity:R,dayId:t.id,index:O,onUpdate:A=>i({type:pe.UPDATE_ACTIVITY,payload:{dayId:t.id,activityId:R.id,updates:A}}),onDelete:()=>i({type:pe.DELETE_ACTIVITY,payload:{dayId:t.id,activityId:R.id}}),onReorder:(A,P)=>i({type:pe.REORDER_ACTIVITIES,payload:{dayId:t.id,fromIndex:A,toIndex:P}})})]},R.id)})}):y.jsx("p",{className:"text-sm text-text-muted italic py-2",children:"No activities yet"}),y.jsx("div",{className:"mt-3 pt-2 border-t border-border/50",children:f?y.jsxs("div",{children:[y.jsx("textarea",{value:m,onChange:R=>v(R.target.value),onKeyDown:R=>{R.key==="Escape"&&(v(t.notes||""),h(!1))},placeholder:"Day notes",rows:2,autoFocus:!0,className:"w-full px-3 py-2 text-xs bg-bg-input border border-accent rounded-[var(--radius-sm)] text-text-primary resize-none focus:outline-none"}),y.jsxs("div",{className:"flex gap-2 mt-1 justify-end",children:[y.jsx("button",{onClick:()=>{v(t.notes||""),h(!1)},className:"text-xs text-text-muted",children:"Cancel"}),y.jsx("button",{onClick:C,className:"text-xs text-accent font-medium",children:"Save"})]})]}):y.jsx("button",{onClick:()=>{v(t.notes||""),h(!0)},className:"text-xs text-text-muted hover:text-text-secondary transition-colors text-left w-full",children:t.notes?y.jsxs("span",{children:[" ",y.jsx("span",{className:"italic",children:t.notes})]}):y.jsx("span",{className:"opacity-50",children:"+ Add day notes"})})}),l?y.jsx(kq,{onAdd:R=>{i({type:pe.ADD_ACTIVITY,payload:{dayId:t.id,activity:R}}),c(!1)},onCancel:()=>c(!1)}):y.jsx("button",{onClick:()=>c(!0),className:"mt-2 text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add activity"})]})]})]})}function jq(){var i,o,s,l;const{activeTrip:t,dispatch:e}=Gt();if(!t)return null;const n=t,r=(i=n.bookings)==null?void 0:i.find(c=>c.category==="concert");return y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"font-heading text-xl text-text-primary",children:[" Itinerary  ",((o=n.itinerary)==null?void 0:o.length)||0," days"]}),(((s=n.itinerary)==null?void 0:s.length)||0)>1&&y.jsx("p",{className:"text-xs text-text-muted mt-0.5",children:"Drag  to reorder days or activities"})]}),y.jsx("button",{onClick:()=>{var h;const c=(h=n.itinerary)==null?void 0:h[n.itinerary.length-1];let f="";if(c!=null&&c.date){const m=new Date(c.date+"T00:00:00");m.setDate(m.getDate()+1),f=m.toISOString().slice(0,10)}e({type:pe.ADD_DAY,payload:{date:f,location:"",emoji:""}})},className:"px-3 py-1.5 text-sm bg-accent text-white rounded-[var(--radius-md)] hover:bg-accent-hover transition-colors",children:"+ Add Day"})]}),y.jsx("div",{className:"relative space-y-5",children:(l=n.itinerary)==null?void 0:l.map((c,f)=>{var m;const h=r&&((m=c.activities)==null?void 0:m.some(v=>{var x,S;return((x=v.name)==null?void 0:x.toLowerCase().includes("mcr"))||((S=v.name)==null?void 0:S.toLowerCase().includes("concert"))||v.emoji===""||v.emoji===""}));return y.jsx(Nq,{day:c,dayIndex:f,isConcertDay:h,onReorderDay:(v,x)=>e({type:pe.REORDER_DAYS,payload:{fromIndex:v,toIndex:x}})},c.id)})}),(!n.itinerary||n.itinerary.length===0)&&y.jsxs(Nt,{className:"text-center py-12",children:[y.jsx("p",{className:"text-4xl mb-3",children:""}),y.jsx("p",{className:"text-text-muted",children:"No itinerary yet. Add your first day!"})]})]})}const Yy=[{value:"not_started",label:"Not Started",colors:"bg-text-muted/10 text-text-muted border-text-muted/20"},{value:"in_progress",label:"In Progress",colors:"bg-warning/10 text-warning border-warning/20"},{value:"booked",label:"Booked ",colors:"bg-success/10 text-success border-success/20"}];function Rq({status:t,bookingId:e}){const{dispatch:n,showToast:r}=Gt(),i=Yy.find(s=>s.value===t)||Yy[0],o=s=>{const l=s.target.value;n({type:pe.SET_BOOKING_STATUS,payload:{id:e,status:l}}),l==="booked"&&r("Booked!  One less thing to worry about.")};return y.jsxs("div",{className:"relative inline-block",children:[y.jsx("select",{value:t,onChange:o,className:`appearance-none cursor-pointer pl-2.5 pr-6 py-1 text-xs font-medium rounded-[var(--radius-pill)]
          border transition-all hover:opacity-80 ${i.colors}`,children:Yy.map(s=>y.jsx("option",{value:s.value,children:s.label},s.value))}),y.jsx("span",{className:"pointer-events-none absolute right-1.5 top-1/2 -translate-y-1/2 text-[10px] opacity-60",children:""})]})}function Dq({booking:t,currency:e}){const{dispatch:n}=Gt(),r=Xc.find(i=>i.id===t.category)||Xc[5];return y.jsxs(Nt,{hover:!0,className:"animate-fade-in",children:[y.jsxs("div",{className:"flex items-start justify-between gap-3",children:[y.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[y.jsx("span",{className:"text-2xl flex-shrink-0",children:r.emoji}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[y.jsx(zn,{value:t.name,onSave:i=>n({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{name:i}}}),className:"font-medium text-text-primary text-sm"}),t.priority&&y.jsx("span",{className:"text-xs",title:"Priority",children:""})]}),y.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[y.jsx("span",{className:"text-xs px-2 py-0.5 bg-bg-hover rounded-[var(--radius-pill)] text-text-muted",children:r.label}),y.jsx(Rq,{status:t.status,bookingId:t.id})]})]})]}),y.jsx("button",{onClick:()=>n({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{priority:!t.priority}}}),className:`text-lg flex-shrink-0 transition-transform hover:scale-110 ${t.priority?"":"opacity-30 hover:opacity-60"}`,title:"Toggle priority",children:""})]}),y.jsxs("div",{className:"mt-3 pt-3 border-t border-border/50 grid grid-cols-2 sm:grid-cols-3 gap-4 text-sm",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-text-muted text-xs block",children:"Confirmation #"}),y.jsx(zn,{value:t.confirmationNumber,onSave:i=>n({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{confirmationNumber:i}}}),className:"font-mono text-text-primary text-xs",placeholder:""})]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-text-muted text-xs block",children:"Amount Paid"}),y.jsx(zn,{value:t.amountPaid?String(t.amountPaid):"",onSave:i=>n({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{amountPaid:Number(i)||0}}}),className:"text-text-primary text-xs",placeholder:sr(0,e)})]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-text-muted text-xs block",children:"Book By"}),y.jsx(zn,{value:t.bookByDate,onSave:i=>n({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{bookByDate:i}}}),className:"text-text-primary text-xs",placeholder:""})]})]}),y.jsx("div",{className:"mt-2 text-right",children:y.jsx("button",{onClick:()=>n({type:pe.DELETE_BOOKING,payload:t.id}),className:"text-xs text-text-muted hover:text-danger transition-colors",children:"Remove"})})]})}function Mq({onAdd:t,onCancel:e}){const[n,r]=q.useState(""),[i,o]=q.useState("custom"),s=l=>{l.preventDefault(),n.trim()&&(t({name:n.trim(),category:i}),r(""),o("custom"))};return y.jsx(Nt,{children:y.jsxs("form",{onSubmit:s,className:"flex flex-wrap gap-2 items-end",children:[y.jsxs("div",{className:"flex-1 min-w-[200px]",children:[y.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Booking name"}),y.jsx("input",{value:n,onChange:l=>r(l.target.value),placeholder:"e.g., Singapore Hotel",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Category"}),y.jsx("select",{value:i,onChange:l=>o(l.target.value),className:"px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",children:Xc.map(l=>y.jsxs("option",{value:l.id,children:[l.emoji," ",l.label]},l.id))})]}),y.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"})]})})}function Lq(){var x,S;const{activeTrip:t,dispatch:e,showToast:n}=Gt(),[r,i]=q.useState("all"),[o,s]=q.useState(!1);if(!t)return null;const l=t,c=((x=l.bookings)==null?void 0:x.filter(T=>T.status==="booked").length)||0,f=((S=l.bookings)==null?void 0:S.length)||0,h=q.useMemo(()=>{let T=[...l.bookings||[]];return r!=="all"&&(T=T.filter(_=>_.category===r)),T.sort((_,C)=>_.status==="booked"&&C.status!=="booked"?1:C.status==="booked"&&_.status!=="booked"||_.priority&&!C.priority?-1:C.priority&&!_.priority?1:0)},[l.bookings,r]),m=[{id:"all",label:"All"},...Xc.filter(T=>{var _;return(_=l.bookings)==null?void 0:_.some(C=>C.category===T.id)}).map(T=>({id:T.id,label:T.label}))],v=()=>{var _;const T=(_=l.bookings)==null?void 0:_.map(C=>{const D=Xc.find(N=>N.id===C.category);return`${(D==null?void 0:D.emoji)||""} ${C.name}  ${C.status==="booked"?" Booked":" "+C.status.replace("_"," ")}${C.confirmationNumber?` (#${C.confirmationNumber})`:""}`}).join(`
`);navigator.clipboard.writeText(` ${l.name}  Bookings

${T}`),n("Bookings copied to clipboard! ")};return y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsxs(Nt,{children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("h2",{className:"font-heading text-lg text-text-primary",children:" Bookings"}),y.jsxs("span",{className:"text-sm text-text-muted",children:[c," of ",f," confirmed"]})]}),y.jsx(yu,{value:c,max:f,colorClass:"bg-success",height:"h-2"})]}),y.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[y.jsx("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide",children:m.map(T=>y.jsx("button",{onClick:()=>i(T.id),className:`px-3 py-1.5 text-xs font-medium rounded-[var(--radius-pill)] whitespace-nowrap transition-colors
                ${r===T.id?"bg-accent text-white":"bg-bg-secondary text-text-muted hover:text-text-secondary border border-border"}`,children:T.label},T.id))}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:v,className:"px-3 py-1.5 text-xs text-text-muted hover:text-text-secondary border border-border rounded-[var(--radius-sm)] hover:bg-bg-hover transition-colors",children:" Export"}),y.jsx("button",{onClick:()=>s(!0),className:"px-3 py-1.5 text-xs bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover transition-colors",children:"+ Add Booking"})]})]}),o&&y.jsx(Mq,{onAdd:T=>{e({type:pe.ADD_BOOKING,payload:T}),s(!1)},onCancel:()=>s(!1)}),y.jsx("div",{className:"space-y-4",children:h.map(T=>y.jsx(Dq,{booking:T,currency:l.currency},T.id))}),h.length===0&&y.jsxs(Nt,{className:"text-center py-8",children:[y.jsx("p",{className:"text-3xl mb-2",children:""}),y.jsxs("p",{className:"text-text-muted text-sm",children:["No bookings ",r!=="all"?"in this category":"yet","."]})]})]})}function KD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=KD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function at(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=KD(t))&&(r&&(r+=" "),r+=e);return r}var Xy,$P;function Gn(){if($P)return Xy;$P=1;var t=Array.isArray;return Xy=t,Xy}var Qy,VP;function YD(){if(VP)return Qy;VP=1;var t=typeof ch=="object"&&ch&&ch.Object===Object&&ch;return Qy=t,Qy}var Jy,BP;function Si(){if(BP)return Jy;BP=1;var t=YD(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Jy=n,Jy}var Zy,FP;function qf(){if(FP)return Zy;FP=1;var t=Si(),e=t.Symbol;return Zy=e,Zy}var ev,UP;function $q(){if(UP)return ev;UP=1;var t=qf(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(s){var l=n.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=r.call(s);return f&&(l?s[i]=c:delete s[i]),h}return ev=o,ev}var tv,qP;function Vq(){if(qP)return tv;qP=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return tv=n,tv}var nv,zP;function fo(){if(zP)return nv;zP=1;var t=qf(),e=$q(),n=Vq(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:r:o&&o in Object(l)?e(l):n(l)}return nv=s,nv}var rv,WP;function ho(){if(WP)return rv;WP=1;function t(e){return e!=null&&typeof e=="object"}return rv=t,rv}var iv,HP;function hl(){if(HP)return iv;HP=1;var t=fo(),e=ho(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return iv=r,iv}var ov,GP;function D1(){if(GP)return ov;GP=1;var t=Gn(),e=hl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(t(o))return!1;var l=typeof o;return l=="number"||l=="symbol"||l=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return ov=i,ov}var av,KP;function ca(){if(KP)return av;KP=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return av=t,av}var sv,YP;function M1(){if(YP)return sv;YP=1;var t=fo(),e=ca(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==o}return sv=s,sv}var uv,XP;function Bq(){if(XP)return uv;XP=1;var t=Si(),e=t["__core-js_shared__"];return uv=e,uv}var lv,QP;function Fq(){if(QP)return lv;QP=1;var t=Bq(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return lv=n,lv}var cv,JP;function XD(){if(JP)return cv;JP=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return cv=n,cv}var fv,ZP;function Uq(){if(ZP)return fv;ZP=1;var t=M1(),e=Fq(),n=ca(),r=XD(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!n(v)||e(v))return!1;var x=t(v)?h:o;return x.test(r(v))}return fv=m,fv}var dv,eI;function qq(){if(eI)return dv;eI=1;function t(e,n){return e==null?void 0:e[n]}return dv=t,dv}var hv,tI;function bs(){if(tI)return hv;tI=1;var t=Uq(),e=qq();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return hv=n,hv}var pv,nI;function Am(){if(nI)return pv;nI=1;var t=bs(),e=t(Object,"create");return pv=e,pv}var mv,rI;function zq(){if(rI)return mv;rI=1;var t=Am();function e(){this.__data__=t?t(null):{},this.size=0}return mv=e,mv}var gv,iI;function Wq(){if(iI)return gv;iI=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return gv=t,gv}var yv,oI;function Hq(){if(oI)return yv;oI=1;var t=Am(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(t){var l=s[o];return l===e?void 0:l}return r.call(s,o)?s[o]:void 0}return yv=i,yv}var vv,aI;function Gq(){if(aI)return vv;aI=1;var t=Am(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return vv=r,vv}var xv,sI;function Kq(){if(sI)return xv;sI=1;var t=Am(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return xv=n,xv}var bv,uI;function Yq(){if(uI)return bv;uI=1;var t=zq(),e=Wq(),n=Hq(),r=Gq(),i=Kq();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,bv=o,bv}var _v,lI;function Xq(){if(lI)return _v;lI=1;function t(){this.__data__=[],this.size=0}return _v=t,_v}var wv,cI;function L1(){if(cI)return wv;cI=1;function t(e,n){return e===n||e!==e&&n!==n}return wv=t,wv}var Ev,fI;function Pm(){if(fI)return Ev;fI=1;var t=L1();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Ev=e,Ev}var Tv,dI;function Qq(){if(dI)return Tv;dI=1;var t=Pm(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var l=o.length-1;return s==l?o.pop():n.call(o,s,1),--this.size,!0}return Tv=r,Tv}var Sv,hI;function Jq(){if(hI)return Sv;hI=1;var t=Pm();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Sv=e,Sv}var Av,pI;function Zq(){if(pI)return Av;pI=1;var t=Pm();function e(n){return t(this.__data__,n)>-1}return Av=e,Av}var Pv,mI;function e8(){if(mI)return Pv;mI=1;var t=Pm();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return Pv=e,Pv}var Iv,gI;function Im(){if(gI)return Iv;gI=1;var t=Xq(),e=Qq(),n=Jq(),r=Zq(),i=e8();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Iv=o,Iv}var Cv,yI;function $1(){if(yI)return Cv;yI=1;var t=bs(),e=Si(),n=t(e,"Map");return Cv=n,Cv}var Ov,vI;function t8(){if(vI)return Ov;vI=1;var t=Yq(),e=Im(),n=$1();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Ov=r,Ov}var kv,xI;function n8(){if(xI)return kv;xI=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return kv=t,kv}var Nv,bI;function Cm(){if(bI)return Nv;bI=1;var t=n8();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Nv=e,Nv}var jv,_I;function r8(){if(_I)return jv;_I=1;var t=Cm();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return jv=e,jv}var Rv,wI;function i8(){if(wI)return Rv;wI=1;var t=Cm();function e(n){return t(this,n).get(n)}return Rv=e,Rv}var Dv,EI;function o8(){if(EI)return Dv;EI=1;var t=Cm();function e(n){return t(this,n).has(n)}return Dv=e,Dv}var Mv,TI;function a8(){if(TI)return Mv;TI=1;var t=Cm();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Mv=e,Mv}var Lv,SI;function V1(){if(SI)return Lv;SI=1;var t=t8(),e=r8(),n=i8(),r=o8(),i=a8();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Lv=o,Lv}var $v,AI;function QD(){if(AI)return $v;AI=1;var t=V1(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=o.cache;if(c.has(l))return c.get(l);var f=r.apply(this,s);return o.cache=c.set(l,f)||c,f};return o.cache=new(n.Cache||t),o}return n.Cache=t,$v=n,$v}var Vv,PI;function s8(){if(PI)return Vv;PI=1;var t=QD(),e=500;function n(r){var i=t(r,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return Vv=n,Vv}var Bv,II;function u8(){if(II)return Bv;II=1;var t=s8(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,l,c,f){o.push(c?f.replace(n,"$1"):l||s)}),o});return Bv=r,Bv}var Fv,CI;function B1(){if(CI)return Fv;CI=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return Fv=t,Fv}var Uv,OI;function l8(){if(OI)return Uv;OI=1;var t=qf(),e=B1(),n=Gn(),r=hl(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return e(l,s)+"";if(r(l))return o?o.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return Uv=s,Uv}var qv,kI;function JD(){if(kI)return qv;kI=1;var t=l8();function e(n){return n==null?"":t(n)}return qv=e,qv}var zv,NI;function ZD(){if(NI)return zv;NI=1;var t=Gn(),e=D1(),n=u8(),r=JD();function i(o,s){return t(o)?o:e(o,s)?[o]:n(r(o))}return zv=i,zv}var Wv,jI;function Om(){if(jI)return Wv;jI=1;var t=hl();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Wv=e,Wv}var Hv,RI;function F1(){if(RI)return Hv;RI=1;var t=ZD(),e=Om();function n(r,i){i=t(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[e(i[o++])];return o&&o==s?r:void 0}return Hv=n,Hv}var Gv,DI;function eM(){if(DI)return Gv;DI=1;var t=F1();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return Gv=e,Gv}var c8=eM();const wr=ht(c8);var Kv,MI;function f8(){if(MI)return Kv;MI=1;function t(e){return e==null}return Kv=t,Kv}var d8=f8();const st=ht(d8);var Yv,LI;function h8(){if(LI)return Yv;LI=1;var t=fo(),e=Gn(),n=ho(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return Yv=i,Yv}var p8=h8();const fs=ht(p8);var m8=M1();const Ge=ht(m8);var g8=ca();const pl=ht(g8);var Xv={exports:{}},ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $I;function y8(){if($I)return ut;$I=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function T(_){if(typeof _=="object"&&_!==null){var C=_.$$typeof;switch(C){case t:switch(_=_.type,_){case n:case i:case r:case f:case h:return _;default:switch(_=_&&_.$$typeof,_){case l:case s:case c:case v:case m:case o:return _;default:return C}}case e:return C}}}return ut.ContextConsumer=s,ut.ContextProvider=o,ut.Element=t,ut.ForwardRef=c,ut.Fragment=n,ut.Lazy=v,ut.Memo=m,ut.Portal=e,ut.Profiler=i,ut.StrictMode=r,ut.Suspense=f,ut.SuspenseList=h,ut.isAsyncMode=function(){return!1},ut.isConcurrentMode=function(){return!1},ut.isContextConsumer=function(_){return T(_)===s},ut.isContextProvider=function(_){return T(_)===o},ut.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},ut.isForwardRef=function(_){return T(_)===c},ut.isFragment=function(_){return T(_)===n},ut.isLazy=function(_){return T(_)===v},ut.isMemo=function(_){return T(_)===m},ut.isPortal=function(_){return T(_)===e},ut.isProfiler=function(_){return T(_)===i},ut.isStrictMode=function(_){return T(_)===r},ut.isSuspense=function(_){return T(_)===f},ut.isSuspenseList=function(_){return T(_)===h},ut.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===i||_===r||_===f||_===h||_===x||typeof _=="object"&&_!==null&&(_.$$typeof===v||_.$$typeof===m||_.$$typeof===o||_.$$typeof===s||_.$$typeof===c||_.$$typeof===S||_.getModuleId!==void 0)},ut.typeOf=T,ut}var VI;function v8(){return VI||(VI=1,Xv.exports=y8()),Xv.exports}var x8=v8(),Qv,BI;function tM(){if(BI)return Qv;BI=1;var t=fo(),e=ho(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return Qv=r,Qv}var Jv,FI;function b8(){if(FI)return Jv;FI=1;var t=tM();function e(n){return t(n)&&n!=+n}return Jv=e,Jv}var _8=b8();const zf=ht(_8);var w8=tM();const E8=ht(w8);var Fr=function(e){return e===0?0:e>0?1:-1},Ka=function(e){return fs(e)&&e.indexOf("%")===e.length-1},xe=function(e){return E8(e)&&!zf(e)},T8=function(e){return st(e)},tn=function(e){return xe(e)||fs(e)},S8=0,km=function(e){var n=++S8;return"".concat(e||"").concat(n)},ds=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(e)&&!fs(e))return r;var o;if(Ka(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return zf(o)&&(o=r),i&&o>n&&(o=n),o},Ko=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},A8=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},lu=function(e,n){return xe(e)&&xe(n)?function(r){return e+r*(n-e)}:function(){return n}};function w_(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):wr(r,e))===n})}var P8=function(e,n){return xe(e)&&xe(n)?e-n:fs(e)&&fs(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Pu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function E_(t){"@babel/helpers - typeof";return E_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E_(t)}var I8=["viewBox","children"],C8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],UI=["points","pathLength"],Zv={svg:I8,polygon:UI,polyline:UI},U1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(q.isValidElement(e)&&(r=e.props),!pl(r))return null;var i={};return Object.keys(r).forEach(function(o){U1.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},O8=function(e,n,r){return function(i){return e(n,r,i),null}},dp=function(e,n,r){if(!pl(e)||E_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];U1.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=O8(s,n,r))}),i},k8=["children"],N8=["children"];function qI(t,e){if(t==null)return{};var n=j8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function j8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var zI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Zi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},WI=null,ex=null,q1=function t(e){if(e===WI&&Array.isArray(ex))return ex;var n=[];return q.Children.forEach(e,function(r){st(r)||(x8.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),ex=n,WI=e,n};function zr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Zi(i)}):r=[Zi(e)],q1(t).forEach(function(i){var o=wr(i,"type.displayName")||wr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function or(t,e){var n=zr(t,e);return n&&n[0]}var HI=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!xe(r)||r<=0||!xe(i)||i<=0)},R8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],D8=function(e){return e&&e.type&&fs(e.type)&&R8.indexOf(e.type)>=0},M8=function(e,n,r,i){var o,s=(o=Zv==null?void 0:Zv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Ge(e)&&(i&&s.includes(n)||C8.includes(n))||r&&U1.includes(n)},ot=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(q.isValidElement(e)&&(i=e.props),!pl(i))return null;var o={};return Object.keys(i).forEach(function(s){var l;M8((l=i)===null||l===void 0?void 0:l[s],s,n,r)&&(o[s]=i[s])}),o},T_=function t(e,n){if(e===n)return!0;var r=q.Children.count(e);if(r!==q.Children.count(n))return!1;if(r===0)return!0;if(r===1)return GI(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!GI(o,s))return!1}return!0},GI=function(e,n){if(st(e)&&st(n))return!0;if(!st(e)&&!st(n)){var r=e.props||{},i=r.children,o=qI(r,k8),s=n.props||{},l=s.children,c=qI(s,N8);return i&&l?Pu(o,c)&&T_(i,l):!i&&!l?Pu(o,c):!1}return!1},KI=function(e,n){var r=[],i={};return q1(e).forEach(function(o,s){if(D8(o))r.push(o);else if(o){var l=Zi(o.type),c=n[l]||{},f=c.handler,h=c.once;if(f&&(!h||!i[l])){var m=f(o,l,s);r.push(m),i[l]=!0}}}),r},L8=function(e){var n=e&&e.type;return n&&zI[n]?zI[n]:null},$8=function(e,n){return q1(n).indexOf(e)},V8=["children","width","height","viewBox","className","style","title","desc"];function S_(){return S_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S_.apply(this,arguments)}function B8(t,e){if(t==null)return{};var n=F8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function F8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function A_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,l=t.title,c=t.desc,f=B8(t,V8),h=i||{width:n,height:r,x:0,y:0},m=at("recharts-surface",o);return K.createElement("svg",S_({},ot(f,!0,"svg"),{className:m,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),K.createElement("title",null,l),K.createElement("desc",null,c),e)}var U8=["children","className"];function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P_.apply(this,arguments)}function q8(t,e){if(t==null)return{};var n=z8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cn=K.forwardRef(function(t,e){var n=t.children,r=t.className,i=q8(t,U8),o=at("recharts-layer",r);return K.createElement("g",P_({className:o},ot(i,!0),{ref:e}),n)}),eo=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},tx,YI;function W8(){if(YI)return tx;YI=1;function t(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+n];return s}return tx=t,tx}var nx,XI;function H8(){if(XI)return nx;XI=1;var t=W8();function e(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:t(n,r,i)}return nx=e,nx}var rx,QI;function nM(){if(QI)return rx;QI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+o+"]");function c(f){return l.test(f)}return rx=c,rx}var ix,JI;function G8(){if(JI)return ix;JI=1;function t(e){return e.split("")}return ix=t,ix}var ox,ZI;function K8(){if(ZI)return ox;ZI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+c+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",S=f+"?",T="["+o+"]?",_="(?:"+x+"(?:"+[h,m,v].join("|")+")"+T+S+")*",C=T+S+_,D="(?:"+[h+l+"?",l,m,v,s].join("|")+")",N=RegExp(c+"(?="+c+")|"+D+C,"g");function R(O){return O.match(N)||[]}return ox=R,ox}var ax,eC;function Y8(){if(eC)return ax;eC=1;var t=G8(),e=nM(),n=K8();function r(i){return e(i)?n(i):t(i)}return ax=r,ax}var sx,tC;function X8(){if(tC)return sx;tC=1;var t=H8(),e=nM(),n=Y8(),r=JD();function i(o){return function(s){s=r(s);var l=e(s)?n(s):void 0,c=l?l[0]:s.charAt(0),f=l?t(l,1).join(""):s.slice(1);return c[o]()+f}}return sx=i,sx}var ux,nC;function Q8(){if(nC)return ux;nC=1;var t=X8(),e=t("toUpperCase");return ux=e,ux}var J8=Q8();const Nm=ht(J8);function bt(t){return function(){return t}}const rM=Math.cos,hp=Math.sin,Wr=Math.sqrt,pp=Math.PI,jm=2*pp,I_=Math.PI,C_=2*I_,za=1e-6,Z8=C_-za;function iM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ez(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return iM;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class tz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?iM:ez(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,c=r-e,f=i-n,h=s-e,m=l-n,v=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>za)if(!(Math.abs(m*c-f*h)>za)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-s,S=i-l,T=c*c+f*f,_=x*x+S*S,C=Math.sqrt(T),D=Math.sqrt(v),N=o*Math.tan((I_-Math.acos((T+v-_)/(2*C*D)))/2),R=N/D,O=N/C;Math.abs(R-1)>za&&this._append`L${e+R*h},${n+R*m}`,this._append`A${o},${o},0,0,${+(m*x>h*S)},${this._x1=e+O*c},${this._y1=n+O*f}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=e+l,h=n+c,m=1^s,v=s?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>za||Math.abs(this._y1-h)>za)&&this._append`L${f},${h}`,r&&(v<0&&(v=v%C_+C_),v>Z8?this._append`A${r},${r},0,1,${m},${e-l},${n-c}A${r},${r},0,1,${m},${this._x1=f},${this._y1=h}`:v>za&&this._append`A${r},${r},0,${+(v>=I_)},${m},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function z1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new tz(e)}function W1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function oM(t){this._context=t}oM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Rm(t){return new oM(t)}function aM(t){return t[0]}function sM(t){return t[1]}function uM(t,e){var n=bt(!0),r=null,i=Rm,o=null,s=z1(l);t=typeof t=="function"?t:t===void 0?aM:bt(t),e=typeof e=="function"?e:e===void 0?sM:bt(e);function l(c){var f,h=(c=W1(c)).length,m,v=!1,x;for(r==null&&(o=i(x=s())),f=0;f<=h;++f)!(f<h&&n(m=c[f],f,c))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+t(m,f,c),+e(m,f,c));if(x)return o=null,x+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:bt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:bt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:bt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),l):r},l}function vh(t,e,n){var r=null,i=bt(!0),o=null,s=Rm,l=null,c=z1(f);t=typeof t=="function"?t:t===void 0?aM:bt(+t),e=typeof e=="function"?e:bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?sM:bt(+n);function f(m){var v,x,S,T=(m=W1(m)).length,_,C=!1,D,N=new Array(T),R=new Array(T);for(o==null&&(l=s(D=c())),v=0;v<=T;++v){if(!(v<T&&i(_=m[v],v,m))===C)if(C=!C)x=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),S=v-1;S>=x;--S)l.point(N[S],R[S]);l.lineEnd(),l.areaEnd()}C&&(N[v]=+t(_,v,m),R[v]=+e(_,v,m),l.point(r?+r(_,v,m):N[v],n?+n(_,v,m):R[v]))}if(D)return l=null,D+""||null}function h(){return uM().defined(i).curve(s).context(o)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:bt(+m),r=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:bt(+m),f):t},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:bt(+m),f):r},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:bt(+m),n=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:bt(+m),f):e},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:bt(+m),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:bt(!!m),f):i},f.curve=function(m){return arguments.length?(s=m,o!=null&&(l=s(o)),f):s},f.context=function(m){return arguments.length?(m==null?o=l=null:l=s(o=m),f):o},f}class lM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function nz(t){return new lM(t,!0)}function rz(t){return new lM(t,!1)}const H1={draw(t,e){const n=Wr(e/pp);t.moveTo(n,0),t.arc(0,0,n,0,jm)}},iz={draw(t,e){const n=Wr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},cM=Wr(1/3),oz=cM*2,az={draw(t,e){const n=Wr(e/oz),r=n*cM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},sz={draw(t,e){const n=Wr(e),r=-n/2;t.rect(r,r,n,n)}},uz=.8908130915292852,fM=hp(pp/10)/hp(7*pp/10),lz=hp(jm/10)*fM,cz=-rM(jm/10)*fM,fz={draw(t,e){const n=Wr(e*uz),r=lz*n,i=cz*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=jm*o/5,l=rM(s),c=hp(s);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},lx=Wr(3),dz={draw(t,e){const n=-Wr(e/(lx*3));t.moveTo(0,n*2),t.lineTo(-lx*n,-n),t.lineTo(lx*n,-n),t.closePath()}},gr=-.5,yr=Wr(3)/2,O_=1/Wr(12),hz=(O_/2+1)*3,pz={draw(t,e){const n=Wr(e/hz),r=n/2,i=n*O_,o=r,s=n*O_+n,l=-o,c=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(l,c),t.lineTo(gr*r-yr*i,yr*r+gr*i),t.lineTo(gr*o-yr*s,yr*o+gr*s),t.lineTo(gr*l-yr*c,yr*l+gr*c),t.lineTo(gr*r+yr*i,gr*i-yr*r),t.lineTo(gr*o+yr*s,gr*s-yr*o),t.lineTo(gr*l+yr*c,gr*c-yr*l),t.closePath()}};function mz(t,e){let n=null,r=z1(i);t=typeof t=="function"?t:bt(t||H1),e=typeof e=="function"?e:bt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:bt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:bt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function mp(){}function gp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function dM(t){this._context=t}dM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gz(t){return new dM(t)}function hM(t){this._context=t}hM.prototype={areaStart:mp,areaEnd:mp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yz(t){return new hM(t)}function pM(t){this._context=t}pM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vz(t){return new pM(t)}function mM(t){this._context=t}mM.prototype={areaStart:mp,areaEnd:mp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function xz(t){return new mM(t)}function rC(t){return t<0?-1:1}function iC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(o*i+s*r)/(r+i);return(rC(o)+rC(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function oC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function cx(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,l=(o-r)/3;t._context.bezierCurveTo(r+l,i+l*e,o-l,s-l*n,o,s)}function yp(t){this._context=t}yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cx(this,this._t0,oC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,cx(this,oC(this,n=iC(this,t,e)),n);break;default:cx(this,this._t0,n=iC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function gM(t){this._context=new yM(t)}(gM.prototype=Object.create(yp.prototype)).point=function(t,e){yp.prototype.point.call(this,e,t)};function yM(t){this._context=t}yM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function bz(t){return new yp(t)}function _z(t){return new gM(t)}function vM(t){this._context=t}vM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=aC(t),i=aC(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function aC(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function wz(t){return new vM(t)}function Dm(t,e){this._context=t,this._t=e}Dm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Ez(t){return new Dm(t,.5)}function Tz(t){return new Dm(t,0)}function Sz(t){return new Dm(t,1)}function $u(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,l=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function k_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Az(t,e){return t[e]}function Pz(t){const e=[];return e.key=t,e}function Iz(){var t=bt([]),e=k_,n=$u,r=Az;function i(o){var s=Array.from(t.apply(this,arguments),Pz),l,c=s.length,f=-1,h;for(const m of o)for(l=0,++f;l<c;++l)(s[l][f]=[0,+r(m,s[l].key,f,o)]).data=m;for(l=0,h=W1(e(s));l<c;++l)s[h[l]].index=l;return n(s,h),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:bt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:bt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?k_:typeof o=="function"?o:bt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??$u,i):n},i}function Cz(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}$u(t,e)}}function Oz(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}$u(t,e)}}function kz(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var l=0,c=0,f=0;l<s;++l){for(var h=t[e[l]],m=h[r][1]||0,v=h[r-1][1]||0,x=(m-v)/2,S=0;S<l;++S){var T=t[e[S]],_=T[r][1]||0,C=T[r-1][1]||0;x+=_-C}c+=m,f+=x*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,$u(t,e)}}function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}var Nz=["type","size","sizeType"];function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(this,arguments)}function sC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sC(Object(n),!0).forEach(function(r){jz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jz(t,e,n){return e=Rz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rz(t){var e=Dz(t,"string");return Qc(e)=="symbol"?e:e+""}function Dz(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mz(t,e){if(t==null)return{};var n=Lz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xM={symbolCircle:H1,symbolCross:iz,symbolDiamond:az,symbolSquare:sz,symbolStar:fz,symbolTriangle:dz,symbolWye:pz},$z=Math.PI/180,Vz=function(e){var n="symbol".concat(Nm(e));return xM[n]||H1},Bz=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*$z;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Fz=function(e,n){xM["symbol".concat(Nm(e))]=n},G1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=Mz(e,Nz),f=uC(uC({},c),{},{type:r,size:o,sizeType:l}),h=function(){var _=Vz(r),C=mz().type(_).size(Bz(o,l,r));return C()},m=f.className,v=f.cx,x=f.cy,S=ot(f,!0);return v===+v&&x===+x&&o===+o?K.createElement("path",N_({},S,{className:at("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(x,")"),d:h()})):null};G1.registerSymbol=Fz;function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}function lC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(n),!0).forEach(function(r){Jc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_M(r.key),r)}}function Wz(t,e,n){return e&&zz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hz(t,e,n){return e=vp(e),Gz(t,bM()?Reflect.construct(e,n||[],vp(t).constructor):e.apply(t,n))}function Gz(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kz(t)}function Kz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bM=function(){return!!t})()}function vp(t){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vp(t)}function Yz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R_(t,e)}function R_(t,e){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R_(t,e)}function Jc(t,e,n){return e=_M(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _M(t){var e=Xz(t,"string");return Vu(e)=="symbol"?e:e+""}function Xz(t,e){if(Vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vr=32,K1=(function(t){function e(){return qz(this,e),Hz(this,e,arguments)}return Yz(e,t),Wz(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=vr/2,s=vr/6,l=vr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:vr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(vr,"M").concat(2*l,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return K.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(vr/8,"h").concat(vr,"v").concat(vr*3/4,"h").concat(-vr,"z"),className:"recharts-legend-icon"});if(K.isValidElement(r.legendIcon)){var f=Uz({},r);return delete f.legendIcon,K.cloneElement(r.legendIcon,f)}return K.createElement(G1,{fill:c,cx:o,cy:o,size:vr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:vr,height:vr},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(x,S){var T=x.formatter||c,_=at(Jc(Jc({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",x.inactive));if(x.type==="none")return null;var C=Ge(x.value)?null:x.value;eo(!Ge(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var D=x.inactive?f:x.color;return K.createElement("li",j_({className:_,style:m,key:"legend-item-".concat(S)},dp(r.props,x,S)),K.createElement(A_,{width:s,height:s,viewBox:h,style:v},r.renderIcon(x)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:D}},T?T(C,x,S):C))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(q.PureComponent);Jc(K1,"displayName","Legend");Jc(K1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var fx,cC;function Qz(){if(cC)return fx;cC=1;var t=Im();function e(){this.__data__=new t,this.size=0}return fx=e,fx}var dx,fC;function Jz(){if(fC)return dx;fC=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return dx=t,dx}var hx,dC;function Zz(){if(dC)return hx;dC=1;function t(e){return this.__data__.get(e)}return hx=t,hx}var px,hC;function e7(){if(hC)return px;hC=1;function t(e){return this.__data__.has(e)}return px=t,px}var mx,pC;function t7(){if(pC)return mx;pC=1;var t=Im(),e=$1(),n=V1(),r=200;function i(o,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([o,s]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(o,s),this.size=l.size,this}return mx=i,mx}var gx,mC;function wM(){if(mC)return gx;mC=1;var t=Im(),e=Qz(),n=Jz(),r=Zz(),i=e7(),o=t7();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,gx=s,gx}var yx,gC;function n7(){if(gC)return yx;gC=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return yx=e,yx}var vx,yC;function r7(){if(yC)return vx;yC=1;function t(e){return this.__data__.has(e)}return vx=t,vx}var xx,vC;function EM(){if(vC)return xx;vC=1;var t=V1(),e=n7(),n=r7();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,xx=r,xx}var bx,xC;function TM(){if(xC)return bx;xC=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return bx=t,bx}var _x,bC;function SM(){if(bC)return _x;bC=1;function t(e,n){return e.has(n)}return _x=t,_x}var wx,_C;function AM(){if(_C)return wx;_C=1;var t=EM(),e=TM(),n=SM(),r=1,i=2;function o(s,l,c,f,h,m){var v=c&r,x=s.length,S=l.length;if(x!=S&&!(v&&S>x))return!1;var T=m.get(s),_=m.get(l);if(T&&_)return T==l&&_==s;var C=-1,D=!0,N=c&i?new t:void 0;for(m.set(s,l),m.set(l,s);++C<x;){var R=s[C],O=l[C];if(f)var j=v?f(O,R,C,l,s,m):f(R,O,C,s,l,m);if(j!==void 0){if(j)continue;D=!1;break}if(N){if(!e(l,function(A,P){if(!n(N,P)&&(R===A||h(R,A,c,f,m)))return N.push(P)})){D=!1;break}}else if(!(R===O||h(R,O,c,f,m))){D=!1;break}}return m.delete(s),m.delete(l),D}return wx=o,wx}var Ex,wC;function i7(){if(wC)return Ex;wC=1;var t=Si(),e=t.Uint8Array;return Ex=e,Ex}var Tx,EC;function o7(){if(EC)return Tx;EC=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return Tx=t,Tx}var Sx,TC;function Y1(){if(TC)return Sx;TC=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return Sx=t,Sx}var Ax,SC;function a7(){if(SC)return Ax;SC=1;var t=qf(),e=i7(),n=L1(),r=AM(),i=o7(),o=Y1(),s=1,l=2,c="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",v="[object Number]",x="[object RegExp]",S="[object Set]",T="[object String]",_="[object Symbol]",C="[object ArrayBuffer]",D="[object DataView]",N=t?t.prototype:void 0,R=N?N.valueOf:void 0;function O(j,A,P,I,V,$,B){switch(P){case D:if(j.byteLength!=A.byteLength||j.byteOffset!=A.byteOffset)return!1;j=j.buffer,A=A.buffer;case C:return!(j.byteLength!=A.byteLength||!$(new e(j),new e(A)));case c:case f:case v:return n(+j,+A);case h:return j.name==A.name&&j.message==A.message;case x:case T:return j==A+"";case m:var L=i;case S:var Q=I&s;if(L||(L=o),j.size!=A.size&&!Q)return!1;var ee=B.get(j);if(ee)return ee==A;I|=l,B.set(j,A);var ae=r(L(j),L(A),I,V,$,B);return B.delete(j),ae;case _:if(R)return R.call(j)==R.call(A)}return!1}return Ax=O,Ax}var Px,AC;function PM(){if(AC)return Px;AC=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return Px=t,Px}var Ix,PC;function s7(){if(PC)return Ix;PC=1;var t=PM(),e=Gn();function n(r,i,o){var s=i(r);return e(r)?s:t(s,o(r))}return Ix=n,Ix}var Cx,IC;function u7(){if(IC)return Cx;IC=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,s=[];++r<i;){var l=e[r];n(l,r,e)&&(s[o++]=l)}return s}return Cx=t,Cx}var Ox,CC;function l7(){if(CC)return Ox;CC=1;function t(){return[]}return Ox=t,Ox}var kx,OC;function c7(){if(OC)return kx;OC=1;var t=u7(),e=l7(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return r.call(s,l)}))}:e;return kx=o,kx}var Nx,kC;function f7(){if(kC)return Nx;kC=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return Nx=t,Nx}var jx,NC;function d7(){if(NC)return jx;NC=1;var t=fo(),e=ho(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return jx=r,jx}var Rx,jC;function X1(){if(jC)return Rx;jC=1;var t=d7(),e=ho(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return Rx=o,Rx}var Pc={exports:{}},Dx,RC;function h7(){if(RC)return Dx;RC=1;function t(){return!1}return Dx=t,Dx}Pc.exports;var DC;function IM(){return DC||(DC=1,(function(t,e){var n=Si(),r=h7(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,f=c||r;t.exports=f})(Pc,Pc.exports)),Pc.exports}var Mx,MC;function Q1(){if(MC)return Mx;MC=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return Mx=n,Mx}var Lx,LC;function J1(){if(LC)return Lx;LC=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Lx=e,Lx}var $x,$C;function p7(){if($C)return $x;$C=1;var t=fo(),e=J1(),n=ho(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",v="[object RegExp]",x="[object Set]",S="[object String]",T="[object WeakMap]",_="[object ArrayBuffer]",C="[object DataView]",D="[object Float32Array]",N="[object Float64Array]",R="[object Int8Array]",O="[object Int16Array]",j="[object Int32Array]",A="[object Uint8Array]",P="[object Uint8ClampedArray]",I="[object Uint16Array]",V="[object Uint32Array]",$={};$[D]=$[N]=$[R]=$[O]=$[j]=$[A]=$[P]=$[I]=$[V]=!0,$[r]=$[i]=$[_]=$[o]=$[C]=$[s]=$[l]=$[c]=$[f]=$[h]=$[m]=$[v]=$[x]=$[S]=$[T]=!1;function B(L){return n(L)&&e(L.length)&&!!$[t(L)]}return $x=B,$x}var Vx,VC;function CM(){if(VC)return Vx;VC=1;function t(e){return function(n){return e(n)}}return Vx=t,Vx}var Ic={exports:{}};Ic.exports;var BC;function m7(){return BC||(BC=1,(function(t,e){var n=YD(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=l})(Ic,Ic.exports)),Ic.exports}var Bx,FC;function OM(){if(FC)return Bx;FC=1;var t=p7(),e=CM(),n=m7(),r=n&&n.isTypedArray,i=r?e(r):t;return Bx=i,Bx}var Fx,UC;function g7(){if(UC)return Fx;UC=1;var t=f7(),e=X1(),n=Gn(),r=IM(),i=Q1(),o=OM(),s=Object.prototype,l=s.hasOwnProperty;function c(f,h){var m=n(f),v=!m&&e(f),x=!m&&!v&&r(f),S=!m&&!v&&!x&&o(f),T=m||v||x||S,_=T?t(f.length,String):[],C=_.length;for(var D in f)(h||l.call(f,D))&&!(T&&(D=="length"||x&&(D=="offset"||D=="parent")||S&&(D=="buffer"||D=="byteLength"||D=="byteOffset")||i(D,C)))&&_.push(D);return _}return Fx=c,Fx}var Ux,qC;function y7(){if(qC)return Ux;qC=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return Ux=e,Ux}var qx,zC;function kM(){if(zC)return qx;zC=1;function t(e,n){return function(r){return e(n(r))}}return qx=t,qx}var zx,WC;function v7(){if(WC)return zx;WC=1;var t=kM(),e=t(Object.keys,Object);return zx=e,zx}var Wx,HC;function x7(){if(HC)return Wx;HC=1;var t=y7(),e=v7(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var l in Object(o))r.call(o,l)&&l!="constructor"&&s.push(l);return s}return Wx=i,Wx}var Hx,GC;function Wf(){if(GC)return Hx;GC=1;var t=M1(),e=J1();function n(r){return r!=null&&e(r.length)&&!t(r)}return Hx=n,Hx}var Gx,KC;function Mm(){if(KC)return Gx;KC=1;var t=g7(),e=x7(),n=Wf();function r(i){return n(i)?t(i):e(i)}return Gx=r,Gx}var Kx,YC;function b7(){if(YC)return Kx;YC=1;var t=s7(),e=c7(),n=Mm();function r(i){return t(i,n,e)}return Kx=r,Kx}var Yx,XC;function _7(){if(XC)return Yx;XC=1;var t=b7(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,l,c,f,h){var m=l&e,v=t(o),x=v.length,S=t(s),T=S.length;if(x!=T&&!m)return!1;for(var _=x;_--;){var C=v[_];if(!(m?C in s:r.call(s,C)))return!1}var D=h.get(o),N=h.get(s);if(D&&N)return D==s&&N==o;var R=!0;h.set(o,s),h.set(s,o);for(var O=m;++_<x;){C=v[_];var j=o[C],A=s[C];if(c)var P=m?c(A,j,C,s,o,h):c(j,A,C,o,s,h);if(!(P===void 0?j===A||f(j,A,l,c,h):P)){R=!1;break}O||(O=C=="constructor")}if(R&&!O){var I=o.constructor,V=s.constructor;I!=V&&"constructor"in o&&"constructor"in s&&!(typeof I=="function"&&I instanceof I&&typeof V=="function"&&V instanceof V)&&(R=!1)}return h.delete(o),h.delete(s),R}return Yx=i,Yx}var Xx,QC;function w7(){if(QC)return Xx;QC=1;var t=bs(),e=Si(),n=t(e,"DataView");return Xx=n,Xx}var Qx,JC;function E7(){if(JC)return Qx;JC=1;var t=bs(),e=Si(),n=t(e,"Promise");return Qx=n,Qx}var Jx,ZC;function NM(){if(ZC)return Jx;ZC=1;var t=bs(),e=Si(),n=t(e,"Set");return Jx=n,Jx}var Zx,eO;function T7(){if(eO)return Zx;eO=1;var t=bs(),e=Si(),n=t(e,"WeakMap");return Zx=n,Zx}var e0,tO;function S7(){if(tO)return e0;tO=1;var t=w7(),e=$1(),n=E7(),r=NM(),i=T7(),o=fo(),s=XD(),l="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",v="[object DataView]",x=s(t),S=s(e),T=s(n),_=s(r),C=s(i),D=o;return(t&&D(new t(new ArrayBuffer(1)))!=v||e&&D(new e)!=l||n&&D(n.resolve())!=f||r&&D(new r)!=h||i&&D(new i)!=m)&&(D=function(N){var R=o(N),O=R==c?N.constructor:void 0,j=O?s(O):"";if(j)switch(j){case x:return v;case S:return l;case T:return f;case _:return h;case C:return m}return R}),e0=D,e0}var t0,nO;function A7(){if(nO)return t0;nO=1;var t=wM(),e=AM(),n=a7(),r=_7(),i=S7(),o=Gn(),s=IM(),l=OM(),c=1,f="[object Arguments]",h="[object Array]",m="[object Object]",v=Object.prototype,x=v.hasOwnProperty;function S(T,_,C,D,N,R){var O=o(T),j=o(_),A=O?h:i(T),P=j?h:i(_);A=A==f?m:A,P=P==f?m:P;var I=A==m,V=P==m,$=A==P;if($&&s(T)){if(!s(_))return!1;O=!0,I=!1}if($&&!I)return R||(R=new t),O||l(T)?e(T,_,C,D,N,R):n(T,_,A,C,D,N,R);if(!(C&c)){var B=I&&x.call(T,"__wrapped__"),L=V&&x.call(_,"__wrapped__");if(B||L){var Q=B?T.value():T,ee=L?_.value():_;return R||(R=new t),N(Q,ee,C,D,R)}}return $?(R||(R=new t),r(T,_,C,D,N,R)):!1}return t0=S,t0}var n0,rO;function Z1(){if(rO)return n0;rO=1;var t=A7(),e=ho();function n(r,i,o,s,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,s,n,l)}return n0=n,n0}var r0,iO;function P7(){if(iO)return r0;iO=1;var t=wM(),e=Z1(),n=1,r=2;function i(o,s,l,c){var f=l.length,h=f,m=!c;if(o==null)return!h;for(o=Object(o);f--;){var v=l[f];if(m&&v[2]?v[1]!==o[v[0]]:!(v[0]in o))return!1}for(;++f<h;){v=l[f];var x=v[0],S=o[x],T=v[1];if(m&&v[2]){if(S===void 0&&!(x in o))return!1}else{var _=new t;if(c)var C=c(S,T,x,o,s,_);if(!(C===void 0?e(T,S,n|r,c,_):C))return!1}}return!0}return r0=i,r0}var i0,oO;function jM(){if(oO)return i0;oO=1;var t=ca();function e(n){return n===n&&!t(n)}return i0=e,i0}var o0,aO;function I7(){if(aO)return o0;aO=1;var t=jM(),e=Mm();function n(r){for(var i=e(r),o=i.length;o--;){var s=i[o],l=r[s];i[o]=[s,l,t(l)]}return i}return o0=n,o0}var a0,sO;function RM(){if(sO)return a0;sO=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return a0=t,a0}var s0,uO;function C7(){if(uO)return s0;uO=1;var t=P7(),e=I7(),n=RM();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return s0=r,s0}var u0,lO;function O7(){if(lO)return u0;lO=1;function t(e,n){return e!=null&&n in Object(e)}return u0=t,u0}var l0,cO;function k7(){if(cO)return l0;cO=1;var t=ZD(),e=X1(),n=Gn(),r=Q1(),i=J1(),o=Om();function s(l,c,f){c=t(c,l);for(var h=-1,m=c.length,v=!1;++h<m;){var x=o(c[h]);if(!(v=l!=null&&f(l,x)))break;l=l[x]}return v||++h!=m?v:(m=l==null?0:l.length,!!m&&i(m)&&r(x,m)&&(n(l)||e(l)))}return l0=s,l0}var c0,fO;function N7(){if(fO)return c0;fO=1;var t=O7(),e=k7();function n(r,i){return r!=null&&e(r,i,t)}return c0=n,c0}var f0,dO;function j7(){if(dO)return f0;dO=1;var t=Z1(),e=eM(),n=N7(),r=D1(),i=jM(),o=RM(),s=Om(),l=1,c=2;function f(h,m){return r(h)&&i(m)?o(s(h),m):function(v){var x=e(v,h);return x===void 0&&x===m?n(v,h):t(m,x,l|c)}}return f0=f,f0}var d0,hO;function ml(){if(hO)return d0;hO=1;function t(e){return e}return d0=t,d0}var h0,pO;function R7(){if(pO)return h0;pO=1;function t(e){return function(n){return n==null?void 0:n[e]}}return h0=t,h0}var p0,mO;function D7(){if(mO)return p0;mO=1;var t=F1();function e(n){return function(r){return t(r,n)}}return p0=e,p0}var m0,gO;function M7(){if(gO)return m0;gO=1;var t=R7(),e=D7(),n=D1(),r=Om();function i(o){return n(o)?t(r(o)):e(o)}return m0=i,m0}var g0,yO;function fa(){if(yO)return g0;yO=1;var t=C7(),e=j7(),n=ml(),r=Gn(),i=M7();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return g0=o,g0}var y0,vO;function DM(){if(vO)return y0;vO=1;function t(e,n,r,i){for(var o=e.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(e[s],s,e))return s;return-1}return y0=t,y0}var v0,xO;function L7(){if(xO)return v0;xO=1;function t(e){return e!==e}return v0=t,v0}var x0,bO;function $7(){if(bO)return x0;bO=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return x0=t,x0}var b0,_O;function V7(){if(_O)return b0;_O=1;var t=DM(),e=L7(),n=$7();function r(i,o,s){return o===o?n(i,o,s):t(i,e,s)}return b0=r,b0}var _0,wO;function B7(){if(wO)return _0;wO=1;var t=V7();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return _0=e,_0}var w0,EO;function F7(){if(EO)return w0;EO=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return w0=t,w0}var E0,TO;function U7(){if(TO)return E0;TO=1;function t(){}return E0=t,E0}var T0,SO;function q7(){if(SO)return T0;SO=1;var t=NM(),e=U7(),n=Y1(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return T0=i,T0}var S0,AO;function z7(){if(AO)return S0;AO=1;var t=EM(),e=B7(),n=F7(),r=SM(),i=q7(),o=Y1(),s=200;function l(c,f,h){var m=-1,v=e,x=c.length,S=!0,T=[],_=T;if(h)S=!1,v=n;else if(x>=s){var C=f?null:i(c);if(C)return o(C);S=!1,v=r,_=new t}else _=f?[]:T;e:for(;++m<x;){var D=c[m],N=f?f(D):D;if(D=h||D!==0?D:0,S&&N===N){for(var R=_.length;R--;)if(_[R]===N)continue e;f&&_.push(N),T.push(D)}else v(_,N,h)||(_!==T&&_.push(N),T.push(D))}return T}return S0=l,S0}var A0,PO;function W7(){if(PO)return A0;PO=1;var t=fa(),e=z7();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return A0=n,A0}var H7=W7();const IO=ht(H7);function MM(t,e,n){return e===!0?IO(t,n):Ge(e)?IO(t,e):t}function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}var G7=["ref"];function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(r){Lm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$M(r.key),r)}}function Y7(t,e,n){return e&&OO(t.prototype,e),n&&OO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function X7(t,e,n){return e=xp(e),Q7(t,LM()?Reflect.construct(e,n||[],xp(t).constructor):e.apply(t,n))}function Q7(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J7(t)}function J7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LM=function(){return!!t})()}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xp(t)}function Z7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D_(t,e)}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D_(t,e)}function Lm(t,e,n){return e=$M(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $M(t){var e=eW(t,"string");return Bu(e)=="symbol"?e:e+""}function eW(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tW(t,e){if(t==null)return{};var n=nW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rW(t){return t.value}function iW(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var n=tW(e,G7);return K.createElement(K1,n)}var kO=1,Iu=(function(t){function e(){var n;K7(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=X7(this,e,[].concat(i)),Lm(n,"lastBoundingBox",{width:-1,height:-1}),n}return Z7(e,t),Y7(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>kO||Math.abs(i.height-this.lastBoundingBox.height)>kO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Hi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,m,v;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var x=this.getBBoxSnapshot();m={left:((f||0)-x.width)/2}}else m=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var S=this.getBBoxSnapshot();v={top:((h||0)-S.height)/2}}else v=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Hi(Hi({},m),v)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,l=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,m=Hi(Hi({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return K.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(x){r.wrapperNode=x}},iW(o,Hi(Hi({},this.props),{},{payload:MM(h,f,rW)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Hi(Hi({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&xe(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])})(q.PureComponent);Lm(Iu,"displayName","Legend");Lm(Iu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var P0,NO;function oW(){if(NO)return P0;NO=1;var t=qf(),e=X1(),n=Gn(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return P0=i,P0}var I0,jO;function VM(){if(jO)return I0;jO=1;var t=PM(),e=oW();function n(r,i,o,s,l){var c=-1,f=r.length;for(o||(o=e),l||(l=[]);++c<f;){var h=r[c];i>0&&o(h)?i>1?n(h,i-1,o,s,l):t(l,h):s||(l[l.length]=h)}return l}return I0=n,I0}var C0,RO;function aW(){if(RO)return C0;RO=1;function t(e){return function(n,r,i){for(var o=-1,s=Object(n),l=i(n),c=l.length;c--;){var f=l[e?c:++o];if(r(s[f],f,s)===!1)break}return n}}return C0=t,C0}var O0,DO;function sW(){if(DO)return O0;DO=1;var t=aW(),e=t();return O0=e,O0}var k0,MO;function BM(){if(MO)return k0;MO=1;var t=sW(),e=Mm();function n(r,i){return r&&t(r,i,e)}return k0=n,k0}var N0,LO;function uW(){if(LO)return N0;LO=1;var t=Wf();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var s=i.length,l=r?s:-1,c=Object(i);(r?l--:++l<s)&&o(c[l],l,c)!==!1;);return i}}return N0=e,N0}var j0,$O;function eE(){if($O)return j0;$O=1;var t=BM(),e=uW(),n=e(t);return j0=n,j0}var R0,VO;function FM(){if(VO)return R0;VO=1;var t=eE(),e=Wf();function n(r,i){var o=-1,s=e(r)?Array(r.length):[];return t(r,function(l,c,f){s[++o]=i(l,c,f)}),s}return R0=n,R0}var D0,BO;function lW(){if(BO)return D0;BO=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return D0=t,D0}var M0,FO;function cW(){if(FO)return M0;FO=1;var t=hl();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,l=t(n),c=r!==void 0,f=r===null,h=r===r,m=t(r);if(!f&&!m&&!l&&n>r||l&&c&&h&&!f&&!m||o&&c&&h||!i&&h||!s)return 1;if(!o&&!l&&!m&&n<r||m&&i&&s&&!o&&!l||f&&i&&s||!c&&s||!h)return-1}return 0}return M0=e,M0}var L0,UO;function fW(){if(UO)return L0;UO=1;var t=cW();function e(n,r,i){for(var o=-1,s=n.criteria,l=r.criteria,c=s.length,f=i.length;++o<c;){var h=t(s[o],l[o]);if(h){if(o>=f)return h;var m=i[o];return h*(m=="desc"?-1:1)}}return n.index-r.index}return L0=e,L0}var $0,qO;function dW(){if(qO)return $0;qO=1;var t=B1(),e=F1(),n=fa(),r=FM(),i=lW(),o=CM(),s=fW(),l=ml(),c=Gn();function f(h,m,v){m.length?m=t(m,function(T){return c(T)?function(_){return e(_,T.length===1?T[0]:T)}:T}):m=[l];var x=-1;m=t(m,o(n));var S=r(h,function(T,_,C){var D=t(m,function(N){return N(T)});return{criteria:D,index:++x,value:T}});return i(S,function(T,_){return s(T,_,v)})}return $0=f,$0}var V0,zO;function hW(){if(zO)return V0;zO=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return V0=t,V0}var B0,WO;function pW(){if(WO)return B0;WO=1;var t=hW(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,l=-1,c=e(s.length-i,0),f=Array(c);++l<c;)f[l]=s[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=s[l];return h[i]=o(f),t(r,this,h)}}return B0=n,B0}var F0,HO;function mW(){if(HO)return F0;HO=1;function t(e){return function(){return e}}return F0=t,F0}var U0,GO;function UM(){if(GO)return U0;GO=1;var t=bs(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return U0=e,U0}var q0,KO;function gW(){if(KO)return q0;KO=1;var t=mW(),e=UM(),n=ml(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return q0=r,q0}var z0,YO;function yW(){if(YO)return z0;YO=1;var t=800,e=16,n=Date.now;function r(i){var o=0,s=0;return function(){var l=n(),c=e-(l-s);if(s=l,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return z0=r,z0}var W0,XO;function vW(){if(XO)return W0;XO=1;var t=gW(),e=yW(),n=e(t);return W0=n,W0}var H0,QO;function xW(){if(QO)return H0;QO=1;var t=ml(),e=pW(),n=vW();function r(i,o){return n(e(i,o,t),i+"")}return H0=r,H0}var G0,JO;function $m(){if(JO)return G0;JO=1;var t=L1(),e=Wf(),n=Q1(),r=ca();function i(o,s,l){if(!r(l))return!1;var c=typeof s;return(c=="number"?e(l)&&n(s,l.length):c=="string"&&s in l)?t(l[s],o):!1}return G0=i,G0}var K0,ZO;function bW(){if(ZO)return K0;ZO=1;var t=VM(),e=dW(),n=xW(),r=$m(),i=n(function(o,s){if(o==null)return[];var l=s.length;return l>1&&r(o,s[0],s[1])?s=[]:l>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(o,t(s,1),[])});return K0=i,K0}var _W=bW();const tE=ht(_W);function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M_.apply(this,arguments)}function wW(t,e){return AW(t)||SW(t,e)||TW(t,e)||EW()}function EW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TW(t,e){if(t){if(typeof t=="string")return ek(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ek(t,e)}}function ek(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function AW(t){if(Array.isArray(t))return t}function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){PW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PW(t,e,n){return e=IW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IW(t){var e=CW(t,"string");return Zc(e)=="symbol"?e:e+""}function CW(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OW(t){return Array.isArray(t)&&tn(t[0])&&tn(t[1])?t.join(" ~ "):t}var kW=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,m=e.formatter,v=e.itemSorter,x=e.wrapperClassName,S=e.labelClassName,T=e.label,_=e.labelFormatter,C=e.accessibilityLayer,D=C===void 0?!1:C,N=function(){if(h&&h.length){var B={padding:0,margin:0},L=(v?tE(h,v):h).map(function(Q,ee){if(Q.type==="none")return null;var ae=Y0({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},l),se=Q.formatter||m||OW,J=Q.value,ie=Q.name,re=J,z=ie;if(se&&re!=null&&z!=null){var G=se(J,ie,Q,ee,h);if(Array.isArray(G)){var ge=wW(G,2);re=ge[0],z=ge[1]}else re=G}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:ae},tn(z)?K.createElement("span",{className:"recharts-tooltip-item-name"},z):null,tn(z)?K.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,K.createElement("span",{className:"recharts-tooltip-item-value"},re),K.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:B},L)}return null},R=Y0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),O=Y0({margin:0},f),j=!st(T),A=j?T:"",P=at("recharts-default-tooltip",x),I=at("recharts-tooltip-label",S);j&&_&&h!==void 0&&h!==null&&(A=_(T,h));var V=D?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",M_({className:P,style:R},V),K.createElement("p",{className:I,style:O},K.isValidElement(A)?A:"".concat(A)),N())};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function xh(t,e,n){return e=NW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NW(t){var e=jW(t,"string");return ef(e)=="symbol"?e:e+""}function jW(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dc="recharts-tooltip-wrapper",RW={visibility:"hidden"};function DW(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return at(dc,xh(xh(xh(xh({},"".concat(dc,"-right"),xe(n)&&e&&xe(e.x)&&n>=e.x),"".concat(dc,"-left"),xe(n)&&e&&xe(e.x)&&n<e.x),"".concat(dc,"-bottom"),xe(r)&&e&&xe(e.y)&&r>=e.y),"".concat(dc,"-top"),xe(r)&&e&&xe(e.y)&&r<e.y))}function nk(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(o&&xe(o[r]))return o[r];var h=n[r]-l-i,m=n[r]+i;if(e[r])return s[r]?h:m;if(s[r]){var v=h,x=c[r];return v<x?Math.max(m,c[r]):Math.max(h,c[r])}var S=m+l,T=c[r]+f;return S>T?Math.max(h,c[r]):Math.max(m,c[r])}function MW(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function LW(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,f,h,m;return s.height>0&&s.width>0&&n?(h=nk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=nk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=MW({translateX:h,translateY:m,useTranslate3d:l})):f=RW,{cssProperties:f,cssClasses:DW({translateX:h,translateY:m,coordinate:n})}}function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ik(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){$_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zM(r.key),r)}}function BW(t,e,n){return e&&VW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FW(t,e,n){return e=bp(e),UW(t,qM()?Reflect.construct(e,n||[],bp(t).constructor):e.apply(t,n))}function UW(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qW(t)}function qW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qM=function(){return!!t})()}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bp(t)}function zW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L_(t,e)}function L_(t,e){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L_(t,e)}function $_(t,e,n){return e=zM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zM(t){var e=WW(t,"string");return Fu(e)=="symbol"?e:e+""}function WW(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ok=1,HW=(function(t){function e(){var n;$W(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=FW(this,e,[].concat(i)),$_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),$_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,f,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(f=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),n}return zW(e,t),BW(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>ok||Math.abs(r.height-this.state.lastBoundingBox.height)>ok)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,m=i.hasPayload,v=i.isAnimationActive,x=i.offset,S=i.position,T=i.reverseDirection,_=i.useTranslate3d,C=i.viewBox,D=i.wrapperStyle,N=LW({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:x,position:S,reverseDirection:T,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:C}),R=N.cssClasses,O=N.cssProperties,j=ik(ik({transition:v&&o?"transform ".concat(l,"ms ").concat(c):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&m?"visible":"hidden",position:"absolute",top:0,left:0},D);return K.createElement("div",{tabIndex:-1,className:R,style:j,ref:function(P){r.wrapperNode=P}},f)}}])})(q.PureComponent),GW=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Hf={isSsr:GW()};function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){nE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HM(r.key),r)}}function XW(t,e,n){return e&&YW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QW(t,e,n){return e=_p(e),JW(t,WM()?Reflect.construct(e,n||[],_p(t).constructor):e.apply(t,n))}function JW(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZW(t)}function ZW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WM=function(){return!!t})()}function _p(t){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_p(t)}function eH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function nE(t,e,n){return e=HM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HM(t){var e=tH(t,"string");return Uu(e)=="symbol"?e:e+""}function tH(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nH(t){return t.dataKey}function rH(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(kW,e)}var fi=(function(t){function e(){return KW(this,e),QW(this,e,arguments)}return eH(e,t),XW(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,m=i.filterNull,v=i.isAnimationActive,x=i.offset,S=i.payload,T=i.payloadUniqBy,_=i.position,C=i.reverseDirection,D=i.useTranslate3d,N=i.viewBox,R=i.wrapperStyle,O=S??[];m&&O.length&&(O=MM(S.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),T,nH));var j=O.length>0;return K.createElement(HW,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:v,active:o,coordinate:h,hasPayload:j,offset:x,position:_,reverseDirection:C,useTranslate3d:D,viewBox:N,wrapperStyle:R},rH(f,sk(sk({},this.props),{},{payload:O})))}}])})(q.PureComponent);nE(fi,"displayName","Tooltip");nE(fi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Hf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var X0,uk;function iH(){if(uk)return X0;uk=1;var t=Si(),e=function(){return t.Date.now()};return X0=e,X0}var Q0,lk;function oH(){if(lk)return Q0;lk=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Q0=e,Q0}var J0,ck;function aH(){if(ck)return J0;ck=1;var t=oH(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return J0=n,J0}var Z0,fk;function GM(){if(fk)return Z0;fk=1;var t=aH(),e=ca(),n=hl(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=o.test(f);return m||s.test(f)?l(f.slice(2),m?2:8):i.test(f)?r:+f}return Z0=c,Z0}var eb,dk;function sH(){if(dk)return eb;dk=1;var t=ca(),e=iH(),n=GM(),r="Expected a function",i=Math.max,o=Math.min;function s(l,c,f){var h,m,v,x,S,T,_=0,C=!1,D=!1,N=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(C=!!f.leading,D="maxWait"in f,v=D?i(n(f.maxWait)||0,c):v,N="trailing"in f?!!f.trailing:N);function R(L){var Q=h,ee=m;return h=m=void 0,_=L,x=l.apply(ee,Q),x}function O(L){return _=L,S=setTimeout(P,c),C?R(L):x}function j(L){var Q=L-T,ee=L-_,ae=c-Q;return D?o(ae,v-ee):ae}function A(L){var Q=L-T,ee=L-_;return T===void 0||Q>=c||Q<0||D&&ee>=v}function P(){var L=e();if(A(L))return I(L);S=setTimeout(P,j(L))}function I(L){return S=void 0,N&&h?R(L):(h=m=void 0,x)}function V(){S!==void 0&&clearTimeout(S),_=0,h=T=m=S=void 0}function $(){return S===void 0?x:I(e())}function B(){var L=e(),Q=A(L);if(h=arguments,m=this,T=L,Q){if(S===void 0)return O(T);if(D)return clearTimeout(S),S=setTimeout(P,c),R(T)}return S===void 0&&(S=setTimeout(P,c)),x}return B.cancel=V,B.flush=$,B}return eb=s,eb}var tb,hk;function uH(){if(hk)return tb;hk=1;var t=sH(),e=ca(),n="Expected a function";function r(i,o,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(i,o,{leading:l,maxWait:o,trailing:c})}return tb=r,tb}var lH=uH();const KM=ht(lH);function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){cH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cH(t,e,n){return e=fH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fH(t){var e=dH(t,"string");return tf(e)=="symbol"?e:e+""}function dH(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hH(t,e){return yH(t)||gH(t,e)||mH(t,e)||pH()}function pH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mH(t,e){if(t){if(typeof t=="string")return mk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mk(t,e)}}function mk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function yH(t){if(Array.isArray(t))return t}var vH=q.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,l=t.height,c=l===void 0?"100%":l,f=t.minWidth,h=f===void 0?0:f,m=t.minHeight,v=t.maxHeight,x=t.children,S=t.debounce,T=S===void 0?0:S,_=t.id,C=t.className,D=t.onResize,N=t.style,R=N===void 0?{}:N,O=q.useRef(null),j=q.useRef();j.current=D,q.useImperativeHandle(e,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var A=q.useState({containerWidth:i.width,containerHeight:i.height}),P=hH(A,2),I=P[0],V=P[1],$=q.useCallback(function(L,Q){V(function(ee){var ae=Math.round(L),se=Math.round(Q);return ee.containerWidth===ae&&ee.containerHeight===se?ee:{containerWidth:ae,containerHeight:se}})},[]);q.useEffect(function(){var L=function(ie){var re,z=ie[0].contentRect,G=z.width,ge=z.height;$(G,ge),(re=j.current)===null||re===void 0||re.call(j,G,ge)};T>0&&(L=KM(L,T,{trailing:!0,leading:!1}));var Q=new ResizeObserver(L),ee=O.current.getBoundingClientRect(),ae=ee.width,se=ee.height;return $(ae,se),Q.observe(O.current),function(){Q.disconnect()}},[$,T]);var B=q.useMemo(function(){var L=I.containerWidth,Q=I.containerHeight;if(L<0||Q<0)return null;eo(Ka(s)||Ka(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),eo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ee=Ka(s)?L:s,ae=Ka(c)?Q:c;n&&n>0&&(ee?ae=ee/n:ae&&(ee=ae*n),v&&ae>v&&(ae=v)),eo(ee>0||ae>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,ae,s,c,h,m,n);var se=!Array.isArray(x)&&Zi(x.type).endsWith("Chart");return K.Children.map(x,function(J){return K.isValidElement(J)?q.cloneElement(J,bh({width:ee,height:ae},se?{style:bh({height:"100%",width:"100%",maxHeight:ae,maxWidth:ee},J.props.style)}:{})):J})},[n,x,c,v,m,h,I,s]);return K.createElement("div",{id:_?"".concat(_):void 0,className:at("recharts-responsive-container",C),style:bh(bh({},R),{},{width:s,height:c,minWidth:h,minHeight:m,maxHeight:v}),ref:O},B)}),rE=function(e){return null};rE.displayName="Cell";function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){xH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xH(t,e,n){return e=bH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bH(t){var e=_H(t,"string");return nf(e)=="symbol"?e:e+""}function _H(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cu={widthCache:{},cacheCount:0},wH=2e3,EH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yk="recharts_measurement_span";function TH(t){var e=B_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Mc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Hf.isSsr)return{width:0,height:0};var r=TH(n),i=JSON.stringify({text:e,copyStyle:r});if(cu.widthCache[i])return cu.widthCache[i];try{var o=document.getElementById(yk);o||(o=document.createElement("span"),o.setAttribute("id",yk),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=B_(B_({},EH),r);Object.assign(o.style,s),o.textContent="".concat(e);var l=o.getBoundingClientRect(),c={width:l.width,height:l.height};return cu.widthCache[i]=c,++cu.cacheCount>wH&&(cu.cacheCount=0,cu.widthCache={}),c}catch{return{width:0,height:0}}},SH=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function wp(t,e){return CH(t)||IH(t,e)||PH(t,e)||AH()}function AH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PH(t,e){if(t){if(typeof t=="string")return vk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vk(t,e)}}function vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function CH(t){if(Array.isArray(t))return t}function OH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NH(r.key),r)}}function kH(t,e,n){return e&&xk(t.prototype,e),n&&xk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NH(t){var e=jH(t,"string");return rf(e)=="symbol"?e:e+""}function jH(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_k=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},MH=Object.keys(YM),vu="NaN";function LH(t,e){return t*YM[e]}var _h=(function(){function t(e,n){OH(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!RH.test(n)&&(this.num=NaN,this.unit=""),MH.includes(n)&&(this.num=LH(e,n),this.unit="px")}return kH(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=DH.exec(n))!==null&&r!==void 0?r:[],o=wp(i,3),s=o[1],l=o[2];return new t(parseFloat(s),l??"")}}])})();function XM(t){if(t.includes(vu))return vu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=bk.exec(e))!==null&&n!==void 0?n:[],i=wp(r,4),o=i[1],s=i[2],l=i[3],c=_h.parse(o??""),f=_h.parse(l??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return vu;e=e.replace(bk,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,v=(m=_k.exec(e))!==null&&m!==void 0?m:[],x=wp(v,4),S=x[1],T=x[2],_=x[3],C=_h.parse(S??""),D=_h.parse(_??""),N=T==="+"?C.add(D):C.subtract(D);if(N.isNaN())return vu;e=e.replace(_k,N.toString())}return e}var wk=/\(([^()]*)\)/;function $H(t){for(var e=t;e.includes("(");){var n=wk.exec(e),r=wp(n,2),i=r[1];e=e.replace(wk,XM(i))}return e}function VH(t){var e=t.replace(/\s+/g,"");return e=$H(e),e=XM(e),e}function BH(t){try{return VH(t)}catch{return vu}}function nb(t){var e=BH(t.slice(5,-1));return e===vu?"":e}var FH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],UH=["dx","dy","angle","className","breakAll"];function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(this,arguments)}function Ek(t,e){if(t==null)return{};var n=qH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tk(t,e){return GH(t)||HH(t,e)||WH(t,e)||zH()}function zH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WH(t,e){if(t){if(typeof t=="string")return Sk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sk(t,e)}}function Sk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function GH(t){if(Array.isArray(t))return t}var QM=/[ \f\n\r\t\v\u2028\u2029]+/,JM=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];st(n)||(r?o=n.toString().split(""):o=n.toString().split(QM));var s=o.map(function(c){return{word:c,width:Mc(c,i).width}}),l=r?0:Mc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},KH=function(e,n,r,i,o){var s=e.maxLines,l=e.children,c=e.style,f=e.breakAll,h=xe(s),m=l,v=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee.reduce(function(ae,se){var J=se.word,ie=se.width,re=ae[ae.length-1];if(re&&(i==null||o||re.width+ie+r<Number(i)))re.words.push(J),re.width+=ie+r;else{var z={words:[J],width:ie};ae.push(z)}return ae},[])},x=v(n),S=function(ee){return ee.reduce(function(ae,se){return ae.width>se.width?ae:se})};if(!h)return x;for(var T="",_=function(ee){var ae=m.slice(0,ee),se=JM({breakAll:f,style:c,children:ae+T}).wordsWithComputedWidth,J=v(se),ie=J.length>s||S(J).width>Number(i);return[ie,J]},C=0,D=m.length-1,N=0,R;C<=D&&N<=m.length-1;){var O=Math.floor((C+D)/2),j=O-1,A=_(j),P=Tk(A,2),I=P[0],V=P[1],$=_(O),B=Tk($,1),L=B[0];if(!I&&!L&&(C=O+1),I&&L&&(D=O-1),!I&&L){R=V;break}N++}return R||x},Ak=function(e){var n=st(e)?[]:e.toString().split(QM);return[{words:n}]},YH=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,l=e.maxLines;if((n||r)&&!Hf.isSsr){var c,f,h=JM({breakAll:s,children:i,style:o});if(h){var m=h.wordsWithComputedWidth,v=h.spaceWidth;c=m,f=v}else return Ak(i);return KH({breakAll:s,children:i,maxLines:l,style:o},c,f,n,r)}return Ak(i)},Pk="#808080",Ep=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,m=h===void 0?!1:h,v=e.textAnchor,x=v===void 0?"start":v,S=e.verticalAnchor,T=S===void 0?"end":S,_=e.fill,C=_===void 0?Pk:_,D=Ek(e,FH),N=q.useMemo(function(){return YH({breakAll:D.breakAll,children:D.children,maxLines:D.maxLines,scaleToFit:m,style:D.style,width:D.width})},[D.breakAll,D.children,D.maxLines,m,D.style,D.width]),R=D.dx,O=D.dy,j=D.angle,A=D.className,P=D.breakAll,I=Ek(D,UH);if(!tn(r)||!tn(o))return null;var V=r+(xe(R)?R:0),$=o+(xe(O)?O:0),B;switch(T){case"start":B=nb("calc(".concat(f,")"));break;case"middle":B=nb("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:B=nb("calc(".concat(N.length-1," * -").concat(l,")"));break}var L=[];if(m){var Q=N[0].width,ee=D.width;L.push("scale(".concat((xe(ee)?ee/Q:1)/Q,")"))}return j&&L.push("rotate(".concat(j,", ").concat(V,", ").concat($,")")),L.length&&(I.transform=L.join(" ")),K.createElement("text",F_({},ot(I,!0),{x:V,y:$,className:at("recharts-text",A),textAnchor:x,fill:C.includes("url")?Pk:C}),N.map(function(ae,se){var J=ae.words.join(P?"":" ");return K.createElement("tspan",{x:V,dy:se===0?B:l,key:"".concat(J,"-").concat(se)},J)}))};function na(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function XH(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iE(t){let e,n,r;t.length!==2?(e=na,n=(l,c)=>na(t(l),c),r=(l,c)=>t(l)-c):(e=t===na||t===XH?t:QH,n=t,r=t);function i(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(l[m],c)<0?f=m+1:h=m}while(f<h)}return f}function o(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(l[m],c)<=0?f=m+1:h=m}while(f<h)}return f}function s(l,c,f=0,h=l.length){const m=i(l,c,f,h-1);return m>f&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:i,center:s,right:o}}function QH(){return 0}function ZM(t){return t===null?NaN:+t}function*JH(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ZH=iE(na),Gf=ZH.right;iE(ZM).center;class Ik extends Map{constructor(e,n=nG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Ck(this,e))}has(e){return super.has(Ck(this,e))}set(e,n){return super.set(eG(this,e),n)}delete(e){return super.delete(tG(this,e))}}function Ck({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function eG({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function tG({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function nG(t){return t!==null&&typeof t=="object"?t.valueOf():t}function rG(t=na){if(t===na)return eL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function eL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const iG=Math.sqrt(50),oG=Math.sqrt(10),aG=Math.sqrt(2);function Tp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=iG?10:o>=oG?5:o>=aG?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/s,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=n&&n<2?Tp(t,e,n*2):[l,c,f]}function U_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Tp(e,t,n):Tp(t,e,n);if(!(o>=i))return[];const l=o-i+1,c=new Array(l);if(r)if(s<0)for(let f=0;f<l;++f)c[f]=(o-f)/-s;else for(let f=0;f<l;++f)c[f]=(o-f)*s;else if(s<0)for(let f=0;f<l;++f)c[f]=(i+f)/-s;else for(let f=0;f<l;++f)c[f]=(i+f)*s;return c}function q_(t,e,n){return e=+e,t=+t,n=+n,Tp(t,e,n)[2]}function z_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?q_(e,t,n):q_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Ok(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function kk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function tL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?eL:rG(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*m*(c-m)/c)*(f-c/2<0?-1:1),x=Math.max(n,Math.floor(e-f*m/c+v)),S=Math.min(r,Math.floor(e+(c-f)*m/c+v));tL(t,e,x,S,i)}const o=t[e];let s=n,l=r;for(hc(t,n,e),i(t[r],o)>0&&hc(t,n,r);s<l;){for(hc(t,s,l),++s,--l;i(t[s],o)<0;)++s;for(;i(t[l],o)>0;)--l}i(t[n],o)===0?hc(t,n,l):(++l,hc(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function hc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function sG(t,e,n){if(t=Float64Array.from(JH(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return kk(t);if(e>=1)return Ok(t);var r,i=(r-1)*e,o=Math.floor(i),s=Ok(tL(t,o).subarray(0,o+1)),l=kk(t.subarray(o+1));return s+(l-s)*(i-o)}}function uG(t,e,n=ZM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),l=+n(t[o+1],o+1,t);return s+(l-s)*(i-o)}}function lG(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Tr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function po(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const W_=Symbol("implicit");function oE(){var t=new Ik,e=[],n=[],r=W_;function i(o){let s=t.get(o);if(s===void 0){if(r!==W_)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Ik;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return oE(e,n).unknown(r)},Tr.apply(i,arguments),i}function of(){var t=oE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,l=!1,c=0,f=0,h=.5;delete t.unknown;function m(){var v=e().length,x=i<r,S=x?i:r,T=x?r:i;o=(T-S)/Math.max(1,v-c+f*2),l&&(o=Math.floor(o)),S+=(T-S-o*(v-c))*h,s=o*(1-c),l&&(S=Math.round(S),s=Math.round(s));var _=lG(v).map(function(C){return S+o*C});return n(x?_.reverse():_)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(v){return arguments.length?(l=!!v,m()):l},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),m()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),m()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,m()):f},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),m()):h},t.copy=function(){return of(e(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(h)},Tr.apply(m(),arguments)}function nL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return nL(e())},t}function Lc(){return nL(of.apply(null,arguments).paddingInner(1))}function aE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function rL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Kf(){}var af=.7,Sp=1/af,Cu="\\s*([+-]?\\d+)\\s*",sf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cG=/^#([0-9a-f]{3,8})$/,fG=new RegExp(`^rgb\\(${Cu},${Cu},${Cu}\\)$`),dG=new RegExp(`^rgb\\(${vi},${vi},${vi}\\)$`),hG=new RegExp(`^rgba\\(${Cu},${Cu},${Cu},${sf}\\)$`),pG=new RegExp(`^rgba\\(${vi},${vi},${vi},${sf}\\)$`),mG=new RegExp(`^hsl\\(${sf},${vi},${vi}\\)$`),gG=new RegExp(`^hsla\\(${sf},${vi},${vi},${sf}\\)$`),Nk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};aE(Kf,uf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:jk,formatHex:jk,formatHex8:yG,formatHsl:vG,formatRgb:Rk,toString:Rk});function jk(){return this.rgb().formatHex()}function yG(){return this.rgb().formatHex8()}function vG(){return iL(this).formatHsl()}function Rk(){return this.rgb().formatRgb()}function uf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=cG.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Dk(e):n===3?new Wn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?wh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?wh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=fG.exec(t))?new Wn(e[1],e[2],e[3],1):(e=dG.exec(t))?new Wn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hG.exec(t))?wh(e[1],e[2],e[3],e[4]):(e=pG.exec(t))?wh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=mG.exec(t))?$k(e[1],e[2]/100,e[3]/100,1):(e=gG.exec(t))?$k(e[1],e[2]/100,e[3]/100,e[4]):Nk.hasOwnProperty(t)?Dk(Nk[t]):t==="transparent"?new Wn(NaN,NaN,NaN,0):null}function Dk(t){return new Wn(t>>16&255,t>>8&255,t&255,1)}function wh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wn(t,e,n,r)}function xG(t){return t instanceof Kf||(t=uf(t)),t?(t=t.rgb(),new Wn(t.r,t.g,t.b,t.opacity)):new Wn}function H_(t,e,n,r){return arguments.length===1?xG(t):new Wn(t,e,n,r??1)}function Wn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}aE(Wn,H_,rL(Kf,{brighter(t){return t=t==null?Sp:Math.pow(Sp,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?af:Math.pow(af,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wn(ns(this.r),ns(this.g),ns(this.b),Ap(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mk,formatHex:Mk,formatHex8:bG,formatRgb:Lk,toString:Lk}));function Mk(){return`#${Ya(this.r)}${Ya(this.g)}${Ya(this.b)}`}function bG(){return`#${Ya(this.r)}${Ya(this.g)}${Ya(this.b)}${Ya((isNaN(this.opacity)?1:this.opacity)*255)}`}function Lk(){const t=Ap(this.opacity);return`${t===1?"rgb(":"rgba("}${ns(this.r)}, ${ns(this.g)}, ${ns(this.b)}${t===1?")":`, ${t})`}`}function Ap(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ns(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ya(t){return t=ns(t),(t<16?"0":"")+t.toString(16)}function $k(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $r(t,e,n,r)}function iL(t){if(t instanceof $r)return new $r(t.h,t.s,t.l,t.opacity);if(t instanceof Kf||(t=uf(t)),!t)return new $r;if(t instanceof $r)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,c=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?o+i:2-o-i,s*=60):l=c>0&&c<1?0:s,new $r(s,l,c,t.opacity)}function _G(t,e,n,r){return arguments.length===1?iL(t):new $r(t,e,n,r??1)}function $r(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}aE($r,_G,rL(Kf,{brighter(t){return t=t==null?Sp:Math.pow(Sp,t),new $r(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?af:Math.pow(af,t),new $r(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wn(rb(t>=240?t-240:t+120,i,r),rb(t,i,r),rb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new $r(Vk(this.h),Eh(this.s),Eh(this.l),Ap(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ap(this.opacity);return`${t===1?"hsl(":"hsla("}${Vk(this.h)}, ${Eh(this.s)*100}%, ${Eh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Vk(t){return t=(t||0)%360,t<0?t+360:t}function Eh(t){return Math.max(0,Math.min(1,t||0))}function rb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const sE=t=>()=>t;function wG(t,e){return function(n){return t+n*e}}function EG(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function TG(t){return(t=+t)==1?oL:function(e,n){return n-e?EG(e,n,t):sE(isNaN(e)?n:e)}}function oL(t,e){var n=e-t;return n?wG(t,n):sE(isNaN(t)?e:t)}const Bk=(function t(e){var n=TG(e);function r(i,o){var s=n((i=H_(i)).r,(o=H_(o)).r),l=n(i.g,o.g),c=n(i.b,o.b),f=oL(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=l(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function SG(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function AG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function PG(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=gl(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function IG(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Pp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function CG(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=gl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var G_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ib=new RegExp(G_.source,"g");function OG(t){return function(){return t}}function kG(t){return function(e){return t(e)+""}}function NG(t,e){var n=G_.lastIndex=ib.lastIndex=0,r,i,o,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=G_.exec(t))&&(i=ib.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Pp(r,i)})),n=ib.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?c[0]?kG(c[0].x):OG(e):(e=c.length,function(f){for(var h=0,m;h<e;++h)l[(m=c[h]).i]=m.x(f);return l.join("")})}function gl(t,e){var n=typeof e,r;return e==null||n==="boolean"?sE(e):(n==="number"?Pp:n==="string"?(r=uf(e))?(e=r,Bk):NG:e instanceof uf?Bk:e instanceof Date?IG:AG(e)?SG:Array.isArray(e)?PG:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?CG:Pp)(t,e)}function uE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function jG(t,e){e===void 0&&(e=t,t=gl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[l](s-l)}}function RG(t){return function(){return t}}function Ip(t){return+t}var Fk=[0,1];function Dn(t){return t}function K_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:RG(isNaN(e)?NaN:.5)}function DG(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function MG(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=K_(i,r),o=n(s,o)):(r=K_(r,i),o=n(o,s)),function(l){return o(r(l))}}function LG(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=K_(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(l){var c=Gf(t,l,1,r)-1;return o[c](i[c](l))}}function Yf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vm(){var t=Fk,e=Fk,n=gl,r,i,o,s=Dn,l,c,f;function h(){var v=Math.min(t.length,e.length);return s!==Dn&&(s=DG(t[0],t[v-1])),l=v>2?LG:MG,c=f=null,m}function m(v){return v==null||isNaN(v=+v)?o:(c||(c=l(t.map(r),e,n)))(r(s(v)))}return m.invert=function(v){return s(i((f||(f=l(e,t.map(r),Pp)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,Ip),h()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),n=uE,h()},m.clamp=function(v){return arguments.length?(s=v?!0:Dn,h()):s!==Dn},m.interpolate=function(v){return arguments.length?(n=v,h()):n},m.unknown=function(v){return arguments.length?(o=v,m):o},function(v,x){return r=v,i=x,h()}}function lE(){return Vm()(Dn,Dn)}function $G(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Cp(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function qu(t){return t=Cp(Math.abs(t)),t?t[1]:NaN}function VG(t,e){return function(n,r){for(var i=n.length,o=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),o.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[s=(s+1)%t.length];return o.reverse().join(e)}}function BG(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var FG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lf(t){if(!(e=FG.exec(t)))throw new Error("invalid format: "+t);var e;return new cE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}lf.prototype=cE.prototype;function cE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}cE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function UG(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Op;function qG(t,e){var n=Cp(t,e);if(!n)return Op=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(Op=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Cp(t,Math.max(0,e+o-1))[0]}function Uk(t,e){var n=Cp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const qk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$G,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Uk(t*100,e),r:Uk,s:qG,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function zk(t){return t}var Wk=Array.prototype.map,Hk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zG(t){var e=t.grouping===void 0||t.thousands===void 0?zk:VG(Wk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?zk:BG(Wk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(m,v){m=lf(m);var x=m.fill,S=m.align,T=m.sign,_=m.symbol,C=m.zero,D=m.width,N=m.comma,R=m.precision,O=m.trim,j=m.type;j==="n"?(N=!0,j="g"):qk[j]||(R===void 0&&(R=12),O=!0,j="g"),(C||x==="0"&&S==="=")&&(C=!0,x="0",S="=");var A=(v&&v.prefix!==void 0?v.prefix:"")+(_==="$"?n:_==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),P=(_==="$"?r:/[%p]/.test(j)?s:"")+(v&&v.suffix!==void 0?v.suffix:""),I=qk[j],V=/[defgprs%]/.test(j);R=R===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function $(B){var L=A,Q=P,ee,ae,se;if(j==="c")Q=I(B)+Q,B="";else{B=+B;var J=B<0||1/B<0;if(B=isNaN(B)?c:I(Math.abs(B),R),O&&(B=UG(B)),J&&+B==0&&T!=="+"&&(J=!1),L=(J?T==="("?T:l:T==="-"||T==="("?"":T)+L,Q=(j==="s"&&!isNaN(B)&&Op!==void 0?Hk[8+Op/3]:"")+Q+(J&&T==="("?")":""),V){for(ee=-1,ae=B.length;++ee<ae;)if(se=B.charCodeAt(ee),48>se||se>57){Q=(se===46?i+B.slice(ee+1):B.slice(ee))+Q,B=B.slice(0,ee);break}}}N&&!C&&(B=e(B,1/0));var ie=L.length+B.length+Q.length,re=ie<D?new Array(D-ie+1).join(x):"";switch(N&&C&&(B=e(re+B,re.length?D-Q.length:1/0),re=""),S){case"<":B=L+B+Q+re;break;case"=":B=L+re+B+Q;break;case"^":B=re.slice(0,ie=re.length>>1)+L+B+Q+re.slice(ie);break;default:B=re+L+B+Q;break}return o(B)}return $.toString=function(){return m+""},$}function h(m,v){var x=Math.max(-8,Math.min(8,Math.floor(qu(v)/3)))*3,S=Math.pow(10,-x),T=f((m=lf(m),m.type="f",m),{suffix:Hk[8+x/3]});return function(_){return T(S*_)}}return{format:f,formatPrefix:h}}var Th,fE,aL;WG({thousands:",",grouping:[3],currency:["$",""]});function WG(t){return Th=zG(t),fE=Th.format,aL=Th.formatPrefix,Th}function HG(t){return Math.max(0,-qu(Math.abs(t)))}function GG(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qu(e)/3)))*3-qu(Math.abs(t)))}function KG(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qu(e)-qu(t))+1}function sL(t,e,n,r){var i=z_(t,e,n),o;switch(r=lf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=GG(i,s))&&(r.precision=o),aL(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=KG(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=HG(i))&&(r.precision=o-(r.type==="%")*2);break}}return fE(r)}function da(t){var e=t.domain;return t.ticks=function(n){var r=e();return U_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return sL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],l=r[o],c,f,h=10;for(l<s&&(f=s,s=l,l=f,f=i,i=o,o=f);h-- >0;){if(f=q_(s,l,n),f===c)return r[i]=s,r[o]=l,e(r);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function kp(){var t=lE();return t.copy=function(){return Yf(t,kp())},Tr.apply(t,arguments),da(t)}function uL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ip),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return uL(t).unknown(e)},t=arguments.length?Array.from(t,Ip):[0,1],da(n)}function lL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Gk(t){return Math.log(t)}function Kk(t){return Math.exp(t)}function YG(t){return-Math.log(-t)}function XG(t){return-Math.exp(-t)}function QG(t){return isFinite(t)?+("1e"+t):t<0?0:t}function JG(t){return t===10?QG:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ZG(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Yk(t){return(e,n)=>-t(-e,n)}function dE(t){const e=t(Gk,Kk),n=e.domain;let r=10,i,o;function s(){return i=ZG(r),o=JG(r),n()[0]<0?(i=Yk(i),o=Yk(o),t(YG,XG)):t(Gk,Kk),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const c=n();let f=c[0],h=c[c.length-1];const m=h<f;m&&([f,h]=[h,f]);let v=i(f),x=i(h),S,T;const _=l==null?10:+l;let C=[];if(!(r%1)&&x-v<_){if(v=Math.floor(v),x=Math.ceil(x),f>0){for(;v<=x;++v)for(S=1;S<r;++S)if(T=v<0?S/o(-v):S*o(v),!(T<f)){if(T>h)break;C.push(T)}}else for(;v<=x;++v)for(S=r-1;S>=1;--S)if(T=v>0?S/o(-v):S*o(v),!(T<f)){if(T>h)break;C.push(T)}C.length*2<_&&(C=U_(f,h,_))}else C=U_(v,x,Math.min(x-v,_)).map(o);return m?C.reverse():C},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=lf(c)).precision==null&&(c.trim=!0),c=fE(c)),l===1/0)return c;const f=Math.max(1,r*l/e.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=f?c(h):""}},e.nice=()=>n(lL(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),e}function cL(){const t=dE(Vm()).domain([1,10]);return t.copy=()=>Yf(t,cL()).base(t.base()),Tr.apply(t,arguments),t}function Xk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Qk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function hE(t){var e=1,n=t(Xk(e),Qk(e));return n.constant=function(r){return arguments.length?t(Xk(e=+r),Qk(e)):e},da(n)}function fL(){var t=hE(Vm());return t.copy=function(){return Yf(t,fL()).constant(t.constant())},Tr.apply(t,arguments)}function Jk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function eK(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function tK(t){return t<0?-t*t:t*t}function pE(t){var e=t(Dn,Dn),n=1;function r(){return n===1?t(Dn,Dn):n===.5?t(eK,tK):t(Jk(n),Jk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},da(e)}function mE(){var t=pE(Vm());return t.copy=function(){return Yf(t,mE()).exponent(t.exponent())},Tr.apply(t,arguments),t}function nK(){return mE.apply(null,arguments).exponent(.5)}function Zk(t){return Math.sign(t)*t*t}function rK(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function dL(){var t=lE(),e=[0,1],n=!1,r;function i(o){var s=rK(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(Zk(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Ip)).map(Zk)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return dL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Tr.apply(i,arguments),da(i)}function hL(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=uG(t,s/l);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Gf(n,s)]}return o.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(na),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return hL().domain(t).range(e).unknown(r)},Tr.apply(o,arguments)}function pL(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[Gf(r,c,0,n)]:o}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return pL().domain([t,e]).range(i).unknown(o)},Tr.apply(da(s),arguments)}function mL(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Gf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return mL().domain(t).range(e).unknown(n)},Tr.apply(i,arguments)}const ob=new Date,ab=new Date;function rn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),l=i.ceil(o);return o-s<l-o?s:l},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,l)=>{const c=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return c;let f;do c.push(f=new Date(+o)),e(o,l),t(o);while(f<o&&o<s);return c},i.filter=o=>rn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!o(s););else for(;--l>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(ob.setTime(+o),ab.setTime(+s),t(ob),t(ab),Math.floor(n(ob,ab))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Np=rn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Np.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?rn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Np);Np.range;const Xi=1e3,_r=Xi*60,Qi=_r*60,so=Qi*24,gE=so*7,eN=so*30,sb=so*365,Xa=rn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Xi)},(t,e)=>(e-t)/Xi,t=>t.getUTCSeconds());Xa.range;const yE=rn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xi)},(t,e)=>{t.setTime(+t+e*_r)},(t,e)=>(e-t)/_r,t=>t.getMinutes());yE.range;const vE=rn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*_r)},(t,e)=>(e-t)/_r,t=>t.getUTCMinutes());vE.range;const xE=rn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xi-t.getMinutes()*_r)},(t,e)=>{t.setTime(+t+e*Qi)},(t,e)=>(e-t)/Qi,t=>t.getHours());xE.range;const bE=rn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Qi)},(t,e)=>(e-t)/Qi,t=>t.getUTCHours());bE.range;const Xf=rn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_r)/so,t=>t.getDate()-1);Xf.range;const Bm=rn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/so,t=>t.getUTCDate()-1);Bm.range;const gL=rn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/so,t=>Math.floor(t/so));gL.range;function _s(t){return rn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*_r)/gE)}const Fm=_s(0),jp=_s(1),iK=_s(2),oK=_s(3),zu=_s(4),aK=_s(5),sK=_s(6);Fm.range;jp.range;iK.range;oK.range;zu.range;aK.range;sK.range;function ws(t){return rn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/gE)}const Um=ws(0),Rp=ws(1),uK=ws(2),lK=ws(3),Wu=ws(4),cK=ws(5),fK=ws(6);Um.range;Rp.range;uK.range;lK.range;Wu.range;cK.range;fK.range;const _E=rn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());_E.range;const wE=rn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());wE.range;const uo=rn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());uo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:rn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});uo.range;const lo=rn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());lo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:rn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});lo.range;function yL(t,e,n,r,i,o){const s=[[Xa,1,Xi],[Xa,5,5*Xi],[Xa,15,15*Xi],[Xa,30,30*Xi],[o,1,_r],[o,5,5*_r],[o,15,15*_r],[o,30,30*_r],[i,1,Qi],[i,3,3*Qi],[i,6,6*Qi],[i,12,12*Qi],[r,1,so],[r,2,2*so],[n,1,gE],[e,1,eN],[e,3,3*eN],[t,1,sb]];function l(f,h,m){const v=h<f;v&&([f,h]=[h,f]);const x=m&&typeof m.range=="function"?m:c(f,h,m),S=x?x.range(f,+h+1):[];return v?S.reverse():S}function c(f,h,m){const v=Math.abs(h-f)/m,x=iE(([,,_])=>_).right(s,v);if(x===s.length)return t.every(z_(f/sb,h/sb,m));if(x===0)return Np.every(Math.max(z_(f,h,m),1));const[S,T]=s[v/s[x-1][2]<s[x][2]/v?x-1:x];return S.every(T)}return[l,c]}const[dK,hK]=yL(lo,wE,Um,gL,bE,vE),[pK,mK]=yL(uo,_E,Fm,Xf,xE,yE);function ub(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function lb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function pc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function gK(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,f=mc(i),h=gc(i),m=mc(o),v=gc(o),x=mc(s),S=gc(s),T=mc(l),_=gc(l),C=mc(c),D=gc(c),N={a:se,A:J,b:ie,B:re,c:null,d:aN,e:aN,f:VK,g:YK,G:QK,H:MK,I:LK,j:$K,L:vL,m:BK,M:FK,p:z,q:G,Q:lN,s:cN,S:UK,u:qK,U:zK,V:WK,w:HK,W:GK,x:null,X:null,y:KK,Y:XK,Z:JK,"%":uN},R={a:ge,A:_e,b:Ce,B:Re,c:null,d:sN,e:sN,f:nY,g:dY,G:pY,H:ZK,I:eY,j:tY,L:bL,m:rY,M:iY,p:We,q:Le,Q:lN,s:cN,S:oY,u:aY,U:sY,V:uY,w:lY,W:cY,x:null,X:null,y:fY,Y:hY,Z:mY,"%":uN},O={a:V,A:$,b:B,B:L,c:Q,d:iN,e:iN,f:NK,g:rN,G:nN,H:oN,I:oN,j:IK,L:kK,m:PK,M:CK,p:I,q:AK,Q:RK,s:DK,S:OK,u:_K,U:wK,V:EK,w:bK,W:TK,x:ee,X:ae,y:rN,Y:nN,Z:SK,"%":jK};N.x=j(n,N),N.X=j(r,N),N.c=j(e,N),R.x=j(n,R),R.X=j(r,R),R.c=j(e,R);function j(he,Oe){return function(Be){var ce=[],rt=-1,ze=0,Pt=he.length,yt,Rt,Mn;for(Be instanceof Date||(Be=new Date(+Be));++rt<Pt;)he.charCodeAt(rt)===37&&(ce.push(he.slice(ze,rt)),(Rt=tN[yt=he.charAt(++rt)])!=null?yt=he.charAt(++rt):Rt=yt==="e"?" ":"0",(Mn=Oe[yt])&&(yt=Mn(Be,Rt)),ce.push(yt),ze=rt+1);return ce.push(he.slice(ze,rt)),ce.join("")}}function A(he,Oe){return function(Be){var ce=pc(1900,void 0,1),rt=P(ce,he,Be+="",0),ze,Pt;if(rt!=Be.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(Oe&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(ze=lb(pc(ce.y,0,1)),Pt=ze.getUTCDay(),ze=Pt>4||Pt===0?Rp.ceil(ze):Rp(ze),ze=Bm.offset(ze,(ce.V-1)*7),ce.y=ze.getUTCFullYear(),ce.m=ze.getUTCMonth(),ce.d=ze.getUTCDate()+(ce.w+6)%7):(ze=ub(pc(ce.y,0,1)),Pt=ze.getDay(),ze=Pt>4||Pt===0?jp.ceil(ze):jp(ze),ze=Xf.offset(ze,(ce.V-1)*7),ce.y=ze.getFullYear(),ce.m=ze.getMonth(),ce.d=ze.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Pt="Z"in ce?lb(pc(ce.y,0,1)).getUTCDay():ub(pc(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Pt+5)%7:ce.w+ce.U*7-(Pt+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,lb(ce)):ub(ce)}}function P(he,Oe,Be,ce){for(var rt=0,ze=Oe.length,Pt=Be.length,yt,Rt;rt<ze;){if(ce>=Pt)return-1;if(yt=Oe.charCodeAt(rt++),yt===37){if(yt=Oe.charAt(rt++),Rt=O[yt in tN?Oe.charAt(rt++):yt],!Rt||(ce=Rt(he,Be,ce))<0)return-1}else if(yt!=Be.charCodeAt(ce++))return-1}return ce}function I(he,Oe,Be){var ce=f.exec(Oe.slice(Be));return ce?(he.p=h.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function V(he,Oe,Be){var ce=x.exec(Oe.slice(Be));return ce?(he.w=S.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function $(he,Oe,Be){var ce=m.exec(Oe.slice(Be));return ce?(he.w=v.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function B(he,Oe,Be){var ce=C.exec(Oe.slice(Be));return ce?(he.m=D.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function L(he,Oe,Be){var ce=T.exec(Oe.slice(Be));return ce?(he.m=_.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function Q(he,Oe,Be){return P(he,e,Oe,Be)}function ee(he,Oe,Be){return P(he,n,Oe,Be)}function ae(he,Oe,Be){return P(he,r,Oe,Be)}function se(he){return s[he.getDay()]}function J(he){return o[he.getDay()]}function ie(he){return c[he.getMonth()]}function re(he){return l[he.getMonth()]}function z(he){return i[+(he.getHours()>=12)]}function G(he){return 1+~~(he.getMonth()/3)}function ge(he){return s[he.getUTCDay()]}function _e(he){return o[he.getUTCDay()]}function Ce(he){return c[he.getUTCMonth()]}function Re(he){return l[he.getUTCMonth()]}function We(he){return i[+(he.getUTCHours()>=12)]}function Le(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Oe=j(he+="",N);return Oe.toString=function(){return he},Oe},parse:function(he){var Oe=A(he+="",!1);return Oe.toString=function(){return he},Oe},utcFormat:function(he){var Oe=j(he+="",R);return Oe.toString=function(){return he},Oe},utcParse:function(he){var Oe=A(he+="",!0);return Oe.toString=function(){return he},Oe}}}var tN={"-":"",_:" ",0:"0"},fn=/^\s*\d+/,yK=/^%/,vK=/[\\^$*+?|[\]().{}]/g;function nt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function xK(t){return t.replace(vK,"\\$&")}function mc(t){return new RegExp("^(?:"+t.map(xK).join("|")+")","i")}function gc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function bK(t,e,n){var r=fn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function _K(t,e,n){var r=fn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function wK(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function EK(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function TK(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function nN(t,e,n){var r=fn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function rN(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function SK(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function AK(t,e,n){var r=fn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function PK(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function iN(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function IK(t,e,n){var r=fn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function oN(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function CK(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function OK(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function kK(t,e,n){var r=fn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function NK(t,e,n){var r=fn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jK(t,e,n){var r=yK.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function RK(t,e,n){var r=fn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function DK(t,e,n){var r=fn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function aN(t,e){return nt(t.getDate(),e,2)}function MK(t,e){return nt(t.getHours(),e,2)}function LK(t,e){return nt(t.getHours()%12||12,e,2)}function $K(t,e){return nt(1+Xf.count(uo(t),t),e,3)}function vL(t,e){return nt(t.getMilliseconds(),e,3)}function VK(t,e){return vL(t,e)+"000"}function BK(t,e){return nt(t.getMonth()+1,e,2)}function FK(t,e){return nt(t.getMinutes(),e,2)}function UK(t,e){return nt(t.getSeconds(),e,2)}function qK(t){var e=t.getDay();return e===0?7:e}function zK(t,e){return nt(Fm.count(uo(t)-1,t),e,2)}function xL(t){var e=t.getDay();return e>=4||e===0?zu(t):zu.ceil(t)}function WK(t,e){return t=xL(t),nt(zu.count(uo(t),t)+(uo(t).getDay()===4),e,2)}function HK(t){return t.getDay()}function GK(t,e){return nt(jp.count(uo(t)-1,t),e,2)}function KK(t,e){return nt(t.getFullYear()%100,e,2)}function YK(t,e){return t=xL(t),nt(t.getFullYear()%100,e,2)}function XK(t,e){return nt(t.getFullYear()%1e4,e,4)}function QK(t,e){var n=t.getDay();return t=n>=4||n===0?zu(t):zu.ceil(t),nt(t.getFullYear()%1e4,e,4)}function JK(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+nt(e/60|0,"0",2)+nt(e%60,"0",2)}function sN(t,e){return nt(t.getUTCDate(),e,2)}function ZK(t,e){return nt(t.getUTCHours(),e,2)}function eY(t,e){return nt(t.getUTCHours()%12||12,e,2)}function tY(t,e){return nt(1+Bm.count(lo(t),t),e,3)}function bL(t,e){return nt(t.getUTCMilliseconds(),e,3)}function nY(t,e){return bL(t,e)+"000"}function rY(t,e){return nt(t.getUTCMonth()+1,e,2)}function iY(t,e){return nt(t.getUTCMinutes(),e,2)}function oY(t,e){return nt(t.getUTCSeconds(),e,2)}function aY(t){var e=t.getUTCDay();return e===0?7:e}function sY(t,e){return nt(Um.count(lo(t)-1,t),e,2)}function _L(t){var e=t.getUTCDay();return e>=4||e===0?Wu(t):Wu.ceil(t)}function uY(t,e){return t=_L(t),nt(Wu.count(lo(t),t)+(lo(t).getUTCDay()===4),e,2)}function lY(t){return t.getUTCDay()}function cY(t,e){return nt(Rp.count(lo(t)-1,t),e,2)}function fY(t,e){return nt(t.getUTCFullYear()%100,e,2)}function dY(t,e){return t=_L(t),nt(t.getUTCFullYear()%100,e,2)}function hY(t,e){return nt(t.getUTCFullYear()%1e4,e,4)}function pY(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Wu(t):Wu.ceil(t),nt(t.getUTCFullYear()%1e4,e,4)}function mY(){return"+0000"}function uN(){return"%"}function lN(t){return+t}function cN(t){return Math.floor(+t/1e3)}var fu,wL,EL;gY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gY(t){return fu=gK(t),wL=fu.format,fu.parse,EL=fu.utcFormat,fu.utcParse,fu}function yY(t){return new Date(t)}function vY(t){return t instanceof Date?+t:+new Date(+t)}function EE(t,e,n,r,i,o,s,l,c,f){var h=lE(),m=h.invert,v=h.domain,x=f(".%L"),S=f(":%S"),T=f("%I:%M"),_=f("%I %p"),C=f("%a %d"),D=f("%b %d"),N=f("%B"),R=f("%Y");function O(j){return(c(j)<j?x:l(j)<j?S:s(j)<j?T:o(j)<j?_:r(j)<j?i(j)<j?C:D:n(j)<j?N:R)(j)}return h.invert=function(j){return new Date(m(j))},h.domain=function(j){return arguments.length?v(Array.from(j,vY)):v().map(yY)},h.ticks=function(j){var A=v();return t(A[0],A[A.length-1],j??10)},h.tickFormat=function(j,A){return A==null?O:f(A)},h.nice=function(j){var A=v();return(!j||typeof j.range!="function")&&(j=e(A[0],A[A.length-1],j??10)),j?v(lL(A,j)):h},h.copy=function(){return Yf(h,EE(t,e,n,r,i,o,s,l,c,f))},h}function xY(){return Tr.apply(EE(pK,mK,uo,_E,Fm,Xf,xE,yE,Xa,wL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bY(){return Tr.apply(EE(dK,hK,lo,wE,Um,Bm,bE,vE,Xa,EL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qm(){var t=0,e=1,n,r,i,o,s=Dn,l=!1,c;function f(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(o(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(l=!!m,f):l},f.interpolator=function(m){return arguments.length?(s=m,f):s};function h(m){return function(v){var x,S;return arguments.length?([x,S]=v,s=m(x,S),f):[s(0),s(1)]}}return f.range=h(gl),f.rangeRound=h(uE),f.unknown=function(m){return arguments.length?(c=m,f):c},function(m){return o=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),f}}function ha(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function TL(){var t=da(qm()(Dn));return t.copy=function(){return ha(t,TL())},po.apply(t,arguments)}function SL(){var t=dE(qm()).domain([1,10]);return t.copy=function(){return ha(t,SL()).base(t.base())},po.apply(t,arguments)}function AL(){var t=hE(qm());return t.copy=function(){return ha(t,AL()).constant(t.constant())},po.apply(t,arguments)}function TE(){var t=pE(qm());return t.copy=function(){return ha(t,TE()).exponent(t.exponent())},po.apply(t,arguments)}function _Y(){return TE.apply(null,arguments).exponent(.5)}function PL(){var t=[],e=Dn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Gf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(na),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>sG(t,o/r))},n.copy=function(){return PL(e).domain(t)},po.apply(n,arguments)}function zm(){var t=0,e=.5,n=1,r=1,i,o,s,l,c,f=Dn,h,m=!1,v;function x(T){return isNaN(T=+T)?v:(T=.5+((T=+h(T))-o)*(r*T<r*o?l:c),f(m?Math.max(0,Math.min(1,T)):T))}x.domain=function(T){return arguments.length?([t,e,n]=T,i=h(t=+t),o=h(e=+e),s=h(n=+n),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,x):[t,e,n]},x.clamp=function(T){return arguments.length?(m=!!T,x):m},x.interpolator=function(T){return arguments.length?(f=T,x):f};function S(T){return function(_){var C,D,N;return arguments.length?([C,D,N]=_,f=jG(T,[C,D,N]),x):[f(0),f(.5),f(1)]}}return x.range=S(gl),x.rangeRound=S(uE),x.unknown=function(T){return arguments.length?(v=T,x):v},function(T){return h=T,i=T(t),o=T(e),s=T(n),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,x}}function IL(){var t=da(zm()(Dn));return t.copy=function(){return ha(t,IL())},po.apply(t,arguments)}function CL(){var t=dE(zm()).domain([.1,1,10]);return t.copy=function(){return ha(t,CL()).base(t.base())},po.apply(t,arguments)}function OL(){var t=hE(zm());return t.copy=function(){return ha(t,OL()).constant(t.constant())},po.apply(t,arguments)}function SE(){var t=pE(zm());return t.copy=function(){return ha(t,SE()).exponent(t.exponent())},po.apply(t,arguments)}function wY(){return SE.apply(null,arguments).exponent(.5)}const fN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:of,scaleDiverging:IL,scaleDivergingLog:CL,scaleDivergingPow:SE,scaleDivergingSqrt:wY,scaleDivergingSymlog:OL,scaleIdentity:uL,scaleImplicit:W_,scaleLinear:kp,scaleLog:cL,scaleOrdinal:oE,scalePoint:Lc,scalePow:mE,scaleQuantile:hL,scaleQuantize:pL,scaleRadial:dL,scaleSequential:TL,scaleSequentialLog:SL,scaleSequentialPow:TE,scaleSequentialQuantile:PL,scaleSequentialSqrt:_Y,scaleSequentialSymlog:AL,scaleSqrt:nK,scaleSymlog:fL,scaleThreshold:mL,scaleTime:xY,scaleUtc:bY,tickFormat:sL},Symbol.toStringTag,{value:"Module"}));var cb,dN;function kL(){if(dN)return cb;dN=1;var t=hl();function e(n,r,i){for(var o=-1,s=n.length;++o<s;){var l=n[o],c=r(l);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=l}return h}return cb=e,cb}var fb,hN;function EY(){if(hN)return fb;hN=1;function t(e,n){return e>n}return fb=t,fb}var db,pN;function TY(){if(pN)return db;pN=1;var t=kL(),e=EY(),n=ml();function r(i){return i&&i.length?t(i,n,e):void 0}return db=r,db}var SY=TY();const Wm=ht(SY);var hb,mN;function AY(){if(mN)return hb;mN=1;function t(e,n){return e<n}return hb=t,hb}var pb,gN;function PY(){if(gN)return pb;gN=1;var t=kL(),e=AY(),n=ml();function r(i){return i&&i.length?t(i,n,e):void 0}return pb=r,pb}var IY=PY();const Hm=ht(IY);var mb,yN;function CY(){if(yN)return mb;yN=1;var t=B1(),e=fa(),n=FM(),r=Gn();function i(o,s){var l=r(o)?t:n;return l(o,e(s,3))}return mb=i,mb}var gb,vN;function OY(){if(vN)return gb;vN=1;var t=VM(),e=CY();function n(r,i){return t(e(r,i),1)}return gb=n,gb}var kY=OY();const NY=ht(kY);var yb,xN;function jY(){if(xN)return yb;xN=1;var t=Z1();function e(n,r){return t(n,r)}return yb=e,yb}var RY=jY();const AE=ht(RY);var yl=1e9,DY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},IE,Ct=!0,Er="[DecimalError] ",rs=Er+"Invalid argument: ",PE=Er+"Exponent out of range: ",vl=Math.floor,Wa=Math.pow,MY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ar,ln=1e7,Tt=7,NL=9007199254740991,Dp=vl(NL/Tt),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Tt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(t){return to(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,n=e.constructor;return gt(to(e,new n(t),0,1),n.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return Ht(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ar))throw Error(Er+"NaN");if(n.s<1)throw Error(Er+(n.s?"NaN":"-Infinity"));return n.eq(ar)?new r(0):(Ct=!1,e=to(cf(n,o),cf(t,o),o),Ct=!0,gt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?DL(e,t):jL(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Er+"NaN");return n.s?(Ct=!1,e=to(n,t,0,1).times(t),Ct=!0,n.minus(e)):gt(new r(n),i)};Te.naturalExponential=Te.exp=function(){return RL(this)};Te.naturalLogarithm=Te.ln=function(){return cf(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?jL(e,t):DL(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(rs+t);if(e=Ht(i)+1,r=i.d.length-1,n=r*Tt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Te.squareRoot=Te.sqrt=function(){var t,e,n,r,i,o,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Er+"NaN")}for(t=Ht(l),Ct=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=di(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=vl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(o=r,r=o.plus(to(l,o,s+2)).times(.5),di(o.d).slice(0,s)===(e=di(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(gt(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if(e!="9999")break;s+=4}return Ct=!0,gt(r,n)};Te.times=Te.mul=function(t){var e,n,r,i,o,s,l,c,f,h=this,m=h.constructor,v=h.d,x=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,c=v.length,f=x.length,c<f&&(o=v,v=x,x=o,s=c,c=f,f=s),o=[],s=c+f,r=s;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)l=o[i]+x[r]*v[i-r-1]+e,o[i--]=l%ln|0,e=l/ln|0;o[i]=(o[i]+e)%ln|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ct?gt(t,m.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ei(t,0,yl),e===void 0?e=r.rounding:Ei(e,0,8),gt(n,t+Ht(n)+1,e))};Te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=hs(r,!0):(Ei(t,0,yl),e===void 0?e=i.rounding:Ei(e,0,8),r=gt(new i(r),t+1,e),n=hs(r,!0,t+1)),n};Te.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?hs(i):(Ei(t,0,yl),e===void 0?e=o.rounding:Ei(e,0,8),r=gt(new o(i),t+Ht(i)+1,e),n=hs(r.abs(),!1,t+Ht(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return gt(new e(t),Ht(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,n,r,i,o,s,l=this,c=l.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(ar);if(l=new c(l),!l.s){if(t.s<1)throw Error(Er+"Infinity");return l}if(l.eq(ar))return l;if(r=c.precision,t.eq(ar))return gt(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=l.s,s){if((n=h<0?-h:h)<=NL){for(i=new c(ar),e=Math.ceil(r/Tt+4),Ct=!1;n%2&&(i=i.times(l),_N(i.d,e)),n=vl(n/2),n!==0;)l=l.times(l),_N(l.d,e);return Ct=!0,t.s<0?new c(ar).div(i):gt(i,r)}}else if(o<0)throw Error(Er+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Ct=!1,i=t.times(cf(l,r+f)),Ct=!0,i=RL(i),i.s=o,i};Te.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Ht(i),r=hs(i,n<=o.toExpNeg||n>=o.toExpPos)):(Ei(t,1,yl),e===void 0?e=o.rounding:Ei(e,0,8),i=gt(new o(i),t,e),n=Ht(i),r=hs(i,t<=n||n<=o.toExpNeg,t)),r};Te.toSignificantDigits=Te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ei(t,1,yl),e===void 0?e=r.rounding:Ei(e,0,8)),gt(new r(n),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ht(t),n=t.constructor;return hs(t,e<=n.toExpNeg||e>=n.toExpPos)};function jL(t,e){var n,r,i,o,s,l,c,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Ct?gt(e,m):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),o=s-i,o){for(o<0?(r=c,o=-o,l=f.length):(r=f,i=s,l=c.length),s=Math.ceil(m/Tt),l=s>l?s+1:l+1,o>l&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(l=c.length,o=f.length,l-o<0&&(o=l,r=f,f=c,c=r),n=0;o;)n=(c[--o]=c[o]+f[o]+n)/ln|0,c[o]%=ln;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Ct?gt(e,m):e}function Ei(t,e,n){if(t!==~~t||t<e||t>n)throw Error(rs+t)}function di(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Tt-r.length,n&&(o+=zo(n)),o+=r;s=t[e],r=s+"",n=Tt-r.length,n&&(o+=zo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var to=(function(){function t(r,i){var o,s=0,l=r.length;for(r=r.slice();l--;)o=r[l]*i+s,r[l]=o%ln|0,s=o/ln|0;return s&&r.unshift(s),r}function e(r,i,o,s){var l,c;if(o!=s)c=o>s?1:-1;else for(l=c=0;l<o;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*ln+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var l,c,f,h,m,v,x,S,T,_,C,D,N,R,O,j,A,P,I=r.constructor,V=r.s==i.s?1:-1,$=r.d,B=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Er+"Division by zero");for(c=r.e-i.e,A=B.length,O=$.length,x=new I(V),S=x.d=[],f=0;B[f]==($[f]||0);)++f;if(B[f]>($[f]||0)&&--c,o==null?D=o=I.precision:s?D=o+(Ht(r)-Ht(i))+1:D=o,D<0)return new I(0);if(D=D/Tt+2|0,f=0,A==1)for(h=0,B=B[0],D++;(f<O||h)&&D--;f++)N=h*ln+($[f]||0),S[f]=N/B|0,h=N%B|0;else{for(h=ln/(B[0]+1)|0,h>1&&(B=t(B,h),$=t($,h),A=B.length,O=$.length),R=A,T=$.slice(0,A),_=T.length;_<A;)T[_++]=0;P=B.slice(),P.unshift(0),j=B[0],B[1]>=ln/2&&++j;do h=0,l=e(B,T,A,_),l<0?(C=T[0],A!=_&&(C=C*ln+(T[1]||0)),h=C/j|0,h>1?(h>=ln&&(h=ln-1),m=t(B,h),v=m.length,_=T.length,l=e(m,T,v,_),l==1&&(h--,n(m,A<v?P:B,v))):(h==0&&(l=h=1),m=B.slice()),v=m.length,v<_&&m.unshift(0),n(T,m,_),l==-1&&(_=T.length,l=e(B,T,A,_),l<1&&(h++,n(T,A<_?P:B,_))),_=T.length):l===0&&(h++,T=[0]),S[f++]=h,l&&T[0]?T[_++]=$[R]||0:(T=[$[R]],_=1);while((R++<O||T[0]!==void 0)&&D--)}return S[0]||S.shift(),x.e=c,gt(x,s?o+Ht(x)+1:o)}})();function RL(t,e){var n,r,i,o,s,l,c=0,f=0,h=t.constructor,m=h.precision;if(Ht(t)>16)throw Error(PE+Ht(t));if(!t.s)return new h(ar);for(Ct=!1,l=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(Wa(2,f))/Math.LN10*2+5|0,l+=r,n=i=o=new h(ar),h.precision=l;;){if(i=gt(i.times(t),l),n=n.times(++c),s=o.plus(to(i,n,l)),di(s.d).slice(0,l)===di(o.d).slice(0,l)){for(;f--;)o=gt(o.times(o),l);return h.precision=m,e==null?(Ct=!0,gt(o,m)):o}o=s}}function Ht(t){for(var e=t.e*Tt,n=t.d[0];n>=10;n/=10)e++;return e}function vb(t,e,n){if(e>t.LN10.sd())throw Ct=!0,n&&(t.precision=n),Error(Er+"LN10 precision limit exceeded");return gt(new t(t.LN10),e)}function zo(t){for(var e="";t--;)e+="0";return e}function cf(t,e){var n,r,i,o,s,l,c,f,h,m=1,v=10,x=t,S=x.d,T=x.constructor,_=T.precision;if(x.s<1)throw Error(Er+(x.s?"NaN":"-Infinity"));if(x.eq(ar))return new T(0);if(e==null?(Ct=!1,f=_):f=e,x.eq(10))return e==null&&(Ct=!0),vb(T,f);if(f+=v,T.precision=f,n=di(S),r=n.charAt(0),o=Ht(x),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=di(x.d),r=n.charAt(0),m++;o=Ht(x),r>1?(x=new T("0."+n),o++):x=new T(r+"."+n.slice(1))}else return c=vb(T,f+2,_).times(o+""),x=cf(new T(r+"."+n.slice(1)),f-v).plus(c),T.precision=_,e==null?(Ct=!0,gt(x,_)):x;for(l=s=x=to(x.minus(ar),x.plus(ar),f),h=gt(x.times(x),f),i=3;;){if(s=gt(s.times(h),f),c=l.plus(to(s,new T(i),f)),di(c.d).slice(0,f)===di(l.d).slice(0,f))return l=l.times(2),o!==0&&(l=l.plus(vb(T,f+2,_).times(o+""))),l=to(l,new T(m),f),T.precision=_,e==null?(Ct=!0,gt(l,_)):l;l=c,i+=2}}function bN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=vl(n/Tt),t.d=[],r=(n+1)%Tt,n<0&&(r+=Tt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Tt;r<i;)t.d.push(+e.slice(r,r+=Tt));e=e.slice(r),r=Tt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ct&&(t.e>Dp||t.e<-Dp))throw Error(PE+n)}else t.s=0,t.e=0,t.d=[0];return t}function gt(t,e,n){var r,i,o,s,l,c,f,h,m=t.d;for(s=1,o=m[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Tt,i=e,f=m[h=0];else{if(h=Math.ceil((r+1)/Tt),o=m.length,h>=o)return t;for(f=o=m[h],s=1;o>=10;o/=10)s++;r%=Tt,i=r-Tt+s}if(n!==void 0&&(o=Wa(10,s-i-1),l=f/o%10|0,c=e<0||m[h+1]!==void 0||f%o,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?f/Wa(10,s-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(o=Ht(t),m.length=1,e=e-o-1,m[0]=Wa(10,(Tt-e%Tt)%Tt),t.e=vl(-e/Tt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,o=1,h--):(m.length=h+1,o=Wa(10,Tt-r),m[h]=i>0?(f/Wa(10,s-i)%Wa(10,i)|0)*o:0),c)for(;;)if(h==0){(m[0]+=o)==ln&&(m[0]=1,++t.e);break}else{if(m[h]+=o,m[h]!=ln)break;m[h--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(Ct&&(t.e>Dp||t.e<-Dp))throw Error(PE+Ht(t));return t}function DL(t,e){var n,r,i,o,s,l,c,f,h,m,v=t.constructor,x=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Ct?gt(e,x):e;if(c=t.d,m=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,l=m.length):(n=m,r=f,l=c.length),i=Math.max(Math.ceil(x/Tt),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=m.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}s=0}for(h&&(n=c,c=m,m=n,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(o=i;o&&c[--o]===0;)c[o]=ln-1;--c[o],c[i]+=ln}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Ct?gt(e,x):e):new v(0)}function hs(t,e,n){var r,i=Ht(t),o=di(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+zo(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+zo(-i-1)+o,n&&(r=n-s)>0&&(o+=zo(r))):i>=s?(o+=zo(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+zo(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=zo(r))),t.s<0?"-"+o:o}function _N(t,e){if(t.length>e)return t.length=e,!0}function ML(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(rs+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return bN(s,o.toString())}else if(typeof o!="string")throw Error(rs+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,MY.test(o))bN(s,o);else throw Error(rs+o)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ML,i.config=i.set=LY,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function LY(t){if(!t||typeof t!="object")throw Error(Er+"Object expected");var e,n,r,i=["precision",1,yl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(vl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(rs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(rs+n+": "+r);return this}var IE=ML(DY);ar=new IE(1);const dt=IE;function $Y(t){return UY(t)||FY(t)||BY(t)||VY()}function VY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BY(t,e){if(t){if(typeof t=="string")return Y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y_(t,e)}}function FY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function UY(t){if(Array.isArray(t))return Y_(t)}function Y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var qY=function(e){return e},LL={},$L=function(e){return e===LL},wN=function(e){return function n(){return arguments.length===0||arguments.length===1&&$L(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},zY=function t(e,n){return e===1?n:wN(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(l){return l!==LL}).length;return s>=e?n.apply(void 0,i):t(e-s,wN(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var h=i.map(function(m){return $L(m)?c.shift():m});return n.apply(void 0,$Y(h).concat(c))}))})},Gm=function(e){return zY(e.length,e)},X_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},WY=Gm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),HY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return qY;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},o.apply(void 0,arguments))}},Q_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},VL=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(l,c){return l===n[c]})||(n=o,r=e.apply(void 0,o)),r}};function GY(t){var e;return t===0?e=1:e=Math.floor(new dt(t).abs().log(10).toNumber())+1,e}function KY(t,e,n){for(var r=new dt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var YY=Gm(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),XY=Gm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),QY=Gm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Km={rangeStep:KY,getDigitCount:GY,interpolateNumber:YY,uninterpolateNumber:XY,uninterpolateTruncation:QY};function J_(t){return eX(t)||ZY(t)||BL(t)||JY()}function JY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function eX(t){if(Array.isArray(t))return Z_(t)}function ff(t,e){return rX(t)||nX(t,e)||BL(t,e)||tX()}function tX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BL(t,e){if(t){if(typeof t=="string")return Z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z_(t,e)}}function Z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nX(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,o=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function rX(t){if(Array.isArray(t))return t}function FL(t){var e=ff(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function UL(t,e,n){if(t.lte(0))return new dt(0);var r=Km.getDigitCount(t.toNumber()),i=new dt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,l=new dt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return e?c:new dt(Math.ceil(c))}function iX(t,e,n){var r=1,i=new dt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new dt(10).pow(Km.getDigitCount(t)-1),i=new dt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new dt(Math.floor(t)))}else t===0?i=new dt(Math.floor((e-1)/2)):n||(i=new dt(Math.floor(t)));var s=Math.floor((e-1)/2),l=HY(WY(function(c){return i.add(new dt(c-s).mul(r)).toNumber()}),X_);return l(0,e)}function qL(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new dt(0),tickMin:new dt(0),tickMax:new dt(0)};var o=UL(new dt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new dt(0):(s=new dt(t).add(e).div(2),s=s.sub(new dt(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new dt(e).sub(s).div(o).toNumber()),f=l+c+1;return f>n?qL(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,l=e>0?l:l+(n-f)),{step:o,tickMin:s.sub(new dt(l).mul(o)),tickMax:s.add(new dt(c).mul(o))})}function oX(t){var e=ff(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=FL([n,r]),c=ff(l,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(J_(X_(0,i-1).map(function(){return 1/0}))):[].concat(J_(X_(0,i-1).map(function(){return-1/0})),[h]);return n>r?Q_(m):m}if(f===h)return iX(f,i,o);var v=qL(f,h,s,o),x=v.step,S=v.tickMin,T=v.tickMax,_=Km.rangeStep(S,T.add(new dt(.1).mul(x)),x);return n>r?Q_(_):_}function aX(t,e){var n=ff(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=FL([r,i]),l=ff(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var h=Math.max(e,2),m=UL(new dt(f).sub(c).div(h-1),o,0),v=[].concat(J_(Km.rangeStep(new dt(c),new dt(f).sub(new dt(.99).mul(m)),m)),[f]);return r>i?Q_(v):v}var sX=VL(oX),uX=VL(aX),lX="Invariant failed";function ps(t,e){throw new Error(lX)}var cX=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function Mp(){return Mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mp.apply(this,arguments)}function fX(t,e){return mX(t)||pX(t,e)||hX(t,e)||dX()}function dX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hX(t,e){if(t){if(typeof t=="string")return EN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EN(t,e)}}function EN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function mX(t){if(Array.isArray(t))return t}function gX(t,e){if(t==null)return{};var n=yX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HL(r.key),r)}}function bX(t,e,n){return e&&xX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _X(t,e,n){return e=Lp(e),wX(t,zL()?Reflect.construct(e,n||[],Lp(t).constructor):e.apply(t,n))}function wX(t,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EX(t)}function EX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zL=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lp(t)}function TX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ew(t,e)}function ew(t,e){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ew(t,e)}function WL(t,e,n){return e=HL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HL(t){var e=SX(t,"string");return Hu(e)=="symbol"?e:e+""}function SX(t,e){if(Hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ym=(function(t){function e(){return vX(this,e),_X(this,e,arguments)}return TX(e,t),bX(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,l=r.dataKey,c=r.data,f=r.dataPointFormatter,h=r.xAxis,m=r.yAxis,v=gX(r,cX),x=ot(v,!1);this.props.direction==="x"&&h.type!=="number"&&ps();var S=c.map(function(T){var _=f(T,l),C=_.x,D=_.y,N=_.value,R=_.errorVal;if(!R)return null;var O=[],j,A;if(Array.isArray(R)){var P=fX(R,2);j=P[0],A=P[1]}else j=A=R;if(o==="vertical"){var I=h.scale,V=D+i,$=V+s,B=V-s,L=I(N-j),Q=I(N+A);O.push({x1:Q,y1:$,x2:Q,y2:B}),O.push({x1:L,y1:V,x2:Q,y2:V}),O.push({x1:L,y1:$,x2:L,y2:B})}else if(o==="horizontal"){var ee=m.scale,ae=C+i,se=ae-s,J=ae+s,ie=ee(N-j),re=ee(N+A);O.push({x1:se,y1:re,x2:J,y2:re}),O.push({x1:ae,y1:ie,x2:ae,y2:re}),O.push({x1:se,y1:ie,x2:J,y2:ie})}return K.createElement(cn,Mp({className:"recharts-errorBar",key:"bar-".concat(O.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},x),O.map(function(z){return K.createElement("line",Mp({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return K.createElement(cn,{className:"recharts-errorBars"},S)}}])})(K.Component);WL(Ym,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});WL(Ym,"displayName","ErrorBar");function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){AX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AX(t,e,n){return e=PX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PX(t){var e=IX(t,"string");return df(e)=="symbol"?e:e+""}function IX(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GL=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=or(n,Iu);if(!s)return null;var l=Iu.defaultProps,c=l!==void 0?Ua(Ua({},l),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:o==="children"?f=(r||[]).reduce(function(h,m){var v=m.item,x=m.props,S=x.sectors||x.data||[];return h.concat(S.map(function(T){return{type:s.props.iconType||v.props.legendType,value:T.name,color:T.fill,payload:T}}))},[]):f=(r||[]).map(function(h){var m=h.item,v=m.type.defaultProps,x=v!==void 0?Ua(Ua({},v),m.props):{},S=x.dataKey,T=x.name,_=x.legendType,C=x.hide;return{inactive:C,dataKey:S,type:c.iconType||_||"square",color:CE(m),value:T||S,payload:x}}),Ua(Ua(Ua({},c),Iu.getWithHeight(s,i)),{},{payload:f,item:s})};function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function SN(t){return NX(t)||kX(t)||OX(t)||CX()}function CX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OX(t,e){if(t){if(typeof t=="string")return tw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tw(t,e)}}function kX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NX(t){if(Array.isArray(t))return tw(t)}function tw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){Ou(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ou(t,e,n){return e=jX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jX(t){var e=RX(t,"string");return hf(e)=="symbol"?e:e+""}function RX(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ti(t,e,n){return st(t)||st(e)?n:tn(e)?wr(t,e,n):Ge(e)?e(t):n}function $c(t,e,n,r){var i=NY(t,function(l){return Ti(l,e)});if(n==="number"){var o=i.filter(function(l){return xe(l)||parseFloat(l)});return o.length?[Hm(o),Wm(o)]:[1/0,-1/0]}var s=r?i.filter(function(l){return!st(l)}):i;return s.map(function(l){return tn(l)||l instanceof Date?l:""})}var DX=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,f=0;f<l;f++){var h=f>0?i[f-1].coordinate:i[l-1].coordinate,m=i[f].coordinate,v=f>=l-1?i[0].coordinate:i[f+1].coordinate,x=void 0;if(Fr(m-h)!==Fr(v-m)){var S=[];if(Fr(v-m)===Fr(c[1]-c[0])){x=v;var T=m+c[1]-c[0];S[0]=Math.min(T,(T+h)/2),S[1]=Math.max(T,(T+h)/2)}else{x=h;var _=v+c[1]-c[0];S[0]=Math.min(m,(_+m)/2),S[1]=Math.max(m,(_+m)/2)}var C=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(e>C[0]&&e<=C[1]||e>=S[0]&&e<=S[1]){s=i[f].index;break}}else{var D=Math.min(h,v),N=Math.max(h,v);if(e>(D+m)/2&&e<=(N+m)/2){s=i[f].index;break}}}else for(var R=0;R<l;R++)if(R===0&&e<=(r[R].coordinate+r[R+1].coordinate)/2||R>0&&R<l-1&&e>(r[R].coordinate+r[R-1].coordinate)/2&&e<=(r[R].coordinate+r[R+1].coordinate)/2||R===l-1&&e>(r[R].coordinate+r[R-1].coordinate)/2){s=r[R].index;break}return s},CE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Lt(Lt({},e.type.defaultProps),e.props):e.props,s=o.stroke,l=o.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},MX=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},l=Object.keys(o),c=0,f=l.length;c<f;c++)for(var h=o[l[c]].stackGroups,m=Object.keys(h),v=0,x=m.length;v<x;v++){var S=h[m[v]],T=S.items,_=S.cateAxisId,C=T.filter(function(A){return Zi(A.type).indexOf("Bar")>=0});if(C&&C.length){var D=C[0].type.defaultProps,N=D!==void 0?Lt(Lt({},D),C[0].props):C[0].props,R=N.barSize,O=N[_];s[O]||(s[O]=[]);var j=st(R)?n:R;s[O].push({item:C[0],stackList:C.slice(1),barSize:st(j)?void 0:ds(j,r,0)})}}return s},LX=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,l=e.maxBarSize,c=s.length;if(c<1)return null;var f=ds(n,i,0,!0),h,m=[];if(s[0].barSize===+s[0].barSize){var v=!1,x=i/c,S=s.reduce(function(R,O){return R+O.barSize||0},0);S+=(c-1)*f,S>=i&&(S-=(c-1)*f,f=0),S>=i&&x>0&&(v=!0,x*=.9,S=c*x);var T=(i-S)/2>>0,_={offset:T-f,size:0};h=s.reduce(function(R,O){var j={item:O.item,position:{offset:_.offset+_.size+f,size:v?x:O.barSize}},A=[].concat(SN(R),[j]);return _=A[A.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(P){A.push({item:P,position:_})}),A},m)}else{var C=ds(r,i,0,!0);i-2*C-(c-1)*f<=0&&(f=0);var D=(i-2*C-(c-1)*f)/c;D>1&&(D>>=0);var N=l===+l?Math.min(D,l):D;h=s.reduce(function(R,O,j){var A=[].concat(SN(R),[{item:O.item,position:{offset:C+(D+f)*j+(D-N)/2,size:N}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(P){A.push({item:P,position:A[A.length-1].position})}),A},m)}return h},$X=function(e,n,r,i){var o=r.children,s=r.width,l=r.margin,c=s-(l.left||0)-(l.right||0),f=GL({children:o,legendWidth:c});if(f){var h=i||{},m=h.width,v=h.height,x=f.align,S=f.verticalAlign,T=f.layout;if((T==="vertical"||T==="horizontal"&&S==="middle")&&x!=="center"&&xe(e[x]))return Lt(Lt({},e),{},Ou({},x,e[x]+(m||0)));if((T==="horizontal"||T==="vertical"&&x==="center")&&S!=="middle"&&xe(e[S]))return Lt(Lt({},e),{},Ou({},S,e[S]+(v||0)))}return e},VX=function(e,n,r){return st(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},KL=function(e,n,r,i,o){var s=n.props.children,l=zr(s,Ym).filter(function(f){return VX(i,o,f.props.direction)});if(l&&l.length){var c=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var m=Ti(h,r);if(st(m))return f;var v=Array.isArray(m)?[Hm(m),Wm(m)]:[m,m],x=c.reduce(function(S,T){var _=Ti(h,T,0),C=v[0]-Math.abs(Array.isArray(_)?_[0]:_),D=v[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(C,S[0]),Math.max(D,S[1])]},[1/0,-1/0]);return[Math.min(x[0],f[0]),Math.max(x[1],f[1])]},[1/0,-1/0])}return null},BX=function(e,n,r,i,o){var s=n.map(function(l){return KL(e,l,r,o,i)}).filter(function(l){return!st(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},YL=function(e,n,r,i,o){var s=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&KL(e,c,f,i)||$c(e,f,r,o)});if(r==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,f){for(var h=0,m=f.length;h<m;h++)l[f[h]]||(l[f[h]]=!0,c.push(f[h]));return c},[])},XL=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},QL=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var o,s,l=e.map(function(c){return c.coordinate===n&&(o=!0),c.coordinate===r&&(s=!0),c.coordinate});return o||l.push(n),s||l.push(r),l},Ji=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Fr(l[0]-l[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var v=o?o.indexOf(m):m;return{coordinate:i(v)+f,value:m,offset:f}});return h.filter(function(m){return!zf(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,v){return{coordinate:i(m)+f,value:m,index:v,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,v){return{coordinate:i(m)+f,value:o?o[m]:m,index:v,offset:f}})},xb=new WeakMap,Sh=function(e,n){if(typeof n!="function")return e;xb.has(e)||xb.set(e,new WeakMap);var r=xb.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},FX=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:of(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:kp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Lc(),realScaleType:"point"}:o==="category"?{scale:of(),realScaleType:"band"}:{scale:kp(),realScaleType:"linear"};if(fs(i)){var c="scale".concat(Nm(i));return{scale:(fN[c]||Lc)(),realScaleType:fN[c]?c:"point"}}return Ge(i)?{scale:i}:{scale:Lc(),realScaleType:"point"}},PN=1e-4,UX=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-PN,s=Math.max(i[0],i[1])+PN,l=e(n[0]),c=e(n[r-1]);(l<o||l>s||c<o||c>s)&&e.domain([n[0],n[r-1]])}},qX=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},zX=function(e,n){if(!n||n.length!==2||!xe(n[0])||!xe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!xe(e[0])||e[0]<r)&&(o[0]=r),(!xe(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},WX=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,l=0;l<n;++l){var c=zf(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1])}},HX=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var l=zf(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},GX={sign:WX,expand:Cz,none:$u,silhouette:Oz,wiggle:kz,positive:HX},KX=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),o=GX[r],s=Iz().keys(i).value(function(l,c){return+Ti(l,c,0)}).order(k_).offset(o);return s(e)},YX=function(e,n,r,i,o,s){if(!e)return null;var l=s?n.reverse():n,c={},f=l.reduce(function(m,v){var x,S=(x=v.type)!==null&&x!==void 0&&x.defaultProps?Lt(Lt({},v.type.defaultProps),v.props):v.props,T=S.stackId,_=S.hide;if(_)return m;var C=S[r],D=m[C]||{hasStack:!1,stackGroups:{}};if(tn(T)){var N=D.stackGroups[T]||{numericAxisId:r,cateAxisId:i,items:[]};N.items.push(v),D.hasStack=!0,D.stackGroups[T]=N}else D.stackGroups[km("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[v]};return Lt(Lt({},m),{},Ou({},C,D))},c),h={};return Object.keys(f).reduce(function(m,v){var x=f[v];if(x.hasStack){var S={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(T,_){var C=x.stackGroups[_];return Lt(Lt({},T),{},Ou({},_,{numericAxisId:r,cateAxisId:i,items:C.items,stackedData:KX(e,C.items,o)}))},S)}return Lt(Lt({},m),{},Ou({},v,x))},h)},XX=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=sX(f,o,l);return e.domain([Hm(h),Wm(h)]),{niceTicks:h}}if(o&&i==="number"){var m=e.domain(),v=uX(m,o,l);return{niceTicks:v}}return null},IN=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Ti(s,n.dataKey,n.domain[l]);return st(c)?null:n.scale(c)-o/2+i},QX=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},JX=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Lt(Lt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(tn(o)){var s=n[o];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},ZX=function(e){return e.reduce(function(n,r){return[Hm(r.concat([n[0]]).filter(xe)),Wm(r.concat([n[1]]).filter(xe))]},[1/0,-1/0])},JL=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],l=s.stackedData,c=l.reduce(function(f,h){var m=ZX(h.slice(n,r+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},CN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ON=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nw=function(e,n,r){if(Ge(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(xe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(CN.test(e[0])){var o=+CN.exec(e[0])[1];i[0]=n[0]-o}else Ge(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(xe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(ON.test(e[1])){var s=+ON.exec(e[1])[1];i[1]=n[1]+s}else Ge(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},$p=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=tE(n,function(m){return m.coordinate}),s=1/0,l=1,c=o.length;l<c;l++){var f=o[l],h=o[l-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},kN=function(e,n,r){return!e||!e.length||AE(e,wr(r,"type.defaultProps.domain"))?n:e},ZL=function(e,n){var r=e.type.defaultProps?Lt(Lt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,l=r.formatter,c=r.tooltipType,f=r.chartType,h=r.hide;return Lt(Lt({},ot(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:o||i,color:CE(e),value:Ti(n,i),type:c,payload:n,chartType:f,hide:h})};function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function NN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(n),!0).forEach(function(r){eQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eQ(t,e,n){return e=tQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tQ(t){var e=nQ(t,"string");return pf(e)=="symbol"?e:e+""}function nQ(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vp=Math.PI/180,rQ=function(e){return e*180/Math.PI},xn=function(e,n,r,i){return{x:e+Math.cos(-Vp*i)*r,y:n+Math.sin(-Vp*i)*r}},iQ=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},oQ=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,l=iQ({x:r,y:i},{x:o,y:s});if(l<=0)return{radius:l};var c=(r-o)/l,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:l,angle:rQ(f),angleInRadian:f}},aQ=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},sQ=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),l=Math.min(o,s);return e+l*360},RN=function(e,n){var r=e.x,i=e.y,o=oQ({x:r,y:i},n),s=o.radius,l=o.angle,c=n.innerRadius,f=n.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=aQ(n),m=h.startAngle,v=h.endAngle,x=l,S;if(m<=v){for(;x>v;)x-=360;for(;x<m;)x+=360;S=x>=m&&x<=v}else{for(;x>m;)x-=360;for(;x<v;)x+=360;S=x>=v&&x<=m}return S?jN(jN({},n),{},{radius:s,angle:sQ(x,n)}):null};function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}var uQ=["offset"];function lQ(t){return hQ(t)||dQ(t)||fQ(t)||cQ()}function cQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fQ(t,e){if(t){if(typeof t=="string")return rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rw(t,e)}}function dQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hQ(t){if(Array.isArray(t))return rw(t)}function rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pQ(t,e){if(t==null)return{};var n=mQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function DN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(n),!0).forEach(function(r){gQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gQ(t,e,n){return e=yQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yQ(t){var e=vQ(t,"string");return mf(e)=="symbol"?e:e+""}function vQ(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gf.apply(this,arguments)}var xQ=function(e){var n=e.value,r=e.formatter,i=st(e.children)?n:e.children;return Ge(r)?r(i):i},bQ=function(e,n){var r=Fr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},_Q=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,l=e.className,c=o,f=c.cx,h=c.cy,m=c.innerRadius,v=c.outerRadius,x=c.startAngle,S=c.endAngle,T=c.clockWise,_=(m+v)/2,C=bQ(x,S),D=C>=0?1:-1,N,R;i==="insideStart"?(N=x+D*s,R=T):i==="insideEnd"?(N=S-D*s,R=!T):i==="end"&&(N=S+D*s,R=T),R=C<=0?R:!R;var O=xn(f,h,_,N),j=xn(f,h,_,N+(R?1:-1)*359),A="M".concat(O.x,",").concat(O.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(R?0:1,`,
    `).concat(j.x,",").concat(j.y),P=st(e.id)?km("recharts-radial-line-"):e.id;return K.createElement("text",gf({},r,{dominantBaseline:"central",className:at("recharts-radial-bar-label",l)}),K.createElement("defs",null,K.createElement("path",{id:P,d:A})),K.createElement("textPath",{xlinkHref:"#".concat(P)},n))},wQ=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,l=o.cy,c=o.innerRadius,f=o.outerRadius,h=o.startAngle,m=o.endAngle,v=(h+m)/2;if(i==="outside"){var x=xn(s,l,f+r,v),S=x.x,T=x.y;return{x:S,y:T,textAnchor:S>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var _=(c+f)/2,C=xn(s,l,_,v),D=C.x,N=C.y;return{x:D,y:N,textAnchor:"middle",verticalAnchor:"middle"}},EQ=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,l=s.x,c=s.y,f=s.width,h=s.height,m=h>=0?1:-1,v=m*i,x=m>0?"end":"start",S=m>0?"start":"end",T=f>=0?1:-1,_=T*i,C=T>0?"end":"start",D=T>0?"start":"end";if(o==="top"){var N={x:l+f/2,y:c-m*i,textAnchor:"middle",verticalAnchor:x};return Jt(Jt({},N),r?{height:Math.max(c-r.y,0),width:f}:{})}if(o==="bottom"){var R={x:l+f/2,y:c+h+v,textAnchor:"middle",verticalAnchor:S};return Jt(Jt({},R),r?{height:Math.max(r.y+r.height-(c+h),0),width:f}:{})}if(o==="left"){var O={x:l-_,y:c+h/2,textAnchor:C,verticalAnchor:"middle"};return Jt(Jt({},O),r?{width:Math.max(O.x-r.x,0),height:h}:{})}if(o==="right"){var j={x:l+f+_,y:c+h/2,textAnchor:D,verticalAnchor:"middle"};return Jt(Jt({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:h}:{})}var A=r?{width:f,height:h}:{};return o==="insideLeft"?Jt({x:l+_,y:c+h/2,textAnchor:D,verticalAnchor:"middle"},A):o==="insideRight"?Jt({x:l+f-_,y:c+h/2,textAnchor:C,verticalAnchor:"middle"},A):o==="insideTop"?Jt({x:l+f/2,y:c+v,textAnchor:"middle",verticalAnchor:S},A):o==="insideBottom"?Jt({x:l+f/2,y:c+h-v,textAnchor:"middle",verticalAnchor:x},A):o==="insideTopLeft"?Jt({x:l+_,y:c+v,textAnchor:D,verticalAnchor:S},A):o==="insideTopRight"?Jt({x:l+f-_,y:c+v,textAnchor:C,verticalAnchor:S},A):o==="insideBottomLeft"?Jt({x:l+_,y:c+h-v,textAnchor:D,verticalAnchor:x},A):o==="insideBottomRight"?Jt({x:l+f-_,y:c+h-v,textAnchor:C,verticalAnchor:x},A):pl(o)&&(xe(o.x)||Ka(o.x))&&(xe(o.y)||Ka(o.y))?Jt({x:l+ds(o.x,f),y:c+ds(o.y,h),textAnchor:"end",verticalAnchor:"end"},A):Jt({x:l+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},A)},TQ=function(e){return"cx"in e&&xe(e.cx)};function On(t){var e=t.offset,n=e===void 0?5:e,r=pQ(t,uQ),i=Jt({offset:n},r),o=i.viewBox,s=i.position,l=i.value,c=i.children,f=i.content,h=i.className,m=h===void 0?"":h,v=i.textBreakAll;if(!o||st(l)&&st(c)&&!q.isValidElement(f)&&!Ge(f))return null;if(q.isValidElement(f))return q.cloneElement(f,i);var x;if(Ge(f)){if(x=q.createElement(f,i),q.isValidElement(x))return x}else x=xQ(i);var S=TQ(o),T=ot(i,!0);if(S&&(s==="insideStart"||s==="insideEnd"||s==="end"))return _Q(i,x,T);var _=S?wQ(i):EQ(i);return K.createElement(Ep,gf({className:at("recharts-label",m)},T,_,{breakAll:v}),x)}On.displayName="Label";var e4=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,m=e.x,v=e.y,x=e.top,S=e.left,T=e.width,_=e.height,C=e.clockWise,D=e.labelViewBox;if(D)return D;if(xe(T)&&xe(_)){if(xe(m)&&xe(v))return{x:m,y:v,width:T,height:_};if(xe(x)&&xe(S))return{x,y:S,width:T,height:_}}return xe(m)&&xe(v)?{x:m,y:v,width:0,height:0}:xe(n)&&xe(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||l||0,clockWise:C}:e.viewBox?e.viewBox:{}},SQ=function(e,n){return e?e===!0?K.createElement(On,{key:"label-implicit",viewBox:n}):tn(e)?K.createElement(On,{key:"label-implicit",viewBox:n,value:e}):q.isValidElement(e)?e.type===On?q.cloneElement(e,{key:"label-implicit",viewBox:n}):K.createElement(On,{key:"label-implicit",content:e,viewBox:n}):Ge(e)?K.createElement(On,{key:"label-implicit",content:e,viewBox:n}):pl(e)?K.createElement(On,gf({viewBox:n},e,{key:"label-implicit"})):null:null},AQ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=e4(e),s=zr(i,On).map(function(c,f){return q.cloneElement(c,{viewBox:n||o,key:"label-".concat(f)})});if(!r)return s;var l=SQ(e.label,n||o);return[l].concat(lQ(s))};On.parseViewBox=e4;On.renderCallByParent=AQ;var bb,MN;function PQ(){if(MN)return bb;MN=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return bb=t,bb}var IQ=PQ();const CQ=ht(IQ);function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}var OQ=["valueAccessor"],kQ=["data","dataKey","clockWise","id","textBreakAll"];function NQ(t){return MQ(t)||DQ(t)||RQ(t)||jQ()}function jQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RQ(t,e){if(t){if(typeof t=="string")return iw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iw(t,e)}}function DQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MQ(t){if(Array.isArray(t))return iw(t)}function iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bp(){return Bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bp.apply(this,arguments)}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $N(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){LQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LQ(t,e,n){return e=$Q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Q(t){var e=VQ(t,"string");return yf(e)=="symbol"?e:e+""}function VQ(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VN(t,e){if(t==null)return{};var n=BQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var FQ=function(e){return Array.isArray(e.value)?CQ(e.value):e.value};function is(t){var e=t.valueAccessor,n=e===void 0?FQ:e,r=VN(t,OQ),i=r.data,o=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,f=VN(r,kQ);return!i||!i.length?null:K.createElement(cn,{className:"recharts-label-list"},i.map(function(h,m){var v=st(o)?n(h,m):Ti(h&&h.payload,o),x=st(l)?{}:{id:"".concat(l,"-").concat(m)};return K.createElement(On,Bp({},ot(h,!0),f,x,{parentViewBox:h.parentViewBox,value:v,textBreakAll:c,viewBox:On.parseViewBox(st(s)?h:$N($N({},h),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}is.displayName="LabelList";function UQ(t,e){return t?t===!0?K.createElement(is,{key:"labelList-implicit",data:e}):K.isValidElement(t)||Ge(t)?K.createElement(is,{key:"labelList-implicit",data:e,content:t}):pl(t)?K.createElement(is,Bp({data:e},t,{key:"labelList-implicit"})):null:null}function qQ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=zr(r,is).map(function(s,l){return q.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var o=UQ(t.label,e);return[o].concat(NQ(i))}is.renderCallByParent=qQ;function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(this,arguments)}function BN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(n),!0).forEach(function(r){zQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zQ(t,e,n){return e=WQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WQ(t){var e=HQ(t,"string");return vf(e)=="symbol"?e:e+""}function HQ(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GQ=function(e,n){var r=Fr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Ah=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(l?1:-1)+i,m=Math.asin(c/h)/Vp,v=f?o:o+s*m,x=xn(n,r,h,v),S=xn(n,r,i,v),T=f?o-s*m:o,_=xn(n,r,h*Math.cos(m*Vp),T);return{center:x,circleTangency:S,lineTangency:_,theta:m}},t4=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,l=e.endAngle,c=GQ(s,l),f=s+c,h=xn(n,r,o,s),m=xn(n,r,o,f),v="M ".concat(h.x,",").concat(h.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var x=xn(n,r,i,s),S=xn(n,r,i,f);v+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else v+="L ".concat(n,",").concat(r," Z");return v},KQ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,m=Fr(h-f),v=Ah({cx:n,cy:r,radius:o,angle:f,sign:m,cornerRadius:s,cornerIsExternal:c}),x=v.circleTangency,S=v.lineTangency,T=v.theta,_=Ah({cx:n,cy:r,radius:o,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:c}),C=_.circleTangency,D=_.lineTangency,N=_.theta,R=c?Math.abs(f-h):Math.abs(f-h)-T-N;if(R<0)return l?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):t4({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h});var O="M ".concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(R>180),",").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
  `);if(i>0){var j=Ah({cx:n,cy:r,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=j.circleTangency,P=j.lineTangency,I=j.theta,V=Ah({cx:n,cy:r,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),$=V.circleTangency,B=V.lineTangency,L=V.theta,Q=c?Math.abs(f-h):Math.abs(f-h)-I-L;if(Q<0&&s===0)return"".concat(O,"L").concat(n,",").concat(r,"Z");O+="L".concat(B.x,",").concat(B.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Q>180),",").concat(+(m>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else O+="L".concat(n,",").concat(r,"Z");return O},YQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},n4=function(e){var n=FN(FN({},YQ),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,h=n.startAngle,m=n.endAngle,v=n.className;if(s<o||h===m)return null;var x=at("recharts-sector",v),S=s-o,T=ds(l,S,0,!0),_;return T>0&&Math.abs(h-m)<360?_=KQ({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(T,S/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m}):_=t4({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:h,endAngle:m}),K.createElement("path",ow({},ot(n,!0),{className:x,d:_,role:"img"}))};function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(this,arguments)}function UN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(n),!0).forEach(function(r){XQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XQ(t,e,n){return e=QQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QQ(t){var e=JQ(t,"string");return xf(e)=="symbol"?e:e+""}function JQ(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zN={curveBasisClosed:yz,curveBasisOpen:vz,curveBasis:gz,curveBumpX:nz,curveBumpY:rz,curveLinearClosed:xz,curveLinear:Rm,curveMonotoneX:bz,curveMonotoneY:_z,curveNatural:wz,curveStep:Ez,curveStepAfter:Sz,curveStepBefore:Tz},Ph=function(e){return e.x===+e.x&&e.y===+e.y},yc=function(e){return e.x},vc=function(e){return e.y},ZQ=function(e,n){if(Ge(e))return e;var r="curve".concat(Nm(e));return(r==="curveMonotone"||r==="curveBump")&&n?zN["".concat(r).concat(n==="vertical"?"Y":"X")]:zN[r]||Rm},eJ=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=ZQ(r,l),m=f?o.filter(function(T){return Ph(T)}):o,v;if(Array.isArray(s)){var x=f?s.filter(function(T){return Ph(T)}):s,S=m.map(function(T,_){return qN(qN({},T),{},{base:x[_]})});return l==="vertical"?v=vh().y(vc).x1(yc).x0(function(T){return T.base.x}):v=vh().x(yc).y1(vc).y0(function(T){return T.base.y}),v.defined(Ph).curve(h),v(S)}return l==="vertical"&&xe(s)?v=vh().y(vc).x1(yc).x0(s):xe(s)?v=vh().x(yc).y1(vc).y0(s):v=uM().x(yc).y(vc),v.defined(Ph).curve(h),v(m)},WN=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?eJ(e):i;return q.createElement("path",aw({},ot(e,!1),fp(e),{className:at("recharts-curve",n),d:s,ref:o}))},_b={exports:{}},wb,HN;function tJ(){if(HN)return wb;HN=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return wb=t,wb}var Eb,GN;function nJ(){if(GN)return Eb;GN=1;var t=tJ();function e(){}function n(){}return n.resetWarningCache=e,Eb=function(){function r(s,l,c,f,h,m){if(m!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},Eb}var KN;function rJ(){return KN||(KN=1,_b.exports=nJ()()),_b.exports}var iJ=rJ();const lt=ht(iJ),{getOwnPropertyNames:oJ,getOwnPropertySymbols:aJ}=Object,{hasOwnProperty:sJ}=Object.prototype;function Tb(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Ih(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),l=o.get(r);if(s&&l)return s===r&&l===n;o.set(n,r),o.set(r,n);const c=t(n,r,i);return o.delete(n),o.delete(r),c}}function uJ(t){return t!=null?t[Symbol.toStringTag]:void 0}function YN(t){return oJ(t).concat(aJ(t))}const lJ=Object.hasOwn||((t,e)=>sJ.call(t,e));function Es(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const cJ="__v",fJ="__o",dJ="_owner",{getOwnPropertyDescriptor:XN,keys:QN}=Object;function hJ(t,e){return t.byteLength===e.byteLength&&Fp(new Uint8Array(t),new Uint8Array(e))}function pJ(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function mJ(t,e){return t.byteLength===e.byteLength&&Fp(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function gJ(t,e){return Es(t.getTime(),e.getTime())}function yJ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function vJ(t,e){return t===e}function JN(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,l,c=0;for(;(s=o.next())&&!s.done;){const f=e.entries();let h=!1,m=0;for(;(l=f.next())&&!l.done;){if(i[m]){m++;continue}const v=s.value,x=l.value;if(n.equals(v[0],x[0],c,m,t,e,n)&&n.equals(v[1],x[1],v[0],x[0],t,e,n)){h=i[m]=!0;break}m++}if(!h)return!1;c++}return!0}const xJ=Es;function bJ(t,e,n){const r=QN(t);let i=r.length;if(QN(e).length!==i)return!1;for(;i-- >0;)if(!r4(t,e,n,r[i]))return!1;return!0}function xc(t,e,n){const r=YN(t);let i=r.length;if(YN(e).length!==i)return!1;let o,s,l;for(;i-- >0;)if(o=r[i],!r4(t,e,n,o)||(s=XN(t,o),l=XN(e,o),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function _J(t,e){return Es(t.valueOf(),e.valueOf())}function wJ(t,e){return t.source===e.source&&t.flags===e.flags}function ZN(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,l;for(;(s=o.next())&&!s.done;){const c=e.values();let f=!1,h=0;for(;(l=c.next())&&!l.done;){if(!i[h]&&n.equals(s.value,l.value,s.value,l.value,t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function Fp(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function EJ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function r4(t,e,n,r){return(r===dJ||r===fJ||r===cJ)&&(t.$$typeof||e.$$typeof)?!0:lJ(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const TJ="[object ArrayBuffer]",SJ="[object Arguments]",AJ="[object Boolean]",PJ="[object DataView]",IJ="[object Date]",CJ="[object Error]",OJ="[object Map]",kJ="[object Number]",NJ="[object Object]",jJ="[object RegExp]",RJ="[object Set]",DJ="[object String]",MJ={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},LJ="[object URL]",$J=Object.prototype.toString;function VJ({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:m,areTypedArraysEqual:v,areUrlsEqual:x,unknownTagComparators:S}){return function(_,C,D){if(_===C)return!0;if(_==null||C==null)return!1;const N=typeof _;if(N!==typeof C)return!1;if(N!=="object")return N==="number"?l(_,C,D):N==="function"?o(_,C,D):!1;const R=_.constructor;if(R!==C.constructor)return!1;if(R===Object)return c(_,C,D);if(Array.isArray(_))return e(_,C,D);if(R===Date)return r(_,C,D);if(R===RegExp)return h(_,C,D);if(R===Map)return s(_,C,D);if(R===Set)return m(_,C,D);const O=$J.call(_);if(O===IJ)return r(_,C,D);if(O===jJ)return h(_,C,D);if(O===OJ)return s(_,C,D);if(O===RJ)return m(_,C,D);if(O===NJ)return typeof _.then!="function"&&typeof C.then!="function"&&c(_,C,D);if(O===LJ)return x(_,C,D);if(O===CJ)return i(_,C,D);if(O===SJ)return c(_,C,D);if(MJ[O])return v(_,C,D);if(O===TJ)return t(_,C,D);if(O===PJ)return n(_,C,D);if(O===AJ||O===kJ||O===DJ)return f(_,C,D);if(S){let j=S[O];if(!j){const A=uJ(_);A&&(j=S[A])}if(j)return j(_,C,D)}return!1}}function BJ({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:hJ,areArraysEqual:n?xc:pJ,areDataViewsEqual:mJ,areDatesEqual:gJ,areErrorsEqual:yJ,areFunctionsEqual:vJ,areMapsEqual:n?Tb(JN,xc):JN,areNumbersEqual:xJ,areObjectsEqual:n?xc:bJ,arePrimitiveWrappersEqual:_J,areRegExpsEqual:wJ,areSetsEqual:n?Tb(ZN,xc):ZN,areTypedArraysEqual:n?Tb(Fp,xc):Fp,areUrlsEqual:EJ,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Ih(r.areArraysEqual),o=Ih(r.areMapsEqual),s=Ih(r.areObjectsEqual),l=Ih(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return r}function FJ(t){return function(e,n,r,i,o,s,l){return t(e,n,l)}}function UJ({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(l,c){const{cache:f=t?new WeakMap:void 0,meta:h}=n();return e(l,c,{cache:f,equals:r,meta:h,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(l,c){return e(l,c,o)}}const qJ=pa();pa({strict:!0});pa({circular:!0});pa({circular:!0,strict:!0});pa({createInternalComparator:()=>Es});pa({strict:!0,createInternalComparator:()=>Es});pa({circular:!0,createInternalComparator:()=>Es});pa({circular:!0,createInternalComparator:()=>Es,strict:!0});function pa(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=BJ(t),s=VJ(o),l=n?n(s):FJ(s);return UJ({circular:e,comparator:s,createState:r,equals:l,strict:i})}function zJ(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function e2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):zJ(i)};requestAnimationFrame(r)}function sw(t){"@babel/helpers - typeof";return sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sw(t)}function WJ(t){return YJ(t)||KJ(t)||GJ(t)||HJ()}function HJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GJ(t,e){if(t){if(typeof t=="string")return t2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t2(t,e)}}function t2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YJ(t){if(Array.isArray(t))return t}function XJ(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,l=WJ(s),c=l[0],f=l.slice(1);if(typeof c=="number"){e2(i.bind(null,f),c);return}i(c),e2(i.bind(null,f));return}sw(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function n2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(n),!0).forEach(function(r){i4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i4(t,e,n){return e=QJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QJ(t){var e=JJ(t,"string");return bf(e)==="symbol"?e:String(e)}function JJ(t,e){if(bf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZJ=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},eZ=function(e){return e},tZ=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Vc=function(e,n){return Object.keys(n).reduce(function(r,i){return r2(r2({},r),{},i4({},i,e(i,n[i])))},{})},i2=function(e,n,r){return e.map(function(i){return"".concat(tZ(i)," ").concat(n,"ms ").concat(r)}).join(",")};function nZ(t,e){return oZ(t)||iZ(t,e)||o4(t,e)||rZ()}function rZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function oZ(t){if(Array.isArray(t))return t}function aZ(t){return lZ(t)||uZ(t)||o4(t)||sZ()}function sZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o4(t,e){if(t){if(typeof t=="string")return uw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uw(t,e)}}function uZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lZ(t){if(Array.isArray(t))return uw(t)}function uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Up=1e-4,a4=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},s4=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},o2=function(e,n){return function(r){var i=a4(e,n);return s4(i,r)}},cZ=function(e,n){return function(r){var i=a4(e,n),o=[].concat(aZ(i.map(function(s,l){return s*l}).slice(1)),[0]);return s4(o,r)}},a2=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,l=1;break;case"ease":i=.25,o=.1,s=.25,l=1;break;case"ease-in":i=.42,o=0,s=1,l=1;break;case"ease-out":i=.42,o=0,s=.58,l=1;break;case"ease-in-out":i=0,o=0,s=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),h=nZ(f,4);i=h[0],o=h[1],s=h[2],l=h[3]}}}var m=o2(i,s),v=o2(o,l),x=cZ(i,s),S=function(C){return C>1?1:C<0?0:C},T=function(C){for(var D=C>1?1:C,N=D,R=0;R<8;++R){var O=m(N)-D,j=x(N);if(Math.abs(O-D)<Up||j<Up)return v(N);N=S(N-O/j)}return v(N)};return T.isStepper=!1,T},fZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(h,m,v){var x=-(h-m)*r,S=v*o,T=v+(x-S)*l/1e3,_=v*l/1e3+h;return Math.abs(_-m)<Up&&Math.abs(T)<Up?[m,0]:[_,T]};return c.isStepper=!0,c.dt=l,c},dZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return a2(i);case"spring":return fZ();default:if(i.split("(")[0]==="cubic-bezier")return a2(i)}return typeof i=="function"?i:null};function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function s2(t){return mZ(t)||pZ(t)||u4(t)||hZ()}function hZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mZ(t){if(Array.isArray(t))return cw(t)}function u2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u2(Object(n),!0).forEach(function(r){lw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lw(t,e,n){return e=gZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gZ(t){var e=yZ(t,"string");return _f(e)==="symbol"?e:String(e)}function yZ(t,e){if(_f(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_f(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vZ(t,e){return _Z(t)||bZ(t,e)||u4(t,e)||xZ()}function xZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u4(t,e){if(t){if(typeof t=="string")return cw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cw(t,e)}}function cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function _Z(t){if(Array.isArray(t))return t}var qp=function(e,n,r){return e+(n-e)*r},fw=function(e){var n=e.from,r=e.to;return n!==r},wZ=function t(e,n,r){var i=Vc(function(o,s){if(fw(s)){var l=e(s.from,s.to,s.velocity),c=vZ(l,2),f=c[0],h=c[1];return gn(gn({},s),{},{from:f,velocity:h})}return s},n);return r<1?Vc(function(o,s){return fw(s)?gn(gn({},s),{},{velocity:qp(s.velocity,i[o].velocity,r),from:qp(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const EZ=(function(t,e,n,r,i){var o=ZJ(t,e),s=o.reduce(function(_,C){return gn(gn({},_),{},lw({},C,[t[C],e[C]]))},{}),l=o.reduce(function(_,C){return gn(gn({},_),{},lw({},C,{from:t[C],velocity:0,to:e[C]}))},{}),c=-1,f,h,m=function(){return null},v=function(){return Vc(function(C,D){return D.from},l)},x=function(){return!Object.values(l).filter(fw).length},S=function(C){f||(f=C);var D=C-f,N=D/n.dt;l=wZ(n,l,N),i(gn(gn(gn({},t),e),v())),f=C,x()||(c=requestAnimationFrame(m))},T=function(C){h||(h=C);var D=(C-h)/r,N=Vc(function(O,j){return qp.apply(void 0,s2(j).concat([n(D)]))},s);if(i(gn(gn(gn({},t),e),N)),D<1)c=requestAnimationFrame(m);else{var R=Vc(function(O,j){return qp.apply(void 0,s2(j).concat([n(1)]))},s);i(gn(gn(gn({},t),e),R))}};return m=n.isStepper?S:T,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}var TZ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function SZ(t,e){if(t==null)return{};var n=AZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Sb(t){return OZ(t)||CZ(t)||IZ(t)||PZ()}function PZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IZ(t,e){if(t){if(typeof t=="string")return dw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dw(t,e)}}function CZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OZ(t){if(Array.isArray(t))return dw(t)}function dw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(n),!0).forEach(function(r){Cc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cc(t,e,n){return e=l4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l4(r.key),r)}}function jZ(t,e,n){return e&&NZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l4(t){var e=RZ(t,"string");return Gu(e)==="symbol"?e:String(e)}function RZ(t,e){if(Gu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hw(t,e)}function hw(t,e){return hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hw(t,e)}function MZ(t){var e=LZ();return function(){var r=zp(t),i;if(e){var o=zp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return pw(this,i)}}function pw(t,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mw(t)}function mw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zp(t){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zp(t)}var la=(function(t){DZ(n,t);var e=MZ(n);function n(r,i){var o;kZ(this,n),o=e.call(this,r,i);var s=o.props,l=s.isActive,c=s.attributeName,f=s.from,h=s.to,m=s.steps,v=s.children,x=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(mw(o)),o.changeStyle=o.changeStyle.bind(mw(o)),!l||x<=0)return o.state={style:{}},typeof v=="function"&&(o.state={style:h}),pw(o);if(m&&m.length)o.state={style:m[0].style};else if(f){if(typeof v=="function")return o.state={style:f},pw(o);o.state={style:c?Cc({},c,f):f}}else o.state={style:{}};return o}return jZ(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,l=o.canBegin,c=o.attributeName,f=o.shouldReAnimate,h=o.to,m=o.from,v=this.state.style;if(l){if(!s){var x={style:c?Cc({},c,h):h};this.state&&v&&(c&&v[c]!==h||!c&&v!==h)&&this.setState(x);return}if(!(qJ(i.to,h)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var T=S||f?m:i.to;if(this.state&&v){var _={style:c?Cc({},c,T):T};(c&&v[c]!==T||!c&&v!==T)&&this.setState(_)}this.runAnimation(Dr(Dr({},this.props),{},{from:T,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,l=i.to,c=i.duration,f=i.easing,h=i.begin,m=i.onAnimationEnd,v=i.onAnimationStart,x=EZ(s,l,dZ(f),c,this.changeStyle),S=function(){o.stopJSAnimation=x()};this.manager.start([v,h,S,c,m])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,l=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,m=f.duration,v=m===void 0?0:m,x=function(T,_,C){if(C===0)return T;var D=_.duration,N=_.easing,R=N===void 0?"ease":N,O=_.style,j=_.properties,A=_.onAnimationEnd,P=C>0?s[C-1]:_,I=j||Object.keys(O);if(typeof R=="function"||R==="spring")return[].concat(Sb(T),[o.runJSAnimation.bind(o,{from:P.style,to:O,duration:D,easing:R}),D]);var V=i2(I,D,R),$=Dr(Dr(Dr({},P.style),O),{},{transition:V});return[].concat(Sb(T),[$,D,A]).filter(eZ)};return this.manager.start([c].concat(Sb(s.reduce(x,[h,Math.max(v,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=XJ());var o=i.begin,s=i.duration,l=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,v=i.steps,x=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof f=="function"||typeof x=="function"||f==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var T=l?Cc({},l,c):c,_=i2(Object.keys(T),s,f);S.start([h,o,Dr(Dr({},T),{},{transition:_}),s,m])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=SZ(i,TZ),f=q.Children.count(o),h=this.state.style;if(typeof o=="function")return o(h);if(!l||f===0||s<=0)return o;var m=function(x){var S=x.props,T=S.style,_=T===void 0?{}:T,C=S.className,D=q.cloneElement(x,Dr(Dr({},c),{},{style:Dr(Dr({},_),h),className:C}));return D};return f===1?m(q.Children.only(o)):K.createElement("div",null,q.Children.map(o,function(v){return m(v)}))}}]),n})(q.PureComponent);la.displayName="Animate";la.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};la.propTypes={from:lt.oneOfType([lt.object,lt.string]),to:lt.oneOfType([lt.object,lt.string]),attributeName:lt.string,duration:lt.number,begin:lt.number,easing:lt.oneOfType([lt.string,lt.func]),steps:lt.arrayOf(lt.shape({duration:lt.number.isRequired,style:lt.object.isRequired,easing:lt.oneOfType([lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),lt.func]),properties:lt.arrayOf("string"),onAnimationEnd:lt.func})),children:lt.oneOfType([lt.node,lt.func]),isActive:lt.bool,canBegin:lt.bool,onAnimationEnd:lt.func,shouldReAnimate:lt.bool,onAnimationStart:lt.func,onAnimationReStart:lt.func};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wp.apply(this,arguments)}function $Z(t,e){return UZ(t)||FZ(t,e)||BZ(t,e)||VZ()}function VZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BZ(t,e){if(t){if(typeof t=="string")return c2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c2(t,e)}}function c2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function UZ(t){if(Array.isArray(t))return t}function f2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(n),!0).forEach(function(r){qZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qZ(t,e,n){return e=zZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zZ(t){var e=WZ(t,"string");return wf(e)=="symbol"?e:e+""}function WZ(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h2=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,h;if(s>0&&o instanceof Array){for(var m=[0,0,0,0],v=0,x=4;v<x;v++)m[v]=o[v]>s?s:o[v];h="M".concat(e,",").concat(n+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+c*m[0],",").concat(n)),h+="L ".concat(e+r-c*m[1],",").concat(n),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+l*m[1])),h+="L ".concat(e+r,",").concat(n+i-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+r-c*m[2],",").concat(n+i)),h+="L ".concat(e+c*m[3],",").concat(n+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-l*m[3])),h+="Z"}else if(s>0&&o===+o&&o>0){var S=Math.min(s,o);h="M ".concat(e,",").concat(n+l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+c*S,",").concat(n,`
            L `).concat(e+r-c*S,",").concat(n,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+r,",").concat(n+l*S,`
            L `).concat(e+r,",").concat(n+i-l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+r-c*S,",").concat(n+i,`
            L `).concat(e+c*S,",").concat(n+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e,",").concat(n+i-l*S," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},HZ=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var f=Math.min(o,o+l),h=Math.max(o,o+l),m=Math.min(s,s+c),v=Math.max(s,s+c);return r>=f&&r<=h&&i>=m&&i<=v}return!1},GZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OE=function(e){var n=d2(d2({},GZ),e),r=q.useRef(),i=q.useState(-1),o=$Z(i,2),s=o[0],l=o[1];q.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&l(R)}catch{}},[]);var c=n.x,f=n.y,h=n.width,m=n.height,v=n.radius,x=n.className,S=n.animationEasing,T=n.animationDuration,_=n.animationBegin,C=n.isAnimationActive,D=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||h===0||m===0)return null;var N=at("recharts-rectangle",x);return D?K.createElement(la,{canBegin:s>0,from:{width:h,height:m,x:c,y:f},to:{width:h,height:m,x:c,y:f},duration:T,animationEasing:S,isActive:D},function(R){var O=R.width,j=R.height,A=R.x,P=R.y;return K.createElement(la,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:T,isActive:C,easing:S},K.createElement("path",Wp({},ot(n,!0),{className:N,d:h2(A,P,O,j,v),ref:r})))}):K.createElement("path",Wp({},ot(n,!0),{className:N,d:h2(c,f,h,m,v)}))};function gw(){return gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gw.apply(this,arguments)}var c4=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=at("recharts-dot",o);return n===+n&&r===+r&&i===+i?q.createElement("circle",gw({},ot(e,!1),fp(e),{className:s,cx:n,cy:r,r:i})):null};function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}var KZ=["x","y","top","left","width","height","className"];function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yw.apply(this,arguments)}function p2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(n),!0).forEach(function(r){XZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XZ(t,e,n){return e=QZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QZ(t){var e=JZ(t,"string");return Ef(e)=="symbol"?e:e+""}function JZ(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZZ(t,e){if(t==null)return{};var n=eee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tee=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},nee=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,m=h===void 0?0:h,v=e.height,x=v===void 0?0:v,S=e.className,T=ZZ(e,KZ),_=YZ({x:r,y:o,top:l,left:f,width:m,height:x},T);return!xe(r)||!xe(o)||!xe(m)||!xe(x)||!xe(l)||!xe(f)?null:K.createElement("path",yw({},ot(_,!0),{className:at("recharts-cross",S),d:tee(r,o,m,x,l,f)}))},Ab,m2;function ree(){if(m2)return Ab;m2=1;var t=kM(),e=t(Object.getPrototypeOf,Object);return Ab=e,Ab}var Pb,g2;function iee(){if(g2)return Pb;g2=1;var t=fo(),e=ree(),n=ho(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,l=o.hasOwnProperty,c=s.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var m=e(h);if(m===null)return!0;var v=l.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&s.call(v)==c}return Pb=f,Pb}var oee=iee();const aee=ht(oee);var Ib,y2;function see(){if(y2)return Ib;y2=1;var t=fo(),e=ho(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return Ib=r,Ib}var uee=see();const lee=ht(uee);function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function Hp(){return Hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hp.apply(this,arguments)}function cee(t,e){return pee(t)||hee(t,e)||dee(t,e)||fee()}function fee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dee(t,e){if(t){if(typeof t=="string")return v2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v2(t,e)}}function v2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function pee(t){if(Array.isArray(t))return t}function x2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(n),!0).forEach(function(r){mee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mee(t,e,n){return e=gee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gee(t){var e=yee(t,"string");return Tf(e)=="symbol"?e:e+""}function yee(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _2=function(e,n,r,i,o){var s=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-s/2,",").concat(n+o),l+="L ".concat(e+r-s/2-i,",").concat(n+o),l+="L ".concat(e,",").concat(n," Z"),l},vee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xee=function(e){var n=b2(b2({},vee),e),r=q.useRef(),i=q.useState(-1),o=cee(i,2),s=o[0],l=o[1];q.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,f=n.y,h=n.upperWidth,m=n.lowerWidth,v=n.height,x=n.className,S=n.animationEasing,T=n.animationDuration,_=n.animationBegin,C=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||v!==+v||h===0&&m===0||v===0)return null;var D=at("recharts-trapezoid",x);return C?K.createElement(la,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:v,x:c,y:f},to:{upperWidth:h,lowerWidth:m,height:v,x:c,y:f},duration:T,animationEasing:S,isActive:C},function(N){var R=N.upperWidth,O=N.lowerWidth,j=N.height,A=N.x,P=N.y;return K.createElement(la,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:T,easing:S},K.createElement("path",Hp({},ot(n,!0),{className:D,d:_2(A,P,R,O,j),ref:r})))}):K.createElement("g",null,K.createElement("path",Hp({},ot(n,!0),{className:D,d:_2(c,f,h,m,v)})))},bee=["option","shapeType","propTransformer","activeClassName","isActive"];function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function _ee(t,e){if(t==null)return{};var n=wee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function w2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(n),!0).forEach(function(r){Eee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eee(t,e,n){return e=Tee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tee(t){var e=See(t,"string");return Sf(e)=="symbol"?e:e+""}function See(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aee(t,e){return Gp(Gp({},e),t)}function Pee(t,e){return t==="symbols"}function E2(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return K.createElement(OE,n);case"trapezoid":return K.createElement(xee,n);case"sector":return K.createElement(n4,n);case"symbols":if(Pee(e))return K.createElement(G1,n);break;default:return null}}function Iee(t){return q.isValidElement(t)?t.props:t}function Cee(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Aee:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,l=t.isActive,c=_ee(t,bee),f;if(q.isValidElement(e))f=q.cloneElement(e,Gp(Gp({},c),Iee(e)));else if(Ge(e))f=e(c);else if(aee(e)&&!lee(e)){var h=i(e,c);f=K.createElement(E2,{shapeType:n,elementProps:h})}else{var m=c;f=K.createElement(E2,{shapeType:n,elementProps:m})}return l?K.createElement(cn,{className:s},f):f}function Xm(t,e){return e!=null&&"trapezoids"in t.props}function Qm(t,e){return e!=null&&"sectors"in t.props}function Af(t,e){return e!=null&&"points"in t.props}function Oee(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function kee(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Nee(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function jee(t,e){var n;return Xm(t,e)?n=Oee:Qm(t,e)?n=kee:Af(t,e)&&(n=Nee),n}function Ree(t,e){var n;return Xm(t,e)?n="trapezoids":Qm(t,e)?n="sectors":Af(t,e)&&(n="points"),n}function Dee(t,e){if(Xm(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Qm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Af(t,e)?e.payload:{}}function Mee(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Ree(n,e),o=Dee(n,e),s=r.filter(function(c,f){var h=AE(o,c),m=n.props[i].filter(function(S){var T=jee(n,e);return T(S,e)}),v=n.props[i].indexOf(m[m.length-1]),x=f===v;return h&&x}),l=r.indexOf(s[s.length-1]);return l}var Cb,T2;function Lee(){if(T2)return Cb;T2=1;var t=Math.ceil,e=Math.max;function n(r,i,o,s){for(var l=-1,c=e(t((i-r)/(o||1)),0),f=Array(c);c--;)f[s?c:++l]=r,r+=o;return f}return Cb=n,Cb}var Ob,S2;function f4(){if(S2)return Ob;S2=1;var t=GM(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return Ob=r,Ob}var kb,A2;function $ee(){if(A2)return kb;A2=1;var t=Lee(),e=$m(),n=f4();function r(i){return function(o,s,l){return l&&typeof l!="number"&&e(o,s,l)&&(s=l=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),l=l===void 0?o<s?1:-1:n(l),t(o,s,l,i)}}return kb=r,kb}var Nb,P2;function Vee(){if(P2)return Nb;P2=1;var t=$ee(),e=t();return Nb=e,Nb}var Bee=Vee();const Kp=ht(Bee);function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function I2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(n),!0).forEach(function(r){d4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d4(t,e,n){return e=Fee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fee(t){var e=Uee(t,"string");return Pf(e)=="symbol"?e:e+""}function Uee(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qee=["Webkit","Moz","O","ms"],zee=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=qee.reduce(function(o,s){return C2(C2({},o),{},d4({},s+r,n))},{});return i[e]=n,i};function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function Yp(){return Yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yp.apply(this,arguments)}function O2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(n),!0).forEach(function(r){ir(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p4(r.key),r)}}function Hee(t,e,n){return e&&k2(t.prototype,e),n&&k2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gee(t,e,n){return e=Xp(e),Kee(t,h4()?Reflect.construct(e,n||[],Xp(t).constructor):e.apply(t,n))}function Kee(t,e){if(e&&(Ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yee(t)}function Yee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h4=function(){return!!t})()}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xp(t)}function Xee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vw(t,e)}function vw(t,e){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vw(t,e)}function ir(t,e,n){return e=p4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p4(t){var e=Qee(t,"string");return Ku(e)=="symbol"?e:e+""}function Qee(t,e){if(Ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jee=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=Lc().domain(Kp(0,c)).range([o,o+s-l]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:h}},N2=function(e){return e.changedTouches&&!!e.changedTouches.length},Yu=(function(t){function e(n){var r;return Wee(this,e),r=Gee(this,e,[n]),ir(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ir(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ir(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:o,startIndex:l})}),r.detachDragEndListener()}),ir(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ir(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ir(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ir(r,"handleSlideDragStart",function(i){var o=N2(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Xee(e,t),Hee(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,l=this.props,c=l.gap,f=l.data,h=f.length-1,m=Math.min(i,o),v=Math.max(i,o),x=e.getIndexInRange(s,m),S=e.getIndexInRange(s,v);return{startIndex:x-x%c,endIndex:S===h?h:S-S%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,l=i.dataKey,c=Ti(o[r],l,r);return Ge(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,f=c.x,h=c.width,m=c.travellerWidth,v=c.startIndex,x=c.endIndex,S=c.onChange,T=r.pageX-o;T>0?T=Math.min(T,f+h-m-l,f+h-m-s):T<0&&(T=Math.max(T,f-s,f-l));var _=this.getIndex({startX:s+T,endX:l+T});(_.startIndex!==v||_.endIndex!==x)&&S&&S(_),this.setState({startX:s+T,endX:l+T,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=N2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,f=this.state[s],h=this.props,m=h.x,v=h.width,x=h.travellerWidth,S=h.onChange,T=h.gap,_=h.data,C={startX:this.state.startX,endX:this.state.endX},D=r.pageX-o;D>0?D=Math.min(D,m+v-x-f):D<0&&(D=Math.max(D,m-f)),C[s]=f+D;var N=this.getIndex(C),R=N.startIndex,O=N.endIndex,j=function(){var P=_.length-1;return s==="startX"&&(l>c?R%T===0:O%T===0)||l<c&&O===P||s==="endX"&&(l>c?O%T===0:R%T===0)||l>c&&O===P};this.setState(ir(ir({},s,f+D),"brushMoveStartX",r.pageX),function(){S&&j()&&S(N)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,l=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],m=l.indexOf(h);if(m!==-1){var v=m+r;if(!(v===-1||v>=l.length)){var x=l[v];i==="startX"&&x>=f||i==="endX"&&x<=c||this.setState(ir({},i,x),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,l=r.height,c=r.fill,f=r.stroke;return K.createElement("rect",{stroke:f,fill:c,x:i,y:o,width:s,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,l=r.height,c=r.data,f=r.children,h=r.padding,m=q.Children.only(f);return m?K.cloneElement(m,{x:i,y:o,width:s,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,l=this,c=this.props,f=c.y,h=c.travellerWidth,m=c.height,v=c.traveller,x=c.ariaLabel,S=c.data,T=c.startIndex,_=c.endIndex,C=Math.max(r,this.props.x),D=jb(jb({},ot(this.props,!1)),{},{x:C,y:f,width:h,height:m}),N=x||"Min value: ".concat((o=S[T])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=S[_])===null||s===void 0?void 0:s.name);return K.createElement(cn,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),l.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,D))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,l=o.height,c=o.stroke,f=o.travellerWidth,h=Math.min(r,i)+f,m=Math.max(Math.abs(i-r)-f,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:m,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,l=r.height,c=r.travellerWidth,f=r.stroke,h=this.state,m=h.startX,v=h.endX,x=5,S={pointerEvents:"none",fill:f};return K.createElement(cn,{className:"recharts-brush-texts"},K.createElement(Ep,Yp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-x,y:s+l/2},S),this.getTextOfTick(i)),K.createElement(Ep,Yp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+c+x,y:s+l/2},S),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,l=r.x,c=r.y,f=r.width,h=r.height,m=r.alwaysShowText,v=this.state,x=v.startX,S=v.endX,T=v.isTextActive,_=v.isSlideMoving,C=v.isTravellerMoving,D=v.isTravellerFocused;if(!i||!i.length||!xe(l)||!xe(c)||!xe(f)||!xe(h)||f<=0||h<=0)return null;var N=at("recharts-brush",o),R=K.Children.count(s)===1,O=zee("userSelect","none");return K.createElement(cn,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(x,S),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(S,"endX"),(T||_||C||D||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,l=r.height,c=r.stroke,f=Math.floor(o+l/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:o,width:s,height:l,fill:c,stroke:"none"}),K.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return K.isValidElement(r)?o=K.cloneElement(r,i):Ge(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,l=r.x,c=r.travellerWidth,f=r.updateId,h=r.startIndex,m=r.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return jb({prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s},o&&o.length?Jee({data:o,width:s,x:l,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var v=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,l=o-1;l-s>1;){var c=Math.floor((s+l)/2);r[c]>i?l=c:s=c}return i>=r[l]?l:s}}])})(q.PureComponent);ir(Yu,"displayName","Brush");ir(Yu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Rb,j2;function Zee(){if(j2)return Rb;j2=1;var t=eE();function e(n,r){var i;return t(n,function(o,s,l){return i=r(o,s,l),!i}),!!i}return Rb=e,Rb}var Db,R2;function ete(){if(R2)return Db;R2=1;var t=TM(),e=fa(),n=Zee(),r=Gn(),i=$m();function o(s,l,c){var f=r(s)?t:n;return c&&i(s,l,c)&&(l=void 0),f(s,e(l,3))}return Db=o,Db}var tte=ete();const nte=ht(tte);var xi=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},Mb,D2;function rte(){if(D2)return Mb;D2=1;var t=UM();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Mb=e,Mb}var Lb,M2;function ite(){if(M2)return Lb;M2=1;var t=rte(),e=BM(),n=fa();function r(i,o){var s={};return o=n(o,3),e(i,function(l,c,f){t(s,c,o(l,c,f))}),s}return Lb=r,Lb}var ote=ite();const ate=ht(ote);var $b,L2;function ste(){if(L2)return $b;L2=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return $b=t,$b}var Vb,$2;function ute(){if($2)return Vb;$2=1;var t=eE();function e(n,r){var i=!0;return t(n,function(o,s,l){return i=!!r(o,s,l),i}),i}return Vb=e,Vb}var Bb,V2;function lte(){if(V2)return Bb;V2=1;var t=ste(),e=ute(),n=fa(),r=Gn(),i=$m();function o(s,l,c){var f=r(s)?t:e;return c&&i(s,l,c)&&(l=void 0),f(s,n(l,3))}return Bb=o,Bb}var cte=lte();const m4=ht(cte);var fte=["x","y"];function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function xw(){return xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xw.apply(this,arguments)}function B2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(n),!0).forEach(function(r){dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dte(t,e,n){return e=hte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hte(t){var e=pte(t,"string");return If(e)=="symbol"?e:e+""}function pte(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mte(t,e){if(t==null)return{};var n=gte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yte(t,e){var n=t.x,r=t.y,i=mte(t,fte),o="".concat(n),s=parseInt(o,10),l="".concat(r),c=parseInt(l,10),f="".concat(e.height||i.height),h=parseInt(f,10),m="".concat(e.width||i.width),v=parseInt(m,10);return bc(bc(bc(bc(bc({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:v,name:e.name,radius:e.radius})}function F2(t){return K.createElement(Cee,xw({shapeType:"rectangle",propTransformer:yte,activeClassName:"recharts-active-bar"},t))}var vte=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=xe(r)||T8(r);return o?e(r,i):(o||ps(),n)}},xte=["value","background"],g4;function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function bte(t,e){if(t==null)return{};var n=_te(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _te(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qp(){return Qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qp.apply(this,arguments)}function U2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(n),!0).forEach(function(r){Xo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v4(r.key),r)}}function Ete(t,e,n){return e&&q2(t.prototype,e),n&&q2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tte(t,e,n){return e=Jp(e),Ste(t,y4()?Reflect.construct(e,n||[],Jp(t).constructor):e.apply(t,n))}function Ste(t,e){if(e&&(Xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ate(t)}function Ate(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y4=function(){return!!t})()}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jp(t)}function Pte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bw(t,e)}function bw(t,e){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bw(t,e)}function Xo(t,e,n){return e=v4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v4(t){var e=Ite(t,"string");return Xu(e)=="symbol"?e:e+""}function Ite(t,e){if(Xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var no=(function(t){function e(){var n;wte(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Tte(this,e,[].concat(i)),Xo(n,"state",{isAnimationFinished:!1}),Xo(n,"id",km("recharts-bar-")),Xo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Xo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Pte(e,t),Ete(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,l=o.dataKey,c=o.activeIndex,f=o.activeBar,h=ot(this.props,!1);return r&&r.map(function(m,v){var x=v===c,S=x?f:s,T=zt(zt(zt({},h),m),{},{isActive:x,option:S,index:v,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(cn,Qp({className:"recharts-bar-rectangle"},dp(i.props,m,v),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(v)}),K.createElement(F2,T))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,v=this.state.prevData;return K.createElement(la,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var S=x.t,T=o.map(function(_,C){var D=v&&v[C];if(D){var N=lu(D.x,_.x),R=lu(D.y,_.y),O=lu(D.width,_.width),j=lu(D.height,_.height);return zt(zt({},_),{},{x:N(S),y:R(S),width:O(S),height:j(S)})}if(s==="horizontal"){var A=lu(0,_.height),P=A(S);return zt(zt({},_),{},{y:_.y+_.height-P,height:P})}var I=lu(0,_.width),V=I(S);return zt(zt({},_),{},{width:V})});return K.createElement(cn,null,r.renderRectanglesStatically(T))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!AE(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,l=i.activeIndex,c=ot(this.props.background,!1);return o.map(function(f,h){f.value;var m=f.background,v=bte(f,xte);if(!m)return null;var x=zt(zt(zt(zt(zt({},v),{},{fill:"#eee"},m),c),dp(r.props,f,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return K.createElement(F2,Qp({key:"background-bar-".concat(h),option:r.props.background,isActive:h===l},x))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,l=o.xAxis,c=o.yAxis,f=o.layout,h=o.children,m=zr(h,Ym);if(!m)return null;var v=f==="vertical"?s[0].height/2:s[0].width/2,x=function(_,C){var D=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:D,errorVal:Ti(_,C)}},S={clipPath:r?"url(#clipPath-".concat(i,")"):null};return K.createElement(cn,S,m.map(function(T){return K.cloneElement(T,{key:"error-bar-".concat(i,"-").concat(T.props.dataKey),data:s,xAxis:l,yAxis:c,layout:f,offset:v,dataPointFormatter:x})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,l=r.xAxis,c=r.yAxis,f=r.left,h=r.top,m=r.width,v=r.height,x=r.isAnimationActive,S=r.background,T=r.id;if(i||!o||!o.length)return null;var _=this.state.isAnimationFinished,C=at("recharts-bar",s),D=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,R=D||N,O=st(T)?this.id:T;return K.createElement(cn,{className:C},D||N?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(O)},K.createElement("rect",{x:D?f:f-m/2,y:N?h:h-v/2,width:D?m:m*2,height:N?v:v*2}))):null,K.createElement(cn,{className:"recharts-bar-rectangles",clipPath:R?"url(#clipPath-".concat(O,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(R,O),(!x||_)&&is.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(q.PureComponent);g4=no;Xo(no,"displayName","Bar");Xo(no,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Hf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xo(no,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,m=t.displayedData,v=t.offset,x=qX(r,n);if(!x)return null;var S=e.layout,T=n.type.defaultProps,_=T!==void 0?zt(zt({},T),n.props):n.props,C=_.dataKey,D=_.children,N=_.minPointSize,R=S==="horizontal"?s:o,O=f?R.scale.domain():null,j=QX({numericAxis:R}),A=zr(D,rE),P=m.map(function(I,V){var $,B,L,Q,ee,ae;f?$=zX(f[h+V],O):($=Ti(I,C),Array.isArray($)||($=[j,$]));var se=vte(N,g4.defaultProps.minPointSize)($[1],V);if(S==="horizontal"){var J,ie=[s.scale($[0]),s.scale($[1])],re=ie[0],z=ie[1];B=IN({axis:o,ticks:l,bandSize:i,offset:x.offset,entry:I,index:V}),L=(J=z??re)!==null&&J!==void 0?J:void 0,Q=x.size;var G=re-z;if(ee=Number.isNaN(G)?0:G,ae={x:B,y:s.y,width:Q,height:s.height},Math.abs(se)>0&&Math.abs(ee)<Math.abs(se)){var ge=Fr(ee||se)*(Math.abs(se)-Math.abs(ee));L-=ge,ee+=ge}}else{var _e=[o.scale($[0]),o.scale($[1])],Ce=_e[0],Re=_e[1];if(B=Ce,L=IN({axis:s,ticks:c,bandSize:i,offset:x.offset,entry:I,index:V}),Q=Re-Ce,ee=x.size,ae={x:o.x,y:L,width:o.width,height:ee},Math.abs(se)>0&&Math.abs(Q)<Math.abs(se)){var We=Fr(Q||se)*(Math.abs(se)-Math.abs(Q));Q+=We}}return zt(zt(zt({},I),{},{x:B,y:L,width:Q,height:ee,value:f?$:$[1],payload:I,background:ae},A&&A[V]&&A[V].props),{},{tooltipPayload:[ZL(n,I)],tooltipPosition:{x:B+Q/2,y:L+ee/2}})});return zt({data:P,layout:S},v)});function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Cte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x4(r.key),r)}}function Ote(t,e,n){return e&&z2(t.prototype,e),n&&z2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(r){Jm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jm(t,e,n){return e=x4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x4(t){var e=kte(t,"string");return Cf(e)=="symbol"?e:e+""}function kte(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nte=function(e,n,r,i,o){var s=e.width,l=e.height,c=e.layout,f=e.children,h=Object.keys(n),m={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},v=!!or(f,no);return h.reduce(function(x,S){var T=n[S],_=T.orientation,C=T.domain,D=T.padding,N=D===void 0?{}:D,R=T.mirror,O=T.reversed,j="".concat(_).concat(R?"Mirror":""),A,P,I,V,$;if(T.type==="number"&&(T.padding==="gap"||T.padding==="no-gap")){var B=C[1]-C[0],L=1/0,Q=T.categoricalDomain.sort(P8);if(Q.forEach(function(_e,Ce){Ce>0&&(L=Math.min((_e||0)-(Q[Ce-1]||0),L))}),Number.isFinite(L)){var ee=L/B,ae=T.layout==="vertical"?r.height:r.width;if(T.padding==="gap"&&(A=ee*ae/2),T.padding==="no-gap"){var se=ds(e.barCategoryGap,ee*ae),J=ee*ae/2;A=J-se-(J-se)/ae*se}}}i==="xAxis"?P=[r.left+(N.left||0)+(A||0),r.left+r.width-(N.right||0)-(A||0)]:i==="yAxis"?P=c==="horizontal"?[r.top+r.height-(N.bottom||0),r.top+(N.top||0)]:[r.top+(N.top||0)+(A||0),r.top+r.height-(N.bottom||0)-(A||0)]:P=T.range,O&&(P=[P[1],P[0]]);var ie=FX(T,o,v),re=ie.scale,z=ie.realScaleType;re.domain(C).range(P),UX(re);var G=XX(re,Mr(Mr({},T),{},{realScaleType:z}));i==="xAxis"?($=_==="top"&&!R||_==="bottom"&&R,I=r.left,V=m[j]-$*T.height):i==="yAxis"&&($=_==="left"&&!R||_==="right"&&R,I=m[j]-$*T.width,V=r.top);var ge=Mr(Mr(Mr({},T),G),{},{realScaleType:z,x:I,y:V,scale:re,width:i==="xAxis"?r.width:T.width,height:i==="yAxis"?r.height:T.height});return ge.bandSize=$p(ge,G),!T.hide&&i==="xAxis"?m[j]+=($?-1:1)*ge.height:T.hide||(m[j]+=($?-1:1)*ge.width),Mr(Mr({},x),{},Jm({},S,ge))},{})},b4=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},jte=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return b4({x:n,y:r},{x:i,y:o})},_4=(function(){function t(e){Cte(this,t),this.scale=e}return Ote(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();Jm(_4,"EPS",1e-4);var kE=function(e){var n=Object.keys(e).reduce(function(r,i){return Mr(Mr({},r),{},Jm({},i,_4.create(e[i])))},{});return Mr(Mr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,l=o.position;return ate(i,function(c,f){return n[f].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return m4(i,function(o,s){return n[s].isInRange(o)})}})};function Rte(t){return(t%180+180)%180}var Dte=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Rte(i),s=o*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},Fb,H2;function Mte(){if(H2)return Fb;H2=1;var t=fa(),e=Wf(),n=Mm();function r(i){return function(o,s,l){var c=Object(o);if(!e(o)){var f=t(s,3);o=n(o),s=function(m){return f(c[m],m,c)}}var h=i(o,s,l);return h>-1?c[f?o[h]:h]:void 0}}return Fb=r,Fb}var Ub,G2;function Lte(){if(G2)return Ub;G2=1;var t=f4();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return Ub=e,Ub}var qb,K2;function $te(){if(K2)return qb;K2=1;var t=DM(),e=fa(),n=Lte(),r=Math.max;function i(o,s,l){var c=o==null?0:o.length;if(!c)return-1;var f=l==null?0:n(l);return f<0&&(f=r(c+f,0)),t(o,e(s,3),f)}return qb=i,qb}var zb,Y2;function Vte(){if(Y2)return zb;Y2=1;var t=Mte(),e=$te(),n=t(e);return zb=n,zb}var Bte=Vte();const Fte=ht(Bte);var Ute=QD();const qte=ht(Ute);var zte=qte(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),NE=q.createContext(void 0),jE=q.createContext(void 0),w4=q.createContext(void 0),E4=q.createContext({}),T4=q.createContext(void 0),S4=q.createContext(0),A4=q.createContext(0),X2=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,l=e.children,c=e.width,f=e.height,h=zte(o);return K.createElement(NE.Provider,{value:r},K.createElement(jE.Provider,{value:i},K.createElement(E4.Provider,{value:o},K.createElement(w4.Provider,{value:h},K.createElement(T4.Provider,{value:s},K.createElement(S4.Provider,{value:f},K.createElement(A4.Provider,{value:c},l)))))))},Wte=function(){return q.useContext(T4)},P4=function(e){var n=q.useContext(NE);n==null&&ps();var r=n[e];return r==null&&ps(),r},Hte=function(){var e=q.useContext(NE);return Ko(e)},Gte=function(){var e=q.useContext(jE),n=Fte(e,function(r){return m4(r.domain,Number.isFinite)});return n||Ko(e)},I4=function(e){var n=q.useContext(jE);n==null&&ps();var r=n[e];return r==null&&ps(),r},Kte=function(){var e=q.useContext(w4);return e},Yte=function(){return q.useContext(E4)},RE=function(){return q.useContext(A4)},DE=function(){return q.useContext(S4)};function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function Xte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O4(r.key),r)}}function Jte(t,e,n){return e&&Qte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zte(t,e,n){return e=Zp(e),ene(t,C4()?Reflect.construct(e,n||[],Zp(t).constructor):e.apply(t,n))}function ene(t,e){if(e&&(Qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tne(t)}function tne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C4=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zp(t)}function nne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_w(t,e)}function _w(t,e){return _w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_w(t,e)}function Q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(n),!0).forEach(function(r){ME(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ME(t,e,n){return e=O4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O4(t){var e=rne(t,"string");return Qu(e)=="symbol"?e:e+""}function rne(t,e){if(Qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ine(t,e){return une(t)||sne(t,e)||ane(t,e)||one()}function one(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ane(t,e){if(t){if(typeof t=="string")return Z2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z2(t,e)}}function Z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function une(t){if(Array.isArray(t))return t}function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(this,arguments)}var lne=function(e,n){var r;return K.isValidElement(e)?r=K.cloneElement(e,n):Ge(e)?r=e(n):r=K.createElement("line",ww({},n,{className:"recharts-reference-line-line"})),r},cne=function(e,n,r,i,o,s,l,c,f){var h=o.x,m=o.y,v=o.width,x=o.height;if(r){var S=f.y,T=e.y.apply(S,{position:s});if(xi(f,"discard")&&!e.y.isInRange(T))return null;var _=[{x:h+v,y:T},{x:h,y:T}];return c==="left"?_.reverse():_}if(n){var C=f.x,D=e.x.apply(C,{position:s});if(xi(f,"discard")&&!e.x.isInRange(D))return null;var N=[{x:D,y:m+x},{x:D,y:m}];return l==="top"?N.reverse():N}if(i){var R=f.segment,O=R.map(function(j){return e.apply(j,{position:s})});return xi(f,"discard")&&nte(O,function(j){return!e.isInRange(j)})?null:O}return null};function fne(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,f=Wte(),h=P4(i),m=I4(o),v=Kte();if(!f||!v)return null;eo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=kE({x:h.scale,y:m.scale}),S=tn(e),T=tn(n),_=r&&r.length===2,C=cne(x,S,T,_,v,t.position,h.orientation,m.orientation,t);if(!C)return null;var D=ine(C,2),N=D[0],R=N.x,O=N.y,j=D[1],A=j.x,P=j.y,I=xi(t,"hidden")?"url(#".concat(f,")"):void 0,V=J2(J2({clipPath:I},ot(t,!0)),{},{x1:R,y1:O,x2:A,y2:P});return K.createElement(cn,{className:at("recharts-reference-line",l)},lne(s,V),On.renderCallByParent(t,jte({x1:R,y1:O,x2:A,y2:P})))}var LE=(function(t){function e(){return Xte(this,e),Zte(this,e,arguments)}return nne(e,t),Jte(e,[{key:"render",value:function(){return K.createElement(fne,this.props)}}])})(K.Component);ME(LE,"displayName","ReferenceLine");ME(LE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ew.apply(this,arguments)}function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ej(Object(n),!0).forEach(function(r){Zm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N4(r.key),r)}}function pne(t,e,n){return e&&hne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mne(t,e,n){return e=em(e),gne(t,k4()?Reflect.construct(e,n||[],em(t).constructor):e.apply(t,n))}function gne(t,e){if(e&&(Ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yne(t)}function yne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k4=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},em(t)}function vne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tw(t,e)}function Tw(t,e){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tw(t,e)}function Zm(t,e,n){return e=N4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N4(t){var e=xne(t,"string");return Ju(e)=="symbol"?e:e+""}function xne(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bne=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=kE({x:i.scale,y:o.scale}),l=s.apply({x:n,y:r},{bandAware:!0});return xi(e,"discard")&&!s.isInRange(l)?null:l},eg=(function(t){function e(){return dne(this,e),mne(this,e,arguments)}return vne(e,t),pne(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,l=r.alwaysShow,c=r.clipPathId,f=tn(i),h=tn(o);if(eo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var m=bne(this.props);if(!m)return null;var v=m.x,x=m.y,S=this.props,T=S.shape,_=S.className,C=xi(this.props,"hidden")?"url(#".concat(c,")"):void 0,D=tj(tj({clipPath:C},ot(this.props,!0)),{},{cx:v,cy:x});return K.createElement(cn,{className:at("recharts-reference-dot",_)},e.renderDot(T,D),On.renderCallByParent(this.props,{x:v-s,y:x-s,width:2*s,height:2*s}))}}])})(K.Component);Zm(eg,"displayName","ReferenceDot");Zm(eg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Zm(eg,"renderDot",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):Ge(t)?n=t(e):n=K.createElement(c4,Ew({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sw.apply(this,arguments)}function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(n),!0).forEach(function(r){tg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R4(r.key),r)}}function Ene(t,e,n){return e&&wne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tne(t,e,n){return e=tm(e),Sne(t,j4()?Reflect.construct(e,n||[],tm(t).constructor):e.apply(t,n))}function Sne(t,e){if(e&&(Zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ane(t)}function Ane(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j4=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tm(t)}function Pne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Aw(t,e)}function Aw(t,e){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Aw(t,e)}function tg(t,e,n){return e=R4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R4(t){var e=Ine(t,"string");return Zu(e)=="symbol"?e:e+""}function Ine(t,e){if(Zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cne=function(e,n,r,i,o){var s=o.x1,l=o.x2,c=o.y1,f=o.y2,h=o.xAxis,m=o.yAxis;if(!h||!m)return null;var v=kE({x:h.scale,y:m.scale}),x={x:e?v.x.apply(s,{position:"start"}):v.x.rangeMin,y:r?v.y.apply(c,{position:"start"}):v.y.rangeMin},S={x:n?v.x.apply(l,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(f,{position:"end"}):v.y.rangeMax};return xi(o,"discard")&&(!v.isInRange(x)||!v.isInRange(S))?null:b4(x,S)},ng=(function(t){function e(){return _ne(this,e),Tne(this,e,arguments)}return Pne(e,t),Ene(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,l=r.y2,c=r.className,f=r.alwaysShow,h=r.clipPathId;eo(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=tn(i),v=tn(o),x=tn(s),S=tn(l),T=this.props.shape;if(!m&&!v&&!x&&!S&&!T)return null;var _=Cne(m,v,x,S,this.props);if(!_&&!T)return null;var C=xi(this.props,"hidden")?"url(#".concat(h,")"):void 0;return K.createElement(cn,{className:at("recharts-reference-area",c)},e.renderRect(T,rj(rj({clipPath:C},ot(this.props,!0)),_)),On.renderCallByParent(this.props,_))}}])})(K.Component);tg(ng,"displayName","ReferenceArea");tg(ng,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});tg(ng,"renderRect",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):Ge(t)?n=t(e):n=K.createElement(OE,Sw({},e,{className:"recharts-reference-area-rect"})),n});function D4(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function One(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Dte(r,n)}function kne(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,l=t.height;return e===1?{start:r?i:o,end:r?i+s:o+l}:{start:r?i+s:o+l,end:r?i:o}}function nm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Nne(t,e){return D4(t,e+1)}function jne(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,l=e.end,c=0,f=1,h=s,m=function(){var S=r==null?void 0:r[c];if(S===void 0)return{v:D4(r,f)};var T=c,_,C=function(){return _===void 0&&(_=n(S,T)),_},D=S.coordinate,N=c===0||nm(t,D,C,h,l);N||(c=0,h=s,f+=1),N&&(h=D+t*(C()/2+i),c+=f)},v;f<=o.length;)if(v=m(),v)return v.v;return[]}function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(n),!0).forEach(function(r){Rne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rne(t,e,n){return e=Dne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dne(t){var e=Mne(t,"string");return Of(e)=="symbol"?e:e+""}function Mne(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lne(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,l=e.start,c=e.end,f=function(v){var x=o[v],S,T=function(){return S===void 0&&(S=n(x,v)),S};if(v===s-1){var _=t*(x.coordinate+t*T()/2-c);o[v]=x=Pn(Pn({},x),{},{tickCoord:_>0?x.coordinate-_*t:x.coordinate})}else o[v]=x=Pn(Pn({},x),{},{tickCoord:x.coordinate});var C=nm(t,x.tickCoord,T,l,c);C&&(c=x.tickCoord-t*(T()/2+i),o[v]=Pn(Pn({},x),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return o}function $ne(t,e,n,r,i,o){var s=(r||[]).slice(),l=s.length,c=e.start,f=e.end;if(o){var h=r[l-1],m=n(h,l-1),v=t*(h.coordinate+t*m/2-f);s[l-1]=h=Pn(Pn({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate});var x=nm(t,h.tickCoord,function(){return m},c,f);x&&(f=h.tickCoord-t*(m/2+i),s[l-1]=Pn(Pn({},h),{},{isShow:!0}))}for(var S=o?l-1:l,T=function(D){var N=s[D],R,O=function(){return R===void 0&&(R=n(N,D)),R};if(D===0){var j=t*(N.coordinate-t*O()/2-c);s[D]=N=Pn(Pn({},N),{},{tickCoord:j<0?N.coordinate-j*t:N.coordinate})}else s[D]=N=Pn(Pn({},N),{},{tickCoord:N.coordinate});var A=nm(t,N.tickCoord,O,c,f);A&&(c=N.tickCoord+t*(O()/2+i),s[D]=Pn(Pn({},N),{},{isShow:!0}))},_=0;_<S;_++)T(_);return s}function $E(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(xe(c)||Hf.isSsr)return Nne(i,typeof c=="number"&&xe(c)?c:0);var v=[],x=l==="top"||l==="bottom"?"width":"height",S=h&&x==="width"?Mc(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},T=function(N,R){var O=Ge(f)?f(N.value,R):N.value;return x==="width"?One(Mc(O,{fontSize:e,letterSpacing:n}),S,m):Mc(O,{fontSize:e,letterSpacing:n})[x]},_=i.length>=2?Fr(i[1].coordinate-i[0].coordinate):1,C=kne(o,_,x);return c==="equidistantPreserveStart"?jne(_,C,T,i,s):(c==="preserveStart"||c==="preserveStartEnd"?v=$ne(_,C,T,i,s,c==="preserveStartEnd"):v=Lne(_,C,T,i,s),v.filter(function(D){return D.isShow}))}var Vne=["viewBox"],Bne=["viewBox"],Fne=["ticks"];function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function xu(){return xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xu.apply(this,arguments)}function oj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oj(Object(n),!0).forEach(function(r){VE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wb(t,e){if(t==null)return{};var n=Une(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Une(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L4(r.key),r)}}function zne(t,e,n){return e&&aj(t.prototype,e),n&&aj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wne(t,e,n){return e=rm(e),Hne(t,M4()?Reflect.construct(e,n||[],rm(t).constructor):e.apply(t,n))}function Hne(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gne(t)}function Gne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M4=function(){return!!t})()}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rm(t)}function Kne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pw(t,e)}function Pw(t,e){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Pw(t,e)}function VE(t,e,n){return e=L4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L4(t){var e=Yne(t,"string");return el(e)=="symbol"?e:e+""}function Yne(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xl=(function(t){function e(n){var r;return qne(this,e),r=Wne(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Kne(e,t),zne(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Wb(r,Vne),l=this.props,c=l.viewBox,f=Wb(l,Bne);return!Pu(o,c)||!Pu(s,f)||!Pu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,l=i.width,c=i.height,f=i.orientation,h=i.tickSize,m=i.mirror,v=i.tickMargin,x,S,T,_,C,D,N=m?-1:1,R=r.tickSize||h,O=xe(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":x=S=r.coordinate,_=s+ +!m*c,T=_-N*R,D=T-N*v,C=O;break;case"left":T=_=r.coordinate,S=o+ +!m*l,x=S-N*R,C=x-N*v,D=O;break;case"right":T=_=r.coordinate,S=o+ +m*l,x=S+N*R,C=x+N*v,D=O;break;default:x=S=r.coordinate,_=s+ +m*c,T=_+N*R,D=T+N*v,C=O;break}return{line:{x1:x,y1:T,x2:S,y2:_},tick:{x:C,y:D}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,l=r.height,c=r.orientation,f=r.mirror,h=r.axisLine,m=Qt(Qt(Qt({},ot(this.props,!1)),ot(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var v=+(c==="top"&&!f||c==="bottom"&&f);m=Qt(Qt({},m),{},{x1:i,y1:o+v*l,x2:i+s,y2:o+v*l})}else{var x=+(c==="left"&&!f||c==="right"&&f);m=Qt(Qt({},m),{},{x1:i+x*s,y1:o,x2:i+x*s,y2:o+l})}return K.createElement("line",xu({},m,{className:at("recharts-cartesian-axis-line",wr(h,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,l=this.props,c=l.tickLine,f=l.stroke,h=l.tick,m=l.tickFormatter,v=l.unit,x=$E(Qt(Qt({},this.props),{},{ticks:r}),i,o),S=this.getTickTextAnchor(),T=this.getTickVerticalAnchor(),_=ot(this.props,!1),C=ot(h,!1),D=Qt(Qt({},_),{},{fill:"none"},ot(c,!1)),N=x.map(function(R,O){var j=s.getTickLineCoord(R),A=j.line,P=j.tick,I=Qt(Qt(Qt(Qt({textAnchor:S,verticalAnchor:T},_),{},{stroke:"none",fill:f},C),P),{},{index:O,payload:R,visibleTicksCount:x.length,tickFormatter:m});return K.createElement(cn,xu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},dp(s.props,R,O)),c&&K.createElement("line",xu({},D,A,{className:at("recharts-cartesian-axis-tick-line",wr(c,"className"))})),h&&e.renderTickItem(h,I,"".concat(Ge(m)?m(R.value,O):R.value).concat(v||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var m=this.props,v=m.ticks,x=Wb(m,Fne),S=v;return Ge(c)&&(S=v&&v.length>0?c(this.props):c(x)),s<=0||l<=0||!S||!S.length?null:K.createElement(cn,{className:at("recharts-cartesian-axis",f),ref:function(_){r.layerReference=_}},o&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),On.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,l=at(i.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(r)?s=K.cloneElement(r,Qt(Qt({},i),{},{className:l})):Ge(r)?s=r(Qt(Qt({},i),{},{className:l})):s=K.createElement(Ep,xu({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])})(q.Component);VE(xl,"displayName","CartesianAxis");VE(xl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Xne=["x1","y1","x2","y2","key"],Qne=["offset"];function ms(t){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(t)}function sj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sj(Object(n),!0).forEach(function(r){Jne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jne(t,e,n){return e=Zne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zne(t){var e=ere(t,"string");return ms(e)=="symbol"?e:e+""}function ere(t,e){if(ms(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qa.apply(this,arguments)}function uj(t,e){if(t==null)return{};var n=tre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nre=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,c=e.ry;return K.createElement("rect",{x:i,y:o,ry:c,width:s,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function $4(t,e){var n;if(K.isValidElement(t))n=K.cloneElement(t,e);else if(Ge(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,l=e.key,c=uj(e,Xne),f=ot(c,!1);f.offset;var h=uj(f,Qne);n=K.createElement("line",Qa({},h,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:l}))}return n}function rre(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(l,c){var f=kn(kn({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return $4(i,f)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function ire(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(l,c){var f=kn(kn({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return $4(i,f)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function ore(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=l.map(function(v){return Math.round(v+i-i)}).sort(function(v,x){return v-x});i!==h[0]&&h.unshift(0);var m=h.map(function(v,x){var S=!h[x+1],T=S?i+s-v:h[x+1]-v;if(T<=0)return null;var _=x%e.length;return K.createElement("rect",{key:"react-".concat(x),y:v,x:r,height:T,width:o,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function are(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,l=t.width,c=t.height,f=t.verticalPoints;if(!n||!r||!r.length)return null;var h=f.map(function(v){return Math.round(v+o-o)}).sort(function(v,x){return v-x});o!==h[0]&&h.unshift(0);var m=h.map(function(v,x){var S=!h[x+1],T=S?o+l-v:h[x+1]-v;if(T<=0)return null;var _=x%r.length;return K.createElement("rect",{key:"react-".concat(x),x:v,y:s,width:T,height:c,stroke:"none",fill:r[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var sre=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return QL($E(kn(kn(kn({},xl.defaultProps),r),{},{ticks:Ji(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},ure=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return QL($E(kn(kn(kn({},xl.defaultProps),r),{},{ticks:Ji(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},du={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function V4(t){var e,n,r,i,o,s,l=RE(),c=DE(),f=Yte(),h=kn(kn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:du.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:du.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:du.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:du.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:du.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:du.verticalFill,x:xe(t.x)?t.x:f.left,y:xe(t.y)?t.y:f.top,width:xe(t.width)?t.width:f.width,height:xe(t.height)?t.height:f.height}),m=h.x,v=h.y,x=h.width,S=h.height,T=h.syncWithTicks,_=h.horizontalValues,C=h.verticalValues,D=Hte(),N=Gte();if(!xe(x)||x<=0||!xe(S)||S<=0||!xe(m)||m!==+m||!xe(v)||v!==+v)return null;var R=h.verticalCoordinatesGenerator||sre,O=h.horizontalCoordinatesGenerator||ure,j=h.horizontalPoints,A=h.verticalPoints;if((!j||!j.length)&&Ge(O)){var P=_&&_.length,I=O({yAxis:N?kn(kn({},N),{},{ticks:P?_:N.ticks}):void 0,width:l,height:c,offset:f},P?!0:T);eo(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ms(I),"]")),Array.isArray(I)&&(j=I)}if((!A||!A.length)&&Ge(R)){var V=C&&C.length,$=R({xAxis:D?kn(kn({},D),{},{ticks:V?C:D.ticks}):void 0,width:l,height:c,offset:f},V?!0:T);eo(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ms($),"]")),Array.isArray($)&&(A=$)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(nre,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),K.createElement(rre,Qa({},h,{offset:f,horizontalPoints:j,xAxis:D,yAxis:N})),K.createElement(ire,Qa({},h,{offset:f,verticalPoints:A,xAxis:D,yAxis:N})),K.createElement(ore,Qa({},h,{horizontalPoints:j})),K.createElement(are,Qa({},h,{verticalPoints:A})))}V4.displayName="CartesianGrid";function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function lre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U4(r.key),r)}}function fre(t,e,n){return e&&cre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dre(t,e,n){return e=im(e),hre(t,B4()?Reflect.construct(e,n||[],im(t).constructor):e.apply(t,n))}function hre(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pre(t)}function pre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B4=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},im(t)}function mre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}function Iw(t,e){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Iw(t,e)}function F4(t,e,n){return e=U4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U4(t){var e=gre(t,"string");return tl(e)=="symbol"?e:e+""}function gre(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cw.apply(this,arguments)}function yre(t){var e=t.xAxisId,n=RE(),r=DE(),i=P4(e);return i==null?null:q.createElement(xl,Cw({},i,{className:at("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ji(s,!0)}}))}var rg=(function(t){function e(){return lre(this,e),dre(this,e,arguments)}return mre(e,t),fre(e,[{key:"render",value:function(){return q.createElement(yre,this.props)}}])})(q.Component);F4(rg,"displayName","XAxis");F4(rg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function vre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W4(r.key),r)}}function bre(t,e,n){return e&&xre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _re(t,e,n){return e=om(e),wre(t,q4()?Reflect.construct(e,n||[],om(t).constructor):e.apply(t,n))}function wre(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ere(t)}function Ere(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q4=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},om(t)}function Tre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ow(t,e)}function Ow(t,e){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ow(t,e)}function z4(t,e,n){return e=W4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W4(t){var e=Sre(t,"string");return nl(e)=="symbol"?e:e+""}function Sre(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kw.apply(this,arguments)}var Are=function(e){var n=e.yAxisId,r=RE(),i=DE(),o=I4(n);return o==null?null:q.createElement(xl,kw({},o,{className:at("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Ji(l,!0)}}))},ig=(function(t){function e(){return vre(this,e),_re(this,e,arguments)}return Tre(e,t),bre(e,[{key:"render",value:function(){return q.createElement(Are,this.props)}}])})(q.Component);z4(ig,"displayName","YAxis");z4(ig,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function lj(t){return Ore(t)||Cre(t)||Ire(t)||Pre()}function Pre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ire(t,e){if(t){if(typeof t=="string")return Nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nw(t,e)}}function Cre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ore(t){if(Array.isArray(t))return Nw(t)}function Nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jw=function(e,n,r,i,o){var s=zr(e,LE),l=zr(e,eg),c=[].concat(lj(s),lj(l)),f=zr(e,ng),h="".concat(i,"Id"),m=i[0],v=n;if(c.length&&(v=c.reduce(function(T,_){if(_.props[h]===r&&xi(_.props,"extendDomain")&&xe(_.props[m])){var C=_.props[m];return[Math.min(T[0],C),Math.max(T[1],C)]}return T},v)),f.length){var x="".concat(m,"1"),S="".concat(m,"2");v=f.reduce(function(T,_){if(_.props[h]===r&&xi(_.props,"extendDomain")&&xe(_.props[x])&&xe(_.props[S])){var C=_.props[x],D=_.props[S];return[Math.min(T[0],C,D),Math.max(T[1],C,D)]}return T},v)}return o&&o.length&&(v=o.reduce(function(T,_){return xe(_)?[Math.min(T[0],_),Math.max(T[1],_)]:T},v)),v},Hb={exports:{}},cj;function kre(){return cj||(cj=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,m,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,m||c,v),S=n?n+f:f;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],x]:c._events[S].push(x):(c._events[S]=x,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,x=m.length,S=new Array(x);v<x;v++)S[v]=m[v].fn;return S},l.prototype.listenerCount=function(f){var h=n?n+f:f,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(f,h,m,v,x,S){var T=n?n+f:f;if(!this._events[T])return!1;var _=this._events[T],C=arguments.length,D,N;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),C){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,m),!0;case 4:return _.fn.call(_.context,h,m,v),!0;case 5:return _.fn.call(_.context,h,m,v,x),!0;case 6:return _.fn.call(_.context,h,m,v,x,S),!0}for(N=1,D=new Array(C-1);N<C;N++)D[N-1]=arguments[N];_.fn.apply(_.context,D)}else{var R=_.length,O;for(N=0;N<R;N++)switch(_[N].once&&this.removeListener(f,_[N].fn,void 0,!0),C){case 1:_[N].fn.call(_[N].context);break;case 2:_[N].fn.call(_[N].context,h);break;case 3:_[N].fn.call(_[N].context,h,m);break;case 4:_[N].fn.call(_[N].context,h,m,v);break;default:if(!D)for(O=1,D=new Array(C-1);O<C;O++)D[O-1]=arguments[O];_[N].fn.apply(_[N].context,D)}}return!0},l.prototype.on=function(f,h,m){return o(this,f,h,m,!1)},l.prototype.once=function(f,h,m){return o(this,f,h,m,!0)},l.prototype.removeListener=function(f,h,m,v){var x=n?n+f:f;if(!this._events[x])return this;if(!h)return s(this,x),this;var S=this._events[x];if(S.fn)S.fn===h&&(!v||S.once)&&(!m||S.context===m)&&s(this,x);else{for(var T=0,_=[],C=S.length;T<C;T++)(S[T].fn!==h||v&&!S[T].once||m&&S[T].context!==m)&&_.push(S[T]);_.length?this._events[x]=_.length===1?_[0]:_:s(this,x)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(Hb)),Hb.exports}var Nre=kre();const jre=ht(Nre);var Gb=new jre,Kb="recharts.syncMouseEvents";function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function Rre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H4(r.key),r)}}function Mre(t,e,n){return e&&Dre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yb(t,e,n){return e=H4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H4(t){var e=Lre(t,"string");return kf(e)=="symbol"?e:e+""}function Lre(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $re=(function(){function t(){Rre(this,t),Yb(this,"activeIndex",0),Yb(this,"coordinateList",[]),Yb(this,"layout","horizontal")}return Mre(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,l=s===void 0?null:s,c=n.layout,f=c===void 0?null:c,h=n.offset,m=h===void 0?null:h,v=n.mouseHandlerCallback,x=v===void 0?null:v;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=o+c+f,v=s+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])})();function Vre(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&xe(r)&&xe(i))return!0}return!1}function Bre(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function G4(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=xn(e,n,r,i),l=xn(e,n,r,o);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Fre(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,m=e.angle,v=xn(l,c,f,m),x=xn(l,c,h,m);r=v.x,i=v.y,o=x.x,s=x.y}else return G4(e);return[{x:r,y:i},{x:o,y:s}]}function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ch(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fj(Object(n),!0).forEach(function(r){Ure(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ure(t,e,n){return e=qre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qre(t){var e=zre(t,"string");return Nf(e)=="symbol"?e:e+""}function zre(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wre(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,v=t.chartName,x=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!x||!o||!s||v!=="ScatterChart"&&i!=="axis")return null;var S,T=WN;if(v==="ScatterChart")S=s,T=nee;else if(v==="BarChart")S=Bre(m,s,c,h),T=OE;else if(m==="radial"){var _=G4(s),C=_.cx,D=_.cy,N=_.radius,R=_.startAngle,O=_.endAngle;S={cx:C,cy:D,startAngle:R,endAngle:O,innerRadius:N,outerRadius:N},T=n4}else S={points:Fre(m,s,c)},T=WN;var j=Ch(Ch(Ch(Ch({stroke:"#ccc",pointerEvents:"none"},c),S),ot(x,!1)),{},{payload:l,payloadIndex:f,className:at("recharts-tooltip-cursor",x.className)});return q.isValidElement(x)?q.cloneElement(x,j):q.createElement(T,j)}var Hre=["item"],Gre=["children","className","width","height","style","compact","title","desc"];function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function bu(){return bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bu.apply(this,arguments)}function dj(t,e){return Xre(t)||Yre(t,e)||Y4(t,e)||Kre()}function Kre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Xre(t){if(Array.isArray(t))return t}function hj(t,e){if(t==null)return{};var n=Qre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X4(r.key),r)}}function eie(t,e,n){return e&&Zre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tie(t,e,n){return e=am(e),nie(t,K4()?Reflect.construct(e,n||[],am(t).constructor):e.apply(t,n))}function nie(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rie(t)}function rie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K4=function(){return!!t})()}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},am(t)}function iie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rw(t,e)}function Rw(t,e){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rw(t,e)}function il(t){return sie(t)||aie(t)||Y4(t)||oie()}function oie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y4(t,e){if(t){if(typeof t=="string")return Dw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dw(t,e)}}function aie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sie(t){if(Array.isArray(t))return Dw(t)}function Dw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(n),!0).forEach(function(r){De(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function De(t,e,n){return e=X4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X4(t){var e=uie(t,"string");return rl(e)=="symbol"?e:e+""}function uie(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lie={xAxis:["bottom","top"],yAxis:["left","right"]},cie={width:"100%",height:"100%"},Q4={x:0,y:0};function Oh(t){return t}var fie=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},die=function(e,n,r,i){var o=n.find(function(h){return h&&h.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,l=i.radius;return oe(oe(oe({},i),xn(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=o.coordinate,f=i.angle;return oe(oe(oe({},i),xn(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return Q4},og=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(l,c){var f=c.props.data;return f&&f.length?[].concat(il(l),il(f)):l},[]);return s.length>0?s:e&&e.length&&xe(i)&&xe(o)?e.slice(i,o+1):[]};function J4(t){return t==="number"?[0,"auto"]:void 0}var Mw=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,l=og(n,e);return r<0||!o||!o.length||r>=l.length?null:o.reduce(function(c,f){var h,m=(h=f.props.data)!==null&&h!==void 0?h:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(s.dataKey&&!s.allowDuplicatedCategory){var x=m===void 0?l:m;v=w_(x,s.dataKey,i)}else v=m&&m[r]||l[r];return v?[].concat(il(c),[ZL(f,v)]):c},[])},mj=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=fie(o,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=DX(s,l,f,c);if(h>=0&&f){var m=f[h]&&f[h].value,v=Mw(e,n,h,m),x=die(r,l,h,o);return{activeTooltipIndex:h,activeLabel:m,activePayload:v,activeCoordinate:x}}return null},hie=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,m=e.children,v=e.stackOffset,x=XL(h,o);return r.reduce(function(S,T){var _,C=T.type.defaultProps!==void 0?oe(oe({},T.type.defaultProps),T.props):T.props,D=C.type,N=C.dataKey,R=C.allowDataOverflow,O=C.allowDuplicatedCategory,j=C.scale,A=C.ticks,P=C.includeHidden,I=C[s];if(S[I])return S;var V=og(e.data,{graphicalItems:i.filter(function(G){var ge,_e=s in G.props?G.props[s]:(ge=G.type.defaultProps)===null||ge===void 0?void 0:ge[s];return _e===I}),dataStartIndex:c,dataEndIndex:f}),$=V.length,B,L,Q;Vre(C.domain,R,D)&&(B=nw(C.domain,null,R),x&&(D==="number"||j!=="auto")&&(Q=$c(V,N,"category")));var ee=J4(D);if(!B||B.length===0){var ae,se=(ae=C.domain)!==null&&ae!==void 0?ae:ee;if(N){if(B=$c(V,N,D),D==="category"&&x){var J=A8(B);O&&J?(L=B,B=Kp(0,$)):O||(B=kN(se,B,T).reduce(function(G,ge){return G.indexOf(ge)>=0?G:[].concat(il(G),[ge])},[]))}else if(D==="category")O?B=B.filter(function(G){return G!==""&&!st(G)}):B=kN(se,B,T).reduce(function(G,ge){return G.indexOf(ge)>=0||ge===""||st(ge)?G:[].concat(il(G),[ge])},[]);else if(D==="number"){var ie=BX(V,i.filter(function(G){var ge,_e,Ce=s in G.props?G.props[s]:(ge=G.type.defaultProps)===null||ge===void 0?void 0:ge[s],Re="hide"in G.props?G.props.hide:(_e=G.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return Ce===I&&(P||!Re)}),N,o,h);ie&&(B=ie)}x&&(D==="number"||j!=="auto")&&(Q=$c(V,N,"category"))}else x?B=Kp(0,$):l&&l[I]&&l[I].hasStack&&D==="number"?B=v==="expand"?[0,1]:JL(l[I].stackGroups,c,f):B=YL(V,i.filter(function(G){var ge=s in G.props?G.props[s]:G.type.defaultProps[s],_e="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ge===I&&(P||!_e)}),D,h,!0);if(D==="number")B=jw(m,B,I,o,A),se&&(B=nw(se,B,R));else if(D==="category"&&se){var re=se,z=B.every(function(G){return re.indexOf(G)>=0});z&&(B=re)}}return oe(oe({},S),{},De({},I,oe(oe({},C),{},{axisType:o,domain:B,categoricalDomain:Q,duplicateDomain:L,originalDomain:(_=C.domain)!==null&&_!==void 0?_:ee,isCategorical:x,layout:h})))},{})},pie=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,m=e.children,v=og(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),x=v.length,S=XL(h,o),T=-1;return r.reduce(function(_,C){var D=C.type.defaultProps!==void 0?oe(oe({},C.type.defaultProps),C.props):C.props,N=D[s],R=J4("number");if(!_[N]){T++;var O;return S?O=Kp(0,x):l&&l[N]&&l[N].hasStack?(O=JL(l[N].stackGroups,c,f),O=jw(m,O,N,o)):(O=nw(R,YL(v,r.filter(function(j){var A,P,I=s in j.props?j.props[s]:(A=j.type.defaultProps)===null||A===void 0?void 0:A[s],V="hide"in j.props?j.props.hide:(P=j.type.defaultProps)===null||P===void 0?void 0:P.hide;return I===N&&!V}),"number",h),i.defaultProps.allowDataOverflow),O=jw(m,O,N,o)),oe(oe({},_),{},De({},N,oe(oe({axisType:o},i.defaultProps),{},{hide:!0,orientation:wr(lie,"".concat(o,".").concat(T%2),null),domain:O,originalDomain:R,isCategorical:S,layout:h})))}return _},{})},mie=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.children,m="".concat(i,"Id"),v=zr(h,o),x={};return v&&v.length?x=hie(e,{axes:v,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(x=pie(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:f})),x},gie=function(e){var n=Ko(e),r=Ji(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:tE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:$p(n,r)}},gj=function(e){var n=e.children,r=e.defaultShowTooltip,i=or(n,Yu),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},yie=function(e){return!e||!e.length?!1:e.some(function(n){var r=Zi(n&&n.type);return r&&r.indexOf("Bar")>=0})},yj=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},vie=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,l=e.yAxisMap,c=l===void 0?{}:l,f=r.width,h=r.height,m=r.children,v=r.margin||{},x=or(m,Yu),S=or(m,Iu),T=Object.keys(c).reduce(function(O,j){var A=c[j],P=A.orientation;return!A.mirror&&!A.hide?oe(oe({},O),{},De({},P,O[P]+A.width)):O},{left:v.left||0,right:v.right||0}),_=Object.keys(s).reduce(function(O,j){var A=s[j],P=A.orientation;return!A.mirror&&!A.hide?oe(oe({},O),{},De({},P,wr(O,"".concat(P))+A.height)):O},{top:v.top||0,bottom:v.bottom||0}),C=oe(oe({},_),T),D=C.bottom;x&&(C.bottom+=x.props.height||Yu.defaultProps.height),S&&n&&(C=$X(C,i,r,n));var N=f-C.left-C.right,R=h-C.top-C.bottom;return oe(oe({brushBottom:D},C),{},{width:Math.max(N,0),height:Math.max(R,0)})},xie=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},bie=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,v=function(C,D){var N=D.graphicalItems,R=D.stackGroups,O=D.offset,j=D.updateId,A=D.dataStartIndex,P=D.dataEndIndex,I=C.barSize,V=C.layout,$=C.barGap,B=C.barCategoryGap,L=C.maxBarSize,Q=yj(V),ee=Q.numericAxisName,ae=Q.cateAxisName,se=yie(N),J=[];return N.forEach(function(ie,re){var z=og(C.data,{graphicalItems:[ie],dataStartIndex:A,dataEndIndex:P}),G=ie.type.defaultProps!==void 0?oe(oe({},ie.type.defaultProps),ie.props):ie.props,ge=G.dataKey,_e=G.maxBarSize,Ce=G["".concat(ee,"Id")],Re=G["".concat(ae,"Id")],We={},Le=c.reduce(function(Kt,Kn){var Ai=D["".concat(Kn.axisType,"Map")],ma=G["".concat(Kn.axisType,"Id")];Ai&&Ai[ma]||Kn.axisType==="zAxis"||ps();var Sr=Ai[ma];return oe(oe({},Kt),{},De(De({},Kn.axisType,Sr),"".concat(Kn.axisType,"Ticks"),Ji(Sr)))},We),he=Le[ae],Oe=Le["".concat(ae,"Ticks")],Be=R&&R[Ce]&&R[Ce].hasStack&&JX(ie,R[Ce].stackGroups),ce=Zi(ie.type).indexOf("Bar")>=0,rt=$p(he,Oe),ze=[],Pt=se&&MX({barSize:I,stackGroups:R,totalSize:xie(Le,ae)});if(ce){var yt,Rt,Mn=st(_e)?L:_e,pt=(yt=(Rt=$p(he,Oe,!0))!==null&&Rt!==void 0?Rt:Mn)!==null&&yt!==void 0?yt:0;ze=LX({barGap:$,barCategoryGap:B,bandSize:pt!==rt?pt:rt,sizeList:Pt[Re],maxBarSize:Mn}),pt!==rt&&(ze=ze.map(function(Kt){return oe(oe({},Kt),{},{position:oe(oe({},Kt.position),{},{offset:Kt.position.offset-pt/2})})}))}var vt=ie&&ie.type&&ie.type.getComposedData;vt&&J.push({props:oe(oe({},vt(oe(oe({},Le),{},{displayedData:z,props:C,dataKey:ge,item:ie,bandSize:rt,barPosition:ze,offset:O,stackedData:Be,layout:V,dataStartIndex:A,dataEndIndex:P}))),{},De(De(De({key:ie.key||"item-".concat(re)},ee,Le[ee]),ae,Le[ae]),"animationId",j)),childIndex:$8(ie,C.children),item:ie})}),J},x=function(C,D){var N=C.props,R=C.dataStartIndex,O=C.dataEndIndex,j=C.updateId;if(!HI({props:N}))return null;var A=N.children,P=N.layout,I=N.stackOffset,V=N.data,$=N.reverseStackOrder,B=yj(P),L=B.numericAxisName,Q=B.cateAxisName,ee=zr(A,r),ae=YX(V,ee,"".concat(L,"Id"),"".concat(Q,"Id"),I,$),se=c.reduce(function(G,ge){var _e="".concat(ge.axisType,"Map");return oe(oe({},G),{},De({},_e,mie(N,oe(oe({},ge),{},{graphicalItems:ee,stackGroups:ge.axisType===L&&ae,dataStartIndex:R,dataEndIndex:O}))))},{}),J=vie(oe(oe({},se),{},{props:N,graphicalItems:ee}),D==null?void 0:D.legendBBox);Object.keys(se).forEach(function(G){se[G]=h(N,se[G],J,G.replace("Map",""),n)});var ie=se["".concat(Q,"Map")],re=gie(ie),z=v(N,oe(oe({},se),{},{dataStartIndex:R,dataEndIndex:O,updateId:j,graphicalItems:ee,stackGroups:ae,offset:J}));return oe(oe({formattedGraphicalItems:z,graphicalItems:ee,offset:J,stackGroups:ae},re),se)},S=(function(_){function C(D){var N,R,O;return Jre(this,C),O=tie(this,C,[D]),De(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),De(O,"accessibilityManager",new $re),De(O,"handleLegendBBoxUpdate",function(j){if(j){var A=O.state,P=A.dataStartIndex,I=A.dataEndIndex,V=A.updateId;O.setState(oe({legendBBox:j},x({props:O.props,dataStartIndex:P,dataEndIndex:I,updateId:V},oe(oe({},O.state),{},{legendBBox:j}))))}}),De(O,"handleReceiveSyncEvent",function(j,A,P){if(O.props.syncId===j){if(P===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(A)}}),De(O,"handleBrushChange",function(j){var A=j.startIndex,P=j.endIndex;if(A!==O.state.dataStartIndex||P!==O.state.dataEndIndex){var I=O.state.updateId;O.setState(function(){return oe({dataStartIndex:A,dataEndIndex:P},x({props:O.props,dataStartIndex:A,dataEndIndex:P,updateId:I},O.state))}),O.triggerSyncEvent({dataStartIndex:A,dataEndIndex:P})}}),De(O,"handleMouseEnter",function(j){var A=O.getMouseInfo(j);if(A){var P=oe(oe({},A),{},{isTooltipActive:!0});O.setState(P),O.triggerSyncEvent(P);var I=O.props.onMouseEnter;Ge(I)&&I(P,j)}}),De(O,"triggeredAfterMouseMove",function(j){var A=O.getMouseInfo(j),P=A?oe(oe({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(P),O.triggerSyncEvent(P);var I=O.props.onMouseMove;Ge(I)&&I(P,j)}),De(O,"handleItemMouseEnter",function(j){O.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),De(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),De(O,"handleMouseMove",function(j){j.persist(),O.throttleTriggeredAfterMouseMove(j)}),De(O,"handleMouseLeave",function(j){O.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};O.setState(A),O.triggerSyncEvent(A);var P=O.props.onMouseLeave;Ge(P)&&P(A,j)}),De(O,"handleOuterEvent",function(j){var A=L8(j),P=wr(O.props,"".concat(A));if(A&&Ge(P)){var I,V;/.*touch.*/i.test(A)?V=O.getMouseInfo(j.changedTouches[0]):V=O.getMouseInfo(j),P((I=V)!==null&&I!==void 0?I:{},j)}}),De(O,"handleClick",function(j){var A=O.getMouseInfo(j);if(A){var P=oe(oe({},A),{},{isTooltipActive:!0});O.setState(P),O.triggerSyncEvent(P);var I=O.props.onClick;Ge(I)&&I(P,j)}}),De(O,"handleMouseDown",function(j){var A=O.props.onMouseDown;if(Ge(A)){var P=O.getMouseInfo(j);A(P,j)}}),De(O,"handleMouseUp",function(j){var A=O.props.onMouseUp;if(Ge(A)){var P=O.getMouseInfo(j);A(P,j)}}),De(O,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),De(O,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&O.handleMouseDown(j.changedTouches[0])}),De(O,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&O.handleMouseUp(j.changedTouches[0])}),De(O,"handleDoubleClick",function(j){var A=O.props.onDoubleClick;if(Ge(A)){var P=O.getMouseInfo(j);A(P,j)}}),De(O,"handleContextMenu",function(j){var A=O.props.onContextMenu;if(Ge(A)){var P=O.getMouseInfo(j);A(P,j)}}),De(O,"triggerSyncEvent",function(j){O.props.syncId!==void 0&&Gb.emit(Kb,O.props.syncId,j,O.eventEmitterSymbol)}),De(O,"applySyncEvent",function(j){var A=O.props,P=A.layout,I=A.syncMethod,V=O.state.updateId,$=j.dataStartIndex,B=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)O.setState(oe({dataStartIndex:$,dataEndIndex:B},x({props:O.props,dataStartIndex:$,dataEndIndex:B,updateId:V},O.state)));else if(j.activeTooltipIndex!==void 0){var L=j.chartX,Q=j.chartY,ee=j.activeTooltipIndex,ae=O.state,se=ae.offset,J=ae.tooltipTicks;if(!se)return;if(typeof I=="function")ee=I(J,j);else if(I==="value"){ee=-1;for(var ie=0;ie<J.length;ie++)if(J[ie].value===j.activeLabel){ee=ie;break}}var re=oe(oe({},se),{},{x:se.left,y:se.top}),z=Math.min(L,re.x+re.width),G=Math.min(Q,re.y+re.height),ge=J[ee]&&J[ee].value,_e=Mw(O.state,O.props.data,ee),Ce=J[ee]?{x:P==="horizontal"?J[ee].coordinate:z,y:P==="horizontal"?G:J[ee].coordinate}:Q4;O.setState(oe(oe({},j),{},{activeLabel:ge,activeCoordinate:Ce,activePayload:_e,activeTooltipIndex:ee}))}else O.setState(j)}),De(O,"renderCursor",function(j){var A,P=O.state,I=P.isTooltipActive,V=P.activeCoordinate,$=P.activePayload,B=P.offset,L=P.activeTooltipIndex,Q=P.tooltipAxisBandSize,ee=O.getTooltipEventType(),ae=(A=j.props.active)!==null&&A!==void 0?A:I,se=O.props.layout,J=j.key||"_recharts-cursor";return K.createElement(Wre,{key:J,activeCoordinate:V,activePayload:$,activeTooltipIndex:L,chartName:n,element:j,isActive:ae,layout:se,offset:B,tooltipAxisBandSize:Q,tooltipEventType:ee})}),De(O,"renderPolarAxis",function(j,A,P){var I=wr(j,"type.axisType"),V=wr(O.state,"".concat(I,"Map")),$=j.type.defaultProps,B=$!==void 0?oe(oe({},$),j.props):j.props,L=V&&V[B["".concat(I,"Id")]];return q.cloneElement(j,oe(oe({},L),{},{className:at(I,L.className),key:j.key||"".concat(A,"-").concat(P),ticks:Ji(L,!0)}))}),De(O,"renderPolarGrid",function(j){var A=j.props,P=A.radialLines,I=A.polarAngles,V=A.polarRadius,$=O.state,B=$.radiusAxisMap,L=$.angleAxisMap,Q=Ko(B),ee=Ko(L),ae=ee.cx,se=ee.cy,J=ee.innerRadius,ie=ee.outerRadius;return q.cloneElement(j,{polarAngles:Array.isArray(I)?I:Ji(ee,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(V)?V:Ji(Q,!0).map(function(re){return re.coordinate}),cx:ae,cy:se,innerRadius:J,outerRadius:ie,key:j.key||"polar-grid",radialLines:P})}),De(O,"renderLegend",function(){var j=O.state.formattedGraphicalItems,A=O.props,P=A.children,I=A.width,V=A.height,$=O.props.margin||{},B=I-($.left||0)-($.right||0),L=GL({children:P,formattedGraphicalItems:j,legendWidth:B,legendContent:f});if(!L)return null;var Q=L.item,ee=hj(L,Hre);return q.cloneElement(Q,oe(oe({},ee),{},{chartWidth:I,chartHeight:V,margin:$,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),De(O,"renderTooltip",function(){var j,A=O.props,P=A.children,I=A.accessibilityLayer,V=or(P,fi);if(!V)return null;var $=O.state,B=$.isTooltipActive,L=$.activeCoordinate,Q=$.activePayload,ee=$.activeLabel,ae=$.offset,se=(j=V.props.active)!==null&&j!==void 0?j:B;return q.cloneElement(V,{viewBox:oe(oe({},ae),{},{x:ae.left,y:ae.top}),active:se,label:ee,payload:se?Q:[],coordinate:L,accessibilityLayer:I})}),De(O,"renderBrush",function(j){var A=O.props,P=A.margin,I=A.data,V=O.state,$=V.offset,B=V.dataStartIndex,L=V.dataEndIndex,Q=V.updateId;return q.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Sh(O.handleBrushChange,j.props.onChange),data:I,x:xe(j.props.x)?j.props.x:$.left,y:xe(j.props.y)?j.props.y:$.top+$.height+$.brushBottom-(P.bottom||0),width:xe(j.props.width)?j.props.width:$.width,startIndex:B,endIndex:L,updateId:"brush-".concat(Q)})}),De(O,"renderReferenceElement",function(j,A,P){if(!j)return null;var I=O,V=I.clipPathId,$=O.state,B=$.xAxisMap,L=$.yAxisMap,Q=$.offset,ee=j.type.defaultProps||{},ae=j.props,se=ae.xAxisId,J=se===void 0?ee.xAxisId:se,ie=ae.yAxisId,re=ie===void 0?ee.yAxisId:ie;return q.cloneElement(j,{key:j.key||"".concat(A,"-").concat(P),xAxis:B[J],yAxis:L[re],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:V})}),De(O,"renderActivePoints",function(j){var A=j.item,P=j.activePoint,I=j.basePoint,V=j.childIndex,$=j.isRange,B=[],L=A.props.key,Q=A.item.type.defaultProps!==void 0?oe(oe({},A.item.type.defaultProps),A.item.props):A.item.props,ee=Q.activeDot,ae=Q.dataKey,se=oe(oe({index:V,dataKey:ae,cx:P.x,cy:P.y,r:4,fill:CE(A.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},ot(ee,!1)),fp(ee));return B.push(C.renderActiveDot(ee,se,"".concat(L,"-activePoint-").concat(V))),I?B.push(C.renderActiveDot(ee,oe(oe({},se),{},{cx:I.x,cy:I.y}),"".concat(L,"-basePoint-").concat(V))):$&&B.push(null),B}),De(O,"renderGraphicChild",function(j,A,P){var I=O.filterFormatItem(j,A,P);if(!I)return null;var V=O.getTooltipEventType(),$=O.state,B=$.isTooltipActive,L=$.tooltipAxis,Q=$.activeTooltipIndex,ee=$.activeLabel,ae=O.props.children,se=or(ae,fi),J=I.props,ie=J.points,re=J.isRange,z=J.baseLine,G=I.item.type.defaultProps!==void 0?oe(oe({},I.item.type.defaultProps),I.item.props):I.item.props,ge=G.activeDot,_e=G.hide,Ce=G.activeBar,Re=G.activeShape,We=!!(!_e&&B&&se&&(ge||Ce||Re)),Le={};V!=="axis"&&se&&se.props.trigger==="click"?Le={onClick:Sh(O.handleItemMouseEnter,j.props.onClick)}:V!=="axis"&&(Le={onMouseLeave:Sh(O.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Sh(O.handleItemMouseEnter,j.props.onMouseEnter)});var he=q.cloneElement(j,oe(oe({},I.props),Le));function Oe(Kn){return typeof L.dataKey=="function"?L.dataKey(Kn.payload):null}if(We)if(Q>=0){var Be,ce;if(L.dataKey&&!L.allowDuplicatedCategory){var rt=typeof L.dataKey=="function"?Oe:"payload.".concat(L.dataKey.toString());Be=w_(ie,rt,ee),ce=re&&z&&w_(z,rt,ee)}else Be=ie==null?void 0:ie[Q],ce=re&&z&&z[Q];if(Re||Ce){var ze=j.props.activeIndex!==void 0?j.props.activeIndex:Q;return[q.cloneElement(j,oe(oe(oe({},I.props),Le),{},{activeIndex:ze})),null,null]}if(!st(Be))return[he].concat(il(O.renderActivePoints({item:I,activePoint:Be,basePoint:ce,childIndex:Q,isRange:re})))}else{var Pt,yt=(Pt=O.getItemByXY(O.state.activeCoordinate))!==null&&Pt!==void 0?Pt:{graphicalItem:he},Rt=yt.graphicalItem,Mn=Rt.item,pt=Mn===void 0?j:Mn,vt=Rt.childIndex,Kt=oe(oe(oe({},I.props),Le),{},{activeIndex:vt});return[q.cloneElement(pt,Kt),null,null]}return re?[he,null,null]:[he,null]}),De(O,"renderCustomized",function(j,A,P){return q.cloneElement(j,oe(oe({key:"recharts-customized-".concat(P)},O.props),O.state))}),De(O,"renderMap",{CartesianGrid:{handler:Oh,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:Oh},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:Oh},YAxis:{handler:Oh},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((N=D.id)!==null&&N!==void 0?N:km("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=KM(O.triggeredAfterMouseMove,(R=D.throttleDelay)!==null&&R!==void 0?R:1e3/60),O.state={},O}return iie(C,_),eie(C,[{key:"componentDidMount",value:function(){var N,R;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,R=N.children,O=N.data,j=N.height,A=N.layout,P=or(R,fi);if(P){var I=P.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var V=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,$=Mw(this.state,O,I,V),B=this.state.tooltipTicks[I].coordinate,L=(this.state.offset.top+j)/2,Q=A==="horizontal",ee=Q?{x:B,y:L}:{y:B,x:L},ae=this.state.formattedGraphicalItems.find(function(J){var ie=J.item;return ie.type.name==="Scatter"});ae&&(ee=oe(oe({},ee),ae.props.points[I].tooltipPosition),$=ae.props.points[I].tooltipPayload);var se={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:V,activePayload:$,activeCoordinate:ee};this.setState(se),this.renderCursor(P),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,R){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==R.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var O,j;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(N){T_([or(N.children,fi)],[or(this.props.children,fi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=or(this.props.children,fi);if(N&&typeof N.props.shared=="boolean"){var R=N.props.shared?"axis":"item";return l.indexOf(R)>=0?R:o}return o}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var R=this.container,O=R.getBoundingClientRect(),j=SH(O),A={chartX:Math.round(N.pageX-j.left),chartY:Math.round(N.pageY-j.top)},P=O.width/R.offsetWidth||1,I=this.inRange(A.chartX,A.chartY,P);if(!I)return null;var V=this.state,$=V.xAxisMap,B=V.yAxisMap,L=this.getTooltipEventType(),Q=mj(this.state,this.props.data,this.props.layout,I);if(L!=="axis"&&$&&B){var ee=Ko($).scale,ae=Ko(B).scale,se=ee&&ee.invert?ee.invert(A.chartX):null,J=ae&&ae.invert?ae.invert(A.chartY):null;return oe(oe({},A),{},{xValue:se,yValue:J},Q)}return Q?oe(oe({},A),Q):null}},{key:"inRange",value:function(N,R){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,A=N/O,P=R/O;if(j==="horizontal"||j==="vertical"){var I=this.state.offset,V=A>=I.left&&A<=I.left+I.width&&P>=I.top&&P<=I.top+I.height;return V?{x:A,y:P}:null}var $=this.state,B=$.angleAxisMap,L=$.radiusAxisMap;if(B&&L){var Q=Ko(B);return RN({x:A,y:P},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,R=this.getTooltipEventType(),O=or(N,fi),j={};O&&R==="axis"&&(O.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=fp(this.props,this.handleOuterEvent);return oe(oe({},A),j)}},{key:"addListener",value:function(){Gb.on(Kb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Gb.removeListener(Kb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,R,O){for(var j=this.state.formattedGraphicalItems,A=0,P=j.length;A<P;A++){var I=j[A];if(I.item===N||I.props.key===N.key||R===Zi(I.item.type)&&O===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,R=this.state.offset,O=R.left,j=R.top,A=R.height,P=R.width;return K.createElement("defs",null,K.createElement("clipPath",{id:N},K.createElement("rect",{x:O,y:j,height:A,width:P})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(R,O){var j=dj(O,2),A=j[0],P=j[1];return oe(oe({},R),{},De({},A,P.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(R,O){var j=dj(O,2),A=j[0],P=j[1];return oe(oe({},R),{},De({},A,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var R;return(R=this.state.xAxisMap)===null||R===void 0||(R=R[N])===null||R===void 0?void 0:R.scale}},{key:"getYScaleByAxisId",value:function(N){var R;return(R=this.state.yAxisMap)===null||R===void 0||(R=R[N])===null||R===void 0?void 0:R.scale}},{key:"getItemByXY",value:function(N){var R=this.state,O=R.formattedGraphicalItems,j=R.activeItem;if(O&&O.length)for(var A=0,P=O.length;A<P;A++){var I=O[A],V=I.props,$=I.item,B=$.type.defaultProps!==void 0?oe(oe({},$.type.defaultProps),$.props):$.props,L=Zi($.type);if(L==="Bar"){var Q=(V.data||[]).find(function(J){return HZ(N,J)});if(Q)return{graphicalItem:I,payload:Q}}else if(L==="RadialBar"){var ee=(V.data||[]).find(function(J){return RN(N,J)});if(ee)return{graphicalItem:I,payload:ee}}else if(Xm(I,j)||Qm(I,j)||Af(I,j)){var ae=Mee({graphicalItem:I,activeTooltipItem:j,itemData:B.data}),se=B.activeIndex===void 0?ae:B.activeIndex;return{graphicalItem:oe(oe({},I),{},{childIndex:se}),payload:Af(I,j)?B.data[ae]:I.props.data[ae]}}}return null}},{key:"render",value:function(){var N=this;if(!HI(this))return null;var R=this.props,O=R.children,j=R.className,A=R.width,P=R.height,I=R.style,V=R.compact,$=R.title,B=R.desc,L=hj(R,Gre),Q=ot(L,!1);if(V)return K.createElement(X2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(A_,bu({},Q,{width:A,height:P,title:$,desc:B}),this.renderClipPath(),KI(O,this.renderMap)));if(this.props.accessibilityLayer){var ee,ae;Q.tabIndex=(ee=this.props.tabIndex)!==null&&ee!==void 0?ee:0,Q.role=(ae=this.props.role)!==null&&ae!==void 0?ae:"application",Q.onKeyDown=function(J){N.accessibilityManager.keyboardEvent(J)},Q.onFocus=function(){N.accessibilityManager.focus()}}var se=this.parseEventsOfWrapper();return K.createElement(X2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",bu({className:at("recharts-wrapper",j),style:oe({position:"relative",cursor:"default",width:A,height:P},I)},se,{ref:function(ie){N.container=ie}}),K.createElement(A_,bu({},Q,{width:A,height:P,title:$,desc:B,style:cie}),this.renderClipPath(),KI(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(q.Component);De(S,"displayName",n),De(S,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),De(S,"getDerivedStateFromProps",function(_,C){var D=_.dataKey,N=_.data,R=_.children,O=_.width,j=_.height,A=_.layout,P=_.stackOffset,I=_.margin,V=C.dataStartIndex,$=C.dataEndIndex;if(C.updateId===void 0){var B=gj(_);return oe(oe(oe({},B),{},{updateId:0},x(oe(oe({props:_},B),{},{updateId:0}),C)),{},{prevDataKey:D,prevData:N,prevWidth:O,prevHeight:j,prevLayout:A,prevStackOffset:P,prevMargin:I,prevChildren:R})}if(D!==C.prevDataKey||N!==C.prevData||O!==C.prevWidth||j!==C.prevHeight||A!==C.prevLayout||P!==C.prevStackOffset||!Pu(I,C.prevMargin)){var L=gj(_),Q={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},ee=oe(oe({},mj(C,N,A)),{},{updateId:C.updateId+1}),ae=oe(oe(oe({},L),Q),ee);return oe(oe(oe({},ae),x(oe({props:_},ae),C)),{},{prevDataKey:D,prevData:N,prevWidth:O,prevHeight:j,prevLayout:A,prevStackOffset:P,prevMargin:I,prevChildren:R})}if(!T_(R,C.prevChildren)){var se,J,ie,re,z=or(R,Yu),G=z&&(se=(J=z.props)===null||J===void 0?void 0:J.startIndex)!==null&&se!==void 0?se:V,ge=z&&(ie=(re=z.props)===null||re===void 0?void 0:re.endIndex)!==null&&ie!==void 0?ie:$,_e=G!==V||ge!==$,Ce=!st(N),Re=Ce&&!_e?C.updateId:C.updateId+1;return oe(oe({updateId:Re},x(oe(oe({props:_},C),{},{updateId:Re,dataStartIndex:G,dataEndIndex:ge}),C)),{},{prevChildren:R,dataStartIndex:G,dataEndIndex:ge})}return null}),De(S,"renderActiveDot",function(_,C,D){var N;return q.isValidElement(_)?N=q.cloneElement(_,C):Ge(_)?N=_(C):N=K.createElement(c4,C),K.createElement(cn,{className:"recharts-active-dot",key:D},N)});var T=q.forwardRef(function(C,D){return K.createElement(S,bu({},C,{ref:D}))});return T.displayName=S.displayName,T},_ie=bie({chartName:"BarChart",GraphicalChild:no,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:rg},{axisType:"yAxis",AxisComp:ig}],formatAxisMap:Nte});function wie({budget:t,currency:e}){const n=t.map(i=>({name:i.name,emoji:i.emoji,min:i.min||0,max:i.max||0,actual:i.actual||0})),r=({active:i,payload:o,label:s})=>!i||!(o!=null&&o.length)?null:y.jsxs("div",{className:"bg-bg-secondary border border-border rounded-[var(--radius-md)] p-3",children:[y.jsx("p",{className:"text-text-primary font-medium text-sm mb-1",children:s}),o.map((l,c)=>y.jsxs("p",{className:"text-xs",style:{color:l.color},children:[l.name,": ",sr(l.value,e)]},c))]});return y.jsx(vH,{width:"100%",height:280,children:y.jsxs(_ie,{data:n,margin:{top:10,right:10,left:0,bottom:0},children:[y.jsx(V4,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),y.jsx(rg,{dataKey:"name",stroke:"var(--color-text-muted)",fontSize:11,tickLine:!1,axisLine:!1}),y.jsx(ig,{stroke:"var(--color-text-muted)",fontSize:11,tickLine:!1,axisLine:!1,tickFormatter:i=>sr(i,e)}),y.jsx(fi,{content:y.jsx(r,{})}),y.jsx(no,{dataKey:"min",name:"Min Budget",fill:"#6A9BCC",opacity:.4,radius:[2,2,0,0]}),y.jsx(no,{dataKey:"max",name:"Max Budget",fill:"#6A9BCC",opacity:.7,radius:[2,2,0,0]}),y.jsx(no,{dataKey:"actual",name:"Actual Spent",radius:[4,4,0,0],children:n.map((i,o)=>y.jsx(rE,{fill:i.actual>i.max?"#C15F3C":"#D97757"},o))})]})})}function Eie({category:t,currency:e,travelers:n,perPerson:r}){const{dispatch:i}=Gt(),o=r?Math.max(n,1):1,s=t.actual>t.max&&t.max>0;return y.jsxs(Nt,{className:"animate-fade-in",children:[y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-xl",children:t.emoji}),y.jsx(zn,{value:t.name,onSave:l=>i({type:pe.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{name:l}}}),className:"font-medium text-text-primary text-sm"})]}),y.jsx("button",{onClick:()=>i({type:pe.DELETE_BUDGET_CATEGORY,payload:t.id}),className:"text-xs text-text-muted hover:text-danger transition-colors",children:""})]}),y.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-4 text-sm",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-text-muted text-xs block",children:"Min"}),y.jsx(zn,{value:t.min?String(Math.round(t.min/o)):"",onSave:l=>i({type:pe.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{min:(Number(l)||0)*o}}}),className:"text-text-primary font-mono text-xs",placeholder:"0"})]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-text-muted text-xs block",children:"Max"}),y.jsx(zn,{value:t.max?String(Math.round(t.max/o)):"",onSave:l=>i({type:pe.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{max:(Number(l)||0)*o}}}),className:"text-text-primary font-mono text-xs",placeholder:"0"})]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-text-muted text-xs block",children:"Actual"}),y.jsx(zn,{value:t.actual?String(Math.round(t.actual/o)):"",onSave:l=>i({type:pe.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{actual:(Number(l)||0)*o}}}),className:`font-mono text-xs ${s?"text-danger font-bold":"text-text-primary"}`,placeholder:"0"})]})]}),s&&y.jsxs("p",{className:"text-xs text-danger mt-2 font-medium",children:[" Over budget by ",sr(t.actual-t.max,e)]}),y.jsxs("div",{className:"mt-2 text-xs text-text-muted",children:["Range: ",sr(Math.round(t.min/o),e),"  ",sr(Math.round(t.max/o),e),r&&" per person"]})]})}function Tie({onAdd:t,onCancel:e,categories:n,currency:r}){var m;const[i,o]=q.useState(""),[s,l]=q.useState(""),[c,f]=q.useState(((m=n[0])==null?void 0:m.name)||""),h=v=>{v.preventDefault(),!(!i.trim()||!s)&&(t({description:i.trim(),amount:Number(s),category:c}),o(""),l(""))};return y.jsx(Nt,{children:y.jsxs("form",{onSubmit:h,className:"flex flex-wrap gap-2 items-end",children:[y.jsxs("div",{className:"flex-1 min-w-[160px]",children:[y.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Description"}),y.jsx("input",{value:i,onChange:v=>o(v.target.value),placeholder:"What did you spend on?",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0})]}),y.jsxs("div",{className:"w-28",children:[y.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Amount"}),y.jsx("input",{type:"number",value:s,onChange:v=>l(v.target.value),placeholder:"0",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Category"}),y.jsx("select",{value:c,onChange:v=>f(v.target.value),className:"px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",children:n.map(v=>y.jsxs("option",{value:v.name,children:[v.emoji," ",v.name]},v.id))})]}),y.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"})]})})}function Sie(){var m;const{activeTrip:t,dispatch:e}=Gt(),[n,r]=q.useState(!1),[i,o]=q.useState(!1);if(!t)return null;const s=t,l=s.budget||[],c=s.currency||"PHP",f=q.useMemo(()=>({min:l.reduce((v,x)=>v+(x.min||0),0),max:l.reduce((v,x)=>v+(x.max||0),0),actual:l.reduce((v,x)=>v+(x.actual||0),0)}),[l]),h=n?Math.max(s.travelers,1):1;return y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsxs(Nt,{children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h2",{className:"font-heading text-lg text-text-primary",children:" Budget"}),y.jsx("button",{onClick:()=>r(!n),className:`px-3 py-1 text-xs rounded-[var(--radius-pill)] border transition-colors
              ${n?"bg-accent text-white border-accent":"border-border text-text-muted hover:text-text-secondary"}`,children:n?"Per Person":"Total"})]}),y.jsxs("div",{className:"grid grid-cols-3 gap-5 text-center",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Min Estimate"}),y.jsx("p",{className:"font-heading text-xl text-text-primary mt-1",children:sr(Math.round(f.min/h),c)})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Max Estimate"}),y.jsx("p",{className:"font-heading text-xl text-text-primary mt-1",children:sr(Math.round(f.max/h),c)})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Spent"}),y.jsx("p",{className:`font-heading text-xl mt-1 ${f.actual>f.max&&f.max>0?"text-danger":"text-accent"}`,children:sr(Math.round(f.actual/h),c)})]})]}),n&&y.jsxs("p",{className:"text-xs text-text-muted text-center mt-2",children:["Showing per person (",s.travelers," travelers)"]})]}),l.length>0&&y.jsx(Nt,{children:y.jsx(wie,{budget:l,currency:c})}),y.jsx("div",{className:"grid sm:grid-cols-2 gap-5",children:l.map(v=>y.jsx(Eie,{category:v,currency:c,travelers:s.travelers,perPerson:n},v.id))}),y.jsx("button",{onClick:()=>e({type:pe.ADD_BUDGET_CATEGORY,payload:{name:"New Category",emoji:""}}),className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add budget category"}),y.jsxs(Nt,{children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsx("h3",{className:"font-heading text-sm text-text-primary",children:"Spending Log"}),y.jsx("button",{onClick:()=>o(!0),className:"text-xs text-accent hover:text-accent-hover",children:"+ Log expense"})]}),i&&y.jsx("div",{className:"mb-3",children:y.jsx(Tie,{categories:l,currency:c,onAdd:v=>{e({type:pe.ADD_SPENDING,payload:v}),o(!1)},onCancel:()=>o(!1)})}),((m=s.spendingLog)==null?void 0:m.length)>0?y.jsx("div",{className:"space-y-2",children:s.spendingLog.map(v=>y.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50 last:border-0 group",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-text-primary",children:v.description}),y.jsxs("p",{className:"text-xs text-text-muted",children:[v.date,"  ",v.category]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm font-mono text-text-primary",children:sr(v.amount,c)}),y.jsx("button",{onClick:()=>e({type:pe.DELETE_SPENDING,payload:v.id}),className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-xs transition-opacity",children:""})]})]},v.id))}):y.jsx("p",{className:"text-sm text-text-muted italic",children:"No expenses logged yet."})]})]})}const vj=["#D97757","#D4A72C","#788C5D","#6A9BCC","#C15F3C","#E07BA0"];function Z4({trigger:t}){const[e,n]=q.useState([]);return q.useEffect(()=>{if(!t)return;const r=Array.from({length:30},(o,s)=>({id:Date.now()+s,left:Math.random()*100,color:vj[Math.floor(Math.random()*vj.length)],delay:Math.random()*.5,size:6+Math.random()*6,duration:2+Math.random()*1}));n(r);const i=setTimeout(()=>n([]),3500);return()=>clearTimeout(i)},[t]),e.length===0?null:y.jsx(y.Fragment,{children:e.map(r=>y.jsx("div",{className:"confetti-piece",style:{left:`${r.left}%`,backgroundColor:r.color,width:r.size,height:r.size,animationDelay:`${r.delay}s`,animationDuration:`${r.duration}s`}},r.id))})}function Aie({todo:t,onToggle:e,onUpdate:n,onDelete:r}){const[i,o]=q.useState(!1),[s,l]=q.useState(t.text),c=()=>{o(!1),s.trim()!==t.text&&n({text:s.trim()})};return y.jsxs("div",{className:`flex items-center gap-3 py-2.5 group transition-opacity ${t.done?"opacity-60":""}`,children:[y.jsx("button",{onClick:e,className:`flex-shrink-0 w-5 h-5 rounded-[var(--radius-sm)] border-2 transition-all flex items-center justify-center
          ${t.done?"bg-success border-success text-white animate-check-pop":"border-border-strong hover:border-accent"}`,children:t.done&&y.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:y.jsx("path",{d:"M2 6l3 3 5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[i?y.jsx("input",{value:s,onChange:f=>l(f.target.value),onBlur:c,onKeyDown:f=>{f.key==="Enter"&&c(),f.key==="Escape"&&(l(t.text),o(!1))},className:"w-full px-2 py-0.5 text-sm bg-bg-input border border-accent/30 rounded-[var(--radius-sm)] text-text-primary outline-none focus:border-accent",autoFocus:!0}):y.jsx("span",{onClick:()=>{l(t.text),o(!0)},className:`text-sm cursor-pointer hover:border-b hover:border-accent/30 transition-colors
              ${t.done?"line-through text-text-muted":"text-text-primary"}`,children:t.text}),y.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:t.dueDate&&y.jsx("span",{className:"text-xs text-text-muted",children:t.dueDate})})]}),t.priority==="high"&&y.jsx("span",{className:"flex-shrink-0 w-2 h-2 rounded-full bg-danger",title:"High priority"}),y.jsx("button",{onClick:r,className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-xs transition-opacity flex-shrink-0",children:""})]})}function Pie({category:t,onAdd:e}){const[n,r]=q.useState(""),[i,o]=q.useState(""),[s,l]=q.useState("normal"),[c,f]=q.useState(!1),h=m=>{m.preventDefault(),n.trim()&&(e({text:n.trim(),category:t,dueDate:i,priority:s}),r(""),o(""),l("normal"),f(!1))};return c?y.jsxs("form",{onSubmit:h,className:"flex gap-2 items-center py-1",children:[y.jsx("input",{value:n,onChange:m=>r(m.target.value),placeholder:"New task...",className:"flex-1 px-2 py-1 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0}),y.jsx("input",{type:"date",value:i,onChange:m=>o(m.target.value),className:"px-2 py-1 text-xs bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary"}),y.jsx("button",{type:"button",onClick:()=>l(m=>m==="high"?"normal":"high"),className:`text-xs px-2 py-1 rounded-[var(--radius-sm)] border transition-colors
          ${s==="high"?"border-danger text-danger bg-danger/10":"border-border text-text-muted"}`,title:"Toggle high priority",children:"!!"}),y.jsx("button",{type:"submit",className:"px-2 py-1 text-xs bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),y.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-xs text-text-muted",children:""})]}):y.jsx("button",{onClick:()=>f(!0),className:"text-xs text-accent hover:text-accent-hover transition-colors py-1",children:"+ Add task"})}function Iie(){const{activeTrip:t,dispatch:e,showToast:n}=Gt(),[r,i]=q.useState("all"),[o,s]=q.useState(0);if(!t)return null;const c=t.todos||[],f=q.useMemo(()=>{const R=[...new Set(c.map(O=>O.category))];return aq.forEach(O=>{R.includes(O)||R.push(O)}),R},[c]),h=q.useMemo(()=>{switch(r){case"high":return c.filter(R=>R.priority==="high");case"incomplete":return c.filter(R=>!R.done);case"complete":return c.filter(R=>R.done);default:return c}},[c,r]),m=q.useMemo(()=>{const R={};return f.forEach(O=>{R[O]=[]}),h.forEach(O=>{const j=O.category||"Misc";R[j]||(R[j]=[]),R[j].push(O)}),R},[h,f]),v=c.filter(R=>R.done).length,x=c.length,S=q.useCallback(R=>{e({type:pe.TOGGLE_TODO,payload:R});const O=c.find(j=>j.id===R);O&&!O.done&&v+1===x&&(s(A=>A+1),n("You're all set! Have an amazing trip "))},[e,c,v,x,n]),[T,_]=q.useState(!1),[C,D]=q.useState(""),N=[{id:"all",label:`All (${x})`},{id:"high",label:"High Priority"},{id:"incomplete",label:`Incomplete (${x-v})`},{id:"complete",label:`Complete (${v})`}];return y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsx(Z4,{trigger:o}),y.jsx("div",{className:"flex items-center justify-between",children:y.jsxs("h2",{className:"font-heading text-lg text-text-primary",children:[" To-Do  ",v,"/",x," done"]})}),y.jsx("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide",children:N.map(R=>y.jsx("button",{onClick:()=>i(R.id),className:`px-3 py-1.5 text-xs font-medium rounded-[var(--radius-pill)] whitespace-nowrap transition-colors
              ${r===R.id?"bg-accent text-white":"bg-bg-secondary text-text-muted hover:text-text-secondary border border-border"}`,children:R.label},R.id))}),Object.entries(m).map(([R,O])=>{const j=O.filter(P=>P.done).length,A=O.length;return y.jsxs(Nt,{children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h3",{className:"font-heading text-sm font-semibold text-text-primary",children:R}),y.jsxs("span",{className:"text-xs text-text-muted",children:[j,"/",A]})]}),y.jsx("div",{className:"divide-y divide-border/30",children:O.map(P=>y.jsx(Aie,{todo:P,onToggle:()=>S(P.id),onUpdate:I=>e({type:pe.UPDATE_TODO,payload:{id:P.id,updates:I}}),onDelete:()=>e({type:pe.DELETE_TODO,payload:P.id})},P.id))}),y.jsx(Pie,{category:R,onAdd:P=>e({type:pe.ADD_TODO,payload:P})})]},R)}),T?y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{value:C,onChange:R=>D(R.target.value),placeholder:"Category name",className:"flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",autoFocus:!0,onKeyDown:R=>{R.key==="Enter"&&C.trim()&&(e({type:pe.ADD_TODO,payload:{text:"New task",category:C.trim()}}),D(""),_(!1))}}),y.jsx("button",{onClick:()=>_(!1),className:"text-sm text-text-muted",children:"Cancel"})]}):y.jsx("button",{onClick:()=>_(!0),className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add category"})]})}function Cie({city:t}){const{dispatch:e}=Gt(),n=r=>{e({type:pe.UPDATE_CITY,payload:{id:t.id,updates:r}})};return y.jsxs(Nt,{className:"animate-fade-in-up",children:[y.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[y.jsx("span",{className:"text-4xl flex-shrink-0",children:t.flag}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx(zn,{value:t.city,onSave:r=>n({city:r}),className:"font-heading text-xl text-text-primary font-bold",placeholder:"City name"}),y.jsx(zn,{value:t.country,onSave:r=>n({country:r}),tag:"div",className:"text-sm text-text-muted mt-1",placeholder:"Country"})]}),y.jsx("button",{onClick:()=>e({type:pe.DELETE_CITY,payload:t.id}),className:"text-xs text-text-muted hover:text-danger transition-colors flex-shrink-0",title:"Remove city",children:""})]}),y.jsx("div",{className:"divide-y divide-border",children:[{label:" Highlights",field:"highlights",placeholder:"What makes this city special?"},{label:" Must-Do",field:"mustDo",placeholder:"Can't-miss activities"},{label:" Weather",field:"weather",placeholder:"Expected weather during your visit"},{label:" Currency",field:"currencyTip",placeholder:"Local currency and payment tips"},{label:" Notes",field:"notes",placeholder:"Your personal notes for this city",multiline:!0}].map(({label:r,field:i,placeholder:o,multiline:s})=>y.jsxs("div",{className:"py-4",children:[y.jsx("h4",{className:"text-[10px] font-semibold text-text-muted uppercase tracking-widest mb-2",children:r}),y.jsx(zn,{value:t[i],onSave:l=>n({[i]:l}),className:"text-sm text-text-secondary leading-relaxed",placeholder:o,multiline:s})]},i))})]})}function Oie({onAdd:t,onCancel:e}){const[n,r]=q.useState({city:"",country:"",flag:""}),i=o=>{if(o.preventDefault(),!n.city.trim())return;const s=R1(n.city,n.country,n.flag);t(s)};return y.jsx(Nt,{children:y.jsx("form",{onSubmit:i,children:y.jsxs("div",{className:"flex flex-wrap gap-2 items-end",children:[y.jsx("div",{className:"flex items-center justify-center w-10 h-10 text-2xl mt-auto mb-0.5",children:n.flag||y.jsx("span",{className:"text-text-muted text-base",children:""})}),y.jsxs("div",{className:"flex-1 min-w-[160px]",children:[y.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"City"}),y.jsx(HD,{value:n.city,country:n.country,flag:n.flag,onChange:o=>r(s=>({...s,...o})),placeholder:"e.g., Bangkok",autoFocus:!0})]}),y.jsxs("div",{className:"flex-1 min-w-[140px]",children:[y.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Country"}),y.jsx("input",{value:n.country,onChange:o=>r(s=>({...s,country:o.target.value})),placeholder:"e.g., Thailand",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]}),y.jsxs("div",{className:"flex gap-2 items-end",children:[y.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover transition-colors",children:"Add"}),y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm text-text-muted hover:text-text-secondary transition-colors",children:"Cancel"})]})]})})})}function kie(){const{activeTrip:t,dispatch:e}=Gt(),[n,r]=q.useState(!1);if(!t)return null;const i=t.cities||[];return y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("h2",{className:"font-heading text-lg text-text-primary",children:[" Cities  ",i.length," destinations"]}),y.jsx("button",{onClick:()=>r(!0),className:"px-3 py-1.5 text-sm bg-accent text-white rounded-[var(--radius-md)] hover:bg-accent-hover transition-colors",children:"+ Add City"})]}),n&&y.jsx(Oie,{onAdd:o=>{e({type:pe.ADD_CITY,payload:o}),r(!1)},onCancel:()=>r(!1)}),i.length>0?y.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:i.map(o=>y.jsx(Cie,{city:o},o.id))}):y.jsxs(Nt,{className:"text-center py-12",children:[y.jsx("p",{className:"text-4xl mb-3",children:""}),y.jsx("p",{className:"text-text-muted",children:"No city guides yet."}),y.jsx("p",{className:"text-text-muted text-sm mt-1",children:'Click "+ Add City" or add destinations when creating a trip.'})]})]})}function Nie({item:t,onToggle:e,onDelete:n}){return y.jsxs("div",{className:"flex items-center gap-3 py-1.5 group",children:[y.jsx("button",{onClick:e,className:`flex-shrink-0 w-4.5 h-4.5 rounded border-2 transition-all flex items-center justify-center
          ${t.packed?"bg-success border-success text-white animate-check-pop":"border-border-strong hover:border-accent"}`,style:{width:18,height:18},children:t.packed&&y.jsx("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",children:y.jsx("path",{d:"M2 6l3 3 5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),y.jsx("span",{className:`flex-1 text-sm ${t.packed?"line-through text-text-muted":"text-text-primary"}`,children:t.name}),y.jsx("button",{onClick:n,className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-xs transition-opacity",children:""})]})}function jie({section:t,onAdd:e}){const[n,r]=q.useState(""),[i,o]=q.useState(!1);if(!i)return y.jsx("button",{onClick:()=>o(!0),className:"text-xs text-accent hover:text-accent-hover transition-colors mt-1",children:"+ Add item"});const s=l=>{l.preventDefault(),n.trim()&&(e({name:n.trim(),section:t}),r(""))};return y.jsxs("form",{onSubmit:s,className:"flex gap-2 mt-2",children:[y.jsx("input",{value:n,onChange:l=>r(l.target.value),placeholder:"Item name...",className:"flex-1 px-2 py-1 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0}),y.jsx("button",{type:"submit",className:"px-2 py-1 text-xs bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),y.jsx("button",{type:"button",onClick:()=>o(!1),className:"text-xs text-text-muted",children:""})]})}function Rie(){const{activeTrip:t,dispatch:e,showToast:n}=Gt(),[r,i]=q.useState(0),[o,s]=q.useState(!1),[l,c]=q.useState(!1),[f,h]=q.useState("");if(!t)return null;const v=t.packingList||[],x=v.filter(N=>N.packed).length,S=v.length,T=q.useMemo(()=>{const N=[...new Set(v.map(R=>R.section))];return NP.forEach(R=>{N.includes(R)||N.push(R)}),N},[v]),_=q.useMemo(()=>{const N={};return T.forEach(R=>{N[R]=[]}),v.forEach(R=>{const O=R.section||"Misc";N[O]||(N[O]=[]),N[O].push(R)}),N},[v,T]),C=q.useCallback(N=>{e({type:pe.TOGGLE_PACKING_ITEM,payload:N});const R=v.find(O=>O.id===N);R&&!R.packed&&x+1===S&&(i(j=>j+1),n("All packed! You're ready to go "))},[e,v,x,S,n]),D={Documents:"",Clothing:"",Tech:"","Concert Essentials":"",Toiletries:"",Misc:""};return y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsx(Z4,{trigger:r}),y.jsx(qD,{isOpen:o,onClose:()=>s(!1),onConfirm:()=>{e({type:pe.RESET_PACKING}),n("Packing list reset")},title:"Reset Packing List?",message:"This will uncheck all packed items. Your items will not be removed.",confirmLabel:"Reset All",danger:!1}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("h2",{className:"font-heading text-lg text-text-primary",children:[" Packing  ",x,"/",S," packed"]}),S>0&&y.jsx("button",{onClick:()=>s(!0),className:"text-xs text-text-muted hover:text-danger transition-colors",children:"Reset all"})]}),y.jsx(yu,{value:x,max:S,colorClass:"bg-accent",height:"h-2.5"}),Object.entries(_).map(([N,R])=>{if(R.length===0&&!NP.includes(N))return null;const O=R.filter(A=>A.packed).length,j=D[N]||"";return y.jsxs(Nt,{children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("h3",{className:"font-heading text-sm font-semibold text-text-primary",children:[j," ",N]}),y.jsxs("span",{className:"text-xs text-text-muted",children:[O,"/",R.length]})]}),y.jsx("div",{className:"space-y-1",children:R.map(A=>y.jsx(Nie,{item:A,onToggle:()=>C(A.id),onDelete:()=>e({type:pe.DELETE_PACKING_ITEM,payload:A.id})},A.id))}),y.jsx(jie,{section:N,onAdd:A=>e({type:pe.ADD_PACKING_ITEM,payload:A})})]},N)}),l?y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{value:f,onChange:N=>h(N.target.value),placeholder:"Section name",className:"flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",autoFocus:!0,onKeyDown:N=>{N.key==="Enter"&&f.trim()&&(e({type:pe.ADD_PACKING_ITEM,payload:{name:"New item",section:f.trim()}}),h(""),c(!1))}}),y.jsx("button",{onClick:()=>c(!1),className:"text-sm text-text-muted",children:"Cancel"})]}):y.jsx("button",{onClick:()=>c(!0),className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add section"})]})}function Die({targetDate:t}){const e=N1(t);return e.expired?y.jsx("div",{className:"text-center py-4",children:y.jsx("p",{className:"text-3xl font-heading font-bold text-red-500",children:" IT'S SHOWTIME! "})}):y.jsxs("div",{className:"text-center py-6",children:[y.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-red-400 mb-4 font-semibold",children:"Countdown to showtime"}),y.jsx("div",{className:"flex justify-center gap-6",children:[{value:e.days,label:"Days"},{value:e.hours,label:"Hours"},{value:e.minutes,label:"Min"},{value:e.seconds,label:"Sec"}].map((n,r)=>y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:`text-4xl md:text-5xl font-heading font-bold text-white
              ${n.label==="Sec"?"animate-pulse":""}`,children:String(n.value).padStart(2,"0")}),y.jsx("div",{className:"text-xs text-red-400/70 uppercase tracking-wider mt-1",children:n.label})]},r))})]})}function Mie(){var o,s,l,c,f,h;const{activeTrip:t}=Gt();if(!t)return null;const e=t,n=(o=e.bookings)==null?void 0:o.find(m=>m.category==="concert");if(!n)return y.jsxs(Nt,{className:"text-center py-12",children:[y.jsx("p",{className:"text-4xl mb-3",children:""}),y.jsx("p",{className:"text-text-muted",children:"No concert or event bookings found."}),y.jsx("p",{className:"text-text-muted text-sm mt-1",children:'Add a booking with category "Concert" to unlock this tab.'})]});const r=(s=e.itinerary)==null?void 0:s.find(m=>{var v;return(v=m.activities)==null?void 0:v.some(x=>{var S,T;return((S=x.name)==null?void 0:S.toLowerCase().includes("concert"))||((T=x.name)==null?void 0:T.toLowerCase().includes("mcr"))||x.emoji===""||x.emoji===""})}),i=((l=n.name)==null?void 0:l.toLowerCase().includes("mcr"))||((c=n.name)==null?void 0:c.toLowerCase().includes("my chemical romance"))||((f=n.name)==null?void 0:f.toLowerCase().includes("chemical"));return y.jsx("div",{className:"concert-theme rounded-[var(--radius-xl)] overflow-hidden animate-fade-in",children:y.jsxs("div",{className:"bg-[#141413] rounded-[var(--radius-xl)] border border-[#2A2A28]",children:[y.jsxs("div",{className:"relative p-8 md:p-12 text-center overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-[#141413]"}),y.jsxs("div",{className:"relative z-10",children:[y.jsx("p",{className:"text-red-500 text-sm uppercase tracking-[0.3em] font-semibold mb-3",children:i?" THE BLACK PARADE ":" LIVE EVENT "}),y.jsx("h2",{className:"font-heading text-3xl md:text-4xl font-bold text-white mb-2",children:n.name}),r&&y.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:[up(r.date,"full"),"  Day ",r.dayNumber]})]})]}),y.jsx("div",{className:"px-6 md:px-12",children:y.jsx(Die,{targetDate:(r==null?void 0:r.date)||e.startDate})}),y.jsx("div",{className:"h-px bg-red-900/50 mx-8"}),y.jsxs("div",{className:"p-6 md:p-12 grid md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-1",children:"Venue"}),y.jsx("p",{className:"text-white font-medium",children:i?"Stadium Merdeka, Kuala Lumpur":"Check your booking details"})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-1",children:"Tickets"}),y.jsxs("p",{className:"text-white font-medium",children:[e.travelers," pax  ",n.status==="booked"?" Confirmed":" "+n.status.replace("_"," ")]}),n.confirmationNumber&&y.jsxs("p",{className:"text-gray-500 text-xs font-mono mt-1",children:["Ref: ",n.confirmationNumber]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-1",children:"Status"}),y.jsx("div",{className:`inline-flex px-3 py-1 rounded-[var(--radius-pill)] text-xs font-medium
                ${n.status==="booked"?"bg-green-900/30 text-green-400 border border-green-800/30":"bg-red-900/30 text-red-400 border border-red-800/30"}`,children:n.status==="booked"?" Booked":"Not yet booked"})]})]}),y.jsx("div",{className:"space-y-4",children:y.jsxs("div",{children:[y.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-2",children:" Concert Tips"}),y.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-red-500",children:""}),"Arrive early to get a good spot"]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-red-500",children:""}),"Charge your phone to 100% before leaving"]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-red-500",children:""}),"Wear comfortable shoes  you'll be standing"]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-red-500",children:""}),"Bring earplugs to protect your hearing"]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-red-500",children:""}),"Check the venue's bag policy before going"]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-red-500",children:""}),"Stay hydrated  bring a sealed water bottle if allowed"]})]})]})})]}),r&&((h=r.activities)==null?void 0:h.length)>0&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"h-px bg-red-900/50 mx-8"}),y.jsxs("div",{className:"p-6 md:p-12",children:[y.jsxs("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-4",children:[" Day ",r.dayNumber," Schedule"]}),y.jsx("div",{className:"space-y-3",children:r.activities.map(m=>y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-sm font-mono text-gray-500 w-12",children:m.time||"--:--"}),y.jsx("span",{className:"text-lg",children:m.emoji}),y.jsxs("div",{children:[y.jsx("p",{className:"text-white text-sm font-medium",children:m.name}),m.notes&&y.jsx("p",{className:"text-gray-500 text-xs",children:m.notes})]})]},m.id))})]})]}),y.jsx("div",{className:"h-1 bg-[#141413]"})]})})}function Lie({activeTab:t,onTabSwitch:e}){switch(t){case"overview":return y.jsx(LP,{onTabSwitch:e});case"itinerary":return y.jsx(jq,{});case"bookings":return y.jsx(Lq,{});case"budget":return y.jsx(Sie,{});case"todo":return y.jsx(Iie,{});case"cities":return y.jsx(kie,{});case"packing":return y.jsx(Rie,{});case"concert":return y.jsx(Mie,{});default:return y.jsx(LP,{onTabSwitch:e})}}function $ie({onNewTrip:t}){return y.jsx("div",{className:"flex-1 flex items-center justify-center p-8 animate-fade-in-up",children:y.jsxs("div",{className:"text-center max-w-sm",children:[y.jsx("div",{className:"text-7xl mb-6 animate-pulse-warm",children:""}),y.jsx("h2",{className:"font-heading text-2xl font-bold text-text-primary mb-3",children:"No trips yet"}),y.jsx("p",{className:"text-text-muted text-sm leading-relaxed mb-8",children:"Every great adventure starts with a plan. Create your first trip and let Wanderplan help you make it unforgettable."}),y.jsxs("button",{onClick:t,className:`inline-flex items-center gap-2 px-6 py-3
                     bg-accent hover:bg-accent-hover text-text-inverse
                     font-semibold text-sm rounded-[var(--radius-md)]
                     transition-all duration-200 active:scale-[0.98]`,children:[y.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),y.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Plan Your First Trip"]})]})})}function Vie({onClick:t}){return y.jsx("button",{onClick:t,className:`fixed top-4 left-4 z-30 p-2.5
                 bg-bg-secondary border border-border
                 rounded-[var(--radius-md)]
                 text-text-secondary hover:text-text-primary
                 transition-colors duration-150
                 md:hidden`,"aria-label":"Open sidebar",children:y.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),y.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),y.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})}function e3({message:t="Loading"}){return y.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-4xl mb-4 animate-pulse-warm",children:""}),y.jsx("p",{className:"text-text-muted text-sm animate-pulse",children:t})]})})}function Bie({signOutUser:t}){const{state:e,dispatch:n,activeTrip:r,sortedTrips:i,showToast:o,firestoreLoading:s}=F9(),l=U9("(max-width: 767px)"),[c,f]=q.useState(!1),h=q.useCallback(()=>{f(!0),l&&n({type:pe.SET_SIDEBAR,payload:!1})},[l,n]),m=q.useCallback(()=>f(!1),[]),v=q.useCallback(()=>n({type:pe.SET_SIDEBAR,payload:!0}),[n]),x={Overview:"overview",Itinerary:"itinerary",Bookings:"bookings",Budget:"budget","To-Do":"todo",Cities:"cities",Packing:"packing"},S=q.useCallback(_=>{const C=x[_];C&&n({type:pe.SET_TAB,payload:C})},[n]),T=e.activeTab==="concert";return s?y.jsx(e3,{message:"Loading your trips"}):y.jsx(bj.Provider,{value:{state:e,dispatch:n,activeTrip:r,sortedTrips:i,showToast:o,signOutUser:t},children:y.jsxs("div",{className:"flex h-screen overflow-hidden bg-bg-primary text-text-secondary",children:[y.jsx(Z9,{isMobile:l,isOpen:e.sidebarOpen,onNewTrip:h}),l&&y.jsx(Vie,{onClick:v}),y.jsx("main",{className:`
            flex-1 flex flex-col overflow-hidden bg-bg-primary
            ${T?"concert-theme":""}
            transition-colors duration-300
          `,children:r?y.jsxs(y.Fragment,{children:[y.jsx(iq,{}),y.jsx(sq,{}),y.jsx("div",{id:`panel-${e.activeTab}`,role:"tabpanel",className:"flex-1 overflow-y-auto",children:y.jsx("div",{className:"px-8 py-7 max-w-4xl mx-auto",children:y.jsx(Lie,{activeTab:e.activeTab,onTabSwitch:S})})})]}):y.jsx($ie,{onNewTrip:h})}),y.jsx(gq,{isOpen:c,onClose:m}),y.jsx(Eq,{}),y.jsx(yq,{message:e.toast.message,type:e.toast.type,visible:e.toast.visible})]})})}function Fie(){const{user:t,authLoading:e,signInWithGoogle:n,signOutUser:r}=UD();return e?y.jsx(e3,{message:"Loading"}):t?["valentin.bonite@gmail.com","juliannsibi@gmail.com"].includes(t.email)?y.jsx(y$,{children:y.jsx(Bie,{signOutUser:r})}):y.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary",children:y.jsxs("div",{className:"text-center max-w-sm px-8",children:[y.jsx("div",{className:"text-5xl mb-5",children:""}),y.jsx("h2",{className:"font-heading text-xl font-bold text-text-primary mb-2",children:"Access restricted"}),y.jsxs("p",{className:"text-text-muted text-sm mb-6 leading-relaxed",children:["This app is private. You signed in as ",y.jsx("span",{className:"text-text-primary font-medium",children:t.email}),", which isn't on the access list."]}),y.jsx("button",{onClick:r,className:"text-sm text-accent hover:underline",children:"Sign out and try another account"})]})}):y.jsx(q9,{onSignIn:n})}m$.createRoot(document.getElementById("root")).render(y.jsx(K.StrictMode,{children:y.jsx(Fie,{})}));
