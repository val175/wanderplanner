(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ht(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dy={exports:{}},pc={},My={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JS;function p$(){if(JS)return He;JS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=p&&z[p]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function _(z,G,ge){this.props=z,this.context=G,this.refs=T,this.updater=ge||x}_.prototype.isReactComponent={},_.prototype.setState=function(z,G){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,G,"setState")},_.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function O(){}O.prototype=_.prototype;function D(z,G,ge){this.props=z,this.context=G,this.refs=T,this.updater=ge||x}var k=D.prototype=new O;k.constructor=D,S(k,_.prototype),k.isPureReactComponent=!0;var R=Array.isArray,C=Object.prototype.hasOwnProperty,j={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function P(z,G,ge){var _e,Ce={},Re=null,We=null;if(G!=null)for(_e in G.ref!==void 0&&(We=G.ref),G.key!==void 0&&(Re=""+G.key),G)C.call(G,_e)&&!A.hasOwnProperty(_e)&&(Ce[_e]=G[_e]);var Le=arguments.length-2;if(Le===1)Ce.children=ge;else if(1<Le){for(var he=Array(Le),Oe=0;Oe<Le;Oe++)he[Oe]=arguments[Oe+2];Ce.children=he}if(z&&z.defaultProps)for(_e in Le=z.defaultProps,Le)Ce[_e]===void 0&&(Ce[_e]=Le[_e]);return{$$typeof:t,type:z,key:Re,ref:We,props:Ce,_owner:j.current}}function N(z,G){return{$$typeof:t,type:z.type,key:G,ref:z.ref,props:z.props,_owner:z._owner}}function B(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function L(z){var G={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ge){return G[ge]})}var V=/\/+/g;function $(z,G){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):G.toString(36)}function Z(z,G,ge,_e,Ce){var Re=typeof z;(Re==="undefined"||Re==="boolean")&&(z=null);var We=!1;if(z===null)We=!0;else switch(Re){case"string":case"number":We=!0;break;case"object":switch(z.$$typeof){case t:case e:We=!0}}if(We)return We=z,Ce=Ce(We),z=_e===""?"."+$(We,0):_e,R(Ce)?(ge="",z!=null&&(ge=z.replace(V,"$&/")+"/"),Z(Ce,G,ge,"",function(Oe){return Oe})):Ce!=null&&(B(Ce)&&(Ce=N(Ce,ge+(!Ce.key||We&&We.key===Ce.key?"":(""+Ce.key).replace(V,"$&/")+"/")+z)),G.push(Ce)),1;if(We=0,_e=_e===""?".":_e+":",R(z))for(var Le=0;Le<z.length;Le++){Re=z[Le];var he=_e+$(Re,Le);We+=Z(Re,G,ge,he,Ce)}else if(he=v(z),typeof he=="function")for(z=he.call(z),Le=0;!(Re=z.next()).done;)Re=Re.value,he=_e+$(Re,Le++),We+=Z(Re,G,ge,he,Ce);else if(Re==="object")throw G=String(z),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return We}function ee(z,G,ge){if(z==null)return z;var _e=[],Ce=0;return Z(z,_e,"","",function(Re){return G.call(ge,Re,Ce++)}),_e}function ae(z){if(z._status===-1){var G=z._result;G=G(),G.then(function(ge){(z._status===0||z._status===-1)&&(z._status=1,z._result=ge)},function(ge){(z._status===0||z._status===-1)&&(z._status=2,z._result=ge)}),z._status===-1&&(z._status=0,z._result=G)}if(z._status===1)return z._result.default;throw z._result}var se={current:null},Q={transition:null},ie={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:Q,ReactCurrentOwner:j};function ne(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:ee,forEach:function(z,G,ge){ee(z,function(){G.apply(this,arguments)},ge)},count:function(z){var G=0;return ee(z,function(){G++}),G},toArray:function(z){return ee(z,function(G){return G})||[]},only:function(z){if(!B(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},He.Component=_,He.Fragment=r,He.Profiler=i,He.PureComponent=D,He.StrictMode=n,He.Suspense=c,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,He.act=ne,He.cloneElement=function(z,G,ge){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var _e=S({},z.props),Ce=z.key,Re=z.ref,We=z._owner;if(G!=null){if(G.ref!==void 0&&(Re=G.ref,We=j.current),G.key!==void 0&&(Ce=""+G.key),z.type&&z.type.defaultProps)var Le=z.type.defaultProps;for(he in G)C.call(G,he)&&!A.hasOwnProperty(he)&&(_e[he]=G[he]===void 0&&Le!==void 0?Le[he]:G[he])}var he=arguments.length-2;if(he===1)_e.children=ge;else if(1<he){Le=Array(he);for(var Oe=0;Oe<he;Oe++)Le[Oe]=arguments[Oe+2];_e.children=Le}return{$$typeof:t,type:z.type,key:Ce,ref:Re,props:_e,_owner:We}},He.createContext=function(z){return z={$$typeof:s,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},He.createElement=P,He.createFactory=function(z){var G=P.bind(null,z);return G.type=z,G},He.createRef=function(){return{current:null}},He.forwardRef=function(z){return{$$typeof:u,render:z}},He.isValidElement=B,He.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:ae}},He.memo=function(z,G){return{$$typeof:f,type:z,compare:G===void 0?null:G}},He.startTransition=function(z){var G=Q.transition;Q.transition={};try{z()}finally{Q.transition=G}},He.unstable_act=ne,He.useCallback=function(z,G){return se.current.useCallback(z,G)},He.useContext=function(z){return se.current.useContext(z)},He.useDebugValue=function(){},He.useDeferredValue=function(z){return se.current.useDeferredValue(z)},He.useEffect=function(z,G){return se.current.useEffect(z,G)},He.useId=function(){return se.current.useId()},He.useImperativeHandle=function(z,G,ge){return se.current.useImperativeHandle(z,G,ge)},He.useInsertionEffect=function(z,G){return se.current.useInsertionEffect(z,G)},He.useLayoutEffect=function(z,G){return se.current.useLayoutEffect(z,G)},He.useMemo=function(z,G){return se.current.useMemo(z,G)},He.useReducer=function(z,G,ge){return se.current.useReducer(z,G,ge)},He.useRef=function(z){return se.current.useRef(z)},He.useState=function(z){return se.current.useState(z)},He.useSyncExternalStore=function(z,G,ge){return se.current.useSyncExternalStore(z,G,ge)},He.useTransition=function(){return se.current.useTransition()},He.version="18.3.1",He}var ZS;function zw(){return ZS||(ZS=1,My.exports=p$()),My.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eA;function m$(){if(eA)return pc;eA=1;var t=zw(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(u,c,f){var h,p={},v=null,x=null;f!==void 0&&(v=""+f),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(x=c.ref);for(h in c)n.call(c,h)&&!o.hasOwnProperty(h)&&(p[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:e,type:u,key:v,ref:x,props:p,_owner:i.current}}return pc.Fragment=r,pc.jsx=s,pc.jsxs=s,pc}var tA;function g$(){return tA||(tA=1,Dy.exports=m$()),Dy.exports}var g=g$(),q=zw();const K=ht(q);var xh={},Ly={exports:{}},Fr={},$y={exports:{}},Vy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rA;function y$(){return rA||(rA=1,(function(t){function e(Q,ie){var ne=Q.length;Q.push(ie);e:for(;0<ne;){var z=ne-1>>>1,G=Q[z];if(0<i(G,ie))Q[z]=ie,Q[ne]=G,ne=z;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ie=Q[0],ne=Q.pop();if(ne!==ie){Q[0]=ne;e:for(var z=0,G=Q.length,ge=G>>>1;z<ge;){var _e=2*(z+1)-1,Ce=Q[_e],Re=_e+1,We=Q[Re];if(0>i(Ce,ne))Re<G&&0>i(We,Ce)?(Q[z]=We,Q[Re]=ne,z=Re):(Q[z]=Ce,Q[_e]=ne,z=_e);else if(Re<G&&0>i(We,ne))Q[z]=We,Q[Re]=ne,z=Re;else break e}}return ie}function i(Q,ie){var ne=Q.sortIndex-ie.sortIndex;return ne!==0?ne:Q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,p=null,v=3,x=!1,S=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(Q){for(var ie=r(f);ie!==null;){if(ie.callback===null)n(f);else if(ie.startTime<=Q)n(f),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=r(f)}}function R(Q){if(T=!1,k(Q),!S)if(r(c)!==null)S=!0,ae(C);else{var ie=r(f);ie!==null&&se(R,ie.startTime-Q)}}function C(Q,ie){S=!1,T&&(T=!1,O(P),P=-1),x=!0;var ne=v;try{for(k(ie),p=r(c);p!==null&&(!(p.expirationTime>ie)||Q&&!L());){var z=p.callback;if(typeof z=="function"){p.callback=null,v=p.priorityLevel;var G=z(p.expirationTime<=ie);ie=t.unstable_now(),typeof G=="function"?p.callback=G:p===r(c)&&n(c),k(ie)}else n(c);p=r(c)}if(p!==null)var ge=!0;else{var _e=r(f);_e!==null&&se(R,_e.startTime-ie),ge=!1}return ge}finally{p=null,v=ne,x=!1}}var j=!1,A=null,P=-1,N=5,B=-1;function L(){return!(t.unstable_now()-B<N)}function V(){if(A!==null){var Q=t.unstable_now();B=Q;var ie=!0;try{ie=A(!0,Q)}finally{ie?$():(j=!1,A=null)}}else j=!1}var $;if(typeof D=="function")$=function(){D(V)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ee=Z.port2;Z.port1.onmessage=V,$=function(){ee.postMessage(null)}}else $=function(){_(V,0)};function ae(Q){A=Q,j||(j=!0,$())}function se(Q,ie){P=_(function(){Q(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,ae(C))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(Q){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var ne=v;v=ie;try{return Q()}finally{v=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ne=v;v=Q;try{return ie()}finally{v=ne}},t.unstable_scheduleCallback=function(Q,ie,ne){var z=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?z+ne:z):ne=z,Q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ne+G,Q={id:h++,callback:ie,priorityLevel:Q,startTime:ne,expirationTime:G,sortIndex:-1},ne>z?(Q.sortIndex=ne,e(f,Q),r(c)===null&&Q===r(f)&&(T?(O(P),P=-1):T=!0,se(R,ne-z))):(Q.sortIndex=G,e(c,Q),S||x||(S=!0,ae(C))),Q},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Q){var ie=v;return function(){var ne=v;v=ie;try{return Q.apply(this,arguments)}finally{v=ne}}}})(Vy)),Vy}var nA;function v$(){return nA||(nA=1,$y.exports=y$()),$y.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iA;function x$(){if(iA)return Fr;iA=1;var t=zw(),e=v$();function r(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(a,l){s(a,l),s(a+"Capture",l)}function s(a,l){for(i[a]=l,a=0;a<l.length;a++)n.add(l[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(a){return c.call(p,a)?!0:c.call(h,a)?!1:f.test(a)?p[a]=!0:(h[a]=!0,!1)}function x(a,l,d,y){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return y?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,l,d,y){if(l===null||typeof l>"u"||x(a,l,d,y))return!0;if(y)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function T(a,l,d,y,b,w,M){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=y,this.attributeNamespace=b,this.mustUseProperty=d,this.propertyName=a,this.type=l,this.sanitizeURL=w,this.removeEmptyString=M}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){_[a]=new T(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];_[l]=new T(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){_[a]=new T(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){_[a]=new T(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){_[a]=new T(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){_[a]=new T(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){_[a]=new T(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){_[a]=new T(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){_[a]=new T(a,5,!1,a.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function D(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(O,D);_[l]=new T(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(O,D);_[l]=new T(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(O,D);_[l]=new T(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){_[a]=new T(a,1,!1,a.toLowerCase(),null,!1,!1)}),_.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){_[a]=new T(a,1,!1,a.toLowerCase(),null,!0,!0)});function k(a,l,d,y){var b=_.hasOwnProperty(l)?_[l]:null;(b!==null?b.type!==0:y||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,d,b,y)&&(d=null),y||b===null?v(l)&&(d===null?a.removeAttribute(l):a.setAttribute(l,""+d)):b.mustUseProperty?a[b.propertyName]=d===null?b.type===3?!1:"":d:(l=b.attributeName,y=b.attributeNamespace,d===null?a.removeAttribute(l):(b=b.type,d=b===3||b===4&&d===!0?"":""+d,y?a.setAttributeNS(y,l,d):a.setAttribute(l,d))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),j=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ie(a){return a===null||typeof a!="object"?null:(a=Q&&a[Q]||a["@@iterator"],typeof a=="function"?a:null)}var ne=Object.assign,z;function G(a){if(z===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);z=l&&l[1]||""}return`
`+z+a}var ge=!1;function _e(a,l){if(!a||ge)return"";ge=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(te){var y=te}Reflect.construct(a,[],l)}else{try{l.call()}catch(te){y=te}a.call(l.prototype)}else{try{throw Error()}catch(te){y=te}a()}}catch(te){if(te&&y&&typeof te.stack=="string"){for(var b=te.stack.split(`
`),w=y.stack.split(`
`),M=b.length-1,U=w.length-1;1<=M&&0<=U&&b[M]!==w[U];)U--;for(;1<=M&&0<=U;M--,U--)if(b[M]!==w[U]){if(M!==1||U!==1)do if(M--,U--,0>U||b[M]!==w[U]){var W=`
`+b[M].replace(" at new "," at ");return a.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",a.displayName)),W}while(1<=M&&0<=U);break}}}finally{ge=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?G(a):""}function Ce(a){switch(a.tag){case 5:return G(a.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return a=_e(a.type,!1),a;case 11:return a=_e(a.type.render,!1),a;case 1:return a=_e(a.type,!0),a;default:return""}}function Re(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case j:return"Portal";case N:return"Profiler";case P:return"StrictMode";case $:return"Suspense";case Z:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case L:return(a.displayName||"Context")+".Consumer";case B:return(a._context.displayName||"Context")+".Provider";case V:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ee:return l=a.displayName||null,l!==null?l:Re(a.type)||"Memo";case ae:l=a._payload,a=a._init;try{return Re(a(l))}catch{}}return null}function We(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(l);case 8:return l===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Le(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function he(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Oe(a){var l=he(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),y=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,w=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return b.call(this)},set:function(M){y=""+M,w.call(this,M)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return y},setValue:function(M){y=""+M},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Be(a){a._valueTracker||(a._valueTracker=Oe(a))}function ce(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),y="";return a&&(y=he(a)?a.checked?"true":"false":a.value),a=y,a!==d?(l.setValue(a),!0):!1}function nt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function ze(a,l){var d=l.checked;return ne({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function Pt(a,l){var d=l.defaultValue==null?"":l.defaultValue,y=l.checked!=null?l.checked:l.defaultChecked;d=Le(l.value!=null?l.value:d),a._wrapperState={initialChecked:y,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function yt(a,l){l=l.checked,l!=null&&k(a,"checked",l,!1)}function jt(a,l){yt(a,l);var d=Le(l.value),y=l.type;if(d!=null)y==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(y==="submit"||y==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?pt(a,l.type,d):l.hasOwnProperty("defaultValue")&&pt(a,l.type,Le(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function Dr(a,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var y=l.type;if(!(y!=="submit"&&y!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,d||l===a.value||(a.value=l),a.defaultValue=l}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function pt(a,l,d){(l!=="number"||nt(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var vt=Array.isArray;function Gt(a,l,d,y){if(a=a.options,l){l={};for(var b=0;b<d.length;b++)l["$"+d[b]]=!0;for(d=0;d<a.length;d++)b=l.hasOwnProperty("$"+a[d].value),a[d].selected!==b&&(a[d].selected=b),b&&y&&(a[d].defaultSelected=!0)}else{for(d=""+Le(d),l=null,b=0;b<a.length;b++){if(a[b].value===d){a[b].selected=!0,y&&(a[b].defaultSelected=!0);return}l!==null||a[b].disabled||(l=a[b])}l!==null&&(l.selected=!0)}}function Gr(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return ne({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Ai(a,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(r(92));if(vt(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),d=l}a._wrapperState={initialValue:Le(d)}}function ma(a,l){var d=Le(l.value),y=Le(l.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),l.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),y!=null&&(a.defaultValue=""+y)}function Sn(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function Tu(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function As(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?Tu(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var mo,od=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,y,b){MSApp.execUnsafeLocalFunction(function(){return a(l,d,y,b)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(mo=mo||document.createElement("div"),mo.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=mo.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function ga(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ad=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(a){ad.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),go[l]=go[a]})});function yo(a,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||go.hasOwnProperty(a)&&go[a]?(""+l).trim():l+"px"}function Ps(a,l){a=a.style;for(var d in l)if(l.hasOwnProperty(d)){var y=d.indexOf("--")===0,b=yo(d,l[d],y);d==="float"&&(d="cssFloat"),y?a.setProperty(d,b):a[d]=b}}var Su=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function An(a,l){if(l){if(Su[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Is(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vo=null;function Cs(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Pi=null,Ii=null,Rt=null;function Au(a){if(a=Zu(a)){if(typeof Pi!="function")throw Error(r(280));var l=a.stateNode;l&&(l=jd(l),Pi(a.stateNode,a.type,l))}}function xo(a){Ii?Rt?Rt.push(a):Rt=[a]:Ii=a}function bo(){if(Ii){var a=Ii,l=Rt;if(Rt=Ii=null,Au(a),l)for(a=0;a<l.length;a++)Au(l[a])}}function sd(a,l){return a(l)}function ld(){}var Hn=!1;function ud(a,l,d){if(Hn)return a(l,d);Hn=!0;try{return sd(a,l,d)}finally{Hn=!1,(Ii!==null||Rt!==null)&&(ld(),bo())}}function ya(a,l){var d=a.stateNode;if(d===null)return null;var y=jd(d);if(y===null)return null;d=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var _o=!1;if(u)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){_o=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{_o=!1}function cd(a,l,d,y,b,w,M,U,W){var te=Array.prototype.slice.call(arguments,3);try{l.apply(d,te)}catch(de){this.onError(de)}}var Ci=!1,Gn=null,Os=!1,ln=null,fd={onError:function(a){Ci=!0,Gn=a}};function dd(a,l,d,y,b,w,M,U,W){Ci=!1,Gn=null,cd.apply(fd,arguments)}function Pu(a,l,d,y,b,w,M,U,W){if(dd.apply(this,arguments),Ci){if(Ci){var te=Gn;Ci=!1,Gn=null}else throw Error(r(198));Os||(Os=!0,ln=te)}}function Pn(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function Iu(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function hd(a){if(Pn(a)!==a)throw Error(r(188))}function pd(a){var l=a.alternate;if(!l){if(l=Pn(a),l===null)throw Error(r(188));return l!==a?null:a}for(var d=a,y=l;;){var b=d.return;if(b===null)break;var w=b.alternate;if(w===null){if(y=b.return,y!==null){d=y;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===d)return hd(b),a;if(w===y)return hd(b),l;w=w.sibling}throw Error(r(188))}if(d.return!==y.return)d=b,y=w;else{for(var M=!1,U=b.child;U;){if(U===d){M=!0,d=b,y=w;break}if(U===y){M=!0,y=b,d=w;break}U=U.sibling}if(!M){for(U=w.child;U;){if(U===d){M=!0,d=w,y=b;break}if(U===y){M=!0,y=w,d=b;break}U=U.sibling}if(!M)throw Error(r(189))}}if(d.alternate!==y)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:l}function md(a){return a=pd(a),a!==null?va(a):null}function va(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=va(a);if(l!==null)return l;a=a.sibling}return null}var Cu=e.unstable_scheduleCallback,ks=e.unstable_cancelCallback,xa=e.unstable_shouldYield,Oi=e.unstable_requestPaint,_t=e.unstable_now,dg=e.unstable_getCurrentPriorityLevel,Ns=e.unstable_ImmediatePriority,Ou=e.unstable_UserBlockingPriority,ba=e.unstable_NormalPriority,ku=e.unstable_LowPriority,js=e.unstable_IdlePriority,_a=null,Kr=null;function gd(a){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(_a,a,void 0,(a.current.flags&128)===128)}catch{}}var Yr=Math.clz32?Math.clz32:wa,Kn=Math.log,un=Math.LN2;function wa(a){return a>>>=0,a===0?32:31-(Kn(a)/un|0)|0}var Yn=64,Eo=4194304;function it(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function ki(a,l){var d=a.pendingLanes;if(d===0)return 0;var y=0,b=a.suspendedLanes,w=a.pingedLanes,M=d&268435455;if(M!==0){var U=M&~b;U!==0?y=it(U):(w&=M,w!==0&&(y=it(w)))}else M=d&~b,M!==0?y=it(M):w!==0&&(y=it(w));if(y===0)return 0;if(l!==0&&l!==y&&(l&b)===0&&(b=y&-y,w=l&-l,b>=w||b===16&&(w&4194240)!==0))return l;if((y&4)!==0&&(y|=d&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=y;0<l;)d=31-Yr(l),b=1<<d,y|=a[d],l&=~b;return y}function Ea(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ta(a,l){for(var d=a.suspendedLanes,y=a.pingedLanes,b=a.expirationTimes,w=a.pendingLanes;0<w;){var M=31-Yr(w),U=1<<M,W=b[M];W===-1?((U&d)===0||(U&y)!==0)&&(b[M]=Ea(U,l)):W<=l&&(a.expiredLanes|=U),w&=~U}}function Nu(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function ju(){var a=Yn;return Yn<<=1,(Yn&4194240)===0&&(Yn=64),a}function Ru(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Sa(a,l,d){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-Yr(l),a[l]=d}function hg(a,l){var d=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var y=a.eventTimes;for(a=a.expirationTimes;0<d;){var b=31-Yr(d),w=1<<b;l[b]=0,y[b]=-1,a[b]=-1,d&=~w}}function Du(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var y=31-Yr(d),b=1<<y;b&l|a[y]&l&&(a[y]|=l),d&=~b}}var Qe=0;function Xn(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Mu,Rs,Lu,$u,Vu,Qn=!1,Ds=[],Jn=null,Zn=null,cr=null,Aa=new Map,Ni=new Map,Xr=[],yd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function To(a,l){switch(a){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Aa.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ni.delete(l.pointerId)}}function In(a,l,d,y,b,w){return a===null||a.nativeEvent!==w?(a={blockedOn:l,domEventName:d,eventSystemFlags:y,nativeEvent:w,targetContainers:[b]},l!==null&&(l=Zu(l),l!==null&&Rs(l)),a):(a.eventSystemFlags|=y,l=a.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),a)}function vd(a,l,d,y,b){switch(l){case"focusin":return Jn=In(Jn,a,l,d,y,b),!0;case"dragenter":return Zn=In(Zn,a,l,d,y,b),!0;case"mouseover":return cr=In(cr,a,l,d,y,b),!0;case"pointerover":var w=b.pointerId;return Aa.set(w,In(Aa.get(w)||null,a,l,d,y,b)),!0;case"gotpointercapture":return w=b.pointerId,Ni.set(w,In(Ni.get(w)||null,a,l,d,y,b)),!0}return!1}function Ms(a){var l=Oa(a.target);if(l!==null){var d=Pn(l);if(d!==null){if(l=d.tag,l===13){if(l=Iu(d),l!==null){a.blockedOn=l,Vu(a.priority,function(){Lu(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function mt(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=Ls(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var y=new d.constructor(d.type,d);vo=y,d.target.dispatchEvent(y),vo=null}else return l=Zu(d),l!==null&&Rs(l),a.blockedOn=d,!1;l.shift()}return!0}function xd(a,l,d){mt(a)&&d.delete(l)}function pg(){Qn=!1,Jn!==null&&mt(Jn)&&(Jn=null),Zn!==null&&mt(Zn)&&(Zn=null),cr!==null&&mt(cr)&&(cr=null),Aa.forEach(xd),Ni.forEach(xd)}function So(a,l){a.blockedOn===l&&(a.blockedOn=null,Qn||(Qn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pg)))}function Ao(a){function l(b){return So(b,a)}if(0<Ds.length){So(Ds[0],a);for(var d=1;d<Ds.length;d++){var y=Ds[d];y.blockedOn===a&&(y.blockedOn=null)}}for(Jn!==null&&So(Jn,a),Zn!==null&&So(Zn,a),cr!==null&&So(cr,a),Aa.forEach(l),Ni.forEach(l),d=0;d<Xr.length;d++)y=Xr[d],y.blockedOn===a&&(y.blockedOn=null);for(;0<Xr.length&&(d=Xr[0],d.blockedOn===null);)Ms(d),d.blockedOn===null&&Xr.shift()}var ji=R.ReactCurrentBatchConfig,Ri=!0;function ei(a,l,d,y){var b=Qe,w=ji.transition;ji.transition=null;try{Qe=1,Bu(a,l,d,y)}finally{Qe=b,ji.transition=w}}function bd(a,l,d,y){var b=Qe,w=ji.transition;ji.transition=null;try{Qe=4,Bu(a,l,d,y)}finally{Qe=b,ji.transition=w}}function Bu(a,l,d,y){if(Ri){var b=Ls(a,l,d,y);if(b===null)Sg(a,l,y,ti,d),To(a,y);else if(vd(b,a,l,d,y))y.stopPropagation();else if(To(a,y),l&4&&-1<yd.indexOf(a)){for(;b!==null;){var w=Zu(b);if(w!==null&&Mu(w),w=Ls(a,l,d,y),w===null&&Sg(a,l,y,ti,d),w===b)break;b=w}b!==null&&y.stopPropagation()}else Sg(a,l,y,null,d)}}var ti=null;function Ls(a,l,d,y){if(ti=null,a=Cs(y),a=Oa(a),a!==null)if(l=Pn(a),l===null)a=null;else if(d=l.tag,d===13){if(a=Iu(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return ti=a,null}function $s(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dg()){case Ns:return 1;case Ou:return 4;case ba:case ku:return 16;case js:return 536870912;default:return 16}default:return 16}}var Qr=null,Vs=null,Di=null;function _d(){if(Di)return Di;var a,l=Vs,d=l.length,y,b="value"in Qr?Qr.value:Qr.textContent,w=b.length;for(a=0;a<d&&l[a]===b[a];a++);var M=d-a;for(y=1;y<=M&&l[d-y]===b[w-y];y++);return Di=b.slice(a,1<y?1-y:void 0)}function Pa(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function ri(){return!0}function Fu(){return!1}function br(a){function l(d,y,b,w,M){this._reactName=d,this._targetInst=b,this.type=y,this.nativeEvent=w,this.target=M,this.currentTarget=null;for(var U in a)a.hasOwnProperty(U)&&(d=a[U],this[U]=d?d(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ri:Fu,this.isPropagationStopped=Fu,this}return ne(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),l}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=br(ni),Po=ne({},ni,{view:0,detail:0}),Bs=br(Po),Fs,Us,Jr,Ca=ne({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ue,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Jr&&(Jr&&a.type==="mousemove"?(Fs=a.screenX-Jr.screenX,Us=a.screenY-Jr.screenY):Us=Fs=0,Jr=a),Fs)},movementY:function(a){return"movementY"in a?a.movementY:Us}}),Uu=br(Ca),wd=ne({},Ca,{dataTransfer:0}),Ed=br(wd),qs=ne({},Po,{relatedTarget:0}),fr=br(qs),Td=ne({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Sd=br(Td),Io=ne({},ni,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),m=br(Io),E=ne({},ni,{data:0}),I=br(E),F={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},re={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ve(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=re[a])?!!l[a]:!1}function Ue(){return ve}var Lt=ne({},Po,{key:function(a){if(a.key){var l=F[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Pa(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?X[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ue,charCode:function(a){return a.type==="keypress"?Pa(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Pa(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ft=br(Lt),Ft=ne({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zr=br(Ft),Mi=ne({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ue}),ii=br(Mi),oi=ne({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),zs=br(oi),qu=ne({},Ca,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),l3=br(qu),u3=[9,13,27,32],mg=u&&"CompositionEvent"in window,zu=null;u&&"documentMode"in document&&(zu=document.documentMode);var c3=u&&"TextEvent"in window&&!zu,zE=u&&(!mg||zu&&8<zu&&11>=zu),WE=" ",HE=!1;function GE(a,l){switch(a){case"keyup":return u3.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KE(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ws=!1;function f3(a,l){switch(a){case"compositionend":return KE(l);case"keypress":return l.which!==32?null:(HE=!0,WE);case"textInput":return a=l.data,a===WE&&HE?null:a;default:return null}}function d3(a,l){if(Ws)return a==="compositionend"||!mg&&GE(a,l)?(a=_d(),Di=Vs=Qr=null,Ws=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return zE&&l.locale!=="ko"?null:l.data;default:return null}}var h3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YE(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!h3[a.type]:l==="textarea"}function XE(a,l,d,y){xo(y),l=Od(l,"onChange"),0<l.length&&(d=new Ia("onChange","change",null,d,y),a.push({event:d,listeners:l}))}var Wu=null,Hu=null;function p3(a){pT(a,0)}function Ad(a){var l=Xs(a);if(ce(l))return a}function m3(a,l){if(a==="change")return l}var QE=!1;if(u){var gg;if(u){var yg="oninput"in document;if(!yg){var JE=document.createElement("div");JE.setAttribute("oninput","return;"),yg=typeof JE.oninput=="function"}gg=yg}else gg=!1;QE=gg&&(!document.documentMode||9<document.documentMode)}function ZE(){Wu&&(Wu.detachEvent("onpropertychange",eT),Hu=Wu=null)}function eT(a){if(a.propertyName==="value"&&Ad(Hu)){var l=[];XE(l,Hu,a,Cs(a)),ud(p3,l)}}function g3(a,l,d){a==="focusin"?(ZE(),Wu=l,Hu=d,Wu.attachEvent("onpropertychange",eT)):a==="focusout"&&ZE()}function y3(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ad(Hu)}function v3(a,l){if(a==="click")return Ad(l)}function x3(a,l){if(a==="input"||a==="change")return Ad(l)}function b3(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Cn=typeof Object.is=="function"?Object.is:b3;function Gu(a,l){if(Cn(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),y=Object.keys(l);if(d.length!==y.length)return!1;for(y=0;y<d.length;y++){var b=d[y];if(!c.call(l,b)||!Cn(a[b],l[b]))return!1}return!0}function tT(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function rT(a,l){var d=tT(a);a=0;for(var y;d;){if(d.nodeType===3){if(y=a+d.textContent.length,a<=l&&y>=l)return{node:d,offset:l-a};a=y}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=tT(d)}}function nT(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?nT(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function iT(){for(var a=window,l=nt();l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=nt(a.document)}return l}function vg(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function _3(a){var l=iT(),d=a.focusedElem,y=a.selectionRange;if(l!==d&&d&&d.ownerDocument&&nT(d.ownerDocument.documentElement,d)){if(y!==null&&vg(d)){if(l=y.start,a=y.end,a===void 0&&(a=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(a,d.value.length);else if(a=(l=d.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var b=d.textContent.length,w=Math.min(y.start,b);y=y.end===void 0?w:Math.min(y.end,b),!a.extend&&w>y&&(b=y,y=w,w=b),b=rT(d,w);var M=rT(d,y);b&&M&&(a.rangeCount!==1||a.anchorNode!==b.node||a.anchorOffset!==b.offset||a.focusNode!==M.node||a.focusOffset!==M.offset)&&(l=l.createRange(),l.setStart(b.node,b.offset),a.removeAllRanges(),w>y?(a.addRange(l),a.extend(M.node,M.offset)):(l.setEnd(M.node,M.offset),a.addRange(l)))}}for(l=[],a=d;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)a=l[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var w3=u&&"documentMode"in document&&11>=document.documentMode,Hs=null,xg=null,Ku=null,bg=!1;function oT(a,l,d){var y=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;bg||Hs==null||Hs!==nt(y)||(y=Hs,"selectionStart"in y&&vg(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Ku&&Gu(Ku,y)||(Ku=y,y=Od(xg,"onSelect"),0<y.length&&(l=new Ia("onSelect","select",null,l,d),a.push({event:l,listeners:y}),l.target=Hs)))}function Pd(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var Gs={animationend:Pd("Animation","AnimationEnd"),animationiteration:Pd("Animation","AnimationIteration"),animationstart:Pd("Animation","AnimationStart"),transitionend:Pd("Transition","TransitionEnd")},_g={},aT={};u&&(aT=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function Id(a){if(_g[a])return _g[a];if(!Gs[a])return a;var l=Gs[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in aT)return _g[a]=l[d];return a}var sT=Id("animationend"),lT=Id("animationiteration"),uT=Id("animationstart"),cT=Id("transitionend"),fT=new Map,dT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(a,l){fT.set(a,l),o(l,[a])}for(var wg=0;wg<dT.length;wg++){var Eg=dT[wg],E3=Eg.toLowerCase(),T3=Eg[0].toUpperCase()+Eg.slice(1);Co(E3,"on"+T3)}Co(sT,"onAnimationEnd"),Co(lT,"onAnimationIteration"),Co(uT,"onAnimationStart"),Co("dblclick","onDoubleClick"),Co("focusin","onFocus"),Co("focusout","onBlur"),Co(cT,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yu));function hT(a,l,d){var y=a.type||"unknown-event";a.currentTarget=d,Pu(y,l,void 0,a),a.currentTarget=null}function pT(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var y=a[d],b=y.event;y=y.listeners;e:{var w=void 0;if(l)for(var M=y.length-1;0<=M;M--){var U=y[M],W=U.instance,te=U.currentTarget;if(U=U.listener,W!==w&&b.isPropagationStopped())break e;hT(b,U,te),w=W}else for(M=0;M<y.length;M++){if(U=y[M],W=U.instance,te=U.currentTarget,U=U.listener,W!==w&&b.isPropagationStopped())break e;hT(b,U,te),w=W}}}if(Os)throw a=ln,Os=!1,ln=null,a}function wt(a,l){var d=l[kg];d===void 0&&(d=l[kg]=new Set);var y=a+"__bubble";d.has(y)||(mT(l,a,2,!1),d.add(y))}function Tg(a,l,d){var y=0;l&&(y|=4),mT(d,a,y,l)}var Cd="_reactListening"+Math.random().toString(36).slice(2);function Xu(a){if(!a[Cd]){a[Cd]=!0,n.forEach(function(d){d!=="selectionchange"&&(S3.has(d)||Tg(d,!1,a),Tg(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Cd]||(l[Cd]=!0,Tg("selectionchange",!1,l))}}function mT(a,l,d,y){switch($s(l)){case 1:var b=ei;break;case 4:b=bd;break;default:b=Bu}d=b.bind(null,l,d,a),b=void 0,!_o||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),y?b!==void 0?a.addEventListener(l,d,{capture:!0,passive:b}):a.addEventListener(l,d,!0):b!==void 0?a.addEventListener(l,d,{passive:b}):a.addEventListener(l,d,!1)}function Sg(a,l,d,y,b){var w=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var M=y.tag;if(M===3||M===4){var U=y.stateNode.containerInfo;if(U===b||U.nodeType===8&&U.parentNode===b)break;if(M===4)for(M=y.return;M!==null;){var W=M.tag;if((W===3||W===4)&&(W=M.stateNode.containerInfo,W===b||W.nodeType===8&&W.parentNode===b))return;M=M.return}for(;U!==null;){if(M=Oa(U),M===null)return;if(W=M.tag,W===5||W===6){y=w=M;continue e}U=U.parentNode}}y=y.return}ud(function(){var te=w,de=Cs(d),me=[];e:{var ue=fT.get(a);if(ue!==void 0){var be=Ia,Se=a;switch(a){case"keypress":if(Pa(d)===0)break e;case"keydown":case"keyup":be=ft;break;case"focusin":Se="focus",be=fr;break;case"focusout":Se="blur",be=fr;break;case"beforeblur":case"afterblur":be=fr;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Ed;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=ii;break;case sT:case lT:case uT:be=Sd;break;case cT:be=zs;break;case"scroll":be=Bs;break;case"wheel":be=l3;break;case"copy":case"cut":case"paste":be=m;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=Zr}var Ae=(l&4)!==0,$t=!Ae&&a==="scroll",Y=Ae?ue!==null?ue+"Capture":null:ue;Ae=[];for(var H=te,J;H!==null;){J=H;var ye=J.stateNode;if(J.tag===5&&ye!==null&&(J=ye,Y!==null&&(ye=ya(H,Y),ye!=null&&Ae.push(Qu(H,ye,J)))),$t)break;H=H.return}0<Ae.length&&(ue=new be(ue,Se,null,d,de),me.push({event:ue,listeners:Ae}))}}if((l&7)===0){e:{if(ue=a==="mouseover"||a==="pointerover",be=a==="mouseout"||a==="pointerout",ue&&d!==vo&&(Se=d.relatedTarget||d.fromElement)&&(Oa(Se)||Se[Li]))break e;if((be||ue)&&(ue=de.window===de?de:(ue=de.ownerDocument)?ue.defaultView||ue.parentWindow:window,be?(Se=d.relatedTarget||d.toElement,be=te,Se=Se?Oa(Se):null,Se!==null&&($t=Pn(Se),Se!==$t||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(be=null,Se=te),be!==Se)){if(Ae=Uu,ye="onMouseLeave",Y="onMouseEnter",H="mouse",(a==="pointerout"||a==="pointerover")&&(Ae=Zr,ye="onPointerLeave",Y="onPointerEnter",H="pointer"),$t=be==null?ue:Xs(be),J=Se==null?ue:Xs(Se),ue=new Ae(ye,H+"leave",be,d,de),ue.target=$t,ue.relatedTarget=J,ye=null,Oa(de)===te&&(Ae=new Ae(Y,H+"enter",Se,d,de),Ae.target=J,Ae.relatedTarget=$t,ye=Ae),$t=ye,be&&Se)t:{for(Ae=be,Y=Se,H=0,J=Ae;J;J=Ks(J))H++;for(J=0,ye=Y;ye;ye=Ks(ye))J++;for(;0<H-J;)Ae=Ks(Ae),H--;for(;0<J-H;)Y=Ks(Y),J--;for(;H--;){if(Ae===Y||Y!==null&&Ae===Y.alternate)break t;Ae=Ks(Ae),Y=Ks(Y)}Ae=null}else Ae=null;be!==null&&gT(me,ue,be,Ae,!1),Se!==null&&$t!==null&&gT(me,$t,Se,Ae,!0)}}e:{if(ue=te?Xs(te):window,be=ue.nodeName&&ue.nodeName.toLowerCase(),be==="select"||be==="input"&&ue.type==="file")var Pe=m3;else if(YE(ue))if(QE)Pe=x3;else{Pe=y3;var Ne=g3}else(be=ue.nodeName)&&be.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Pe=v3);if(Pe&&(Pe=Pe(a,te))){XE(me,Pe,d,de);break e}Ne&&Ne(a,ue,te),a==="focusout"&&(Ne=ue._wrapperState)&&Ne.controlled&&ue.type==="number"&&pt(ue,"number",ue.value)}switch(Ne=te?Xs(te):window,a){case"focusin":(YE(Ne)||Ne.contentEditable==="true")&&(Hs=Ne,xg=te,Ku=null);break;case"focusout":Ku=xg=Hs=null;break;case"mousedown":bg=!0;break;case"contextmenu":case"mouseup":case"dragend":bg=!1,oT(me,d,de);break;case"selectionchange":if(w3)break;case"keydown":case"keyup":oT(me,d,de)}var je;if(mg)e:{switch(a){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Ws?GE(a,d)&&($e="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&($e="onCompositionStart");$e&&(zE&&d.locale!=="ko"&&(Ws||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Ws&&(je=_d()):(Qr=de,Vs="value"in Qr?Qr.value:Qr.textContent,Ws=!0)),Ne=Od(te,$e),0<Ne.length&&($e=new I($e,a,null,d,de),me.push({event:$e,listeners:Ne}),je?$e.data=je:(je=KE(d),je!==null&&($e.data=je)))),(je=c3?f3(a,d):d3(a,d))&&(te=Od(te,"onBeforeInput"),0<te.length&&(de=new I("onBeforeInput","beforeinput",null,d,de),me.push({event:de,listeners:te}),de.data=je))}pT(me,l)})}function Qu(a,l,d){return{instance:a,listener:l,currentTarget:d}}function Od(a,l){for(var d=l+"Capture",y=[];a!==null;){var b=a,w=b.stateNode;b.tag===5&&w!==null&&(b=w,w=ya(a,d),w!=null&&y.unshift(Qu(a,w,b)),w=ya(a,l),w!=null&&y.push(Qu(a,w,b))),a=a.return}return y}function Ks(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function gT(a,l,d,y,b){for(var w=l._reactName,M=[];d!==null&&d!==y;){var U=d,W=U.alternate,te=U.stateNode;if(W!==null&&W===y)break;U.tag===5&&te!==null&&(U=te,b?(W=ya(d,w),W!=null&&M.unshift(Qu(d,W,U))):b||(W=ya(d,w),W!=null&&M.push(Qu(d,W,U)))),d=d.return}M.length!==0&&a.push({event:l,listeners:M})}var A3=/\r\n?/g,P3=/\u0000|\uFFFD/g;function yT(a){return(typeof a=="string"?a:""+a).replace(A3,`
`).replace(P3,"")}function kd(a,l,d){if(l=yT(l),yT(a)!==l&&d)throw Error(r(425))}function Nd(){}var Ag=null,Pg=null;function Ig(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Cg=typeof setTimeout=="function"?setTimeout:void 0,I3=typeof clearTimeout=="function"?clearTimeout:void 0,vT=typeof Promise=="function"?Promise:void 0,C3=typeof queueMicrotask=="function"?queueMicrotask:typeof vT<"u"?function(a){return vT.resolve(null).then(a).catch(O3)}:Cg;function O3(a){setTimeout(function(){throw a})}function Og(a,l){var d=l,y=0;do{var b=d.nextSibling;if(a.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"){if(y===0){a.removeChild(b),Ao(l);return}y--}else d!=="$"&&d!=="$?"&&d!=="$!"||y++;d=b}while(d);Ao(l)}function Oo(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function xT(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}var Ys=Math.random().toString(36).slice(2),ai="__reactFiber$"+Ys,Ju="__reactProps$"+Ys,Li="__reactContainer$"+Ys,kg="__reactEvents$"+Ys,k3="__reactListeners$"+Ys,N3="__reactHandles$"+Ys;function Oa(a){var l=a[ai];if(l)return l;for(var d=a.parentNode;d;){if(l=d[Li]||d[ai]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=xT(a);a!==null;){if(d=a[ai])return d;a=xT(a)}return l}a=d,d=a.parentNode}return null}function Zu(a){return a=a[ai]||a[Li],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Xs(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function jd(a){return a[Ju]||null}var Ng=[],Qs=-1;function ko(a){return{current:a}}function Et(a){0>Qs||(a.current=Ng[Qs],Ng[Qs]=null,Qs--)}function xt(a,l){Qs++,Ng[Qs]=a.current,a.current=l}var No={},_r=ko(No),Mr=ko(!1),ka=No;function Js(a,l){var d=a.type.contextTypes;if(!d)return No;var y=a.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===l)return y.__reactInternalMemoizedMaskedChildContext;var b={},w;for(w in d)b[w]=l[w];return y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=b),b}function Lr(a){return a=a.childContextTypes,a!=null}function Rd(){Et(Mr),Et(_r)}function bT(a,l,d){if(_r.current!==No)throw Error(r(168));xt(_r,l),xt(Mr,d)}function _T(a,l,d){var y=a.stateNode;if(l=l.childContextTypes,typeof y.getChildContext!="function")return d;y=y.getChildContext();for(var b in y)if(!(b in l))throw Error(r(108,We(a)||"Unknown",b));return ne({},d,y)}function Dd(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||No,ka=_r.current,xt(_r,a),xt(Mr,Mr.current),!0}function wT(a,l,d){var y=a.stateNode;if(!y)throw Error(r(169));d?(a=_T(a,l,ka),y.__reactInternalMemoizedMergedChildContext=a,Et(Mr),Et(_r),xt(_r,a)):Et(Mr),xt(Mr,d)}var $i=null,Md=!1,jg=!1;function ET(a){$i===null?$i=[a]:$i.push(a)}function j3(a){Md=!0,ET(a)}function jo(){if(!jg&&$i!==null){jg=!0;var a=0,l=Qe;try{var d=$i;for(Qe=1;a<d.length;a++){var y=d[a];do y=y(!0);while(y!==null)}$i=null,Md=!1}catch(b){throw $i!==null&&($i=$i.slice(a+1)),Cu(Ns,jo),b}finally{Qe=l,jg=!1}}return null}var Zs=[],el=0,Ld=null,$d=0,cn=[],fn=0,Na=null,Vi=1,Bi="";function ja(a,l){Zs[el++]=$d,Zs[el++]=Ld,Ld=a,$d=l}function TT(a,l,d){cn[fn++]=Vi,cn[fn++]=Bi,cn[fn++]=Na,Na=a;var y=Vi;a=Bi;var b=32-Yr(y)-1;y&=~(1<<b),d+=1;var w=32-Yr(l)+b;if(30<w){var M=b-b%5;w=(y&(1<<M)-1).toString(32),y>>=M,b-=M,Vi=1<<32-Yr(l)+b|d<<b|y,Bi=w+a}else Vi=1<<w|d<<b|y,Bi=a}function Rg(a){a.return!==null&&(ja(a,1),TT(a,1,0))}function Dg(a){for(;a===Ld;)Ld=Zs[--el],Zs[el]=null,$d=Zs[--el],Zs[el]=null;for(;a===Na;)Na=cn[--fn],cn[fn]=null,Bi=cn[--fn],cn[fn]=null,Vi=cn[--fn],cn[fn]=null}var en=null,tn=null,It=!1,On=null;function ST(a,l){var d=mn(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=a,l=a.deletions,l===null?(a.deletions=[d],a.flags|=16):l.push(d)}function AT(a,l){switch(a.tag){case 5:var d=a.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,en=a,tn=Oo(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,en=a,tn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Na!==null?{id:Vi,overflow:Bi}:null,a.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=mn(18,null,null,0),d.stateNode=l,d.return=a,a.child=d,en=a,tn=null,!0):!1;default:return!1}}function Mg(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Lg(a){if(It){var l=tn;if(l){var d=l;if(!AT(a,l)){if(Mg(a))throw Error(r(418));l=Oo(d.nextSibling);var y=en;l&&AT(a,l)?ST(y,d):(a.flags=a.flags&-4097|2,It=!1,en=a)}}else{if(Mg(a))throw Error(r(418));a.flags=a.flags&-4097|2,It=!1,en=a}}}function PT(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;en=a}function Vd(a){if(a!==en)return!1;if(!It)return PT(a),It=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!Ig(a.type,a.memoizedProps)),l&&(l=tn)){if(Mg(a))throw IT(),Error(r(418));for(;l;)ST(a,l),l=Oo(l.nextSibling)}if(PT(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(l===0){tn=Oo(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}a=a.nextSibling}tn=null}}else tn=en?Oo(a.stateNode.nextSibling):null;return!0}function IT(){for(var a=tn;a;)a=Oo(a.nextSibling)}function tl(){tn=en=null,It=!1}function $g(a){On===null?On=[a]:On.push(a)}var R3=R.ReactCurrentBatchConfig;function ec(a,l,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var y=d.stateNode}if(!y)throw Error(r(147,a));var b=y,w=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(M){var U=b.refs;M===null?delete U[w]:U[w]=M},l._stringRef=w,l)}if(typeof a!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,a))}return a}function Bd(a,l){throw a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function CT(a){var l=a._init;return l(a._payload)}function OT(a){function l(Y,H){if(a){var J=Y.deletions;J===null?(Y.deletions=[H],Y.flags|=16):J.push(H)}}function d(Y,H){if(!a)return null;for(;H!==null;)l(Y,H),H=H.sibling;return null}function y(Y,H){for(Y=new Map;H!==null;)H.key!==null?Y.set(H.key,H):Y.set(H.index,H),H=H.sibling;return Y}function b(Y,H){return Y=Fo(Y,H),Y.index=0,Y.sibling=null,Y}function w(Y,H,J){return Y.index=J,a?(J=Y.alternate,J!==null?(J=J.index,J<H?(Y.flags|=2,H):J):(Y.flags|=2,H)):(Y.flags|=1048576,H)}function M(Y){return a&&Y.alternate===null&&(Y.flags|=2),Y}function U(Y,H,J,ye){return H===null||H.tag!==6?(H=Cy(J,Y.mode,ye),H.return=Y,H):(H=b(H,J),H.return=Y,H)}function W(Y,H,J,ye){var Pe=J.type;return Pe===A?de(Y,H,J.props.children,ye,J.key):H!==null&&(H.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===ae&&CT(Pe)===H.type)?(ye=b(H,J.props),ye.ref=ec(Y,H,J),ye.return=Y,ye):(ye=ch(J.type,J.key,J.props,null,Y.mode,ye),ye.ref=ec(Y,H,J),ye.return=Y,ye)}function te(Y,H,J,ye){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=Oy(J,Y.mode,ye),H.return=Y,H):(H=b(H,J.children||[]),H.return=Y,H)}function de(Y,H,J,ye,Pe){return H===null||H.tag!==7?(H=Fa(J,Y.mode,ye,Pe),H.return=Y,H):(H=b(H,J),H.return=Y,H)}function me(Y,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Cy(""+H,Y.mode,J),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case C:return J=ch(H.type,H.key,H.props,null,Y.mode,J),J.ref=ec(Y,null,H),J.return=Y,J;case j:return H=Oy(H,Y.mode,J),H.return=Y,H;case ae:var ye=H._init;return me(Y,ye(H._payload),J)}if(vt(H)||ie(H))return H=Fa(H,Y.mode,J,null),H.return=Y,H;Bd(Y,H)}return null}function ue(Y,H,J,ye){var Pe=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Pe!==null?null:U(Y,H,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return J.key===Pe?W(Y,H,J,ye):null;case j:return J.key===Pe?te(Y,H,J,ye):null;case ae:return Pe=J._init,ue(Y,H,Pe(J._payload),ye)}if(vt(J)||ie(J))return Pe!==null?null:de(Y,H,J,ye,null);Bd(Y,J)}return null}function be(Y,H,J,ye,Pe){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return Y=Y.get(J)||null,U(H,Y,""+ye,Pe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case C:return Y=Y.get(ye.key===null?J:ye.key)||null,W(H,Y,ye,Pe);case j:return Y=Y.get(ye.key===null?J:ye.key)||null,te(H,Y,ye,Pe);case ae:var Ne=ye._init;return be(Y,H,J,Ne(ye._payload),Pe)}if(vt(ye)||ie(ye))return Y=Y.get(J)||null,de(H,Y,ye,Pe,null);Bd(H,ye)}return null}function Se(Y,H,J,ye){for(var Pe=null,Ne=null,je=H,$e=H=0,or=null;je!==null&&$e<J.length;$e++){je.index>$e?(or=je,je=null):or=je.sibling;var et=ue(Y,je,J[$e],ye);if(et===null){je===null&&(je=or);break}a&&je&&et.alternate===null&&l(Y,je),H=w(et,H,$e),Ne===null?Pe=et:Ne.sibling=et,Ne=et,je=or}if($e===J.length)return d(Y,je),It&&ja(Y,$e),Pe;if(je===null){for(;$e<J.length;$e++)je=me(Y,J[$e],ye),je!==null&&(H=w(je,H,$e),Ne===null?Pe=je:Ne.sibling=je,Ne=je);return It&&ja(Y,$e),Pe}for(je=y(Y,je);$e<J.length;$e++)or=be(je,Y,$e,J[$e],ye),or!==null&&(a&&or.alternate!==null&&je.delete(or.key===null?$e:or.key),H=w(or,H,$e),Ne===null?Pe=or:Ne.sibling=or,Ne=or);return a&&je.forEach(function(Uo){return l(Y,Uo)}),It&&ja(Y,$e),Pe}function Ae(Y,H,J,ye){var Pe=ie(J);if(typeof Pe!="function")throw Error(r(150));if(J=Pe.call(J),J==null)throw Error(r(151));for(var Ne=Pe=null,je=H,$e=H=0,or=null,et=J.next();je!==null&&!et.done;$e++,et=J.next()){je.index>$e?(or=je,je=null):or=je.sibling;var Uo=ue(Y,je,et.value,ye);if(Uo===null){je===null&&(je=or);break}a&&je&&Uo.alternate===null&&l(Y,je),H=w(Uo,H,$e),Ne===null?Pe=Uo:Ne.sibling=Uo,Ne=Uo,je=or}if(et.done)return d(Y,je),It&&ja(Y,$e),Pe;if(je===null){for(;!et.done;$e++,et=J.next())et=me(Y,et.value,ye),et!==null&&(H=w(et,H,$e),Ne===null?Pe=et:Ne.sibling=et,Ne=et);return It&&ja(Y,$e),Pe}for(je=y(Y,je);!et.done;$e++,et=J.next())et=be(je,Y,$e,et.value,ye),et!==null&&(a&&et.alternate!==null&&je.delete(et.key===null?$e:et.key),H=w(et,H,$e),Ne===null?Pe=et:Ne.sibling=et,Ne=et);return a&&je.forEach(function(h$){return l(Y,h$)}),It&&ja(Y,$e),Pe}function $t(Y,H,J,ye){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case C:e:{for(var Pe=J.key,Ne=H;Ne!==null;){if(Ne.key===Pe){if(Pe=J.type,Pe===A){if(Ne.tag===7){d(Y,Ne.sibling),H=b(Ne,J.props.children),H.return=Y,Y=H;break e}}else if(Ne.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===ae&&CT(Pe)===Ne.type){d(Y,Ne.sibling),H=b(Ne,J.props),H.ref=ec(Y,Ne,J),H.return=Y,Y=H;break e}d(Y,Ne);break}else l(Y,Ne);Ne=Ne.sibling}J.type===A?(H=Fa(J.props.children,Y.mode,ye,J.key),H.return=Y,Y=H):(ye=ch(J.type,J.key,J.props,null,Y.mode,ye),ye.ref=ec(Y,H,J),ye.return=Y,Y=ye)}return M(Y);case j:e:{for(Ne=J.key;H!==null;){if(H.key===Ne)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){d(Y,H.sibling),H=b(H,J.children||[]),H.return=Y,Y=H;break e}else{d(Y,H);break}else l(Y,H);H=H.sibling}H=Oy(J,Y.mode,ye),H.return=Y,Y=H}return M(Y);case ae:return Ne=J._init,$t(Y,H,Ne(J._payload),ye)}if(vt(J))return Se(Y,H,J,ye);if(ie(J))return Ae(Y,H,J,ye);Bd(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(d(Y,H.sibling),H=b(H,J),H.return=Y,Y=H):(d(Y,H),H=Cy(J,Y.mode,ye),H.return=Y,Y=H),M(Y)):d(Y,H)}return $t}var rl=OT(!0),kT=OT(!1),Fd=ko(null),Ud=null,nl=null,Vg=null;function Bg(){Vg=nl=Ud=null}function Fg(a){var l=Fd.current;Et(Fd),a._currentValue=l}function Ug(a,l,d){for(;a!==null;){var y=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),a===d)break;a=a.return}}function il(a,l){Ud=a,Vg=nl=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&($r=!0),a.firstContext=null)}function dn(a){var l=a._currentValue;if(Vg!==a)if(a={context:a,memoizedValue:l,next:null},nl===null){if(Ud===null)throw Error(r(308));nl=a,Ud.dependencies={lanes:0,firstContext:a}}else nl=nl.next=a;return l}var Ra=null;function qg(a){Ra===null?Ra=[a]:Ra.push(a)}function NT(a,l,d,y){var b=l.interleaved;return b===null?(d.next=d,qg(l)):(d.next=b.next,b.next=d),l.interleaved=d,Fi(a,y)}function Fi(a,l){a.lanes|=l;var d=a.alternate;for(d!==null&&(d.lanes|=l),d=a,a=a.return;a!==null;)a.childLanes|=l,d=a.alternate,d!==null&&(d.childLanes|=l),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Ro=!1;function zg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jT(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ui(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Do(a,l,d){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(Ze&2)!==0){var b=y.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),y.pending=l,Fi(a,d)}return b=y.interleaved,b===null?(l.next=l,qg(y)):(l.next=b.next,b.next=l),y.interleaved=l,Fi(a,d)}function qd(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var y=l.lanes;y&=a.pendingLanes,d|=y,l.lanes=d,Du(a,d)}}function RT(a,l){var d=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,d===y)){var b=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var M={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?b=w=M:w=w.next=M,d=d.next}while(d!==null);w===null?b=w=l:w=w.next=l}else b=w=l;d={baseState:y.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:y.shared,effects:y.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}function zd(a,l,d,y){var b=a.updateQueue;Ro=!1;var w=b.firstBaseUpdate,M=b.lastBaseUpdate,U=b.shared.pending;if(U!==null){b.shared.pending=null;var W=U,te=W.next;W.next=null,M===null?w=te:M.next=te,M=W;var de=a.alternate;de!==null&&(de=de.updateQueue,U=de.lastBaseUpdate,U!==M&&(U===null?de.firstBaseUpdate=te:U.next=te,de.lastBaseUpdate=W))}if(w!==null){var me=b.baseState;M=0,de=te=W=null,U=w;do{var ue=U.lane,be=U.eventTime;if((y&ue)===ue){de!==null&&(de=de.next={eventTime:be,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Se=a,Ae=U;switch(ue=l,be=d,Ae.tag){case 1:if(Se=Ae.payload,typeof Se=="function"){me=Se.call(be,me,ue);break e}me=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ae.payload,ue=typeof Se=="function"?Se.call(be,me,ue):Se,ue==null)break e;me=ne({},me,ue);break e;case 2:Ro=!0}}U.callback!==null&&U.lane!==0&&(a.flags|=64,ue=b.effects,ue===null?b.effects=[U]:ue.push(U))}else be={eventTime:be,lane:ue,tag:U.tag,payload:U.payload,callback:U.callback,next:null},de===null?(te=de=be,W=me):de=de.next=be,M|=ue;if(U=U.next,U===null){if(U=b.shared.pending,U===null)break;ue=U,U=ue.next,ue.next=null,b.lastBaseUpdate=ue,b.shared.pending=null}}while(!0);if(de===null&&(W=me),b.baseState=W,b.firstBaseUpdate=te,b.lastBaseUpdate=de,l=b.shared.interleaved,l!==null){b=l;do M|=b.lane,b=b.next;while(b!==l)}else w===null&&(b.shared.lanes=0);La|=M,a.lanes=M,a.memoizedState=me}}function DT(a,l,d){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var y=a[l],b=y.callback;if(b!==null){if(y.callback=null,y=d,typeof b!="function")throw Error(r(191,b));b.call(y)}}}var tc={},si=ko(tc),rc=ko(tc),nc=ko(tc);function Da(a){if(a===tc)throw Error(r(174));return a}function Wg(a,l){switch(xt(nc,l),xt(rc,a),xt(si,tc),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:As(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=As(l,a)}Et(si),xt(si,l)}function ol(){Et(si),Et(rc),Et(nc)}function MT(a){Da(nc.current);var l=Da(si.current),d=As(l,a.type);l!==d&&(xt(rc,a),xt(si,d))}function Hg(a){rc.current===a&&(Et(si),Et(rc))}var Ot=ko(0);function Wd(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Gg=[];function Kg(){for(var a=0;a<Gg.length;a++)Gg[a]._workInProgressVersionPrimary=null;Gg.length=0}var Hd=R.ReactCurrentDispatcher,Yg=R.ReactCurrentBatchConfig,Ma=0,kt=null,Kt=null,nr=null,Gd=!1,ic=!1,oc=0,D3=0;function wr(){throw Error(r(321))}function Xg(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Cn(a[d],l[d]))return!1;return!0}function Qg(a,l,d,y,b,w){if(Ma=w,kt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Hd.current=a===null||a.memoizedState===null?V3:B3,a=d(y,b),ic){w=0;do{if(ic=!1,oc=0,25<=w)throw Error(r(301));w+=1,nr=Kt=null,l.updateQueue=null,Hd.current=F3,a=d(y,b)}while(ic)}if(Hd.current=Xd,l=Kt!==null&&Kt.next!==null,Ma=0,nr=Kt=kt=null,Gd=!1,l)throw Error(r(300));return a}function Jg(){var a=oc!==0;return oc=0,a}function li(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?kt.memoizedState=nr=a:nr=nr.next=a,nr}function hn(){if(Kt===null){var a=kt.alternate;a=a!==null?a.memoizedState:null}else a=Kt.next;var l=nr===null?kt.memoizedState:nr.next;if(l!==null)nr=l,Kt=a;else{if(a===null)throw Error(r(310));Kt=a,a={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},nr===null?kt.memoizedState=nr=a:nr=nr.next=a}return nr}function ac(a,l){return typeof l=="function"?l(a):l}function Zg(a){var l=hn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var y=Kt,b=y.baseQueue,w=d.pending;if(w!==null){if(b!==null){var M=b.next;b.next=w.next,w.next=M}y.baseQueue=b=w,d.pending=null}if(b!==null){w=b.next,y=y.baseState;var U=M=null,W=null,te=w;do{var de=te.lane;if((Ma&de)===de)W!==null&&(W=W.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),y=te.hasEagerState?te.eagerState:a(y,te.action);else{var me={lane:de,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};W===null?(U=W=me,M=y):W=W.next=me,kt.lanes|=de,La|=de}te=te.next}while(te!==null&&te!==w);W===null?M=y:W.next=U,Cn(y,l.memoizedState)||($r=!0),l.memoizedState=y,l.baseState=M,l.baseQueue=W,d.lastRenderedState=y}if(a=d.interleaved,a!==null){b=a;do w=b.lane,kt.lanes|=w,La|=w,b=b.next;while(b!==a)}else b===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function ey(a){var l=hn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var y=d.dispatch,b=d.pending,w=l.memoizedState;if(b!==null){d.pending=null;var M=b=b.next;do w=a(w,M.action),M=M.next;while(M!==b);Cn(w,l.memoizedState)||($r=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,y]}function LT(){}function $T(a,l){var d=kt,y=hn(),b=l(),w=!Cn(y.memoizedState,b);if(w&&(y.memoizedState=b,$r=!0),y=y.queue,ty(FT.bind(null,d,y,a),[a]),y.getSnapshot!==l||w||nr!==null&&nr.memoizedState.tag&1){if(d.flags|=2048,sc(9,BT.bind(null,d,y,b,l),void 0,null),ir===null)throw Error(r(349));(Ma&30)!==0||VT(d,l,b)}return b}function VT(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=kt.updateQueue,l===null?(l={lastEffect:null,stores:null},kt.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function BT(a,l,d,y){l.value=d,l.getSnapshot=y,UT(l)&&qT(a)}function FT(a,l,d){return d(function(){UT(l)&&qT(a)})}function UT(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Cn(a,d)}catch{return!0}}function qT(a){var l=Fi(a,1);l!==null&&Rn(l,a,1,-1)}function zT(a){var l=li();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:a},l.queue=a,a=a.dispatch=$3.bind(null,kt,a),[l.memoizedState,a]}function sc(a,l,d,y){return a={tag:a,create:l,destroy:d,deps:y,next:null},l=kt.updateQueue,l===null?(l={lastEffect:null,stores:null},kt.updateQueue=l,l.lastEffect=a.next=a):(d=l.lastEffect,d===null?l.lastEffect=a.next=a:(y=d.next,d.next=a,a.next=y,l.lastEffect=a)),a}function WT(){return hn().memoizedState}function Kd(a,l,d,y){var b=li();kt.flags|=a,b.memoizedState=sc(1|l,d,void 0,y===void 0?null:y)}function Yd(a,l,d,y){var b=hn();y=y===void 0?null:y;var w=void 0;if(Kt!==null){var M=Kt.memoizedState;if(w=M.destroy,y!==null&&Xg(y,M.deps)){b.memoizedState=sc(l,d,w,y);return}}kt.flags|=a,b.memoizedState=sc(1|l,d,w,y)}function HT(a,l){return Kd(8390656,8,a,l)}function ty(a,l){return Yd(2048,8,a,l)}function GT(a,l){return Yd(4,2,a,l)}function KT(a,l){return Yd(4,4,a,l)}function YT(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function XT(a,l,d){return d=d!=null?d.concat([a]):null,Yd(4,4,YT.bind(null,l,a),d)}function ry(){}function QT(a,l){var d=hn();l=l===void 0?null:l;var y=d.memoizedState;return y!==null&&l!==null&&Xg(l,y[1])?y[0]:(d.memoizedState=[a,l],a)}function JT(a,l){var d=hn();l=l===void 0?null:l;var y=d.memoizedState;return y!==null&&l!==null&&Xg(l,y[1])?y[0]:(a=a(),d.memoizedState=[a,l],a)}function ZT(a,l,d){return(Ma&21)===0?(a.baseState&&(a.baseState=!1,$r=!0),a.memoizedState=d):(Cn(d,l)||(d=ju(),kt.lanes|=d,La|=d,a.baseState=!0),l)}function M3(a,l){var d=Qe;Qe=d!==0&&4>d?d:4,a(!0);var y=Yg.transition;Yg.transition={};try{a(!1),l()}finally{Qe=d,Yg.transition=y}}function eS(){return hn().memoizedState}function L3(a,l,d){var y=Vo(a);if(d={lane:y,action:d,hasEagerState:!1,eagerState:null,next:null},tS(a))rS(l,d);else if(d=NT(a,l,d,y),d!==null){var b=jr();Rn(d,a,y,b),nS(d,l,y)}}function $3(a,l,d){var y=Vo(a),b={lane:y,action:d,hasEagerState:!1,eagerState:null,next:null};if(tS(a))rS(l,b);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var M=l.lastRenderedState,U=w(M,d);if(b.hasEagerState=!0,b.eagerState=U,Cn(U,M)){var W=l.interleaved;W===null?(b.next=b,qg(l)):(b.next=W.next,W.next=b),l.interleaved=b;return}}catch{}finally{}d=NT(a,l,b,y),d!==null&&(b=jr(),Rn(d,a,y,b),nS(d,l,y))}}function tS(a){var l=a.alternate;return a===kt||l!==null&&l===kt}function rS(a,l){ic=Gd=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function nS(a,l,d){if((d&4194240)!==0){var y=l.lanes;y&=a.pendingLanes,d|=y,l.lanes=d,Du(a,d)}}var Xd={readContext:dn,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useInsertionEffect:wr,useLayoutEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useMutableSource:wr,useSyncExternalStore:wr,useId:wr,unstable_isNewReconciler:!1},V3={readContext:dn,useCallback:function(a,l){return li().memoizedState=[a,l===void 0?null:l],a},useContext:dn,useEffect:HT,useImperativeHandle:function(a,l,d){return d=d!=null?d.concat([a]):null,Kd(4194308,4,YT.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Kd(4194308,4,a,l)},useInsertionEffect:function(a,l){return Kd(4,2,a,l)},useMemo:function(a,l){var d=li();return l=l===void 0?null:l,a=a(),d.memoizedState=[a,l],a},useReducer:function(a,l,d){var y=li();return l=d!==void 0?d(l):l,y.memoizedState=y.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},y.queue=a,a=a.dispatch=L3.bind(null,kt,a),[y.memoizedState,a]},useRef:function(a){var l=li();return a={current:a},l.memoizedState=a},useState:zT,useDebugValue:ry,useDeferredValue:function(a){return li().memoizedState=a},useTransition:function(){var a=zT(!1),l=a[0];return a=M3.bind(null,a[1]),li().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,d){var y=kt,b=li();if(It){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),ir===null)throw Error(r(349));(Ma&30)!==0||VT(y,l,d)}b.memoizedState=d;var w={value:d,getSnapshot:l};return b.queue=w,HT(FT.bind(null,y,w,a),[a]),y.flags|=2048,sc(9,BT.bind(null,y,w,d,l),void 0,null),d},useId:function(){var a=li(),l=ir.identifierPrefix;if(It){var d=Bi,y=Vi;d=(y&~(1<<32-Yr(y)-1)).toString(32)+d,l=":"+l+"R"+d,d=oc++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=D3++,l=":"+l+"r"+d.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},B3={readContext:dn,useCallback:QT,useContext:dn,useEffect:ty,useImperativeHandle:XT,useInsertionEffect:GT,useLayoutEffect:KT,useMemo:JT,useReducer:Zg,useRef:WT,useState:function(){return Zg(ac)},useDebugValue:ry,useDeferredValue:function(a){var l=hn();return ZT(l,Kt.memoizedState,a)},useTransition:function(){var a=Zg(ac)[0],l=hn().memoizedState;return[a,l]},useMutableSource:LT,useSyncExternalStore:$T,useId:eS,unstable_isNewReconciler:!1},F3={readContext:dn,useCallback:QT,useContext:dn,useEffect:ty,useImperativeHandle:XT,useInsertionEffect:GT,useLayoutEffect:KT,useMemo:JT,useReducer:ey,useRef:WT,useState:function(){return ey(ac)},useDebugValue:ry,useDeferredValue:function(a){var l=hn();return Kt===null?l.memoizedState=a:ZT(l,Kt.memoizedState,a)},useTransition:function(){var a=ey(ac)[0],l=hn().memoizedState;return[a,l]},useMutableSource:LT,useSyncExternalStore:$T,useId:eS,unstable_isNewReconciler:!1};function kn(a,l){if(a&&a.defaultProps){l=ne({},l),a=a.defaultProps;for(var d in a)l[d]===void 0&&(l[d]=a[d]);return l}return l}function ny(a,l,d,y){l=a.memoizedState,d=d(y,l),d=d==null?l:ne({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Qd={isMounted:function(a){return(a=a._reactInternals)?Pn(a)===a:!1},enqueueSetState:function(a,l,d){a=a._reactInternals;var y=jr(),b=Vo(a),w=Ui(y,b);w.payload=l,d!=null&&(w.callback=d),l=Do(a,w,b),l!==null&&(Rn(l,a,b,y),qd(l,a,b))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var y=jr(),b=Vo(a),w=Ui(y,b);w.tag=1,w.payload=l,d!=null&&(w.callback=d),l=Do(a,w,b),l!==null&&(Rn(l,a,b,y),qd(l,a,b))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=jr(),y=Vo(a),b=Ui(d,y);b.tag=2,l!=null&&(b.callback=l),l=Do(a,b,y),l!==null&&(Rn(l,a,y,d),qd(l,a,y))}};function iS(a,l,d,y,b,w,M){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,w,M):l.prototype&&l.prototype.isPureReactComponent?!Gu(d,y)||!Gu(b,w):!0}function oS(a,l,d){var y=!1,b=No,w=l.contextType;return typeof w=="object"&&w!==null?w=dn(w):(b=Lr(l)?ka:_r.current,y=l.contextTypes,w=(y=y!=null)?Js(a,b):No),l=new l(d,w),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Qd,a.stateNode=l,l._reactInternals=a,y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=w),l}function aS(a,l,d,y){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,y),l.state!==a&&Qd.enqueueReplaceState(l,l.state,null)}function iy(a,l,d,y){var b=a.stateNode;b.props=d,b.state=a.memoizedState,b.refs={},zg(a);var w=l.contextType;typeof w=="object"&&w!==null?b.context=dn(w):(w=Lr(l)?ka:_r.current,b.context=Js(a,w)),b.state=a.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(ny(a,l,w,d),b.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(l=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),l!==b.state&&Qd.enqueueReplaceState(b,b.state,null),zd(a,d,b,y),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308)}function al(a,l){try{var d="",y=l;do d+=Ce(y),y=y.return;while(y);var b=d}catch(w){b=`
Error generating stack: `+w.message+`
`+w.stack}return{value:a,source:l,stack:b,digest:null}}function oy(a,l,d){return{value:a,source:null,stack:d??null,digest:l??null}}function ay(a,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var U3=typeof WeakMap=="function"?WeakMap:Map;function sS(a,l,d){d=Ui(-1,d),d.tag=3,d.payload={element:null};var y=l.value;return d.callback=function(){ih||(ih=!0,_y=y),ay(a,l)},d}function lS(a,l,d){d=Ui(-1,d),d.tag=3;var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var b=l.value;d.payload=function(){return y(b)},d.callback=function(){ay(a,l)}}var w=a.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){ay(a,l),typeof y!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var M=l.stack;this.componentDidCatch(l.value,{componentStack:M!==null?M:""})}),d}function uS(a,l,d){var y=a.pingCache;if(y===null){y=a.pingCache=new U3;var b=new Set;y.set(l,b)}else b=y.get(l),b===void 0&&(b=new Set,y.set(l,b));b.has(d)||(b.add(d),a=r$.bind(null,a,l,d),l.then(a,a))}function cS(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function fS(a,l,d,y,b){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Ui(-1,1),l.tag=2,Do(d,l,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=b,a)}var q3=R.ReactCurrentOwner,$r=!1;function Nr(a,l,d,y){l.child=a===null?kT(l,null,d,y):rl(l,a.child,d,y)}function dS(a,l,d,y,b){d=d.render;var w=l.ref;return il(l,b),y=Qg(a,l,d,y,w,b),d=Jg(),a!==null&&!$r?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~b,qi(a,l,b)):(It&&d&&Rg(l),l.flags|=1,Nr(a,l,y,b),l.child)}function hS(a,l,d,y,b){if(a===null){var w=d.type;return typeof w=="function"&&!Iy(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=w,pS(a,l,w,y,b)):(a=ch(d.type,null,y,l,l.mode,b),a.ref=l.ref,a.return=l,l.child=a)}if(w=a.child,(a.lanes&b)===0){var M=w.memoizedProps;if(d=d.compare,d=d!==null?d:Gu,d(M,y)&&a.ref===l.ref)return qi(a,l,b)}return l.flags|=1,a=Fo(w,y),a.ref=l.ref,a.return=l,l.child=a}function pS(a,l,d,y,b){if(a!==null){var w=a.memoizedProps;if(Gu(w,y)&&a.ref===l.ref)if($r=!1,l.pendingProps=y=w,(a.lanes&b)!==0)(a.flags&131072)!==0&&($r=!0);else return l.lanes=a.lanes,qi(a,l,b)}return sy(a,l,d,y,b)}function mS(a,l,d){var y=l.pendingProps,b=y.children,w=a!==null?a.memoizedState:null;if(y.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(ll,rn),rn|=d;else{if((d&1073741824)===0)return a=w!==null?w.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,xt(ll,rn),rn|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=w!==null?w.baseLanes:d,xt(ll,rn),rn|=y}else w!==null?(y=w.baseLanes|d,l.memoizedState=null):y=d,xt(ll,rn),rn|=y;return Nr(a,l,b,d),l.child}function gS(a,l){var d=l.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function sy(a,l,d,y,b){var w=Lr(d)?ka:_r.current;return w=Js(l,w),il(l,b),d=Qg(a,l,d,y,w,b),y=Jg(),a!==null&&!$r?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~b,qi(a,l,b)):(It&&y&&Rg(l),l.flags|=1,Nr(a,l,d,b),l.child)}function yS(a,l,d,y,b){if(Lr(d)){var w=!0;Dd(l)}else w=!1;if(il(l,b),l.stateNode===null)Zd(a,l),oS(l,d,y),iy(l,d,y,b),y=!0;else if(a===null){var M=l.stateNode,U=l.memoizedProps;M.props=U;var W=M.context,te=d.contextType;typeof te=="object"&&te!==null?te=dn(te):(te=Lr(d)?ka:_r.current,te=Js(l,te));var de=d.getDerivedStateFromProps,me=typeof de=="function"||typeof M.getSnapshotBeforeUpdate=="function";me||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(U!==y||W!==te)&&aS(l,M,y,te),Ro=!1;var ue=l.memoizedState;M.state=ue,zd(l,y,M,b),W=l.memoizedState,U!==y||ue!==W||Mr.current||Ro?(typeof de=="function"&&(ny(l,d,de,y),W=l.memoizedState),(U=Ro||iS(l,d,U,y,ue,W,te))?(me||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(l.flags|=4194308)):(typeof M.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=W),M.props=y,M.state=W,M.context=te,y=U):(typeof M.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{M=l.stateNode,jT(a,l),U=l.memoizedProps,te=l.type===l.elementType?U:kn(l.type,U),M.props=te,me=l.pendingProps,ue=M.context,W=d.contextType,typeof W=="object"&&W!==null?W=dn(W):(W=Lr(d)?ka:_r.current,W=Js(l,W));var be=d.getDerivedStateFromProps;(de=typeof be=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(U!==me||ue!==W)&&aS(l,M,y,W),Ro=!1,ue=l.memoizedState,M.state=ue,zd(l,y,M,b);var Se=l.memoizedState;U!==me||ue!==Se||Mr.current||Ro?(typeof be=="function"&&(ny(l,d,be,y),Se=l.memoizedState),(te=Ro||iS(l,d,te,y,ue,Se,W)||!1)?(de||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(y,Se,W),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(y,Se,W)),typeof M.componentDidUpdate=="function"&&(l.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof M.componentDidUpdate!="function"||U===a.memoizedProps&&ue===a.memoizedState||(l.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&ue===a.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=Se),M.props=y,M.state=Se,M.context=W,y=te):(typeof M.componentDidUpdate!="function"||U===a.memoizedProps&&ue===a.memoizedState||(l.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&ue===a.memoizedState||(l.flags|=1024),y=!1)}return ly(a,l,d,y,w,b)}function ly(a,l,d,y,b,w){gS(a,l);var M=(l.flags&128)!==0;if(!y&&!M)return b&&wT(l,d,!1),qi(a,l,w);y=l.stateNode,q3.current=l;var U=M&&typeof d.getDerivedStateFromError!="function"?null:y.render();return l.flags|=1,a!==null&&M?(l.child=rl(l,a.child,null,w),l.child=rl(l,null,U,w)):Nr(a,l,U,w),l.memoizedState=y.state,b&&wT(l,d,!0),l.child}function vS(a){var l=a.stateNode;l.pendingContext?bT(a,l.pendingContext,l.pendingContext!==l.context):l.context&&bT(a,l.context,!1),Wg(a,l.containerInfo)}function xS(a,l,d,y,b){return tl(),$g(b),l.flags|=256,Nr(a,l,d,y),l.child}var uy={dehydrated:null,treeContext:null,retryLane:0};function cy(a){return{baseLanes:a,cachePool:null,transitions:null}}function bS(a,l,d){var y=l.pendingProps,b=Ot.current,w=!1,M=(l.flags&128)!==0,U;if((U=M)||(U=a!==null&&a.memoizedState===null?!1:(b&2)!==0),U?(w=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(b|=1),xt(Ot,b&1),a===null)return Lg(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(M=y.children,a=y.fallback,w?(y=l.mode,w=l.child,M={mode:"hidden",children:M},(y&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=M):w=fh(M,y,0,null),a=Fa(a,y,d,null),w.return=l,a.return=l,w.sibling=a,l.child=w,l.child.memoizedState=cy(d),l.memoizedState=uy,a):fy(l,M));if(b=a.memoizedState,b!==null&&(U=b.dehydrated,U!==null))return z3(a,l,M,y,U,b,d);if(w){w=y.fallback,M=l.mode,b=a.child,U=b.sibling;var W={mode:"hidden",children:y.children};return(M&1)===0&&l.child!==b?(y=l.child,y.childLanes=0,y.pendingProps=W,l.deletions=null):(y=Fo(b,W),y.subtreeFlags=b.subtreeFlags&14680064),U!==null?w=Fo(U,w):(w=Fa(w,M,d,null),w.flags|=2),w.return=l,y.return=l,y.sibling=w,l.child=y,y=w,w=l.child,M=a.child.memoizedState,M=M===null?cy(d):{baseLanes:M.baseLanes|d,cachePool:null,transitions:M.transitions},w.memoizedState=M,w.childLanes=a.childLanes&~d,l.memoizedState=uy,y}return w=a.child,a=w.sibling,y=Fo(w,{mode:"visible",children:y.children}),(l.mode&1)===0&&(y.lanes=d),y.return=l,y.sibling=null,a!==null&&(d=l.deletions,d===null?(l.deletions=[a],l.flags|=16):d.push(a)),l.child=y,l.memoizedState=null,y}function fy(a,l){return l=fh({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Jd(a,l,d,y){return y!==null&&$g(y),rl(l,a.child,null,d),a=fy(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function z3(a,l,d,y,b,w,M){if(d)return l.flags&256?(l.flags&=-257,y=oy(Error(r(422))),Jd(a,l,M,y)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(w=y.fallback,b=l.mode,y=fh({mode:"visible",children:y.children},b,0,null),w=Fa(w,b,M,null),w.flags|=2,y.return=l,w.return=l,y.sibling=w,l.child=y,(l.mode&1)!==0&&rl(l,a.child,null,M),l.child.memoizedState=cy(M),l.memoizedState=uy,w);if((l.mode&1)===0)return Jd(a,l,M,null);if(b.data==="$!"){if(y=b.nextSibling&&b.nextSibling.dataset,y)var U=y.dgst;return y=U,w=Error(r(419)),y=oy(w,y,void 0),Jd(a,l,M,y)}if(U=(M&a.childLanes)!==0,$r||U){if(y=ir,y!==null){switch(M&-M){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(y.suspendedLanes|M))!==0?0:b,b!==0&&b!==w.retryLane&&(w.retryLane=b,Fi(a,b),Rn(y,a,b,-1))}return Py(),y=oy(Error(r(421))),Jd(a,l,M,y)}return b.data==="$?"?(l.flags|=128,l.child=a.child,l=n$.bind(null,a),b._reactRetry=l,null):(a=w.treeContext,tn=Oo(b.nextSibling),en=l,It=!0,On=null,a!==null&&(cn[fn++]=Vi,cn[fn++]=Bi,cn[fn++]=Na,Vi=a.id,Bi=a.overflow,Na=l),l=fy(l,y.children),l.flags|=4096,l)}function _S(a,l,d){a.lanes|=l;var y=a.alternate;y!==null&&(y.lanes|=l),Ug(a.return,l,d)}function dy(a,l,d,y,b){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:d,tailMode:b}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=y,w.tail=d,w.tailMode=b)}function wS(a,l,d){var y=l.pendingProps,b=y.revealOrder,w=y.tail;if(Nr(a,l,y.children,d),y=Ot.current,(y&2)!==0)y=y&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&_S(a,d,l);else if(a.tag===19)_S(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}if(xt(Ot,y),(l.mode&1)===0)l.memoizedState=null;else switch(b){case"forwards":for(d=l.child,b=null;d!==null;)a=d.alternate,a!==null&&Wd(a)===null&&(b=d),d=d.sibling;d=b,d===null?(b=l.child,l.child=null):(b=d.sibling,d.sibling=null),dy(l,!1,b,d,w);break;case"backwards":for(d=null,b=l.child,l.child=null;b!==null;){if(a=b.alternate,a!==null&&Wd(a)===null){l.child=b;break}a=b.sibling,b.sibling=d,d=b,b=a}dy(l,!0,d,null,w);break;case"together":dy(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Zd(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function qi(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),La|=l.lanes,(d&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,d=Fo(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=Fo(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function W3(a,l,d){switch(l.tag){case 3:vS(l),tl();break;case 5:MT(l);break;case 1:Lr(l.type)&&Dd(l);break;case 4:Wg(l,l.stateNode.containerInfo);break;case 10:var y=l.type._context,b=l.memoizedProps.value;xt(Fd,y._currentValue),y._currentValue=b;break;case 13:if(y=l.memoizedState,y!==null)return y.dehydrated!==null?(xt(Ot,Ot.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?bS(a,l,d):(xt(Ot,Ot.current&1),a=qi(a,l,d),a!==null?a.sibling:null);xt(Ot,Ot.current&1);break;case 19:if(y=(d&l.childLanes)!==0,(a.flags&128)!==0){if(y)return wS(a,l,d);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),xt(Ot,Ot.current),y)break;return null;case 22:case 23:return l.lanes=0,mS(a,l,d)}return qi(a,l,d)}var ES,hy,TS,SS;ES=function(a,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},hy=function(){},TS=function(a,l,d,y){var b=a.memoizedProps;if(b!==y){a=l.stateNode,Da(si.current);var w=null;switch(d){case"input":b=ze(a,b),y=ze(a,y),w=[];break;case"select":b=ne({},b,{value:void 0}),y=ne({},y,{value:void 0}),w=[];break;case"textarea":b=Gr(a,b),y=Gr(a,y),w=[];break;default:typeof b.onClick!="function"&&typeof y.onClick=="function"&&(a.onclick=Nd)}An(d,y);var M;d=null;for(te in b)if(!y.hasOwnProperty(te)&&b.hasOwnProperty(te)&&b[te]!=null)if(te==="style"){var U=b[te];for(M in U)U.hasOwnProperty(M)&&(d||(d={}),d[M]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(i.hasOwnProperty(te)?w||(w=[]):(w=w||[]).push(te,null));for(te in y){var W=y[te];if(U=b!=null?b[te]:void 0,y.hasOwnProperty(te)&&W!==U&&(W!=null||U!=null))if(te==="style")if(U){for(M in U)!U.hasOwnProperty(M)||W&&W.hasOwnProperty(M)||(d||(d={}),d[M]="");for(M in W)W.hasOwnProperty(M)&&U[M]!==W[M]&&(d||(d={}),d[M]=W[M])}else d||(w||(w=[]),w.push(te,d)),d=W;else te==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,U=U?U.__html:void 0,W!=null&&U!==W&&(w=w||[]).push(te,W)):te==="children"?typeof W!="string"&&typeof W!="number"||(w=w||[]).push(te,""+W):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(i.hasOwnProperty(te)?(W!=null&&te==="onScroll"&&wt("scroll",a),w||U===W||(w=[])):(w=w||[]).push(te,W))}d&&(w=w||[]).push("style",d);var te=w;(l.updateQueue=te)&&(l.flags|=4)}},SS=function(a,l,d,y){d!==y&&(l.flags|=4)};function lc(a,l){if(!It)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function Er(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,y=0;if(l)for(var b=a.child;b!==null;)d|=b.lanes|b.childLanes,y|=b.subtreeFlags&14680064,y|=b.flags&14680064,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)d|=b.lanes|b.childLanes,y|=b.subtreeFlags,y|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=y,a.childLanes=d,l}function H3(a,l,d){var y=l.pendingProps;switch(Dg(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(l),null;case 1:return Lr(l.type)&&Rd(),Er(l),null;case 3:return y=l.stateNode,ol(),Et(Mr),Et(_r),Kg(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(a===null||a.child===null)&&(Vd(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,On!==null&&(Ty(On),On=null))),hy(a,l),Er(l),null;case 5:Hg(l);var b=Da(nc.current);if(d=l.type,a!==null&&l.stateNode!=null)TS(a,l,d,y,b),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!y){if(l.stateNode===null)throw Error(r(166));return Er(l),null}if(a=Da(si.current),Vd(l)){y=l.stateNode,d=l.type;var w=l.memoizedProps;switch(y[ai]=l,y[Ju]=w,a=(l.mode&1)!==0,d){case"dialog":wt("cancel",y),wt("close",y);break;case"iframe":case"object":case"embed":wt("load",y);break;case"video":case"audio":for(b=0;b<Yu.length;b++)wt(Yu[b],y);break;case"source":wt("error",y);break;case"img":case"image":case"link":wt("error",y),wt("load",y);break;case"details":wt("toggle",y);break;case"input":Pt(y,w),wt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!w.multiple},wt("invalid",y);break;case"textarea":Ai(y,w),wt("invalid",y)}An(d,w),b=null;for(var M in w)if(w.hasOwnProperty(M)){var U=w[M];M==="children"?typeof U=="string"?y.textContent!==U&&(w.suppressHydrationWarning!==!0&&kd(y.textContent,U,a),b=["children",U]):typeof U=="number"&&y.textContent!==""+U&&(w.suppressHydrationWarning!==!0&&kd(y.textContent,U,a),b=["children",""+U]):i.hasOwnProperty(M)&&U!=null&&M==="onScroll"&&wt("scroll",y)}switch(d){case"input":Be(y),Dr(y,w,!0);break;case"textarea":Be(y),Sn(y);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(y.onclick=Nd)}y=b,l.updateQueue=y,y!==null&&(l.flags|=4)}else{M=b.nodeType===9?b:b.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Tu(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=M.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof y.is=="string"?a=M.createElement(d,{is:y.is}):(a=M.createElement(d),d==="select"&&(M=a,y.multiple?M.multiple=!0:y.size&&(M.size=y.size))):a=M.createElementNS(a,d),a[ai]=l,a[Ju]=y,ES(a,l,!1,!1),l.stateNode=a;e:{switch(M=Is(d,y),d){case"dialog":wt("cancel",a),wt("close",a),b=y;break;case"iframe":case"object":case"embed":wt("load",a),b=y;break;case"video":case"audio":for(b=0;b<Yu.length;b++)wt(Yu[b],a);b=y;break;case"source":wt("error",a),b=y;break;case"img":case"image":case"link":wt("error",a),wt("load",a),b=y;break;case"details":wt("toggle",a),b=y;break;case"input":Pt(a,y),b=ze(a,y),wt("invalid",a);break;case"option":b=y;break;case"select":a._wrapperState={wasMultiple:!!y.multiple},b=ne({},y,{value:void 0}),wt("invalid",a);break;case"textarea":Ai(a,y),b=Gr(a,y),wt("invalid",a);break;default:b=y}An(d,b),U=b;for(w in U)if(U.hasOwnProperty(w)){var W=U[w];w==="style"?Ps(a,W):w==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&od(a,W)):w==="children"?typeof W=="string"?(d!=="textarea"||W!=="")&&ga(a,W):typeof W=="number"&&ga(a,""+W):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?W!=null&&w==="onScroll"&&wt("scroll",a):W!=null&&k(a,w,W,M))}switch(d){case"input":Be(a),Dr(a,y,!1);break;case"textarea":Be(a),Sn(a);break;case"option":y.value!=null&&a.setAttribute("value",""+Le(y.value));break;case"select":a.multiple=!!y.multiple,w=y.value,w!=null?Gt(a,!!y.multiple,w,!1):y.defaultValue!=null&&Gt(a,!!y.multiple,y.defaultValue,!0);break;default:typeof b.onClick=="function"&&(a.onclick=Nd)}switch(d){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Er(l),null;case 6:if(a&&l.stateNode!=null)SS(a,l,a.memoizedProps,y);else{if(typeof y!="string"&&l.stateNode===null)throw Error(r(166));if(d=Da(nc.current),Da(si.current),Vd(l)){if(y=l.stateNode,d=l.memoizedProps,y[ai]=l,(w=y.nodeValue!==d)&&(a=en,a!==null))switch(a.tag){case 3:kd(y.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&kd(y.nodeValue,d,(a.mode&1)!==0)}w&&(l.flags|=4)}else y=(d.nodeType===9?d:d.ownerDocument).createTextNode(y),y[ai]=l,l.stateNode=y}return Er(l),null;case 13:if(Et(Ot),y=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(It&&tn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)IT(),tl(),l.flags|=98560,w=!1;else if(w=Vd(l),y!==null&&y.dehydrated!==null){if(a===null){if(!w)throw Error(r(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[ai]=l}else tl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Er(l),w=!1}else On!==null&&(Ty(On),On=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(y=y!==null,y!==(a!==null&&a.memoizedState!==null)&&y&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(Ot.current&1)!==0?Yt===0&&(Yt=3):Py())),l.updateQueue!==null&&(l.flags|=4),Er(l),null);case 4:return ol(),hy(a,l),a===null&&Xu(l.stateNode.containerInfo),Er(l),null;case 10:return Fg(l.type._context),Er(l),null;case 17:return Lr(l.type)&&Rd(),Er(l),null;case 19:if(Et(Ot),w=l.memoizedState,w===null)return Er(l),null;if(y=(l.flags&128)!==0,M=w.rendering,M===null)if(y)lc(w,!1);else{if(Yt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(M=Wd(a),M!==null){for(l.flags|=128,lc(w,!1),y=M.updateQueue,y!==null&&(l.updateQueue=y,l.flags|=4),l.subtreeFlags=0,y=d,d=l.child;d!==null;)w=d,a=y,w.flags&=14680066,M=w.alternate,M===null?(w.childLanes=0,w.lanes=a,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=M.childLanes,w.lanes=M.lanes,w.child=M.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=M.memoizedProps,w.memoizedState=M.memoizedState,w.updateQueue=M.updateQueue,w.type=M.type,a=M.dependencies,w.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return xt(Ot,Ot.current&1|2),l.child}a=a.sibling}w.tail!==null&&_t()>ul&&(l.flags|=128,y=!0,lc(w,!1),l.lanes=4194304)}else{if(!y)if(a=Wd(M),a!==null){if(l.flags|=128,y=!0,d=a.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),lc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!M.alternate&&!It)return Er(l),null}else 2*_t()-w.renderingStartTime>ul&&d!==1073741824&&(l.flags|=128,y=!0,lc(w,!1),l.lanes=4194304);w.isBackwards?(M.sibling=l.child,l.child=M):(d=w.last,d!==null?d.sibling=M:l.child=M,w.last=M)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=_t(),l.sibling=null,d=Ot.current,xt(Ot,y?d&1|2:d&1),l):(Er(l),null);case 22:case 23:return Ay(),y=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==y&&(l.flags|=8192),y&&(l.mode&1)!==0?(rn&1073741824)!==0&&(Er(l),l.subtreeFlags&6&&(l.flags|=8192)):Er(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function G3(a,l){switch(Dg(l),l.tag){case 1:return Lr(l.type)&&Rd(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return ol(),Et(Mr),Et(_r),Kg(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return Hg(l),null;case 13:if(Et(Ot),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));tl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Et(Ot),null;case 4:return ol(),null;case 10:return Fg(l.type._context),null;case 22:case 23:return Ay(),null;case 24:return null;default:return null}}var eh=!1,Tr=!1,K3=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function sl(a,l){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(y){Dt(a,l,y)}else d.current=null}function py(a,l,d){try{d()}catch(y){Dt(a,l,y)}}var AS=!1;function Y3(a,l){if(Ag=Ri,a=iT(),vg(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var y=d.getSelection&&d.getSelection();if(y&&y.rangeCount!==0){d=y.anchorNode;var b=y.anchorOffset,w=y.focusNode;y=y.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var M=0,U=-1,W=-1,te=0,de=0,me=a,ue=null;t:for(;;){for(var be;me!==d||b!==0&&me.nodeType!==3||(U=M+b),me!==w||y!==0&&me.nodeType!==3||(W=M+y),me.nodeType===3&&(M+=me.nodeValue.length),(be=me.firstChild)!==null;)ue=me,me=be;for(;;){if(me===a)break t;if(ue===d&&++te===b&&(U=M),ue===w&&++de===y&&(W=M),(be=me.nextSibling)!==null)break;me=ue,ue=me.parentNode}me=be}d=U===-1||W===-1?null:{start:U,end:W}}else d=null}d=d||{start:0,end:0}}else d=null;for(Pg={focusedElem:a,selectionRange:d},Ri=!1,Ee=l;Ee!==null;)if(l=Ee,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Ee=a;else for(;Ee!==null;){l=Ee;try{var Se=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ae=Se.memoizedProps,$t=Se.memoizedState,Y=l.stateNode,H=Y.getSnapshotBeforeUpdate(l.elementType===l.type?Ae:kn(l.type,Ae),$t);Y.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ye){Dt(l,l.return,ye)}if(a=l.sibling,a!==null){a.return=l.return,Ee=a;break}Ee=l.return}return Se=AS,AS=!1,Se}function uc(a,l,d){var y=l.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var b=y=y.next;do{if((b.tag&a)===a){var w=b.destroy;b.destroy=void 0,w!==void 0&&py(l,d,w)}b=b.next}while(b!==y)}}function th(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&a)===a){var y=d.create;d.destroy=y()}d=d.next}while(d!==l)}}function my(a){var l=a.ref;if(l!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof l=="function"?l(a):l.current=a}}function PS(a){var l=a.alternate;l!==null&&(a.alternate=null,PS(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[ai],delete l[Ju],delete l[kg],delete l[k3],delete l[N3])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function IS(a){return a.tag===5||a.tag===3||a.tag===4}function CS(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||IS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function gy(a,l,d){var y=a.tag;if(y===5||y===6)a=a.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(a,l):d.insertBefore(a,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(a,d)):(l=d,l.appendChild(a)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Nd));else if(y!==4&&(a=a.child,a!==null))for(gy(a,l,d),a=a.sibling;a!==null;)gy(a,l,d),a=a.sibling}function yy(a,l,d){var y=a.tag;if(y===5||y===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(y!==4&&(a=a.child,a!==null))for(yy(a,l,d),a=a.sibling;a!==null;)yy(a,l,d),a=a.sibling}var dr=null,Nn=!1;function Mo(a,l,d){for(d=d.child;d!==null;)OS(a,l,d),d=d.sibling}function OS(a,l,d){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(_a,d)}catch{}switch(d.tag){case 5:Tr||sl(d,l);case 6:var y=dr,b=Nn;dr=null,Mo(a,l,d),dr=y,Nn=b,dr!==null&&(Nn?(a=dr,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):dr.removeChild(d.stateNode));break;case 18:dr!==null&&(Nn?(a=dr,d=d.stateNode,a.nodeType===8?Og(a.parentNode,d):a.nodeType===1&&Og(a,d),Ao(a)):Og(dr,d.stateNode));break;case 4:y=dr,b=Nn,dr=d.stateNode.containerInfo,Nn=!0,Mo(a,l,d),dr=y,Nn=b;break;case 0:case 11:case 14:case 15:if(!Tr&&(y=d.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){b=y=y.next;do{var w=b,M=w.destroy;w=w.tag,M!==void 0&&((w&2)!==0||(w&4)!==0)&&py(d,l,M),b=b.next}while(b!==y)}Mo(a,l,d);break;case 1:if(!Tr&&(sl(d,l),y=d.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=d.memoizedProps,y.state=d.memoizedState,y.componentWillUnmount()}catch(U){Dt(d,l,U)}Mo(a,l,d);break;case 21:Mo(a,l,d);break;case 22:d.mode&1?(Tr=(y=Tr)||d.memoizedState!==null,Mo(a,l,d),Tr=y):Mo(a,l,d);break;default:Mo(a,l,d)}}function kS(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new K3),l.forEach(function(y){var b=i$.bind(null,a,y);d.has(y)||(d.add(y),y.then(b,b))})}}function jn(a,l){var d=l.deletions;if(d!==null)for(var y=0;y<d.length;y++){var b=d[y];try{var w=a,M=l,U=M;e:for(;U!==null;){switch(U.tag){case 5:dr=U.stateNode,Nn=!1;break e;case 3:dr=U.stateNode.containerInfo,Nn=!0;break e;case 4:dr=U.stateNode.containerInfo,Nn=!0;break e}U=U.return}if(dr===null)throw Error(r(160));OS(w,M,b),dr=null,Nn=!1;var W=b.alternate;W!==null&&(W.return=null),b.return=null}catch(te){Dt(b,l,te)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)NS(l,a),l=l.sibling}function NS(a,l){var d=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(jn(l,a),ui(a),y&4){try{uc(3,a,a.return),th(3,a)}catch(Ae){Dt(a,a.return,Ae)}try{uc(5,a,a.return)}catch(Ae){Dt(a,a.return,Ae)}}break;case 1:jn(l,a),ui(a),y&512&&d!==null&&sl(d,d.return);break;case 5:if(jn(l,a),ui(a),y&512&&d!==null&&sl(d,d.return),a.flags&32){var b=a.stateNode;try{ga(b,"")}catch(Ae){Dt(a,a.return,Ae)}}if(y&4&&(b=a.stateNode,b!=null)){var w=a.memoizedProps,M=d!==null?d.memoizedProps:w,U=a.type,W=a.updateQueue;if(a.updateQueue=null,W!==null)try{U==="input"&&w.type==="radio"&&w.name!=null&&yt(b,w),Is(U,M);var te=Is(U,w);for(M=0;M<W.length;M+=2){var de=W[M],me=W[M+1];de==="style"?Ps(b,me):de==="dangerouslySetInnerHTML"?od(b,me):de==="children"?ga(b,me):k(b,de,me,te)}switch(U){case"input":jt(b,w);break;case"textarea":ma(b,w);break;case"select":var ue=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!w.multiple;var be=w.value;be!=null?Gt(b,!!w.multiple,be,!1):ue!==!!w.multiple&&(w.defaultValue!=null?Gt(b,!!w.multiple,w.defaultValue,!0):Gt(b,!!w.multiple,w.multiple?[]:"",!1))}b[Ju]=w}catch(Ae){Dt(a,a.return,Ae)}}break;case 6:if(jn(l,a),ui(a),y&4){if(a.stateNode===null)throw Error(r(162));b=a.stateNode,w=a.memoizedProps;try{b.nodeValue=w}catch(Ae){Dt(a,a.return,Ae)}}break;case 3:if(jn(l,a),ui(a),y&4&&d!==null&&d.memoizedState.isDehydrated)try{Ao(l.containerInfo)}catch(Ae){Dt(a,a.return,Ae)}break;case 4:jn(l,a),ui(a);break;case 13:jn(l,a),ui(a),b=a.child,b.flags&8192&&(w=b.memoizedState!==null,b.stateNode.isHidden=w,!w||b.alternate!==null&&b.alternate.memoizedState!==null||(by=_t())),y&4&&kS(a);break;case 22:if(de=d!==null&&d.memoizedState!==null,a.mode&1?(Tr=(te=Tr)||de,jn(l,a),Tr=te):jn(l,a),ui(a),y&8192){if(te=a.memoizedState!==null,(a.stateNode.isHidden=te)&&!de&&(a.mode&1)!==0)for(Ee=a,de=a.child;de!==null;){for(me=Ee=de;Ee!==null;){switch(ue=Ee,be=ue.child,ue.tag){case 0:case 11:case 14:case 15:uc(4,ue,ue.return);break;case 1:sl(ue,ue.return);var Se=ue.stateNode;if(typeof Se.componentWillUnmount=="function"){y=ue,d=ue.return;try{l=y,Se.props=l.memoizedProps,Se.state=l.memoizedState,Se.componentWillUnmount()}catch(Ae){Dt(y,d,Ae)}}break;case 5:sl(ue,ue.return);break;case 22:if(ue.memoizedState!==null){DS(me);continue}}be!==null?(be.return=ue,Ee=be):DS(me)}de=de.sibling}e:for(de=null,me=a;;){if(me.tag===5){if(de===null){de=me;try{b=me.stateNode,te?(w=b.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(U=me.stateNode,W=me.memoizedProps.style,M=W!=null&&W.hasOwnProperty("display")?W.display:null,U.style.display=yo("display",M))}catch(Ae){Dt(a,a.return,Ae)}}}else if(me.tag===6){if(de===null)try{me.stateNode.nodeValue=te?"":me.memoizedProps}catch(Ae){Dt(a,a.return,Ae)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===a)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===a)break e;for(;me.sibling===null;){if(me.return===null||me.return===a)break e;de===me&&(de=null),me=me.return}de===me&&(de=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:jn(l,a),ui(a),y&4&&kS(a);break;case 21:break;default:jn(l,a),ui(a)}}function ui(a){var l=a.flags;if(l&2){try{e:{for(var d=a.return;d!==null;){if(IS(d)){var y=d;break e}d=d.return}throw Error(r(160))}switch(y.tag){case 5:var b=y.stateNode;y.flags&32&&(ga(b,""),y.flags&=-33);var w=CS(a);yy(a,w,b);break;case 3:case 4:var M=y.stateNode.containerInfo,U=CS(a);gy(a,U,M);break;default:throw Error(r(161))}}catch(W){Dt(a,a.return,W)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function X3(a,l,d){Ee=a,jS(a)}function jS(a,l,d){for(var y=(a.mode&1)!==0;Ee!==null;){var b=Ee,w=b.child;if(b.tag===22&&y){var M=b.memoizedState!==null||eh;if(!M){var U=b.alternate,W=U!==null&&U.memoizedState!==null||Tr;U=eh;var te=Tr;if(eh=M,(Tr=W)&&!te)for(Ee=b;Ee!==null;)M=Ee,W=M.child,M.tag===22&&M.memoizedState!==null?MS(b):W!==null?(W.return=M,Ee=W):MS(b);for(;w!==null;)Ee=w,jS(w),w=w.sibling;Ee=b,eh=U,Tr=te}RS(a)}else(b.subtreeFlags&8772)!==0&&w!==null?(w.return=b,Ee=w):RS(a)}}function RS(a){for(;Ee!==null;){var l=Ee;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Tr||th(5,l);break;case 1:var y=l.stateNode;if(l.flags&4&&!Tr)if(d===null)y.componentDidMount();else{var b=l.elementType===l.type?d.memoizedProps:kn(l.type,d.memoizedProps);y.componentDidUpdate(b,d.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&DT(l,w,y);break;case 3:var M=l.updateQueue;if(M!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}DT(l,M,d)}break;case 5:var U=l.stateNode;if(d===null&&l.flags&4){d=U;var W=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&d.focus();break;case"img":W.src&&(d.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var te=l.alternate;if(te!==null){var de=te.memoizedState;if(de!==null){var me=de.dehydrated;me!==null&&Ao(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Tr||l.flags&512&&my(l)}catch(ue){Dt(l,l.return,ue)}}if(l===a){Ee=null;break}if(d=l.sibling,d!==null){d.return=l.return,Ee=d;break}Ee=l.return}}function DS(a){for(;Ee!==null;){var l=Ee;if(l===a){Ee=null;break}var d=l.sibling;if(d!==null){d.return=l.return,Ee=d;break}Ee=l.return}}function MS(a){for(;Ee!==null;){var l=Ee;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{th(4,l)}catch(W){Dt(l,d,W)}break;case 1:var y=l.stateNode;if(typeof y.componentDidMount=="function"){var b=l.return;try{y.componentDidMount()}catch(W){Dt(l,b,W)}}var w=l.return;try{my(l)}catch(W){Dt(l,w,W)}break;case 5:var M=l.return;try{my(l)}catch(W){Dt(l,M,W)}}}catch(W){Dt(l,l.return,W)}if(l===a){Ee=null;break}var U=l.sibling;if(U!==null){U.return=l.return,Ee=U;break}Ee=l.return}}var Q3=Math.ceil,rh=R.ReactCurrentDispatcher,vy=R.ReactCurrentOwner,pn=R.ReactCurrentBatchConfig,Ze=0,ir=null,Ut=null,hr=0,rn=0,ll=ko(0),Yt=0,cc=null,La=0,nh=0,xy=0,fc=null,Vr=null,by=0,ul=1/0,zi=null,ih=!1,_y=null,Lo=null,oh=!1,$o=null,ah=0,dc=0,wy=null,sh=-1,lh=0;function jr(){return(Ze&6)!==0?_t():sh!==-1?sh:sh=_t()}function Vo(a){return(a.mode&1)===0?1:(Ze&2)!==0&&hr!==0?hr&-hr:R3.transition!==null?(lh===0&&(lh=ju()),lh):(a=Qe,a!==0||(a=window.event,a=a===void 0?16:$s(a.type)),a)}function Rn(a,l,d,y){if(50<dc)throw dc=0,wy=null,Error(r(185));Sa(a,d,y),((Ze&2)===0||a!==ir)&&(a===ir&&((Ze&2)===0&&(nh|=d),Yt===4&&Bo(a,hr)),Br(a,y),d===1&&Ze===0&&(l.mode&1)===0&&(ul=_t()+500,Md&&jo()))}function Br(a,l){var d=a.callbackNode;Ta(a,l);var y=ki(a,a===ir?hr:0);if(y===0)d!==null&&ks(d),a.callbackNode=null,a.callbackPriority=0;else if(l=y&-y,a.callbackPriority!==l){if(d!=null&&ks(d),l===1)a.tag===0?j3($S.bind(null,a)):ET($S.bind(null,a)),C3(function(){(Ze&6)===0&&jo()}),d=null;else{switch(Xn(y)){case 1:d=Ns;break;case 4:d=Ou;break;case 16:d=ba;break;case 536870912:d=js;break;default:d=ba}d=HS(d,LS.bind(null,a))}a.callbackPriority=l,a.callbackNode=d}}function LS(a,l){if(sh=-1,lh=0,(Ze&6)!==0)throw Error(r(327));var d=a.callbackNode;if(cl()&&a.callbackNode!==d)return null;var y=ki(a,a===ir?hr:0);if(y===0)return null;if((y&30)!==0||(y&a.expiredLanes)!==0||l)l=uh(a,y);else{l=y;var b=Ze;Ze|=2;var w=BS();(ir!==a||hr!==l)&&(zi=null,ul=_t()+500,Va(a,l));do try{e$();break}catch(U){VS(a,U)}while(!0);Bg(),rh.current=w,Ze=b,Ut!==null?l=0:(ir=null,hr=0,l=Yt)}if(l!==0){if(l===2&&(b=Nu(a),b!==0&&(y=b,l=Ey(a,b))),l===1)throw d=cc,Va(a,0),Bo(a,y),Br(a,_t()),d;if(l===6)Bo(a,y);else{if(b=a.current.alternate,(y&30)===0&&!J3(b)&&(l=uh(a,y),l===2&&(w=Nu(a),w!==0&&(y=w,l=Ey(a,w))),l===1))throw d=cc,Va(a,0),Bo(a,y),Br(a,_t()),d;switch(a.finishedWork=b,a.finishedLanes=y,l){case 0:case 1:throw Error(r(345));case 2:Ba(a,Vr,zi);break;case 3:if(Bo(a,y),(y&130023424)===y&&(l=by+500-_t(),10<l)){if(ki(a,0)!==0)break;if(b=a.suspendedLanes,(b&y)!==y){jr(),a.pingedLanes|=a.suspendedLanes&b;break}a.timeoutHandle=Cg(Ba.bind(null,a,Vr,zi),l);break}Ba(a,Vr,zi);break;case 4:if(Bo(a,y),(y&4194240)===y)break;for(l=a.eventTimes,b=-1;0<y;){var M=31-Yr(y);w=1<<M,M=l[M],M>b&&(b=M),y&=~w}if(y=b,y=_t()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*Q3(y/1960))-y,10<y){a.timeoutHandle=Cg(Ba.bind(null,a,Vr,zi),y);break}Ba(a,Vr,zi);break;case 5:Ba(a,Vr,zi);break;default:throw Error(r(329))}}}return Br(a,_t()),a.callbackNode===d?LS.bind(null,a):null}function Ey(a,l){var d=fc;return a.current.memoizedState.isDehydrated&&(Va(a,l).flags|=256),a=uh(a,l),a!==2&&(l=Vr,Vr=d,l!==null&&Ty(l)),a}function Ty(a){Vr===null?Vr=a:Vr.push.apply(Vr,a)}function J3(a){for(var l=a;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var y=0;y<d.length;y++){var b=d[y],w=b.getSnapshot;b=b.value;try{if(!Cn(w(),b))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Bo(a,l){for(l&=~xy,l&=~nh,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var d=31-Yr(l),y=1<<d;a[d]=-1,l&=~y}}function $S(a){if((Ze&6)!==0)throw Error(r(327));cl();var l=ki(a,0);if((l&1)===0)return Br(a,_t()),null;var d=uh(a,l);if(a.tag!==0&&d===2){var y=Nu(a);y!==0&&(l=y,d=Ey(a,y))}if(d===1)throw d=cc,Va(a,0),Bo(a,l),Br(a,_t()),d;if(d===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Ba(a,Vr,zi),Br(a,_t()),null}function Sy(a,l){var d=Ze;Ze|=1;try{return a(l)}finally{Ze=d,Ze===0&&(ul=_t()+500,Md&&jo())}}function $a(a){$o!==null&&$o.tag===0&&(Ze&6)===0&&cl();var l=Ze;Ze|=1;var d=pn.transition,y=Qe;try{if(pn.transition=null,Qe=1,a)return a()}finally{Qe=y,pn.transition=d,Ze=l,(Ze&6)===0&&jo()}}function Ay(){rn=ll.current,Et(ll)}function Va(a,l){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,I3(d)),Ut!==null)for(d=Ut.return;d!==null;){var y=d;switch(Dg(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Rd();break;case 3:ol(),Et(Mr),Et(_r),Kg();break;case 5:Hg(y);break;case 4:ol();break;case 13:Et(Ot);break;case 19:Et(Ot);break;case 10:Fg(y.type._context);break;case 22:case 23:Ay()}d=d.return}if(ir=a,Ut=a=Fo(a.current,null),hr=rn=l,Yt=0,cc=null,xy=nh=La=0,Vr=fc=null,Ra!==null){for(l=0;l<Ra.length;l++)if(d=Ra[l],y=d.interleaved,y!==null){d.interleaved=null;var b=y.next,w=d.pending;if(w!==null){var M=w.next;w.next=b,y.next=M}d.pending=y}Ra=null}return a}function VS(a,l){do{var d=Ut;try{if(Bg(),Hd.current=Xd,Gd){for(var y=kt.memoizedState;y!==null;){var b=y.queue;b!==null&&(b.pending=null),y=y.next}Gd=!1}if(Ma=0,nr=Kt=kt=null,ic=!1,oc=0,vy.current=null,d===null||d.return===null){Yt=1,cc=l,Ut=null;break}e:{var w=a,M=d.return,U=d,W=l;if(l=hr,U.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var te=W,de=U,me=de.tag;if((de.mode&1)===0&&(me===0||me===11||me===15)){var ue=de.alternate;ue?(de.updateQueue=ue.updateQueue,de.memoizedState=ue.memoizedState,de.lanes=ue.lanes):(de.updateQueue=null,de.memoizedState=null)}var be=cS(M);if(be!==null){be.flags&=-257,fS(be,M,U,w,l),be.mode&1&&uS(w,te,l),l=be,W=te;var Se=l.updateQueue;if(Se===null){var Ae=new Set;Ae.add(W),l.updateQueue=Ae}else Se.add(W);break e}else{if((l&1)===0){uS(w,te,l),Py();break e}W=Error(r(426))}}else if(It&&U.mode&1){var $t=cS(M);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),fS($t,M,U,w,l),$g(al(W,U));break e}}w=W=al(W,U),Yt!==4&&(Yt=2),fc===null?fc=[w]:fc.push(w),w=M;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var Y=sS(w,W,l);RT(w,Y);break e;case 1:U=W;var H=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Lo===null||!Lo.has(J)))){w.flags|=65536,l&=-l,w.lanes|=l;var ye=lS(w,U,l);RT(w,ye);break e}}w=w.return}while(w!==null)}US(d)}catch(Pe){l=Pe,Ut===d&&d!==null&&(Ut=d=d.return);continue}break}while(!0)}function BS(){var a=rh.current;return rh.current=Xd,a===null?Xd:a}function Py(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),ir===null||(La&268435455)===0&&(nh&268435455)===0||Bo(ir,hr)}function uh(a,l){var d=Ze;Ze|=2;var y=BS();(ir!==a||hr!==l)&&(zi=null,Va(a,l));do try{Z3();break}catch(b){VS(a,b)}while(!0);if(Bg(),Ze=d,rh.current=y,Ut!==null)throw Error(r(261));return ir=null,hr=0,Yt}function Z3(){for(;Ut!==null;)FS(Ut)}function e$(){for(;Ut!==null&&!xa();)FS(Ut)}function FS(a){var l=WS(a.alternate,a,rn);a.memoizedProps=a.pendingProps,l===null?US(a):Ut=l,vy.current=null}function US(a){var l=a;do{var d=l.alternate;if(a=l.return,(l.flags&32768)===0){if(d=H3(d,l,rn),d!==null){Ut=d;return}}else{if(d=G3(d,l),d!==null){d.flags&=32767,Ut=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Yt=6,Ut=null;return}}if(l=l.sibling,l!==null){Ut=l;return}Ut=l=a}while(l!==null);Yt===0&&(Yt=5)}function Ba(a,l,d){var y=Qe,b=pn.transition;try{pn.transition=null,Qe=1,t$(a,l,d,y)}finally{pn.transition=b,Qe=y}return null}function t$(a,l,d,y){do cl();while($o!==null);if((Ze&6)!==0)throw Error(r(327));d=a.finishedWork;var b=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var w=d.lanes|d.childLanes;if(hg(a,w),a===ir&&(Ut=ir=null,hr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||oh||(oh=!0,HS(ba,function(){return cl(),null})),w=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||w){w=pn.transition,pn.transition=null;var M=Qe;Qe=1;var U=Ze;Ze|=4,vy.current=null,Y3(a,d),NS(d,a),_3(Pg),Ri=!!Ag,Pg=Ag=null,a.current=d,X3(d),Oi(),Ze=U,Qe=M,pn.transition=w}else a.current=d;if(oh&&(oh=!1,$o=a,ah=b),w=a.pendingLanes,w===0&&(Lo=null),gd(d.stateNode),Br(a,_t()),l!==null)for(y=a.onRecoverableError,d=0;d<l.length;d++)b=l[d],y(b.value,{componentStack:b.stack,digest:b.digest});if(ih)throw ih=!1,a=_y,_y=null,a;return(ah&1)!==0&&a.tag!==0&&cl(),w=a.pendingLanes,(w&1)!==0?a===wy?dc++:(dc=0,wy=a):dc=0,jo(),null}function cl(){if($o!==null){var a=Xn(ah),l=pn.transition,d=Qe;try{if(pn.transition=null,Qe=16>a?16:a,$o===null)var y=!1;else{if(a=$o,$o=null,ah=0,(Ze&6)!==0)throw Error(r(331));var b=Ze;for(Ze|=4,Ee=a.current;Ee!==null;){var w=Ee,M=w.child;if((Ee.flags&16)!==0){var U=w.deletions;if(U!==null){for(var W=0;W<U.length;W++){var te=U[W];for(Ee=te;Ee!==null;){var de=Ee;switch(de.tag){case 0:case 11:case 15:uc(8,de,w)}var me=de.child;if(me!==null)me.return=de,Ee=me;else for(;Ee!==null;){de=Ee;var ue=de.sibling,be=de.return;if(PS(de),de===te){Ee=null;break}if(ue!==null){ue.return=be,Ee=ue;break}Ee=be}}}var Se=w.alternate;if(Se!==null){var Ae=Se.child;if(Ae!==null){Se.child=null;do{var $t=Ae.sibling;Ae.sibling=null,Ae=$t}while(Ae!==null)}}Ee=w}}if((w.subtreeFlags&2064)!==0&&M!==null)M.return=w,Ee=M;else e:for(;Ee!==null;){if(w=Ee,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:uc(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,Ee=Y;break e}Ee=w.return}}var H=a.current;for(Ee=H;Ee!==null;){M=Ee;var J=M.child;if((M.subtreeFlags&2064)!==0&&J!==null)J.return=M,Ee=J;else e:for(M=H;Ee!==null;){if(U=Ee,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:th(9,U)}}catch(Pe){Dt(U,U.return,Pe)}if(U===M){Ee=null;break e}var ye=U.sibling;if(ye!==null){ye.return=U.return,Ee=ye;break e}Ee=U.return}}if(Ze=b,jo(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(_a,a)}catch{}y=!0}return y}finally{Qe=d,pn.transition=l}}return!1}function qS(a,l,d){l=al(d,l),l=sS(a,l,1),a=Do(a,l,1),l=jr(),a!==null&&(Sa(a,1,l),Br(a,l))}function Dt(a,l,d){if(a.tag===3)qS(a,a,d);else for(;l!==null;){if(l.tag===3){qS(l,a,d);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Lo===null||!Lo.has(y))){a=al(d,a),a=lS(l,a,1),l=Do(l,a,1),a=jr(),l!==null&&(Sa(l,1,a),Br(l,a));break}}l=l.return}}function r$(a,l,d){var y=a.pingCache;y!==null&&y.delete(l),l=jr(),a.pingedLanes|=a.suspendedLanes&d,ir===a&&(hr&d)===d&&(Yt===4||Yt===3&&(hr&130023424)===hr&&500>_t()-by?Va(a,0):xy|=d),Br(a,l)}function zS(a,l){l===0&&((a.mode&1)===0?l=1:(l=Eo,Eo<<=1,(Eo&130023424)===0&&(Eo=4194304)));var d=jr();a=Fi(a,l),a!==null&&(Sa(a,l,d),Br(a,d))}function n$(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),zS(a,d)}function i$(a,l){var d=0;switch(a.tag){case 13:var y=a.stateNode,b=a.memoizedState;b!==null&&(d=b.retryLane);break;case 19:y=a.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(l),zS(a,d)}var WS;WS=function(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps||Mr.current)$r=!0;else{if((a.lanes&d)===0&&(l.flags&128)===0)return $r=!1,W3(a,l,d);$r=(a.flags&131072)!==0}else $r=!1,It&&(l.flags&1048576)!==0&&TT(l,$d,l.index);switch(l.lanes=0,l.tag){case 2:var y=l.type;Zd(a,l),a=l.pendingProps;var b=Js(l,_r.current);il(l,d),b=Qg(null,l,y,a,b,d);var w=Jg();return l.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Lr(y)?(w=!0,Dd(l)):w=!1,l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,zg(l),b.updater=Qd,l.stateNode=b,b._reactInternals=l,iy(l,y,a,d),l=ly(null,l,y,!0,w,d)):(l.tag=0,It&&w&&Rg(l),Nr(null,l,b,d),l=l.child),l;case 16:y=l.elementType;e:{switch(Zd(a,l),a=l.pendingProps,b=y._init,y=b(y._payload),l.type=y,b=l.tag=a$(y),a=kn(y,a),b){case 0:l=sy(null,l,y,a,d);break e;case 1:l=yS(null,l,y,a,d);break e;case 11:l=dS(null,l,y,a,d);break e;case 14:l=hS(null,l,y,kn(y.type,a),d);break e}throw Error(r(306,y,""))}return l;case 0:return y=l.type,b=l.pendingProps,b=l.elementType===y?b:kn(y,b),sy(a,l,y,b,d);case 1:return y=l.type,b=l.pendingProps,b=l.elementType===y?b:kn(y,b),yS(a,l,y,b,d);case 3:e:{if(vS(l),a===null)throw Error(r(387));y=l.pendingProps,w=l.memoizedState,b=w.element,jT(a,l),zd(l,y,null,d);var M=l.memoizedState;if(y=M.element,w.isDehydrated)if(w={element:y,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){b=al(Error(r(423)),l),l=xS(a,l,y,d,b);break e}else if(y!==b){b=al(Error(r(424)),l),l=xS(a,l,y,d,b);break e}else for(tn=Oo(l.stateNode.containerInfo.firstChild),en=l,It=!0,On=null,d=kT(l,null,y,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(tl(),y===b){l=qi(a,l,d);break e}Nr(a,l,y,d)}l=l.child}return l;case 5:return MT(l),a===null&&Lg(l),y=l.type,b=l.pendingProps,w=a!==null?a.memoizedProps:null,M=b.children,Ig(y,b)?M=null:w!==null&&Ig(y,w)&&(l.flags|=32),gS(a,l),Nr(a,l,M,d),l.child;case 6:return a===null&&Lg(l),null;case 13:return bS(a,l,d);case 4:return Wg(l,l.stateNode.containerInfo),y=l.pendingProps,a===null?l.child=rl(l,null,y,d):Nr(a,l,y,d),l.child;case 11:return y=l.type,b=l.pendingProps,b=l.elementType===y?b:kn(y,b),dS(a,l,y,b,d);case 7:return Nr(a,l,l.pendingProps,d),l.child;case 8:return Nr(a,l,l.pendingProps.children,d),l.child;case 12:return Nr(a,l,l.pendingProps.children,d),l.child;case 10:e:{if(y=l.type._context,b=l.pendingProps,w=l.memoizedProps,M=b.value,xt(Fd,y._currentValue),y._currentValue=M,w!==null)if(Cn(w.value,M)){if(w.children===b.children&&!Mr.current){l=qi(a,l,d);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var U=w.dependencies;if(U!==null){M=w.child;for(var W=U.firstContext;W!==null;){if(W.context===y){if(w.tag===1){W=Ui(-1,d&-d),W.tag=2;var te=w.updateQueue;if(te!==null){te=te.shared;var de=te.pending;de===null?W.next=W:(W.next=de.next,de.next=W),te.pending=W}}w.lanes|=d,W=w.alternate,W!==null&&(W.lanes|=d),Ug(w.return,d,l),U.lanes|=d;break}W=W.next}}else if(w.tag===10)M=w.type===l.type?null:w.child;else if(w.tag===18){if(M=w.return,M===null)throw Error(r(341));M.lanes|=d,U=M.alternate,U!==null&&(U.lanes|=d),Ug(M,d,l),M=w.sibling}else M=w.child;if(M!==null)M.return=w;else for(M=w;M!==null;){if(M===l){M=null;break}if(w=M.sibling,w!==null){w.return=M.return,M=w;break}M=M.return}w=M}Nr(a,l,b.children,d),l=l.child}return l;case 9:return b=l.type,y=l.pendingProps.children,il(l,d),b=dn(b),y=y(b),l.flags|=1,Nr(a,l,y,d),l.child;case 14:return y=l.type,b=kn(y,l.pendingProps),b=kn(y.type,b),hS(a,l,y,b,d);case 15:return pS(a,l,l.type,l.pendingProps,d);case 17:return y=l.type,b=l.pendingProps,b=l.elementType===y?b:kn(y,b),Zd(a,l),l.tag=1,Lr(y)?(a=!0,Dd(l)):a=!1,il(l,d),oS(l,y,b),iy(l,y,b,d),ly(null,l,y,!0,a,d);case 19:return wS(a,l,d);case 22:return mS(a,l,d)}throw Error(r(156,l.tag))};function HS(a,l){return Cu(a,l)}function o$(a,l,d,y){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(a,l,d,y){return new o$(a,l,d,y)}function Iy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function a$(a){if(typeof a=="function")return Iy(a)?1:0;if(a!=null){if(a=a.$$typeof,a===V)return 11;if(a===ee)return 14}return 2}function Fo(a,l){var d=a.alternate;return d===null?(d=mn(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function ch(a,l,d,y,b,w){var M=2;if(y=a,typeof a=="function")Iy(a)&&(M=1);else if(typeof a=="string")M=5;else e:switch(a){case A:return Fa(d.children,b,w,l);case P:M=8,b|=8;break;case N:return a=mn(12,d,l,b|2),a.elementType=N,a.lanes=w,a;case $:return a=mn(13,d,l,b),a.elementType=$,a.lanes=w,a;case Z:return a=mn(19,d,l,b),a.elementType=Z,a.lanes=w,a;case se:return fh(d,b,w,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case B:M=10;break e;case L:M=9;break e;case V:M=11;break e;case ee:M=14;break e;case ae:M=16,y=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return l=mn(M,d,l,b),l.elementType=a,l.type=y,l.lanes=w,l}function Fa(a,l,d,y){return a=mn(7,a,y,l),a.lanes=d,a}function fh(a,l,d,y){return a=mn(22,a,y,l),a.elementType=se,a.lanes=d,a.stateNode={isHidden:!1},a}function Cy(a,l,d){return a=mn(6,a,null,l),a.lanes=d,a}function Oy(a,l,d){return l=mn(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function s$(a,l,d,y,b){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ru(0),this.expirationTimes=Ru(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ru(0),this.identifierPrefix=y,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function ky(a,l,d,y,b,w,M,U,W){return a=new s$(a,l,d,U,W),l===1?(l=1,w===!0&&(l|=8)):l=0,w=mn(3,null,null,l),a.current=w,w.stateNode=a,w.memoizedState={element:y,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},zg(w),a}function l$(a,l,d){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:y==null?null:""+y,children:a,containerInfo:l,implementation:d}}function GS(a){if(!a)return No;a=a._reactInternals;e:{if(Pn(a)!==a||a.tag!==1)throw Error(r(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Lr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(a.tag===1){var d=a.type;if(Lr(d))return _T(a,d,l)}return l}function KS(a,l,d,y,b,w,M,U,W){return a=ky(d,y,!0,a,b,w,M,U,W),a.context=GS(null),d=a.current,y=jr(),b=Vo(d),w=Ui(y,b),w.callback=l??null,Do(d,w,b),a.current.lanes=b,Sa(a,b,y),Br(a,y),a}function dh(a,l,d,y){var b=l.current,w=jr(),M=Vo(b);return d=GS(d),l.context===null?l.context=d:l.pendingContext=d,l=Ui(w,M),l.payload={element:a},y=y===void 0?null:y,y!==null&&(l.callback=y),a=Do(b,l,M),a!==null&&(Rn(a,b,M,w),qd(a,b,M)),M}function hh(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function YS(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function Ny(a,l){YS(a,l),(a=a.alternate)&&YS(a,l)}function u$(){return null}var XS=typeof reportError=="function"?reportError:function(a){console.error(a)};function jy(a){this._internalRoot=a}ph.prototype.render=jy.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));dh(a,l,null,null)},ph.prototype.unmount=jy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;$a(function(){dh(null,a,null,null)}),l[Li]=null}};function ph(a){this._internalRoot=a}ph.prototype.unstable_scheduleHydration=function(a){if(a){var l=$u();a={blockedOn:null,target:a,priority:l};for(var d=0;d<Xr.length&&l!==0&&l<Xr[d].priority;d++);Xr.splice(d,0,a),d===0&&Ms(a)}};function Ry(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function mh(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function QS(){}function c$(a,l,d,y,b){if(b){if(typeof y=="function"){var w=y;y=function(){var te=hh(M);w.call(te)}}var M=KS(l,y,a,0,null,!1,!1,"",QS);return a._reactRootContainer=M,a[Li]=M.current,Xu(a.nodeType===8?a.parentNode:a),$a(),M}for(;b=a.lastChild;)a.removeChild(b);if(typeof y=="function"){var U=y;y=function(){var te=hh(W);U.call(te)}}var W=ky(a,0,!1,null,null,!1,!1,"",QS);return a._reactRootContainer=W,a[Li]=W.current,Xu(a.nodeType===8?a.parentNode:a),$a(function(){dh(l,W,d,y)}),W}function gh(a,l,d,y,b){var w=d._reactRootContainer;if(w){var M=w;if(typeof b=="function"){var U=b;b=function(){var W=hh(M);U.call(W)}}dh(l,M,a,b)}else M=c$(d,l,a,b,y);return hh(M)}Mu=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var d=it(l.pendingLanes);d!==0&&(Du(l,d|1),Br(l,_t()),(Ze&6)===0&&(ul=_t()+500,jo()))}break;case 13:$a(function(){var y=Fi(a,1);if(y!==null){var b=jr();Rn(y,a,1,b)}}),Ny(a,1)}},Rs=function(a){if(a.tag===13){var l=Fi(a,134217728);if(l!==null){var d=jr();Rn(l,a,134217728,d)}Ny(a,134217728)}},Lu=function(a){if(a.tag===13){var l=Vo(a),d=Fi(a,l);if(d!==null){var y=jr();Rn(d,a,l,y)}Ny(a,l)}},$u=function(){return Qe},Vu=function(a,l){var d=Qe;try{return Qe=a,l()}finally{Qe=d}},Pi=function(a,l,d){switch(l){case"input":if(jt(a,d),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var y=d[l];if(y!==a&&y.form===a.form){var b=jd(y);if(!b)throw Error(r(90));ce(y),jt(y,b)}}}break;case"textarea":ma(a,d);break;case"select":l=d.value,l!=null&&Gt(a,!!d.multiple,l,!1)}},sd=Sy,ld=$a;var f$={usingClientEntryPoint:!1,Events:[Zu,Xs,jd,xo,bo,Sy]},hc={findFiberByHostInstance:Oa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d$={bundleType:hc.bundleType,version:hc.version,rendererPackageName:hc.rendererPackageName,rendererConfig:hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=md(a),a===null?null:a.stateNode},findFiberByHostInstance:hc.findFiberByHostInstance||u$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{_a=yh.inject(d$),Kr=yh}catch{}}return Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f$,Fr.createPortal=function(a,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ry(l))throw Error(r(200));return l$(a,l,null,d)},Fr.createRoot=function(a,l){if(!Ry(a))throw Error(r(299));var d=!1,y="",b=XS;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),l=ky(a,1,!1,null,null,d,!1,y,b),a[Li]=l.current,Xu(a.nodeType===8?a.parentNode:a),new jy(l)},Fr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=md(l),a=a===null?null:a.stateNode,a},Fr.flushSync=function(a){return $a(a)},Fr.hydrate=function(a,l,d){if(!mh(l))throw Error(r(200));return gh(null,a,l,!0,d)},Fr.hydrateRoot=function(a,l,d){if(!Ry(a))throw Error(r(405));var y=d!=null&&d.hydratedSources||null,b=!1,w="",M=XS;if(d!=null&&(d.unstable_strictMode===!0&&(b=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(M=d.onRecoverableError)),l=KS(l,null,a,1,d??null,b,!1,w,M),a[Li]=l.current,Xu(a),y)for(a=0;a<y.length;a++)d=y[a],b=d._getVersion,b=b(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,b]:l.mutableSourceEagerHydrationData.push(d,b);return new ph(l)},Fr.render=function(a,l,d){if(!mh(l))throw Error(r(200));return gh(null,a,l,!1,d)},Fr.unmountComponentAtNode=function(a){if(!mh(a))throw Error(r(40));return a._reactRootContainer?($a(function(){gh(null,null,a,!1,function(){a._reactRootContainer=null,a[Li]=null})}),!0):!1},Fr.unstable_batchedUpdates=Sy,Fr.unstable_renderSubtreeIntoContainer=function(a,l,d,y){if(!mh(d))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return gh(a,l,d,!1,y)},Fr.version="18.3.1-next-f1338f8080-20240426",Fr}var oA;function E2(){if(oA)return Ly.exports;oA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ly.exports=x$(),Ly.exports}var aA;function b$(){if(aA)return xh;aA=1;var t=E2();return xh.createRoot=t.createRoot,xh.hydrateRoot=t.hydrateRoot,xh}var _$=b$();const w$=ht(_$),T2=q.createContext(null);function Bt(){const t=q.useContext(T2);if(!t)throw new Error("useTripContext must be used within a TripContext.Provider");return t}const E$=()=>{};var sA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},T$=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[r++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[r++],s=t[r++],u=t[r++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const o=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},A2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|u>>4;let v=(u&15)<<2|f>>6,x=f&63;c||(x=64,s||(v=64)),n.push(r[h],r[p],r[v],r[x])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(S2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):T$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=r[t.charAt(i++)],u=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||p==null)throw new S$;const v=o<<2|u>>4;if(n.push(v),f!==64){const x=u<<4&240|f>>2;if(n.push(x),p!==64){const S=f<<6&192|p;n.push(S)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class S$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A$=function(t){const e=S2(t);return A2.encodeByteArray(e,!0)},Yh=function(t){return A$(t).replace(/\./g,"")},P2=function(t){try{return A2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=()=>P$().__FIREBASE_DEFAULTS__,C$=()=>{if(typeof process>"u"||typeof sA>"u")return;const t=sA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},O$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&P2(t[1]);return e&&JSON.parse(e)},hm=()=>{try{return E$()||I$()||C$()||O$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},I2=t=>{var e,r;return(r=(e=hm())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},k$=t=>{const e=I2(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},C2=()=>{var t;return(t=hm())==null?void 0:t.config},O2=t=>{var e;return(e=hm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function k2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Yh(JSON.stringify(r)),Yh(JSON.stringify(s)),""].join(".")}const Rc={};function R$(){const t={prod:[],emulator:[]};for(const e of Object.keys(Rc))Rc[e]?t.emulator.push(e):t.prod.push(e);return t}function D$(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let lA=!1;function N2(t,e){if(typeof window>"u"||typeof document>"u"||!uu(window.location.host)||Rc[t]===e||Rc[t]||lA)return;Rc[t]=e;function r(v){return`__firebase__banner__${v}`}const n="__firebase__banner",o=R$().prod.length>0;function s(){const v=document.getElementById(n);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,x){v.setAttribute("width","24"),v.setAttribute("id",x),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{lA=!0,s()},v}function h(v,x){v.setAttribute("id",x),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=D$(n),x=r("text"),S=document.getElementById(x)||document.createElement("span"),T=r("learnmore"),_=document.getElementById(T)||document.createElement("a"),O=r("preprendIcon"),D=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const k=v.element;u(k),h(_,T);const R=f();c(D,O),k.append(D,S,_,R),document.body.appendChild(k)}o?(S.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kr())}function L$(){var e;const t=(e=hm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function V$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function B$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F$(){const t=kr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function U$(){return!L$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q$(){try{return typeof indexedDB=="object"}catch{return!1}}function z$(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$="FirebaseError";class co extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=W$,Object.setPrototypeOf(this,co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bf.prototype.create)}}class Bf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?H$(o,n):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new co(i,u,n)}}function H$(t,e){return t.replace(G$,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const G$=/\{\$([^}]+)}/g;function K$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function as(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const o=t[i],s=e[i];if(uA(o)&&uA(s)){if(!as(o,s))return!1}else if(o!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function uA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Y$(t,e){const r=new X$(t,e);return r.subscribe.bind(r)}class X${constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Q$(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=By),i.error===void 0&&(i.error=By),i.complete===void 0&&(i.complete=By);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Q$(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function By(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t){return t&&t._delegate?t._delegate:t}class ss{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new N$;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eV(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);n===u&&s.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const o=this.instances.get(n);return o&&e(o,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Z$(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Z$(t){return t===qa?void 0:t}function eV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new J$(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const rV={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},nV=Ke.INFO,iV={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},oV=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=iV[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ww{constructor(e){this.name=e,this._logLevel=nV,this._logHandler=oV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const aV=(t,e)=>e.some(r=>t instanceof r);let cA,fA;function sV(){return cA||(cA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lV(){return fA||(fA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j2=new WeakMap,n_=new WeakMap,R2=new WeakMap,Fy=new WeakMap,Hw=new WeakMap;function uV(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{r(Qo(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&j2.set(r,t)}).catch(()=>{}),Hw.set(e,t),e}function cV(t){if(n_.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});n_.set(t,e)}let i_={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return n_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||R2.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Qo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fV(t){i_=t(i_)}function dV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Uy(this),e,...r);return R2.set(n,e.sort?e.sort():[e]),Qo(n)}:lV().includes(t)?function(...e){return t.apply(Uy(this),e),Qo(j2.get(this))}:function(...e){return Qo(t.apply(Uy(this),e))}}function hV(t){return typeof t=="function"?dV(t):(t instanceof IDBTransaction&&cV(t),aV(t,sV())?new Proxy(t,i_):t)}function Qo(t){if(t instanceof IDBRequest)return uV(t);if(Fy.has(t))return Fy.get(t);const e=hV(t);return e!==t&&(Fy.set(t,e),Hw.set(e,t)),e}const Uy=t=>Hw.get(t);function pV(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),u=Qo(s);return n&&s.addEventListener("upgradeneeded",c=>{n(Qo(s.result),c.oldVersion,c.newVersion,Qo(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const mV=["get","getKey","getAll","getAllKeys","count"],gV=["put","add","delete","clear"],qy=new Map;function dA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qy.get(e))return qy.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=gV.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||mV.includes(r)))return;const o=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return n&&(f=f.index(u.shift())),(await Promise.all([f[r](...u),i&&c.done]))[0]};return qy.set(e,o),o}fV(t=>({...t,get:(e,r,n)=>dA(e,r)||t.get(e,r,n),has:(e,r)=>!!dA(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(vV(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function vV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const o_="@firebase/app",hA="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new Ww("@firebase/app"),xV="@firebase/app-compat",bV="@firebase/analytics-compat",_V="@firebase/analytics",wV="@firebase/app-check-compat",EV="@firebase/app-check",TV="@firebase/auth",SV="@firebase/auth-compat",AV="@firebase/database",PV="@firebase/data-connect",IV="@firebase/database-compat",CV="@firebase/functions",OV="@firebase/functions-compat",kV="@firebase/installations",NV="@firebase/installations-compat",jV="@firebase/messaging",RV="@firebase/messaging-compat",DV="@firebase/performance",MV="@firebase/performance-compat",LV="@firebase/remote-config",$V="@firebase/remote-config-compat",VV="@firebase/storage",BV="@firebase/storage-compat",FV="@firebase/firestore",UV="@firebase/ai",qV="@firebase/firestore-compat",zV="firebase",WV="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="[DEFAULT]",HV={[o_]:"fire-core",[xV]:"fire-core-compat",[_V]:"fire-analytics",[bV]:"fire-analytics-compat",[EV]:"fire-app-check",[wV]:"fire-app-check-compat",[TV]:"fire-auth",[SV]:"fire-auth-compat",[AV]:"fire-rtdb",[PV]:"fire-data-connect",[IV]:"fire-rtdb-compat",[CV]:"fire-fn",[OV]:"fire-fn-compat",[kV]:"fire-iid",[NV]:"fire-iid-compat",[jV]:"fire-fcm",[RV]:"fire-fcm-compat",[DV]:"fire-perf",[MV]:"fire-perf-compat",[LV]:"fire-rc",[$V]:"fire-rc-compat",[VV]:"fire-gcs",[BV]:"fire-gcs-compat",[FV]:"fire-fst",[qV]:"fire-fst-compat",[UV]:"fire-vertex","fire-js":"fire-js",[zV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new Map,GV=new Map,s_=new Map;function pA(t,e){try{t.container.addComponent(e)}catch(r){no.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Rl(t){const e=t.name;if(s_.has(e))return no.debug(`There were multiple attempts to register component ${e}.`),!1;s_.set(e,t);for(const r of Xh.values())pA(r,t);for(const r of GV.values())pA(r,t);return!0}function Gw(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Ln(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jo=new Bf("app","Firebase",KV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=WV;function D2(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:a_,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Jo.create("bad-app-name",{appName:String(i)});if(r||(r=C2()),!r)throw Jo.create("no-options");const o=Xh.get(i);if(o){if(as(r,o.options)&&as(n,o.config))return o;throw Jo.create("duplicate-app",{appName:i})}const s=new tV(i);for(const c of s_.values())s.addComponent(c);const u=new YV(r,n,s);return Xh.set(i,u),u}function M2(t=a_){const e=Xh.get(t);if(!e&&t===a_&&C2())return D2();if(!e)throw Jo.create("no-app",{appName:t});return e}function Zo(t,e,r){let n=HV[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${n}" with version "${e}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),no.warn(s.join(" "));return}Rl(new ss(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="firebase-heartbeat-database",QV=1,Wc="firebase-heartbeat-store";let zy=null;function L2(){return zy||(zy=pV(XV,QV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wc)}catch(r){console.warn(r)}}}}).catch(t=>{throw Jo.create("idb-open",{originalErrorMessage:t.message})})),zy}async function JV(t){try{const r=(await L2()).transaction(Wc),n=await r.objectStore(Wc).get($2(t));return await r.done,n}catch(e){if(e instanceof co)no.warn(e.message);else{const r=Jo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});no.warn(r.message)}}}async function mA(t,e){try{const n=(await L2()).transaction(Wc,"readwrite");await n.objectStore(Wc).put(e,$2(t)),await n.done}catch(r){if(r instanceof co)no.warn(r.message);else{const n=Jo.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});no.warn(n.message)}}}function $2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=1024,e5=30;class t5{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new n5(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=gA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>e5){const s=i5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){no.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=gA(),{heartbeatsToSend:n,unsentEntries:i}=r5(this._heartbeatsCache.heartbeats),o=Yh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return no.warn(r),""}}}function gA(){return new Date().toISOString().substring(0,10)}function r5(t,e=ZV){const r=[];let n=t.slice();for(const i of t){const o=r.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),yA(r)>e){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),yA(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class n5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return q$()?z$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await JV(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return mA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return mA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function yA(t){return Yh(JSON.stringify({version:2,heartbeats:t})).length}function i5(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t){Rl(new ss("platform-logger",e=>new yV(e),"PRIVATE")),Rl(new ss("heartbeat",e=>new t5(e),"PRIVATE")),Zo(o_,hA,t),Zo(o_,hA,"esm2020"),Zo("fire-js","")}o5("");var vA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,V2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,P){function N(){}N.prototype=P.prototype,A.F=P.prototype,A.prototype=new N,A.prototype.constructor=A,A.D=function(B,L,V){for(var $=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)$[Z-2]=arguments[Z];return P.prototype[L].apply(B,$)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,P,N){N||(N=0);const B=Array(16);if(typeof P=="string")for(var L=0;L<16;++L)B[L]=P.charCodeAt(N++)|P.charCodeAt(N++)<<8|P.charCodeAt(N++)<<16|P.charCodeAt(N++)<<24;else for(L=0;L<16;++L)B[L]=P[N++]|P[N++]<<8|P[N++]<<16|P[N++]<<24;P=A.g[0],N=A.g[1],L=A.g[2];let V=A.g[3],$;$=P+(V^N&(L^V))+B[0]+3614090360&4294967295,P=N+($<<7&4294967295|$>>>25),$=V+(L^P&(N^L))+B[1]+3905402710&4294967295,V=P+($<<12&4294967295|$>>>20),$=L+(N^V&(P^N))+B[2]+606105819&4294967295,L=V+($<<17&4294967295|$>>>15),$=N+(P^L&(V^P))+B[3]+3250441966&4294967295,N=L+($<<22&4294967295|$>>>10),$=P+(V^N&(L^V))+B[4]+4118548399&4294967295,P=N+($<<7&4294967295|$>>>25),$=V+(L^P&(N^L))+B[5]+1200080426&4294967295,V=P+($<<12&4294967295|$>>>20),$=L+(N^V&(P^N))+B[6]+2821735955&4294967295,L=V+($<<17&4294967295|$>>>15),$=N+(P^L&(V^P))+B[7]+4249261313&4294967295,N=L+($<<22&4294967295|$>>>10),$=P+(V^N&(L^V))+B[8]+1770035416&4294967295,P=N+($<<7&4294967295|$>>>25),$=V+(L^P&(N^L))+B[9]+2336552879&4294967295,V=P+($<<12&4294967295|$>>>20),$=L+(N^V&(P^N))+B[10]+4294925233&4294967295,L=V+($<<17&4294967295|$>>>15),$=N+(P^L&(V^P))+B[11]+2304563134&4294967295,N=L+($<<22&4294967295|$>>>10),$=P+(V^N&(L^V))+B[12]+1804603682&4294967295,P=N+($<<7&4294967295|$>>>25),$=V+(L^P&(N^L))+B[13]+4254626195&4294967295,V=P+($<<12&4294967295|$>>>20),$=L+(N^V&(P^N))+B[14]+2792965006&4294967295,L=V+($<<17&4294967295|$>>>15),$=N+(P^L&(V^P))+B[15]+1236535329&4294967295,N=L+($<<22&4294967295|$>>>10),$=P+(L^V&(N^L))+B[1]+4129170786&4294967295,P=N+($<<5&4294967295|$>>>27),$=V+(N^L&(P^N))+B[6]+3225465664&4294967295,V=P+($<<9&4294967295|$>>>23),$=L+(P^N&(V^P))+B[11]+643717713&4294967295,L=V+($<<14&4294967295|$>>>18),$=N+(V^P&(L^V))+B[0]+3921069994&4294967295,N=L+($<<20&4294967295|$>>>12),$=P+(L^V&(N^L))+B[5]+3593408605&4294967295,P=N+($<<5&4294967295|$>>>27),$=V+(N^L&(P^N))+B[10]+38016083&4294967295,V=P+($<<9&4294967295|$>>>23),$=L+(P^N&(V^P))+B[15]+3634488961&4294967295,L=V+($<<14&4294967295|$>>>18),$=N+(V^P&(L^V))+B[4]+3889429448&4294967295,N=L+($<<20&4294967295|$>>>12),$=P+(L^V&(N^L))+B[9]+568446438&4294967295,P=N+($<<5&4294967295|$>>>27),$=V+(N^L&(P^N))+B[14]+3275163606&4294967295,V=P+($<<9&4294967295|$>>>23),$=L+(P^N&(V^P))+B[3]+4107603335&4294967295,L=V+($<<14&4294967295|$>>>18),$=N+(V^P&(L^V))+B[8]+1163531501&4294967295,N=L+($<<20&4294967295|$>>>12),$=P+(L^V&(N^L))+B[13]+2850285829&4294967295,P=N+($<<5&4294967295|$>>>27),$=V+(N^L&(P^N))+B[2]+4243563512&4294967295,V=P+($<<9&4294967295|$>>>23),$=L+(P^N&(V^P))+B[7]+1735328473&4294967295,L=V+($<<14&4294967295|$>>>18),$=N+(V^P&(L^V))+B[12]+2368359562&4294967295,N=L+($<<20&4294967295|$>>>12),$=P+(N^L^V)+B[5]+4294588738&4294967295,P=N+($<<4&4294967295|$>>>28),$=V+(P^N^L)+B[8]+2272392833&4294967295,V=P+($<<11&4294967295|$>>>21),$=L+(V^P^N)+B[11]+1839030562&4294967295,L=V+($<<16&4294967295|$>>>16),$=N+(L^V^P)+B[14]+4259657740&4294967295,N=L+($<<23&4294967295|$>>>9),$=P+(N^L^V)+B[1]+2763975236&4294967295,P=N+($<<4&4294967295|$>>>28),$=V+(P^N^L)+B[4]+1272893353&4294967295,V=P+($<<11&4294967295|$>>>21),$=L+(V^P^N)+B[7]+4139469664&4294967295,L=V+($<<16&4294967295|$>>>16),$=N+(L^V^P)+B[10]+3200236656&4294967295,N=L+($<<23&4294967295|$>>>9),$=P+(N^L^V)+B[13]+681279174&4294967295,P=N+($<<4&4294967295|$>>>28),$=V+(P^N^L)+B[0]+3936430074&4294967295,V=P+($<<11&4294967295|$>>>21),$=L+(V^P^N)+B[3]+3572445317&4294967295,L=V+($<<16&4294967295|$>>>16),$=N+(L^V^P)+B[6]+76029189&4294967295,N=L+($<<23&4294967295|$>>>9),$=P+(N^L^V)+B[9]+3654602809&4294967295,P=N+($<<4&4294967295|$>>>28),$=V+(P^N^L)+B[12]+3873151461&4294967295,V=P+($<<11&4294967295|$>>>21),$=L+(V^P^N)+B[15]+530742520&4294967295,L=V+($<<16&4294967295|$>>>16),$=N+(L^V^P)+B[2]+3299628645&4294967295,N=L+($<<23&4294967295|$>>>9),$=P+(L^(N|~V))+B[0]+4096336452&4294967295,P=N+($<<6&4294967295|$>>>26),$=V+(N^(P|~L))+B[7]+1126891415&4294967295,V=P+($<<10&4294967295|$>>>22),$=L+(P^(V|~N))+B[14]+2878612391&4294967295,L=V+($<<15&4294967295|$>>>17),$=N+(V^(L|~P))+B[5]+4237533241&4294967295,N=L+($<<21&4294967295|$>>>11),$=P+(L^(N|~V))+B[12]+1700485571&4294967295,P=N+($<<6&4294967295|$>>>26),$=V+(N^(P|~L))+B[3]+2399980690&4294967295,V=P+($<<10&4294967295|$>>>22),$=L+(P^(V|~N))+B[10]+4293915773&4294967295,L=V+($<<15&4294967295|$>>>17),$=N+(V^(L|~P))+B[1]+2240044497&4294967295,N=L+($<<21&4294967295|$>>>11),$=P+(L^(N|~V))+B[8]+1873313359&4294967295,P=N+($<<6&4294967295|$>>>26),$=V+(N^(P|~L))+B[15]+4264355552&4294967295,V=P+($<<10&4294967295|$>>>22),$=L+(P^(V|~N))+B[6]+2734768916&4294967295,L=V+($<<15&4294967295|$>>>17),$=N+(V^(L|~P))+B[13]+1309151649&4294967295,N=L+($<<21&4294967295|$>>>11),$=P+(L^(N|~V))+B[4]+4149444226&4294967295,P=N+($<<6&4294967295|$>>>26),$=V+(N^(P|~L))+B[11]+3174756917&4294967295,V=P+($<<10&4294967295|$>>>22),$=L+(P^(V|~N))+B[2]+718787259&4294967295,L=V+($<<15&4294967295|$>>>17),$=N+(V^(L|~P))+B[9]+3951481745&4294967295,A.g[0]=A.g[0]+P&4294967295,A.g[1]=A.g[1]+(L+($<<21&4294967295|$>>>11))&4294967295,A.g[2]=A.g[2]+L&4294967295,A.g[3]=A.g[3]+V&4294967295}n.prototype.v=function(A,P){P===void 0&&(P=A.length);const N=P-this.blockSize,B=this.C;let L=this.h,V=0;for(;V<P;){if(L==0)for(;V<=N;)i(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<P;)if(B[L++]=A.charCodeAt(V++),L==this.blockSize){i(this,B),L=0;break}}else for(;V<P;)if(B[L++]=A[V++],L==this.blockSize){i(this,B),L=0;break}}this.h=L,this.o+=P},n.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var P=1;P<A.length-8;++P)A[P]=0;P=this.o*8;for(var N=A.length-8;N<A.length;++N)A[N]=P&255,P/=256;for(this.v(A),A=Array(16),P=0,N=0;N<4;++N)for(let B=0;B<32;B+=8)A[P++]=this.g[N]>>>B&255;return A};function o(A,P){var N=u;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=P(A)}function s(A,P){this.h=P;const N=[];let B=!0;for(let L=A.length-1;L>=0;L--){const V=A[L]|0;B&&V==P||(N[L]=V,B=!1)}this.g=N}var u={};function c(A){return-128<=A&&A<128?o(A,function(P){return new s([P|0],P<0?-1:0)}):new s([A|0],A<0?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return p;if(A<0)return _(f(-A));const P=[];let N=1;for(let B=0;A>=N;B++)P[B]=A/N|0,N*=4294967296;return new s(P,0)}function h(A,P){if(A.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(A.charAt(0)=="-")return _(h(A.substring(1),P));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=f(Math.pow(P,8));let B=p;for(let V=0;V<A.length;V+=8){var L=Math.min(8,A.length-V);const $=parseInt(A.substring(V,V+L),P);L<8?(L=f(Math.pow(P,L)),B=B.j(L).add(f($))):(B=B.j(N),B=B.add(f($)))}return B}var p=c(0),v=c(1),x=c(16777216);t=s.prototype,t.m=function(){if(T(this))return-_(this).m();let A=0,P=1;for(let N=0;N<this.g.length;N++){const B=this.i(N);A+=(B>=0?B:4294967296+B)*P,P*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S(this))return"0";if(T(this))return"-"+_(this).toString(A);const P=f(Math.pow(A,6));var N=this;let B="";for(;;){const L=R(N,P).g;N=O(N,L.j(P));let V=((N.g.length>0?N.g[0]:N.h)>>>0).toString(A);if(N=L,S(N))return V+B;for(;V.length<6;)V="0"+V;B=V+B}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function S(A){if(A.h!=0)return!1;for(let P=0;P<A.g.length;P++)if(A.g[P]!=0)return!1;return!0}function T(A){return A.h==-1}t.l=function(A){return A=O(this,A),T(A)?-1:S(A)?0:1};function _(A){const P=A.g.length,N=[];for(let B=0;B<P;B++)N[B]=~A.g[B];return new s(N,~A.h).add(v)}t.abs=function(){return T(this)?_(this):this},t.add=function(A){const P=Math.max(this.g.length,A.g.length),N=[];let B=0;for(let L=0;L<=P;L++){let V=B+(this.i(L)&65535)+(A.i(L)&65535),$=(V>>>16)+(this.i(L)>>>16)+(A.i(L)>>>16);B=$>>>16,V&=65535,$&=65535,N[L]=$<<16|V}return new s(N,N[N.length-1]&-2147483648?-1:0)};function O(A,P){return A.add(_(P))}t.j=function(A){if(S(this)||S(A))return p;if(T(this))return T(A)?_(this).j(_(A)):_(_(this).j(A));if(T(A))return _(this.j(_(A)));if(this.l(x)<0&&A.l(x)<0)return f(this.m()*A.m());const P=this.g.length+A.g.length,N=[];for(var B=0;B<2*P;B++)N[B]=0;for(B=0;B<this.g.length;B++)for(let L=0;L<A.g.length;L++){const V=this.i(B)>>>16,$=this.i(B)&65535,Z=A.i(L)>>>16,ee=A.i(L)&65535;N[2*B+2*L]+=$*ee,D(N,2*B+2*L),N[2*B+2*L+1]+=V*ee,D(N,2*B+2*L+1),N[2*B+2*L+1]+=$*Z,D(N,2*B+2*L+1),N[2*B+2*L+2]+=V*Z,D(N,2*B+2*L+2)}for(A=0;A<P;A++)N[A]=N[2*A+1]<<16|N[2*A];for(A=P;A<2*P;A++)N[A]=0;return new s(N,0)};function D(A,P){for(;(A[P]&65535)!=A[P];)A[P+1]+=A[P]>>>16,A[P]&=65535,P++}function k(A,P){this.g=A,this.h=P}function R(A,P){if(S(P))throw Error("division by zero");if(S(A))return new k(p,p);if(T(A))return P=R(_(A),P),new k(_(P.g),_(P.h));if(T(P))return P=R(A,_(P)),new k(_(P.g),P.h);if(A.g.length>30){if(T(A)||T(P))throw Error("slowDivide_ only works with positive integers.");for(var N=v,B=P;B.l(A)<=0;)N=C(N),B=C(B);var L=j(N,1),V=j(B,1);for(B=j(B,2),N=j(N,2);!S(B);){var $=V.add(B);$.l(A)<=0&&(L=L.add(N),V=$),B=j(B,1),N=j(N,1)}return P=O(A,L.j(P)),new k(L,P)}for(L=p;A.l(P)>=0;){for(N=Math.max(1,Math.floor(A.m()/P.m())),B=Math.ceil(Math.log(N)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),V=f(N),$=V.j(P);T($)||$.l(A)>0;)N-=B,V=f(N),$=V.j(P);S(V)&&(V=v),L=L.add(V),A=O(A,$)}return new k(L,A)}t.B=function(A){return R(this,A).h},t.and=function(A){const P=Math.max(this.g.length,A.g.length),N=[];for(let B=0;B<P;B++)N[B]=this.i(B)&A.i(B);return new s(N,this.h&A.h)},t.or=function(A){const P=Math.max(this.g.length,A.g.length),N=[];for(let B=0;B<P;B++)N[B]=this.i(B)|A.i(B);return new s(N,this.h|A.h)},t.xor=function(A){const P=Math.max(this.g.length,A.g.length),N=[];for(let B=0;B<P;B++)N[B]=this.i(B)^A.i(B);return new s(N,this.h^A.h)};function C(A){const P=A.g.length+1,N=[];for(let B=0;B<P;B++)N[B]=A.i(B)<<1|A.i(B-1)>>>31;return new s(N,A.h)}function j(A,P){const N=P>>5;P%=32;const B=A.g.length-N,L=[];for(let V=0;V<B;V++)L[V]=P>0?A.i(V+N)>>>P|A.i(V+N+1)<<32-P:A.i(V+N);return new s(L,A.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,V2=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,ea=s}).apply(typeof vA<"u"?vA:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B2,Ac,F2,Vh,l_,U2,q2,z2;(function(){var t,e=Object.defineProperty;function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var E=0;E<m.length;++E){var I=m[E];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var n=r(this);function i(m,E){if(E)e:{var I=n;m=m.split(".");for(var F=0;F<m.length-1;F++){var X=m[F];if(!(X in I))break e;I=I[X]}m=m[m.length-1],F=I[m],E=E(F),E!=F&&E!=null&&e(I,m,{configurable:!0,writable:!0,value:E})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(E){var I=[],F;for(F in E)Object.prototype.hasOwnProperty.call(E,F)&&I.push([F,E[F]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function u(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function c(m,E,I){return m.call.apply(m.bind,arguments)}function f(m,E,I){return f=c,f.apply(null,arguments)}function h(m,E){var I=Array.prototype.slice.call(arguments,1);return function(){var F=I.slice();return F.push.apply(F,arguments),m.apply(this,F)}}function p(m,E){function I(){}I.prototype=E.prototype,m.Z=E.prototype,m.prototype=new I,m.prototype.constructor=m,m.Ob=function(F,X,re){for(var ve=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ve[Ue-2]=arguments[Ue];return E.prototype[X].apply(F,ve)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function x(m){const E=m.length;if(E>0){const I=Array(E);for(let F=0;F<E;F++)I[F]=m[F];return I}return[]}function S(m,E){for(let F=1;F<arguments.length;F++){const X=arguments[F];var I=typeof X;if(I=I!="object"?I:X?Array.isArray(X)?"array":I:"null",I=="array"||I=="object"&&typeof X.length=="number"){I=m.length||0;const re=X.length||0;m.length=I+re;for(let ve=0;ve<re;ve++)m[I+ve]=X[ve]}else m.push(X)}}class T{constructor(E,I){this.i=E,this.j=I,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function _(m){s.setTimeout(()=>{throw m},0)}function O(){var m=A;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class D{constructor(){this.h=this.g=null}add(E,I){const F=k.get();F.set(E,I),this.h?this.h.next=F:this.g=F,this.h=F}}var k=new T(()=>new R,m=>m.reset());class R{constructor(){this.next=this.g=this.h=null}set(E,I){this.h=E,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let C,j=!1,A=new D,P=()=>{const m=Promise.resolve(void 0);C=()=>{m.then(N)}};function N(){for(var m;m=O();){try{m.h.call(m.g)}catch(I){_(I)}var E=k;E.j(m),E.h<100&&(E.h++,m.next=E.g,E.g=m)}j=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const I=()=>{};s.addEventListener("test",I,E),s.removeEventListener("test",I,E)}catch{}return m})();function $(m){return/^[\s\xa0]*$/.test(m)}function Z(m,E){L.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,E)}p(Z,L),Z.prototype.init=function(m,E){const I=this.type=m.type,F=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget,E||(I=="mouseover"?E=m.fromElement:I=="mouseout"&&(E=m.toElement)),this.relatedTarget=E,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),ae=0;function se(m,E,I,F,X){this.listener=m,this.proxy=null,this.src=E,this.type=I,this.capture=!!F,this.ha=X,this.key=++ae,this.da=this.fa=!1}function Q(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ie(m,E,I){for(const F in m)E.call(I,m[F],F,m)}function ne(m,E){for(const I in m)E.call(void 0,m[I],I,m)}function z(m){const E={};for(const I in m)E[I]=m[I];return E}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(m,E){let I,F;for(let X=1;X<arguments.length;X++){F=arguments[X];for(I in F)m[I]=F[I];for(let re=0;re<G.length;re++)I=G[re],Object.prototype.hasOwnProperty.call(F,I)&&(m[I]=F[I])}}function _e(m){this.src=m,this.g={},this.h=0}_e.prototype.add=function(m,E,I,F,X){const re=m.toString();m=this.g[re],m||(m=this.g[re]=[],this.h++);const ve=Re(m,E,F,X);return ve>-1?(E=m[ve],I||(E.fa=!1)):(E=new se(E,this.src,re,!!F,X),E.fa=I,m.push(E)),E};function Ce(m,E){const I=E.type;if(I in m.g){var F=m.g[I],X=Array.prototype.indexOf.call(F,E,void 0),re;(re=X>=0)&&Array.prototype.splice.call(F,X,1),re&&(Q(E),m.g[I].length==0&&(delete m.g[I],m.h--))}}function Re(m,E,I,F){for(let X=0;X<m.length;++X){const re=m[X];if(!re.da&&re.listener==E&&re.capture==!!I&&re.ha==F)return X}return-1}var We="closure_lm_"+(Math.random()*1e6|0),Le={};function he(m,E,I,F,X){if(Array.isArray(E)){for(let re=0;re<E.length;re++)he(m,E[re],I,F,X);return null}return I=Dr(I),m&&m[ee]?m.J(E,I,u(F)?!!F.capture:!1,X):Oe(m,E,I,!1,F,X)}function Oe(m,E,I,F,X,re){if(!E)throw Error("Invalid event type");const ve=u(X)?!!X.capture:!!X;let Ue=yt(m);if(Ue||(m[We]=Ue=new _e(m)),I=Ue.add(E,I,F,ve,re),I.proxy)return I;if(F=Be(),I.proxy=F,F.src=m,F.listener=I,m.addEventListener)V||(X=ve),X===void 0&&(X=!1),m.addEventListener(E.toString(),F,X);else if(m.attachEvent)m.attachEvent(ze(E.toString()),F);else if(m.addListener&&m.removeListener)m.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Be(){function m(I){return E.call(m.src,m.listener,I)}const E=Pt;return m}function ce(m,E,I,F,X){if(Array.isArray(E))for(var re=0;re<E.length;re++)ce(m,E[re],I,F,X);else F=u(F)?!!F.capture:!!F,I=Dr(I),m&&m[ee]?(m=m.i,re=String(E).toString(),re in m.g&&(E=m.g[re],I=Re(E,I,F,X),I>-1&&(Q(E[I]),Array.prototype.splice.call(E,I,1),E.length==0&&(delete m.g[re],m.h--)))):m&&(m=yt(m))&&(E=m.g[E.toString()],m=-1,E&&(m=Re(E,I,F,X)),(I=m>-1?E[m]:null)&&nt(I))}function nt(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[ee])Ce(E.i,m);else{var I=m.type,F=m.proxy;E.removeEventListener?E.removeEventListener(I,F,m.capture):E.detachEvent?E.detachEvent(ze(I),F):E.addListener&&E.removeListener&&E.removeListener(F),(I=yt(E))?(Ce(I,m),I.h==0&&(I.src=null,E[We]=null)):Q(m)}}}function ze(m){return m in Le?Le[m]:Le[m]="on"+m}function Pt(m,E){if(m.da)m=!0;else{E=new Z(E,this);const I=m.listener,F=m.ha||m.src;m.fa&&nt(m),m=I.call(F,E)}return m}function yt(m){return m=m[We],m instanceof _e?m:null}var jt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Dr(m){return typeof m=="function"?m:(m[jt]||(m[jt]=function(E){return m.handleEvent(E)}),m[jt])}function pt(){B.call(this),this.i=new _e(this),this.M=this,this.G=null}p(pt,B),pt.prototype[ee]=!0,pt.prototype.removeEventListener=function(m,E,I,F){ce(this,m,E,I,F)};function vt(m,E){var I,F=m.G;if(F)for(I=[];F;F=F.G)I.push(F);if(m=m.M,F=E.type||E,typeof E=="string")E=new L(E,m);else if(E instanceof L)E.target=E.target||m;else{var X=E;E=new L(F,m),ge(E,X)}X=!0;let re,ve;if(I)for(ve=I.length-1;ve>=0;ve--)re=E.g=I[ve],X=Gt(re,F,!0,E)&&X;if(re=E.g=m,X=Gt(re,F,!0,E)&&X,X=Gt(re,F,!1,E)&&X,I)for(ve=0;ve<I.length;ve++)re=E.g=I[ve],X=Gt(re,F,!1,E)&&X}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var m=this.i;for(const E in m.g){const I=m.g[E];for(let F=0;F<I.length;F++)Q(I[F]);delete m.g[E],m.h--}}this.G=null},pt.prototype.J=function(m,E,I,F){return this.i.add(String(m),E,!1,I,F)},pt.prototype.K=function(m,E,I,F){return this.i.add(String(m),E,!0,I,F)};function Gt(m,E,I,F){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();let X=!0;for(let re=0;re<E.length;++re){const ve=E[re];if(ve&&!ve.da&&ve.capture==I){const Ue=ve.listener,Lt=ve.ha||ve.src;ve.fa&&Ce(m.i,ve),X=Ue.call(Lt,F)!==!1&&X}}return X&&!F.defaultPrevented}function Gr(m,E){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:s.setTimeout(m,E||0)}function Ai(m){m.g=Gr(()=>{m.g=null,m.i&&(m.i=!1,Ai(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class ma extends B{constructor(E,I){super(),this.m=E,this.l=I,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ai(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sn(m){B.call(this),this.h=m,this.g={}}p(Sn,B);var Tu=[];function As(m){ie(m.g,function(E,I){this.g.hasOwnProperty(I)&&nt(E)},m),m.g={}}Sn.prototype.N=function(){Sn.Z.N.call(this),As(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mo=s.JSON.stringify,od=s.JSON.parse,ga=class{stringify(m){return s.JSON.stringify(m,void 0)}parse(m){return s.JSON.parse(m,void 0)}};function go(){}function ad(){}var yo={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ps(){L.call(this,"d")}p(Ps,L);function Su(){L.call(this,"c")}p(Su,L);var An={},Is=null;function vo(){return Is=Is||new pt}An.Ia="serverreachability";function Cs(m){L.call(this,An.Ia,m)}p(Cs,L);function Pi(m){const E=vo();vt(E,new Cs(E))}An.STAT_EVENT="statevent";function Ii(m,E){L.call(this,An.STAT_EVENT,m),this.stat=E}p(Ii,L);function Rt(m){const E=vo();vt(E,new Ii(E,m))}An.Ja="timingevent";function Au(m,E){L.call(this,An.Ja,m),this.size=E}p(Au,L);function xo(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){m()},E)}function bo(){this.g=!0}bo.prototype.ua=function(){this.g=!1};function sd(m,E,I,F,X,re){m.info(function(){if(m.g)if(re){var ve="",Ue=re.split("&");for(let ft=0;ft<Ue.length;ft++){var Lt=Ue[ft].split("=");if(Lt.length>1){const Ft=Lt[0];Lt=Lt[1];const Zr=Ft.split("_");ve=Zr.length>=2&&Zr[1]=="type"?ve+(Ft+"="+Lt+"&"):ve+(Ft+"=redacted&")}}}else ve=null;else ve=re;return"XMLHTTP REQ ("+F+") [attempt "+X+"]: "+E+`
`+I+`
`+ve})}function ld(m,E,I,F,X,re,ve){m.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+X+"]: "+E+`
`+I+`
`+re+" "+ve})}function Hn(m,E,I,F){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+ya(m,I)+(F?" "+F:"")})}function ud(m,E){m.info(function(){return"TIMEOUT: "+E})}bo.prototype.info=function(){};function ya(m,E){if(!m.g)return E;if(!E)return null;try{const re=JSON.parse(E);if(re){for(m=0;m<re.length;m++)if(Array.isArray(re[m])){var I=re[m];if(!(I.length<2)){var F=I[1];if(Array.isArray(F)&&!(F.length<1)){var X=F[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ve=1;ve<F.length;ve++)F[ve]=""}}}}return mo(re)}catch{return E}}var _o={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},cd;function Ci(){}p(Ci,go),Ci.prototype.g=function(){return new XMLHttpRequest},cd=new Ci;function Gn(m){return encodeURIComponent(String(m))}function Os(m){var E=1;m=m.split(":");const I=[];for(;E>0&&m.length;)I.push(m.shift()),E--;return m.length&&I.push(m.join(":")),I}function ln(m,E,I,F){this.j=m,this.i=E,this.l=I,this.S=F||1,this.V=new Sn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fd}function fd(){this.i=null,this.g="",this.h=!1}var dd={},Pu={};function Pn(m,E,I){m.M=1,m.A=ki(un(E)),m.u=I,m.R=!0,Iu(m,null)}function Iu(m,E){m.F=Date.now(),va(m),m.B=un(m.A);var I=m.B,F=m.S;Array.isArray(F)||(F=[String(F)]),$u(I.i,"t",F),m.C=0,I=m.j.L,m.h=new fd,m.g=wd(m.j,I?E:null,!m.u),m.P>0&&(m.O=new ma(f(m.Y,m,m.g),m.P)),E=m.V,I=m.g,F=m.ba;var X="readystatechange";Array.isArray(X)||(X&&(Tu[0]=X.toString()),X=Tu);for(let re=0;re<X.length;re++){const ve=he(I,X[re],F||E.handleEvent,!1,E.h||E);if(!ve)break;E.g[ve.key]=ve}E=m.J?z(m.J):{},m.u?(m.v||(m.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,E)):(m.v="GET",m.g.ea(m.B,m.v,null,E)),Pi(),sd(m.i,m.v,m.B,m.l,m.S,m.u)}ln.prototype.ba=function(m){m=m.target;const E=this.O;E&&ei(m)==3?E.j():this.Y(m)},ln.prototype.Y=function(m){try{if(m==this.g)e:{const Ue=ei(this.g),Lt=this.g.ya(),ft=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||bd(this.g)))){this.K||Ue!=4||Lt==7||(Lt==8||ft<=0?Pi(3):Pi(2)),ks(this);var E=this.g.ca();this.X=E;var I=hd(this);if(this.o=E==200,ld(this.i,this.v,this.B,this.l,this.S,Ue,E),this.o){if(this.U&&!this.L){t:{if(this.g){var F,X=this.g;if((F=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(F)){var re=F;break t}}re=null}if(m=re)Hn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_t(this,m);else{this.o=!1,this.m=3,Rt(12),Oi(this),xa(this);break e}}if(this.R){m=!0;let Ft;for(;!this.K&&this.C<I.length;)if(Ft=md(this,I),Ft==Pu){Ue==4&&(this.m=4,Rt(14),m=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==dd){this.m=4,Rt(15),Hn(this.i,this.l,I,"[Invalid Chunk]"),m=!1;break}else Hn(this.i,this.l,Ft,null),_t(this,Ft);if(pd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||I.length!=0||this.h.h||(this.m=1,Rt(16),m=!1),this.o=this.o&&m,!m)Hn(this.i,this.l,I,"[Invalid Chunked Response]"),Oi(this),xa(this);else if(I.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),Ia(ve),ve.P=!0,Rt(11))}}else Hn(this.i,this.l,I,null),_t(this,I);Ue==4&&Oi(this),this.o&&!this.K&&(Ue==4?Fs(this.j,this):(this.o=!1,va(this)))}else Bu(this.g),E==400&&I.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),Oi(this),xa(this)}}}catch{}finally{}};function hd(m){if(!pd(m))return m.g.la();const E=bd(m.g);if(E==="")return"";let I="";const F=E.length,X=ei(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Oi(m),xa(m),"";m.h.i=new s.TextDecoder}for(let re=0;re<F;re++)m.h.h=!0,I+=m.h.i.decode(E[re],{stream:!(X&&re==F-1)});return E.length=0,m.h.g+=I,m.C=0,m.h.g}function pd(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function md(m,E){var I=m.C,F=E.indexOf(`
`,I);return F==-1?Pu:(I=Number(E.substring(I,F)),isNaN(I)?dd:(F+=1,F+I>E.length?Pu:(E=E.slice(F,F+I),m.C=F+I,E)))}ln.prototype.cancel=function(){this.K=!0,Oi(this)};function va(m){m.T=Date.now()+m.H,Cu(m,m.H)}function Cu(m,E){if(m.D!=null)throw Error("WatchDog timer not null");m.D=xo(f(m.aa,m),E)}function ks(m){m.D&&(s.clearTimeout(m.D),m.D=null)}ln.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ud(this.i,this.B),this.M!=2&&(Pi(),Rt(17)),Oi(this),this.m=2,xa(this)):Cu(this,this.T-m)};function xa(m){m.j.I==0||m.K||Fs(m.j,m)}function Oi(m){ks(m);var E=m.O;E&&typeof E.dispose=="function"&&E.dispose(),m.O=null,As(m.V),m.g&&(E=m.g,m.g=null,E.abort(),E.dispose())}function _t(m,E){try{var I=m.j;if(I.I!=0&&(I.g==m||ku(I.h,m))){if(!m.L&&ku(I.h,m)&&I.I==3){try{var F=I.Ba.g.parse(E)}catch{F=null}if(Array.isArray(F)&&F.length==3){var X=F;if(X[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<m.F)Bs(I),Qr(I);else break e;ni(I),Rt(18)}}else I.xa=X[1],0<I.xa-I.K&&X[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=xo(f(I.Va,I),6e3));ba(I.h)<=1&&I.ta&&(I.ta=void 0)}else Jr(I,11)}else if((m.L||I.g==m)&&Bs(I),!$(E))for(X=I.Ba.g.parse(E),E=0;E<X.length;E++){let ft=X[E];const Ft=ft[0];if(!(Ft<=I.K))if(I.K=Ft,ft=ft[1],I.I==2)if(ft[0]=="c"){I.M=ft[1],I.ba=ft[2];const Zr=ft[3];Zr!=null&&(I.ka=Zr,I.j.info("VER="+I.ka));const Mi=ft[4];Mi!=null&&(I.za=Mi,I.j.info("SVER="+I.za));const ii=ft[5];ii!=null&&typeof ii=="number"&&ii>0&&(F=1.5*ii,I.O=F,I.j.info("backChannelRequestTimeoutMs_="+F)),F=I;const oi=m.g;if(oi){const zs=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var re=F.h;re.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(js(re,re.h),re.h=null))}if(F.G){const qu=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;qu&&(F.wa=qu,it(F.J,F.G,qu))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-m.F,I.j.info("Handshake RTT: "+I.T+"ms")),F=I;var ve=m;if(F.na=Uu(F,F.L?F.ba:null,F.W),ve.L){_a(F.h,ve);var Ue=ve,Lt=F.O;Lt&&(Ue.H=Lt),Ue.D&&(ks(Ue),va(Ue)),F.g=ve}else br(F);I.i.length>0&&Di(I)}else ft[0]!="stop"&&ft[0]!="close"||Jr(I,7);else I.I==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?Jr(I,7):$s(I):ft[0]!="noop"&&I.l&&I.l.qa(ft),I.A=0)}}Pi(4)}catch{}}var dg=class{constructor(m,E){this.g=m,this.map=E}};function Ns(m){this.l=m||10,s.PerformanceNavigationTiming?(m=s.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ou(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ba(m){return m.h?1:m.g?m.g.size:0}function ku(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function js(m,E){m.g?m.g.add(E):m.h=E}function _a(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}Ns.prototype.cancel=function(){if(this.i=Kr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Kr(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const I of m.g.values())E=E.concat(I.G);return E}return x(m.i)}var gd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yr(m,E){if(m){m=m.split("&");for(let I=0;I<m.length;I++){const F=m[I].indexOf("=");let X,re=null;F>=0?(X=m[I].substring(0,F),re=m[I].substring(F+1)):X=m[I],E(X,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Kn(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;m instanceof Kn?(this.l=m.l,wa(this,m.j),this.o=m.o,this.g=m.g,Yn(this,m.u),this.h=m.h,Eo(this,Vu(m.i)),this.m=m.m):m&&(E=String(m).match(gd))?(this.l=!1,wa(this,E[1]||"",!0),this.o=Ea(E[2]||""),this.g=Ea(E[3]||"",!0),Yn(this,E[4]),this.h=Ea(E[5]||"",!0),Eo(this,E[6]||"",!0),this.m=Ea(E[7]||"")):(this.l=!1,this.i=new Qe(null,this.l))}Kn.prototype.toString=function(){const m=[];var E=this.j;E&&m.push(Ta(E,ju,!0),":");var I=this.g;return(I||E=="file")&&(m.push("//"),(E=this.o)&&m.push(Ta(E,ju,!0),"@"),m.push(Gn(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&m.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&m.push("/"),m.push(Ta(I,I.charAt(0)=="/"?Sa:Ru,!0))),(I=this.i.toString())&&m.push("?",I),(I=this.m)&&m.push("#",Ta(I,Du)),m.join("")},Kn.prototype.resolve=function(m){const E=un(this);let I=!!m.j;I?wa(E,m.j):I=!!m.o,I?E.o=m.o:I=!!m.g,I?E.g=m.g:I=m.u!=null;var F=m.h;if(I)Yn(E,m.u);else if(I=!!m.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var X=E.h.lastIndexOf("/");X!=-1&&(F=E.h.slice(0,X+1)+F)}if(X=F,X==".."||X==".")F="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){F=X.lastIndexOf("/",0)==0,X=X.split("/");const re=[];for(let ve=0;ve<X.length;){const Ue=X[ve++];Ue=="."?F&&ve==X.length&&re.push(""):Ue==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),F&&ve==X.length&&re.push("")):(re.push(Ue),F=!0)}F=re.join("/")}else F=X}return I?E.h=F:I=m.i.toString()!=="",I?Eo(E,Vu(m.i)):I=!!m.m,I&&(E.m=m.m),E};function un(m){return new Kn(m)}function wa(m,E,I){m.j=I?Ea(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function Yn(m,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);m.u=E}else m.u=null}function Eo(m,E,I){E instanceof Qe?(m.i=E,Ds(m.i,m.l)):(I||(E=Ta(E,hg)),m.i=new Qe(E,m.l))}function it(m,E,I){m.i.set(E,I)}function ki(m){return it(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Ea(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ta(m,E,I){return typeof m=="string"?(m=encodeURI(m).replace(E,Nu),I&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Nu(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var ju=/[#\/\?@]/g,Ru=/[#\?:]/g,Sa=/[#\?]/g,hg=/[#\?@]/g,Du=/#/g;function Qe(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function Xn(m){m.g||(m.g=new Map,m.h=0,m.i&&Yr(m.i,function(E,I){m.add(decodeURIComponent(E.replace(/\+/g," ")),I)}))}t=Qe.prototype,t.add=function(m,E){Xn(this),this.i=null,m=Qn(this,m);let I=this.g.get(m);return I||this.g.set(m,I=[]),I.push(E),this.h+=1,this};function Mu(m,E){Xn(m),E=Qn(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function Rs(m,E){return Xn(m),E=Qn(m,E),m.g.has(E)}t.forEach=function(m,E){Xn(this),this.g.forEach(function(I,F){I.forEach(function(X){m.call(E,X,F,this)},this)},this)};function Lu(m,E){Xn(m);let I=[];if(typeof E=="string")Rs(m,E)&&(I=I.concat(m.g.get(Qn(m,E))));else for(m=Array.from(m.g.values()),E=0;E<m.length;E++)I=I.concat(m[E]);return I}t.set=function(m,E){return Xn(this),this.i=null,m=Qn(this,m),Rs(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},t.get=function(m,E){return m?(m=Lu(this,m),m.length>0?String(m[0]):E):E};function $u(m,E,I){Mu(m,E),I.length>0&&(m.i=null,m.g.set(Qn(m,E),x(I)),m.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(let F=0;F<E.length;F++){var I=E[F];const X=Gn(I);I=Lu(this,I);for(let re=0;re<I.length;re++){let ve=X;I[re]!==""&&(ve+="="+Gn(I[re])),m.push(ve)}}return this.i=m.join("&")};function Vu(m){const E=new Qe;return E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),E}function Qn(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function Ds(m,E){E&&!m.j&&(Xn(m),m.i=null,m.g.forEach(function(I,F){const X=F.toLowerCase();F!=X&&(Mu(this,F),$u(this,X,I))},m)),m.j=E}function Jn(m,E){const I=new bo;if(s.Image){const F=new Image;F.onload=h(cr,I,"TestLoadImage: loaded",!0,E,F),F.onerror=h(cr,I,"TestLoadImage: error",!1,E,F),F.onabort=h(cr,I,"TestLoadImage: abort",!1,E,F),F.ontimeout=h(cr,I,"TestLoadImage: timeout",!1,E,F),s.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=m}else E(!1)}function Zn(m,E){const I=new bo,F=new AbortController,X=setTimeout(()=>{F.abort(),cr(I,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:F.signal}).then(re=>{clearTimeout(X),re.ok?cr(I,"TestPingServer: ok",!0,E):cr(I,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(X),cr(I,"TestPingServer: error",!1,E)})}function cr(m,E,I,F,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),F(I)}catch{}}function Aa(){this.g=new ga}function Ni(m){this.i=m.Sb||null,this.h=m.ab||!1}p(Ni,go),Ni.prototype.g=function(){return new Xr(this.i,this.h)};function Xr(m,E){pt.call(this),this.H=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Xr,pt),t=Xr.prototype,t.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=E,this.readyState=1,In(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(E.body=m),(this.H||s).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,To(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;yd(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function yd(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?To(this):In(this),this.readyState==3&&yd(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,To(this))},t.Na=function(m){this.g&&(this.response=m,To(this))},t.ga=function(){this.g&&To(this)};function To(m){m.readyState=4,m.l=null,m.j=null,m.B=null,In(m)}t.setRequestHeader=function(m,E){this.A.append(m,E)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var I=E.next();!I.done;)I=I.value,m.push(I[0]+": "+I[1]),I=E.next();return m.join(`\r
`)};function In(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function vd(m){let E="";return ie(m,function(I,F){E+=F,E+=":",E+=I,E+=`\r
`}),E}function Ms(m,E,I){e:{for(F in I){var F=!1;break e}F=!0}F||(I=vd(I),typeof m=="string"?I!=null&&Gn(I):it(m,E,I))}function mt(m){pt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(mt,pt);var xd=/^https?$/i,pg=["POST","PUT"];t=mt.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,E,I,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():cd.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(re){So(this,re);return}if(m=I||"",I=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var X in F)I.set(X,F[X]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const re of F.keys())I.set(re,F.get(re));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(I.keys()).find(re=>re.toLowerCase()=="content-type"),X=s.FormData&&m instanceof s.FormData,!(Array.prototype.indexOf.call(pg,E,void 0)>=0)||F||X||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ve]of I)this.g.setRequestHeader(re,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(re){So(this,re)}};function So(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.o=5,Ao(m),Ri(m)}function Ao(m){m.A||(m.A=!0,vt(m,"complete"),vt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,vt(this,"complete"),vt(this,"abort"),Ri(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ji(this):this.Xa())},t.Xa=function(){ji(this)};function ji(m){if(m.h&&typeof o<"u"){if(m.v&&ei(m)==4)setTimeout(m.Ca.bind(m),0);else if(vt(m,"readystatechange"),ei(m)==4){m.h=!1;try{const re=m.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var I;if(!(I=E)){var F;if(F=re===0){let ve=String(m.D).match(gd)[1]||null;!ve&&s.self&&s.self.location&&(ve=s.self.location.protocol.slice(0,-1)),F=!xd.test(ve?ve.toLowerCase():"")}I=F}if(I)vt(m,"complete"),vt(m,"success");else{m.o=6;try{var X=ei(m)>2?m.g.statusText:""}catch{X=""}m.l=X+" ["+m.ca()+"]",Ao(m)}}finally{Ri(m)}}}}function Ri(m,E){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const I=m.g;m.g=null,E||vt(m,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ei(m){return m.g?m.g.readyState:0}t.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),od(E)}};function bd(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Bu(m){const E={};m=(m.g&&ei(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<m.length;F++){if($(m[F]))continue;var I=Os(m[F]);const X=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const re=E[X]||[];E[X]=re,re.push(I)}ne(E,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ti(m,E,I){return I&&I.internalChannelParams&&I.internalChannelParams[m]||E}function Ls(m){this.za=0,this.i=[],this.j=new bo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ti("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ti("baseRetryDelayMs",5e3,m),this.Za=ti("retryDelaySeedMs",1e4,m),this.Ta=ti("forwardChannelMaxRetries",2,m),this.va=ti("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Ns(m&&m.concurrentRequestLimit),this.Ba=new Aa,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ls.prototype,t.ka=8,t.I=1,t.connect=function(m,E,I,F){Rt(0),this.W=m,this.H=E||{},I&&F!==void 0&&(this.H.OSID=I,this.H.OAID=F),this.F=this.X,this.J=Uu(this,null,this.W),Di(this)};function $s(m){if(Vs(m),m.I==3){var E=m.V++,I=un(m.J);if(it(I,"SID",m.M),it(I,"RID",E),it(I,"TYPE","terminate"),ri(m,I),E=new ln(m,m.j,E),E.M=2,E.A=ki(un(I)),I=!1,s.navigator&&s.navigator.sendBeacon)try{I=s.navigator.sendBeacon(E.A.toString(),"")}catch{}!I&&s.Image&&(new Image().src=E.A,I=!0),I||(E.g=wd(E.j,null),E.g.ea(E.A)),E.F=Date.now(),va(E)}Ca(m)}function Qr(m){m.g&&(Ia(m),m.g.cancel(),m.g=null)}function Vs(m){Qr(m),m.v&&(s.clearTimeout(m.v),m.v=null),Bs(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&s.clearTimeout(m.m),m.m=null)}function Di(m){if(!Ou(m.h)&&!m.m){m.m=!0;var E=m.Ea;C||P(),j||(C(),j=!0),A.add(E,m),m.D=0}}function _d(m,E){return ba(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=E.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=xo(f(m.Ea,m,E),Us(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const X=new ln(this,this.j,m);let re=this.o;if(this.U&&(re?(re=z(re),ge(re,this.U)):re=this.U),this.u!==null||this.R||(X.J=re,re=null),this.S)e:{for(var E=0,I=0;I<this.i.length;I++){t:{var F=this.i[I];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(E+=F,E>4096){E=I;break e}if(E===4096||I===this.i.length-1){E=I+1;break e}}E=1e3}else E=1e3;E=Fu(this,X,E),I=un(this.J),it(I,"RID",m),it(I,"CVER",22),this.G&&it(I,"X-HTTP-Session-Id",this.G),ri(this,I),re&&(this.R?E="headers="+Gn(vd(re))+"&"+E:this.u&&Ms(I,this.u,re)),js(this.h,X),this.Ra&&it(I,"TYPE","init"),this.S?(it(I,"$req",E),it(I,"SID","null"),X.U=!0,Pn(X,I,null)):Pn(X,I,E),this.I=2}}else this.I==3&&(m?Pa(this,m):this.i.length==0||Ou(this.h)||Pa(this))};function Pa(m,E){var I;E?I=E.l:I=m.V++;const F=un(m.J);it(F,"SID",m.M),it(F,"RID",I),it(F,"AID",m.K),ri(m,F),m.u&&m.o&&Ms(F,m.u,m.o),I=new ln(m,m.j,I,m.D+1),m.u===null&&(I.J=m.o),E&&(m.i=E.G.concat(m.i)),E=Fu(m,I,1e3),I.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),js(m.h,I),Pn(I,F,E)}function ri(m,E){m.H&&ie(m.H,function(I,F){it(E,F,I)}),m.l&&ie({},function(I,F){it(E,F,I)})}function Fu(m,E,I){I=Math.min(m.i.length,I);const F=m.l?f(m.l.Ka,m.l,m):null;e:{var X=m.i;let Ue=-1;for(;;){const Lt=["count="+I];Ue==-1?I>0?(Ue=X[0].g,Lt.push("ofs="+Ue)):Ue=0:Lt.push("ofs="+Ue);let ft=!0;for(let Ft=0;Ft<I;Ft++){var re=X[Ft].g;const Zr=X[Ft].map;if(re-=Ue,re<0)Ue=Math.max(0,X[Ft].g-100),ft=!1;else try{re="req"+re+"_"||"";try{var ve=Zr instanceof Map?Zr:Object.entries(Zr);for(const[Mi,ii]of ve){let oi=ii;u(ii)&&(oi=mo(ii)),Lt.push(re+Mi+"="+encodeURIComponent(oi))}}catch(Mi){throw Lt.push(re+"type="+encodeURIComponent("_badmap")),Mi}}catch{F&&F(Zr)}}if(ft){ve=Lt.join("&");break e}}ve=void 0}return m=m.i.splice(0,I),E.G=m,ve}function br(m){if(!m.g&&!m.v){m.Y=1;var E=m.Da;C||P(),j||(C(),j=!0),A.add(E,m),m.A=0}}function ni(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=xo(f(m.Da,m),Us(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,Po(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=xo(f(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),Qr(this),Po(this))};function Ia(m){m.B!=null&&(s.clearTimeout(m.B),m.B=null)}function Po(m){m.g=new ln(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var E=un(m.na);it(E,"RID","rpc"),it(E,"SID",m.M),it(E,"AID",m.K),it(E,"CI",m.F?"0":"1"),!m.F&&m.ia&&it(E,"TO",m.ia),it(E,"TYPE","xmlhttp"),ri(m,E),m.u&&m.o&&Ms(E,m.u,m.o),m.O&&(m.g.H=m.O);var I=m.g;m=m.ba,I.M=1,I.A=ki(un(E)),I.u=null,I.R=!0,Iu(I,m)}t.Va=function(){this.C!=null&&(this.C=null,Qr(this),ni(this),Rt(19))};function Bs(m){m.C!=null&&(s.clearTimeout(m.C),m.C=null)}function Fs(m,E){var I=null;if(m.g==E){Bs(m),Ia(m),m.g=null;var F=2}else if(ku(m.h,E))I=E.G,_a(m.h,E),F=1;else return;if(m.I!=0){if(E.o)if(F==1){I=E.u?E.u.length:0,E=Date.now()-E.F;var X=m.D;F=vo(),vt(F,new Au(F,I)),Di(m)}else br(m);else if(X=E.m,X==3||X==0&&E.X>0||!(F==1&&_d(m,E)||F==2&&ni(m)))switch(I&&I.length>0&&(E=m.h,E.i=E.i.concat(I)),X){case 1:Jr(m,5);break;case 4:Jr(m,10);break;case 3:Jr(m,6);break;default:Jr(m,2)}}}function Us(m,E){let I=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(I*=2),I*E}function Jr(m,E){if(m.j.info("Error code "+E),E==2){var I=f(m.bb,m),F=m.Ua;const X=!F;F=new Kn(F||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||wa(F,"https"),ki(F),X?Jn(F.toString(),I):Zn(F.toString(),I)}else Rt(2);m.I=0,m.l&&m.l.pa(E),Ca(m),Vs(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Ca(m){if(m.I=0,m.ja=[],m.l){const E=Kr(m.h);(E.length!=0||m.i.length!=0)&&(S(m.ja,E),S(m.ja,m.i),m.h.i.length=0,x(m.i),m.i.length=0),m.l.oa()}}function Uu(m,E,I){var F=I instanceof Kn?un(I):new Kn(I);if(F.g!="")E&&(F.g=E+"."+F.g),Yn(F,F.u);else{var X=s.location;F=X.protocol,E=E?E+"."+X.hostname:X.hostname,X=+X.port;const re=new Kn(null);F&&wa(re,F),E&&(re.g=E),X&&Yn(re,X),I&&(re.h=I),F=re}return I=m.G,E=m.wa,I&&E&&it(F,I,E),it(F,"VER",m.ka),ri(m,F),F}function wd(m,E,I){if(E&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Aa&&!m.ma?new mt(new Ni({ab:I})):new mt(m.ma),E.Fa(m.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ed(){}t=Ed.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function qs(){}qs.prototype.g=function(m,E){return new fr(m,E)};function fr(m,E){pt.call(this),this.g=new Ls(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(m?m["X-WebChannel-Client-Profile"]=E.sa:m={"X-WebChannel-Client-Profile":E.sa}),this.g.U=m,(m=E&&E.Qb)&&!$(m)&&(this.g.u=m),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!$(E)&&(this.g.G=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new Io(this)}p(fr,pt),fr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fr.prototype.close=function(){$s(this.g)},fr.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var I={};I.__data__=m,m=I}else this.v&&(I={},I.__data__=mo(m),m=I);E.i.push(new dg(E.Ya++,m)),E.I==3&&Di(E)},fr.prototype.N=function(){this.g.l=null,delete this.j,$s(this.g),delete this.g,fr.Z.N.call(this)};function Td(m){Ps.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const I in E){m=I;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}p(Td,Ps);function Sd(){Su.call(this),this.status=1}p(Sd,Su);function Io(m){this.g=m}p(Io,Ed),Io.prototype.ra=function(){vt(this.g,"a")},Io.prototype.qa=function(m){vt(this.g,new Td(m))},Io.prototype.pa=function(m){vt(this.g,new Sd)},Io.prototype.oa=function(){vt(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,fr.prototype.send=fr.prototype.o,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,z2=function(){return new qs},q2=function(){return vo()},U2=An,l_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_o.NO_ERROR=0,_o.TIMEOUT=8,_o.HTTP_ERROR=6,Vh=_o,wo.COMPLETE="complete",F2=wo,ad.EventType=yo,yo.OPEN="a",yo.CLOSE="b",yo.ERROR="c",yo.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Ac=ad,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,B2=mt}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pr.UNAUTHENTICATED=new Pr(null),Pr.GOOGLE_CREDENTIALS=new Pr("google-credentials-uid"),Pr.FIRST_PARTY=new Pr("first-party-uid"),Pr.MOCK_USER=new Pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu="12.9.0";function a5(t){fu=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new Ww("@firebase/firestore");function ml(){return ls.logLevel}function we(t,...e){if(ls.logLevel<=Ke.DEBUG){const r=e.map(Kw);ls.debug(`Firestore (${fu}): ${t}`,...r)}}function io(t,...e){if(ls.logLevel<=Ke.ERROR){const r=e.map(Kw);ls.error(`Firestore (${fu}): ${t}`,...r)}}function us(t,...e){if(ls.logLevel<=Ke.WARN){const r=e.map(Kw);ls.warn(`Firestore (${fu}): ${t}`,...r)}}function Kw(t){if(typeof t=="string")return t;try{return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,W2(t,n,r)}function W2(t,e,r){let n=`FIRESTORE (${fu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw io(n),new Error(n)}function ct(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||W2(e,i,n)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends co{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class s5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Pr.UNAUTHENTICATED)))}shutdown(){}}class l5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class u5{constructor(e){this.t=e,this.currentUser=Pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ct(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let o=new Za;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Za,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=o;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Za)}}),0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ct(typeof n.accessToken=="string",31837,{l:n}),new H2(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Pr(e)}}class c5{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Pr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class f5{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new c5(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(Pr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d5{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){ct(this.o===void 0,3512);const n=o=>{o.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,we("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>n(o)))};const i=o=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(ct(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new xA(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=h5(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<r&&(n+=e.charAt(i[o]%62))}return n}}function Ye(t,e){return t<e?-1:t>e?1:0}function u_(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),o=e.charAt(n);if(i!==o)return Wy(i)===Wy(o)?Ye(i,o):Wy(i)?1:-1}return Ye(t.length,e.length)}const p5=55296,m5=57343;function Wy(t){const e=t.charCodeAt(0);return e>=p5&&e<=m5}function Dl(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="__name__";class ci{constructor(e,r,n){r===void 0?r=0:r>e.length&&Me(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Me(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const o=ci.compareSegments(e.get(i),r.get(i));if(o!==0)return o}return Ye(e.length,r.length)}static compareSegments(e,r){const n=ci.isNumericId(e),i=ci.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?ci.extractNumericId(e).compare(ci.extractNumericId(r)):u_(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ea.fromString(e.substring(4,e.length-2))}}class St extends ci{construct(e,r,n){return new St(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ie(fe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new St(r)}static emptyPath(){return new St([])}}const g5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends ci{construct(e,r,n){return new gr(e,r,n)}static isValidIdentifier(e){return g5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bA}static keyField(){return new gr([bA])}static fromServerFormat(e){const r=[];let n="",i=0;const o=()=>{if(n.length===0)throw new Ie(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ie(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ie(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(n+=u,i++):(o(),i++)}if(o(),s)throw new Ie(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(r)}static emptyPath(){return new gr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(St.fromString(e))}static fromName(e){return new ke(St.fromString(e).popFirst(5))}static empty(){return new ke(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return St.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new St(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t,e,r){if(!r)throw new Ie(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function y5(t,e,r,n){if(e===!0&&n===!0)throw new Ie(fe.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function _A(t){if(!ke.isDocumentKey(t))throw new Ie(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wA(t){if(ke.isDocumentKey(t))throw new Ie(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function K2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Xw(t);throw new Ie(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,e){const r={typeString:t};return e&&(r.value=e),r}function Uf(t,e){if(!K2(t))throw new Ie(fe.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,o="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const s=t[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){r=`Expected '${n}' field to equal '${o.value}'`;break}}if(r)throw new Ie(fe.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=-62135596800,TA=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*TA);return new At(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<EA)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TA}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uf(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-EA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Wt("string",At._jsonSchemaVersion),seconds:Wt("number"),nanoseconds:Wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new At(0,0))}static max(){return new Fe(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=-1;function v5(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(n===1e9?new At(r+1,0):new At(r,n));return new na(i,ke.empty(),e)}function x5(t){return new na(t.readTime,t.key,Hc)}class na{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new na(Fe.min(),ke.empty(),Hc)}static max(){return new na(Fe.max(),ke.empty(),Hc)}}function b5(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ke.comparator(t.documentKey,e.documentKey),r!==0?r:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==_5)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new le(((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(r,o).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof le?r:le.resolve(r)}catch(r){return le.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):le.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):le.reject(r)}static resolve(e){return new le(((r,n)=>{r(e)}))}static reject(e){return new le(((r,n)=>{n(e)}))}static waitFor(e){return new le(((r,n)=>{let i=0,o=0,s=!1;e.forEach((u=>{++i,u.next((()=>{++o,s&&o===i&&r()}),(c=>n(c)))})),s=!0,o===i&&r()}))}static or(e){let r=le.resolve(!1);for(const n of e)r=r.next((i=>i?le.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,o)=>{n.push(r.call(this,i,o))})),this.waitFor(n)}static mapArray(e,r){return new le(((n,i)=>{const o=e.length,s=new Array(o);let u=0;for(let c=0;c<o;c++){const f=c;r(e[f]).next((h=>{s[f]=h,++u,u===o&&n(s)}),(h=>i(h)))}}))}static doWhile(e,r){return new le(((n,i)=>{const o=()=>{e()===!0?r().next((()=>{o()}),i):n()};o()}))}}function E5(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function hu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=-1;function mm(t){return t==null}function Qh(t){return t===0&&1/t==-1/0}function T5(t){return typeof t=="number"&&Number.isInteger(t)&&!Qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="";function S5(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=SA(e)),e=A5(t.get(r),e);return SA(e)}function A5(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const o=t.charAt(i);switch(o){case"\0":r+="";break;case Y2:r+="";break;default:r+=o}}return r}function SA(t){return t+Y2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ys(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function X2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,r){this.comparator=e,this.root=r||mr.EMPTY}insert(e,r){return new Nt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _h(this.root,e,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _h(this.root,e,this.comparator,!0)}}class _h{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?n(e.key,r):1,r&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,r,n,i,o){this.key=e,this.value=r,this.color=n??mr.RED,this.left=i??mr.EMPTY,this.right=o??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,o){return new mr(e??this.key,r??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,r,n),null):o===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return mr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,r,n,i,o){return this}insert(e,r,n){return new mr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new PA(this.data.getIterator())}getIteratorFrom(e){return new PA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new tr(this.comparator);return r.data=e,r}}class PA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new Vn([])}unionWith(e){let r=new tr(gr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Vn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Dl(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Q2("Invalid base64 string: "+o):o}})(e);return new xr(r)}static fromUint8Array(e){const r=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new xr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xr.EMPTY_BYTE_STRING=new xr("");const P5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const r=P5.exec(t);if(ct(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oa(t){return typeof t=="string"?xr.fromBase64String(t):xr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="server_timestamp",Z2="__type__",eR="__previous_value__",tR="__local_write_time__";function Jw(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[Z2])==null?void 0:n.stringValue)===J2}function gm(t){const e=t.mapValue.fields[eR];return Jw(e)?gm(e):e}function Gc(t){const e=ia(t.mapValue.fields[tR].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,r,n,i,o,s,u,c,f,h,p){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h,this.apiKey=p}}const Jh="(default)";class Kc{constructor(e,r){this.projectId=e,this.database=r||Jh}static empty(){return new Kc("","")}get isDefaultDatabase(){return this.database===Jh}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}function C5(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ie(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="__type__",O5="__max__",wh={mapValue:{}},nR="__vector__",Zh="value";function aa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jw(t)?4:N5(t)?9007199254740991:k5(t)?10:11:Me(28295,{value:t})}function bi(t,e){if(t===e)return!0;const r=aa(t);if(r!==aa(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gc(t).isEqual(Gc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ia(i.timestampValue),u=ia(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return oa(i.bytesValue).isEqual(oa(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Vt(i.geoPointValue.latitude)===Vt(o.geoPointValue.latitude)&&Vt(i.geoPointValue.longitude)===Vt(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Vt(i.integerValue)===Vt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Vt(i.doubleValue),u=Vt(o.doubleValue);return s===u?Qh(s)===Qh(u):isNaN(s)&&isNaN(u)}return!1})(t,e);case 9:return Dl(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return(function(i,o){const s=i.mapValue.fields||{},u=o.mapValue.fields||{};if(AA(s)!==AA(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!bi(s[c],u[c])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function Yc(t,e){return(t.values||[]).find((r=>bi(r,e)))!==void 0}function Ml(t,e){if(t===e)return 0;const r=aa(t),n=aa(e);if(r!==n)return Ye(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return(function(o,s){const u=Vt(o.integerValue||o.doubleValue),c=Vt(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(t,e);case 3:return IA(t.timestampValue,e.timestampValue);case 4:return IA(Gc(t),Gc(e));case 5:return u_(t.stringValue,e.stringValue);case 6:return(function(o,s){const u=oa(o),c=oa(s);return u.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){const u=o.split("/"),c=s.split("/");for(let f=0;f<u.length&&f<c.length;f++){const h=Ye(u[f],c[f]);if(h!==0)return h}return Ye(u.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){const u=Ye(Vt(o.latitude),Vt(s.latitude));return u!==0?u:Ye(Vt(o.longitude),Vt(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return CA(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var v,x,S,T;const u=o.fields||{},c=s.fields||{},f=(v=u[Zh])==null?void 0:v.arrayValue,h=(x=c[Zh])==null?void 0:x.arrayValue,p=Ye(((S=f==null?void 0:f.values)==null?void 0:S.length)||0,((T=h==null?void 0:h.values)==null?void 0:T.length)||0);return p!==0?p:CA(f,h)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===wh.mapValue&&s===wh.mapValue)return 0;if(o===wh.mapValue)return 1;if(s===wh.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const v=u_(c[p],h[p]);if(v!==0)return v;const x=Ml(u[c[p]],f[h[p]]);if(x!==0)return x}return Ye(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:r})}}function IA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const r=ia(t),n=ia(e),i=Ye(r.seconds,n.seconds);return i!==0?i:Ye(r.nanos,n.nanos)}function CA(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const o=Ml(r[i],n[i]);if(o)return o}return Ye(r.length,n.length)}function Ll(t){return c_(t)}function c_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=ia(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return oa(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return ke.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const o of r.values||[])i?i=!1:n+=",",n+=c_(o);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const s of n)o?o=!1:i+=",",i+=`${s}:${c_(r.fields[s])}`;return i+"}"})(t.mapValue):Me(61005,{value:t})}function Bh(t){switch(aa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gm(t);return e?16+Bh(e):16;case 5:return 2*t.stringValue.length;case 6:return oa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,o)=>i+Bh(o)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return ys(n.fields,((o,s)=>{i+=o.length+Bh(s)})),i})(t.mapValue);default:throw Me(13486,{value:t})}}function f_(t){return!!t&&"integerValue"in t}function Zw(t){return!!t&&"arrayValue"in t}function OA(t){return!!t&&"nullValue"in t}function kA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fh(t){return!!t&&"mapValue"in t}function k5(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[rR])==null?void 0:n.stringValue)===nR}function Dc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ys(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Dc(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Dc(t.arrayValue.values[r]);return e}return{...t}}function N5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===O5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Fh(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dc(r)}setAll(e){let r=gr.emptyPath(),n={},i=[];e.forEach(((s,u)=>{if(!r.isImmediateParentOf(u)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=u.popLast()}s?n[u.lastSegment()]=Dc(s):i.push(u.lastSegment())}));const o=this.getFieldsMap(r);this.applyChanges(o,n,i)}delete(e){const r=this.field(e.popLast());Fh(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Fh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){ys(r,((i,o)=>e[i]=o));for(const i of n)delete e[i]}clone(){return new xn(Dc(this.value))}}function iR(t){const e=[];return ys(t.fields,((r,n)=>{const i=new gr([r]);if(Fh(n)){const o=iR(n.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)})),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,r,n,i,o,s,u){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=o,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Ir(e,0,Fe.min(),Fe.min(),Fe.min(),xn.empty(),0)}static newFoundDocument(e,r,n,i){return new Ir(e,1,r,Fe.min(),n,i,0)}static newNoDocument(e,r){return new Ir(e,2,r,Fe.min(),Fe.min(),xn.empty(),0)}static newUnknownDocument(e,r){return new Ir(e,3,r,Fe.min(),Fe.min(),xn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,r){this.position=e,this.inclusive=r}}function NA(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?n=ke.comparator(ke.fromName(s.referenceValue),r.key):n=Ml(s,r.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function jA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!bi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,r="asc"){this.field=e,this.dir=r}}function j5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{}class Jt extends oR{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new D5(e,r,n):r==="array-contains"?new $5(e,n):r==="in"?new V5(e,n):r==="not-in"?new B5(e,n):r==="array-contains-any"?new F5(e,n):new Jt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new M5(e,n):new L5(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Ml(r,this.value)):r!==null&&aa(this.value)===aa(r)&&this.matchesComparison(Ml(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends oR{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new _i(e,r)}matches(e){return aR(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aR(t){return t.op==="and"}function sR(t){return R5(t)&&aR(t)}function R5(t){for(const e of t.filters)if(e instanceof _i)return!1;return!0}function d_(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+Ll(t.value);if(sR(t))return t.filters.map((e=>d_(e))).join(",");{const e=t.filters.map((r=>d_(r))).join(",");return`${t.op}(${e})`}}function lR(t,e){return t instanceof Jt?(function(n,i){return i instanceof Jt&&n.op===i.op&&n.field.isEqual(i.field)&&bi(n.value,i.value)})(t,e):t instanceof _i?(function(n,i){return i instanceof _i&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((o,s,u)=>o&&lR(s,i.filters[u])),!0):!1})(t,e):void Me(19439)}function uR(t){return t instanceof Jt?(function(r){return`${r.field.canonicalString()} ${r.op} ${Ll(r.value)}`})(t):t instanceof _i?(function(r){return r.op.toString()+" {"+r.getFilters().map(uR).join(" ,")+"}"})(t):"Filter"}class D5 extends Jt{constructor(e,r,n){super(e,r,n),this.key=ke.fromName(n.referenceValue)}matches(e){const r=ke.comparator(e.key,this.key);return this.matchesComparison(r)}}class M5 extends Jt{constructor(e,r){super(e,"in",r),this.keys=cR("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class L5 extends Jt{constructor(e,r){super(e,"not-in",r),this.keys=cR("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function cR(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map((n=>ke.fromName(n.referenceValue)))}class $5 extends Jt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Zw(r)&&Yc(r.arrayValue,this.value)}}class V5 extends Jt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Yc(this.value.arrayValue,r)}}class B5 extends Jt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Yc(this.value.arrayValue,r)}}class F5 extends Jt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Zw(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Yc(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,r=null,n=[],i=[],o=null,s=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=s,this.endAt=u,this.Te=null}}function RA(t,e=null,r=[],n=[],i=null,o=null,s=null){return new U5(t,e,r,n,i,o,s)}function e1(t){const e=qe(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>d_(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(o){return o.field.canonicalString()+o.dir})(n))).join(","),mm(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>Ll(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>Ll(n))).join(",")),e.Te=r}return e.Te}function t1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!j5(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!lR(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jA(t.startAt,e.startAt)&&jA(t.endAt,e.endAt)}function h_(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,r=null,n=[],i=[],o=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function q5(t,e,r,n,i,o,s,u){return new ym(t,e,r,n,i,o,s,u)}function r1(t){return new ym(t)}function DA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function z5(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function W5(t){return t.collectionGroup!==null}function Mc(t){const e=qe(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),r.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new tr(gr.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((o=>{r.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new tp(o,n))})),r.has(gr.keyField().canonicalString())||e.Ie.push(new tp(gr.keyField(),n))}return e.Ie}function hi(t){const e=qe(t);return e.Ee||(e.Ee=H5(e,Mc(t))),e.Ee}function H5(t,e){if(t.limitType==="F")return RA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new tp(i.field,o)}));const r=t.endAt?new ep(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new ep(t.startAt.position,t.startAt.inclusive):null;return RA(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function p_(t,e,r){return new ym(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function vm(t,e){return t1(hi(t),hi(e))&&t.limitType===e.limitType}function fR(t){return`${e1(hi(t))}|lt:${t.limitType}`}function gl(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>uR(i))).join(", ")}]`),mm(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>Ll(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>Ll(i))).join(",")),`Target(${n})`})(hi(t))}; limitType=${t.limitType})`}function xm(t,e){return e.isFoundDocument()&&(function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):ke.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(t,e)&&(function(n,i){for(const o of Mc(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(s,u,c){const f=NA(s,u,c);return s.inclusive?f<=0:f<0})(n.startAt,Mc(n),i)||n.endAt&&!(function(s,u,c){const f=NA(s,u,c);return s.inclusive?f>=0:f>0})(n.endAt,Mc(n),i))})(t,e)}function G5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dR(t){return(e,r)=>{let n=!1;for(const i of Mc(t)){const o=K5(i,e,r);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function K5(t,e,r){const n=t.field.isKeyField()?ke.comparator(e.key,r.key):(function(o,s,u){const c=s.data.field(o),f=u.data.field(o);return c!==null&&f!==null?Ml(c,f):Me(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,((r,n)=>{for(const[i,o]of n)e(i,o)}))}isEmpty(){return X2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=new Nt(ke.comparator);function oo(){return Y5}const hR=new Nt(ke.comparator);function Pc(...t){let e=hR;for(const r of t)e=e.insert(r.key,r);return e}function pR(t){let e=hR;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function Ga(){return Lc()}function mR(){return Lc()}function Lc(){return new vs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const X5=new Nt(ke.comparator),Q5=new tr(ke.comparator);function Xe(...t){let e=Q5;for(const r of t)e=e.add(r);return e}const J5=new tr(Ye);function Z5(){return J5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function gR(t){return{integerValue:""+t}}function eB(t,e){return T5(e)?gR(e):n1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this._=void 0}}function tB(t,e,r){return t instanceof Xc?(function(i,o){const s={fields:{[Z2]:{stringValue:J2},[tR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Jw(o)&&(o=gm(o)),o&&(s.fields[eR]=o),{mapValue:s}})(r,e):t instanceof Qc?vR(t,e):t instanceof Jc?xR(t,e):(function(i,o){const s=yR(i,o),u=MA(s)+MA(i.Ae);return f_(s)&&f_(i.Ae)?gR(u):n1(i.serializer,u)})(t,e)}function rB(t,e,r){return t instanceof Qc?vR(t,e):t instanceof Jc?xR(t,e):r}function yR(t,e){return t instanceof rp?(function(n){return f_(n)||(function(o){return!!o&&"doubleValue"in o})(n)})(e)?e:{integerValue:0}:null}class Xc extends bm{}class Qc extends bm{constructor(e){super(),this.elements=e}}function vR(t,e){const r=bR(e);for(const n of t.elements)r.some((i=>bi(i,n)))||r.push(n);return{arrayValue:{values:r}}}class Jc extends bm{constructor(e){super(),this.elements=e}}function xR(t,e){let r=bR(e);for(const n of t.elements)r=r.filter((i=>!bi(i,n)));return{arrayValue:{values:r}}}class rp extends bm{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function MA(t){return Vt(t.integerValue||t.doubleValue)}function bR(t){return Zw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,r){this.field=e,this.transform=r}}function iB(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof Qc&&i instanceof Qc||n instanceof Jc&&i instanceof Jc?Dl(n.elements,i.elements,bi):n instanceof rp&&i instanceof rp?bi(n.Ae,i.Ae):n instanceof Xc&&i instanceof Xc})(t.transform,e.transform)}class oB{constructor(e,r){this.version=e,this.transformResults=r}}class pi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _m{}function _R(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new i1(t.key,pi.none()):new qf(t.key,t.data,pi.none());{const r=t.data,n=xn.empty();let i=new tr(gr.comparator);for(let o of e.fields)if(!i.has(o)){let s=r.field(o);s===null&&o.length>1&&(o=o.popLast(),s=r.field(o)),s===null?n.delete(o):n.set(o,s),i=i.add(o)}return new xs(t.key,n,new Vn(i.toArray()),pi.none())}}function aB(t,e,r){t instanceof qf?(function(i,o,s){const u=i.value.clone(),c=$A(i.fieldTransforms,o,s.transformResults);u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,r):t instanceof xs?(function(i,o,s){if(!Uh(i.precondition,o))return void o.convertToUnknownDocument(s.version);const u=$A(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(wR(i)),c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,r):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,r)}function $c(t,e,r,n){return t instanceof qf?(function(o,s,u,c){if(!Uh(o.precondition,s))return u;const f=o.value.clone(),h=VA(o.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(t,e,r,n):t instanceof xs?(function(o,s,u,c){if(!Uh(o.precondition,s))return u;const f=VA(o.fieldTransforms,c,s),h=s.data;return h.setAll(wR(o)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p=>p.field)))})(t,e,r,n):(function(o,s,u){return Uh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u})(t,e,r)}function sB(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),o=yR(n.transform,i||null);o!=null&&(r===null&&(r=xn.empty()),r.set(n.field,o))}return r||null}function LA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Dl(n,i,((o,s)=>iB(o,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qf extends _m{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xs extends _m{constructor(e,r,n,i,o=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function wR(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function $A(t,e,r){const n=new Map;ct(t.length===r.length,32656,{Ve:r.length,de:t.length});for(let i=0;i<r.length;i++){const o=t[i],s=o.transform,u=e.data.field(o.field);n.set(o.field,rB(s,u,r[i]))}return n}function VA(t,e,r){const n=new Map;for(const i of t){const o=i.transform,s=r.data.field(i.field);n.set(i.field,tB(o,s,e))}return n}class i1 extends _m{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lB extends _m{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&aB(o,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=$c(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=$c(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=mR();return this.mutations.forEach((i=>{const o=e.get(i.key),s=o.overlayedDocument;let u=this.applyToLocalView(s,o.mutatedFields);u=r.has(i.key)?null:u;const c=_R(s,u);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Fe.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Dl(this.mutations,e.mutations,((r,n)=>LA(r,n)))&&Dl(this.baseMutations,e.baseMutations,((r,n)=>LA(r,n)))}}class o1{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){ct(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return X5})();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,n[s].version);return new o1(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Je;function dB(t){switch(t){case fe.OK:return Me(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function ER(t){if(t===void 0)return io("GRPC error has no .code"),fe.UNKNOWN;switch(t){case qt.OK:return fe.OK;case qt.CANCELLED:return fe.CANCELLED;case qt.UNKNOWN:return fe.UNKNOWN;case qt.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case qt.INTERNAL:return fe.INTERNAL;case qt.UNAVAILABLE:return fe.UNAVAILABLE;case qt.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case qt.NOT_FOUND:return fe.NOT_FOUND;case qt.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case qt.ABORTED:return fe.ABORTED;case qt.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case qt.DATA_LOSS:return fe.DATA_LOSS;default:return Me(39323,{code:t})}}(Je=qt||(qt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=new ea([4294967295,4294967295],0);function BA(t){const e=hB().encode(t),r=new V2;return r.update(e),new Uint8Array(r.digest())}function FA(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ea([r,n],0),new ea([i,o],0)]}class a1{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Ic(`Invalid padding: ${r}`);if(n<0)throw new Ic(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Ic(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Ic(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=ea.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(ea.fromNumber(n)));return i.compare(pB)===1&&(i=new ea([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=BA(e),[n,i]=FA(r);for(let o=0;o<this.hashCount;o++){const s=this.ye(n,i,o);if(!this.we(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new a1(o,i,r);return n.forEach((u=>s.insert(u))),s}insert(e){if(this.ge===0)return;const r=BA(e),[n,i]=FA(r);for(let o=0;o<this.hashCount;o++){const s=this.ye(n,i,o);this.be(s)}}be(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,r,n,i,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,zf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new wm(Fe.min(),i,new Nt(Ye),oo(),Xe())}}class zf{constructor(e,r,n,i,o){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new zf(n,r,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,r,n,i){this.Se=e,this.removedTargetIds=r,this.key=n,this.De=i}}class TR{constructor(e,r){this.targetId=e,this.Ce=r}}class SR{constructor(e,r,n=xr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class UA{constructor(){this.ve=0,this.Fe=qA(),this.Me=xr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),r=Xe(),n=Xe();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Me(38017,{changeType:o})}})),new zf(this.Me,this.xe,e,r,n)}Ke(){this.Oe=!1,this.Fe=qA()}qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class mB{constructor(e){this.Ge=e,this.ze=new Map,this.je=oo(),this.He=Eh(),this.Je=Eh(),this.Ze=new Nt(Ye)}Xe(e){for(const r of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(e.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.Qe(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const o=i.target;if(h_(o))if(n===0){const s=new ke(o.path);this.et(r,s,Ir.newNoDocument(s,Fe.min()))}else ct(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const u=this.ut(e),c=u?this.ct(u,e,s):1;if(c!==0){this.it(r);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,f)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=r;let s,u;try{s=oa(n).toUint8Array()}catch(c){if(c instanceof Q2)return us("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new a1(s,i,o)}catch(c){return us(c instanceof Ic?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((o=>{const s=this.Ge.ht(),u=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(r,o,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((o,s)=>{const u=this.ot(s);if(u){if(o.current&&h_(u.target)){const c=new ke(u.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Ir.newNoDocument(c,e))}o.Be&&(r.set(s,o.ke()),o.Ke())}}));let n=Xe();this.Je.forEach(((o,s)=>{let u=!0;s.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(n=n.add(o))})),this.je.forEach(((o,s)=>s.setReadTime(e)));const i=new wm(e,r,this.Ze,this.je,n);return this.je=oo(),this.He=Eh(),this.Je=Eh(),this.Ze=new Nt(Ye),i}Ye(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).qe(r.key,n),this.je=this.je.insert(r.key,r),this.He=this.He.insert(r.key,this.It(r.key).add(e)),this.Je=this.Je.insert(r.key,this.Rt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.qe(r,1):i.Ue(r),this.Je=this.Je.insert(r,this.Rt(r).delete(e)),this.Je=this.Je.insert(r,this.Rt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let r=this.ze.get(e);return r||(r=new UA,this.ze.set(e,r)),r}Rt(e){let r=this.Je.get(e);return r||(r=new tr(Ye),this.Je=this.Je.insert(e,r)),r}It(e){let r=this.He.get(e);return r||(r=new tr(Ye),this.He=this.He.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||we("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new UA),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Eh(){return new Nt(ke.comparator)}function qA(){return new Nt(ke.comparator)}const gB={asc:"ASCENDING",desc:"DESCENDING"},yB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vB={and:"AND",or:"OR"};class xB{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function m_(t,e){return t.useProto3Json||mm(e)?e:{value:e}}function np(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bB(t,e){return np(t,e.toTimestamp())}function mi(t){return ct(!!t,49232),Fe.fromTimestamp((function(r){const n=ia(r);return new At(n.seconds,n.nanos)})(t))}function s1(t,e){return g_(t,e).canonicalString()}function g_(t,e){const r=(function(i){return new St(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function PR(t){const e=St.fromString(t);return ct(NR(e),10190,{key:e.toString()}),e}function y_(t,e){return s1(t.databaseId,e.path)}function Hy(t,e){const r=PR(e);if(r.get(1)!==t.databaseId.projectId)throw new Ie(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ie(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ke(CR(r))}function IR(t,e){return s1(t.databaseId,e)}function _B(t){const e=PR(t);return e.length===4?St.emptyPath():CR(e)}function v_(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CR(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function zA(t,e,r){return{name:y_(t,e),fields:r.value.mapValue.fields}}function wB(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Me(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,h){return f.useProto3Json?(ct(h===void 0||typeof h=="string",58123),xr.fromBase64String(h||"")):(ct(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),xr.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&(function(f){const h=f.code===void 0?fe.UNKNOWN:ER(f.code);return new Ie(h,f.message||"")})(s);r=new SR(n,i,o,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Hy(t,n.document.name),o=mi(n.document.updateTime),s=n.document.createTime?mi(n.document.createTime):Fe.min(),u=new xn({mapValue:{fields:n.document.fields}}),c=Ir.newFoundDocument(i,o,s,u),f=n.targetIds||[],h=n.removedTargetIds||[];r=new qh(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Hy(t,n.document),o=n.readTime?mi(n.readTime):Fe.min(),s=Ir.newNoDocument(i,o),u=n.removedTargetIds||[];r=new qh([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Hy(t,n.document),o=n.removedTargetIds||[];r=new qh([],o,i,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,s=new fB(i,o),u=n.targetId;r=new TR(u,s)}}return r}function EB(t,e){let r;if(e instanceof qf)r={update:zA(t,e.key,e.value)};else if(e instanceof i1)r={delete:y_(t,e.key)};else if(e instanceof xs)r={update:zA(t,e.key,e.data),updateMask:NB(e.fieldMask)};else{if(!(e instanceof lB))return Me(16599,{dt:e.type});r={verify:y_(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(o,s){const u=s.transform;if(u instanceof Xc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Qc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Jc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof rp)return{fieldPath:s.field.canonicalString(),increment:u.Ae};throw Me(20930,{transform:s.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:bB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Me(27497)})(t,e.precondition)),r}function TB(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map((r=>(function(i,o){let s=i.updateTime?mi(i.updateTime):mi(o);return s.isEqual(Fe.min())&&(s=mi(o)),new oB(s,i.transformResults||[])})(r,e)))):[]}function SB(t,e){return{documents:[IR(t,e.path)]}}function AB(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=IR(t,i);const o=(function(f){if(f.length!==0)return kR(_i.create(f,"and"))})(e.filters);o&&(r.structuredQuery.where=o);const s=(function(f){if(f.length!==0)return f.map((h=>(function(v){return{field:yl(v.field),direction:CB(v.dir)}})(h)))})(e.orderBy);s&&(r.structuredQuery.orderBy=s);const u=m_(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:r,parent:i}}function PB(t){let e=_B(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){ct(n===1,65062);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];r.where&&(o=(function(p){const v=OR(p);return v instanceof _i&&sR(v)?v.getFilters():[v]})(r.where));let s=[];r.orderBy&&(s=(function(p){return p.map((v=>(function(S){return new tp(vl(S.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(r.orderBy));let u=null;r.limit&&(u=(function(p){let v;return v=typeof p=="object"?p.value:p,mm(v)?null:v})(r.limit));let c=null;r.startAt&&(c=(function(p){const v=!!p.before,x=p.values||[];return new ep(x,v)})(r.startAt));let f=null;return r.endAt&&(f=(function(p){const v=!p.before,x=p.values||[];return new ep(x,v)})(r.endAt)),q5(e,i,s,o,u,"F",c,f)}function IB(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function OR(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=vl(r.unaryFilter.field);return Jt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=vl(r.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=vl(r.unaryFilter.field);return Jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=vl(r.unaryFilter.field);return Jt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(r){return Jt.create(vl(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return _i.create(r.compositeFilter.filters.map((n=>OR(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(r.compositeFilter.op))})(t):Me(30097,{filter:t})}function CB(t){return gB[t]}function OB(t){return yB[t]}function kB(t){return vB[t]}function yl(t){return{fieldPath:t.canonicalString()}}function vl(t){return gr.fromServerFormat(t.fieldPath)}function kR(t){return t instanceof Jt?(function(r){if(r.op==="=="){if(kA(r.value))return{unaryFilter:{field:yl(r.field),op:"IS_NAN"}};if(OA(r.value))return{unaryFilter:{field:yl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(kA(r.value))return{unaryFilter:{field:yl(r.field),op:"IS_NOT_NAN"}};if(OA(r.value))return{unaryFilter:{field:yl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yl(r.field),op:OB(r.op),value:r.value}}})(t):t instanceof _i?(function(r){const n=r.getFilters().map((i=>kR(i)));return n.length===1?n[0]:{compositeFilter:{op:kB(r.op),filters:n}}})(t):Me(54877,{filter:t})}function NB(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function NR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function jR(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,r,n,i,o=Fe.min(),s=Fe.min(),u=xr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e){this.yt=e}}function RB(t){const e=PB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?p_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(){this.Sn=new MB}addToCollectionParentIndex(e,r){return this.Sn.add(r),le.resolve()}getCollectionParents(e,r){return le.resolve(this.Sn.getEntries(r))}addFieldIndex(e,r){return le.resolve()}deleteFieldIndex(e,r){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,r){return le.resolve()}getDocumentsMatchingTarget(e,r){return le.resolve(null)}getIndexType(e,r){return le.resolve(0)}getFieldIndexes(e,r){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,r){return le.resolve(na.min())}getMinOffsetFromCollectionGroup(e,r){return le.resolve(na.min())}updateCollectionGroup(e,r,n){return le.resolve()}updateIndexEntries(e,r){return le.resolve()}}class MB{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new tr(St.comparator),o=!i.has(n);return this.index[r]=i.add(n),o}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new tr(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RR=41943040;class Ur{static withCacheSize(e){return new Ur(e,Ur.DEFAULT_COLLECTION_PERCENTILE,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur.DEFAULT_COLLECTION_PERCENTILE=10,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ur.DEFAULT=new Ur(RR,Ur.DEFAULT_COLLECTION_PERCENTILE,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ur.DISABLED=new Ur(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new $l(0)}static ar(){return new $l(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="LruGarbageCollector",LB=1048576;function GA([t,e],[r,n]){const i=Ye(t,r);return i===0?Ye(e,n):i}class $B{constructor(e){this.Pr=e,this.buffer=new tr(GA),this.Tr=0}Ir(){return++this.Tr}Er(e){const r=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();GA(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class VB{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){we(HA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){hu(r)?we(HA,"Ignoring IndexedDB error during garbage collection: ",r):await du(r)}await this.Ar(3e5)}))}}class BB{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.dr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return le.resolve(pm.ce);const n=new $B(r);return this.Vr.forEachTarget(e,(i=>n.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>n.Er(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.Vr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(WA)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WA):this.gr(e,r)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,r){let n,i,o,s,u,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(n=p,u=Date.now(),this.removeTargets(e,n,r)))).next((p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(f=Date.now(),ml()<=Ke.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${o} targets in `+(c-u)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p}))))}}function FB(t,e){return new BB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(){this.changes=new vs((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ir.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?le.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&$c(n.mutation,i,Vn.empty(),At.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Xe()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Xe()){const i=Ga();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((o=>{let s=Pc();return o.forEach(((u,c)=>{s=s.insert(u,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,r){const n=Ga();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Xe())))}populateOverlays(e,r,n){const i=[];return n.forEach((o=>{r.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((s,u)=>{r.set(s,u)}))}))}computeViews(e,r,n,i){let o=oo();const s=Lc(),u=(function(){return Lc()})();return r.forEach(((c,f)=>{const h=n.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof xs)?o=o.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),$c(h.mutation,f,h.mutation.getFieldMask(),At.now())):s.set(f.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,o).next((c=>(c.forEach(((f,h)=>s.set(f,h))),r.forEach(((f,h)=>u.set(f,new qB(h,s.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,r){const n=Lc();let i=new Nt(((s,u)=>s-u)),o=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((s=>{for(const u of s)u.keys().forEach((c=>{const f=r.get(c);if(f===null)return;let h=n.get(c)||Vn.empty();h=u.applyToLocalView(f,h),n.set(c,h);const p=(i.get(u.batchId)||Xe()).add(c);i=i.insert(u.batchId,p)}))})).next((()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,h=c.value,p=mR();h.forEach((v=>{if(!o.has(v)){const x=_R(r.get(v),n.get(v));x!==null&&p.set(v,x),o=o.add(v)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,p))}return le.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return z5(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):W5(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-o.size):le.resolve(Ga());let u=Hc,c=o;return s.next((f=>le.forEach(f,((h,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),o.get(h)?le.resolve():this.remoteDocumentCache.getEntry(e,h).next((v=>{c=c.insert(h,v)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,c,f,Xe()))).next((h=>({batchId:u,changes:pR(h)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ke(r)).next((n=>{let i=Pc();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const o=r.collectionGroup;let s=Pc();return this.indexManager.getCollectionParents(e,o).next((u=>le.forEach(u,(c=>{const f=(function(p,v){return new ym(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(r,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next((h=>{h.forEach(((p,v)=>{s=s.insert(p,v)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,o,i)))).next((s=>{o.forEach(((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,Ir.newInvalidDocument(h)))}));let u=Pc();return s.forEach(((c,f)=>{const h=o.get(c);h!==void 0&&$c(h.mutation,f,Vn.empty(),At.now()),xm(r,f)&&(u=u.insert(c,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,r){return le.resolve(this.Nr.get(r))}saveBundleMetadata(e,r){return this.Nr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:mi(i.createTime)}})(r)),le.resolve()}getNamedQuery(e,r){return le.resolve(this.Br.get(r))}saveNamedQuery(e,r){return this.Br.set(r.name,(function(i){return{name:i.name,query:RB(i.bundledQuery),readTime:mi(i.readTime)}})(r)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(){this.overlays=new Nt(ke.comparator),this.Lr=new Map}getOverlay(e,r){return le.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ga();return le.forEach(r,(i=>this.getOverlay(e,i).next((o=>{o!==null&&n.set(i,o)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,o)=>{this.bt(e,r,o)})),le.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Lr.get(n);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(n)),le.resolve()}getOverlaysForCollection(e,r,n){const i=Ga(),o=r.length+1,s=new ke(r.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>n&&i.set(c.getKey(),c)}return le.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let o=new Nt(((f,h)=>f-h));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let h=o.get(f.largestBatchId);h===null&&(h=Ga(),o=o.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const u=Ga(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>u.set(f,h))),!(u.size()>=i)););return le.resolve(u)}bt(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(n.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new cB(r,n));let o=this.Lr.get(r);o===void 0&&(o=Xe(),this.Lr.set(r,o)),this.Lr.set(r,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(){this.sessionToken=xr.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.kr=new tr(ar.Kr),this.qr=new tr(ar.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,r){const n=new ar(e,r);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Wr(new ar(e,r))}Qr(e,r){e.forEach((n=>this.removeReference(n,r)))}Gr(e){const r=new ke(new St([])),n=new ar(r,e),i=new ar(r,e+1),o=[];return this.qr.forEachInRange([n,i],(s=>{this.Wr(s),o.push(s.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const r=new ke(new St([])),n=new ar(r,e),i=new ar(r,e+1);let o=Xe();return this.qr.forEachInRange([n,i],(s=>{o=o.add(s.key)})),o}containsKey(e){const r=new ar(e,0),n=this.kr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class ar{constructor(e,r){this.key=e,this.Hr=r}static Kr(e,r){return ke.comparator(e.key,r.key)||Ye(e.Hr,r.Hr)}static Ur(e,r){return Ye(e.Hr,r.Hr)||ke.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Yn=1,this.Jr=new tr(ar.Kr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new uB(o,r,n,i);this.mutationQueue.push(s);for(const u of i)this.Jr=this.Jr.add(new ar(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return le.resolve(s)}lookupMutationBatch(e,r){return le.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Xr(n),o=i<0?0:i;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Qw:this.Yn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new ar(r,0),i=new ar(r,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([n,i],(s=>{const u=this.Zr(s.Hr);o.push(u)})),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new tr(Ye);return r.forEach((i=>{const o=new ar(i,0),s=new ar(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,s],(u=>{n=n.add(u.Hr)}))})),le.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let o=n;ke.isDocumentKey(o)||(o=o.child(""));const s=new ar(new ke(o),0);let u=new tr(Ye);return this.Jr.forEachWhile((c=>{const f=c.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.Hr)),!0)}),s),le.resolve(this.Yr(u))}Yr(e){const r=[];return e.forEach((n=>{const i=this.Zr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){ct(this.ei(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Jr;return le.forEach(r.mutations,(i=>{const o=new ar(i.key,r.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=n}))}nr(e){}containsKey(e,r){const n=new ar(r,0),i=this.Jr.firstAfterOrEqual(n);return le.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ei(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e){this.ti=e,this.docs=(function(){return new Nt(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),o=i?i.size:0,s=this.ti(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return le.resolve(n?n.document.mutableCopy():Ir.newInvalidDocument(r))}getEntries(e,r){let n=oo();return r.forEach((i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():Ir.newInvalidDocument(i))})),le.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let o=oo();const s=r.path,u=new ke(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||b5(x5(h),n)<=0||(i.has(h.key)||xm(r,h))&&(o=o.insert(h.key,h.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(e,r,n,i){Me(9500)}ni(e,r){return le.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new XB(this)}getSize(e){return le.resolve(this.size)}}class XB extends UB{constructor(e){super(),this.Mr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(n)})),le.waitFor(r)}getFromCache(e,r){return this.Mr.getEntry(e,r)}getAllFromCache(e,r){return this.Mr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e){this.persistence=e,this.ri=new vs((r=>e1(r)),t1),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.ii=0,this.si=new l1,this.targetCount=0,this.oi=$l._r()}forEachTarget(e,r){return this.ri.forEach(((n,i)=>r(i))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ii&&(this.ii=r),le.resolve()}lr(e){this.ri.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.oi=new $l(r),this.highestTargetId=r),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,r){return this.lr(r),this.targetCount+=1,le.resolve()}updateTargetData(e,r){return this.lr(r),le.resolve()}removeTargetData(e,r){return this.ri.delete(r.target),this.si.Gr(r.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,r,n){let i=0;const o=[];return this.ri.forEach(((s,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.ri.delete(s),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),le.waitFor(o).next((()=>i))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,r){const n=this.ri.get(r)||null;return le.resolve(n)}addMatchingKeys(e,r,n){return this.si.$r(r,n),le.resolve()}removeMatchingKeys(e,r,n){this.si.Qr(r,n);const i=this.persistence.referenceDelegate,o=[];return i&&r.forEach((s=>{o.push(i.markPotentiallyOrphaned(e,s))})),le.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this.si.Gr(r),le.resolve()}getMatchingKeysForTargetId(e,r){const n=this.si.jr(r);return le.resolve(n)}containsKey(e,r){return le.resolve(this.si.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,r){this._i={},this.overlays={},this.ai=new pm(0),this.ui=!1,this.ui=!0,this.ci=new GB,this.referenceDelegate=e(this),this.li=new QB(this),this.indexManager=new DB,this.remoteDocumentCache=(function(i){return new YB(i)})((n=>this.referenceDelegate.hi(n))),this.serializer=new jB(r),this.Pi=new WB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new HB,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this._i[e.toKey()];return n||(n=new KB(r,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,r,n){we("MemoryPersistence","Starting transaction:",e);const i=new JB(this.ai.next());return this.referenceDelegate.Ti(),n(i).next((o=>this.referenceDelegate.Ii(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ei(e,r){return le.or(Object.values(this._i).map((n=>()=>n.containsKey(e,r))))}}class JB extends w5{constructor(e){super(),this.currentSequenceNumber=e}}class u1{constructor(e){this.persistence=e,this.Ri=new l1,this.Ai=null}static Vi(e){return new u1(e)}get di(){if(this.Ai)return this.Ai;throw Me(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.di.delete(n.toString()),le.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.di.add(n.toString()),le.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),le.resolve()}removeTarget(e,r){this.Ri.Gr(r.targetId).forEach((i=>this.di.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((o=>this.di.add(o.toString())))})).next((()=>n.removeTargetData(e,r)))}Ti(){this.Ai=new Set}Ii(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,(n=>{const i=ke.fromPath(n);return this.mi(e,i).next((o=>{o||r.removeEntry(i,Fe.min())}))})).next((()=>(this.Ai=null,r.apply(e))))}updateLimboDocument(e,r){return this.mi(e,r).next((n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())}))}hi(e){return 0}mi(e,r){return le.or([()=>le.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class ip{constructor(e,r){this.persistence=e,this.fi=new vs((n=>S5(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=FB(this,r)}static Vi(e,r){return new ip(e,r)}Ti(){}Ii(e){return le.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}pr(e){let r=0;return this.mr(e,(n=>{r++})).next((()=>r))}mr(e,r){return le.forEach(this.fi,((n,i)=>this.wr(e,n,i).next((o=>o?le.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,(s=>this.wr(e,s,r).next((u=>{u||(n++,o.removeEntry(s,Fe.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}removeReference(e,r,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}hi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Bh(e.data.value)),r}wr(e,r,n){return le.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.fi.get(r);return le.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Ts=n,this.Is=i}static Es(e,r){let n=Xe(),i=Xe();for(const o of r.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new c1(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return U$()?8:E5(kr())>0?6:4})()}initialize(e,r){this.fs=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const o={result:null};return this.gs(e,r).next((s=>{o.result=s})).next((()=>{if(!o.result)return this.ps(e,r,i,n).next((s=>{o.result=s}))})).next((()=>{if(o.result)return;const s=new ZB;return this.ys(e,r,s).next((u=>{if(o.result=u,this.As)return this.ws(e,r,s,u.size)}))})).next((()=>o.result))}ws(e,r,n,i){return n.documentReadCount<this.Vs?(ml()<=Ke.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",gl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(ml()<=Ke.DEBUG&&we("QueryEngine","Query:",gl(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ds*i?(ml()<=Ke.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",gl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hi(r))):le.resolve())}gs(e,r){if(DA(r))return le.resolve(null);let n=hi(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=p_(r,null,"F"),n=hi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((o=>{const s=Xe(...o);return this.fs.getDocuments(e,s).next((u=>this.indexManager.getMinOffset(e,n).next((c=>{const f=this.bs(r,u);return this.Ss(r,f,s,c.readTime)?this.gs(e,p_(r,null,"F")):this.Ds(e,f,r,c)}))))})))))}ps(e,r,n,i){return DA(r)||i.isEqual(Fe.min())?le.resolve(null):this.fs.getDocuments(e,n).next((o=>{const s=this.bs(r,o);return this.Ss(r,s,n,i)?le.resolve(null):(ml()<=Ke.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gl(r)),this.Ds(e,s,r,v5(i,Hc)).next((u=>u)))}))}bs(e,r){let n=new tr(dR(e));return r.forEach(((i,o)=>{xm(e,o)&&(n=n.add(o))})),n}Ss(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const o=e.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,r,n){return ml()<=Ke.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",gl(r)),this.fs.getDocumentsMatchingQuery(e,r,na.min(),n)}Ds(e,r,n,i){return this.fs.getDocumentsMatchingQuery(e,n,i).next((o=>(r.forEach((s=>{o=o.insert(s.key,s)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="LocalStore",t6=3e8;class r6{constructor(e,r,n,i){this.persistence=e,this.Cs=r,this.serializer=i,this.vs=new Nt(Ye),this.Fs=new vs((o=>e1(o)),t1),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zB(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.vs)))}}function n6(t,e,r,n){return new r6(t,e,r,n)}async function MR(t,e){const r=qe(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((o=>(i=o,r.Os(e),r.mutationQueue.getAllMutationBatches(n)))).next((o=>{const s=[],u=[];let c=Xe();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of o){u.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return r.localDocuments.getDocuments(n,c).next((f=>({Ns:f,removedBatchIds:s,addedBatchIds:u})))}))}))}function i6(t,e){const r=qe(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),o=r.xs.newChangeBuffer({trackRemovals:!0});return(function(u,c,f,h){const p=f.batch,v=p.keys();let x=le.resolve();return v.forEach((S=>{x=x.next((()=>h.getEntry(c,S))).next((T=>{const _=f.docVersions.get(S);ct(_!==null,48541),T.version.compareTo(_)<0&&(p.applyToRemoteDocument(T,f),T.isValidDocument()&&(T.setReadTime(f.commitVersion),h.addEntry(T)))}))})),x.next((()=>u.mutationQueue.removeMutationBatch(c,p)))})(r,n,e,o).next((()=>o.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(u){let c=Xe();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function LR(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.li.getLastRemoteSnapshotVersion(r)))}function o6(t,e){const r=qe(t),n=e.snapshotVersion;let i=r.vs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const s=r.xs.newChangeBuffer({trackRemovals:!0});i=r.vs;const u=[];e.targetChanges.forEach(((h,p)=>{const v=i.get(p);if(!v)return;u.push(r.li.removeMatchingKeys(o,h.removedDocuments,p).next((()=>r.li.addMatchingKeys(o,h.addedDocuments,p))));let x=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?x=x.withResumeToken(xr.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,n)),i=i.insert(p,x),(function(T,_,O){return T.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=t6?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(v,x,h)&&u.push(r.li.updateTargetData(o,x))}));let c=oo(),f=Xe();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(o,h))})),u.push(a6(o,s,e.documentUpdates).next((h=>{c=h.Bs,f=h.Ls}))),!n.isEqual(Fe.min())){const h=r.li.getLastRemoteSnapshotVersion(o).next((p=>r.li.setTargetsMetadata(o,o.currentSequenceNumber,n)));u.push(h)}return le.waitFor(u).next((()=>s.apply(o))).next((()=>r.localDocuments.getLocalViewOfDocuments(o,c,f))).next((()=>c))})).then((o=>(r.vs=i,o)))}function a6(t,e,r){let n=Xe(),i=Xe();return r.forEach((o=>n=n.add(o))),e.getEntries(t,n).next((o=>{let s=oo();return r.forEach(((u,c)=>{const f=o.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Fe.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):we(f1,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)})),{Bs:s,Ls:i}}))}function s6(t,e){const r=qe(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=Qw),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function l6(t,e){const r=qe(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.li.getTargetData(n,e).next((o=>o?(i=o,le.resolve(i)):r.li.allocateTargetId(n).next((s=>(i=new Yo(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.li.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.vs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.vs=r.vs.insert(n.targetId,n),r.Fs.set(e,n.targetId)),n}))}async function x_(t,e,r){const n=qe(t),i=n.vs.get(e),o=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",o,(s=>n.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!hu(s))throw s;we(f1,`Failed to update sequence numbers for target ${e}: ${s}`)}n.vs=n.vs.remove(e),n.Fs.delete(i.target)}function KA(t,e,r){const n=qe(t);let i=Fe.min(),o=Xe();return n.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,f,h){const p=qe(c),v=p.Fs.get(h);return v!==void 0?le.resolve(p.vs.get(v)):p.li.getTargetData(f,h)})(n,s,hi(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.li.getMatchingKeysForTargetId(s,u.targetId).next((c=>{o=c}))})).next((()=>n.Cs.getDocumentsMatchingQuery(s,e,r?i:Fe.min(),r?o:Xe()))).next((u=>(u6(n,G5(e),u),{documents:u,ks:o})))))}function u6(t,e,r){let n=t.Ms.get(e)||Fe.min();r.forEach(((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)})),t.Ms.set(e,n)}class YA{constructor(){this.activeTargetIds=Z5()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c6{constructor(){this.vo=new YA,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,r,n){this.Fo[e]=r}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new YA,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="ConnectivityMonitor";class QA{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){we(XA,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){we(XA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th=null;function b_(){return Th===null?Th=(function(){return 268435456+Math.round(2147483648*Math.random())})():Th++,"0x"+Th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="RestConnection",d6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class h6{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=r+"://"+e.host,this.Uo=`projects/${n}/databases/${i}`,this.$o=this.databaseId.database===Jh?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Wo(e,r,n,i,o){const s=b_(),u=this.Qo(e,r.toUriEncodedString());we(Gy,`Sending RPC '${e}' ${s}:`,u,n);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,o);const{host:f}=new URL(u),h=uu(f);return this.zo(e,u,c,n,h).then((p=>(we(Gy,`Received RPC '${e}' ${s}: `,p),p)),(p=>{throw us(Gy,`RPC '${e}' ${s} failed with error: `,p,"url: ",u,"request:",n),p}))}jo(e,r,n,i,o,s){return this.Wo(e,r,n,i,o)}Go(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,o)=>e[o]=i)),n&&n.headers.forEach(((i,o)=>e[o]=i))}Qo(e,r){const n=d6[e];let i=`${this.qo}/v1/${r}:${n}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="WebChannelConnection",mc=(t,e,r)=>{t.listen(e,(n=>{try{r(n)}catch(i){setTimeout((()=>{throw i}),0)}}))};class El extends h6{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!El.c_){const e=q2();mc(e,U2.STAT_EVENT,(r=>{r.stat===l_.PROXY?we(Sr,"STAT_EVENT: detected buffering proxy"):r.stat===l_.NOPROXY&&we(Sr,"STAT_EVENT: detected no buffering proxy")})),El.c_=!0}}zo(e,r,n,i,o){const s=b_();return new Promise(((u,c)=>{const f=new B2;f.setWithCredentials(!0),f.listenOnce(F2.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Vh.NO_ERROR:const p=f.getResponseJson();we(Sr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),u(p);break;case Vh.TIMEOUT:we(Sr,`RPC '${e}' ${s} timed out`),c(new Ie(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Vh.HTTP_ERROR:const v=f.getStatus();if(we(Sr,`RPC '${e}' ${s} failed with status:`,v,"response text:",f.getResponseText()),v>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const T=(function(O){const D=O.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(D)>=0?D:fe.UNKNOWN})(S.status);c(new Ie(T,S.message))}else c(new Ie(fe.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ie(fe.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{we(Sr,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);we(Sr,`RPC '${e}' ${s} sending request:`,i),f.send(r,"POST",h,n,15)}))}T_(e,r,n){const i=b_(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,r,n),u.encodeInitMessageHeaders=!0;const f=o.join("");we(Sr,`Creating RPC '${e}' stream ${i}: ${f}`,u);const h=s.createWebChannel(f,u);this.I_(h);let p=!1,v=!1;const x=new p6({Ho:S=>{v?we(Sr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(p||(we(Sr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),we(Sr,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Jo:()=>h.close()});return mc(h,Ac.EventType.OPEN,(()=>{v||(we(Sr,`RPC '${e}' stream ${i} transport opened.`),x.i_())})),mc(h,Ac.EventType.CLOSE,(()=>{v||(v=!0,we(Sr,`RPC '${e}' stream ${i} transport closed`),x.o_(),this.E_(h))})),mc(h,Ac.EventType.ERROR,(S=>{v||(v=!0,us(Sr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),x.o_(new Ie(fe.UNAVAILABLE,"The operation could not be completed")))})),mc(h,Ac.EventType.MESSAGE,(S=>{var T;if(!v){const _=S.data[0];ct(!!_,16349);const O=_,D=(O==null?void 0:O.error)||((T=O[0])==null?void 0:T.error);if(D){we(Sr,`RPC '${e}' stream ${i} received error:`,D);const k=D.status;let R=(function(A){const P=qt[A];if(P!==void 0)return ER(P)})(k),C=D.message;k==="NOT_FOUND"&&C.includes("database")&&C.includes("does not exist")&&C.includes(this.databaseId.database)&&us(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),R===void 0&&(R=fe.INTERNAL,C="Unknown error status: "+k+" with message "+D.message),v=!0,x.o_(new Ie(R,C)),h.close()}else we(Sr,`RPC '${e}' stream ${i} received:`,_),x.__(_)}})),El.u_(),setTimeout((()=>{x.s_()}),0),x}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((r=>r===e))}Go(e,r,n){super.Go(e,r,n),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return z2()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(t){return new El(t)}function Ky(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t){return new xB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */El.c_=!1;class $R{constructor(e,r,n=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=r,this.R_=n,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const r=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="PersistentStream";class VR{constructor(e,r,n,i,o,s,u,c){this.Ci=e,this.b_=n,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $R(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===fe.RESOURCE_EXHAUSTED?(io(r.toString()),io("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(r)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new Ie(fe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.Q_(this.D_);this.stream=this.j_(e,r),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.Yo((()=>{n((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(JA,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return r=>{this.Ci.enqueueAndForget((()=>this.D_===e?r():(we(JA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class g6 extends VR{constructor(e,r,n,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=o}j_(e,r){return this.connection.T_("Listen",e,r)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=wB(this.serializer,e),n=(function(o){if(!("targetChange"in o))return Fe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Fe.min():s.readTime?mi(s.readTime):Fe.min()})(e);return this.listener.J_(r,n)}Z_(e){const r={};r.database=v_(this.serializer),r.addTarget=(function(o,s){let u;const c=s.target;if(u=h_(c)?{documents:SB(o,c)}:{query:AB(o,c).ft},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=AR(o,s.resumeToken);const f=m_(o,s.expectedCount);f!==null&&(u.expectedCount=f)}else if(s.snapshotVersion.compareTo(Fe.min())>0){u.readTime=np(o,s.snapshotVersion.toTimestamp());const f=m_(o,s.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const n=IB(this.serializer,e);n&&(r.labels=n),this.K_(r)}X_(e){const r={};r.database=v_(this.serializer),r.removeTarget=e,this.K_(r)}}class y6 extends VR{constructor(e,r,n,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}H_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=TB(e.writeResults,e.commitTime),n=mi(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=v_(this.serializer),this.K_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>EB(this.serializer,n)))};this.K_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{}class x6 extends v6{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ie(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Wo(e,g_(r,n),i,o,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(fe.UNKNOWN,o.toString())}))}jo(e,r,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,u])=>this.connection.jo(e,g_(r,n),i,s,u,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(fe.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function b6(t,e,r,n){return new x6(t,e,r,n)}class _6{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(io(r),this.aa=!1):we("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="RemoteStore";class w6{constructor(e,r,n,i,o){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((s=>{n.enqueueAndForget((async()=>{bs(this)&&(we(cs,"Restarting streams for network reachability change."),await(async function(c){const f=qe(c);f.Ea.add(4),await Wf(f),f.Va.set("Unknown"),f.Ea.delete(4),await Tm(f)})(this))}))})),this.Va=new _6(n,i)}}async function Tm(t){if(bs(t))for(const e of t.Ra)await e(!0)}async function Wf(t){for(const e of t.Ra)await e(!1)}function BR(t,e){const r=qe(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),m1(r)?p1(r):pu(r).O_()&&h1(r,e))}function d1(t,e){const r=qe(t),n=pu(r);r.Ia.delete(e),n.O_()&&FR(r,e),r.Ia.size===0&&(n.O_()?n.L_():bs(r)&&r.Va.set("Unknown"))}function h1(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}pu(t).Z_(e)}function FR(t,e){t.da.$e(e),pu(t).X_(e)}function p1(t){t.da=new mB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),pu(t).start(),t.Va.ua()}function m1(t){return bs(t)&&!pu(t).x_()&&t.Ia.size>0}function bs(t){return qe(t).Ea.size===0}function UR(t){t.da=void 0}async function E6(t){t.Va.set("Online")}async function T6(t){t.Ia.forEach(((e,r)=>{h1(t,e)}))}async function S6(t,e){UR(t),m1(t)?(t.Va.ha(e),p1(t)):t.Va.set("Unknown")}async function A6(t,e,r){if(t.Va.set("Online"),e instanceof SR&&e.state===2&&e.cause)try{await(async function(i,o){const s=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.Ia.delete(u),i.da.removeTarget(u))})(t,e)}catch(n){we(cs,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await op(t,n)}else if(e instanceof qh?t.da.Xe(e):e instanceof TR?t.da.st(e):t.da.tt(e),!r.isEqual(Fe.min()))try{const n=await LR(t.localStore);r.compareTo(n)>=0&&await(function(o,s){const u=o.da.Tt(s);return u.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.Ia.get(f);h&&o.Ia.set(f,h.withResumeToken(c.resumeToken,s))}})),u.targetMismatches.forEach(((c,f)=>{const h=o.Ia.get(c);if(!h)return;o.Ia.set(c,h.withResumeToken(xr.EMPTY_BYTE_STRING,h.snapshotVersion)),FR(o,c);const p=new Yo(h.target,c,f,h.sequenceNumber);h1(o,p)})),o.remoteSyncer.applyRemoteEvent(u)})(t,r)}catch(n){we(cs,"Failed to raise snapshot:",n),await op(t,n)}}async function op(t,e,r){if(!hu(e))throw e;t.Ea.add(1),await Wf(t),t.Va.set("Offline"),r||(r=()=>LR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(cs,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Tm(t)}))}function qR(t,e){return e().catch((r=>op(t,r,e)))}async function Sm(t){const e=qe(t),r=sa(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qw;for(;P6(e);)try{const i=await s6(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,I6(e,i)}catch(i){await op(e,i)}zR(e)&&WR(e)}function P6(t){return bs(t)&&t.Ta.length<10}function I6(t,e){t.Ta.push(e);const r=sa(t);r.O_()&&r.Y_&&r.ea(e.mutations)}function zR(t){return bs(t)&&!sa(t).x_()&&t.Ta.length>0}function WR(t){sa(t).start()}async function C6(t){sa(t).ra()}async function O6(t){const e=sa(t);for(const r of t.Ta)e.ea(r.mutations)}async function k6(t,e,r){const n=t.Ta.shift(),i=o1.from(n,e,r);await qR(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Sm(t)}async function N6(t,e){e&&sa(t).Y_&&await(async function(n,i){if((function(s){return dB(s)&&s!==fe.ABORTED})(i.code)){const o=n.Ta.shift();sa(n).B_(),await qR(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Sm(n)}})(t,e),zR(t)&&WR(t)}async function ZA(t,e){const r=qe(t);r.asyncQueue.verifyOperationInProgress(),we(cs,"RemoteStore received new credentials");const n=bs(r);r.Ea.add(3),await Wf(r),n&&r.Va.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Tm(r)}async function j6(t,e){const r=qe(t);e?(r.Ea.delete(2),await Tm(r)):e||(r.Ea.add(2),await Wf(r),r.Va.set("Unknown"))}function pu(t){return t.ma||(t.ma=(function(r,n,i){const o=qe(r);return o.sa(),new g6(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:E6.bind(null,t),Yo:T6.bind(null,t),t_:S6.bind(null,t),J_:A6.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),m1(t)?p1(t):t.Va.set("Unknown")):(await t.ma.stop(),UR(t))}))),t.ma}function sa(t){return t.fa||(t.fa=(function(r,n,i){const o=qe(r);return o.sa(),new y6(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:C6.bind(null,t),t_:N6.bind(null,t),ta:O6.bind(null,t),na:k6.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Sm(t)):(await t.fa.stop(),t.Ta.length>0&&(we(cs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,r,n,i,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new Za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,o){const s=Date.now()+n,u=new g1(e,r,s,i,o);return u.start(n),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function y1(t,e){if(io("AsyncQueue",`${e}: ${t}`),hu(t))return new Ie(fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{static emptySet(e){return new Tl(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||ke.comparator(r.key,n.key):(r,n)=>ke.comparator(r.key,n.key),this.keyedMap=Pc(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Tl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.ga=new Nt(ke.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Me(63341,{Vt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class Vl{constructor(e,r,n,i,o,s,u,c,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,o){const s=[];return r.forEach((u=>{s.push({type:0,doc:u})})),new Vl(e,r,Tl.emptySet(r),s,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class D6{constructor(){this.queries=tP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=qe(r),o=i.queries;i.queries=tP(),o.forEach(((s,u)=>{for(const c of u.ba)c.onError(n)}))})(this,new Ie(fe.ABORTED,"Firestore shutting down"))}}function tP(){return new vs((t=>fR(t)),vm)}async function M6(t,e){const r=qe(t);let n=3;const i=e.query;let o=r.queries.get(i);o?!o.Sa()&&e.Da()&&(n=2):(o=new R6,n=e.Da()?0:1);try{switch(n){case 0:o.wa=await r.onListen(i,!0);break;case 1:o.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const u=y1(s,`Initialization of query '${gl(e.query)}' failed`);return void e.onError(u)}r.queries.set(i,o),o.ba.push(e),e.va(r.onlineState),o.wa&&e.Fa(o.wa)&&v1(r)}async function L6(t,e){const r=qe(t),n=e.query;let i=3;const o=r.queries.get(n);if(o){const s=o.ba.indexOf(e);s>=0&&(o.ba.splice(s,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function $6(t,e){const r=qe(t);let n=!1;for(const i of e){const o=i.query,s=r.queries.get(o);if(s){for(const u of s.ba)u.Fa(i)&&(n=!0);s.wa=i}}n&&v1(r)}function V6(t,e,r){const n=qe(t),i=n.queries.get(e);if(i)for(const o of i.ba)o.onError(r);n.queries.delete(e)}function v1(t){t.Ca.forEach((e=>{e.next()}))}var __,rP;(rP=__||(__={})).Ma="default",rP.Cache="cache";class B6{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Vl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.Ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==__.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.key=e}}class GR{constructor(e){this.key=e}}class F6{constructor(e,r){this.query=e,this.Za=r,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xe(),this.mutatedKeys=Xe(),this.eu=dR(e),this.tu=new Tl(this.eu)}get nu(){return this.Za}ru(e,r){const n=r?r.iu:new eP,i=r?r.tu:this.tu;let o=r?r.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const v=i.get(h),x=xm(this.query,p)?p:null,S=!!v&&this.mutatedKeys.has(v.key),T=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let _=!1;v&&x?v.data.isEqual(x.data)?S!==T&&(n.track({type:3,doc:x}),_=!0):this.su(v,x)||(n.track({type:2,doc:x}),_=!0,(c&&this.eu(x,c)>0||f&&this.eu(x,f)<0)&&(u=!0)):!v&&x?(n.track({type:0,doc:x}),_=!0):v&&!x&&(n.track({type:1,doc:v}),_=!0,(c||f)&&(u=!0)),_&&(x?(s=s.add(x),o=T?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),n.track({type:1,doc:h})}return{tu:s,iu:n,Ss:u,mutatedKeys:o}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((h,p)=>(function(x,S){const T=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:_})}};return T(x)-T(S)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(n),i=i??!1;const u=r&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,f=c!==this.Xa;return this.Xa=c,s.length!==0||f?{snapshot:new Vl(this.query,e.tu,o,s,e.mutatedKeys,c===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eP,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Za=this.Za.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Za=this.Za.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Xe(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Ya=this.Ya.add(n.key))}));const r=[];return e.forEach((n=>{this.Ya.has(n)||r.push(new GR(n))})),this.Ya.forEach((n=>{e.has(n)||r.push(new HR(n))})),r}cu(e){this.Za=e.ks,this.Ya=Xe();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const x1="SyncEngine";class U6{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class q6{constructor(e){this.key=e,this.hu=!1}}class z6{constructor(e,r,n,i,o,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new vs((u=>fR(u)),vm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Nt(ke.comparator),this.Au=new Map,this.Vu=new l1,this.du={},this.mu=new Map,this.fu=$l.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function W6(t,e,r=!0){const n=ZR(t);let i;const o=n.Tu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await KR(n,e,r,!0),i}async function H6(t,e){const r=ZR(t);await KR(r,e,!0,!1)}async function KR(t,e,r,n){const i=await l6(t.localStore,hi(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,r);let u;return n&&(u=await G6(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&BR(t.remoteStore,i),u}async function G6(t,e,r,n,i){t.pu=(p,v,x)=>(async function(T,_,O,D){let k=_.view.ru(O);k.Ss&&(k=await KA(T.localStore,_.query,!1).then((({documents:A})=>_.view.ru(A,k))));const R=D&&D.targetChanges.get(_.targetId),C=D&&D.targetMismatches.get(_.targetId)!=null,j=_.view.applyChanges(k,T.isPrimaryClient,R,C);return iP(T,_.targetId,j.au),j.snapshot})(t,p,v,x);const o=await KA(t.localStore,e,!0),s=new F6(e,o.ks),u=s.ru(o.documents),c=zf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=s.applyChanges(u,t.isPrimaryClient,c);iP(t,r,f.au);const h=new U6(e,r,s);return t.Tu.set(e,h),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),f.snapshot}async function K6(t,e,r){const n=qe(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);if(o.length>1)return n.Iu.set(i.targetId,o.filter((s=>!vm(s,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await x_(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&d1(n.remoteStore,i.targetId),w_(n,i.targetId)})).catch(du)):(w_(n,i.targetId),await x_(n.localStore,i.targetId,!0))}async function Y6(t,e){const r=qe(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),d1(r.remoteStore,n.targetId))}async function X6(t,e,r){const n=nF(t);try{const i=await(function(s,u){const c=qe(s),f=At.now(),h=u.reduce(((x,S)=>x.add(S.key)),Xe());let p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let S=oo(),T=Xe();return c.xs.getEntries(x,h).next((_=>{S=_,S.forEach(((O,D)=>{D.isValidDocument()||(T=T.add(O))}))})).next((()=>c.localDocuments.getOverlayedDocuments(x,S))).next((_=>{p=_;const O=[];for(const D of u){const k=sB(D,p.get(D.key).overlayedDocument);k!=null&&O.push(new xs(D.key,k,iR(k.value.mapValue),pi.exists(!0)))}return c.mutationQueue.addMutationBatch(x,f,O,u)})).next((_=>{v=_;const O=_.applyToLocalDocumentSet(p,T);return c.documentOverlayCache.saveOverlays(x,_.batchId,O)}))})).then((()=>({batchId:v.batchId,changes:pR(p)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(s,u,c){let f=s.du[s.currentUser.toKey()];f||(f=new Nt(Ye)),f=f.insert(u,c),s.du[s.currentUser.toKey()]=f})(n,i.batchId,r),await Hf(n,i.changes),await Sm(n.remoteStore)}catch(i){const o=y1(i,"Failed to persist write");r.reject(o)}}async function YR(t,e){const r=qe(t);try{const n=await o6(r.localStore,e);e.targetChanges.forEach(((i,o)=>{const s=r.Au.get(o);s&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?ct(s.hu,14607):i.removedDocuments.size>0&&(ct(s.hu,42227),s.hu=!1))})),await Hf(r,n,e)}catch(n){await du(n)}}function nP(t,e,r){const n=qe(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((o,s)=>{const u=s.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(s,u){const c=qe(s);c.onlineState=u;let f=!1;c.queries.forEach(((h,p)=>{for(const v of p.ba)v.va(u)&&(f=!0)})),f&&v1(c)})(n.eventManager,e),i.length&&n.Pu.J_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Q6(t,e,r){const n=qe(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),o=i&&i.key;if(o){let s=new Nt(ke.comparator);s=s.insert(o,Ir.newNoDocument(o,Fe.min()));const u=Xe().add(o),c=new wm(Fe.min(),new Map,new Nt(Ye),s,u);await YR(n,c),n.Ru=n.Ru.remove(o),n.Au.delete(e),b1(n)}else await x_(n.localStore,e,!1).then((()=>w_(n,e,r))).catch(du)}async function J6(t,e){const r=qe(t),n=e.batch.batchId;try{const i=await i6(r.localStore,e);QR(r,n,null),XR(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Hf(r,i)}catch(i){await du(i)}}async function Z6(t,e,r){const n=qe(t);try{const i=await(function(s,u){const c=qe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,u).next((p=>(ct(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(n.localStore,e);QR(n,e,r),XR(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Hf(n,i)}catch(i){await du(i)}}function XR(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function QR(t,e,r){const n=qe(t);let i=n.du[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(r?o.reject(r):o.resolve(),i=i.remove(e)),n.du[n.currentUser.toKey()]=i}}function w_(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((n=>{t.Vu.containsKey(n)||JR(t,n)}))}function JR(t,e){t.Eu.delete(e.path.canonicalString());const r=t.Ru.get(e);r!==null&&(d1(t.remoteStore,r),t.Ru=t.Ru.remove(e),t.Au.delete(r),b1(t))}function iP(t,e,r){for(const n of r)n instanceof HR?(t.Vu.addReference(n.key,e),eF(t,n)):n instanceof GR?(we(x1,"Document no longer in limbo: "+n.key),t.Vu.removeReference(n.key,e),t.Vu.containsKey(n.key)||JR(t,n.key)):Me(19791,{wu:n})}function eF(t,e){const r=e.key,n=r.path.canonicalString();t.Ru.get(r)||t.Eu.has(n)||(we(x1,"New document in limbo: "+r),t.Eu.add(n),b1(t))}function b1(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new ke(St.fromString(e)),n=t.fu.next();t.Au.set(n,new q6(r)),t.Ru=t.Ru.insert(r,n),BR(t.remoteStore,new Yo(hi(r1(r.path)),n,"TargetPurposeLimboResolution",pm.ce))}}async function Hf(t,e,r){const n=qe(t),i=[],o=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach(((u,c)=>{s.push(n.pu(c,e,r).then((f=>{var h;if((f||r)&&n.isPrimaryClient){const p=f?!f.fromCache:(h=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:h.current;n.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=c1.Es(c.targetId,f);o.push(p)}})))})),await Promise.all(s),n.Pu.J_(i),await(async function(c,f){const h=qe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>le.forEach(f,(v=>le.forEach(v.Ts,(x=>h.persistence.referenceDelegate.addReference(p,v.targetId,x))).next((()=>le.forEach(v.Is,(x=>h.persistence.referenceDelegate.removeReference(p,v.targetId,x)))))))))}catch(p){if(!hu(p))throw p;we(f1,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const x=h.vs.get(v),S=x.snapshotVersion,T=x.withLastLimboFreeSnapshotVersion(S);h.vs=h.vs.insert(v,T)}}})(n.localStore,o))}async function tF(t,e){const r=qe(t);if(!r.currentUser.isEqual(e)){we(x1,"User change. New user:",e.toKey());const n=await MR(r.localStore,e);r.currentUser=e,(function(o,s){o.mu.forEach((u=>{u.forEach((c=>{c.reject(new Ie(fe.CANCELLED,s))}))})),o.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Hf(r,n.Ns)}}function rF(t,e){const r=qe(t),n=r.Au.get(e);if(n&&n.hu)return Xe().add(n.key);{let i=Xe();const o=r.Iu.get(e);if(!o)return i;for(const s of o){const u=r.Tu.get(s);i=i.unionWith(u.view.nu)}return i}}function ZR(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q6.bind(null,e),e.Pu.J_=$6.bind(null,e.eventManager),e.Pu.yu=V6.bind(null,e.eventManager),e}function nF(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z6.bind(null,e),e}class ap{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Em(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return n6(this.persistence,new e6,e.initialUser,this.serializer)}Cu(e){return new DR(u1.Vi,this.serializer)}Du(e){return new c6}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ap.provider={build:()=>new ap};class iF extends ap{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){ct(this.persistence.referenceDelegate instanceof ip,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new VB(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Ur.withCacheSize(this.cacheSizeBytes):Ur.DEFAULT;return new DR((n=>ip.Vi(n,r)),this.serializer)}}class E_{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>nP(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=tF.bind(null,this.syncEngine),await j6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new D6})()}createDatastore(e){const r=Em(e.databaseInfo.databaseId),n=m6(e.databaseInfo);return b6(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,o,s,u){return new w6(n,i,o,s,u)})(this.localStore,this.datastore,e.asyncQueue,(r=>nP(this.syncEngine,r,0)),(function(){return QA.v()?new QA:new f6})())}createSyncEngine(e,r){return(function(i,o,s,u,c,f,h){const p=new z6(i,o,s,u,c,f);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const o=qe(i);we(cs,"RemoteStore shutting down."),o.Ea.add(5),await Wf(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}E_.provider={build:()=>new E_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):io("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="FirestoreClient";class aF{constructor(e,r,n,i,o){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this._databaseInfo=i,this.user=Pr.UNAUTHENTICATED,this.clientId=Yw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async s=>{we(la,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(n,(s=>(we(la,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=y1(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Yy(t,e){t.asyncQueue.verifyOperationInProgress(),we(la,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await MR(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function oP(t,e){t.asyncQueue.verifyOperationInProgress();const r=await sF(t);we(la,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>ZA(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>ZA(e.remoteStore,i))),t._onlineComponents=e}async function sF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(la,"Using user provided OfflineComponentProvider");try{await Yy(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;us("Error using user provided cache. Falling back to memory cache: "+r),await Yy(t,new ap)}}else we(la,"Using default OfflineComponentProvider"),await Yy(t,new iF(void 0));return t._offlineComponents}async function eD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(la,"Using user provided OnlineComponentProvider"),await oP(t,t._uninitializedComponentsProvider._online)):(we(la,"Using default OnlineComponentProvider"),await oP(t,new E_))),t._onlineComponents}function lF(t){return eD(t).then((e=>e.syncEngine))}async function aP(t){const e=await eD(t),r=e.eventManager;return r.onListen=W6.bind(null,e.syncEngine),r.onUnlisten=K6.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=H6.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Y6.bind(null,e.syncEngine),r}function uF(t,e,r,n){const i=new oF(n),o=new B6(e,i,r);return t.asyncQueue.enqueueAndForget((async()=>M6(await aP(t),o))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>L6(await aP(t),o)))}}function cF(t,e){const r=new Za;return t.asyncQueue.enqueueAndForget((async()=>X6(await lF(t),e,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF="ComponentProvider",sP=new Map;function dF(t,e,r,n,i){return new I5(t,e,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,tD(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="firestore.googleapis.com",lP=!0;class uP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rD,this.ssl=lP}else this.host=e.host,this.ssl=e.ssl??lP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LB)throw new Ie(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tD(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Ie(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Ie(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Ie(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Am{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new s5;switch(n.type){case"firstParty":return new f5(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ie(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=sP.get(r);n&&(we(fF,"Removing Datastore"),sP.delete(r),n.terminate())})(this),Promise.resolve()}}function hF(t,e,r,n={}){var f;t=es(t,Am);const i=uu(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${r}`;i&&(k2(`https://${u}`),N2("Firestore",!0)),o.host!==rD&&o.host!==u&&us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:u,ssl:i,emulatorOptions:n};if(!as(c,s)&&(t._setSettings(c),n.mockUserToken)){let h,p;if(typeof n.mockUserToken=="string")h=n.mockUserToken,p=Pr.MOCK_USER;else{h=j$(n.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const v=n.mockUserToken.sub||n.mockUserToken.user_id;if(!v)throw new Ie(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Pr(v)}t._authCredentials=new l5(new H2(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Pm(this.firestore,e,this._query)}}class Zt{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}toJSON(){return{type:Zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Uf(r,Zt._jsonSchema))return new Zt(e,n||null,new ke(St.fromString(r.referencePath)))}}Zt._jsonSchemaVersion="firestore/documentReference/1.0",Zt._jsonSchema={type:Wt("string",Zt._jsonSchemaVersion),referencePath:Wt("string")};class ta extends Pm{constructor(e,r,n){super(e,r,r1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new ke(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function pF(t,e,...r){if(t=Wr(t),G2("collection","path",e),t instanceof Am){const n=St.fromString(e,...r);return wA(n),new ta(t,null,n)}{if(!(t instanceof Zt||t instanceof ta))throw new Ie(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(St.fromString(e,...r));return wA(n),new ta(t.firestore,null,n)}}function Vc(t,e,...r){if(t=Wr(t),arguments.length===1&&(e=Yw.newId()),G2("doc","path",e),t instanceof Am){const n=St.fromString(e,...r);return _A(n),new Zt(t,null,new ke(n))}{if(!(t instanceof Zt||t instanceof ta))throw new Ie(fe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(St.fromString(e,...r));return _A(n),new Zt(t.firestore,t instanceof ta?t.converter:null,new ke(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="AsyncQueue";class fP{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $R(this,"async_queue_retry"),this._c=()=>{const n=Ky();n&&we(cP,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=Ky();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=Ky();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Za;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!hu(e))throw e;we(cP,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,io("INTERNAL UNHANDLED ERROR: ",dP(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=g1.createAndSchedule(this,e,r,n,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Me(47125,{Pc:dP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function dP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Zc extends Am{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new fP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fP(e),this._firestoreClient=void 0,await e}}}function mF(t,e){const r=typeof t=="object"?t:M2(),n=typeof t=="string"?t:Jh,i=Gw(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=k$("firestore");o&&hF(i,...o)}return i}function nD(t){if(t._terminated)throw new Ie(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gF(t),t._firestoreClient}function gF(t){var n,i,o,s;const e=t._freezeSettings(),r=dF(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new aF(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bn(xr.fromBase64String(e))}catch(r){throw new Ie(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new bn(xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uf(e,bn._jsonSchema))return bn.fromBase64String(e.bytes)}}bn._jsonSchemaVersion="firestore/bytes/1.0",bn._jsonSchema={type:Wt("string",bn._jsonSchemaVersion),bytes:Wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ie(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ie(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ie(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gi._jsonSchemaVersion}}static fromJSON(e){if(Uf(e,gi._jsonSchema))return new gi(e.latitude,e.longitude)}}gi._jsonSchemaVersion="firestore/geoPoint/1.0",gi._jsonSchema={type:Wt("string",gi._jsonSchemaVersion),latitude:Wt("number"),longitude:Wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Un._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uf(e,Un._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Un(e.vectorValues);throw new Ie(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Un._jsonSchemaVersion="firestore/vectorValue/1.0",Un._jsonSchema={type:Wt("string",Un._jsonSchemaVersion),vectorValues:Wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=/^__.*__$/;class vF{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new xs(e,this.data,this.fieldMask,r,this.fieldTransforms):new qf(e,this.data,r,this.fieldTransforms)}}function oD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{dataSource:t})}}class w1{constructor(e,r,n,i,o,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new w1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePathSegment(e),n}childContextForFieldPath(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePath(),n}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return sp(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(oD(this.dataSource)&&yF.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class xF{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Em(e)}createContext(e,r,n,i=!1){return new w1({dataSource:e,methodName:r,targetDoc:n,path:gr.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bF(t){const e=t._freezeSettings(),r=Em(t._databaseId);return new xF(t._databaseId,!!e.ignoreUndefinedProperties,r)}function _F(t,e,r,n,i,o={}){const s=t.createContext(o.merge||o.mergeFields?2:0,e,r,i);uD("Data must be an object, but it was:",s,n);const u=sD(n,s);let c,f;if(o.merge)c=new Vn(s.fieldMask),f=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const v=T1(e,p,r);if(!s.contains(v))throw new Ie(fe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);TF(h,v)||h.push(v)}c=new Vn(h),f=s.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=s.fieldTransforms;return new vF(new xn(u),c,f)}class E1 extends _1{_toFieldTransform(e){return new nB(e.path,new Xc)}isEqual(e){return e instanceof E1}}function aD(t,e){if(lD(t=Wr(t)))return uD("Unsupported field value:",e,t),sD(t,e);if(t instanceof _1)return(function(n,i){if(!oD(i.dataSource))throw i.createError(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(n,i){const o=[];let s=0;for(const u of n){let c=aD(u,i.childContextForArray(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(t,e)}return(function(n,i){if((n=Wr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return eB(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=At.fromDate(n);return{timestampValue:np(i.serializer,o)}}if(n instanceof At){const o=new At(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:np(i.serializer,o)}}if(n instanceof gi)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof bn)return{bytesValue:AR(i.serializer,n._byteString)};if(n instanceof Zt){const o=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:s1(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Un)return(function(s,u){const c=s instanceof Un?s.toArray():s;return{mapValue:{fields:{[rR]:{stringValue:nR},[Zh]:{arrayValue:{values:c.map((h=>{if(typeof h!="number")throw u.createError("VectorValues must only contain numeric values.");return n1(u.serializer,h)}))}}}}}})(n,i);if(jR(n))return n._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Xw(n)}`)})(t,e)}function sD(t,e){const r={};return X2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(t,((n,i)=>{const o=aD(i,e.childContextForField(n));o!=null&&(r[n]=o)})),{mapValue:{fields:r}}}function lD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof gi||t instanceof bn||t instanceof Zt||t instanceof _1||t instanceof Un||jR(t))}function uD(t,e,r){if(!lD(r)||!K2(r)){const n=Xw(r);throw n==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+n)}}function T1(t,e,r){if((e=Wr(e))instanceof iD)return e._internalPath;if(typeof e=="string")return EF(t,e);throw sp("Field path arguments must be of type string or ",t,!1,void 0,r)}const wF=new RegExp("[~\\*/\\[\\]]");function EF(t,e,r){if(e.search(wF)>=0)throw sp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new iD(...e.split("."))._internalPath}catch{throw sp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function sp(t,e,r,n,i){const o=n&&!n.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new Ie(fe.INVALID_ARGUMENT,u+t+c)}function TF(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{convertValue(e,r="none"){switch(aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ys(e,((i,o)=>{n[i]=this.convertValue(o,r)})),n}convertVectorValue(e){var n,i,o;const r=(o=(i=(n=e.fields)==null?void 0:n[Zh].arrayValue)==null?void 0:i.values)==null?void 0:o.map((s=>Vt(s.doubleValue)));return new Un(r)}convertGeoPoint(e){return new gi(Vt(e.latitude),Vt(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=gm(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Gc(e));default:return null}}convertTimestamp(e){const r=ia(e);return new At(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=St.fromString(e);ct(NR(n),9688,{name:e});const i=new Kc(n.get(1),n.get(3)),o=new ke(n.popFirst(5));return i.isEqual(r)||io(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD extends SF{constructor(e){super(),this.firestore=e}convertBytes(e){return new bn(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,r)}}function T_(){return new E1("serverTimestamp")}const hP="@firebase/firestore",pP="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const o of n)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,r,n,i,o){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const r=this._document.data.field(T1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class AF extends fD{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function IF(t,e,r){let n;return n=t?t.toFirestore(e):e,n}class Cc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ts extends fD{constructor(e,r,n,i,o,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(T1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=ts._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",ts._jsonSchema={type:Wt("string",ts._jsonSchemaVersion),bundleSource:Wt("string","DocumentSnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class zh extends ts{data(e={}){return super.data(e)}}class Sl{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Cc(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new zh(this._firestore,this._userDataWriter,n.key,n,new Cc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ie(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((u=>{const c=new zh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Cc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const c=new zh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Cc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return u.type!==0&&(f=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:CF(u.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(r.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sl._jsonSchemaVersion="firestore/querySnapshot/1.0",Sl._jsonSchema={type:Wt("string",Sl._jsonSchemaVersion),bundleSource:Wt("string","QuerySnapshot"),bundleName:Wt("string"),bundle:Wt("string")};function ef(t,e,r){t=es(t,Zt);const n=es(t.firestore,Zc),i=IF(t.converter,e),o=bF(n);return hD(n,[_F(o,"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,pi.none())])}function OF(t){return hD(es(t.firestore,Zc),[new i1(t._key,pi.none())])}function dD(t,...e){var f,h,p;t=Wr(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||mP(e[n])||(r=e[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(mP(e[n])){const v=e[n];e[n]=(f=v.next)==null?void 0:f.bind(v),e[n+1]=(h=v.error)==null?void 0:h.bind(v),e[n+2]=(p=v.complete)==null?void 0:p.bind(v)}let o,s,u;if(t instanceof Zt)s=es(t.firestore,Zc),u=r1(t._key.path),o={next:v=>{e[n]&&e[n](kF(s,t,v))},error:e[n+1],complete:e[n+2]};else{const v=es(t,Pm);s=es(v.firestore,Zc),u=v._query;const x=new cD(s);o={next:S=>{e[n]&&e[n](new Sl(s,x,v,S))},error:e[n+1],complete:e[n+2]},PF(t._query)}const c=nD(s);return uF(c,u,i,o)}function hD(t,e){const r=nD(t);return cF(r,e)}function kF(t,e,r){const n=r.docs.get(e._key),i=new cD(t);return new ts(t,i,e._key,n,new Cc(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){a5(cu),Rl(new ss("firestore",((n,{instanceIdentifier:i,options:o})=>{const s=n.getProvider("app").getImmediate(),u=new Zc(new u5(n.getProvider("auth-internal")),new d5(s,n.getProvider("app-check-internal")),C5(s,i),s);return o={useFetchStreams:r,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Zo(hP,pP,e),Zo(hP,pP,"esm2020")})();var NF="firebase",jF="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zo(NF,jF,"app");function pD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RF=pD,mD=new Bf("auth","Firebase",pD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=new Ww("@firebase/auth");function DF(t,...e){lp.logLevel<=Ke.WARN&&lp.warn(`Auth (${cu}): ${t}`,...e)}function Wh(t,...e){lp.logLevel<=Ke.ERROR&&lp.error(`Auth (${cu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t,...e){throw A1(t,...e)}function qn(t,...e){return A1(t,...e)}function S1(t,e,r){const n={...RF(),[e]:r};return new Bf("auth","Firebase",n).create(e,{appName:t.name})}function rs(t){return S1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function MF(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&wi(t,"argument-error"),S1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function A1(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return mD.create(t,...e)}function Ve(t,e,...r){if(!t)throw A1(e,...r)}function Ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wh(e),new Error(e)}function ao(t,e){t||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function LF(){return gP()==="http:"||gP()==="https:"}function gP(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LF()||V$()||"connection"in navigator)?navigator.onLine:!0}function VF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,r){this.shortDelay=e,this.longDelay=r,ao(r>e,"Short delay should be less than long delay!"),this.isMobile=M$()||B$()}get(){return $F()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t,e){ao(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UF=new Gf(3e4,6e4);function I1(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function mu(t,e,r,n,i={}){return yD(t,i,async()=>{let o={},s={};n&&(e==="GET"?s=n:o={body:JSON.stringify(n)});const u=Ff({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...o};return $$()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&uu(t.emulatorConfig.host)&&(f.credentials="include"),gD.fetch()(await vD(t,t.config.apiHost,r,u),f)})}async function yD(t,e,r){t._canInitEmulator=!1;const n={...BF,...e};try{const i=new zF(t),o=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Sh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const u=o.ok?s.errorMessage:s.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Sh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Sh(t,"user-disabled",s);const h=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw S1(t,h,f);wi(t,h)}}catch(i){if(i instanceof co)throw i;wi(t,"network-request-failed",{message:String(i)})}}async function qF(t,e,r,n,i={}){const o=await mu(t,e,r,n,i);return"mfaPendingCredential"in o&&wi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function vD(t,e,r,n){const i=`${e}${r}?${n}`,o=t,s=o.config.emulator?P1(t.config,i):`${t.config.apiScheme}://${i}`;return FF.includes(r)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class zF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(qn(this.auth,"network-request-failed")),UF.get())})}}function Sh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=qn(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WF(t,e){return mu(t,"POST","/v1/accounts:delete",e)}async function up(t,e){return mu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HF(t,e=!1){const r=Wr(t),n=await r.getIdToken(e),i=C1(n);Ve(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:Bc(Xy(i.auth_time)),issuedAtTime:Bc(Xy(i.iat)),expirationTime:Bc(Xy(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Xy(t){return Number(t)*1e3}function C1(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Wh("JWT malformed, contained fewer than 3 sections"),null;try{const i=P2(r);return i?JSON.parse(i):(Wh("Failed to decode base64 JWT payload"),null)}catch(i){return Wh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yP(t){const e=C1(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tf(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof co&&GF(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function GF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bc(this.lastLoginAt),this.creationTime=Bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cp(t){var p;const e=t.auth,r=await t.getIdToken(),n=await tf(t,up(e,{idToken:r}));Ve(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const o=(p=i.providerUserInfo)!=null&&p.length?xD(i.providerUserInfo):[],s=XF(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),f=u?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new A_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function YF(t){const e=Wr(t);await cp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XF(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function xD(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QF(t,e){const r=await yD(t,{},async()=>{const n=Ff({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await vD(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:n};return t.emulatorConfig&&uu(t.emulatorConfig.host)&&(c.credentials="include"),gD.fetch()(s,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function JF(t,e){return mu(t,"POST","/v2/accounts:revokeToken",I1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const r=yP(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:o}=await QF(e,r);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:o}=r,s=new Al;return n&&(Ve(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(Ve(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ve(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bn{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new KF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new A_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await tf(this,this.stsTokenManager.getToken(this.auth,e));return Ve(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return HF(this,e)}reload(){return YF(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Bn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await cp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await tf(this,WF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,o=r.phoneNumber??void 0,s=r.photoURL??void 0,u=r.tenantId??void 0,c=r._redirectEventId??void 0,f=r.createdAt??void 0,h=r.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:x,providerData:S,stsTokenManager:T}=r;Ve(p&&T,e,"internal-error");const _=Al.fromJSON(this.name,T);Ve(typeof p=="string",e,"internal-error"),qo(n,e.name),qo(i,e.name),Ve(typeof v=="boolean",e,"internal-error"),Ve(typeof x=="boolean",e,"internal-error"),qo(o,e.name),qo(s,e.name),qo(u,e.name),qo(c,e.name),qo(f,e.name),qo(h,e.name);const O=new Bn({uid:p,auth:e,email:i,emailVerified:v,displayName:n,isAnonymous:x,photoURL:s,phoneNumber:o,tenantId:u,stsTokenManager:_,createdAt:f,lastLoginAt:h});return S&&Array.isArray(S)&&(O.providerData=S.map(D=>({...D}))),c&&(O._redirectEventId=c),O}static async _fromIdTokenResponse(e,r,n=!1){const i=new Al;i.updateFromServerResponse(r);const o=new Bn({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await cp(o),o}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ve(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?xD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Al;u.updateFromIdToken(n);const c=new Bn({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new A_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=new Map;function Yi(t){ao(t instanceof Function,"Expected a class definition");let e=vP.get(t);return e?(ao(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}bD.type="NONE";const xP=bD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t,e,r){return`firebase:${t}:${e}:${r}`}class Pl{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=Hh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Hh("persistence",i.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await up(this.auth,{idToken:e}).catch(()=>{});return r?Bn._fromGetAccountInfoResponse(this.auth,r,e):null}return Bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Pl(Yi(xP),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Yi(xP);const s=Hh(n,e.config.apiKey,e.name);let u=null;for(const f of r)try{const h=await f._get(s);if(h){let p;if(typeof h=="string"){const v=await up(e,{idToken:h}).catch(()=>{});if(!v)break;p=await Bn._fromGetAccountInfoResponse(e,v,h)}else p=Bn._fromJSON(e,h);f!==o&&(u=p),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Pl(o,e,n):(o=c[0],u&&await o._set(s,u.toJSON()),await Promise.all(r.map(async f=>{if(f!==o)try{await f._remove(s)}catch{}})),new Pl(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_D(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AD(e))return"Blackberry";if(PD(e))return"Webos";if(wD(e))return"Safari";if((e.includes("chrome/")||ED(e))&&!e.includes("edge/"))return"Chrome";if(SD(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function _D(t=kr()){return/firefox\//i.test(t)}function wD(t=kr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ED(t=kr()){return/crios\//i.test(t)}function TD(t=kr()){return/iemobile/i.test(t)}function SD(t=kr()){return/android/i.test(t)}function AD(t=kr()){return/blackberry/i.test(t)}function PD(t=kr()){return/webos/i.test(t)}function O1(t=kr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ZF(t=kr()){var e;return O1(t)&&!!((e=window.navigator)!=null&&e.standalone)}function eU(){return F$()&&document.documentMode===10}function ID(t=kr()){return O1(t)||SD(t)||PD(t)||AD(t)||/windows phone/i.test(t)||TD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t,e=[]){let r;switch(t){case"Browser":r=bP(kr());break;case"Worker":r=`${bP(kr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${cu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=o=>new Promise((s,u)=>{try{const c=e(o);s(c)}catch(c){u(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rU(t,e={}){return mu(t,"GET","/v2/passwordPolicy",I1(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=6;class iU{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??nU,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _P(this),this.idTokenSubscription=new _P(this),this.beforeStateQueue=new tU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Yi(r)),this._initializationPromise=this.queue(async()=>{var n,i,o;if(!this._deleted&&(this.persistenceManager=await Pl.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await up(this,{idToken:e}),n=await Bn._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Ln(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,u=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await cp(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(rs(this));const r=e?Wr(e):null;return r&&Ve(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rU(this),r=new iU(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await JF(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Yi(e)||this._popupRedirectResolver;Ve(r,this,"argument-error"),this.redirectPersistenceManager=await Pl.create(this,[Yi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(u,this,"internal-error"),u.then(()=>{s||o(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&DF(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Im(t){return Wr(t)}class _P{constructor(e){this.auth=e,this.observer=null,this.addObserver=Y$(r=>this.observer=r)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aU(t){k1=t}function sU(t){return k1.loadJS(t)}function lU(){return k1.gapiScript}function uU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t,e){const r=Gw(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),o=r.getOptions();if(as(o,e??{}))return i;wi(i,"already-initialized")}return r.initialize({options:e})}function fU(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Yi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function dU(t,e,r){const n=Im(t);Ve(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=OD(e),{host:s,port:u}=hU(e),c=u===null?"":`:${u}`,f={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Ve(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ve(as(f,n.config.emulator)&&as(h,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=h,n.settings.appVerificationDisabledForTesting=!0,uu(s)?(k2(`${o}//${s}${c}`),N2("Auth",!0)):pU()}function OD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hU(t){const e=OD(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:wP(n.substr(o.length+1))}}else{const[o,s]=n.split(":");return{host:o,port:wP(s)}}}function wP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pU(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,r){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t,e){return qF(t,"POST","/v1/accounts:signInWithIdp",I1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU="http://localhost";class fs extends kD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):wi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...o}=r;if(!n||!i)return null;const s=new fs(n,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return Il(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Il(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Il(e,r)}buildRequest(){const e={requestUri:mU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Ff(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends N1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends Kf{constructor(){super("facebook.com")}static credential(e){return fs._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wo.credential(e.oauthAccessToken)}catch{return null}}}Wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Kf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return fs._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Gi.credential(r,n)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends Kf{constructor(){super("github.com")}static credential(e){return fs._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ho.credential(e.oauthAccessToken)}catch{return null}}}Ho.GITHUB_SIGN_IN_METHOD="github.com";Ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Kf{constructor(){super("twitter.com")}static credential(e,r){return fs._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Go.credential(r,n)}catch{return null}}}Go.TWITTER_SIGN_IN_METHOD="twitter.com";Go.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const o=await Bn._fromIdTokenResponse(e,n,i),s=EP(n);return new Bl({user:o,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=EP(n);return new Bl({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function EP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends co{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,fp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new fp(e,r,n,i)}}function ND(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fp._fromErrorAndOperation(t,o,e,n):o})}async function gU(t,e,r=!1){const n=await tf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Bl._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(t,e,r=!1){const{auth:n}=t;if(Ln(n.app))return Promise.reject(rs(n));const i="reauthenticate";try{const o=await tf(t,ND(n,i,e,t),r);Ve(o.idToken,n,"internal-error");const s=C1(o.idToken);Ve(s,n,"internal-error");const{sub:u}=s;return Ve(t.uid===u,n,"user-mismatch"),Bl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&wi(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(t,e,r=!1){if(Ln(t.app))return Promise.reject(rs(t));const n="signIn",i=await ND(t,n,e),o=await Bl._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(o.user),o}function xU(t,e,r,n){return Wr(t).onIdTokenChanged(e,r,n)}function bU(t,e,r){return Wr(t).beforeAuthStateChanged(e,r)}function _U(t,e,r,n){return Wr(t).onAuthStateChanged(e,r,n)}function wU(t){return Wr(t).signOut()}const dp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(dp,"1"),this.storage.removeItem(dp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=1e3,TU=10;class RD extends jD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ID(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},o=this.storage.getItem(n);eU()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,TU):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},EU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}RD.type="LOCAL";const SU=RD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD extends jD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}DD.type="SESSION";const MD=DD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Cm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:o}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(s).map(async f=>f(r.origin,o)),c=await AU(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((u,c)=>{const f=j1("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function IU(t){yi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function CU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function kU(){return LD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="firebaseLocalStorageDb",NU=1,hp="firebaseLocalStorage",VD="fbase_key";class Yf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Om(t,e){return t.transaction([hp],e?"readwrite":"readonly").objectStore(hp)}function jU(){const t=indexedDB.deleteDatabase($D);return new Yf(t).toPromise()}function P_(){const t=indexedDB.open($D,NU);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(hp,{keyPath:VD})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(hp)?e(n):(n.close(),await jU(),e(await P_()))})})}async function TP(t,e,r){const n=Om(t,!0).put({[VD]:e,value:r});return new Yf(n).toPromise()}async function RU(t,e){const r=Om(t,!1).get(e),n=await new Yf(r).toPromise();return n===void 0?null:n.value}function SP(t,e){const r=Om(t,!0).delete(e);return new Yf(r).toPromise()}const DU=800,MU=3;class BD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await P_(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>MU)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cm._getInstance(kU()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await CU(),!this.activeServiceWorker)return;this.sender=new PU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await P_();return await TP(e,dp,"1"),await SP(e,dp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>TP(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>RU(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>SP(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Om(i,!1).getAll();return new Yf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BD.type="LOCAL";const LU=BD;new Gf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t,e){return e?Yi(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1 extends kD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Il(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Il(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Il(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function $U(t){return vU(t.auth,new R1(t),t.bypassAuthState)}function VU(t){const{auth:e,user:r}=t;return Ve(r,e,"internal-error"),yU(r,new R1(t),t.bypassAuthState)}async function BU(t){const{auth:e,user:r}=t;return Ve(r,e,"internal-error"),gU(r,new R1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,r,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:o,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $U;case"linkViaPopup":case"linkViaRedirect":return BU;case"reauthViaPopup":case"reauthViaRedirect":return VU;default:wi(this.auth,"internal-error")}}resolve(e){ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=new Gf(2e3,1e4);async function UU(t,e,r){if(Ln(t.app))return Promise.reject(qn(t,"operation-not-supported-in-this-environment"));const n=Im(t);MF(t,e,N1);const i=FD(n,r);return new Ka(n,"signInViaPopup",e,i).executeNotNull()}class Ka extends UD{constructor(e,r,n,i,o){super(e,r,i,o),this.provider=n,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){ao(this.filter.length===1,"Popup operations only handle one event");const e=j1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FU.get())};e()}}Ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU="pendingRedirect",Gh=new Map;class zU extends UD{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Gh.get(this.auth._key());if(!e){try{const n=await WU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Gh.set(this.auth._key(),e)}return this.bypassAuthState||Gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WU(t,e){const r=KU(e),n=GU(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function HU(t,e){Gh.set(t._key(),e)}function GU(t){return Yi(t._redirectPersistence)}function KU(t){return Hh(qU,t.config.apiKey,t.name)}async function YU(t,e,r=!1){if(Ln(t.app))return Promise.reject(rs(t));const n=Im(t),i=FD(n,e),s=await new zU(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=600*1e3;class QU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JU(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!qD(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(qn(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XU&&this.cachedEventUids.clear(),this.cachedEventUids.has(AP(e))}saveEventToCache(e){this.cachedEventUids.add(AP(e)),this.lastProcessedEventTime=Date.now()}}function AP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZU(t,e={}){return mu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t9=/^https?/;async function r9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ZU(t);for(const r of e)try{if(n9(r))return}catch{}wi(t,"unauthorized-domain")}function n9(t){const e=S_(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!t9.test(r))return!1;if(e9.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=new Gf(3e4,6e4);function PP(){const t=yi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function o9(t){return new Promise((e,r)=>{var i,o,s;function n(){PP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PP(),r(qn(t,"network-request-failed"))},timeout:i9.get()})}if((o=(i=yi().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=yi().gapi)!=null&&s.load)n();else{const u=uU("iframefcb");return yi()[u]=()=>{gapi.load?n():r(qn(t,"network-request-failed"))},sU(`${lU()}?onload=${u}`).catch(c=>r(c))}}).catch(e=>{throw Kh=null,e})}let Kh=null;function a9(t){return Kh=Kh||o9(t),Kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=new Gf(5e3,15e3),l9="__/auth/iframe",u9="emulator/auth/iframe",c9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d9(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?P1(e,u9):`https://${t.config.authDomain}/${l9}`,n={apiKey:e.apiKey,appName:t.name,v:cu},i=f9.get(t.config.apiHost);i&&(n.eid=i);const o=t._getFrameworks();return o.length&&(n.fw=o.join(",")),`${r}?${Ff(n).slice(1)}`}async function h9(t){const e=await a9(t),r=yi().gapi;return Ve(r,t,"internal-error"),e.open({where:document.body,url:d9(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c9,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const s=qn(t,"network-request-failed"),u=yi().setTimeout(()=>{o(s)},s9.get());function c(){yi().clearTimeout(u),i(n)}n.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m9=500,g9=600,y9="_blank",v9="http://localhost";class IP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x9(t,e,r,n=m9,i=g9){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const c={...p9,width:n.toString(),height:i.toString(),top:o,left:s},f=kr().toLowerCase();r&&(u=ED(f)?y9:r),_D(f)&&(e=e||v9,c.scrollbars="yes");const h=Object.entries(c).reduce((v,[x,S])=>`${v}${x}=${S},`,"");if(ZF(f)&&u!=="_self")return b9(e||"",u),new IP(null);const p=window.open(e||"",u,h);Ve(p,t,"popup-blocked");try{p.focus()}catch{}return new IP(p)}function b9(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9="__/auth/handler",w9="emulator/auth/handler",E9=encodeURIComponent("fac");async function CP(t,e,r,n,i,o){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:cu,eventId:i};if(e instanceof N1){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",K$(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))s[h]=p}if(e instanceof Kf){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),f=c?`#${E9}=${encodeURIComponent(c)}`:"";return`${T9(t)}?${Ff(u).slice(1)}${f}`}function T9({config:t}){return t.emulator?P1(t,w9):`https://${t.authDomain}/${_9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="webStorageSupport";class S9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MD,this._completeRedirectFn=YU,this._overrideRedirectResult=HU}async _openPopup(e,r,n,i){var s;ao((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await CP(e,r,n,S_(),i);return x9(e,o,j1())}async _openRedirect(e,r,n,i){await this._originValidation(e);const o=await CP(e,r,n,S_(),i);return IU(o),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:o}=this.eventManagers[r];return i?Promise.resolve(i):(ao(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await h9(e),n=new QU(e);return r.register("authEvent",i=>(Ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Qy,{type:Qy},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[Qy];o!==void 0&&r(!!o),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=r9(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return ID()||wD()||O1()}}const A9=S9;var OP="@firebase/auth",kP="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C9(t){Rl(new ss("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=n.options;Ve(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CD(t)},f=new oU(n,i,o,c);return fU(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Rl(new ss("auth-internal",e=>{const r=Im(e.getProvider("auth").getImmediate());return(n=>new P9(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zo(OP,kP,I9(t)),Zo(OP,kP,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=300,k9=O2("authIdTokenMaxAge")||O9;let NP=null;const N9=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>k9)return;const i=r==null?void 0:r.token;NP!==i&&(NP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function j9(t=M2()){const e=Gw(t,"auth");if(e.isInitialized())return e.getImmediate();const r=cU(t,{popupRedirectResolver:A9,persistence:[LU,SU,MD]}),n=O2("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const s=N9(o.toString());bU(r,s,()=>s(r.currentUser)),xU(r,u=>s(u))}}const i=I2("auth");return i&&dU(r,`http://${i}`),r}function R9(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}aU({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const o=qn("internal-error");o.customData=i,r(o)},n.type="text/javascript",n.charset="UTF-8",R9().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C9("Browser");const D9={apiKey:"AIzaSyCLnLTVNRck2Ezz1z3VTTNobarWy7l_TMs",authDomain:"wanderplanner-dbee7.firebaseapp.com",projectId:"wanderplanner-dbee7",storageBucket:"wanderplanner-dbee7.firebasestorage.app",messagingSenderId:"151242477554",appId:"1:151242477554:web:f8a46861d6c46390dee56b"},zD=D2(D9),Jy=j9(zD),xl=mF(zD),M9=new Gi,Zy=Vc(xl,"trips","__profiles__"),I_="wanderplan_profiles",WD=q.createContext(null);function jP(){try{const t=localStorage.getItem(I_);if(t)return JSON.parse(t)}catch{}return[]}function L9({children:t}){const[e,r]=q.useState(jP),n=q.useRef(!1),i=q.useRef(!1);q.useEffect(()=>dD(Zy,f=>{if(f.exists()){const h=f.data().profiles||[];i.current=!0,r(h);try{localStorage.setItem(I_,JSON.stringify(h))}catch{}}else{const h=jP();h.length>0?(i.current=!0,ef(Zy,{profiles:h}).catch(console.error)):i.current=!0}n.current=!0},f=>{console.warn("[Wanderplan] Profiles listener error:",f),n.current=!0}),[]),q.useEffect(()=>{if(i.current){i.current=!1;return}if(n.current){ef(Zy,{profiles:e}).catch(console.error);try{localStorage.setItem(I_,JSON.stringify(e))}catch{}}},[e]);const o=q.useCallback(c=>{const f={id:Date.now().toString(36)+Math.random().toString(36).slice(2,6),name:c.name.trim(),photo:c.photo||null};return r(h=>[...h,f]),f},[]),s=q.useCallback((c,f)=>{r(h=>h.map(p=>p.id===c?{...p,...f}:p))},[]),u=q.useCallback(c=>{r(f=>f.filter(h=>h.id!==c))},[]);return g.jsx(WD.Provider,{value:{profiles:e,addProfile:o,updateProfile:s,deleteProfile:u},children:t})}function _s(){const t=q.useContext(WD);if(!t)throw new Error("useProfiles must be used within ProfileProvider");return t}function HD(){const[t,e]=q.useState(null),[r,n]=q.useState(!0);return q.useEffect(()=>_U(Jy,u=>{e(u||!1),n(!1)}),[]),{user:t,authLoading:r,signInWithGoogle:async()=>{await UU(Jy,M9)},signOutUser:async()=>{await wU(Jy)}}}const pp=[{code:"PHP",symbol:"",name:"Philippine Peso"},{code:"USD",symbol:"$",name:"US Dollar"},{code:"SGD",symbol:"S$",name:"Singapore Dollar"},{code:"THB",symbol:"",name:"Thai Baht"},{code:"MYR",symbol:"RM",name:"Malaysian Ringgit"},{code:"EUR",symbol:"",name:"Euro"},{code:"GBP",symbol:"",name:"British Pound"},{code:"JPY",symbol:"",name:"Japanese Yen"},{code:"KRW",symbol:"",name:"Korean Won"},{code:"IDR",symbol:"Rp",name:"Indonesian Rupiah"}];function $9(t){const e=pp.find(r=>r.code===t);return e?e.symbol:t}function Wi(){return Date.now().toString(36)+Math.random().toString(36).slice(2,8)}function Fl(t,e="medium"){if(!t)return"";const r=new Date(t+"T00:00:00");if(isNaN(r.getTime()))return t;switch(e){case"short":return r.toLocaleDateString("en-US",{month:"short",day:"numeric"});case"medium":return r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});case"long":return r.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});case"full":return r.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});case"weekday":return r.toLocaleDateString("en-US",{weekday:"short"});default:return r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}}function GD(t,e){if(!t||!e)return"";const r=new Date(t+"T00:00:00"),n=new Date(e+"T00:00:00"),i=r.toLocaleDateString("en-US",{month:"short"}),o=n.toLocaleDateString("en-US",{month:"short"});return i===o?`${i} ${r.getDate()}${n.getDate()}, ${n.getFullYear()}`:`${i} ${r.getDate()}  ${o} ${n.getDate()}, ${n.getFullYear()}`}function sn(t,e="PHP"){return t==null||isNaN(t)?"":`${$9(e)}${Number(t).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`}function V9(t){if(!t)return null;const e=new Date,n=new Date(t+"T00:00:00")-e;return Math.ceil(n/(1e3*60*60*24))}function B9(t){return JSON.parse(JSON.stringify(t))}function F9(t,e,r){return t===1?e:r||e+"s"}const pe={SET_ACTIVE_TRIP:"SET_ACTIVE_TRIP",ADD_TRIP:"ADD_TRIP",UPDATE_TRIP:"UPDATE_TRIP",DELETE_TRIP:"DELETE_TRIP",DUPLICATE_TRIP:"DUPLICATE_TRIP",RENAME_TRIP:"RENAME_TRIP",SET_TAB:"SET_TAB",TOGGLE_SIDEBAR:"TOGGLE_SIDEBAR",SET_SIDEBAR:"SET_SIDEBAR",SHOW_TOAST:"SHOW_TOAST",HIDE_TOAST:"HIDE_TOAST",TOGGLE_DARK_MODE:"TOGGLE_DARK_MODE",ADD_DAY:"ADD_DAY",REMOVE_DAY:"REMOVE_DAY",UPDATE_DAY:"UPDATE_DAY",REORDER_DAYS:"REORDER_DAYS",ADD_ACTIVITY:"ADD_ACTIVITY",UPDATE_ACTIVITY:"UPDATE_ACTIVITY",DELETE_ACTIVITY:"DELETE_ACTIVITY",REORDER_ACTIVITIES:"REORDER_ACTIVITIES",ADD_BOOKING:"ADD_BOOKING",UPDATE_BOOKING:"UPDATE_BOOKING",DELETE_BOOKING:"DELETE_BOOKING",CYCLE_BOOKING_STATUS:"CYCLE_BOOKING_STATUS",SET_BOOKING_STATUS:"SET_BOOKING_STATUS",UPDATE_BUDGET_CATEGORY:"UPDATE_BUDGET_CATEGORY",ADD_BUDGET_CATEGORY:"ADD_BUDGET_CATEGORY",DELETE_BUDGET_CATEGORY:"DELETE_BUDGET_CATEGORY",ADD_SPENDING:"ADD_SPENDING",DELETE_SPENDING:"DELETE_SPENDING",ADD_TODO:"ADD_TODO",TOGGLE_TODO:"TOGGLE_TODO",UPDATE_TODO:"UPDATE_TODO",DELETE_TODO:"DELETE_TODO",ADD_PACKING_ITEM:"ADD_PACKING_ITEM",TOGGLE_PACKING_ITEM:"TOGGLE_PACKING_ITEM",DELETE_PACKING_ITEM:"DELETE_PACKING_ITEM",RESET_PACKING:"RESET_PACKING",UPDATE_CITY:"UPDATE_CITY",ADD_CITY:"ADD_CITY",DELETE_CITY:"DELETE_CITY",UPDATE_NOTES:"UPDATE_NOTES",SET_TRIPS_FROM_FIRESTORE:"SET_TRIPS_FROM_FIRESTORE"},ev=["not_started","in_progress","booked"];function tt(t,e,r){const n={...t.trips},i=n[e];return i?(n[e]=typeof r=="function"?r(i):{...i,...r},{...t,trips:n}):t}function U9(t,e){const{type:r,payload:n}=e,i=t.activeTripId;switch(r){case pe.SET_ACTIVE_TRIP:return{...t,activeTripId:n,activeTab:"overview"};case pe.ADD_TRIP:{const o={...t.trips,[n.id]:n};return{...t,trips:o,activeTripId:n.id,activeTab:"overview"}}case pe.UPDATE_TRIP:return tt(t,n.id,n.updates);case pe.DELETE_TRIP:{const o={...t.trips};delete o[n];const s=Object.keys(o);return{...t,trips:o,activeTripId:s.length>0?s[0]:null,activeTab:"overview"}}case pe.DUPLICATE_TRIP:{const o=t.trips[n];if(!o)return t;const s=Wi(),u=B9(o);return u.id=s,u.name=o.name+" (Copy)",u.createdAt=new Date().toISOString(),{...t,trips:{...t.trips,[s]:u},activeTripId:s}}case pe.RENAME_TRIP:return tt(t,n.id,{name:n.name});case pe.SET_TAB:return{...t,activeTab:n};case pe.TOGGLE_SIDEBAR:return{...t,sidebarOpen:!t.sidebarOpen};case pe.SET_SIDEBAR:return{...t,sidebarOpen:n};case pe.SHOW_TOAST:return{...t,toast:{message:n.message,type:n.type||"success",visible:!0}};case pe.HIDE_TOAST:return{...t,toast:{...t.toast,visible:!1}};case pe.TOGGLE_DARK_MODE:return{...t,darkMode:!t.darkMode};case pe.ADD_DAY:return tt(t,i,o=>({...o,itinerary:[...o.itinerary,{id:Wi(),date:n.date||"",dayNumber:o.itinerary.length+1,location:n.location||"",emoji:n.emoji||"",activities:[],notes:""}]}));case pe.REMOVE_DAY:return tt(t,i,o=>({...o,itinerary:o.itinerary.filter(s=>s.id!==n).map((s,u)=>({...s,dayNumber:u+1}))}));case pe.UPDATE_DAY:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>s.id===n.dayId?{...s,...n.updates}:s)}));case pe.REORDER_DAYS:return tt(t,i,o=>{const s=[...o.itinerary],[u]=s.splice(n.fromIndex,1);return s.splice(n.toIndex,0,u),{...o,itinerary:s.map((c,f)=>({...c,dayNumber:f+1}))}});case pe.ADD_ACTIVITY:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>s.id===n.dayId?{...s,activities:[...s.activities,{id:Wi(),time:"",name:"",emoji:"",notes:"",...n.activity}]}:s)}));case pe.UPDATE_ACTIVITY:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>s.id===n.dayId?{...s,activities:s.activities.map(u=>u.id===n.activityId?{...u,...n.updates}:u)}:s)}));case pe.DELETE_ACTIVITY:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>s.id===n.dayId?{...s,activities:s.activities.filter(u=>u.id!==n.activityId)}:s)}));case pe.REORDER_ACTIVITIES:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>{if(s.id!==n.dayId)return s;const u=[...s.activities],[c]=u.splice(n.fromIndex,1);return u.splice(n.toIndex,0,c),{...s,activities:u}})}));case pe.ADD_BOOKING:return tt(t,i,o=>({...o,bookings:[{id:Wi(),status:"not_started",priority:!1,amountPaid:0,confirmationNumber:"",currency:o.currency,...n},...o.bookings]}));case pe.UPDATE_BOOKING:return tt(t,i,o=>({...o,bookings:o.bookings.map(s=>s.id===n.id?{...s,...n.updates}:s)}));case pe.DELETE_BOOKING:return tt(t,i,o=>({...o,bookings:o.bookings.filter(s=>s.id!==n)}));case pe.CYCLE_BOOKING_STATUS:return tt(t,i,o=>({...o,bookings:o.bookings.map(s=>{if(s.id!==n)return s;const u=ev.indexOf(s.status),c=ev[(u+1)%ev.length];return{...s,status:c}})}));case pe.SET_BOOKING_STATUS:return tt(t,i,o=>({...o,bookings:o.bookings.map(s=>s.id===n.id?{...s,status:n.status}:s)}));case pe.UPDATE_BUDGET_CATEGORY:return tt(t,i,o=>({...o,budget:o.budget.map(s=>s.id===n.id?{...s,...n.updates}:s)}));case pe.ADD_BUDGET_CATEGORY:return tt(t,i,o=>({...o,budget:[...o.budget,{id:Wi(),name:n.name||"New Category",emoji:n.emoji||"",min:0,max:0,actual:0}]}));case pe.DELETE_BUDGET_CATEGORY:return tt(t,i,o=>({...o,budget:o.budget.filter(s=>s.id!==n)}));case pe.ADD_SPENDING:return tt(t,i,o=>{const s={id:Wi(),date:new Date().toISOString().slice(0,10),...n},u=o.budget.map(c=>c.name===n.category?{...c,actual:(c.actual||0)+(n.amount||0)}:c);return{...o,spendingLog:[...o.spendingLog,s],budget:u}});case pe.DELETE_SPENDING:return tt(t,i,o=>{const s=o.spendingLog.find(c=>c.id===n);if(!s)return{...o,spendingLog:o.spendingLog.filter(c=>c.id!==n)};const u=o.budget.map(c=>c.name===s.category?{...c,actual:Math.max(0,(c.actual||0)-(s.amount||0))}:c);return{...o,spendingLog:o.spendingLog.filter(c=>c.id!==n),budget:u}});case pe.ADD_TODO:return tt(t,i,o=>({...o,todos:[...o.todos,{id:Wi(),done:!1,priority:"normal",dueDate:"",category:"Misc",...n}]}));case pe.TOGGLE_TODO:return tt(t,i,o=>({...o,todos:o.todos.map(s=>s.id===n?{...s,done:!s.done}:s)}));case pe.UPDATE_TODO:return tt(t,i,o=>({...o,todos:o.todos.map(s=>s.id===n.id?{...s,...n.updates}:s)}));case pe.DELETE_TODO:return tt(t,i,o=>({...o,todos:o.todos.filter(s=>s.id!==n)}));case pe.ADD_PACKING_ITEM:return tt(t,i,o=>({...o,packingList:[...o.packingList,{id:Wi(),packed:!1,section:"Misc",...n}]}));case pe.TOGGLE_PACKING_ITEM:return tt(t,i,o=>({...o,packingList:o.packingList.map(s=>s.id===n?{...s,packed:!s.packed}:s)}));case pe.DELETE_PACKING_ITEM:return tt(t,i,o=>({...o,packingList:o.packingList.filter(s=>s.id!==n)}));case pe.RESET_PACKING:return tt(t,i,o=>({...o,packingList:o.packingList.map(s=>({...s,packed:!1}))}));case pe.UPDATE_CITY:return tt(t,i,o=>({...o,cities:o.cities.map(s=>s.id===n.id?{...s,...n.updates}:s)}));case pe.ADD_CITY:return tt(t,i,o=>({...o,cities:[...o.cities||[],{id:Wi(),city:n.city||"New City",country:n.country||"",flag:n.flag||"",highlights:"",mustDo:"",weather:"",currencyTip:"",notes:""}]}));case pe.DELETE_CITY:return tt(t,i,o=>({...o,cities:o.cities.filter(s=>s.id!==n)}));case pe.UPDATE_NOTES:return tt(t,i,{notes:n});case pe.SET_TRIPS_FROM_FIRESTORE:{const o=n,s=Object.keys(o),u=t.activeTripId,c=u&&o[u]?u:s.length>0?s[0]:null;return{...t,trips:o,activeTripId:c}}default:return t}}const RP={id:"sea-adventure-2026",name:"Val & Partner's SEA Adventure",emoji:"",destinations:[{city:"Cebu",country:"Philippines",flag:""},{city:"Singapore",country:"Singapore",flag:""},{city:"Koh Samui",country:"Thailand",flag:""},{city:"Kuala Lumpur",country:"Malaysia",flag:""},{city:"Cebu",country:"Philippines",flag:""}],startDate:"2026-11-14",endDate:"2026-11-22",travelers:2,currency:"PHP",createdAt:"2025-01-01T00:00:00.000Z",itinerary:[{id:"day-1",date:"2026-11-14",dayNumber:1,location:"Cebu  Singapore",emoji:"",activities:[{id:"a1",time:"06:00",name:"Depart Cebu (Mactan)",emoji:"",notes:"Early morning flight"},{id:"a2",time:"12:00",name:"Arrive Singapore Changi",emoji:"",notes:"Collect bags, get EZ-Link card at airport"},{id:"a3",time:"14:00",name:"Check in to hotel",emoji:"",notes:"Near Marina Bay area"},{id:"a4",time:"16:00",name:"Gardens by the Bay",emoji:"",notes:"Cloud Forest + Flower Dome"},{id:"a5",time:"19:00",name:"Dinner at Lau Pa Sat",emoji:"",notes:"Hawker centre, try satay street"}],notes:"Travel day  take it easy in the evening"},{id:"day-2",date:"2026-11-15",dayNumber:2,location:"Singapore",emoji:"",activities:[{id:"a6",time:"09:00",name:"Marina Bay Sands area",emoji:"",notes:"ArtScience Museum, Merlion"},{id:"a7",time:"12:00",name:"Lunch at Maxwell Food Centre",emoji:"",notes:"Tian Tian chicken rice"},{id:"a8",time:"14:00",name:"Chinatown & Little India",emoji:"",notes:"Walking tour, temples, spice market"},{id:"a9",time:"17:00",name:"Orchard Road shopping",emoji:"",notes:"ION Orchard, Takashimaya"},{id:"a10",time:"20:00",name:"Spectra Light Show",emoji:"",notes:"Free show at Marina Bay, 8pm & 9pm"}],notes:"Full Singapore day  wear comfy shoes"},{id:"day-3",date:"2026-11-16",dayNumber:3,location:"Singapore  Koh Samui",emoji:"",activities:[{id:"a11",time:"08:00",name:"Breakfast at hotel",emoji:"",notes:""},{id:"a12",time:"10:00",name:"Last-minute Singapore shopping",emoji:"",notes:""},{id:"a13",time:"14:00",name:"Fly Singapore  Koh Samui",emoji:"",notes:"Afternoon flight"},{id:"a14",time:"17:00",name:"Check in Karma Resort",emoji:"",notes:"Beachfront resort"},{id:"a15",time:"19:00",name:"Beach sunset dinner",emoji:"",notes:"Fresh seafood on the beach"}],notes:"Transit day  Singapore to Thailand"},{id:"day-4",date:"2026-11-17",dayNumber:4,location:"Koh Samui",emoji:"",activities:[{id:"a16",time:"08:00",name:"Beach morning & swim",emoji:"",notes:"Chaweng Beach"},{id:"a17",time:"11:00",name:"Four Seasons Day Pass",emoji:"",notes:"Pool, beach, spa  day pass for 2"},{id:"a18",time:"15:00",name:"Explore Fisherman's Village",emoji:"",notes:"Bophut area, cute shops and cafs"},{id:"a19",time:"19:00",name:"Thai dinner on the beach",emoji:"",notes:"Pad Thai, green curry, mango sticky rice"}],notes:"Relaxation day  Four Seasons is the highlight!"},{id:"day-5",date:"2026-11-18",dayNumber:5,location:"Koh Samui",emoji:"",activities:[{id:"a20",time:"09:00",name:"Island tour",emoji:"",notes:"Na Muang Waterfall, Big Buddha, Secret Garden"},{id:"a21",time:"13:00",name:"Lunch at local spot",emoji:"",notes:""},{id:"a22",time:"15:00",name:"Snorkeling trip",emoji:"",notes:"Ang Thong National Marine Park or local reef"},{id:"a23",time:"19:00",name:"Night market",emoji:"",notes:"Lamai or Chaweng night market"}],notes:"Adventure day  bring waterproof phone case"},{id:"day-6",date:"2026-11-19",dayNumber:6,location:"Koh Samui  Kuala Lumpur",emoji:"",activities:[{id:"a24",time:"08:00",name:"Last beach morning",emoji:"",notes:""},{id:"a25",time:"11:00",name:"Check out Karma Resort",emoji:"",notes:""},{id:"a26",time:"13:00",name:"Fly Koh Samui  Kuala Lumpur",emoji:"",notes:"Afternoon flight"},{id:"a27",time:"17:00",name:"Check in KL hotel near Stadium Merdeka",emoji:"",notes:"Walking distance to concert venue!"},{id:"a28",time:"19:00",name:"Jalan Alor street food",emoji:"",notes:"Must-try: satay, char kway teow, durian"}],notes:"Transit day  Thailand to Malaysia"},{id:"day-7",date:"2026-11-20",dayNumber:7,location:"Kuala Lumpur",emoji:"",activities:[{id:"a29",time:"10:00",name:"Petronas Twin Towers + KLCC",emoji:"",notes:"Book skybridge tickets in advance"},{id:"a30",time:"13:00",name:"Lunch at Nasi Kandar",emoji:"",notes:""},{id:"a31",time:"15:00",name:"Pre-concert prep & rest",emoji:"",notes:"Charge phones, pick outfits, eat early"},{id:"a32",time:"17:00",name:" MCR CONCERT @ Stadium Merdeka",emoji:"",notes:"Gates open ~5pm, show ~8pm. THE main event!"}],notes:" CONCERT DAY! My Chemical Romance at Stadium Merdeka!"},{id:"day-8",date:"2026-11-21",dayNumber:8,location:"Kuala Lumpur",emoji:"",activities:[{id:"a33",time:"10:00",name:"Sleep in (post-concert recovery)",emoji:"",notes:""},{id:"a34",time:"12:00",name:"Batu Caves",emoji:"",notes:"272 colorful steps, Hindu temple"},{id:"a35",time:"15:00",name:"Central Market & Petaling Street",emoji:"",notes:"Souvenirs, batik, street art"},{id:"a36",time:"18:00",name:"Dinner at Pavilion KL",emoji:"",notes:""},{id:"a37",time:"20:00",name:"KL Tower night view",emoji:"",notes:"Amazing city views at night"}],notes:"Recovery day after the concert  take it chill"},{id:"day-9",date:"2026-11-22",dayNumber:9,location:"Kuala Lumpur  Cebu",emoji:"",activities:[{id:"a38",time:"08:00",name:"Pack & check out",emoji:"",notes:""},{id:"a39",time:"10:00",name:"Last KL breakfast  roti canai",emoji:"",notes:""},{id:"a40",time:"13:00",name:"Fly Kuala Lumpur  Cebu",emoji:"",notes:"Afternoon flight home"},{id:"a41",time:"18:00",name:"Arrive home ",emoji:"",notes:"End of an amazing trip!"}],notes:"Homeward bound  what a trip! "}],bookings:[{id:"b1",name:"Cebu  Singapore flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b2",name:"Singapore  Koh Samui flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b3",name:"Koh Samui  Kuala Lumpur flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b4",name:"Kuala Lumpur  Cebu flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b5",name:"Singapore hotel, 2 nights",category:"hotel",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-01",priority:!1,currency:"PHP"},{id:"b6",name:"Karma Resort, Koh Samui, 3 nights",category:"hotel",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-01",priority:!1,currency:"PHP"},{id:"b7",name:"KL hotel near Stadium Merdeka, 3 nights",category:"hotel",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-01",priority:!1,currency:"PHP"},{id:"b8",name:"Four Seasons day pass, 2 pax",category:"experience",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-15",priority:!1,currency:"PHP"},{id:"b9",name:"MCR Concert tickets, 2 pax",category:"concert",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"",priority:!0,currency:"PHP"}],todos:[{id:"t1",text:"Apply for Malaysia e-NTL",category:"Admin",done:!1,dueDate:"2026-10-01",priority:"high"},{id:"t2",text:"Check Thailand visa requirements",category:"Admin",done:!1,dueDate:"2026-10-01",priority:"high"},{id:"t3",text:"Get travel insurance for 2 people",category:"Admin",done:!1,dueDate:"2026-10-15",priority:"high"},{id:"t4",text:"Notify bank about international transactions",category:"Finances",done:!1,dueDate:"2026-11-01",priority:"normal"},{id:"t5",text:"Download offline maps: Singapore, Koh Samui, KL",category:"Tech",done:!1,dueDate:"2026-11-10",priority:"normal"},{id:"t6",text:"Exchange/load PHP to SGD, THB, MYR",category:"Finances",done:!1,dueDate:"2026-11-10",priority:"normal"},{id:"t7",text:"Check baggage allowance for all flights",category:"Admin",done:!1,dueDate:"2026-09-15",priority:"normal"},{id:"t8",text:"Research Four Seasons day pass booking process",category:"Admin",done:!1,dueDate:"2026-10-01",priority:"normal"},{id:"t9",text:"Buy portable charger / power bank",category:"Tech",done:!1,dueDate:"2026-11-01",priority:"normal"},{id:"t10",text:"Set up roaming or buy local SIMs plan",category:"Tech",done:!1,dueDate:"2026-11-10",priority:"normal"}],budget:[{id:"bg1",name:"Flights",emoji:"",min:44200,max:55600,actual:0},{id:"bg2",name:"Accommodation",emoji:"",min:39e3,max:71e3,actual:0},{id:"bg3",name:"Four Seasons Day Pass",emoji:"",min:11200,max:16800,actual:0},{id:"bg4",name:"MCR Concert Tickets",emoji:"",min:15e3,max:3e4,actual:0},{id:"bg5",name:"Other Expenses",emoji:"",min:47e3,max:61e3,actual:0}],spendingLog:[],packingList:[{id:"p1",name:"Passports (2)",section:"Documents",packed:!1},{id:"p2",name:"Travel insurance printouts",section:"Documents",packed:!1},{id:"p3",name:"Flight confirmations (printed)",section:"Documents",packed:!1},{id:"p4",name:"Hotel confirmations",section:"Documents",packed:!1},{id:"p5",name:"MCR concert tickets / QR codes",section:"Documents",packed:!1},{id:"p6",name:"Malaysia e-NTL printout",section:"Documents",packed:!1},{id:"p7",name:"T-shirts (6)",section:"Clothing",packed:!1},{id:"p8",name:"Shorts (3)",section:"Clothing",packed:!1},{id:"p9",name:"Light pants (2)",section:"Clothing",packed:!1},{id:"p10",name:"Swimwear (2)",section:"Clothing",packed:!1},{id:"p11",name:"Comfortable walking shoes",section:"Clothing",packed:!1},{id:"p12",name:"Flip flops / sandals",section:"Clothing",packed:!1},{id:"p13",name:"Light rain jacket",section:"Clothing",packed:!1},{id:"p14",name:"Underwear & socks",section:"Clothing",packed:!1},{id:"p15",name:"Sleepwear",section:"Clothing",packed:!1},{id:"p16",name:"Phone + charger",section:"Tech",packed:!1},{id:"p17",name:"Power bank (20,000mAh)",section:"Tech",packed:!1},{id:"p18",name:"Universal travel adapter",section:"Tech",packed:!1},{id:"p19",name:"Camera + SD cards",section:"Tech",packed:!1},{id:"p20",name:"Earphones / AirPods",section:"Tech",packed:!1},{id:"p21",name:"MCR concert outfit ",section:"Concert Essentials",packed:!1},{id:"p22",name:"Comfortable concert shoes",section:"Concert Essentials",packed:!1},{id:"p23",name:"Small crossbody bag",section:"Concert Essentials",packed:!1},{id:"p24",name:"Earplugs (for hearing protection)",section:"Concert Essentials",packed:!1},{id:"p25",name:"Sunscreen SPF 50",section:"Toiletries",packed:!1},{id:"p26",name:"Insect repellent",section:"Toiletries",packed:!1},{id:"p27",name:"Basic first aid kit",section:"Toiletries",packed:!1},{id:"p28",name:"Toothbrush & toothpaste",section:"Toiletries",packed:!1},{id:"p29",name:"Deodorant",section:"Toiletries",packed:!1},{id:"p30",name:"Medication / vitamins",section:"Toiletries",packed:!1},{id:"p31",name:"Daypack / small backpack",section:"Misc",packed:!1},{id:"p32",name:"Reusable water bottle",section:"Misc",packed:!1},{id:"p33",name:"Packing cubes",section:"Misc",packed:!1},{id:"p34",name:"Neck pillow for flights",section:"Misc",packed:!1},{id:"p35",name:"Snacks for travel days",section:"Misc",packed:!1}],cities:[{id:"c1",city:"Singapore",country:"Singapore",flag:"",highlights:"Marina Bay, Gardens by the Bay, hawker food culture",mustDo:"Eat at a hawker centre, see the Supertree light show",weather:"Hot & humid year-round, 27-32C. Rain possible anytime.",currencyTip:"SGD. Cashless-friendly, cards accepted everywhere.",notes:""},{id:"c2",city:"Koh Samui",country:"Thailand",flag:"",highlights:"Beautiful beaches, luxury resorts, island vibes",mustDo:"Visit Big Buddha, snorkel at Ang Thong, Four Seasons day pass",weather:"November is end of monsoon season. Expect some rain, 26-30C.",currencyTip:"THB. Cash is king for street food and markets.",notes:""},{id:"c3",city:"Kuala Lumpur",country:"Malaysia",flag:"",highlights:"Petronas Towers, Batu Caves, incredible food scene",mustDo:"Jalan Alor street food, Petronas Towers skybridge, MCR concert!",weather:"Hot & humid, 27-33C. Afternoon thunderstorms common.",currencyTip:"MYR. Very affordable. Cards widely accepted in malls.",notes:""}],notes:"This trip is our big Southeast Asia adventure  the MCR concert in KL is the anchor event. Build the rest of the trip around it!"};function q9(t={}){return{id:t.id||Date.now().toString(36)+Math.random().toString(36).slice(2,8),name:t.name||"New Trip",emoji:t.emoji||"",destinations:t.destinations||[],startDate:t.startDate||"",endDate:t.endDate||"",travelers:t.travelers||1,currency:t.currency||"PHP",createdAt:new Date().toISOString(),itinerary:[],bookings:[],todos:[],budget:t.budget||[],spendingLog:[],packingList:[],cities:[],notes:"",...t}}const Oc="trips",mp="wanderplan_data",DP="wanderplan_migrated";function z9(){let t=!1;try{const e=localStorage.getItem(mp);e&&(t=JSON.parse(e).darkMode||!1)}catch{}return{trips:{},activeTripId:null,activeTab:"overview",sidebarOpen:!1,darkMode:t,toast:{message:"",type:"success",visible:!1}}}async function W9(){if(localStorage.getItem(DP))return!1;try{const t=localStorage.getItem(mp);if(!t)return!1;const e=JSON.parse(t);if(!e.trips||Object.keys(e.trips).length===0)return!1;const r=Object.values(e.trips);return await Promise.all(r.map(n=>ef(Vc(xl,Oc,n.id),{...n,_updatedAt:T_()}))),localStorage.setItem(DP,"true"),console.log(`[Wanderplan] Migrated ${r.length} trip(s) from localStorage  Firestore`),!0}catch(t){return console.warn("[Wanderplan] Migration failed:",t),!1}}function H9(){const[t,e]=q.useReducer(U9,null,z9),[r,n]=q.useState(!0),i=q.useRef({}),o=q.useRef(!1);q.useEffect(()=>{const f=pF(xl,Oc);return dD(f,async p=>{const v={};if(p.forEach(S=>{const{_updatedAt:T,..._}=S.data();v[S.id]=_}),Object.keys(i.current).length===0&&Object.keys(v).length===0){if(await W9())return;await ef(Vc(xl,Oc,RP.id),{...RP,_updatedAt:T_()});return}o.current=!0,i.current=v,e({type:pe.SET_TRIPS_FROM_FIRESTORE,payload:v}),n(!1)},p=>{console.error("[Wanderplan] Firestore listener error:",p),n(!1)})},[]),q.useEffect(()=>{if(o.current){o.current=!1;return}const f=t.trips,h=i.current;Object.keys(f).forEach(p=>{f[p]!==h[p]&&ef(Vc(xl,Oc,p),{...f[p],_updatedAt:T_()}).catch(console.error)}),Object.keys(h).forEach(p=>{f[p]||OF(Vc(xl,Oc,p)).catch(console.error)}),i.current=f},[t.trips]),q.useEffect(()=>{document.documentElement.classList.toggle("dark",t.darkMode);try{const f=localStorage.getItem(mp),h=f?JSON.parse(f):{};localStorage.setItem(mp,JSON.stringify({...h,darkMode:t.darkMode}))}catch{}},[t.darkMode]),q.useEffect(()=>{if(t.toast.visible){const f=setTimeout(()=>e({type:pe.HIDE_TOAST}),3e3);return()=>clearTimeout(f)}},[t.toast.visible]);const s=t.activeTripId?t.trips[t.activeTripId]:null,u=Object.values(t.trips).sort((f,h)=>f.startDate?h.startDate?new Date(f.startDate)-new Date(h.startDate):-1:1),c=q.useCallback((f,h="success")=>{e({type:pe.SHOW_TOAST,payload:{message:f,type:h}})},[]);return{state:t,dispatch:e,activeTrip:s,sortedTrips:u,showToast:c,firestoreLoading:r}}function G9(t){const[e,r]=q.useState(()=>typeof window<"u"?window.matchMedia(t).matches:!1);return q.useEffect(()=>{const n=window.matchMedia(t),i=o=>r(o.matches);return n.addEventListener("change",i),r(n.matches),()=>n.removeEventListener("change",i)},[t]),e}function K9({onSignIn:t}){const[e,r]=q.useState(!1),[n,i]=q.useState(null),o=async()=>{r(!0),i(null);try{await t()}catch{i("Sign-in failed. Please try again."),r(!1)}};return g.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary animate-fade-in",children:g.jsxs("div",{className:"text-center max-w-sm px-8",children:[g.jsx("div",{className:"text-6xl mb-5 animate-pulse-warm",children:""}),g.jsx("h1",{className:"font-heading text-3xl font-bold text-text-primary mb-2",children:"Wanderplan"}),g.jsx("p",{className:"text-text-muted text-sm mb-10 leading-relaxed",children:"Every trip, perfectly planned."}),g.jsxs("button",{onClick:o,disabled:e,className:`inline-flex items-center gap-3 px-6 py-3
                     bg-bg-secondary border border-border
                     rounded-[var(--radius-md)]
                     text-text-primary font-medium text-sm
                     hover:bg-bg-hover hover:border-border-strong
                     transition-all duration-200 active:scale-[0.98]
                     disabled:opacity-50 disabled:cursor-not-allowed
                     shadow-sm w-full justify-center`,children:[g.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24","aria-hidden":"true",children:[g.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),g.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),g.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),g.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e?"Signing in":"Continue with Google"]}),n&&g.jsx("p",{className:"mt-4 text-sm text-red-500",children:n}),g.jsx("p",{className:"mt-8 text-xs text-text-muted leading-relaxed",children:"Your trips sync across all your devices in real time."})]})})}function km(t){var v,x,S,T,_,O;if(!t)return 0;const e={bookings:.4,todos:.35,packing:.25},r=((v=t.bookings)==null?void 0:v.length)||0,n=((x=t.bookings)==null?void 0:x.filter(D=>D.status==="booked").length)||0,i=r>0?n/r:0,o=((S=t.todos)==null?void 0:S.length)||0,s=((T=t.todos)==null?void 0:T.filter(D=>D.done).length)||0,u=o>0?s/o:0,c=((_=t.packingList)==null?void 0:_.length)||0,f=((O=t.packingList)==null?void 0:O.filter(D=>D.packed).length)||0,h=c>0?f/c:0,p=Math.round((i*e.bookings+u*e.todos+h*e.packing)*100);return Math.min(100,Math.max(0,p))}function Y9(t){var e,r,n,i,o,s;return t?{bookings:{done:((e=t.bookings)==null?void 0:e.filter(u=>u.status==="booked").length)||0,total:((r=t.bookings)==null?void 0:r.length)||0},todos:{done:((n=t.todos)==null?void 0:n.filter(u=>u.done).length)||0,total:((i=t.todos)==null?void 0:i.length)||0},packing:{done:((o=t.packingList)==null?void 0:o.filter(u=>u.packed).length)||0,total:((s=t.packingList)==null?void 0:s.length)||0}}:{bookings:{done:0,total:0},todos:{done:0,total:0},packing:{done:0,total:0}}}function D1({value:t=0,size:e=64,strokeWidth:r=5,className:n="",showLabel:i=!0,labelClassName:o="",pulse:s=!1,onClick:u=null,tooltip:c=null}){const[f,h]=q.useState(0),p=(e-r)/2,v=2*Math.PI*p,x=v-f/100*v;q.useEffect(()=>{const _=setTimeout(()=>h(t),100);return()=>clearTimeout(_)},[t]);const S=_=>_>=80?"var(--color-success)":_>=50?"var(--color-accent)":_>=25?"var(--color-warning)":"var(--color-text-muted)",T=g.jsxs("div",{className:`relative inline-flex items-center justify-center ${n}`,title:c||void 0,children:[s&&g.jsx("span",{className:"absolute inset-0 rounded-full animate-ping opacity-20",style:{background:"var(--color-accent)"}}),g.jsxs("svg",{width:e,height:e,className:"-rotate-90",children:[g.jsx("circle",{cx:e/2,cy:e/2,r:p,fill:"none",stroke:"var(--color-border)",strokeWidth:r}),g.jsx("circle",{cx:e/2,cy:e/2,r:p,fill:"none",stroke:S(f),strokeWidth:r,strokeDasharray:v,strokeDashoffset:x,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.8s ease-out, stroke 0.3s ease"}})]}),i&&g.jsxs("span",{className:`absolute text-text-primary font-semibold ${o}`,style:{fontSize:e*.22},children:[Math.round(f),"%"]})]});return u?g.jsx("button",{type:"button",onClick:u,className:`rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-accent/50
                   hover:opacity-80 active:scale-95 transition-all duration-150 cursor-pointer`,title:c||void 0,"aria-label":c||`Trip readiness: ${t}%`,children:T}):T}function X9(t,e){if(!t||!e)return"upcoming";const r=new Date;r.setHours(0,0,0,0);const n=new Date(t+"T00:00:00"),i=new Date(e+"T00:00:00");return r>i?"completed":r>=n&&r<=i?"ongoing":"upcoming"}const Q9={upcoming:{label:"Upcoming",className:"bg-info/10 text-info"},ongoing:{label:"Ongoing",className:"bg-success/10 text-success"},completed:{label:"Completed",className:"bg-text-muted/10 text-text-muted"}};function J9({startDate:t,endDate:e,className:r=""}){const n=X9(t,e),i=Q9[n];return g.jsx("span",{className:`
      inline-flex items-center px-2.5 py-0.5 text-xs font-medium
      rounded-[var(--radius-pill)] ${i.className} ${r}
    `,children:i.label})}function M1({isOpen:t,onClose:e,children:r,className:n="",maxWidth:i="max-w-xl"}){return q.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),t?g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[g.jsx("div",{className:"absolute inset-0 bg-text-primary/30 backdrop-blur-sm animate-fade-in",onClick:e}),g.jsx("div",{className:`
        relative z-10 w-full ${i}
        bg-bg-primary border border-border rounded-[var(--radius-xl)]
        max-h-[90vh] overflow-y-auto
        animate-scale-in
        ${n}
      `,children:r})]}):null}function KD({isOpen:t,onClose:e,onConfirm:r,title:n,message:i,confirmLabel:o="Delete",danger:s=!0}){return g.jsx(M1,{isOpen:t,onClose:e,maxWidth:"max-w-sm",children:g.jsxs("div",{className:"p-6",children:[g.jsx("h3",{className:"font-heading text-xl text-text-primary mb-2",children:n}),g.jsx("p",{className:"text-text-secondary text-sm mb-6",children:i}),g.jsxs("div",{className:"flex gap-3 justify-end",children:[g.jsx("button",{onClick:e,className:`px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary
                       bg-bg-secondary border border-border rounded-[var(--radius-md)]
                       hover:bg-bg-hover transition-colors`,children:"Cancel"}),g.jsx("button",{onClick:()=>{r(),e()},className:`px-4 py-2 text-sm font-medium rounded-[var(--radius-md)] transition-colors
              ${s?"bg-danger text-white hover:bg-danger/90":"bg-accent text-white hover:bg-accent-hover"}`,children:o})]})]})})}function Z9({tripId:t,tripName:e,onClose:r}){const{dispatch:n,showToast:i}=Bt(),o=q.useRef(null),[s,u]=q.useState(!1);q.useEffect(()=>{function x(T){s||o.current&&!o.current.contains(T.target)&&r()}function S(T){T.key==="Escape"&&(s?u(!1):r())}return document.addEventListener("mousedown",x),document.addEventListener("keydown",S),()=>{document.removeEventListener("mousedown",x),document.removeEventListener("keydown",S)}},[r,s]);const c=x=>{x.stopPropagation();const S=window.prompt("Rename trip:",e);S&&S.trim()&&S.trim()!==e&&(n({type:pe.RENAME_TRIP,payload:{id:t,name:S.trim()}}),i("Trip renamed")),r()},f=x=>{x.stopPropagation(),n({type:pe.DUPLICATE_TRIP,payload:t}),i("Trip duplicated"),r()},h=x=>{x.stopPropagation(),u(!0)},p=()=>{n({type:pe.DELETE_TRIP,payload:t}),i("Trip deleted","info"),u(!1),r()},v=[{label:"Rename",icon:g.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),g.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),onClick:c},{label:"Duplicate",icon:g.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),g.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),onClick:f},{label:"Delete",icon:g.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("polyline",{points:"3 6 5 6 21 6"}),g.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),g.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),g.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),onClick:h,danger:!0}];return g.jsxs(g.Fragment,{children:[g.jsx("div",{ref:o,className:`absolute right-2 top-8 z-50 w-40
                   bg-bg-input border border-border rounded-[var(--radius-md)]
                   animate-scale-in overflow-hidden`,onClick:x=>x.stopPropagation(),children:v.map(x=>g.jsxs("button",{onClick:x.onClick,className:`w-full flex items-center gap-2.5 px-3 py-2 text-sm text-left
                        transition-colors duration-100
                        ${x.danger?"text-danger hover:bg-danger/10":"text-text-secondary hover:bg-bg-hover hover:text-text-primary"}`,children:[g.jsx("span",{className:"shrink-0",children:x.icon}),x.label]},x.label))}),g.jsx(KD,{isOpen:s,onClose:()=>u(!1),onConfirm:p,title:"Delete trip?",message:`Are you sure you want to delete "${e}"? This action cannot be undone.`,confirmLabel:"Delete",danger:!0})]})}function eq({trip:t,isActive:e,isMobile:r}){const{dispatch:n}=Bt(),[i,o]=q.useState(!1),[s,u]=q.useState(!1),c=km(t),f=GD(t.startDate,t.endDate),h=3,p=t.destinations&&t.destinations.length>0?[...new Set(t.destinations.map(_=>_.flag||(_.country?_.country.slice(0,2):"")))].filter(Boolean):[],v=p.slice(0,h),x=p.length-h,S=()=>{n({type:pe.SET_ACTIVE_TRIP,payload:t.id}),r&&n({type:pe.SET_SIDEBAR,payload:!1})},T=_=>{_.stopPropagation(),o(O=>!O)};return g.jsxs("div",{className:`
        group relative flex items-start gap-3 px-3 py-3.5
        rounded-[var(--radius-md)] cursor-pointer
        transition-all duration-150
        ${e?"bg-accent-muted border border-accent/40":"border border-transparent hover:bg-bg-hover hover:border-border"}
      `,onClick:S,onMouseEnter:()=>u(!0),onMouseLeave:()=>{u(!1),i||o(!1)},children:[g.jsx("span",{className:"text-2xl leading-none mt-0.5 shrink-0",role:"img","aria-label":"trip icon",children:t.emoji||""}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-start justify-between gap-1.5",children:[g.jsx("h3",{className:`text-sm font-medium truncate leading-snug ${e?"text-text-primary":"text-text-secondary"}`,children:t.name}),g.jsx("button",{onClick:T,className:`shrink-0 p-0.5 rounded-[var(--radius-sm)]
                        text-text-muted hover:text-text-primary hover:bg-bg-secondary
                        transition-all duration-150
                        ${s||i?"opacity-100":"opacity-0"}
                      `,"aria-label":"Trip options",children:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:[g.jsx("circle",{cx:"12",cy:"6",r:"1.5"}),g.jsx("circle",{cx:"12",cy:"12",r:"1.5"}),g.jsx("circle",{cx:"12",cy:"18",r:"1.5"})]})})]}),p.length>0&&g.jsxs("div",{className:"flex items-center gap-0.5 mt-0.5",children:[v.map((_,O)=>g.jsx("span",{className:"text-sm leading-none",children:_},O)),x>0&&g.jsxs("span",{className:`text-[10px] text-text-muted font-medium px-1 py-0.5
                               bg-bg-secondary rounded-[var(--radius-sm)] leading-none ml-0.5`,children:["+",x]})]}),g.jsxs("div",{className:"flex items-center gap-2 mt-1.5 flex-wrap",children:[f&&g.jsx("span",{className:"text-xs text-text-muted whitespace-nowrap",children:f}),t.startDate&&t.endDate&&g.jsx(J9,{startDate:t.startDate,endDate:t.endDate})]})]}),g.jsx("div",{className:"shrink-0 mt-1",children:g.jsx(D1,{value:c,size:36,strokeWidth:3,showLabel:!0,labelClassName:"!text-[9px]"})}),i&&g.jsx(Z9,{tripId:t.id,tripName:t.name,onClose:()=>o(!1)})]})}function tq({count:t,onSignOut:e}){return g.jsxs("div",{className:"px-5 py-4 border-t border-border-strong flex items-center justify-between",children:[g.jsxs("p",{className:"text-xs text-text-muted",children:[t," ",F9(t,"trip")," planned"]}),e&&g.jsx("button",{onClick:e,className:"text-xs text-text-muted hover:text-text-secondary transition-colors",title:"Sign out",children:"Sign out"})]})}function rf({profile:t,size:e=28,className:r="",ring:n=!1}){var s,u,c;const i=((c=(u=(s=t==null?void 0:t.name)==null?void 0:s.trim())==null?void 0:u[0])==null?void 0:c.toUpperCase())||"?",o={width:e,height:e,fontSize:e*.38};return g.jsx("div",{className:`
        rounded-full overflow-hidden shrink-0 flex items-center justify-center
        bg-accent/20 text-accent font-semibold select-none
        ${n?"ring-2 ring-bg-card":""}
        ${r}
      `,style:o,title:t==null?void 0:t.name,children:t!=null&&t.photo?g.jsx("img",{src:t.photo,alt:t.name,className:"w-full h-full object-cover"}):g.jsx("span",{style:{fontSize:e*.38},children:i})})}function YD(t,e=200){return new Promise(r=>{const n=new FileReader;n.onload=i=>{const o=new Image;o.onload=()=>{const s=document.createElement("canvas"),u=Math.min(e/o.width,e/o.height,1);s.width=o.width*u,s.height=o.height*u,s.getContext("2d").drawImage(o,0,0,s.width,s.height),r(s.toDataURL("image/jpeg",.85))},o.src=i.target.result},n.readAsDataURL(t)})}function rq({profile:t,onDelete:e}){const{updateProfile:r}=_s(),n=q.useRef(),[i,o]=q.useState(!1),[s,u]=q.useState(t.name),c=async h=>{var x;const p=(x=h.target.files)==null?void 0:x[0];if(!p)return;const v=await YD(p);r(t.id,{photo:v})},f=()=>{s.trim()&&r(t.id,{name:s.trim()}),o(!1)};return g.jsxs("div",{className:"flex items-center gap-3 py-2.5 px-1 group",children:[g.jsxs("button",{type:"button",onClick:()=>{var h;return(h=n.current)==null?void 0:h.click()},className:"relative shrink-0 hover:opacity-80 transition-opacity",title:"Change photo",children:[g.jsx(rf,{profile:t,size:40}),g.jsx("span",{className:`absolute inset-0 flex items-center justify-center rounded-full
                         bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity text-white text-[10px] font-medium`,children:"edit"}),g.jsx("input",{ref:n,type:"file",accept:"image/*",className:"hidden",onChange:c})]}),g.jsx("div",{className:"flex-1 min-w-0",children:i?g.jsx("input",{autoFocus:!0,value:s,onChange:h=>u(h.target.value),onBlur:f,onKeyDown:h=>{h.key==="Enter"&&f(),h.key==="Escape"&&(u(t.name),o(!1))},className:"w-full px-2 py-1 text-sm bg-bg-input border border-accent/40 rounded-[var(--radius-sm)] text-text-primary outline-none focus:ring-1 focus:ring-accent/20"}):g.jsx("span",{className:"text-sm text-text-primary cursor-pointer hover:text-accent transition-colors",onClick:()=>o(!0),children:t.name})}),g.jsx("button",{type:"button",onClick:()=>e(t.id),className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger transition-all p-1",children:g.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("polyline",{points:"3 6 5 6 21 6"}),g.jsx("path",{d:"M19 6l-1 14H6L5 6"}),g.jsx("path",{d:"M10 11v6M14 11v6"}),g.jsx("path",{d:"M9 6V4h6v2"})]})})]})}function nq({onDone:t}){const{addProfile:e}=_s(),[r,n]=q.useState(""),[i,o]=q.useState(null),s=q.useRef(),u=async f=>{var v;const h=(v=f.target.files)==null?void 0:v[0];if(!h)return;const p=await YD(h);o(p)},c=()=>{r.trim()&&(e({name:r,photo:i}),t())};return g.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[g.jsx("p",{className:"text-xs font-medium text-text-muted uppercase tracking-widest mb-3",children:"Add traveler"}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("button",{type:"button",onClick:()=>{var f;return(f=s.current)==null?void 0:f.click()},className:"shrink-0 w-10 h-10 rounded-full border-2 border-dashed border-border hover:border-accent/50 flex items-center justify-center text-text-muted hover:text-accent transition-colors overflow-hidden",title:"Upload photo",children:[i?g.jsx("img",{src:i,alt:"",className:"w-full h-full object-cover"}):g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),g.jsx("polyline",{points:"17 8 12 3 7 8"}),g.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),g.jsx("input",{ref:s,type:"file",accept:"image/*",className:"hidden",onChange:u})]}),g.jsx("input",{autoFocus:!0,value:r,onChange:f=>n(f.target.value),onKeyDown:f=>{f.key==="Enter"&&c()},placeholder:"Traveler name",className:"flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-md)] text-text-primary placeholder:text-text-muted focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"}),g.jsx("button",{type:"button",onClick:c,disabled:!r.trim(),className:"px-3 py-2 text-sm bg-accent text-white rounded-[var(--radius-md)] hover:bg-accent-hover disabled:opacity-40 disabled:cursor-not-allowed transition-colors shrink-0",children:"Add"})]})]})}function MP({isOpen:t,onClose:e}){const{profiles:r,deleteProfile:n}=_s(),[i,o]=q.useState(!1);return g.jsx(M1,{isOpen:t,onClose:e,maxWidth:"max-w-sm",children:g.jsxs("div",{className:"px-6 pt-6 pb-6",children:[g.jsxs("div",{className:"flex items-center justify-between mb-5",children:[g.jsx("h2",{className:"font-heading text-lg font-bold text-text-primary",children:"Travelers"}),g.jsx("button",{onClick:e,className:"p-1.5 rounded-[var(--radius-sm)] text-text-muted hover:text-text-primary hover:bg-bg-hover transition-colors",children:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),g.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),r.length===0&&!i?g.jsx("p",{className:"text-sm text-text-muted text-center py-6",children:"No traveler profiles yet."}):g.jsx("div",{className:"divide-y divide-border",children:r.map(s=>g.jsx(rq,{profile:s,onDelete:n},s.id))}),i?g.jsx(nq,{onDone:()=>o(!1)}):g.jsxs("button",{type:"button",onClick:()=>o(!0),className:"mt-4 w-full flex items-center justify-center gap-2 px-4 py-2.5 border border-dashed border-border-strong rounded-[var(--radius-md)] text-sm text-text-muted font-medium hover:text-accent hover:border-accent/40 hover:bg-accent-muted/20 transition-colors",children:[g.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),g.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Traveler"]})]})})}function iq({isMobile:t,isOpen:e,onNewTrip:r}){const{state:n,dispatch:i,sortedTrips:o}=Bt(),{signOutUser:s}=HD(),[u,c]=q.useState(!1),f=()=>{r&&r()},h=()=>{i({type:pe.TOGGLE_DARK_MODE})},p=()=>{i({type:pe.SET_SIDEBAR,payload:!1})},v=g.jsxs("aside",{className:"flex flex-col h-full w-[var(--sidebar-width)] bg-bg-sidebar border-r border-border",children:[g.jsxs("div",{className:"px-5 pt-6 pb-4",children:[g.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[g.jsx("h1",{className:"font-heading text-xl font-bold tracking-tight text-text-primary",children:"Wanderplan"}),g.jsxs("div",{className:"flex items-center gap-0.5",children:[g.jsx("button",{onClick:()=>c(!0),className:"p-1.5 rounded-[var(--radius-md)] text-text-muted hover:text-text-secondary transition-colors","aria-label":"Manage traveler profiles",title:"Traveler profiles",children:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"9",cy:"7",r:"4"}),g.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),g.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),g.jsx("button",{onClick:h,className:"p-1.5 rounded-[var(--radius-md)] text-text-muted hover:text-text-secondary transition-colors","aria-label":n.darkMode?"Switch to light mode":"Switch to dark mode",children:n.darkMode?g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"5"}),g.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),g.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),g.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),g.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),g.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),g.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),g.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),g.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):g.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})]})]}),g.jsx("p",{className:"text-xs text-text-muted leading-relaxed",children:"Every trip, perfectly planned."})]}),g.jsx("div",{className:"px-4 pb-4",children:g.jsxs("button",{onClick:f,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5
                     bg-accent hover:bg-accent-hover text-text-inverse
                     font-medium text-sm rounded-[var(--radius-md)]
                     transition-all duration-200 active:scale-[0.98]`,children:[g.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),g.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New Trip"]})}),g.jsx("div",{className:"mx-4 mb-2 border-t border-border"}),g.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-2 space-y-0.5 scrollbar-hide",children:o.length===0?g.jsxs("div",{className:"px-3 py-8 text-center",children:[g.jsx("p",{className:"text-xs text-text-muted",children:"No trips yet."}),g.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Create one to get started!"})]}):o.map(x=>g.jsx(eq,{trip:x,isActive:x.id===n.activeTripId,isMobile:t},x.id))}),g.jsx(tq,{count:o.length,onSignOut:s})]});return t?g.jsxs(g.Fragment,{children:[u&&g.jsx(MP,{isOpen:!0,onClose:()=>c(!1)}),e&&g.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 transition-opacity duration-300",onClick:p,"aria-hidden":"true"}),g.jsx("div",{className:`fixed inset-y-0 left-0 z-50 transition-transform duration-300 ease-out
          ${e?"translate-x-0":"-translate-x-full"}`,children:g.jsxs("div",{className:"relative h-full",children:[v,g.jsx("button",{onClick:p,className:`absolute top-4 right-3 p-1.5 rounded-[var(--radius-sm)]
                       text-text-muted hover:text-text-primary hover:bg-bg-hover
                       transition-colors`,"aria-label":"Close sidebar",children:g.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),g.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})})]}):g.jsxs(g.Fragment,{children:[v,u&&g.jsx(MP,{isOpen:!0,onClose:()=>c(!1)})]})}var XD=E2();function tv(t){if(!t)return{days:0,hours:0,minutes:0,seconds:0,expired:!0,total:0};const e=new Date,n=new Date(t+"T00:00:00")-e;return n<=0?{days:0,hours:0,minutes:0,seconds:0,expired:!0,total:0}:{days:Math.floor(n/(1e3*60*60*24)),hours:Math.floor(n/(1e3*60*60)%24),minutes:Math.floor(n/(1e3*60)%60),seconds:Math.floor(n/1e3%60),expired:!1,total:n}}function QD(t){const[e,r]=q.useState(()=>tv(t));return q.useEffect(()=>{if(!t)return;r(tv(t));const n=setInterval(()=>{r(tv(t))},1e3);return()=>clearInterval(n)},[t]),e}function oq({trip:t,travelerProfiles:e,dispatch:r}){const{profiles:n}=_s(),[i,o]=q.useState(!1),[s,u]=q.useState({top:0,left:0}),c=q.useRef(null),f=q.useRef(null),h=x=>{const S=t.travelerIds||[],T=S.includes(x)?S.filter(_=>_!==x):[...S,x];r({type:pe.UPDATE_TRIP,payload:{id:t.id,updates:{travelerIds:T,travelers:Math.max(T.length,1)}}})},p=()=>{if(c.current){const x=c.current.getBoundingClientRect();u({top:x.bottom+6,left:x.left})}o(x=>!x)};q.useEffect(()=>{if(!i)return;const x=S=>{c.current&&!c.current.contains(S.target)&&f.current&&!f.current.contains(S.target)&&o(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[i]),q.useEffect(()=>{if(!i)return;const x=()=>o(!1);return window.addEventListener("scroll",x,!0),window.addEventListener("resize",x),()=>{window.removeEventListener("scroll",x,!0),window.removeEventListener("resize",x)}},[i]);const v=t.travelers||1;return g.jsxs(g.Fragment,{children:[g.jsxs("button",{ref:c,onClick:p,className:`inline-flex items-center gap-1.5 rounded-[var(--radius-sm)]
                   hover:bg-bg-hover px-1.5 py-0.5 -mx-1.5 transition-colors group`,title:"Edit travelers",children:[e.length>0?g.jsxs(g.Fragment,{children:[e.map((x,S)=>g.jsx("span",{style:{marginLeft:S===0?0:-8},className:"inline-flex",children:g.jsx(rf,{profile:x,size:22,ring:!0})},x.id)),g.jsx("span",{className:"ml-1 text-xs text-text-muted",children:e.map(x=>x.name.split(" ")[0]).join(" & ")})]}):g.jsxs(g.Fragment,{children:[g.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-text-muted",children:[g.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"9",cy:"7",r:"4"}),g.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),g.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),g.jsxs("span",{className:"text-xs text-text-muted",children:[v," ",v===1?"traveler":"travelers"]})]}),g.jsx("svg",{width:"9",height:"9",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-text-muted opacity-0 group-hover:opacity-60 transition-opacity shrink-0",children:g.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),i&&XD.createPortal(g.jsx("div",{ref:f,style:{position:"fixed",top:s.top,left:s.left,zIndex:9999},className:"bg-bg-card border border-border rounded-[var(--radius-lg)] shadow-xl p-2 min-w-[180px]",children:n.length===0?g.jsx("p",{className:"text-xs text-text-muted px-2 py-1.5",children:"No profiles yet  add travelers from the sidebar."}):g.jsx("div",{className:"space-y-0.5",children:n.map(x=>{const S=(t.travelerIds||[]).includes(x.id);return g.jsxs("button",{onClick:()=>h(x.id),className:`w-full flex items-center gap-2.5 px-2.5 py-1.5 rounded-[var(--radius-md)] text-sm transition-colors
                      ${S?"bg-accent/10 text-text-primary":"hover:bg-bg-hover text-text-secondary"}`,children:[g.jsx(rf,{profile:x,size:24}),g.jsx("span",{className:"flex-1 text-left font-medium",children:x.name}),S&&g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-accent shrink-0",children:g.jsx("polyline",{points:"20 6 9 17 4 12"})})]},x.id)})})}),document.body)]})}function aq({targetDate:t}){const e=QD(t);if(!t||e.expired)return null;const r=Math.floor(e.days/7),n=e.days%7;return g.jsxs("div",{className:"flex items-end gap-3 select-none","aria-label":`${e.days} days to departure`,children:[r>0&&g.jsxs("div",{className:"flex items-end gap-1.5 leading-none",children:[g.jsx("span",{className:"font-heading leading-none text-text-primary",style:{fontSize:"3.25rem",fontWeight:200,letterSpacing:"-0.04em"},children:r}),g.jsx("span",{className:"text-[10px] font-bold text-accent uppercase tracking-[0.15em] pb-2",children:r===1?"wk":"wks"})]}),(n>0||r===0)&&g.jsxs("div",{className:"flex items-end gap-1.5 leading-none",children:[g.jsx("span",{className:"font-heading leading-none text-text-primary",style:{fontSize:"3.25rem",fontWeight:200,letterSpacing:"-0.04em"},children:n}),g.jsx("span",{className:"text-[10px] font-bold text-accent uppercase tracking-[0.15em] pb-2",children:n===1?"day":"days"})]})]})}function sq({value:t,onSave:e}){const[r,n]=q.useState(!1),[i,o]=q.useState(t),[s,u]=q.useState(!1),c=q.useRef(null);q.useEffect(()=>{r||o(t)},[t,r]);const f=()=>{o(t),n(!0),setTimeout(()=>{var x,S;(x=c.current)==null||x.focus(),(S=c.current)==null||S.select()},0)},h=()=>{const x=i.trim();x&&x!==t?e(x):o(t),n(!1)},p=()=>{o(t),n(!1)},v=x=>{x.key==="Enter"&&(x.preventDefault(),h()),x.key==="Escape"&&p()};return r?g.jsx("input",{ref:c,value:i,onChange:x=>o(x.target.value),onBlur:h,onKeyDown:v,className:`font-heading text-2xl md:text-3xl font-bold text-text-primary leading-tight
                   bg-transparent border-b border-accent outline-none w-full min-w-0`,style:{fontFamily:"var(--font-heading)"},"aria-label":"Edit trip name"}):g.jsxs("button",{onClick:f,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:"group flex items-center gap-2 min-w-0 max-w-full text-left","aria-label":`Trip name: ${t}. Click to edit.`,children:[g.jsx("h1",{className:`font-heading text-2xl md:text-3xl font-bold text-text-primary
                       leading-tight truncate transition-all duration-150
                       ${s?"underline decoration-border-strong underline-offset-4":""}`,children:t}),g.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`shrink-0 text-text-muted transition-opacity duration-150 mt-0.5
                    ${s?"opacity-100":"opacity-0"}`,"aria-hidden":"true",children:[g.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),g.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})]})}function lq(){return g.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-text-muted mx-0.5 shrink-0 opacity-50",children:g.jsx("polyline",{points:"9 18 15 12 9 6"})})}function uq({destinations:t}){var o;const[e,r]=q.useState(!1);if(!(t!=null&&t.length))return null;const n=t.length,i=({dests:s})=>g.jsx("div",{className:"flex items-center flex-wrap gap-x-0.5 gap-y-1",children:s.map((u,c)=>g.jsxs("span",{className:"flex items-center",children:[c>0&&g.jsx(lq,{}),g.jsxs("span",{className:"inline-flex items-center gap-0.5 text-xs text-text-muted whitespace-nowrap",children:[g.jsx("span",{children:u.flag}),g.jsx("span",{children:u.city})]})]},c))});return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"sm:hidden",children:e?g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx(i,{dests:t}),g.jsx("button",{onClick:()=>r(!1),className:"text-[10px] text-text-muted hover:text-text-secondary transition-colors self-start mt-0.5",children:" collapse"})]}):g.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center gap-1 text-xs text-text-muted hover:text-text-secondary transition-colors",children:[g.jsxs("span",{children:[(o=t[0])==null?void 0:o.flag,n>1?"":""]}),g.jsxs("span",{children:[n," ",n===1?"city":"cities"]}),g.jsx("svg",{width:"9",height:"9",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-text-muted",children:g.jsx("polyline",{points:"6 9 12 15 18 9"})})]})}),g.jsx("div",{className:"hidden sm:block",children:g.jsx(i,{dests:t})})]})}function cq(){const{activeTrip:t,dispatch:e}=Bt(),{profiles:r}=_s(),n=q.useMemo(()=>km(t),[t]);if(!t)return null;const i=t,o=GD(i.startDate,i.endDate),s=i.destinations||[],u=(i.travelerIds||[]).map(f=>r.find(h=>h.id===f)).filter(Boolean),c=f=>{f&&e({type:pe.RENAME_TRIP,payload:{id:i.id,name:f}})};return g.jsx("header",{className:"animate-fade-in border-b border-border bg-bg-primary/95 backdrop-blur-sm",children:g.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-8 pt-5 pb-5",children:g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[g.jsx("span",{className:"text-3xl sm:text-[38px] leading-none shrink-0 mt-1 select-none",role:"img","aria-label":"Trip emoji",children:i.emoji}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsx(sq,{value:i.name,onSave:c}),g.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 mt-1.5",children:[o&&g.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-text-muted",children:[g.jsxs("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 opacity-60",children:[g.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),g.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),g.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),g.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),o]}),g.jsx(oq,{trip:i,travelerProfiles:u,dispatch:e})]}),s.length>0&&g.jsx("div",{className:"mt-1.5",children:g.jsx(uq,{destinations:s})}),g.jsxs("div",{className:"mt-2.5 flex items-center gap-2",children:[g.jsx(D1,{value:n,size:40,strokeWidth:3,labelClassName:"text-[9px]"}),g.jsx("span",{className:"text-[10px] text-text-muted uppercase tracking-widest font-semibold",children:"Readiness"})]})]})]}),i.startDate&&g.jsxs("div",{className:"shrink-0 flex flex-col items-end pt-0.5",children:[g.jsx(aq,{targetDate:i.startDate}),g.jsx("span",{className:"text-[9px] text-text-muted uppercase tracking-[0.2em] font-semibold mt-0.5",children:"to departure"})]})]})})})}const fq=[{id:"overview",label:"Overview",emoji:""},{id:"itinerary",label:"Itinerary",emoji:""},{id:"bookings",label:"Bookings",emoji:""},{id:"budget",label:"Budget",emoji:""},{id:"todo",label:"To-Do",emoji:""},{id:"cities",label:"Cities",emoji:""},{id:"packing",label:"Packing",emoji:""},{id:"concert",label:"Concert",emoji:"",conditional:!0}],nf=[{id:"flight",label:"Flight",emoji:""},{id:"hotel",label:"Hotel",emoji:""},{id:"experience",label:"Experience",emoji:""},{id:"concert",label:"Concert",emoji:""},{id:"transport",label:"Transport",emoji:""},{id:"custom",label:"Custom",emoji:""}],dq=["Admin","Finances","Tech","Health","Misc"],LP=["Documents","Clothing","Tech","Concert Essentials","Toiletries","Misc"];function hq(){var j,A;const{state:t,dispatch:e}=Bt(),r=t.activeTab,n=q.useRef(null),i=q.useRef(null),o=q.useRef(null),s=q.useRef({}),[u,c]=q.useState(!1),[f,h]=q.useState(!1),[p,v]=q.useState([]),[x,S]=q.useState(!1),{activeTrip:T}=Bt(),_=((j=T==null?void 0:T.bookings)==null?void 0:j.some(P=>P.category==="concert"))||!1,O=fq.filter(P=>P.conditional&&P.id==="concert"?_:!0),D=P=>{e({type:pe.SET_TAB,payload:P}),S(!1)},k=q.useCallback(()=>{const P=n.current;P&&(c(P.scrollLeft>4),h(P.scrollLeft+P.clientWidth<P.scrollWidth-4))},[]);q.useEffect(()=>{const P=n.current;if(!P)return;o.current&&o.current.disconnect();const N=new Set;return o.current=new IntersectionObserver(B=>{B.forEach(L=>{const V=L.target.dataset.tabId;V&&(L.intersectionRatio<.9?N.add(V):N.delete(V))}),v(O.filter(L=>N.has(L.id)))},{root:P,threshold:.9}),Object.values(s.current).forEach(B=>{B&&o.current.observe(B)}),()=>{var B;return(B=o.current)==null?void 0:B.disconnect()}},[O.length,_]),q.useEffect(()=>{const P=n.current;if(P)return k(),P.addEventListener("scroll",k,{passive:!0}),window.addEventListener("resize",k,{passive:!0}),()=>{P.removeEventListener("scroll",k),window.removeEventListener("resize",k)}},[k]),q.useEffect(()=>{if(i.current&&n.current){const P=n.current,N=i.current,B=P.getBoundingClientRect(),L=N.getBoundingClientRect();(L.left<B.left||L.right>B.right)&&N.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},[r]),q.useEffect(()=>{if(!x)return;const P=N=>{N.target.closest("[data-more-menu]")||S(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[x]);const R=p.length>0,C=p.some(P=>P.id===r);return g.jsx("nav",{className:"sticky top-0 z-20",style:{background:"var(--color-bg-primary)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",borderBottom:"1px solid var(--color-border)"},children:g.jsxs("div",{className:"relative flex items-center min-h-[48px]",children:[u&&g.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-10 z-10 pointer-events-none",style:{background:"linear-gradient(to right, var(--color-bg-primary), transparent)"},"aria-hidden":"true"}),g.jsxs("div",{ref:n,className:"flex overflow-x-auto scrollbar-hide flex-1 items-center",style:{scrollSnapType:"x mandatory"},role:"tablist","aria-label":"Trip sections",children:[g.jsx("div",{className:"w-3 md:w-5 shrink-0"}),g.jsx("div",{className:"flex items-center gap-0.5 py-2",children:O.map(P=>{const N=r===P.id;return g.jsxs("button",{ref:B=>{s.current[P.id]=B,N&&(i.current=B)},"data-tab-id":P.id,role:"tab","aria-selected":N,"aria-controls":`panel-${P.id}`,onClick:()=>D(P.id),style:{scrollSnapAlign:"start"},className:`
                    relative flex items-center gap-1.5 px-3 py-1.5
                    rounded-full text-sm font-medium whitespace-nowrap
                    transition-all duration-200 shrink-0
                    ${N?"bg-[var(--color-bg-card)] text-[var(--color-text-primary)] shadow-sm":"text-[var(--color-text-muted)] hover:text-[var(--color-text-secondary)] hover:bg-[var(--color-bg-hover)]"}
                  `,children:[g.jsx("span",{className:"text-[15px] leading-none",children:P.emoji}),g.jsx("span",{className:"hidden sm:inline",children:P.label})]},P.id)})}),g.jsx("div",{className:"w-3 md:w-5 shrink-0"})]}),f&&g.jsx("div",{className:"absolute right-0 top-0 bottom-0 pointer-events-none z-10",style:{width:R?"80px":"32px",background:"linear-gradient(to left, var(--color-bg-primary) 40%, transparent)"},"aria-hidden":"true"}),R&&g.jsxs("div",{className:"relative shrink-0 flex items-center pr-3 pl-1 z-20","data-more-menu":!0,children:[g.jsxs("button",{onClick:()=>S(P=>!P),className:`
                flex items-center gap-1 px-3 py-1.5 text-xs font-medium rounded-full
                transition-all duration-200
                ${C?"bg-[var(--color-bg-card)] text-[var(--color-text-primary)] shadow-sm":"text-[var(--color-text-muted)] hover:text-[var(--color-text-secondary)] hover:bg-[var(--color-bg-hover)]"}
              `,"aria-haspopup":"true","aria-expanded":x,children:[C?g.jsx("span",{children:(A=p.find(P=>P.id===r))==null?void 0:A.emoji}):g.jsx("span",{children:"More"}),g.jsx("svg",{width:"9",height:"9",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform duration-150 ${x?"rotate-180":""}`,children:g.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),x&&g.jsx("div",{className:"absolute top-full right-0 mt-2 min-w-[148px] py-1.5 z-50 rounded-[var(--radius-md)]",style:{background:"var(--color-bg-card)",border:"1px solid var(--color-border)",boxShadow:"var(--shadow-modal)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},children:p.map(P=>{const N=r===P.id;return g.jsxs("button",{onClick:()=>D(P.id),className:`
                        w-full flex items-center gap-2.5 px-3 py-2 text-sm text-left
                        transition-colors duration-100 rounded-[6px] mx-0.5
                        ${N?"text-accent font-medium bg-accent/8":"text-[var(--color-text-secondary)] hover:bg-[var(--color-bg-hover)]"}
                      `,children:[g.jsx("span",{children:P.emoji}),g.jsx("span",{className:"flex-1",children:P.label}),N&&g.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent shrink-0"})]},P.id)})})]})]})})}const gp=[{city:"Bangkok",country:"Thailand",iso:"TH"},{city:"Phuket",country:"Thailand",iso:"TH"},{city:"Chiang Mai",country:"Thailand",iso:"TH"},{city:"Koh Samui",country:"Thailand",iso:"TH"},{city:"Krabi",country:"Thailand",iso:"TH"},{city:"Pattaya",country:"Thailand",iso:"TH"},{city:"Singapore",country:"Singapore",iso:"SG"},{city:"Bali",country:"Indonesia",iso:"ID"},{city:"Jakarta",country:"Indonesia",iso:"ID"},{city:"Yogyakarta",country:"Indonesia",iso:"ID"},{city:"Lombok",country:"Indonesia",iso:"ID"},{city:"Komodo",country:"Indonesia",iso:"ID"},{city:"Kuala Lumpur",country:"Malaysia",iso:"MY"},{city:"Penang",country:"Malaysia",iso:"MY"},{city:"Langkawi",country:"Malaysia",iso:"MY"},{city:"Kota Kinabalu",country:"Malaysia",iso:"MY"},{city:"Ho Chi Minh City",country:"Vietnam",iso:"VN"},{city:"Hanoi",country:"Vietnam",iso:"VN"},{city:"Da Nang",country:"Vietnam",iso:"VN"},{city:"Hoi An",country:"Vietnam",iso:"VN"},{city:"Ha Long Bay",country:"Vietnam",iso:"VN"},{city:"Siem Reap",country:"Cambodia",iso:"KH"},{city:"Phnom Penh",country:"Cambodia",iso:"KH"},{city:"Luang Prabang",country:"Laos",iso:"LA"},{city:"Vientiane",country:"Laos",iso:"LA"},{city:"Yangon",country:"Myanmar",iso:"MM"},{city:"Mandalay",country:"Myanmar",iso:"MM"},{city:"Manila",country:"Philippines",iso:"PH"},{city:"Cebu",country:"Philippines",iso:"PH"},{city:"Boracay",country:"Philippines",iso:"PH"},{city:"Palawan",country:"Philippines",iso:"PH"},{city:"Davao",country:"Philippines",iso:"PH"},{city:"Siargao",country:"Philippines",iso:"PH"},{city:"Tokyo",country:"Japan",iso:"JP"},{city:"Osaka",country:"Japan",iso:"JP"},{city:"Kyoto",country:"Japan",iso:"JP"},{city:"Hiroshima",country:"Japan",iso:"JP"},{city:"Nara",country:"Japan",iso:"JP"},{city:"Sapporo",country:"Japan",iso:"JP"},{city:"Fukuoka",country:"Japan",iso:"JP"},{city:"Seoul",country:"South Korea",iso:"KR"},{city:"Busan",country:"South Korea",iso:"KR"},{city:"Jeju",country:"South Korea",iso:"KR"},{city:"Taipei",country:"Taiwan",iso:"TW"},{city:"Tainan",country:"Taiwan",iso:"TW"},{city:"Hong Kong",country:"Hong Kong",iso:"HK"},{city:"Macau",country:"Macau",iso:"MO"},{city:"Beijing",country:"China",iso:"CN"},{city:"Shanghai",country:"China",iso:"CN"},{city:"Chengdu",country:"China",iso:"CN"},{city:"Xi'an",country:"China",iso:"CN"},{city:"Guilin",country:"China",iso:"CN"},{city:"Mumbai",country:"India",iso:"IN"},{city:"New Delhi",country:"India",iso:"IN"},{city:"Agra",country:"India",iso:"IN"},{city:"Jaipur",country:"India",iso:"IN"},{city:"Goa",country:"India",iso:"IN"},{city:"Kerala",country:"India",iso:"IN"},{city:"Varanasi",country:"India",iso:"IN"},{city:"Colombo",country:"Sri Lanka",iso:"LK"},{city:"Kandy",country:"Sri Lanka",iso:"LK"},{city:"Kathmandu",country:"Nepal",iso:"NP"},{city:"Pokhara",country:"Nepal",iso:"NP"},{city:"Dhaka",country:"Bangladesh",iso:"BD"},{city:"Maldives",country:"Maldives",iso:"MV"},{city:"Dubai",country:"UAE",iso:"AE"},{city:"Abu Dhabi",country:"UAE",iso:"AE"},{city:"Doha",country:"Qatar",iso:"QA"},{city:"Istanbul",country:"Turkey",iso:"TR"},{city:"Cappadocia",country:"Turkey",iso:"TR"},{city:"Antalya",country:"Turkey",iso:"TR"},{city:"Bodrum",country:"Turkey",iso:"TR"},{city:"Tel Aviv",country:"Israel",iso:"IL"},{city:"Jerusalem",country:"Israel",iso:"IL"},{city:"Amman",country:"Jordan",iso:"JO"},{city:"Petra",country:"Jordan",iso:"JO"},{city:"Muscat",country:"Oman",iso:"OM"},{city:"Riyadh",country:"Saudi Arabia",iso:"SA"},{city:"Beirut",country:"Lebanon",iso:"LB"},{city:"Paris",country:"France",iso:"FR"},{city:"Nice",country:"France",iso:"FR"},{city:"Lyon",country:"France",iso:"FR"},{city:"Marseille",country:"France",iso:"FR"},{city:"London",country:"UK",iso:"GB"},{city:"Edinburgh",country:"UK",iso:"GB"},{city:"Manchester",country:"UK",iso:"GB"},{city:"Dublin",country:"Ireland",iso:"IE"},{city:"Amsterdam",country:"Netherlands",iso:"NL"},{city:"Brussels",country:"Belgium",iso:"BE"},{city:"Berlin",country:"Germany",iso:"DE"},{city:"Munich",country:"Germany",iso:"DE"},{city:"Hamburg",country:"Germany",iso:"DE"},{city:"Frankfurt",country:"Germany",iso:"DE"},{city:"Vienna",country:"Austria",iso:"AT"},{city:"Salzburg",country:"Austria",iso:"AT"},{city:"Zurich",country:"Switzerland",iso:"CH"},{city:"Geneva",country:"Switzerland",iso:"CH"},{city:"Interlaken",country:"Switzerland",iso:"CH"},{city:"Grindelwald",country:"Switzerland",iso:"CH"},{city:"Zermatt",country:"Switzerland",iso:"CH"},{city:"Lucerne",country:"Switzerland",iso:"CH"},{city:"Bern",country:"Switzerland",iso:"CH"},{city:"Rome",country:"Italy",iso:"IT"},{city:"Milan",country:"Italy",iso:"IT"},{city:"Venice",country:"Italy",iso:"IT"},{city:"Florence",country:"Italy",iso:"IT"},{city:"Naples",country:"Italy",iso:"IT"},{city:"Amalfi Coast",country:"Italy",iso:"IT"},{city:"Sicily",country:"Italy",iso:"IT"},{city:"Barcelona",country:"Spain",iso:"ES"},{city:"Madrid",country:"Spain",iso:"ES"},{city:"Seville",country:"Spain",iso:"ES"},{city:"Valencia",country:"Spain",iso:"ES"},{city:"Ibiza",country:"Spain",iso:"ES"},{city:"Mallorca",country:"Spain",iso:"ES"},{city:"Lisbon",country:"Portugal",iso:"PT"},{city:"Porto",country:"Portugal",iso:"PT"},{city:"Algarve",country:"Portugal",iso:"PT"},{city:"Athens",country:"Greece",iso:"GR"},{city:"Santorini",country:"Greece",iso:"GR"},{city:"Mykonos",country:"Greece",iso:"GR"},{city:"Crete",country:"Greece",iso:"GR"},{city:"Rhodes",country:"Greece",iso:"GR"},{city:"Corfu",country:"Greece",iso:"GR"},{city:"Copenhagen",country:"Denmark",iso:"DK"},{city:"Stockholm",country:"Sweden",iso:"SE"},{city:"Oslo",country:"Norway",iso:"NO"},{city:"Helsinki",country:"Finland",iso:"FI"},{city:"Reykjavik",country:"Iceland",iso:"IS"},{city:"Prague",country:"Czech Republic",iso:"CZ"},{city:"Budapest",country:"Hungary",iso:"HU"},{city:"Warsaw",country:"Poland",iso:"PL"},{city:"Krakow",country:"Poland",iso:"PL"},{city:"Tallinn",country:"Estonia",iso:"EE"},{city:"Riga",country:"Latvia",iso:"LV"},{city:"Vilnius",country:"Lithuania",iso:"LT"},{city:"Dubrovnik",country:"Croatia",iso:"HR"},{city:"Split",country:"Croatia",iso:"HR"},{city:"Zagreb",country:"Croatia",iso:"HR"},{city:"Ljubljana",country:"Slovenia",iso:"SI"},{city:"Bratislava",country:"Slovakia",iso:"SK"},{city:"Bucharest",country:"Romania",iso:"RO"},{city:"Sofia",country:"Bulgaria",iso:"BG"},{city:"Sarajevo",country:"Bosnia",iso:"BA"},{city:"Moscow",country:"Russia",iso:"RU"},{city:"St. Petersburg",country:"Russia",iso:"RU"},{city:"New York",country:"USA",iso:"US"},{city:"Los Angeles",country:"USA",iso:"US"},{city:"Chicago",country:"USA",iso:"US"},{city:"San Francisco",country:"USA",iso:"US"},{city:"Miami",country:"USA",iso:"US"},{city:"Las Vegas",country:"USA",iso:"US"},{city:"New Orleans",country:"USA",iso:"US"},{city:"Washington DC",country:"USA",iso:"US"},{city:"Boston",country:"USA",iso:"US"},{city:"Seattle",country:"USA",iso:"US"},{city:"Hawaii",country:"USA",iso:"US"},{city:"Toronto",country:"Canada",iso:"CA"},{city:"Vancouver",country:"Canada",iso:"CA"},{city:"Montreal",country:"Canada",iso:"CA"},{city:"Quebec City",country:"Canada",iso:"CA"},{city:"Mexico City",country:"Mexico",iso:"MX"},{city:"Cancn",country:"Mexico",iso:"MX"},{city:"Tulum",country:"Mexico",iso:"MX"},{city:"Oaxaca",country:"Mexico",iso:"MX"},{city:"Guadalajara",country:"Mexico",iso:"MX"},{city:"Havana",country:"Cuba",iso:"CU"},{city:"San Jos",country:"Costa Rica",iso:"CR"},{city:"Cartagena",country:"Colombia",iso:"CO"},{city:"Bogot",country:"Colombia",iso:"CO"},{city:"Medelln",country:"Colombia",iso:"CO"},{city:"Panama City",country:"Panama",iso:"PA"},{city:"Rio de Janeiro",country:"Brazil",iso:"BR"},{city:"So Paulo",country:"Brazil",iso:"BR"},{city:"Salvador",country:"Brazil",iso:"BR"},{city:"Buenos Aires",country:"Argentina",iso:"AR"},{city:"Patagonia",country:"Argentina",iso:"AR"},{city:"Mendoza",country:"Argentina",iso:"AR"},{city:"Lima",country:"Peru",iso:"PE"},{city:"Cusco",country:"Peru",iso:"PE"},{city:"Machu Picchu",country:"Peru",iso:"PE"},{city:"Santiago",country:"Chile",iso:"CL"},{city:"Valparaso",country:"Chile",iso:"CL"},{city:"Quito",country:"Ecuador",iso:"EC"},{city:"Galpagos",country:"Ecuador",iso:"EC"},{city:"Montevideo",country:"Uruguay",iso:"UY"},{city:"La Paz",country:"Bolivia",iso:"BO"},{city:"Cairo",country:"Egypt",iso:"EG"},{city:"Luxor",country:"Egypt",iso:"EG"},{city:"Sharm el-Sheikh",country:"Egypt",iso:"EG"},{city:"Marrakech",country:"Morocco",iso:"MA"},{city:"Casablanca",country:"Morocco",iso:"MA"},{city:"Fes",country:"Morocco",iso:"MA"},{city:"Cape Town",country:"South Africa",iso:"ZA"},{city:"Johannesburg",country:"South Africa",iso:"ZA"},{city:"Nairobi",country:"Kenya",iso:"KE"},{city:"Zanzibar",country:"Tanzania",iso:"TZ"},{city:"Serengeti",country:"Tanzania",iso:"TZ"},{city:"Accra",country:"Ghana",iso:"GH"},{city:"Lagos",country:"Nigeria",iso:"NG"},{city:"Addis Ababa",country:"Ethiopia",iso:"ET"},{city:"Sydney",country:"Australia",iso:"AU"},{city:"Melbourne",country:"Australia",iso:"AU"},{city:"Brisbane",country:"Australia",iso:"AU"},{city:"Perth",country:"Australia",iso:"AU"},{city:"Cairns",country:"Australia",iso:"AU"},{city:"Auckland",country:"New Zealand",iso:"NZ"},{city:"Queenstown",country:"New Zealand",iso:"NZ"},{city:"Christchurch",country:"New Zealand",iso:"NZ"},{city:"Suva",country:"Fiji",iso:"FJ"},{city:"Nadi",country:"Fiji",iso:"FJ"},{city:"Papeete",country:"French Polynesia",iso:"PF"},{city:"Bora Bora",country:"French Polynesia",iso:"PF"}];function L1(t){return!t||t.length!==2?"":String.fromCodePoint(127462+t.toUpperCase().charCodeAt(0)-65,127462+t.toUpperCase().charCodeAt(1)-65)}function $P(t){return L1(t.iso)}const JD=Object.fromEntries(gp.map(t=>[t.country,L1(t.iso)]));function $1(t,e,r){const n=t.trim(),i=e.trim(),o=gp.find(u=>u.city.toLowerCase()===n.toLowerCase());if(o)return{city:n,country:o.country,flag:L1(o.iso)};const s=JD[i]||r||"";return{city:n,country:i,flag:s}}function ZD({value:t,country:e="",flag:r="",onChange:n,placeholder:i="City",className:o="",autoFocus:s=!1}){const[u,c]=q.useState(t||""),[f,h]=q.useState(!1),[p,v]=q.useState({top:0,left:0}),x=q.useRef(null);q.useEffect(()=>{t===""?c(""):t&&t!==u&&c(t)},[t]),q.useLayoutEffect(()=>{if(!f||!x.current)return;const k=()=>{if(!x.current)return;const R=x.current.getBoundingClientRect();v({top:R.bottom+4,left:R.left})};return k(),window.addEventListener("scroll",k,!0),window.addEventListener("resize",k),()=>{window.removeEventListener("scroll",k,!0),window.removeEventListener("resize",k)}},[f]);const S=q.useMemo(()=>{if(!u.trim())return[];const k=u.toLowerCase(),R=gp.filter(j=>j.city.toLowerCase().startsWith(k)),C=gp.filter(j=>!j.city.toLowerCase().startsWith(k)&&(j.city.toLowerCase().includes(k)||j.country.toLowerCase().startsWith(k)));return[...R,...C].slice(0,8)},[u]),T=k=>{const R=$P(k);c(k.city),h(!1),n({city:k.city,country:k.country,flag:R})},_=k=>{const R=k.target.value;c(R),h(!0),n({city:R,country:e,flag:r})},O=()=>{setTimeout(()=>{if(h(!1),u.trim()){const k=$1(u,e,r);(k.flag!==r||k.country!==e)&&(c(k.city),n(k))}},150)},D=k=>{if(k.key==="Escape"){h(!1);return}k.key==="Enter"&&S.length>0&&(k.preventDefault(),T(S[0])),k.key==="ArrowDown"&&S.length>0&&(k.preventDefault(),h(!0))};return g.jsxs("div",{className:"relative flex-1",children:[g.jsx("input",{ref:x,type:"text",value:u,onChange:_,onFocus:()=>u.trim().length>0&&h(!0),onBlur:O,onKeyDown:D,placeholder:i,autoComplete:"off",autoFocus:s,className:`w-full px-3 py-2 bg-bg-input border border-border rounded-[var(--radius-sm)]
                   text-text-primary placeholder:text-text-muted text-sm
                   focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors
                   ${o}`}),f&&S.length>0&&XD.createPortal(g.jsx("ul",{style:{position:"fixed",top:p.top,left:p.left,minWidth:"260px",width:"max-content",maxWidth:"340px"},className:`z-[9999] bg-bg-primary border border-border rounded-[var(--radius-md)]
                     shadow-xl max-h-52 overflow-y-auto`,children:S.map((k,R)=>g.jsx("li",{children:g.jsxs("button",{type:"button",onClick:()=>T(k),className:`w-full flex items-center gap-3 px-3 py-2.5 text-left
                           hover:bg-bg-hover transition-colors`,children:[g.jsx("span",{className:"text-lg flex-shrink-0 w-7 text-center",children:$P(k)}),g.jsxs("span",{className:"flex flex-col min-w-0",children:[g.jsx("span",{className:"text-sm font-semibold text-text-primary leading-tight",children:k.city}),g.jsx("span",{className:"text-xs text-text-muted leading-tight mt-0.5",children:k.country})]})]})},R))}),document.body)]})}const pq=["","","","","","","","","","","","","","","","","","","",""],mq=[{emoji:"",label:"Flight"},{emoji:"",label:"Hotel"},{emoji:"",label:"Food"},{emoji:"",label:"Sightseeing"},{emoji:"",label:"Activity"},{emoji:"",label:"Shopping"},{emoji:"",label:"Music"},{emoji:"",label:"Transport"},{emoji:"",label:"Beach"},{emoji:"",label:"Temple"},{emoji:"",label:"Nightlife"},{emoji:"",label:"Photo"},{emoji:"",label:"Spa"},{emoji:"",label:"Walk"},{emoji:"",label:"Show"},{emoji:"",label:"Other"}],eM=4,VP=[{name:"Flights",emoji:""},{name:"Accommodation",emoji:""},{name:"Food & Dining",emoji:""},{name:"Activities",emoji:""},{name:"Transport",emoji:""},{name:"Shopping",emoji:""},{name:"Other",emoji:""}];function gq({currentStep:t}){return g.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:Array.from({length:eM},(e,r)=>{const n=r+1,i=n===t,o=n<t;return g.jsxs("div",{className:"flex items-center gap-2",children:[r>0&&g.jsx("div",{className:`w-8 h-[2px] rounded-full transition-colors duration-300 ${o?"bg-accent":"bg-border"}`}),g.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold transition-all duration-300
              ${i?"bg-accent text-text-inverse ring-4 ring-accent/20":o?"bg-accent text-text-inverse":"bg-bg-secondary text-text-muted border border-border"}`,children:o?g.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("polyline",{points:"20 6 9 17 4 12"})}):n})]},n)})})}function yq({form:t,setForm:e}){const[r,n]=q.useState(""),{profiles:i}=_s(),o=u=>{const c=u.match(new RegExp("\\p{Emoji}","u"));c?(e(f=>({...f,emoji:c[0]})),n(c[0])):n(u)},s=u=>{e(c=>{const f=c.travelerIds||[],h=f.includes(u)?f.filter(p=>p!==u):[...f,u];return{...c,travelerIds:h,travelers:Math.max(h.length,1)}})};return g.jsxs("div",{className:"space-y-5 animate-fade-in",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Name your adventure"}),g.jsx("p",{className:"text-sm text-text-muted",children:"What should we call this trip?"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Trip Name"}),g.jsx("input",{type:"text",value:t.name,onChange:u=>e(c=>({...c,name:u.target.value})),placeholder:"e.g. Summer in Europe",className:`w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)]
                     text-text-primary placeholder:text-text-muted
                     focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors`,autoFocus:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Trip Emoji"}),g.jsx("div",{className:"grid grid-cols-10 gap-1.5 mb-2",children:pq.map(u=>g.jsx("button",{type:"button",onClick:()=>{e(c=>({...c,emoji:u})),n("")},className:`w-9 h-9 flex items-center justify-center text-lg rounded-[var(--radius-sm)] transition-all duration-150
                ${t.emoji===u&&!r?"bg-accent/15 ring-2 ring-accent scale-110":"bg-bg-secondary hover:bg-bg-hover"}`,children:u},u))}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-2xl w-9 h-9 flex items-center justify-center border border-border rounded-[var(--radius-sm)] bg-bg-secondary",children:t.emoji}),g.jsx("input",{type:"text",value:r,onChange:u=>o(u.target.value),placeholder:"Or type any emoji",className:`flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-md)]
                       text-text-primary placeholder:text-text-muted
                       focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors`})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Travelers"}),i.length>0?g.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(u=>{const c=(t.travelerIds||[]).includes(u.id);return g.jsxs("button",{type:"button",onClick:()=>s(u.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-[var(--radius-pill)] border text-sm transition-all duration-150
                    ${c?"bg-accent/10 border-accent/40 text-text-primary":"bg-bg-secondary border-border text-text-muted hover:border-accent/30 hover:text-text-secondary"}`,children:[g.jsx(rf,{profile:u,size:22}),g.jsx("span",{className:"font-medium",children:u.name}),c&&g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-accent",children:g.jsx("polyline",{points:"20 6 9 17 4 12"})})]},u.id)})}):g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{type:"button",onClick:()=>e(u=>({...u,travelers:Math.max(1,u.travelers-1)})),disabled:t.travelers<=1,className:"w-9 h-9 flex items-center justify-center rounded-[var(--radius-md)] bg-bg-secondary border border-border text-text-secondary hover:bg-bg-hover disabled:opacity-30 disabled:cursor-not-allowed transition-colors text-lg font-medium",children:"-"}),g.jsx("span",{className:"w-10 text-center text-lg font-heading font-bold text-text-primary",children:t.travelers}),g.jsx("button",{type:"button",onClick:()=>e(u=>({...u,travelers:Math.min(20,u.travelers+1)})),disabled:t.travelers>=20,className:"w-9 h-9 flex items-center justify-center rounded-[var(--radius-md)] bg-bg-secondary border border-border text-text-secondary hover:bg-bg-hover disabled:opacity-30 disabled:cursor-not-allowed transition-colors text-lg font-medium",children:"+"}),g.jsx("span",{className:"text-sm text-text-muted",children:t.travelers===1?"traveler":"travelers"})]}),i.length>0&&(t.travelerIds||[]).length===0&&g.jsx("p",{className:"text-xs text-text-muted mt-1.5",children:"Select who's coming on this trip"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Start Date"}),g.jsx("input",{type:"date",value:t.startDate,onChange:u=>e(c=>({...c,startDate:u.target.value})),className:"w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)] text-text-primary focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"End Date"}),g.jsx("input",{type:"date",value:t.endDate,min:t.startDate||void 0,onChange:u=>e(c=>({...c,endDate:u.target.value})),className:"w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)] text-text-primary focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]})]})]})}function vq({form:t,setForm:e}){const r=()=>{e(s=>({...s,destinations:[...s.destinations,{city:"",country:"",flag:""}]}))},n=(s,u)=>{e(c=>{const f=[...c.destinations];return f[s]={...f[s],...u},{...c,destinations:f}})},i=(s,u)=>{const c=JD[u.trim()]||t.destinations[s].flag||"";n(s,{country:u,flag:c})},o=s=>{t.destinations.length<=1||e(u=>({...u,destinations:u.destinations.filter((c,f)=>f!==s)}))};return g.jsxs("div",{className:"space-y-5 animate-fade-in",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Where are you going?"}),g.jsx("p",{className:"text-sm text-text-muted",children:"Add your destinations in order of visit."})]}),g.jsx("div",{className:"space-y-3",children:t.destinations.map((s,u)=>g.jsxs("div",{className:"flex items-start gap-2 p-3 bg-bg-secondary border border-border rounded-[var(--radius-md)]",children:[g.jsx("div",{className:"w-6 h-6 rounded-full bg-accent/10 text-accent flex items-center justify-center text-xs font-semibold shrink-0 mt-2",children:u+1}),g.jsx("span",{className:"text-xl flex-shrink-0 mt-1.5 w-7 text-center",children:s.flag||g.jsx("span",{className:"text-text-muted text-sm",children:""})}),g.jsx(ZD,{value:s.city,country:s.country,flag:s.flag,onChange:c=>n(u,c)}),g.jsx("input",{type:"text",value:s.country,onChange:c=>i(u,c.target.value),placeholder:"Country",className:`flex-1 px-3 py-2 bg-bg-input border border-border rounded-[var(--radius-sm)]
                         text-text-primary placeholder:text-text-muted text-sm
                         focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors`}),g.jsx("button",{type:"button",onClick:()=>o(u),disabled:t.destinations.length<=1,className:"p-1.5 rounded-[var(--radius-sm)] text-text-muted hover:text-danger hover:bg-danger/10 disabled:opacity-0 disabled:pointer-events-none transition-all shrink-0 mt-0.5",children:g.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),g.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},u))}),g.jsxs("button",{type:"button",onClick:r,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 border border-dashed border-border-strong rounded-[var(--radius-md)] text-sm text-text-muted font-medium hover:text-accent hover:border-accent/40 hover:bg-accent-muted/20 transition-colors",children:[g.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),g.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Destination"]})]})}function xq({form:t,setForm:e}){const r=(u,c,f)=>{e(h=>{const p=[...h.budgetCategories];return p[u]={...p[u],[c]:Number(f)||0},{...h,budgetCategories:p}})},n=t.budgetCategories.reduce((u,c)=>u+(c.min||0),0),i=t.budgetCategories.reduce((u,c)=>u+(c.max||0),0),o=pp.find(u=>u.code===t.currency),s=o?o.symbol:t.currency;return g.jsxs("div",{className:"space-y-5 animate-fade-in",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Set your budget"}),g.jsx("p",{className:"text-sm text-text-muted",children:"Optional. You can always add this later."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Currency"}),g.jsx("select",{value:t.currency,onChange:u=>e(c=>({...c,currency:u.target.value})),className:"w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)] text-text-primary focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors appearance-none cursor-pointer",children:pp.map(u=>g.jsxs("option",{value:u.code,children:[u.symbol," ",u.code,"  ",u.name]},u.code))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Budget Categories"}),g.jsx("div",{className:"space-y-2",children:t.budgetCategories.map((u,c)=>g.jsxs("div",{className:"p-2.5 bg-bg-secondary border border-border rounded-[var(--radius-sm)]",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("span",{className:"text-base w-6 text-center",children:u.emoji}),g.jsx("span",{className:"text-sm text-text-secondary font-medium",children:u.name})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:items-center sm:gap-2",children:[g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-xs text-text-muted",children:s}),g.jsx("input",{type:"number",min:"0",value:u.min||"",onChange:f=>r(c,"min",f.target.value),placeholder:"Min",className:"w-full pl-7 pr-2 py-1.5 bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary text-sm text-right focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-xs text-text-muted",children:s}),g.jsx("input",{type:"number",min:"0",value:u.max||"",onChange:f=>r(c,"max",f.target.value),placeholder:"Max",className:"w-full pl-7 pr-2 py-1.5 bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary text-sm text-right focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]}),u.max>0&&g.jsx("div",{className:"col-span-2 sm:flex-1",children:g.jsx("input",{type:"range",min:"0",max:Math.max(u.max*2,1e5),step:"1000",value:u.max,onChange:f=>r(c,"max",f.target.value),className:"w-full accent-[var(--color-accent)] h-1.5 rounded-full cursor-pointer"})})]})]},c))})]}),(n>0||i>0)&&g.jsxs("div",{className:"flex justify-between items-center px-3 py-2.5 bg-accent-muted/30 rounded-[var(--radius-md)] border border-accent/10",children:[g.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Estimated Total"}),g.jsxs("span",{className:"text-sm font-heading font-semibold text-accent",children:[s,n.toLocaleString(),"  ",s,i.toLocaleString()]})]})]})}function bq({form:t}){const{profiles:e}=_s(),r=pp.find(c=>c.code===t.currency),n=r?r.symbol:t.currency,i=t.budgetCategories.reduce((c,f)=>c+(f.min||0),0),o=t.budgetCategories.reduce((c,f)=>c+(f.max||0),0),s=t.destinations.filter(c=>c.city.trim()),u=e.filter(c=>(t.travelerIds||[]).includes(c.id));return g.jsxs("div",{className:"space-y-5 animate-fade-in",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Review your trip"}),g.jsx("p",{className:"text-sm text-text-muted",children:"Everything look good? You can edit details later."})]}),g.jsxs("div",{className:"bg-bg-secondary border border-border rounded-[var(--radius-lg)] overflow-hidden",children:[g.jsx("div",{className:"px-5 py-4 border-b border-border",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"text-4xl",children:t.emoji}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-heading text-lg font-bold text-text-primary",children:t.name||"Untitled Trip"}),u.length>0?g.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[u.map(c=>g.jsx(rf,{profile:c,size:22,ring:!0},c.id)),g.jsx("span",{className:"text-xs text-text-muted ml-1",children:u.map(c=>c.name).join(", ")})]}):g.jsxs("p",{className:"text-sm text-text-muted",children:[t.travelers," ",t.travelers===1?"traveler":"travelers"]})]})]})}),g.jsxs("div",{className:"px-5 py-4 space-y-4",children:[(t.startDate||t.endDate)&&g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider font-medium mb-1",children:"Dates"}),g.jsxs("p",{className:"text-sm text-text-primary",children:[t.startDate?Fl(t.startDate):"TBD","  ",t.endDate?Fl(t.endDate):"TBD"]})]}),s.length>0&&g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider font-medium mb-1.5",children:"Destinations"}),g.jsx("div",{className:"flex flex-wrap gap-1.5",children:s.map((c,f)=>g.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 text-xs bg-bg-hover rounded-[var(--radius-pill)] text-text-secondary",children:[c.flag||""," ",c.city,c.country?`, ${c.country}`:""]},f))})]}),(i>0||o>0)&&g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider font-medium mb-1",children:"Budget"}),g.jsxs("p",{className:"text-sm text-text-primary",children:[n,i.toLocaleString(),"  ",n,o.toLocaleString()," ",t.currency]})]})]})]})]})}function _q({isOpen:t,onClose:e}){const{dispatch:r,showToast:n}=Bt(),[i,o]=q.useState(1),[s,u]=q.useState(()=>c());function c(){return{name:"",emoji:"",travelers:1,travelerIds:[],startDate:"",endDate:"",destinations:[{city:"",country:"",flag:""}],currency:"PHP",budgetCategories:VP.map(v=>({...v,min:0,max:0}))}}const f=()=>{o(1),u(c()),e()},h=q.useMemo(()=>i===1?s.name.trim().length>0:i===2?s.destinations.some(v=>v.city.trim().length>0):!0,[i,s]),p=()=>{const v=s.destinations.filter(O=>O.city.trim()).map(O=>$1(O.city,O.country,O.flag)),x=new Map;v.forEach(O=>{const D=O.city.toLowerCase();x.has(D)||x.set(D,{id:Date.now().toString(36)+Math.random().toString(36).slice(2,8)+x.size,city:O.city,country:O.country,flag:O.flag||"",highlights:"",mustDo:"",weather:"",currencyTip:"",notes:""})});const S=Array.from(x.values()),T=s.budgetCategories.filter(O=>O.min>0||O.max>0).map(O=>({id:Date.now().toString(36)+Math.random().toString(36).slice(2,8),name:O.name,emoji:O.emoji,min:O.min,max:O.max,actual:0})),_=q9({name:s.name.trim()||"New Trip",emoji:s.emoji,travelers:s.travelers,travelerIds:s.travelerIds||[],startDate:s.startDate,endDate:s.endDate,destinations:v,cities:S,currency:s.currency,budget:T});r({type:pe.ADD_TRIP,payload:_}),n(`"${_.name}" created! Let's plan this trip. `),f()};return g.jsxs(M1,{isOpen:t,onClose:f,maxWidth:"max-w-lg",children:[g.jsxs("div",{className:"px-6 pt-6 pb-2",children:[g.jsx("button",{type:"button",onClick:f,className:"absolute top-4 right-4 p-1.5 rounded-[var(--radius-sm)] text-text-muted hover:text-text-primary hover:bg-bg-hover transition-colors z-10",children:g.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),g.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),g.jsx(gq,{currentStep:i}),g.jsxs("div",{className:"min-h-[320px]",children:[i===1&&g.jsx(yq,{form:s,setForm:u}),i===2&&g.jsx(vq,{form:s,setForm:u}),i===3&&g.jsx(xq,{form:s,setForm:u}),i===4&&g.jsx(bq,{form:s})]})]}),g.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-border mt-2",children:[g.jsx("div",{children:i>1&&g.jsxs("button",{type:"button",onClick:()=>o(v=>v-1),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary hover:bg-bg-hover rounded-[var(--radius-md)] transition-colors",children:[g.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back"]})}),g.jsxs("div",{className:"flex items-center gap-2",children:[i===3&&g.jsx("button",{type:"button",onClick:()=>{u(v=>({...v,budgetCategories:VP.map(x=>({...x,min:0,max:0}))})),o(4)},className:"px-4 py-2 text-sm font-medium text-text-muted hover:text-text-secondary hover:bg-bg-hover rounded-[var(--radius-md)] transition-colors",children:"Skip"}),i<eM?g.jsxs("button",{type:"button",onClick:()=>o(v=>v+1),disabled:!h,className:"flex items-center gap-1.5 px-5 py-2 text-sm font-medium bg-accent hover:bg-accent-hover text-text-inverse rounded-[var(--radius-md)] disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200",children:["Next",g.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("polyline",{points:"9 18 15 12 9 6"})})]}):g.jsxs("button",{type:"button",onClick:p,className:"flex items-center gap-2 px-6 py-2.5 text-sm font-semibold bg-accent hover:bg-accent-hover text-text-inverse rounded-[var(--radius-md)] transition-all duration-200 active:scale-[0.98]",children:[g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),g.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Create Trip"]})]})]})]})}function wq({message:t,type:e="success",visible:r}){if(!t)return null;const n={success:"bg-success/10 text-success border-success/20",error:"bg-danger/10 text-danger border-danger/20",info:"bg-info/10 text-info border-info/20",warning:"bg-warning/10 text-warning border-warning/20"};return g.jsx("div",{className:`
      fixed bottom-6 left-1/2 -translate-x-1/2 z-[60]
      px-5 py-3 rounded-[var(--radius-lg)] border
      font-medium text-sm
      ${n[e]||n.success}
      ${r?"animate-toast-in":"animate-toast-out pointer-events-none"}
    `,children:t})}const Eq="https://wanderplan-ai.valentin-bonite.workers.dev/ai";function Tq(t){var O,D,k,R,C,j,A;if(!t)return`You are Wanda, a friendly AI travel assistant built into Wanderplan, a trip planning app.
Help users plan trips, suggest activities, recommend restaurants, give packing advice, and optimize itineraries.
Be concise, warm, and practical. Use emojis sparingly. The user hasn't selected a trip yet, so give general travel advice.`;const e=((O=t.cities)==null?void 0:O.map(P=>`${P.flag} ${P.city}, ${P.country}`).join("  "))||"Not specified",r=t.travelers||1,n=t.startDate||"TBD",i=t.endDate||"TBD",o=((D=t.itinerary)==null?void 0:D.length)||0;(k=t.itinerary)!=null&&k.reduce((P,N)=>{var B;return P+(((B=N.activities)==null?void 0:B.length)||0)},0);const s=(R=t.budget)!=null&&R.length?t.budget.map(P=>`${P.emoji||""} ${P.name}: ${P.max} budget (${P.actual||0} spent)`).join(", "):"No budget set",u=((C=t.budget)==null?void 0:C.reduce((P,N)=>P+(N.max||0),0))||0,c=((j=t.budget)==null?void 0:j.reduce((P,N)=>P+(N.actual||0),0))||0,f=t.bookings||[],h=f.filter(P=>P.status==="booked").length,p=f.filter(P=>P.status!=="booked").length,v=t.todos||[],x=v.filter(P=>P.done).length,S=t.packingList||[],T=S.filter(P=>P.packed).length,_=((A=t.itinerary)==null?void 0:A.slice(0,5).map(P=>{var N;return`Day ${P.dayNumber} (${P.location||"location TBD"}): ${((N=P.activities)==null?void 0:N.map(B=>B.name).join(", "))||"no activities yet"}`}).join(`
`))||"No itinerary yet";return`You are Wanda, a friendly AI travel assistant built into Wanderplan.
You are helping plan this specific trip:

 TRIP: "${t.name||"Unnamed Trip"}" ${t.emoji||""}
 Route: ${e}
 Dates: ${n}  ${i} (${o} days planned)
 Travelers: ${r}

 BUDGET:
${s}
Total: ${u} budget, ${c} spent, ${u-c} remaining

 BOOKINGS: ${h} confirmed, ${p} pending
 TODOS: ${x}/${v.length} done
 PACKING: ${T}/${S.length} packed

 ITINERARY PREVIEW:
${_}

Your role:
- Give specific, actionable advice tailored to THIS trip's cities, budget, and timeline
- Be concise  2-4 sentences per response unless the user asks for a detailed list
- Use emojis sparingly (1-2 per response max)
- When suggesting activities, consider the budget remaining (${u-c})
- If the user asks to "optimize" or "improve" something, give concrete suggestions
- Be warm and conversational, like a knowledgeable travel-savvy friend`}async function Sq(t,e,r){var c,f,h,p,v,x;const i={contents:[...e.map(S=>({role:S.role,parts:[{text:S.text}]})),{role:"user",parts:[{text:r}]}],systemInstruction:{parts:[{text:t}]},generationConfig:{temperature:.8,maxOutputTokens:512}},o=await fetch(Eq,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok){const S=await o.json().catch(()=>({}));throw new Error(((c=S==null?void 0:S.error)==null?void 0:c.message)||`Gemini API error ${o.status}`)}const u=(x=(v=(p=(h=(f=(await o.json()).candidates)==null?void 0:f[0])==null?void 0:h.content)==null?void 0:p.parts)==null?void 0:v[0])==null?void 0:x.text;if(!u)throw new Error("No response from Gemini");return u}const BP=[{label:" Optimize itinerary",text:"Can you review my itinerary and suggest any improvements or optimizations?"},{label:" Restaurant tips",text:"What are the best restaurants or food experiences I should try on this trip?"},{label:" Packing advice",text:"Based on my destinations and dates, what should I make sure to pack?"},{label:" Budget check",text:"How is my budget looking? Any tips to save money or where to splurge?"},{label:" Hidden gems",text:"What are some lesser-known hidden gems or local tips for my destinations?"},{label:" Day plan",text:"Can you suggest a perfect day itinerary for one of my destinations?"}];function Aq({msg:t}){const e=t.role==="user";return g.jsxs("div",{className:`flex ${e?"justify-end":"justify-start"} mb-3`,children:[!e&&g.jsx("div",{className:"w-7 h-7 rounded-full bg-accent/10 border border-accent/20 flex items-center justify-center text-sm flex-shrink-0 mr-2 mt-0.5",children:""}),g.jsx("div",{className:`
          max-w-[85%] px-3.5 py-2.5 rounded-2xl text-sm leading-relaxed
          ${e?"bg-accent text-text-inverse rounded-tr-sm":"bg-bg-secondary border border-border text-text-primary rounded-tl-sm"}
        `,children:t.text})]})}function Pq(){return g.jsxs("div",{className:"flex justify-start mb-3",children:[g.jsx("div",{className:"w-7 h-7 rounded-full bg-accent/10 border border-accent/20 flex items-center justify-center text-sm flex-shrink-0 mr-2 mt-0.5",children:""}),g.jsxs("div",{className:"bg-bg-secondary border border-border px-4 py-3 rounded-2xl rounded-tl-sm flex items-center gap-1.5",children:[g.jsx("span",{className:"w-1.5 h-1.5 bg-text-muted rounded-full animate-bounce",style:{animationDelay:"0ms"}}),g.jsx("span",{className:"w-1.5 h-1.5 bg-text-muted rounded-full animate-bounce",style:{animationDelay:"150ms"}}),g.jsx("span",{className:"w-1.5 h-1.5 bg-text-muted rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})}function Iq(){const{activeTrip:t}=Bt(),[e,r]=q.useState(!1),[n,i]=q.useState([]),[o,s]=q.useState(""),[u,c]=q.useState(!1),[f,h]=q.useState(null),[p,v]=q.useState(!0),[x,S]=q.useState(!1),T=q.useRef(null),_=q.useRef(null);q.useEffect(()=>{const A=setTimeout(()=>S(!0),200);return()=>clearTimeout(A)},[]),q.useEffect(()=>{var A;(A=T.current)==null||A.scrollIntoView({behavior:"smooth"})},[n,u]),q.useEffect(()=>{e&&setTimeout(()=>{var A;return(A=_.current)==null?void 0:A.focus()},150)},[e]);const O=Tq(t);async function D(A){const P=(A||o).trim();if(!P||u)return;s(""),h(null),v(!1);const N={role:"user",text:P},B=[...n,N];i(B),c(!0);try{const V=await Sq(O,n,P);i($=>[...$,{role:"model",text:V}])}catch(L){h(L.message||"Something went wrong. Try again."),i(V=>V.slice(0,-1))}finally{c(!1)}}function k(A){D(A.text)}function R(A){A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),D())}function C(){i([]),h(null),v(!0)}const j=n.length>0;return g.jsxs(g.Fragment,{children:[x&&g.jsxs("button",{onClick:()=>r(A=>!A),className:`
            fixed bottom-8 right-8 z-40
            flex items-center gap-2 px-5 py-2.5
            rounded-full text-sm font-semibold
            transition-all duration-200 active:scale-95
            animate-bounce-in
            ${e?"text-text-secondary":"text-text-primary"}
          `,style:{background:e?"var(--color-bg-secondary)":"var(--color-bg-card)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid var(--color-border)",boxShadow:"0 4px 24px 0 rgb(0 0 0 / 0.10), 0 1px 4px 0 rgb(0 0 0 / 0.06)"},title:e?"Close Wanda":"Ask Wanda AI","aria-label":e?"Close AI assistant":"Open AI assistant",children:[g.jsx("span",{className:"text-base leading-none",children:e?"":""}),g.jsx("span",{children:e?"Close":"Ask Wanda"})]}),g.jsxs("div",{className:`
          fixed bottom-24 right-8 z-40
          w-[min(400px,calc(100vw-2rem))]
          border border-border rounded-[var(--radius-lg)]
          shadow-2xl flex flex-col
          transition-all duration-300 ease-out
          ${e?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 translate-y-4 pointer-events-none"}
        `,style:{maxHeight:"min(560px, calc(100dvh - 8rem))",background:"var(--color-bg-primary)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)"},children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border flex-shrink-0",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-lg",children:""}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-text-primary leading-tight",children:"Wanda"}),g.jsx("p",{className:"text-[10px] text-text-muted leading-tight",children:t?`Knows your ${t.name} trip`:"AI travel assistant"})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[j&&g.jsx("button",{onClick:C,className:"text-xs text-text-muted hover:text-text-secondary transition-colors px-2 py-1 rounded hover:bg-bg-secondary",title:"Clear chat",children:"Clear"}),g.jsx("div",{className:"w-2 h-2 rounded-full bg-success animate-pulse",title:"Connected"})]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 min-h-0",children:[!j&&p&&g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-text-muted text-center mb-4 leading-relaxed",children:t?`I know your ${t.emoji||""} ${t.name} trip. Ask me anything!`:"Your AI travel companion. Ask me anything about travel planning!"}),g.jsx("div",{className:"flex flex-wrap gap-1.5",children:BP.map(A=>g.jsx("button",{onClick:()=>k(A),className:`text-xs px-2.5 py-1.5 rounded-full border border-border bg-bg-secondary
                               hover:bg-bg-tertiary hover:border-accent/40 text-text-secondary
                               transition-all duration-150 active:scale-95`,children:A.label},A.label))})]}),n.map((A,P)=>g.jsx(Aq,{msg:A},P)),u&&g.jsx(Pq,{}),f&&g.jsx("div",{className:"text-xs text-center text-red-400 bg-red-400/10 border border-red-400/20 rounded-lg px-3 py-2 mb-2",children:f}),g.jsx("div",{ref:T})]}),j&&!u&&g.jsx("div",{className:"px-4 pb-2 flex gap-1.5 overflow-x-auto flex-shrink-0 scrollbar-none",children:BP.slice(0,3).map(A=>g.jsx("button",{onClick:()=>k(A),className:`text-[11px] px-2.5 py-1 rounded-full border border-border bg-bg-secondary
                           hover:bg-bg-tertiary text-text-muted whitespace-nowrap
                           transition-all duration-150 active:scale-95 flex-shrink-0`,children:A.label},A.label))}),g.jsxs("div",{className:"px-3 pb-3 pt-1 flex-shrink-0 border-t border-border mt-auto",children:[g.jsxs("div",{className:"flex items-end gap-2 mt-2",children:[g.jsx("textarea",{ref:_,value:o,onChange:A=>s(A.target.value),onKeyDown:R,placeholder:"Ask about your trip",rows:1,className:`
                flex-1 resize-none rounded-[var(--radius-md)] border border-border
                bg-bg-secondary text-text-primary placeholder:text-text-muted
                px-3 py-2 text-sm leading-relaxed
                focus:outline-none focus:border-accent/50 focus:ring-1 focus:ring-accent/20
                transition-all duration-150
                scrollbar-none overflow-hidden
              `,style:{minHeight:"38px",maxHeight:"120px"},onInput:A=>{A.target.style.height="auto",A.target.style.height=Math.min(A.target.scrollHeight,120)+"px"},disabled:u}),g.jsx("button",{onClick:()=>D(),disabled:!o.trim()||u,className:`
                w-9 h-9 flex-shrink-0 rounded-[var(--radius-md)]
                bg-accent hover:bg-accent-hover text-text-inverse
                flex items-center justify-center
                disabled:opacity-40 disabled:cursor-not-allowed
                transition-all duration-150 active:scale-95
              `,"aria-label":"Send message",children:g.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),g.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})})]}),g.jsx("p",{className:"text-[10px] text-text-muted text-center mt-1.5 opacity-60",children:"Powered by Gemini 2.0 Flash  Enter to send"})]})]}),e&&g.jsx("div",{className:"fixed inset-0 z-30 md:hidden",onClick:()=>r(!1)})]})}function Cl({value:t=0,max:e=100,className:r="",colorClass:n="bg-accent",height:i="h-2",showLabel:o=!1,label:s=""}){const u=e>0?Math.min(100,Math.round(t/e*100)):0;return g.jsxs("div",{className:r,children:[(o||s)&&g.jsxs("div",{className:"flex justify-between items-center mb-1.5 text-sm",children:[g.jsx("span",{className:"text-text-secondary",children:s}),g.jsxs("span",{className:"text-text-muted font-medium",children:[t,"/",e]})]}),g.jsx("div",{className:`w-full bg-border rounded-full overflow-hidden ${i}`,children:g.jsx("div",{className:`${i} ${n} rounded-full transition-all duration-700 ease-out`,style:{width:`${u}%`}})})]})}function gu({children:t,className:e="",onClick:r}){return g.jsx("div",{onClick:r,className:`
        bg-[var(--color-bg-card)] rounded-[var(--radius-lg)]
        border border-[var(--color-border)]
        flex flex-col h-full overflow-hidden
        ${r?"cursor-pointer hover:border-[var(--color-border-strong)] transition-colors duration-150":""}
        ${e}
      `,children:t})}function Xf({children:t}){return g.jsx("span",{className:"text-[10px] font-bold text-[var(--color-text-muted)] uppercase tracking-[0.14em]",children:t})}function Cq(t){return t===0?{emoji:"",label:"Clear sky"}:t<=2?{emoji:"",label:"Partly cloudy"}:t===3?{emoji:"",label:"Overcast"}:t<=49?{emoji:"",label:"Foggy"}:t<=59?{emoji:"",label:"Drizzle"}:t<=69?{emoji:"",label:"Rain"}:t<=79?{emoji:"",label:"Snow"}:t<=84?{emoji:"",label:"Showers"}:t<=99?{emoji:"",label:"Thunderstorm"}:{emoji:"",label:"Unknown"}}function Oq({destinations:t}){const[e,r]=q.useState(null),[n,i]=q.useState("loading"),o=t==null?void 0:t[0];return q.useEffect(()=>{if(!o){i("error");return}let s=!1;i("loading"),r(null);async function u(){var c;try{const h=await(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(o.city)}&count=1&language=en&format=json`)).json();if(!((c=h.results)!=null&&c.length))throw new Error("not found");const{latitude:p,longitude:v}=h.results[0],T=(await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${p}&longitude=${v}&current=temperature_2m,apparent_temperature,weathercode&temperature_unit=celsius&timezone=auto`)).json()).current;s||(r({temp:Math.round(T.temperature_2m),feelsLike:Math.round(T.apparent_temperature),wmo:T.weathercode,city:o.city,flag:o.flag}),i("ok"))}catch{s||i("error")}}return u(),()=>{s=!0}},[o==null?void 0:o.city]),g.jsx(gu,{children:g.jsxs("div",{className:"p-4 flex flex-col h-full",children:[g.jsx(Xf,{children:"Right Now"}),n==="loading"&&g.jsxs("div",{className:"flex-1 flex items-center gap-3 animate-pulse mt-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-[var(--color-bg-hover)] shrink-0"}),g.jsxs("div",{className:"space-y-1.5 flex-1",children:[g.jsx("div",{className:"h-3 bg-[var(--color-bg-hover)] rounded w-16"}),g.jsx("div",{className:"h-2 bg-[var(--color-bg-hover)] rounded w-12"})]})]}),n==="ok"&&e&&(()=>{const{emoji:s,label:u}=Cq(e.wmo);return g.jsxs("div",{className:"flex-1 flex flex-col justify-center mt-3",children:[g.jsx("div",{className:"text-4xl leading-none mb-2",children:s}),g.jsxs("div",{className:"flex items-baseline gap-1.5",children:[g.jsxs("span",{className:"font-heading font-bold text-2xl text-[var(--color-text-primary)]",children:[e.temp,""]}),g.jsxs("span",{className:"text-xs text-[var(--color-text-muted)]",children:["feels ",e.feelsLike,""]})]}),g.jsx("div",{className:"text-xs text-[var(--color-text-muted)] mt-0.5",children:u}),g.jsxs("div",{className:"text-[10px] text-[var(--color-text-muted)] mt-2 opacity-50",children:[e.flag," ",e.city,"  Open-Meteo"]})]})})(),n==="error"&&g.jsx("div",{className:"flex-1 flex items-center justify-center mt-3",children:g.jsx("span",{className:"text-xs text-[var(--color-text-muted)]",children:"Unavailable"})})]})})}function kq(t,e){return!t||!e||t.country!==e.country?"":""}function Nq({trip:t}){const e=t.destinations||[],r=q.useMemo(()=>{const n={};return(t.itinerary||[]).forEach(i=>{const o=(i.location||"").toLowerCase();e.forEach(s=>{!n[s.city]&&o.includes(s.city.toLowerCase())&&(n[s.city]=i.date)})}),n},[t.itinerary,e]);return g.jsx(gu,{children:g.jsxs("div",{className:"p-4 flex flex-col h-full",children:[g.jsx(Xf,{children:"Route"}),e.length<2?g.jsx("div",{className:"flex-1 flex items-center",children:g.jsx("span",{className:"text-xs text-[var(--color-text-muted)]",children:"Add destinations to see your route"})}):g.jsxs("div",{className:"relative flex-1 flex items-center mt-4 -mx-1 px-1 overflow-hidden",children:[e.length>6&&g.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-16 bg-gradient-to-l from-[var(--color-bg-card)] to-transparent z-10 pointer-events-none"}),g.jsx("div",{className:"w-full overflow-x-auto scrollbar-hide pb-2",children:g.jsx("div",{className:"flex items-center w-full min-w-max",children:e.map((n,i)=>{const o=i===e.length-1,s=i===0,u=r[n.city];return g.jsxs("div",{className:`flex items-center ${o?"shrink-0":"flex-1 min-w-[5rem]"}`,children:[g.jsxs("div",{className:"flex flex-col items-center text-center w-14 shrink-0",children:[g.jsx("div",{className:"text-[9px] text-[var(--color-text-muted)] mb-1.5 h-3 leading-none font-medium",children:u?Fl(u,"short"):""}),g.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm border-2
                          ${s?"border-[var(--color-accent)] bg-[var(--color-accent)]/10":o?"border-[var(--color-success)] bg-[var(--color-success)]/10":"border-[var(--color-border-strong)] bg-[var(--color-bg-secondary)]"}`,children:n.flag}),g.jsx("p",{className:"text-[10px] font-semibold text-[var(--color-text-primary)] mt-1 leading-tight",children:n.city})]}),!o&&g.jsxs("div",{className:"flex flex-col items-center flex-1 px-2 w-full",children:[g.jsx("div",{className:"text-[10px] mb-1",children:kq(n,e[i+1])}),g.jsx("div",{className:"w-full border-t-2 border-dashed border-[var(--color-border-strong)]"})]})]},i)})})})]})]})})}const Ha="high",gc="med";function jq(t){var c,f,h;const e=[],r=new Date;r.setHours(0,0,0,0),(t.todos||[]).filter(p=>p.done?!1:p.priority==="high"?!0:p.dueDate?Math.ceil((new Date(p.dueDate+"T00:00:00")-r)/864e5)<=14:!1).slice(0,3).forEach(p=>{const v=p.dueDate?Math.ceil((new Date(p.dueDate+"T00:00:00")-r)/864e5):null,x=v!==null&&v<0;e.push({id:`todo-${p.id}`,urgency:p.priority==="high"||x?Ha:gc,icon:x?"":p.priority==="high"?"":"",title:p.text,subtitle:x?`Overdue ${Math.abs(v)}d`:v!==null?`Due in ${v}d`:p.category,tab:"todo"})}),(t.bookings||[]).filter(p=>p.status==="booked"?!1:p.priority?!0:p.bookByDate?Math.ceil((new Date(p.bookByDate+"T00:00:00")-r)/864e5)<=21:!1).slice(0,3).forEach(p=>{const v=p.bookByDate?Math.ceil((new Date(p.bookByDate+"T00:00:00")-r)/864e5):null,x=v!==null&&v<0,S={flight:"",hotel:"",concert:"",experience:""}[p.category]||"";e.push({id:`booking-${p.id}`,urgency:p.priority||x?Ha:gc,icon:S,title:p.name,subtitle:x?`Book-by passed ${Math.abs(v)}d ago`:v!==null?`Book by ${Fl(p.bookByDate,"short")}`:"Unconfirmed",tab:"bookings"})}),!(t.bookings||[]).some(p=>p.category==="flight")&&(((c=t.destinations)==null?void 0:c.length)||0)>1&&e.push({id:"missing-flights",urgency:gc,icon:"",title:"No flights added yet",subtitle:"Add to Bookings",tab:"bookings"}),(t.bookings||[]).some(p=>p.category==="hotel")||e.push({id:"missing-hotels",urgency:gc,icon:"",title:"No accommodation yet",subtitle:"Add to Bookings",tab:"bookings"});const o=((f=t.packingList)==null?void 0:f.length)||0,s=((h=t.packingList)==null?void 0:h.filter(p=>p.packed).length)||0,u=V9(t.startDate);return o>0&&s===0&&u!==null&&u<=30&&e.push({id:"packing",urgency:u<=7?Ha:gc,icon:"",title:"Packing not started",subtitle:`${u}d to go`,tab:"packing"}),e.sort((p,v)=>p.urgency===Ha?-1:v.urgency===Ha?1:0).slice(0,5)}function Rq({trip:t,onTabSwitch:e}){const r=q.useMemo(()=>jq(t),[t]),n=r.filter(i=>i.urgency===Ha).length;return g.jsxs(gu,{children:[g.jsxs("div",{className:"px-4 pt-4 pb-3 flex items-center justify-between shrink-0",children:[g.jsx(Xf,{children:"Needs Attention"}),r.length>0&&g.jsx("span",{className:`text-[9px] font-bold px-2 py-0.5 rounded-full
            ${n>0?"bg-[var(--color-danger)]/10 text-[var(--color-danger)]":"bg-[var(--color-warning)]/10 text-[var(--color-warning)]"}`,children:n>0?`${n} urgent`:`${r.length} items`})]}),g.jsx("div",{className:"flex-1 overflow-y-auto divide-y divide-[var(--color-border)]",children:r.length===0?g.jsxs("div",{className:"px-4 py-5 flex items-center gap-3",children:[g.jsx("span",{className:"text-xl",children:""}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"All clear"}),g.jsx("p",{className:"text-xs text-[var(--color-text-muted)] mt-0.5",children:"Nothing urgent right now"})]})]}):r.map(i=>g.jsxs("button",{type:"button",onClick:()=>e==null?void 0:e(i.tab),className:`w-full flex items-center gap-3 px-4 py-2.5 text-left
                       hover:bg-[var(--color-bg-hover)] transition-colors duration-100 group`,children:[g.jsx("div",{className:`w-0.5 h-6 rounded-full shrink-0
              ${i.urgency===Ha?"bg-[var(--color-danger)]":"bg-[var(--color-warning)]"}`}),g.jsx("span",{className:"text-base leading-none shrink-0",children:i.icon}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-xs font-medium text-[var(--color-text-primary)] truncate",children:i.title}),g.jsx("p",{className:"text-[10px] text-[var(--color-text-muted)]",children:i.subtitle})]}),g.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[var(--color-text-muted)] shrink-0 opacity-0 group-hover:opacity-40 transition-opacity",children:g.jsx("polyline",{points:"9 18 15 12 9 6"})})]},i.id))})]})}function Dq({trip:t}){const e=km(t),r=Y9(t),n=e===0,i=e===100?"100% ready ":e>=75?"Almost there!":e>=50?"Good progress":e>0?"Just getting started":"Add items to track";return g.jsx(gu,{children:g.jsxs("div",{className:"p-4 flex flex-col h-full",children:[g.jsx(Xf,{children:"Readiness"}),g.jsx("div",{className:"flex-1 flex flex-col justify-between mt-3",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(D1,{value:e,size:72,strokeWidth:5,pulse:n,labelClassName:"text-xs"}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsx("p",{className:"text-xs font-semibold text-[var(--color-text-primary)]",children:i}),g.jsxs("div",{className:"mt-2 space-y-1.5",children:[g.jsx(Cl,{value:r.bookings.done,max:r.bookings.total,label:"Bookings",showLabel:!0,colorClass:"bg-info",height:"h-1"}),g.jsx(Cl,{value:r.todos.done,max:r.todos.total,label:"To-Dos",showLabel:!0,colorClass:"bg-accent",height:"h-1"}),g.jsx(Cl,{value:r.packing.done,max:r.packing.total,label:"Packing",showLabel:!0,colorClass:"bg-success",height:"h-1"})]})]})]})})]})})}function Mq({trip:t}){var s,u,c;const e=((s=t.budget)==null?void 0:s.reduce((f,h)=>f+(h.min||0),0))||0,r=((u=t.budget)==null?void 0:u.reduce((f,h)=>f+(h.max||0),0))||0,n=((c=t.budget)==null?void 0:c.reduce((f,h)=>f+(h.actual||0),0))||0,i=r>0,o=n>r;return g.jsx(gu,{children:g.jsxs("div",{className:"p-4 flex flex-col h-full",children:[g.jsx(Xf,{children:"Budget"}),i?g.jsxs("div",{className:"flex-1 flex flex-col justify-between mt-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] text-[var(--color-text-muted)]",children:"Estimated"}),g.jsxs("p",{className:"text-sm font-semibold text-[var(--color-text-primary)] mt-0.5",children:[sn(e,t.currency),"  ",sn(r,t.currency)]})]}),n>0&&g.jsxs("div",{className:"mt-3",children:[g.jsxs("div",{className:"flex justify-between items-baseline mb-1.5",children:[g.jsx("p",{className:"text-[10px] text-[var(--color-text-muted)]",children:"Spent"}),g.jsxs("p",{className:`text-sm font-bold ${o?"text-[var(--color-danger)]":"text-[var(--color-success)]"}`,children:[sn(n,t.currency),o?" ":""]})]}),g.jsx(Cl,{value:n,max:r,colorClass:o?"bg-danger":"bg-accent",height:"h-1.5"})]})]}):g.jsx("div",{className:"flex-1 flex items-center",children:g.jsx("span",{className:"text-xs text-[var(--color-text-muted)]",children:"No budget set"})})]})})}const Lq=[{emoji:"",title:"Add a Booking",desc:"Flights, hotels, activities",tab:"bookings"},{emoji:"",title:"Create To-Dos",desc:"Visas, vaccines, admin",tab:"todo"},{emoji:"",title:"Start Packing",desc:"Build your checklist",tab:"packing"}];function $q({onTabSwitch:t}){return g.jsx("div",{className:"grid grid-cols-3 gap-3",children:Lq.map(e=>g.jsx(gu,{onClick:()=>t==null?void 0:t(e.tab),children:g.jsxs("div",{className:"p-4 flex flex-col h-full",children:[g.jsx("div",{className:"text-2xl mb-3",children:e.emoji}),g.jsx("p",{className:"text-xs font-semibold text-[var(--color-text-primary)]",children:e.title}),g.jsx("p",{className:"text-[10px] text-[var(--color-text-muted)] mt-0.5",children:e.desc})]})},e.tab))})}function FP({onTabSwitch:t}){var s;const{activeTrip:e}=Bt();if(!e)return null;const r=e,i=km(r)===0,o=(((s=r.destinations)==null?void 0:s.length)||0)>0;return g.jsxs("div",{className:"space-y-3 animate-fade-in",children:[g.jsx("div",{style:{minHeight:"120px"},children:g.jsx(Nq,{trip:r})}),g.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[g.jsx("div",{className:"col-span-2",children:g.jsx(Rq,{trip:r,onTabSwitch:t})}),o?g.jsx(Oq,{destinations:r.destinations}):g.jsx("div",{})]}),i&&g.jsx($q,{onTabSwitch:t}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsx(Dq,{trip:r}),g.jsx(Mq,{trip:r})]})]})}function vr({children:t,className:e="",hover:r=!1,onClick:n,padding:i="p-5"}){return g.jsx("div",{onClick:n,className:`
        bg-[var(--color-bg-card)] border border-border rounded-[14px]
        ${r?"hover:border-border-strong cursor-pointer":""}
        transition-colors duration-200
        ${i}
        ${e}
      `,children:t})}function qr({value:t,onSave:e,tag:r="span",className:n="",inputClassName:i="",placeholder:o="Click to edit...",multiline:s=!1}){const[u,c]=q.useState(!1),[f,h]=q.useState(t),p=q.useRef(null);q.useEffect(()=>{var S,T;u&&p.current&&(p.current.focus(),(T=(S=p.current).select)==null||T.call(S))},[u]),q.useEffect(()=>{h(t)},[t]);const v=()=>{c(!1);const S=(f==null?void 0:f.trim())??"";S!==t&&e(S)},x=S=>{S.key==="Enter"&&!s&&(S.preventDefault(),v()),S.key==="Escape"&&(h(t),c(!1))};if(u){const S=s?"textarea":"input";return g.jsx(S,{ref:p,value:f,onChange:T=>h(T.target.value),onBlur:v,onKeyDown:x,placeholder:o,className:`
          bg-bg-input border border-accent/30 rounded-[var(--radius-sm)]
          px-2 py-1 outline-none focus:border-accent focus:ring-1 focus:ring-accent/20
          text-text-primary font-body
          ${s?"min-h-[80px] resize-y w-full":""}
          ${i}
        `,rows:s?3:void 0})}return g.jsx(r,{onClick:()=>{h(t),c(!0)},className:`
        cursor-pointer border-b border-transparent
        hover:border-accent/30 transition-colors duration-150
        ${t?"":"text-text-muted italic"}
        ${n}
      `,title:"Click to edit",children:t||o})}function Vq(t){const[e,r]=t.split(":").map(Number);return`${e%12||12}:${String(r).padStart(2,"0")} ${e<12?"AM":"PM"}`}function Bq(t){return{"":"border-l-info","":"border-l-info","":"border-l-info","":"border-l-success","":"border-l-success","":"border-l-warning","":"border-l-warning","":"border-l-warning","":"border-l-warning","":"border-l-warning","":"border-l-accent","":"border-l-accent","":"border-l-accent","":"border-l-accent","":"border-l-accent","":"border-l-[var(--color-text-muted)]","":"border-l-[var(--color-text-muted)]","":"border-l-[var(--color-text-muted)]"}[t]||"border-l-border"}function Fq({fromTime:t,toTime:e}){if(!t||!e)return null;const r=u=>{const[c,f]=u.split(":").map(Number);return c*60+f},n=r(e)-r(t);if(n<90)return null;const i=Math.floor(n/60),o=n%60,s=o===0?`${i}h free`:`${i}h ${o}m free`;return g.jsxs("div",{className:"flex items-center gap-2 py-1 px-2 select-none pointer-events-none",children:[g.jsx("div",{className:"flex-1 h-px bg-border"}),g.jsxs("span",{className:"text-[10px] text-text-muted tracking-wide",children:[" ",s," "]}),g.jsx("div",{className:"flex-1 h-px bg-border"})]})}function Uq({activity:t,dayId:e,index:r,onUpdate:n,onDelete:i,onReorder:o}){const[s,u]=q.useState(!1),c=Bq(t.emoji);return g.jsxs("div",{draggable:!0,onDragStart:f=>{f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("activityIndex",String(r))},onDragOver:f=>{f.preventDefault(),u(!0)},onDragLeave:()=>u(!1),onDrop:f=>{f.preventDefault(),u(!1);const h=Number(f.dataTransfer.getData("activityIndex"));h!==r&&o(h,r)},className:`flex items-start gap-2 group py-2 pl-2 rounded transition-all cursor-default
        border-l-2 ${c}
        ${s?"bg-bg-hover":""}`,children:[g.jsx("span",{className:"flex-shrink-0 cursor-grab active:cursor-grabbing opacity-0 group-hover:opacity-30 mt-1 text-text-muted select-none text-base",children:""}),g.jsx("div",{className:"flex-shrink-0 w-[4.5rem] pt-0.5 text-right relative",children:t.time?g.jsxs("label",{className:"text-xs text-text-muted font-mono tabular-nums cursor-pointer hover:text-text-secondary transition-colors select-none",children:[Vq(t.time),g.jsx("input",{type:"time",value:t.time,onChange:f=>n({time:f.target.value}),className:"absolute opacity-0 w-0 h-0 pointer-events-none"})]}):g.jsxs("label",{className:"text-xs text-text-muted opacity-0 group-hover:opacity-40 cursor-pointer transition-opacity select-none",children:["time",g.jsx("input",{type:"time",value:"",onChange:f=>n({time:f.target.value}),className:"absolute opacity-0 w-0 h-0 pointer-events-none"})]})}),g.jsx("span",{className:"text-lg flex-shrink-0 mt-0.5",children:t.emoji}),g.jsx("div",{className:"flex-1 min-w-0",children:g.jsxs("div",{className:"flex items-baseline gap-1.5 flex-wrap",children:[g.jsx(qr,{value:t.name,onSave:f=>n({name:f}),className:"text-text-primary font-medium text-sm leading-snug",placeholder:"Activity name"}),(t.notes||t.notes==="")&&g.jsxs(g.Fragment,{children:[t.notes&&g.jsx("span",{className:"text-text-muted text-xs select-none",children:""}),g.jsx(qr,{value:t.notes||"",onSave:f=>n({notes:f}),className:"text-xs text-text-muted leading-relaxed",placeholder:"Add notes",multiline:!0})]})]})}),g.jsx("button",{onClick:i,className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-sm transition-opacity p-1 flex-shrink-0",children:""})]})}function qq({onAdd:t,onCancel:e}){const[r,n]=q.useState(""),[i,o]=q.useState(""),[s,u]=q.useState(""),[c,f]=q.useState(""),[h,p]=q.useState(!1),v=x=>{x.preventDefault(),r.trim()&&(t({name:r.trim(),time:i,emoji:s,notes:c.trim()}),n(""),o(""),u(""),f(""))};return g.jsxs("form",{onSubmit:v,className:"mt-3 p-3 bg-bg-primary rounded-[var(--radius-md)] border border-border",children:[g.jsxs("div",{className:"flex gap-2 items-start",children:[g.jsx("input",{type:"time",value:i,onChange:x=>o(x.target.value),className:"w-24 px-2 py-1.5 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary"}),g.jsxs("div",{className:"relative",children:[g.jsx("button",{type:"button",onClick:()=>p(!h),className:"text-xl p-1.5 border border-border rounded-[var(--radius-sm)] hover:bg-bg-hover",children:s}),h&&g.jsx("div",{className:"absolute top-full left-0 mt-1 p-2 bg-bg-secondary border border-border rounded-[var(--radius-md)] grid grid-cols-4 gap-1 z-10",children:mq.map(x=>g.jsx("button",{type:"button",onClick:()=>{u(x.emoji),p(!1)},className:"text-lg p-1 hover:bg-bg-hover rounded",title:x.label,children:x.emoji},x.emoji))})]}),g.jsx("input",{value:r,onChange:x=>n(x.target.value),placeholder:"Activity name",className:"flex-1 px-3 py-1.5 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted"})]}),g.jsx("input",{value:c,onChange:x=>f(x.target.value),placeholder:"Notes (optional)",className:"w-full mt-2 px-3 py-1.5 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted"}),g.jsxs("div",{className:"flex gap-2 mt-2 justify-end",children:[g.jsx("button",{type:"button",onClick:e,className:"px-3 py-1 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"}),g.jsx("button",{type:"submit",className:"px-3 py-1 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"})]})]})}function zq({day:t,dayIndex:e,isConcertDay:r,onReorderDay:n}){var D,k;const{dispatch:i}=Bt(),[o,s]=q.useState(!0),[u,c]=q.useState(!1),[f,h]=q.useState(!1),[p,v]=q.useState(t.notes||""),[x,S]=q.useState(!1),T=r?"border-concert-red/30 bg-concert-dark/5 dark:bg-concert-dark/30":"",_=t.location?`https://www.google.com/maps/search/${encodeURIComponent(t.location)}`:null,O=()=>{i({type:pe.UPDATE_DAY,payload:{dayId:t.id,updates:{notes:p}}}),h(!1)};return g.jsxs("div",{className:`relative animate-fade-in transition-all ${x?"border-t-2 border-accent":""}`,draggable:!0,onDragStart:R=>{R.dataTransfer.effectAllowed="move",R.dataTransfer.setData("dayIndex",String(e))},onDragOver:R=>{R.preventDefault(),S(!0)},onDragLeave:()=>S(!1),onDrop:R=>{R.preventDefault(),S(!1);const C=Number(R.dataTransfer.getData("dayIndex"));C!==e&&n(C,e)},children:[g.jsx("div",{className:"absolute left-5 top-0 bottom-0 w-px bg-border hidden md:block"}),g.jsx("div",{className:`absolute left-3 top-6 w-5 h-5 rounded-full border-2 hidden md:block z-10
        ${r?"border-concert-red bg-concert-red/20":"border-accent bg-accent/20"}`}),g.jsxs(vr,{className:`md:ml-12 ${T}`,children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"hidden md:block cursor-grab active:cursor-grabbing text-text-muted opacity-30 hover:opacity-60 select-none",title:"Drag to reorder",children:""}),g.jsxs("div",{className:"flex items-center gap-3 flex-1 cursor-pointer",onClick:()=>s(!o),children:[g.jsx("span",{className:"text-2xl",children:t.emoji}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[g.jsxs("span",{className:`font-heading font-semibold ${r?"text-concert-red":"text-text-primary"}`,children:["Day ",t.dayNumber]}),g.jsx("span",{className:"text-text-muted text-sm",children:""}),g.jsx("span",{className:"text-sm text-text-secondary",children:Fl(t.date,"long")})]}),g.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[g.jsx(qr,{value:t.location,onSave:R=>i({type:pe.UPDATE_DAY,payload:{dayId:t.id,updates:{location:R}}}),className:"text-sm text-text-muted",placeholder:"Location"}),_&&g.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",onClick:R=>R.stopPropagation(),className:"text-sm hover:opacity-70 transition-opacity flex-shrink-0",title:"View on Google Maps",children:""})]})]})]}),g.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[g.jsx("span",{className:"text-xs text-text-muted",children:((D=t.activities)==null?void 0:D.length)||0}),g.jsx("button",{onClick:R=>{R.stopPropagation(),i({type:pe.REMOVE_DAY,payload:t.id})},className:"text-xs text-text-muted hover:text-danger transition-colors px-1",children:""}),g.jsx("span",{className:`text-text-muted cursor-pointer transition-transform ${o?"rotate-180":""}`,onClick:()=>s(!o),children:""})]})]}),o&&g.jsxs("div",{className:"mt-3 border-t border-border pt-3",children:[((k=t.activities)==null?void 0:k.length)>0?g.jsx("div",{className:"divide-y divide-border/50",children:t.activities.map((R,C)=>{var j;return g.jsxs("div",{children:[g.jsx(Fq,{fromTime:(j=t.activities[C-1])==null?void 0:j.time,toTime:R.time}),g.jsx(Uq,{activity:R,dayId:t.id,index:C,onUpdate:A=>i({type:pe.UPDATE_ACTIVITY,payload:{dayId:t.id,activityId:R.id,updates:A}}),onDelete:()=>i({type:pe.DELETE_ACTIVITY,payload:{dayId:t.id,activityId:R.id}}),onReorder:(A,P)=>i({type:pe.REORDER_ACTIVITIES,payload:{dayId:t.id,fromIndex:A,toIndex:P}})})]},R.id)})}):g.jsx("p",{className:"text-sm text-text-muted italic py-2",children:"No activities yet"}),g.jsx("div",{className:"mt-3 pt-2 border-t border-border/50",children:f?g.jsxs("div",{children:[g.jsx("textarea",{value:p,onChange:R=>v(R.target.value),onKeyDown:R=>{R.key==="Escape"&&(v(t.notes||""),h(!1))},placeholder:"Day notes",rows:2,autoFocus:!0,className:"w-full px-3 py-2 text-xs bg-bg-input border border-accent rounded-[var(--radius-sm)] text-text-primary resize-none focus:outline-none"}),g.jsxs("div",{className:"flex gap-2 mt-1 justify-end",children:[g.jsx("button",{onClick:()=>{v(t.notes||""),h(!1)},className:"text-xs text-text-muted",children:"Cancel"}),g.jsx("button",{onClick:O,className:"text-xs text-accent font-medium",children:"Save"})]})]}):g.jsx("button",{onClick:()=>{v(t.notes||""),h(!0)},className:"text-xs text-text-muted hover:text-text-secondary transition-colors text-left w-full",children:t.notes?g.jsxs("span",{children:[" ",g.jsx("span",{className:"italic",children:t.notes})]}):g.jsx("span",{className:"opacity-50",children:"+ Add day notes"})})}),u?g.jsx(qq,{onAdd:R=>{i({type:pe.ADD_ACTIVITY,payload:{dayId:t.id,activity:R}}),c(!1)},onCancel:()=>c(!1)}):g.jsx("button",{onClick:()=>c(!0),className:"mt-2 text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add activity"})]})]})]})}function Wq(){var i,o,s,u;const{activeTrip:t,dispatch:e}=Bt();if(!t)return null;const r=t,n=(i=r.bookings)==null?void 0:i.find(c=>c.category==="concert");return g.jsxs("div",{className:"space-y-6 animate-fade-in",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"font-heading text-xl text-text-primary",children:[" Itinerary  ",((o=r.itinerary)==null?void 0:o.length)||0," days"]}),(((s=r.itinerary)==null?void 0:s.length)||0)>1&&g.jsx("p",{className:"text-xs text-text-muted mt-0.5",children:"Drag  to reorder days or activities"})]}),g.jsx("button",{onClick:()=>{var h;const c=(h=r.itinerary)==null?void 0:h[r.itinerary.length-1];let f="";if(c!=null&&c.date){const p=new Date(c.date+"T00:00:00");p.setDate(p.getDate()+1),f=p.toISOString().slice(0,10)}e({type:pe.ADD_DAY,payload:{date:f,location:"",emoji:""}})},className:"px-3 py-1.5 text-sm bg-accent text-white rounded-[var(--radius-md)] hover:bg-accent-hover transition-colors",children:"+ Add Day"})]}),g.jsx("div",{className:"relative space-y-5",children:(u=r.itinerary)==null?void 0:u.map((c,f)=>{var p;const h=n&&((p=c.activities)==null?void 0:p.some(v=>{var x,S;return((x=v.name)==null?void 0:x.toLowerCase().includes("mcr"))||((S=v.name)==null?void 0:S.toLowerCase().includes("concert"))||v.emoji===""||v.emoji===""}));return g.jsx(zq,{day:c,dayIndex:f,isConcertDay:h,onReorderDay:(v,x)=>e({type:pe.REORDER_DAYS,payload:{fromIndex:v,toIndex:x}})},c.id)})}),(!r.itinerary||r.itinerary.length===0)&&g.jsxs(vr,{className:"text-center py-12",children:[g.jsx("p",{className:"text-4xl mb-3",children:""}),g.jsx("p",{className:"text-text-muted",children:"No itinerary yet. Add your first day!"})]})]})}const rv=[{value:"not_started",label:"Not Started",colors:"bg-text-muted/10 text-text-muted border-text-muted/20"},{value:"in_progress",label:"In Progress",colors:"bg-warning/10 text-warning border-warning/20"},{value:"booked",label:"Booked ",colors:"bg-success/10 text-success border-success/20"}];function Hq({status:t,bookingId:e}){const{dispatch:r,showToast:n}=Bt(),i=rv.find(s=>s.value===t)||rv[0],o=s=>{const u=s.target.value;r({type:pe.SET_BOOKING_STATUS,payload:{id:e,status:u}}),u==="booked"&&n("Booked!  One less thing to worry about.")};return g.jsxs("div",{className:"relative inline-block",children:[g.jsx("select",{value:t,onChange:o,className:`appearance-none cursor-pointer pl-2.5 pr-6 py-1 text-xs font-medium rounded-[var(--radius-pill)]
          border transition-all hover:opacity-80 ${i.colors}`,children:rv.map(s=>g.jsx("option",{value:s.value,children:s.label},s.value))}),g.jsx("span",{className:"pointer-events-none absolute right-1.5 top-1/2 -translate-y-1/2 text-[10px] opacity-60",children:""})]})}function Gq({booking:t,currency:e}){const{dispatch:r}=Bt(),n=nf.find(i=>i.id===t.category)||nf[5];return g.jsxs(vr,{hover:!0,className:"animate-fade-in",children:[g.jsxs("div",{className:"flex items-start justify-between gap-3",children:[g.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[g.jsx("span",{className:"text-2xl flex-shrink-0",children:n.emoji}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[g.jsx(qr,{value:t.name,onSave:i=>r({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{name:i}}}),className:"font-medium text-text-primary text-sm"}),t.priority&&g.jsx("span",{className:"text-xs",title:"Priority",children:""})]}),g.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[g.jsx("span",{className:"text-xs px-2 py-0.5 bg-bg-hover rounded-[var(--radius-pill)] text-text-muted",children:n.label}),g.jsx(Hq,{status:t.status,bookingId:t.id})]})]})]}),g.jsx("button",{onClick:()=>r({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{priority:!t.priority}}}),className:`text-lg flex-shrink-0 transition-transform hover:scale-110 ${t.priority?"":"opacity-30 hover:opacity-60"}`,title:"Toggle priority",children:""})]}),g.jsxs("div",{className:"mt-3 pt-3 border-t border-border/50 grid grid-cols-2 sm:grid-cols-3 gap-4 text-sm",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-text-muted text-xs block",children:"Confirmation #"}),g.jsx(qr,{value:t.confirmationNumber,onSave:i=>r({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{confirmationNumber:i}}}),className:"font-mono text-text-primary text-xs",placeholder:""})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-text-muted text-xs block",children:"Amount Paid"}),g.jsx(qr,{value:t.amountPaid?String(t.amountPaid):"",onSave:i=>r({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{amountPaid:Number(i)||0}}}),className:"text-text-primary text-xs",placeholder:sn(0,e)})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-text-muted text-xs block",children:"Book By"}),g.jsx(qr,{value:t.bookByDate,onSave:i=>r({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{bookByDate:i}}}),className:"text-text-primary text-xs",placeholder:""})]})]}),g.jsx("div",{className:"mt-2 text-right",children:g.jsx("button",{onClick:()=>r({type:pe.DELETE_BOOKING,payload:t.id}),className:"text-xs text-text-muted hover:text-danger transition-colors",children:"Remove"})})]})}function Kq({onAdd:t,onCancel:e}){const[r,n]=q.useState(""),[i,o]=q.useState("custom"),s=u=>{u.preventDefault(),r.trim()&&(t({name:r.trim(),category:i}),n(""),o("custom"))};return g.jsx(vr,{children:g.jsxs("form",{onSubmit:s,className:"flex flex-wrap gap-2 items-end",children:[g.jsxs("div",{className:"flex-1 min-w-[200px]",children:[g.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Booking name"}),g.jsx("input",{value:r,onChange:u=>n(u.target.value),placeholder:"e.g., Singapore Hotel",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Category"}),g.jsx("select",{value:i,onChange:u=>o(u.target.value),className:"px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",children:nf.map(u=>g.jsxs("option",{value:u.id,children:[u.emoji," ",u.label]},u.id))})]}),g.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),g.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"})]})})}function Yq(){var x,S;const{activeTrip:t,dispatch:e,showToast:r}=Bt(),[n,i]=q.useState("all"),[o,s]=q.useState(!1);if(!t)return null;const u=t,c=((x=u.bookings)==null?void 0:x.filter(T=>T.status==="booked").length)||0,f=((S=u.bookings)==null?void 0:S.length)||0,h=q.useMemo(()=>{let T=[...u.bookings||[]];return n!=="all"&&(T=T.filter(_=>_.category===n)),T.sort((_,O)=>_.status==="booked"&&O.status!=="booked"?1:O.status==="booked"&&_.status!=="booked"||_.priority&&!O.priority?-1:O.priority&&!_.priority?1:0)},[u.bookings,n]),p=[{id:"all",label:"All"},...nf.filter(T=>{var _;return(_=u.bookings)==null?void 0:_.some(O=>O.category===T.id)}).map(T=>({id:T.id,label:T.label}))],v=()=>{var _;const T=(_=u.bookings)==null?void 0:_.map(O=>{const D=nf.find(k=>k.id===O.category);return`${(D==null?void 0:D.emoji)||""} ${O.name}  ${O.status==="booked"?" Booked":" "+O.status.replace("_"," ")}${O.confirmationNumber?` (#${O.confirmationNumber})`:""}`}).join(`
`);navigator.clipboard.writeText(` ${u.name}  Bookings

${T}`),r("Bookings copied to clipboard! ")};return g.jsxs("div",{className:"space-y-6 animate-fade-in",children:[g.jsxs(vr,{children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("h2",{className:"font-heading text-lg text-text-primary",children:" Bookings"}),g.jsxs("span",{className:"text-sm text-text-muted",children:[c," of ",f," confirmed"]})]}),g.jsx(Cl,{value:c,max:f,colorClass:"bg-success",height:"h-2"})]}),g.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[g.jsx("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide",children:p.map(T=>g.jsx("button",{onClick:()=>i(T.id),className:`px-3 py-1.5 text-xs font-medium rounded-[var(--radius-pill)] whitespace-nowrap transition-colors
                ${n===T.id?"bg-accent text-white":"bg-bg-secondary text-text-muted hover:text-text-secondary border border-border"}`,children:T.label},T.id))}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:v,className:"px-3 py-1.5 text-xs text-text-muted hover:text-text-secondary border border-border rounded-[var(--radius-sm)] hover:bg-bg-hover transition-colors",children:" Export"}),g.jsx("button",{onClick:()=>s(!0),className:"px-3 py-1.5 text-xs bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover transition-colors",children:"+ Add Booking"})]})]}),o&&g.jsx(Kq,{onAdd:T=>{e({type:pe.ADD_BOOKING,payload:T}),s(!1)},onCancel:()=>s(!1)}),g.jsx("div",{className:"space-y-4",children:h.map(T=>g.jsx(Gq,{booking:T,currency:u.currency},T.id))}),h.length===0&&g.jsxs(vr,{className:"text-center py-8",children:[g.jsx("p",{className:"text-3xl mb-2",children:""}),g.jsxs("p",{className:"text-text-muted text-sm",children:["No bookings ",n!=="all"?"in this category":"yet","."]})]})]})}function tM(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=tM(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function at(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=tM(t))&&(n&&(n+=" "),n+=e);return n}var nv,UP;function Hr(){if(UP)return nv;UP=1;var t=Array.isArray;return nv=t,nv}var iv,qP;function rM(){if(qP)return iv;qP=1;var t=typeof vh=="object"&&vh&&vh.Object===Object&&vh;return iv=t,iv}var ov,zP;function Si(){if(zP)return ov;zP=1;var t=rM(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return ov=r,ov}var av,WP;function Qf(){if(WP)return av;WP=1;var t=Si(),e=t.Symbol;return av=e,av}var sv,HP;function Xq(){if(HP)return sv;HP=1;var t=Qf(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function o(s){var u=r.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=n.call(s);return f&&(u?s[i]=c:delete s[i]),h}return sv=o,sv}var lv,GP;function Qq(){if(GP)return lv;GP=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return lv=r,lv}var uv,KP;function fo(){if(KP)return uv;KP=1;var t=Qf(),e=Xq(),r=Qq(),n="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?i:n:o&&o in Object(u)?e(u):r(u)}return uv=s,uv}var cv,YP;function ho(){if(YP)return cv;YP=1;function t(e){return e!=null&&typeof e=="object"}return cv=t,cv}var fv,XP;function yu(){if(XP)return fv;XP=1;var t=fo(),e=ho(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return fv=n,fv}var dv,QP;function V1(){if(QP)return dv;QP=1;var t=Hr(),e=yu(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,s){if(t(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||e(o)?!0:n.test(o)||!r.test(o)||s!=null&&o in Object(s)}return dv=i,dv}var hv,JP;function ca(){if(JP)return hv;JP=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return hv=t,hv}var pv,ZP;function B1(){if(ZP)return pv;ZP=1;var t=fo(),e=ca(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(u){if(!e(u))return!1;var c=t(u);return c==n||c==i||c==r||c==o}return pv=s,pv}var mv,eI;function Jq(){if(eI)return mv;eI=1;var t=Si(),e=t["__core-js_shared__"];return mv=e,mv}var gv,tI;function Zq(){if(tI)return gv;tI=1;var t=Jq(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return gv=r,gv}var yv,rI;function nM(){if(rI)return yv;rI=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return yv=r,yv}var vv,nI;function e8(){if(nI)return vv;nI=1;var t=B1(),e=Zq(),r=ca(),n=nM(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(v){if(!r(v)||e(v))return!1;var x=t(v)?h:o;return x.test(n(v))}return vv=p,vv}var xv,iI;function t8(){if(iI)return xv;iI=1;function t(e,r){return e==null?void 0:e[r]}return xv=t,xv}var bv,oI;function ws(){if(oI)return bv;oI=1;var t=e8(),e=t8();function r(n,i){var o=e(n,i);return t(o)?o:void 0}return bv=r,bv}var _v,aI;function Nm(){if(aI)return _v;aI=1;var t=ws(),e=t(Object,"create");return _v=e,_v}var wv,sI;function r8(){if(sI)return wv;sI=1;var t=Nm();function e(){this.__data__=t?t(null):{},this.size=0}return wv=e,wv}var Ev,lI;function n8(){if(lI)return Ev;lI=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Ev=t,Ev}var Tv,uI;function i8(){if(uI)return Tv;uI=1;var t=Nm(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var s=this.__data__;if(t){var u=s[o];return u===e?void 0:u}return n.call(s,o)?s[o]:void 0}return Tv=i,Tv}var Sv,cI;function o8(){if(cI)return Sv;cI=1;var t=Nm(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var o=this.__data__;return t?o[i]!==void 0:r.call(o,i)}return Sv=n,Sv}var Av,fI;function a8(){if(fI)return Av;fI=1;var t=Nm(),e="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&i===void 0?e:i,this}return Av=r,Av}var Pv,dI;function s8(){if(dI)return Pv;dI=1;var t=r8(),e=n8(),r=i8(),n=o8(),i=a8();function o(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Pv=o,Pv}var Iv,hI;function l8(){if(hI)return Iv;hI=1;function t(){this.__data__=[],this.size=0}return Iv=t,Iv}var Cv,pI;function F1(){if(pI)return Cv;pI=1;function t(e,r){return e===r||e!==e&&r!==r}return Cv=t,Cv}var Ov,mI;function jm(){if(mI)return Ov;mI=1;var t=F1();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return Ov=e,Ov}var kv,gI;function u8(){if(gI)return kv;gI=1;var t=jm(),e=Array.prototype,r=e.splice;function n(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var u=o.length-1;return s==u?o.pop():r.call(o,s,1),--this.size,!0}return kv=n,kv}var Nv,yI;function c8(){if(yI)return Nv;yI=1;var t=jm();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return Nv=e,Nv}var jv,vI;function f8(){if(vI)return jv;vI=1;var t=jm();function e(r){return t(this.__data__,r)>-1}return jv=e,jv}var Rv,xI;function d8(){if(xI)return Rv;xI=1;var t=jm();function e(r,n){var i=this.__data__,o=t(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return Rv=e,Rv}var Dv,bI;function Rm(){if(bI)return Dv;bI=1;var t=l8(),e=u8(),r=c8(),n=f8(),i=d8();function o(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Dv=o,Dv}var Mv,_I;function U1(){if(_I)return Mv;_I=1;var t=ws(),e=Si(),r=t(e,"Map");return Mv=r,Mv}var Lv,wI;function h8(){if(wI)return Lv;wI=1;var t=s8(),e=Rm(),r=U1();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Lv=n,Lv}var $v,EI;function p8(){if(EI)return $v;EI=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return $v=t,$v}var Vv,TI;function Dm(){if(TI)return Vv;TI=1;var t=p8();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Vv=e,Vv}var Bv,SI;function m8(){if(SI)return Bv;SI=1;var t=Dm();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Bv=e,Bv}var Fv,AI;function g8(){if(AI)return Fv;AI=1;var t=Dm();function e(r){return t(this,r).get(r)}return Fv=e,Fv}var Uv,PI;function y8(){if(PI)return Uv;PI=1;var t=Dm();function e(r){return t(this,r).has(r)}return Uv=e,Uv}var qv,II;function v8(){if(II)return qv;II=1;var t=Dm();function e(r,n){var i=t(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return qv=e,qv}var zv,CI;function q1(){if(CI)return zv;CI=1;var t=h8(),e=m8(),r=g8(),n=y8(),i=v8();function o(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,zv=o,zv}var Wv,OI;function iM(){if(OI)return Wv;OI=1;var t=q1(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,u=i?i.apply(this,s):s[0],c=o.cache;if(c.has(u))return c.get(u);var f=n.apply(this,s);return o.cache=c.set(u,f)||c,f};return o.cache=new(r.Cache||t),o}return r.Cache=t,Wv=r,Wv}var Hv,kI;function x8(){if(kI)return Hv;kI=1;var t=iM(),e=500;function r(n){var i=t(n,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return Hv=r,Hv}var Gv,NI;function b8(){if(NI)return Gv;NI=1;var t=x8(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,u,c,f){o.push(c?f.replace(r,"$1"):u||s)}),o});return Gv=n,Gv}var Kv,jI;function z1(){if(jI)return Kv;jI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=r(e[n],n,e);return o}return Kv=t,Kv}var Yv,RI;function _8(){if(RI)return Yv;RI=1;var t=Qf(),e=z1(),r=Hr(),n=yu(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(u){if(typeof u=="string")return u;if(r(u))return e(u,s)+"";if(n(u))return o?o.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return Yv=s,Yv}var Xv,DI;function oM(){if(DI)return Xv;DI=1;var t=_8();function e(r){return r==null?"":t(r)}return Xv=e,Xv}var Qv,MI;function aM(){if(MI)return Qv;MI=1;var t=Hr(),e=V1(),r=b8(),n=oM();function i(o,s){return t(o)?o:e(o,s)?[o]:r(n(o))}return Qv=i,Qv}var Jv,LI;function Mm(){if(LI)return Jv;LI=1;var t=yu();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Jv=e,Jv}var Zv,$I;function W1(){if($I)return Zv;$I=1;var t=aM(),e=Mm();function r(n,i){i=t(i,n);for(var o=0,s=i.length;n!=null&&o<s;)n=n[e(i[o++])];return o&&o==s?n:void 0}return Zv=r,Zv}var ex,VI;function sM(){if(VI)return ex;VI=1;var t=W1();function e(r,n,i){var o=r==null?void 0:t(r,n);return o===void 0?i:o}return ex=e,ex}var w8=sM();const wn=ht(w8);var tx,BI;function E8(){if(BI)return tx;BI=1;function t(e){return e==null}return tx=t,tx}var T8=E8();const st=ht(T8);var rx,FI;function S8(){if(FI)return rx;FI=1;var t=fo(),e=Hr(),r=ho(),n="[object String]";function i(o){return typeof o=="string"||!e(o)&&r(o)&&t(o)==n}return rx=i,rx}var A8=S8();const ds=ht(A8);var P8=B1();const Ge=ht(P8);var I8=ca();const vu=ht(I8);var nx={exports:{}},lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UI;function C8(){if(UI)return lt;UI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function T(_){if(typeof _=="object"&&_!==null){var O=_.$$typeof;switch(O){case t:switch(_=_.type,_){case r:case i:case n:case f:case h:return _;default:switch(_=_&&_.$$typeof,_){case u:case s:case c:case v:case p:case o:return _;default:return O}}case e:return O}}}return lt.ContextConsumer=s,lt.ContextProvider=o,lt.Element=t,lt.ForwardRef=c,lt.Fragment=r,lt.Lazy=v,lt.Memo=p,lt.Portal=e,lt.Profiler=i,lt.StrictMode=n,lt.Suspense=f,lt.SuspenseList=h,lt.isAsyncMode=function(){return!1},lt.isConcurrentMode=function(){return!1},lt.isContextConsumer=function(_){return T(_)===s},lt.isContextProvider=function(_){return T(_)===o},lt.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},lt.isForwardRef=function(_){return T(_)===c},lt.isFragment=function(_){return T(_)===r},lt.isLazy=function(_){return T(_)===v},lt.isMemo=function(_){return T(_)===p},lt.isPortal=function(_){return T(_)===e},lt.isProfiler=function(_){return T(_)===i},lt.isStrictMode=function(_){return T(_)===n},lt.isSuspense=function(_){return T(_)===f},lt.isSuspenseList=function(_){return T(_)===h},lt.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===i||_===n||_===f||_===h||_===x||typeof _=="object"&&_!==null&&(_.$$typeof===v||_.$$typeof===p||_.$$typeof===o||_.$$typeof===s||_.$$typeof===c||_.$$typeof===S||_.getModuleId!==void 0)},lt.typeOf=T,lt}var qI;function O8(){return qI||(qI=1,nx.exports=C8()),nx.exports}var k8=O8(),ix,zI;function lM(){if(zI)return ix;zI=1;var t=fo(),e=ho(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return ix=n,ix}var ox,WI;function N8(){if(WI)return ox;WI=1;var t=lM();function e(r){return t(r)&&r!=+r}return ox=e,ox}var j8=N8();const Jf=ht(j8);var R8=lM();const D8=ht(R8);var Fn=function(e){return e===0?0:e>0?1:-1},Ya=function(e){return ds(e)&&e.indexOf("%")===e.length-1},xe=function(e){return D8(e)&&!Jf(e)},M8=function(e){return st(e)},er=function(e){return xe(e)||ds(e)},L8=0,Lm=function(e){var r=++L8;return"".concat(e||"").concat(r)},hs=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(e)&&!ds(e))return n;var o;if(Ya(e)){var s=e.indexOf("%");o=r*parseFloat(e.slice(0,s))/100}else o=+e;return Jf(o)&&(o=n),i&&o>r&&(o=r),o},Ko=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},$8=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},fl=function(e,r){return xe(e)&&xe(r)?function(n){return e+n*(r-e)}:function(){return r}};function C_(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):wn(n,e))===r})}var V8=function(e,r){return xe(e)&&xe(r)?e-r:ds(e)&&ds(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Ol(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function O_(t){"@babel/helpers - typeof";return O_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O_(t)}var B8=["viewBox","children"],F8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],HI=["points","pathLength"],ax={svg:B8,polygon:HI,polyline:HI},H1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],yp=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(q.isValidElement(e)&&(n=e.props),!vu(n))return null;var i={};return Object.keys(n).forEach(function(o){H1.includes(o)&&(i[o]=r||function(s){return n[o](n,s)})}),i},U8=function(e,r,n){return function(i){return e(r,n,i),null}},vp=function(e,r,n){if(!vu(e)||O_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];H1.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=U8(s,r,n))}),i},q8=["children"],z8=["children"];function GI(t,e){if(t==null)return{};var r=W8(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function W8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var KI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Zi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},YI=null,sx=null,G1=function t(e){if(e===YI&&Array.isArray(sx))return sx;var r=[];return q.Children.forEach(e,function(n){st(n)||(k8.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),sx=r,YI=e,r};function zn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Zi(i)}):n=[Zi(e)],G1(t).forEach(function(i){var o=wn(i,"type.displayName")||wn(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function on(t,e){var r=zn(t,e);return r&&r[0]}var XI=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!xe(n)||n<=0||!xe(i)||i<=0)},H8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],G8=function(e){return e&&e.type&&ds(e.type)&&H8.indexOf(e.type)>=0},K8=function(e,r,n,i){var o,s=(o=ax==null?void 0:ax[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ge(e)&&(i&&s.includes(r)||F8.includes(r))||n&&H1.includes(r)},ot=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(q.isValidElement(e)&&(i=e.props),!vu(i))return null;var o={};return Object.keys(i).forEach(function(s){var u;K8((u=i)===null||u===void 0?void 0:u[s],s,r,n)&&(o[s]=i[s])}),o},k_=function t(e,r){if(e===r)return!0;var n=q.Children.count(e);if(n!==q.Children.count(r))return!1;if(n===0)return!0;if(n===1)return QI(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],s=r[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!QI(o,s))return!1}return!0},QI=function(e,r){if(st(e)&&st(r))return!0;if(!st(e)&&!st(r)){var n=e.props||{},i=n.children,o=GI(n,q8),s=r.props||{},u=s.children,c=GI(s,z8);return i&&u?Ol(o,c)&&k_(i,u):!i&&!u?Ol(o,c):!1}return!1},JI=function(e,r){var n=[],i={};return G1(e).forEach(function(o,s){if(G8(o))n.push(o);else if(o){var u=Zi(o.type),c=r[u]||{},f=c.handler,h=c.once;if(f&&(!h||!i[u])){var p=f(o,u,s);n.push(p),i[u]=!0}}}),n},Y8=function(e){var r=e&&e.type;return r&&KI[r]?KI[r]:null},X8=function(e,r){return G1(r).indexOf(e)},Q8=["children","width","height","viewBox","className","style","title","desc"];function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N_.apply(this,arguments)}function J8(t,e){if(t==null)return{};var r=Z8(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Z8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function j_(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,s=t.style,u=t.title,c=t.desc,f=J8(t,Q8),h=i||{width:r,height:n,x:0,y:0},p=at("recharts-surface",o);return K.createElement("svg",N_({},ot(f,!0,"svg"),{className:p,width:r,height:n,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),K.createElement("title",null,u),K.createElement("desc",null,c),e)}var ez=["children","className"];function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R_.apply(this,arguments)}function tz(t,e){if(t==null)return{};var r=rz(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var lr=K.forwardRef(function(t,e){var r=t.children,n=t.className,i=tz(t,ez),o=at("recharts-layer",n);return K.createElement("g",R_({className:o},ot(i,!0),{ref:e}),r)}),eo=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},lx,ZI;function nz(){if(ZI)return lx;ZI=1;function t(e,r,n){var i=-1,o=e.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+r];return s}return lx=t,lx}var ux,eC;function iz(){if(eC)return ux;eC=1;var t=nz();function e(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:t(r,n,i)}return ux=e,ux}var cx,tC;function uM(){if(tC)return cx;tC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",s="\\u200d",u=RegExp("["+s+t+i+o+"]");function c(f){return u.test(f)}return cx=c,cx}var fx,rC;function oz(){if(rC)return fx;rC=1;function t(e){return e.split("")}return fx=t,fx}var dx,nC;function az(){if(nC)return dx;nC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",s="["+t+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+c+")",h="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",S=f+"?",T="["+o+"]?",_="(?:"+x+"(?:"+[h,p,v].join("|")+")"+T+S+")*",O=T+S+_,D="(?:"+[h+u+"?",u,p,v,s].join("|")+")",k=RegExp(c+"(?="+c+")|"+D+O,"g");function R(C){return C.match(k)||[]}return dx=R,dx}var hx,iC;function sz(){if(iC)return hx;iC=1;var t=oz(),e=uM(),r=az();function n(i){return e(i)?r(i):t(i)}return hx=n,hx}var px,oC;function lz(){if(oC)return px;oC=1;var t=iz(),e=uM(),r=sz(),n=oM();function i(o){return function(s){s=n(s);var u=e(s)?r(s):void 0,c=u?u[0]:s.charAt(0),f=u?t(u,1).join(""):s.slice(1);return c[o]()+f}}return px=i,px}var mx,aC;function uz(){if(aC)return mx;aC=1;var t=lz(),e=t("toUpperCase");return mx=e,mx}var cz=uz();const $m=ht(cz);function bt(t){return function(){return t}}const cM=Math.cos,xp=Math.sin,Wn=Math.sqrt,bp=Math.PI,Vm=2*bp,D_=Math.PI,M_=2*D_,za=1e-6,fz=M_-za;function fM(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function dz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return fM;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class hz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?fM:dz(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,u=this._y1,c=n-e,f=i-r,h=s-e,p=u-r,v=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>za)if(!(Math.abs(p*c-f*h)>za)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-s,S=i-u,T=c*c+f*f,_=x*x+S*S,O=Math.sqrt(T),D=Math.sqrt(v),k=o*Math.tan((D_-Math.acos((T+v-_)/(2*O*D)))/2),R=k/D,C=k/O;Math.abs(R-1)>za&&this._append`L${e+R*h},${r+R*p}`,this._append`A${o},${o},0,0,${+(p*x>h*S)},${this._x1=e+C*c},${this._y1=r+C*f}`}}arc(e,r,n,i,o,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),c=n*Math.sin(i),f=e+u,h=r+c,p=1^s,v=s?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>za||Math.abs(this._y1-h)>za)&&this._append`L${f},${h}`,n&&(v<0&&(v=v%M_+M_),v>fz?this._append`A${n},${n},0,1,${p},${e-u},${r-c}A${n},${n},0,1,${p},${this._x1=f},${this._y1=h}`:v>za&&this._append`A${n},${n},0,${+(v>=D_)},${p},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function K1(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new hz(e)}function Y1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function dM(t){this._context=t}dM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Bm(t){return new dM(t)}function hM(t){return t[0]}function pM(t){return t[1]}function mM(t,e){var r=bt(!0),n=null,i=Bm,o=null,s=K1(u);t=typeof t=="function"?t:t===void 0?hM:bt(t),e=typeof e=="function"?e:e===void 0?pM:bt(e);function u(c){var f,h=(c=Y1(c)).length,p,v=!1,x;for(n==null&&(o=i(x=s())),f=0;f<=h;++f)!(f<h&&r(p=c[f],f,c))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+t(p,f,c),+e(p,f,c));if(x)return o=null,x+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:bt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:bt(+c),u):e},u.defined=function(c){return arguments.length?(r=typeof c=="function"?c:bt(!!c),u):r},u.curve=function(c){return arguments.length?(i=c,n!=null&&(o=i(n)),u):i},u.context=function(c){return arguments.length?(c==null?n=o=null:o=i(n=c),u):n},u}function Ah(t,e,r){var n=null,i=bt(!0),o=null,s=Bm,u=null,c=K1(f);t=typeof t=="function"?t:t===void 0?hM:bt(+t),e=typeof e=="function"?e:bt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?pM:bt(+r);function f(p){var v,x,S,T=(p=Y1(p)).length,_,O=!1,D,k=new Array(T),R=new Array(T);for(o==null&&(u=s(D=c())),v=0;v<=T;++v){if(!(v<T&&i(_=p[v],v,p))===O)if(O=!O)x=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=v-1;S>=x;--S)u.point(k[S],R[S]);u.lineEnd(),u.areaEnd()}O&&(k[v]=+t(_,v,p),R[v]=+e(_,v,p),u.point(n?+n(_,v,p):k[v],r?+r(_,v,p):R[v]))}if(D)return u=null,D+""||null}function h(){return mM().defined(i).curve(s).context(o)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:bt(+p),n=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:bt(+p),f):t},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:bt(+p),f):n},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:bt(+p),r=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:bt(+p),f):e},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:bt(+p),f):r},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(r)},f.lineX1=function(){return h().x(n).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:bt(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,o!=null&&(u=s(o)),f):s},f.context=function(p){return arguments.length?(p==null?o=u=null:u=s(o=p),f):o},f}class gM{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function pz(t){return new gM(t,!0)}function mz(t){return new gM(t,!1)}const X1={draw(t,e){const r=Wn(e/bp);t.moveTo(r,0),t.arc(0,0,r,0,Vm)}},gz={draw(t,e){const r=Wn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},yM=Wn(1/3),yz=yM*2,vz={draw(t,e){const r=Wn(e/yz),n=r*yM;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},xz={draw(t,e){const r=Wn(e),n=-r/2;t.rect(n,n,r,r)}},bz=.8908130915292852,vM=xp(bp/10)/xp(7*bp/10),_z=xp(Vm/10)*vM,wz=-cM(Vm/10)*vM,Ez={draw(t,e){const r=Wn(e*bz),n=_z*r,i=wz*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const s=Vm*o/5,u=cM(s),c=xp(s);t.lineTo(c*r,-u*r),t.lineTo(u*n-c*i,c*n+u*i)}t.closePath()}},gx=Wn(3),Tz={draw(t,e){const r=-Wn(e/(gx*3));t.moveTo(0,r*2),t.lineTo(-gx*r,-r),t.lineTo(gx*r,-r),t.closePath()}},gn=-.5,yn=Wn(3)/2,L_=1/Wn(12),Sz=(L_/2+1)*3,Az={draw(t,e){const r=Wn(e/Sz),n=r/2,i=r*L_,o=n,s=r*L_+r,u=-o,c=s;t.moveTo(n,i),t.lineTo(o,s),t.lineTo(u,c),t.lineTo(gn*n-yn*i,yn*n+gn*i),t.lineTo(gn*o-yn*s,yn*o+gn*s),t.lineTo(gn*u-yn*c,yn*u+gn*c),t.lineTo(gn*n+yn*i,gn*i-yn*n),t.lineTo(gn*o+yn*s,gn*s-yn*o),t.lineTo(gn*u+yn*c,gn*c-yn*u),t.closePath()}};function Pz(t,e){let r=null,n=K1(i);t=typeof t=="function"?t:bt(t||X1),e=typeof e=="function"?e:bt(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:bt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:bt(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function _p(){}function wp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function xM(t){this._context=t}xM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Iz(t){return new xM(t)}function bM(t){this._context=t}bM.prototype={areaStart:_p,areaEnd:_p,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:wp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Cz(t){return new bM(t)}function _M(t){this._context=t}_M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:wp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Oz(t){return new _M(t)}function wM(t){this._context=t}wM.prototype={areaStart:_p,areaEnd:_p,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function kz(t){return new wM(t)}function sC(t){return t<0?-1:1}function lC(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),u=(o*i+s*n)/(n+i);return(sC(o)+sC(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(u))||0}function uC(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function yx(t,e,r){var n=t._x0,i=t._y0,o=t._x1,s=t._y1,u=(o-n)/3;t._context.bezierCurveTo(n+u,i+u*e,o-u,s-u*r,o,s)}function Ep(t){this._context=t}Ep.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yx(this,this._t0,uC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,yx(this,uC(this,r=lC(this,t,e)),r);break;default:yx(this,this._t0,r=lC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function EM(t){this._context=new TM(t)}(EM.prototype=Object.create(Ep.prototype)).point=function(t,e){Ep.prototype.point.call(this,e,t)};function TM(t){this._context=t}TM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function Nz(t){return new Ep(t)}function jz(t){return new EM(t)}function SM(t){this._context=t}SM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=cC(t),i=cC(e),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function cC(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Rz(t){return new SM(t)}function Fm(t,e){this._context=t,this._t=e}Fm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Dz(t){return new Fm(t,.5)}function Mz(t){return new Fm(t,0)}function Lz(t){return new Fm(t,1)}function Ul(t,e){if((s=t.length)>1)for(var r=1,n,i,o=t[e[0]],s,u=o.length;r<s;++r)for(i=o,o=t[e[r]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function $_(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function $z(t,e){return t[e]}function Vz(t){const e=[];return e.key=t,e}function Bz(){var t=bt([]),e=$_,r=Ul,n=$z;function i(o){var s=Array.from(t.apply(this,arguments),Vz),u,c=s.length,f=-1,h;for(const p of o)for(u=0,++f;u<c;++u)(s[u][f]=[0,+n(p,s[u].key,f,o)]).data=p;for(u=0,h=Y1(e(s));u<c;++u)s[h[u]].index=u;return r(s,h),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:bt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:bt(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?$_:typeof o=="function"?o:bt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??Ul,i):r},i}function Fz(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,s;i<o;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Ul(t,e)}}function Uz(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var s=0,u=0;s<i;++s)u+=t[s][r][1]||0;n[r][1]+=n[r][0]=-u/2}Ul(t,e)}}function qz(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,s;n<o;++n){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],p=h[n][1]||0,v=h[n-1][1]||0,x=(p-v)/2,S=0;S<u;++S){var T=t[e[S]],_=T[n][1]||0,O=T[n-1][1]||0;x+=_-O}c+=p,f+=x*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=f/c)}i[n-1][1]+=i[n-1][0]=r,Ul(t,e)}}function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}var zz=["type","size","sizeType"];function V_(){return V_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V_.apply(this,arguments)}function fC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fC(Object(r),!0).forEach(function(n){Wz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wz(t,e,r){return e=Hz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hz(t){var e=Gz(t,"string");return of(e)=="symbol"?e:e+""}function Gz(t,e){if(of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kz(t,e){if(t==null)return{};var r=Yz(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var AM={symbolCircle:X1,symbolCross:gz,symbolDiamond:vz,symbolSquare:xz,symbolStar:Ez,symbolTriangle:Tz,symbolWye:Az},Xz=Math.PI/180,Qz=function(e){var r="symbol".concat($m(e));return AM[r]||X1},Jz=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Xz;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Zz=function(e,r){AM["symbol".concat($m(e))]=r},Q1=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,s=e.sizeType,u=s===void 0?"area":s,c=Kz(e,zz),f=dC(dC({},c),{},{type:n,size:o,sizeType:u}),h=function(){var _=Qz(n),O=Pz().type(_).size(Jz(o,u,n));return O()},p=f.className,v=f.cx,x=f.cy,S=ot(f,!0);return v===+v&&x===+x&&o===+o?K.createElement("path",V_({},S,{className:at("recharts-symbols",p),transform:"translate(".concat(v,", ").concat(x,")"),d:h()})):null};Q1.registerSymbol=Zz;function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B_.apply(this,arguments)}function hC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function e7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(r),!0).forEach(function(n){af(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IM(n.key),n)}}function n7(t,e,r){return e&&r7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function i7(t,e,r){return e=Tp(e),o7(t,PM()?Reflect.construct(e,r||[],Tp(t).constructor):e.apply(t,r))}function o7(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a7(t)}function a7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PM=function(){return!!t})()}function Tp(t){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tp(t)}function s7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F_(t,e)}function F_(t,e){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F_(t,e)}function af(t,e,r){return e=IM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IM(t){var e=l7(t,"string");return ql(e)=="symbol"?e:e+""}function l7(t,e){if(ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vn=32,J1=(function(t){function e(){return t7(this,e),i7(this,e,arguments)}return s7(e,t),n7(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=vn/2,s=vn/6,u=vn/3,c=n.inactive?i:n.color;if(n.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:vn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(vn,"M").concat(2*u,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return K.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(vn/8,"h").concat(vn,"v").concat(vn*3/4,"h").concat(-vn,"z"),className:"recharts-legend-icon"});if(K.isValidElement(n.legendIcon)){var f=e7({},n);return delete f.legendIcon,K.cloneElement(n.legendIcon,f)}return K.createElement(Q1,{fill:c,cx:o,cy:o,size:vn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,s=i.iconSize,u=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:vn,height:vn},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(x,S){var T=x.formatter||c,_=at(af(af({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",x.inactive));if(x.type==="none")return null;var O=Ge(x.value)?null:x.value;eo(!Ge(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var D=x.inactive?f:x.color;return K.createElement("li",B_({className:_,style:p,key:"legend-item-".concat(S)},vp(n.props,x,S)),K.createElement(j_,{width:s,height:s,viewBox:h,style:v},n.renderIcon(x)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:D}},T?T(O,x,S):O))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,s=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(q.PureComponent);af(J1,"displayName","Legend");af(J1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var vx,pC;function u7(){if(pC)return vx;pC=1;var t=Rm();function e(){this.__data__=new t,this.size=0}return vx=e,vx}var xx,mC;function c7(){if(mC)return xx;mC=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return xx=t,xx}var bx,gC;function f7(){if(gC)return bx;gC=1;function t(e){return this.__data__.get(e)}return bx=t,bx}var _x,yC;function d7(){if(yC)return _x;yC=1;function t(e){return this.__data__.has(e)}return _x=t,_x}var wx,vC;function h7(){if(vC)return wx;vC=1;var t=Rm(),e=U1(),r=q1(),n=200;function i(o,s){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<n-1)return c.push([o,s]),this.size=++u.size,this;u=this.__data__=new r(c)}return u.set(o,s),this.size=u.size,this}return wx=i,wx}var Ex,xC;function CM(){if(xC)return Ex;xC=1;var t=Rm(),e=u7(),r=c7(),n=f7(),i=d7(),o=h7();function s(u){var c=this.__data__=new t(u);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=o,Ex=s,Ex}var Tx,bC;function p7(){if(bC)return Tx;bC=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Tx=e,Tx}var Sx,_C;function m7(){if(_C)return Sx;_C=1;function t(e){return this.__data__.has(e)}return Sx=t,Sx}var Ax,wC;function OM(){if(wC)return Ax;wC=1;var t=q1(),e=p7(),r=m7();function n(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Ax=n,Ax}var Px,EC;function kM(){if(EC)return Px;EC=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return Px=t,Px}var Ix,TC;function NM(){if(TC)return Ix;TC=1;function t(e,r){return e.has(r)}return Ix=t,Ix}var Cx,SC;function jM(){if(SC)return Cx;SC=1;var t=OM(),e=kM(),r=NM(),n=1,i=2;function o(s,u,c,f,h,p){var v=c&n,x=s.length,S=u.length;if(x!=S&&!(v&&S>x))return!1;var T=p.get(s),_=p.get(u);if(T&&_)return T==u&&_==s;var O=-1,D=!0,k=c&i?new t:void 0;for(p.set(s,u),p.set(u,s);++O<x;){var R=s[O],C=u[O];if(f)var j=v?f(C,R,O,u,s,p):f(R,C,O,s,u,p);if(j!==void 0){if(j)continue;D=!1;break}if(k){if(!e(u,function(A,P){if(!r(k,P)&&(R===A||h(R,A,c,f,p)))return k.push(P)})){D=!1;break}}else if(!(R===C||h(R,C,c,f,p))){D=!1;break}}return p.delete(s),p.delete(u),D}return Cx=o,Cx}var Ox,AC;function g7(){if(AC)return Ox;AC=1;var t=Si(),e=t.Uint8Array;return Ox=e,Ox}var kx,PC;function y7(){if(PC)return kx;PC=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,o){n[++r]=[o,i]}),n}return kx=t,kx}var Nx,IC;function Z1(){if(IC)return Nx;IC=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return Nx=t,Nx}var jx,CC;function v7(){if(CC)return jx;CC=1;var t=Qf(),e=g7(),r=F1(),n=jM(),i=y7(),o=Z1(),s=1,u=2,c="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",v="[object Number]",x="[object RegExp]",S="[object Set]",T="[object String]",_="[object Symbol]",O="[object ArrayBuffer]",D="[object DataView]",k=t?t.prototype:void 0,R=k?k.valueOf:void 0;function C(j,A,P,N,B,L,V){switch(P){case D:if(j.byteLength!=A.byteLength||j.byteOffset!=A.byteOffset)return!1;j=j.buffer,A=A.buffer;case O:return!(j.byteLength!=A.byteLength||!L(new e(j),new e(A)));case c:case f:case v:return r(+j,+A);case h:return j.name==A.name&&j.message==A.message;case x:case T:return j==A+"";case p:var $=i;case S:var Z=N&s;if($||($=o),j.size!=A.size&&!Z)return!1;var ee=V.get(j);if(ee)return ee==A;N|=u,V.set(j,A);var ae=n($(j),$(A),N,B,L,V);return V.delete(j),ae;case _:if(R)return R.call(j)==R.call(A)}return!1}return jx=C,jx}var Rx,OC;function RM(){if(OC)return Rx;OC=1;function t(e,r){for(var n=-1,i=r.length,o=e.length;++n<i;)e[o+n]=r[n];return e}return Rx=t,Rx}var Dx,kC;function x7(){if(kC)return Dx;kC=1;var t=RM(),e=Hr();function r(n,i,o){var s=i(n);return e(n)?s:t(s,o(n))}return Dx=r,Dx}var Mx,NC;function b7(){if(NC)return Mx;NC=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=0,s=[];++n<i;){var u=e[n];r(u,n,e)&&(s[o++]=u)}return s}return Mx=t,Mx}var Lx,jC;function _7(){if(jC)return Lx;jC=1;function t(){return[]}return Lx=t,Lx}var $x,RC;function w7(){if(RC)return $x;RC=1;var t=b7(),e=_7(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(u){return n.call(s,u)}))}:e;return $x=o,$x}var Vx,DC;function E7(){if(DC)return Vx;DC=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return Vx=t,Vx}var Bx,MC;function T7(){if(MC)return Bx;MC=1;var t=fo(),e=ho(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Bx=n,Bx}var Fx,LC;function eE(){if(LC)return Fx;LC=1;var t=T7(),e=ho(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return Fx=o,Fx}var kc={exports:{}},Ux,$C;function S7(){if($C)return Ux;$C=1;function t(){return!1}return Ux=t,Ux}kc.exports;var VC;function DM(){return VC||(VC=1,(function(t,e){var r=Si(),n=S7(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||n;t.exports=f})(kc,kc.exports)),kc.exports}var qx,BC;function tE(){if(BC)return qx;BC=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return qx=r,qx}var zx,FC;function rE(){if(FC)return zx;FC=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return zx=e,zx}var Wx,UC;function A7(){if(UC)return Wx;UC=1;var t=fo(),e=rE(),r=ho(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",v="[object RegExp]",x="[object Set]",S="[object String]",T="[object WeakMap]",_="[object ArrayBuffer]",O="[object DataView]",D="[object Float32Array]",k="[object Float64Array]",R="[object Int8Array]",C="[object Int16Array]",j="[object Int32Array]",A="[object Uint8Array]",P="[object Uint8ClampedArray]",N="[object Uint16Array]",B="[object Uint32Array]",L={};L[D]=L[k]=L[R]=L[C]=L[j]=L[A]=L[P]=L[N]=L[B]=!0,L[n]=L[i]=L[_]=L[o]=L[O]=L[s]=L[u]=L[c]=L[f]=L[h]=L[p]=L[v]=L[x]=L[S]=L[T]=!1;function V($){return r($)&&e($.length)&&!!L[t($)]}return Wx=V,Wx}var Hx,qC;function MM(){if(qC)return Hx;qC=1;function t(e){return function(r){return e(r)}}return Hx=t,Hx}var Nc={exports:{}};Nc.exports;var zC;function P7(){return zC||(zC=1,(function(t,e){var r=rM(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,s=o&&r.process,u=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=u})(Nc,Nc.exports)),Nc.exports}var Gx,WC;function LM(){if(WC)return Gx;WC=1;var t=A7(),e=MM(),r=P7(),n=r&&r.isTypedArray,i=n?e(n):t;return Gx=i,Gx}var Kx,HC;function I7(){if(HC)return Kx;HC=1;var t=E7(),e=eE(),r=Hr(),n=DM(),i=tE(),o=LM(),s=Object.prototype,u=s.hasOwnProperty;function c(f,h){var p=r(f),v=!p&&e(f),x=!p&&!v&&n(f),S=!p&&!v&&!x&&o(f),T=p||v||x||S,_=T?t(f.length,String):[],O=_.length;for(var D in f)(h||u.call(f,D))&&!(T&&(D=="length"||x&&(D=="offset"||D=="parent")||S&&(D=="buffer"||D=="byteLength"||D=="byteOffset")||i(D,O)))&&_.push(D);return _}return Kx=c,Kx}var Yx,GC;function C7(){if(GC)return Yx;GC=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Yx=e,Yx}var Xx,KC;function $M(){if(KC)return Xx;KC=1;function t(e,r){return function(n){return e(r(n))}}return Xx=t,Xx}var Qx,YC;function O7(){if(YC)return Qx;YC=1;var t=$M(),e=t(Object.keys,Object);return Qx=e,Qx}var Jx,XC;function k7(){if(XC)return Jx;XC=1;var t=C7(),e=O7(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var u in Object(o))n.call(o,u)&&u!="constructor"&&s.push(u);return s}return Jx=i,Jx}var Zx,QC;function Zf(){if(QC)return Zx;QC=1;var t=B1(),e=rE();function r(n){return n!=null&&e(n.length)&&!t(n)}return Zx=r,Zx}var e0,JC;function Um(){if(JC)return e0;JC=1;var t=I7(),e=k7(),r=Zf();function n(i){return r(i)?t(i):e(i)}return e0=n,e0}var t0,ZC;function N7(){if(ZC)return t0;ZC=1;var t=x7(),e=w7(),r=Um();function n(i){return t(i,r,e)}return t0=n,t0}var r0,eO;function j7(){if(eO)return r0;eO=1;var t=N7(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,s,u,c,f,h){var p=u&e,v=t(o),x=v.length,S=t(s),T=S.length;if(x!=T&&!p)return!1;for(var _=x;_--;){var O=v[_];if(!(p?O in s:n.call(s,O)))return!1}var D=h.get(o),k=h.get(s);if(D&&k)return D==s&&k==o;var R=!0;h.set(o,s),h.set(s,o);for(var C=p;++_<x;){O=v[_];var j=o[O],A=s[O];if(c)var P=p?c(A,j,O,s,o,h):c(j,A,O,o,s,h);if(!(P===void 0?j===A||f(j,A,u,c,h):P)){R=!1;break}C||(C=O=="constructor")}if(R&&!C){var N=o.constructor,B=s.constructor;N!=B&&"constructor"in o&&"constructor"in s&&!(typeof N=="function"&&N instanceof N&&typeof B=="function"&&B instanceof B)&&(R=!1)}return h.delete(o),h.delete(s),R}return r0=i,r0}var n0,tO;function R7(){if(tO)return n0;tO=1;var t=ws(),e=Si(),r=t(e,"DataView");return n0=r,n0}var i0,rO;function D7(){if(rO)return i0;rO=1;var t=ws(),e=Si(),r=t(e,"Promise");return i0=r,i0}var o0,nO;function VM(){if(nO)return o0;nO=1;var t=ws(),e=Si(),r=t(e,"Set");return o0=r,o0}var a0,iO;function M7(){if(iO)return a0;iO=1;var t=ws(),e=Si(),r=t(e,"WeakMap");return a0=r,a0}var s0,oO;function L7(){if(oO)return s0;oO=1;var t=R7(),e=U1(),r=D7(),n=VM(),i=M7(),o=fo(),s=nM(),u="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",v="[object DataView]",x=s(t),S=s(e),T=s(r),_=s(n),O=s(i),D=o;return(t&&D(new t(new ArrayBuffer(1)))!=v||e&&D(new e)!=u||r&&D(r.resolve())!=f||n&&D(new n)!=h||i&&D(new i)!=p)&&(D=function(k){var R=o(k),C=R==c?k.constructor:void 0,j=C?s(C):"";if(j)switch(j){case x:return v;case S:return u;case T:return f;case _:return h;case O:return p}return R}),s0=D,s0}var l0,aO;function $7(){if(aO)return l0;aO=1;var t=CM(),e=jM(),r=v7(),n=j7(),i=L7(),o=Hr(),s=DM(),u=LM(),c=1,f="[object Arguments]",h="[object Array]",p="[object Object]",v=Object.prototype,x=v.hasOwnProperty;function S(T,_,O,D,k,R){var C=o(T),j=o(_),A=C?h:i(T),P=j?h:i(_);A=A==f?p:A,P=P==f?p:P;var N=A==p,B=P==p,L=A==P;if(L&&s(T)){if(!s(_))return!1;C=!0,N=!1}if(L&&!N)return R||(R=new t),C||u(T)?e(T,_,O,D,k,R):r(T,_,A,O,D,k,R);if(!(O&c)){var V=N&&x.call(T,"__wrapped__"),$=B&&x.call(_,"__wrapped__");if(V||$){var Z=V?T.value():T,ee=$?_.value():_;return R||(R=new t),k(Z,ee,O,D,R)}}return L?(R||(R=new t),n(T,_,O,D,k,R)):!1}return l0=S,l0}var u0,sO;function nE(){if(sO)return u0;sO=1;var t=$7(),e=ho();function r(n,i,o,s,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,o,s,r,u)}return u0=r,u0}var c0,lO;function V7(){if(lO)return c0;lO=1;var t=CM(),e=nE(),r=1,n=2;function i(o,s,u,c){var f=u.length,h=f,p=!c;if(o==null)return!h;for(o=Object(o);f--;){var v=u[f];if(p&&v[2]?v[1]!==o[v[0]]:!(v[0]in o))return!1}for(;++f<h;){v=u[f];var x=v[0],S=o[x],T=v[1];if(p&&v[2]){if(S===void 0&&!(x in o))return!1}else{var _=new t;if(c)var O=c(S,T,x,o,s,_);if(!(O===void 0?e(T,S,r|n,c,_):O))return!1}}return!0}return c0=i,c0}var f0,uO;function BM(){if(uO)return f0;uO=1;var t=ca();function e(r){return r===r&&!t(r)}return f0=e,f0}var d0,cO;function B7(){if(cO)return d0;cO=1;var t=BM(),e=Um();function r(n){for(var i=e(n),o=i.length;o--;){var s=i[o],u=n[s];i[o]=[s,u,t(u)]}return i}return d0=r,d0}var h0,fO;function FM(){if(fO)return h0;fO=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return h0=t,h0}var p0,dO;function F7(){if(dO)return p0;dO=1;var t=V7(),e=B7(),r=FM();function n(i){var o=e(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return p0=n,p0}var m0,hO;function U7(){if(hO)return m0;hO=1;function t(e,r){return e!=null&&r in Object(e)}return m0=t,m0}var g0,pO;function q7(){if(pO)return g0;pO=1;var t=aM(),e=eE(),r=Hr(),n=tE(),i=rE(),o=Mm();function s(u,c,f){c=t(c,u);for(var h=-1,p=c.length,v=!1;++h<p;){var x=o(c[h]);if(!(v=u!=null&&f(u,x)))break;u=u[x]}return v||++h!=p?v:(p=u==null?0:u.length,!!p&&i(p)&&n(x,p)&&(r(u)||e(u)))}return g0=s,g0}var y0,mO;function z7(){if(mO)return y0;mO=1;var t=U7(),e=q7();function r(n,i){return n!=null&&e(n,i,t)}return y0=r,y0}var v0,gO;function W7(){if(gO)return v0;gO=1;var t=nE(),e=sM(),r=z7(),n=V1(),i=BM(),o=FM(),s=Mm(),u=1,c=2;function f(h,p){return n(h)&&i(p)?o(s(h),p):function(v){var x=e(v,h);return x===void 0&&x===p?r(v,h):t(p,x,u|c)}}return v0=f,v0}var x0,yO;function xu(){if(yO)return x0;yO=1;function t(e){return e}return x0=t,x0}var b0,vO;function H7(){if(vO)return b0;vO=1;function t(e){return function(r){return r==null?void 0:r[e]}}return b0=t,b0}var _0,xO;function G7(){if(xO)return _0;xO=1;var t=W1();function e(r){return function(n){return t(n,r)}}return _0=e,_0}var w0,bO;function K7(){if(bO)return w0;bO=1;var t=H7(),e=G7(),r=V1(),n=Mm();function i(o){return r(o)?t(n(o)):e(o)}return w0=i,w0}var E0,_O;function fa(){if(_O)return E0;_O=1;var t=F7(),e=W7(),r=xu(),n=Hr(),i=K7();function o(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return E0=o,E0}var T0,wO;function UM(){if(wO)return T0;wO=1;function t(e,r,n,i){for(var o=e.length,s=n+(i?1:-1);i?s--:++s<o;)if(r(e[s],s,e))return s;return-1}return T0=t,T0}var S0,EO;function Y7(){if(EO)return S0;EO=1;function t(e){return e!==e}return S0=t,S0}var A0,TO;function X7(){if(TO)return A0;TO=1;function t(e,r,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===r)return i;return-1}return A0=t,A0}var P0,SO;function Q7(){if(SO)return P0;SO=1;var t=UM(),e=Y7(),r=X7();function n(i,o,s){return o===o?r(i,o,s):t(i,e,s)}return P0=n,P0}var I0,AO;function J7(){if(AO)return I0;AO=1;var t=Q7();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return I0=e,I0}var C0,PO;function Z7(){if(PO)return C0;PO=1;function t(e,r,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(r,e[i]))return!0;return!1}return C0=t,C0}var O0,IO;function eW(){if(IO)return O0;IO=1;function t(){}return O0=t,O0}var k0,CO;function tW(){if(CO)return k0;CO=1;var t=VM(),e=eW(),r=Z1(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(o){return new t(o)}:e;return k0=i,k0}var N0,OO;function rW(){if(OO)return N0;OO=1;var t=OM(),e=J7(),r=Z7(),n=NM(),i=tW(),o=Z1(),s=200;function u(c,f,h){var p=-1,v=e,x=c.length,S=!0,T=[],_=T;if(h)S=!1,v=r;else if(x>=s){var O=f?null:i(c);if(O)return o(O);S=!1,v=n,_=new t}else _=f?[]:T;e:for(;++p<x;){var D=c[p],k=f?f(D):D;if(D=h||D!==0?D:0,S&&k===k){for(var R=_.length;R--;)if(_[R]===k)continue e;f&&_.push(k),T.push(D)}else v(_,k,h)||(_!==T&&_.push(k),T.push(D))}return T}return N0=u,N0}var j0,kO;function nW(){if(kO)return j0;kO=1;var t=fa(),e=rW();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return j0=r,j0}var iW=nW();const NO=ht(iW);function qM(t,e,r){return e===!0?NO(t,r):Ge(e)?NO(t,e):t}function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}var oW=["ref"];function jO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(r),!0).forEach(function(n){qm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WM(n.key),n)}}function sW(t,e,r){return e&&RO(t.prototype,e),r&&RO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lW(t,e,r){return e=Sp(e),uW(t,zM()?Reflect.construct(e,r||[],Sp(t).constructor):e.apply(t,r))}function uW(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cW(t)}function cW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zM=function(){return!!t})()}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sp(t)}function fW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U_(t,e)}function U_(t,e){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},U_(t,e)}function qm(t,e,r){return e=WM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WM(t){var e=dW(t,"string");return zl(e)=="symbol"?e:e+""}function dW(t,e){if(zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hW(t,e){if(t==null)return{};var r=pW(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mW(t){return t.value}function gW(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var r=hW(e,oW);return K.createElement(J1,r)}var DO=1,kl=(function(t){function e(){var r;aW(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=lW(this,e,[].concat(i)),qm(r,"lastBoundingBox",{width:-1,height:-1}),r}return fW(e,t),sW(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>DO||Math.abs(i.height-this.lastBoundingBox.height)>DO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Hi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,s=i.align,u=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,p,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&o==="vertical"){var x=this.getBBoxSnapshot();p={left:((f||0)-x.width)/2}}else p=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var S=this.getBBoxSnapshot();v={top:((h||0)-S.height)/2}}else v=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Hi(Hi({},p),v)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,s=i.width,u=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,p=Hi(Hi({position:"absolute",width:s||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return K.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(x){n.wrapperNode=x}},gW(o,Hi(Hi({},this.props),{},{payload:qM(h,f,mW)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Hi(Hi({},this.defaultProps),n.props),s=o.layout;return s==="vertical"&&xe(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])})(q.PureComponent);qm(kl,"displayName","Legend");qm(kl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var R0,MO;function yW(){if(MO)return R0;MO=1;var t=Qf(),e=eE(),r=Hr(),n=t?t.isConcatSpreadable:void 0;function i(o){return r(o)||e(o)||!!(n&&o&&o[n])}return R0=i,R0}var D0,LO;function HM(){if(LO)return D0;LO=1;var t=RM(),e=yW();function r(n,i,o,s,u){var c=-1,f=n.length;for(o||(o=e),u||(u=[]);++c<f;){var h=n[c];i>0&&o(h)?i>1?r(h,i-1,o,s,u):t(u,h):s||(u[u.length]=h)}return u}return D0=r,D0}var M0,$O;function vW(){if($O)return M0;$O=1;function t(e){return function(r,n,i){for(var o=-1,s=Object(r),u=i(r),c=u.length;c--;){var f=u[e?c:++o];if(n(s[f],f,s)===!1)break}return r}}return M0=t,M0}var L0,VO;function xW(){if(VO)return L0;VO=1;var t=vW(),e=t();return L0=e,L0}var $0,BO;function GM(){if(BO)return $0;BO=1;var t=xW(),e=Um();function r(n,i){return n&&t(n,i,e)}return $0=r,$0}var V0,FO;function bW(){if(FO)return V0;FO=1;var t=Zf();function e(r,n){return function(i,o){if(i==null)return i;if(!t(i))return r(i,o);for(var s=i.length,u=n?s:-1,c=Object(i);(n?u--:++u<s)&&o(c[u],u,c)!==!1;);return i}}return V0=e,V0}var B0,UO;function iE(){if(UO)return B0;UO=1;var t=GM(),e=bW(),r=e(t);return B0=r,B0}var F0,qO;function KM(){if(qO)return F0;qO=1;var t=iE(),e=Zf();function r(n,i){var o=-1,s=e(n)?Array(n.length):[];return t(n,function(u,c,f){s[++o]=i(u,c,f)}),s}return F0=r,F0}var U0,zO;function _W(){if(zO)return U0;zO=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return U0=t,U0}var q0,WO;function wW(){if(WO)return q0;WO=1;var t=yu();function e(r,n){if(r!==n){var i=r!==void 0,o=r===null,s=r===r,u=t(r),c=n!==void 0,f=n===null,h=n===n,p=t(n);if(!f&&!p&&!u&&r>n||u&&c&&h&&!f&&!p||o&&c&&h||!i&&h||!s)return 1;if(!o&&!u&&!p&&r<n||p&&i&&s&&!o&&!u||f&&i&&s||!c&&s||!h)return-1}return 0}return q0=e,q0}var z0,HO;function EW(){if(HO)return z0;HO=1;var t=wW();function e(r,n,i){for(var o=-1,s=r.criteria,u=n.criteria,c=s.length,f=i.length;++o<c;){var h=t(s[o],u[o]);if(h){if(o>=f)return h;var p=i[o];return h*(p=="desc"?-1:1)}}return r.index-n.index}return z0=e,z0}var W0,GO;function TW(){if(GO)return W0;GO=1;var t=z1(),e=W1(),r=fa(),n=KM(),i=_W(),o=MM(),s=EW(),u=xu(),c=Hr();function f(h,p,v){p.length?p=t(p,function(T){return c(T)?function(_){return e(_,T.length===1?T[0]:T)}:T}):p=[u];var x=-1;p=t(p,o(r));var S=n(h,function(T,_,O){var D=t(p,function(k){return k(T)});return{criteria:D,index:++x,value:T}});return i(S,function(T,_){return s(T,_,v)})}return W0=f,W0}var H0,KO;function SW(){if(KO)return H0;KO=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return H0=t,H0}var G0,YO;function AW(){if(YO)return G0;YO=1;var t=SW(),e=Math.max;function r(n,i,o){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,u=-1,c=e(s.length-i,0),f=Array(c);++u<c;)f[u]=s[i+u];u=-1;for(var h=Array(i+1);++u<i;)h[u]=s[u];return h[i]=o(f),t(n,this,h)}}return G0=r,G0}var K0,XO;function PW(){if(XO)return K0;XO=1;function t(e){return function(){return e}}return K0=t,K0}var Y0,QO;function YM(){if(QO)return Y0;QO=1;var t=ws(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Y0=e,Y0}var X0,JO;function IW(){if(JO)return X0;JO=1;var t=PW(),e=YM(),r=xu(),n=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:r;return X0=n,X0}var Q0,ZO;function CW(){if(ZO)return Q0;ZO=1;var t=800,e=16,r=Date.now;function n(i){var o=0,s=0;return function(){var u=r(),c=e-(u-s);if(s=u,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Q0=n,Q0}var J0,ek;function OW(){if(ek)return J0;ek=1;var t=IW(),e=CW(),r=e(t);return J0=r,J0}var Z0,tk;function kW(){if(tk)return Z0;tk=1;var t=xu(),e=AW(),r=OW();function n(i,o){return r(e(i,o,t),i+"")}return Z0=n,Z0}var eb,rk;function zm(){if(rk)return eb;rk=1;var t=F1(),e=Zf(),r=tE(),n=ca();function i(o,s,u){if(!n(u))return!1;var c=typeof s;return(c=="number"?e(u)&&r(s,u.length):c=="string"&&s in u)?t(u[s],o):!1}return eb=i,eb}var tb,nk;function NW(){if(nk)return tb;nk=1;var t=HM(),e=TW(),r=kW(),n=zm(),i=r(function(o,s){if(o==null)return[];var u=s.length;return u>1&&n(o,s[0],s[1])?s=[]:u>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(o,t(s,1),[])});return tb=i,tb}var jW=NW();const oE=ht(jW);function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q_.apply(this,arguments)}function RW(t,e){return $W(t)||LW(t,e)||MW(t,e)||DW()}function DW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MW(t,e){if(t){if(typeof t=="string")return ik(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ik(t,e)}}function ik(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function $W(t){if(Array.isArray(t))return t}function ok(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(r),!0).forEach(function(n){VW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VW(t,e,r){return e=BW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BW(t){var e=FW(t,"string");return sf(e)=="symbol"?e:e+""}function FW(t,e){if(sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UW(t){return Array.isArray(t)&&er(t[0])&&er(t[1])?t.join(" ~ "):t}var qW=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,u=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,p=e.formatter,v=e.itemSorter,x=e.wrapperClassName,S=e.labelClassName,T=e.label,_=e.labelFormatter,O=e.accessibilityLayer,D=O===void 0?!1:O,k=function(){if(h&&h.length){var V={padding:0,margin:0},$=(v?oE(h,v):h).map(function(Z,ee){if(Z.type==="none")return null;var ae=rb({display:"block",paddingTop:4,paddingBottom:4,color:Z.color||"#000"},u),se=Z.formatter||p||UW,Q=Z.value,ie=Z.name,ne=Q,z=ie;if(se&&ne!=null&&z!=null){var G=se(Q,ie,Z,ee,h);if(Array.isArray(G)){var ge=RW(G,2);ne=ge[0],z=ge[1]}else ne=G}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:ae},er(z)?K.createElement("span",{className:"recharts-tooltip-item-name"},z):null,er(z)?K.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,K.createElement("span",{className:"recharts-tooltip-item-value"},ne),K.createElement("span",{className:"recharts-tooltip-item-unit"},Z.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:V},$)}return null},R=rb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),C=rb({margin:0},f),j=!st(T),A=j?T:"",P=at("recharts-default-tooltip",x),N=at("recharts-tooltip-label",S);j&&_&&h!==void 0&&h!==null&&(A=_(T,h));var B=D?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",q_({className:P,style:R},B),K.createElement("p",{className:N,style:C},K.isValidElement(A)?A:"".concat(A)),k())};function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function Ph(t,e,r){return e=zW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zW(t){var e=WW(t,"string");return lf(e)=="symbol"?e:e+""}function WW(t,e){if(lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yc="recharts-tooltip-wrapper",HW={visibility:"hidden"};function GW(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return at(yc,Ph(Ph(Ph(Ph({},"".concat(yc,"-right"),xe(r)&&e&&xe(e.x)&&r>=e.x),"".concat(yc,"-left"),xe(r)&&e&&xe(e.x)&&r<e.x),"".concat(yc,"-bottom"),xe(n)&&e&&xe(e.y)&&n>=e.y),"".concat(yc,"-top"),xe(n)&&e&&xe(e.y)&&n<e.y))}function ak(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(o&&xe(o[n]))return o[n];var h=r[n]-u-i,p=r[n]+i;if(e[n])return s[n]?h:p;if(s[n]){var v=h,x=c[n];return v<x?Math.max(p,c[n]):Math.max(h,c[n])}var S=p+u,T=c[n]+f;return S>T?Math.max(h,c[n]):Math.max(p,c[n])}function KW(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function YW(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,f,h,p;return s.height>0&&s.width>0&&r?(h=ak({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=ak({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=KW({translateX:h,translateY:p,useTranslate3d:u})):f=HW,{cssProperties:f,cssClasses:GW({translateX:h,translateY:p,coordinate:r})}}function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function sk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(r),!0).forEach(function(n){W_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QM(n.key),n)}}function JW(t,e,r){return e&&QW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZW(t,e,r){return e=Ap(e),eH(t,XM()?Reflect.construct(e,r||[],Ap(t).constructor):e.apply(t,r))}function eH(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tH(t)}function tH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XM=function(){return!!t})()}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ap(t)}function rH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z_(t,e)}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z_(t,e)}function W_(t,e,r){return e=QM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QM(t){var e=nH(t,"string");return Wl(e)=="symbol"?e:e+""}function nH(t,e){if(Wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uk=1,iH=(function(t){function e(){var r;XW(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ZW(this,e,[].concat(i)),W_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),W_(r,"handleKeyDown",function(s){if(s.key==="Escape"){var u,c,f,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(f=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),r}return rH(e,t),JW(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>uk||Math.abs(n.height-this.state.lastBoundingBox.height)>uk)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,p=i.hasPayload,v=i.isAnimationActive,x=i.offset,S=i.position,T=i.reverseDirection,_=i.useTranslate3d,O=i.viewBox,D=i.wrapperStyle,k=YW({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:x,position:S,reverseDirection:T,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:O}),R=k.cssClasses,C=k.cssProperties,j=lk(lk({transition:v&&o?"transform ".concat(u,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},D);return K.createElement("div",{tabIndex:-1,className:R,style:j,ref:function(P){n.wrapperNode=P}},f)}}])})(q.PureComponent),oH=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ed={isSsr:oH()};function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function ck(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(r),!0).forEach(function(n){aE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZM(n.key),n)}}function lH(t,e,r){return e&&sH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uH(t,e,r){return e=Pp(e),cH(t,JM()?Reflect.construct(e,r||[],Pp(t).constructor):e.apply(t,r))}function cH(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fH(t)}function fH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JM=function(){return!!t})()}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pp(t)}function dH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H_(t,e)}function H_(t,e){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},H_(t,e)}function aE(t,e,r){return e=ZM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZM(t){var e=hH(t,"string");return Hl(e)=="symbol"?e:e+""}function hH(t,e){if(Hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pH(t){return t.dataKey}function mH(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(qW,e)}var fi=(function(t){function e(){return aH(this,e),uH(this,e,arguments)}return dH(e,t),lH(e,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,p=i.filterNull,v=i.isAnimationActive,x=i.offset,S=i.payload,T=i.payloadUniqBy,_=i.position,O=i.reverseDirection,D=i.useTranslate3d,k=i.viewBox,R=i.wrapperStyle,C=S??[];p&&C.length&&(C=qM(S.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),T,pH));var j=C.length>0;return K.createElement(iH,{allowEscapeViewBox:s,animationDuration:u,animationEasing:c,isAnimationActive:v,active:o,coordinate:h,hasPayload:j,offset:x,position:_,reverseDirection:O,useTranslate3d:D,viewBox:k,wrapperStyle:R},mH(f,fk(fk({},this.props),{},{payload:C})))}}])})(q.PureComponent);aE(fi,"displayName","Tooltip");aE(fi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ed.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var nb,dk;function gH(){if(dk)return nb;dk=1;var t=Si(),e=function(){return t.Date.now()};return nb=e,nb}var ib,hk;function yH(){if(hk)return ib;hk=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return ib=e,ib}var ob,pk;function vH(){if(pk)return ob;pk=1;var t=yH(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return ob=r,ob}var ab,mk;function eL(){if(mk)return ab;mk=1;var t=vH(),e=ca(),r=yu(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=o.test(f);return p||s.test(f)?u(f.slice(2),p?2:8):i.test(f)?n:+f}return ab=c,ab}var sb,gk;function xH(){if(gk)return sb;gk=1;var t=ca(),e=gH(),r=eL(),n="Expected a function",i=Math.max,o=Math.min;function s(u,c,f){var h,p,v,x,S,T,_=0,O=!1,D=!1,k=!0;if(typeof u!="function")throw new TypeError(n);c=r(c)||0,t(f)&&(O=!!f.leading,D="maxWait"in f,v=D?i(r(f.maxWait)||0,c):v,k="trailing"in f?!!f.trailing:k);function R($){var Z=h,ee=p;return h=p=void 0,_=$,x=u.apply(ee,Z),x}function C($){return _=$,S=setTimeout(P,c),O?R($):x}function j($){var Z=$-T,ee=$-_,ae=c-Z;return D?o(ae,v-ee):ae}function A($){var Z=$-T,ee=$-_;return T===void 0||Z>=c||Z<0||D&&ee>=v}function P(){var $=e();if(A($))return N($);S=setTimeout(P,j($))}function N($){return S=void 0,k&&h?R($):(h=p=void 0,x)}function B(){S!==void 0&&clearTimeout(S),_=0,h=T=p=S=void 0}function L(){return S===void 0?x:N(e())}function V(){var $=e(),Z=A($);if(h=arguments,p=this,T=$,Z){if(S===void 0)return C(T);if(D)return clearTimeout(S),S=setTimeout(P,c),R(T)}return S===void 0&&(S=setTimeout(P,c)),x}return V.cancel=B,V.flush=L,V}return sb=s,sb}var lb,yk;function bH(){if(yk)return lb;yk=1;var t=xH(),e=ca(),r="Expected a function";function n(i,o,s){var u=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(u="leading"in s?!!s.leading:u,c="trailing"in s?!!s.trailing:c),t(i,o,{leading:u,maxWait:o,trailing:c})}return lb=n,lb}var _H=bH();const tL=ht(_H);function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function vk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ih(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(r),!0).forEach(function(n){wH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wH(t,e,r){return e=EH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EH(t){var e=TH(t,"string");return uf(e)=="symbol"?e:e+""}function TH(t,e){if(uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SH(t,e){return CH(t)||IH(t,e)||PH(t,e)||AH()}function AH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PH(t,e){if(t){if(typeof t=="string")return xk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xk(t,e)}}function xk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function CH(t){if(Array.isArray(t))return t}var OH=q.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=t.width,s=o===void 0?"100%":o,u=t.height,c=u===void 0?"100%":u,f=t.minWidth,h=f===void 0?0:f,p=t.minHeight,v=t.maxHeight,x=t.children,S=t.debounce,T=S===void 0?0:S,_=t.id,O=t.className,D=t.onResize,k=t.style,R=k===void 0?{}:k,C=q.useRef(null),j=q.useRef();j.current=D,q.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var A=q.useState({containerWidth:i.width,containerHeight:i.height}),P=SH(A,2),N=P[0],B=P[1],L=q.useCallback(function($,Z){B(function(ee){var ae=Math.round($),se=Math.round(Z);return ee.containerWidth===ae&&ee.containerHeight===se?ee:{containerWidth:ae,containerHeight:se}})},[]);q.useEffect(function(){var $=function(ie){var ne,z=ie[0].contentRect,G=z.width,ge=z.height;L(G,ge),(ne=j.current)===null||ne===void 0||ne.call(j,G,ge)};T>0&&($=tL($,T,{trailing:!0,leading:!1}));var Z=new ResizeObserver($),ee=C.current.getBoundingClientRect(),ae=ee.width,se=ee.height;return L(ae,se),Z.observe(C.current),function(){Z.disconnect()}},[L,T]);var V=q.useMemo(function(){var $=N.containerWidth,Z=N.containerHeight;if($<0||Z<0)return null;eo(Ya(s)||Ya(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),eo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var ee=Ya(s)?$:s,ae=Ya(c)?Z:c;r&&r>0&&(ee?ae=ee/r:ae&&(ee=ae*r),v&&ae>v&&(ae=v)),eo(ee>0||ae>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,ae,s,c,h,p,r);var se=!Array.isArray(x)&&Zi(x.type).endsWith("Chart");return K.Children.map(x,function(Q){return K.isValidElement(Q)?q.cloneElement(Q,Ih({width:ee,height:ae},se?{style:Ih({height:"100%",width:"100%",maxHeight:ae,maxWidth:ee},Q.props.style)}:{})):Q})},[r,x,c,v,p,h,N,s]);return K.createElement("div",{id:_?"".concat(_):void 0,className:at("recharts-responsive-container",O),style:Ih(Ih({},R),{},{width:s,height:c,minWidth:h,minHeight:p,maxHeight:v}),ref:C},V)}),sE=function(e){return null};sE.displayName="Cell";function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function bk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(r),!0).forEach(function(n){kH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kH(t,e,r){return e=NH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NH(t){var e=jH(t,"string");return cf(e)=="symbol"?e:e+""}function jH(t,e){if(cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dl={widthCache:{},cacheCount:0},RH=2e3,DH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_k="recharts_measurement_span";function MH(t){var e=G_({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Fc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ed.isSsr)return{width:0,height:0};var n=MH(r),i=JSON.stringify({text:e,copyStyle:n});if(dl.widthCache[i])return dl.widthCache[i];try{var o=document.getElementById(_k);o||(o=document.createElement("span"),o.setAttribute("id",_k),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=G_(G_({},DH),n);Object.assign(o.style,s),o.textContent="".concat(e);var u=o.getBoundingClientRect(),c={width:u.width,height:u.height};return dl.widthCache[i]=c,++dl.cacheCount>RH&&(dl.cacheCount=0,dl.widthCache={}),c}catch{return{width:0,height:0}}},LH=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function Ip(t,e){return FH(t)||BH(t,e)||VH(t,e)||$H()}function $H(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VH(t,e){if(t){if(typeof t=="string")return wk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wk(t,e)}}function wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function FH(t){if(Array.isArray(t))return t}function UH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ek(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zH(n.key),n)}}function qH(t,e,r){return e&&Ek(t.prototype,e),r&&Ek(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zH(t){var e=WH(t,"string");return ff(e)=="symbol"?e:e+""}function WH(t,e){if(ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Sk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,GH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},KH=Object.keys(rL),bl="NaN";function YH(t,e){return t*rL[e]}var Ch=(function(){function t(e,r){UH(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!HH.test(r)&&(this.num=NaN,this.unit=""),KH.includes(r)&&(this.num=YH(e,r),this.unit="px")}return qH(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=GH.exec(r))!==null&&n!==void 0?n:[],o=Ip(i,3),s=o[1],u=o[2];return new t(parseFloat(s),u??"")}}])})();function nL(t){if(t.includes(bl))return bl;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=Tk.exec(e))!==null&&r!==void 0?r:[],i=Ip(n,4),o=i[1],s=i[2],u=i[3],c=Ch.parse(o??""),f=Ch.parse(u??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return bl;e=e.replace(Tk,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,v=(p=Sk.exec(e))!==null&&p!==void 0?p:[],x=Ip(v,4),S=x[1],T=x[2],_=x[3],O=Ch.parse(S??""),D=Ch.parse(_??""),k=T==="+"?O.add(D):O.subtract(D);if(k.isNaN())return bl;e=e.replace(Sk,k.toString())}return e}var Ak=/\(([^()]*)\)/;function XH(t){for(var e=t;e.includes("(");){var r=Ak.exec(e),n=Ip(r,2),i=n[1];e=e.replace(Ak,nL(i))}return e}function QH(t){var e=t.replace(/\s+/g,"");return e=XH(e),e=nL(e),e}function JH(t){try{return QH(t)}catch{return bl}}function ub(t){var e=JH(t.slice(5,-1));return e===bl?"":e}var ZH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],eG=["dx","dy","angle","className","breakAll"];function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K_.apply(this,arguments)}function Pk(t,e){if(t==null)return{};var r=tG(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ik(t,e){return oG(t)||iG(t,e)||nG(t,e)||rG()}function rG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nG(t,e){if(t){if(typeof t=="string")return Ck(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ck(t,e)}}function Ck(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function oG(t){if(Array.isArray(t))return t}var iL=/[ \f\n\r\t\v\u2028\u2029]+/,oL=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];st(r)||(n?o=r.toString().split(""):o=r.toString().split(iL));var s=o.map(function(c){return{word:c,width:Fc(c,i).width}}),u=n?0:Fc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},aG=function(e,r,n,i,o){var s=e.maxLines,u=e.children,c=e.style,f=e.breakAll,h=xe(s),p=u,v=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee.reduce(function(ae,se){var Q=se.word,ie=se.width,ne=ae[ae.length-1];if(ne&&(i==null||o||ne.width+ie+n<Number(i)))ne.words.push(Q),ne.width+=ie+n;else{var z={words:[Q],width:ie};ae.push(z)}return ae},[])},x=v(r),S=function(ee){return ee.reduce(function(ae,se){return ae.width>se.width?ae:se})};if(!h)return x;for(var T="",_=function(ee){var ae=p.slice(0,ee),se=oL({breakAll:f,style:c,children:ae+T}).wordsWithComputedWidth,Q=v(se),ie=Q.length>s||S(Q).width>Number(i);return[ie,Q]},O=0,D=p.length-1,k=0,R;O<=D&&k<=p.length-1;){var C=Math.floor((O+D)/2),j=C-1,A=_(j),P=Ik(A,2),N=P[0],B=P[1],L=_(C),V=Ik(L,1),$=V[0];if(!N&&!$&&(O=C+1),N&&$&&(D=C-1),!N&&$){R=B;break}k++}return R||x},Ok=function(e){var r=st(e)?[]:e.toString().split(iL);return[{words:r}]},sG=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,u=e.maxLines;if((r||n)&&!ed.isSsr){var c,f,h=oL({breakAll:s,children:i,style:o});if(h){var p=h.wordsWithComputedWidth,v=h.spaceWidth;c=p,f=v}else return Ok(i);return aG({breakAll:s,children:i,maxLines:u,style:o},c,f,r,n)}return Ok(i)},kk="#808080",Cp=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.lineHeight,u=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,p=h===void 0?!1:h,v=e.textAnchor,x=v===void 0?"start":v,S=e.verticalAnchor,T=S===void 0?"end":S,_=e.fill,O=_===void 0?kk:_,D=Pk(e,ZH),k=q.useMemo(function(){return sG({breakAll:D.breakAll,children:D.children,maxLines:D.maxLines,scaleToFit:p,style:D.style,width:D.width})},[D.breakAll,D.children,D.maxLines,p,D.style,D.width]),R=D.dx,C=D.dy,j=D.angle,A=D.className,P=D.breakAll,N=Pk(D,eG);if(!er(n)||!er(o))return null;var B=n+(xe(R)?R:0),L=o+(xe(C)?C:0),V;switch(T){case"start":V=ub("calc(".concat(f,")"));break;case"middle":V=ub("calc(".concat((k.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:V=ub("calc(".concat(k.length-1," * -").concat(u,")"));break}var $=[];if(p){var Z=k[0].width,ee=D.width;$.push("scale(".concat((xe(ee)?ee/Z:1)/Z,")"))}return j&&$.push("rotate(".concat(j,", ").concat(B,", ").concat(L,")")),$.length&&(N.transform=$.join(" ")),K.createElement("text",K_({},ot(N,!0),{x:B,y:L,className:at("recharts-text",A),textAnchor:x,fill:O.includes("url")?kk:O}),k.map(function(ae,se){var Q=ae.words.join(P?"":" ");return K.createElement("tspan",{x:B,dy:se===0?V:u,key:"".concat(Q,"-").concat(se)},Q)}))};function ra(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lG(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lE(t){let e,r,n;t.length!==2?(e=ra,r=(u,c)=>ra(t(u),c),n=(u,c)=>t(u)-c):(e=t===ra||t===lG?t:uG,r=t,n=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;r(u[p],c)<0?f=p+1:h=p}while(f<h)}return f}function o(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;r(u[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function s(u,c,f=0,h=u.length){const p=i(u,c,f,h-1);return p>f&&n(u[p-1],c)>-n(u[p],c)?p-1:p}return{left:i,center:s,right:o}}function uG(){return 0}function aL(t){return t===null?NaN:+t}function*cG(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const fG=lE(ra),td=fG.right;lE(aL).center;class Nk extends Map{constructor(e,r=pG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(jk(this,e))}has(e){return super.has(jk(this,e))}set(e,r){return super.set(dG(this,e),r)}delete(e){return super.delete(hG(this,e))}}function jk({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function dG({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function hG({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function pG(t){return t!==null&&typeof t=="object"?t.valueOf():t}function mG(t=ra){if(t===ra)return sL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function sL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const gG=Math.sqrt(50),yG=Math.sqrt(10),vG=Math.sqrt(2);function Op(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=gG?10:o>=yG?5:o>=vG?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=r&&r<2?Op(t,e,r*2):[u,c,f]}function Y_(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,s]=n?Op(e,t,r):Op(t,e,r);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(n)if(s<0)for(let f=0;f<u;++f)c[f]=(o-f)/-s;else for(let f=0;f<u;++f)c[f]=(o-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function X_(t,e,r){return e=+e,t=+t,r=+r,Op(t,e,r)[2]}function Q_(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?X_(e,t,r):X_(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function Rk(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Dk(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function lL(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?sL:mG(i);n>r;){if(n-r>600){const c=n-r+1,f=e-r+1,h=Math.log(c),p=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),x=Math.max(r,Math.floor(e-f*p/c+v)),S=Math.min(n,Math.floor(e+(c-f)*p/c+v));lL(t,e,x,S,i)}const o=t[e];let s=r,u=n;for(vc(t,r,e),i(t[n],o)>0&&vc(t,r,n);s<u;){for(vc(t,s,u),++s,--u;i(t[s],o)<0;)++s;for(;i(t[u],o)>0;)--u}i(t[r],o)===0?vc(t,r,u):(++u,vc(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function vc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function xG(t,e,r){if(t=Float64Array.from(cG(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Dk(t);if(e>=1)return Rk(t);var n,i=(n-1)*e,o=Math.floor(i),s=Rk(lL(t,o).subarray(0,o+1)),u=Dk(t.subarray(o+1));return s+(u-s)*(i-o)}}function bG(t,e,r=aL){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),s=+r(t[o],o,t),u=+r(t[o+1],o+1,t);return s+(u-s)*(i-o)}}function _G(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function Tn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function po(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const J_=Symbol("implicit");function uE(){var t=new Nk,e=[],r=[],n=J_;function i(o){let s=t.get(o);if(s===void 0){if(n!==J_)return n;t.set(o,s=e.push(o)-1)}return r[s%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Nk;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return uE(e,r).unknown(n)},Tn.apply(i,arguments),i}function df(){var t=uE().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var v=e().length,x=i<n,S=x?i:n,T=x?n:i;o=(T-S)/Math.max(1,v-c+f*2),u&&(o=Math.floor(o)),S+=(T-S-o*(v-c))*h,s=o*(1-c),u&&(S=Math.round(S),s=Math.round(s));var _=_G(v).map(function(O){return S+o*O});return r(x?_.reverse():_)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,u=!0,p()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(v){return arguments.length?(u=!!v,p()):u},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),p()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),p()):h},t.copy=function(){return df(e(),[n,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},Tn.apply(p(),arguments)}function uL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return uL(e())},t}function Uc(){return uL(df.apply(null,arguments).paddingInner(1))}function cE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function cL(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function rd(){}var hf=.7,kp=1/hf,Nl="\\s*([+-]?\\d+)\\s*",pf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wG=/^#([0-9a-f]{3,8})$/,EG=new RegExp(`^rgb\\(${Nl},${Nl},${Nl}\\)$`),TG=new RegExp(`^rgb\\(${vi},${vi},${vi}\\)$`),SG=new RegExp(`^rgba\\(${Nl},${Nl},${Nl},${pf}\\)$`),AG=new RegExp(`^rgba\\(${vi},${vi},${vi},${pf}\\)$`),PG=new RegExp(`^hsl\\(${pf},${vi},${vi}\\)$`),IG=new RegExp(`^hsla\\(${pf},${vi},${vi},${pf}\\)$`),Mk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cE(rd,mf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Lk,formatHex:Lk,formatHex8:CG,formatHsl:OG,formatRgb:$k,toString:$k});function Lk(){return this.rgb().formatHex()}function CG(){return this.rgb().formatHex8()}function OG(){return fL(this).formatHsl()}function $k(){return this.rgb().formatRgb()}function mf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=wG.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Vk(e):r===3?new zr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Oh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Oh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=EG.exec(t))?new zr(e[1],e[2],e[3],1):(e=TG.exec(t))?new zr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=SG.exec(t))?Oh(e[1],e[2],e[3],e[4]):(e=AG.exec(t))?Oh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=PG.exec(t))?Uk(e[1],e[2]/100,e[3]/100,1):(e=IG.exec(t))?Uk(e[1],e[2]/100,e[3]/100,e[4]):Mk.hasOwnProperty(t)?Vk(Mk[t]):t==="transparent"?new zr(NaN,NaN,NaN,0):null}function Vk(t){return new zr(t>>16&255,t>>8&255,t&255,1)}function Oh(t,e,r,n){return n<=0&&(t=e=r=NaN),new zr(t,e,r,n)}function kG(t){return t instanceof rd||(t=mf(t)),t?(t=t.rgb(),new zr(t.r,t.g,t.b,t.opacity)):new zr}function Z_(t,e,r,n){return arguments.length===1?kG(t):new zr(t,e,r,n??1)}function zr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}cE(zr,Z_,cL(rd,{brighter(t){return t=t==null?kp:Math.pow(kp,t),new zr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?hf:Math.pow(hf,t),new zr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new zr(ns(this.r),ns(this.g),ns(this.b),Np(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bk,formatHex:Bk,formatHex8:NG,formatRgb:Fk,toString:Fk}));function Bk(){return`#${Xa(this.r)}${Xa(this.g)}${Xa(this.b)}`}function NG(){return`#${Xa(this.r)}${Xa(this.g)}${Xa(this.b)}${Xa((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fk(){const t=Np(this.opacity);return`${t===1?"rgb(":"rgba("}${ns(this.r)}, ${ns(this.g)}, ${ns(this.b)}${t===1?")":`, ${t})`}`}function Np(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ns(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xa(t){return t=ns(t),(t<16?"0":"")+t.toString(16)}function Uk(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new $n(t,e,r,n)}function fL(t){if(t instanceof $n)return new $n(t.h,t.s,t.l,t.opacity);if(t instanceof rd||(t=mf(t)),!t)return new $n;if(t instanceof $n)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),s=NaN,u=o-i,c=(o+i)/2;return u?(e===o?s=(r-n)/u+(r<n)*6:r===o?s=(n-e)/u+2:s=(e-r)/u+4,u/=c<.5?o+i:2-o-i,s*=60):u=c>0&&c<1?0:s,new $n(s,u,c,t.opacity)}function jG(t,e,r,n){return arguments.length===1?fL(t):new $n(t,e,r,n??1)}function $n(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}cE($n,jG,cL(rd,{brighter(t){return t=t==null?kp:Math.pow(kp,t),new $n(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?hf:Math.pow(hf,t),new $n(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new zr(cb(t>=240?t-240:t+120,i,n),cb(t,i,n),cb(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new $n(qk(this.h),kh(this.s),kh(this.l),Np(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Np(this.opacity);return`${t===1?"hsl(":"hsla("}${qk(this.h)}, ${kh(this.s)*100}%, ${kh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function qk(t){return t=(t||0)%360,t<0?t+360:t}function kh(t){return Math.max(0,Math.min(1,t||0))}function cb(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const fE=t=>()=>t;function RG(t,e){return function(r){return t+r*e}}function DG(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function MG(t){return(t=+t)==1?dL:function(e,r){return r-e?DG(e,r,t):fE(isNaN(e)?r:e)}}function dL(t,e){var r=e-t;return r?RG(t,r):fE(isNaN(t)?e:t)}const zk=(function t(e){var r=MG(e);function n(i,o){var s=r((i=Z_(i)).r,(o=Z_(o)).r),u=r(i.g,o.g),c=r(i.b,o.b),f=dL(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return n.gamma=t,n})(1);function LG(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function $G(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function VG(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=bu(t[s],e[s]);for(;s<r;++s)o[s]=e[s];return function(u){for(s=0;s<n;++s)o[s]=i[s](u);return o}}function BG(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function jp(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function FG(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=bu(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var ew=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fb=new RegExp(ew.source,"g");function UG(t){return function(){return t}}function qG(t){return function(e){return t(e)+""}}function zG(t,e){var r=ew.lastIndex=fb.lastIndex=0,n,i,o,s=-1,u=[],c=[];for(t=t+"",e=e+"";(n=ew.exec(t))&&(i=fb.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),u[s]?u[s]+=o:u[++s]=o),(n=n[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:jp(n,i)})),r=fb.lastIndex;return r<e.length&&(o=e.slice(r),u[s]?u[s]+=o:u[++s]=o),u.length<2?c[0]?qG(c[0].x):UG(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)u[(p=c[h]).i]=p.x(f);return u.join("")})}function bu(t,e){var r=typeof e,n;return e==null||r==="boolean"?fE(e):(r==="number"?jp:r==="string"?(n=mf(e))?(e=n,zk):zG:e instanceof mf?zk:e instanceof Date?BG:$G(e)?LG:Array.isArray(e)?VG:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?FG:jp)(t,e)}function dE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function WG(t,e){e===void 0&&(e=t,t=bu);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(s){var u=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return o[u](s-u)}}function HG(t){return function(){return t}}function Rp(t){return+t}var Wk=[0,1];function Rr(t){return t}function tw(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:HG(isNaN(e)?NaN:.5)}function GG(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function KG(t,e,r){var n=t[0],i=t[1],o=e[0],s=e[1];return i<n?(n=tw(i,n),o=r(s,o)):(n=tw(n,i),o=r(o,s)),function(u){return o(n(u))}}function YG(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=tw(t[s],t[s+1]),o[s]=r(e[s],e[s+1]);return function(u){var c=td(t,u,1,n)-1;return o[c](i[c](u))}}function nd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Wm(){var t=Wk,e=Wk,r=bu,n,i,o,s=Rr,u,c,f;function h(){var v=Math.min(t.length,e.length);return s!==Rr&&(s=GG(t[0],t[v-1])),u=v>2?YG:KG,c=f=null,p}function p(v){return v==null||isNaN(v=+v)?o:(c||(c=u(t.map(n),e,r)))(n(s(v)))}return p.invert=function(v){return s(i((f||(f=u(e,t.map(n),jp)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,Rp),h()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),r=dE,h()},p.clamp=function(v){return arguments.length?(s=v?!0:Rr,h()):s!==Rr},p.interpolate=function(v){return arguments.length?(r=v,h()):r},p.unknown=function(v){return arguments.length?(o=v,p):o},function(v,x){return n=v,i=x,h()}}function hE(){return Wm()(Rr,Rr)}function XG(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Dp(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Gl(t){return t=Dp(Math.abs(t)),t?t[1]:NaN}function QG(t,e){return function(r,n){for(var i=r.length,o=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>n&&(u=Math.max(1,n-c)),o.push(r.substring(i-=u,i+u)),!((c+=u+1)>n));)u=t[s=(s+1)%t.length];return o.reverse().join(e)}}function JG(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var ZG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gf(t){if(!(e=ZG.exec(t)))throw new Error("invalid format: "+t);var e;return new pE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}gf.prototype=pE.prototype;function pE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eK(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Mp;function tK(t,e){var r=Dp(t,e);if(!r)return Mp=void 0,t.toPrecision(e);var n=r[0],i=r[1],o=i-(Mp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Dp(t,Math.max(0,e+o-1))[0]}function Hk(t,e){var r=Dp(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Gk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:XG,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Hk(t*100,e),r:Hk,s:tK,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Kk(t){return t}var Yk=Array.prototype.map,Xk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rK(t){var e=t.grouping===void 0||t.thousands===void 0?Kk:QG(Yk.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Kk:JG(Yk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p,v){p=gf(p);var x=p.fill,S=p.align,T=p.sign,_=p.symbol,O=p.zero,D=p.width,k=p.comma,R=p.precision,C=p.trim,j=p.type;j==="n"?(k=!0,j="g"):Gk[j]||(R===void 0&&(R=12),C=!0,j="g"),(O||x==="0"&&S==="=")&&(O=!0,x="0",S="=");var A=(v&&v.prefix!==void 0?v.prefix:"")+(_==="$"?r:_==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),P=(_==="$"?n:/[%p]/.test(j)?s:"")+(v&&v.suffix!==void 0?v.suffix:""),N=Gk[j],B=/[defgprs%]/.test(j);R=R===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function L(V){var $=A,Z=P,ee,ae,se;if(j==="c")Z=N(V)+Z,V="";else{V=+V;var Q=V<0||1/V<0;if(V=isNaN(V)?c:N(Math.abs(V),R),C&&(V=eK(V)),Q&&+V==0&&T!=="+"&&(Q=!1),$=(Q?T==="("?T:u:T==="-"||T==="("?"":T)+$,Z=(j==="s"&&!isNaN(V)&&Mp!==void 0?Xk[8+Mp/3]:"")+Z+(Q&&T==="("?")":""),B){for(ee=-1,ae=V.length;++ee<ae;)if(se=V.charCodeAt(ee),48>se||se>57){Z=(se===46?i+V.slice(ee+1):V.slice(ee))+Z,V=V.slice(0,ee);break}}}k&&!O&&(V=e(V,1/0));var ie=$.length+V.length+Z.length,ne=ie<D?new Array(D-ie+1).join(x):"";switch(k&&O&&(V=e(ne+V,ne.length?D-Z.length:1/0),ne=""),S){case"<":V=$+V+Z+ne;break;case"=":V=$+ne+V+Z;break;case"^":V=ne.slice(0,ie=ne.length>>1)+$+V+Z+ne.slice(ie);break;default:V=ne+$+V+Z;break}return o(V)}return L.toString=function(){return p+""},L}function h(p,v){var x=Math.max(-8,Math.min(8,Math.floor(Gl(v)/3)))*3,S=Math.pow(10,-x),T=f((p=gf(p),p.type="f",p),{suffix:Xk[8+x/3]});return function(_){return T(S*_)}}return{format:f,formatPrefix:h}}var Nh,mE,hL;nK({thousands:",",grouping:[3],currency:["$",""]});function nK(t){return Nh=rK(t),mE=Nh.format,hL=Nh.formatPrefix,Nh}function iK(t){return Math.max(0,-Gl(Math.abs(t)))}function oK(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gl(e)/3)))*3-Gl(Math.abs(t)))}function aK(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Gl(e)-Gl(t))+1}function pL(t,e,r,n){var i=Q_(t,e,r),o;switch(n=gf(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=oK(i,s))&&(n.precision=o),hL(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=aK(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=iK(i))&&(n.precision=o-(n.type==="%")*2);break}}return mE(n)}function da(t){var e=t.domain;return t.ticks=function(r){var n=e();return Y_(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return pL(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,s=n[i],u=n[o],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=o,o=f);h-- >0;){if(f=X_(s,u,r),f===c)return n[i]=s,n[o]=u,e(n);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function Lp(){var t=hE();return t.copy=function(){return nd(t,Lp())},Tn.apply(t,arguments),da(t)}function mL(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Rp),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return mL(t).unknown(e)},t=arguments.length?Array.from(t,Rp):[0,1],da(r)}function gL(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],s;return o<i&&(s=r,r=n,n=s,s=i,i=o,o=s),t[r]=e.floor(i),t[n]=e.ceil(o),t}function Qk(t){return Math.log(t)}function Jk(t){return Math.exp(t)}function sK(t){return-Math.log(-t)}function lK(t){return-Math.exp(-t)}function uK(t){return isFinite(t)?+("1e"+t):t<0?0:t}function cK(t){return t===10?uK:t===Math.E?Math.exp:e=>Math.pow(t,e)}function fK(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Zk(t){return(e,r)=>-t(-e,r)}function gE(t){const e=t(Qk,Jk),r=e.domain;let n=10,i,o;function s(){return i=fK(n),o=cK(n),r()[0]<0?(i=Zk(i),o=Zk(o),t(sK,lK)):t(Qk,Jk),e}return e.base=function(u){return arguments.length?(n=+u,s()):n},e.domain=function(u){return arguments.length?(r(u),s()):r()},e.ticks=u=>{const c=r();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let v=i(f),x=i(h),S,T;const _=u==null?10:+u;let O=[];if(!(n%1)&&x-v<_){if(v=Math.floor(v),x=Math.ceil(x),f>0){for(;v<=x;++v)for(S=1;S<n;++S)if(T=v<0?S/o(-v):S*o(v),!(T<f)){if(T>h)break;O.push(T)}}else for(;v<=x;++v)for(S=n-1;S>=1;--S)if(T=v>0?S/o(-v):S*o(v),!(T<f)){if(T>h)break;O.push(T)}O.length*2<_&&(O=Y_(f,h,_))}else O=Y_(v,x,Math.min(x-v,_)).map(o);return p?O.reverse():O},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=gf(c)).precision==null&&(c.trim=!0),c=mE(c)),u===1/0)return c;const f=Math.max(1,n*u/e.ticks().length);return h=>{let p=h/o(Math.round(i(h)));return p*n<n-.5&&(p*=n),p<=f?c(h):""}},e.nice=()=>r(gL(r(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function yL(){const t=gE(Wm()).domain([1,10]);return t.copy=()=>nd(t,yL()).base(t.base()),Tn.apply(t,arguments),t}function eN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function tN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function yE(t){var e=1,r=t(eN(e),tN(e));return r.constant=function(n){return arguments.length?t(eN(e=+n),tN(e)):e},da(r)}function vL(){var t=yE(Wm());return t.copy=function(){return nd(t,vL()).constant(t.constant())},Tn.apply(t,arguments)}function rN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function dK(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hK(t){return t<0?-t*t:t*t}function vE(t){var e=t(Rr,Rr),r=1;function n(){return r===1?t(Rr,Rr):r===.5?t(dK,hK):t(rN(r),rN(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},da(e)}function xE(){var t=vE(Wm());return t.copy=function(){return nd(t,xE()).exponent(t.exponent())},Tn.apply(t,arguments),t}function pK(){return xE.apply(null,arguments).exponent(.5)}function nN(t){return Math.sign(t)*t*t}function mK(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function xL(){var t=hE(),e=[0,1],r=!1,n;function i(o){var s=mK(t(o));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(o){return t.invert(nN(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Rp)).map(nN)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return xL(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Tn.apply(i,arguments),da(i)}function bL(){var t=[],e=[],r=[],n;function i(){var s=0,u=Math.max(1,e.length);for(r=new Array(u-1);++s<u;)r[s-1]=bG(t,s/u);return o}function o(s){return s==null||isNaN(s=+s)?n:e[td(r,s)]}return o.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(ra),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return bL().domain(t).range(e).unknown(n)},Tn.apply(o,arguments)}function _L(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[td(n,c,0,r)]:o}function u(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return _L().domain([t,e]).range(i).unknown(o)},Tn.apply(da(s),arguments)}function wL(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[td(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return wL().domain(t).range(e).unknown(r)},Tn.apply(i,arguments)}const db=new Date,hb=new Date;function rr(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),u=i.ceil(o);return o-s<u-o?s:u},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,u)=>{const c=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<s)||!(u>0))return c;let f;do c.push(f=new Date(+o)),e(o,u),t(o);while(f<o&&o<s);return c},i.filter=o=>rr(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!o(s););else for(;--u>=0;)for(;e(s,1),!o(s););}),r&&(i.count=(o,s)=>(db.setTime(+o),hb.setTime(+s),t(db),t(hb),Math.floor(r(db,hb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?s=>n(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const $p=rr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);$p.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?rr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):$p);$p.range;const Xi=1e3,_n=Xi*60,Qi=_n*60,so=Qi*24,bE=so*7,iN=so*30,pb=so*365,Qa=rr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Xi)},(t,e)=>(e-t)/Xi,t=>t.getUTCSeconds());Qa.range;const _E=rr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xi)},(t,e)=>{t.setTime(+t+e*_n)},(t,e)=>(e-t)/_n,t=>t.getMinutes());_E.range;const wE=rr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*_n)},(t,e)=>(e-t)/_n,t=>t.getUTCMinutes());wE.range;const EE=rr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xi-t.getMinutes()*_n)},(t,e)=>{t.setTime(+t+e*Qi)},(t,e)=>(e-t)/Qi,t=>t.getHours());EE.range;const TE=rr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Qi)},(t,e)=>(e-t)/Qi,t=>t.getUTCHours());TE.range;const id=rr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_n)/so,t=>t.getDate()-1);id.range;const Hm=rr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/so,t=>t.getUTCDate()-1);Hm.range;const EL=rr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/so,t=>Math.floor(t/so));EL.range;function Es(t){return rr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*_n)/bE)}const Gm=Es(0),Vp=Es(1),gK=Es(2),yK=Es(3),Kl=Es(4),vK=Es(5),xK=Es(6);Gm.range;Vp.range;gK.range;yK.range;Kl.range;vK.range;xK.range;function Ts(t){return rr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/bE)}const Km=Ts(0),Bp=Ts(1),bK=Ts(2),_K=Ts(3),Yl=Ts(4),wK=Ts(5),EK=Ts(6);Km.range;Bp.range;bK.range;_K.range;Yl.range;wK.range;EK.range;const SE=rr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());SE.range;const AE=rr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());AE.range;const lo=rr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());lo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:rr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});lo.range;const uo=rr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());uo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:rr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});uo.range;function TL(t,e,r,n,i,o){const s=[[Qa,1,Xi],[Qa,5,5*Xi],[Qa,15,15*Xi],[Qa,30,30*Xi],[o,1,_n],[o,5,5*_n],[o,15,15*_n],[o,30,30*_n],[i,1,Qi],[i,3,3*Qi],[i,6,6*Qi],[i,12,12*Qi],[n,1,so],[n,2,2*so],[r,1,bE],[e,1,iN],[e,3,3*iN],[t,1,pb]];function u(f,h,p){const v=h<f;v&&([f,h]=[h,f]);const x=p&&typeof p.range=="function"?p:c(f,h,p),S=x?x.range(f,+h+1):[];return v?S.reverse():S}function c(f,h,p){const v=Math.abs(h-f)/p,x=lE(([,,_])=>_).right(s,v);if(x===s.length)return t.every(Q_(f/pb,h/pb,p));if(x===0)return $p.every(Math.max(Q_(f,h,p),1));const[S,T]=s[v/s[x-1][2]<s[x][2]/v?x-1:x];return S.every(T)}return[u,c]}const[TK,SK]=TL(uo,AE,Km,EL,TE,wE),[AK,PK]=TL(lo,SE,Gm,id,EE,_E);function mb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function gb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function IK(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=bc(i),h=_c(i),p=bc(o),v=_c(o),x=bc(s),S=_c(s),T=bc(u),_=_c(u),O=bc(c),D=_c(c),k={a:se,A:Q,b:ie,B:ne,c:null,d:cN,e:cN,f:QK,g:sY,G:uY,H:KK,I:YK,j:XK,L:SL,m:JK,M:ZK,p:z,q:G,Q:hN,s:pN,S:eY,u:tY,U:rY,V:nY,w:iY,W:oY,x:null,X:null,y:aY,Y:lY,Z:cY,"%":dN},R={a:ge,A:_e,b:Ce,B:Re,c:null,d:fN,e:fN,f:pY,g:TY,G:AY,H:fY,I:dY,j:hY,L:PL,m:mY,M:gY,p:We,q:Le,Q:hN,s:pN,S:yY,u:vY,U:xY,V:bY,w:_Y,W:wY,x:null,X:null,y:EY,Y:SY,Z:PY,"%":dN},C={a:B,A:L,b:V,B:$,c:Z,d:lN,e:lN,f:zK,g:sN,G:aN,H:uN,I:uN,j:BK,L:qK,m:VK,M:FK,p:N,q:$K,Q:HK,s:GK,S:UK,u:jK,U:RK,V:DK,w:NK,W:MK,x:ee,X:ae,y:sN,Y:aN,Z:LK,"%":WK};k.x=j(r,k),k.X=j(n,k),k.c=j(e,k),R.x=j(r,R),R.X=j(n,R),R.c=j(e,R);function j(he,Oe){return function(Be){var ce=[],nt=-1,ze=0,Pt=he.length,yt,jt,Dr;for(Be instanceof Date||(Be=new Date(+Be));++nt<Pt;)he.charCodeAt(nt)===37&&(ce.push(he.slice(ze,nt)),(jt=oN[yt=he.charAt(++nt)])!=null?yt=he.charAt(++nt):jt=yt==="e"?" ":"0",(Dr=Oe[yt])&&(yt=Dr(Be,jt)),ce.push(yt),ze=nt+1);return ce.push(he.slice(ze,nt)),ce.join("")}}function A(he,Oe){return function(Be){var ce=xc(1900,void 0,1),nt=P(ce,he,Be+="",0),ze,Pt;if(nt!=Be.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(Oe&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(ze=gb(xc(ce.y,0,1)),Pt=ze.getUTCDay(),ze=Pt>4||Pt===0?Bp.ceil(ze):Bp(ze),ze=Hm.offset(ze,(ce.V-1)*7),ce.y=ze.getUTCFullYear(),ce.m=ze.getUTCMonth(),ce.d=ze.getUTCDate()+(ce.w+6)%7):(ze=mb(xc(ce.y,0,1)),Pt=ze.getDay(),ze=Pt>4||Pt===0?Vp.ceil(ze):Vp(ze),ze=id.offset(ze,(ce.V-1)*7),ce.y=ze.getFullYear(),ce.m=ze.getMonth(),ce.d=ze.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Pt="Z"in ce?gb(xc(ce.y,0,1)).getUTCDay():mb(xc(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Pt+5)%7:ce.w+ce.U*7-(Pt+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,gb(ce)):mb(ce)}}function P(he,Oe,Be,ce){for(var nt=0,ze=Oe.length,Pt=Be.length,yt,jt;nt<ze;){if(ce>=Pt)return-1;if(yt=Oe.charCodeAt(nt++),yt===37){if(yt=Oe.charAt(nt++),jt=C[yt in oN?Oe.charAt(nt++):yt],!jt||(ce=jt(he,Be,ce))<0)return-1}else if(yt!=Be.charCodeAt(ce++))return-1}return ce}function N(he,Oe,Be){var ce=f.exec(Oe.slice(Be));return ce?(he.p=h.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function B(he,Oe,Be){var ce=x.exec(Oe.slice(Be));return ce?(he.w=S.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function L(he,Oe,Be){var ce=p.exec(Oe.slice(Be));return ce?(he.w=v.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function V(he,Oe,Be){var ce=O.exec(Oe.slice(Be));return ce?(he.m=D.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function $(he,Oe,Be){var ce=T.exec(Oe.slice(Be));return ce?(he.m=_.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function Z(he,Oe,Be){return P(he,e,Oe,Be)}function ee(he,Oe,Be){return P(he,r,Oe,Be)}function ae(he,Oe,Be){return P(he,n,Oe,Be)}function se(he){return s[he.getDay()]}function Q(he){return o[he.getDay()]}function ie(he){return c[he.getMonth()]}function ne(he){return u[he.getMonth()]}function z(he){return i[+(he.getHours()>=12)]}function G(he){return 1+~~(he.getMonth()/3)}function ge(he){return s[he.getUTCDay()]}function _e(he){return o[he.getUTCDay()]}function Ce(he){return c[he.getUTCMonth()]}function Re(he){return u[he.getUTCMonth()]}function We(he){return i[+(he.getUTCHours()>=12)]}function Le(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Oe=j(he+="",k);return Oe.toString=function(){return he},Oe},parse:function(he){var Oe=A(he+="",!1);return Oe.toString=function(){return he},Oe},utcFormat:function(he){var Oe=j(he+="",R);return Oe.toString=function(){return he},Oe},utcParse:function(he){var Oe=A(he+="",!0);return Oe.toString=function(){return he},Oe}}}var oN={"-":"",_:" ",0:"0"},ur=/^\s*\d+/,CK=/^%/,OK=/[\\^$*+?|[\]().{}]/g;function rt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function kK(t){return t.replace(OK,"\\$&")}function bc(t){return new RegExp("^(?:"+t.map(kK).join("|")+")","i")}function _c(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function NK(t,e,r){var n=ur.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function jK(t,e,r){var n=ur.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function RK(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function DK(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function MK(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function aN(t,e,r){var n=ur.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function sN(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function LK(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function $K(t,e,r){var n=ur.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function VK(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function lN(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function BK(t,e,r){var n=ur.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function uN(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function FK(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function UK(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function qK(t,e,r){var n=ur.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function zK(t,e,r){var n=ur.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function WK(t,e,r){var n=CK.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function HK(t,e,r){var n=ur.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function GK(t,e,r){var n=ur.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function cN(t,e){return rt(t.getDate(),e,2)}function KK(t,e){return rt(t.getHours(),e,2)}function YK(t,e){return rt(t.getHours()%12||12,e,2)}function XK(t,e){return rt(1+id.count(lo(t),t),e,3)}function SL(t,e){return rt(t.getMilliseconds(),e,3)}function QK(t,e){return SL(t,e)+"000"}function JK(t,e){return rt(t.getMonth()+1,e,2)}function ZK(t,e){return rt(t.getMinutes(),e,2)}function eY(t,e){return rt(t.getSeconds(),e,2)}function tY(t){var e=t.getDay();return e===0?7:e}function rY(t,e){return rt(Gm.count(lo(t)-1,t),e,2)}function AL(t){var e=t.getDay();return e>=4||e===0?Kl(t):Kl.ceil(t)}function nY(t,e){return t=AL(t),rt(Kl.count(lo(t),t)+(lo(t).getDay()===4),e,2)}function iY(t){return t.getDay()}function oY(t,e){return rt(Vp.count(lo(t)-1,t),e,2)}function aY(t,e){return rt(t.getFullYear()%100,e,2)}function sY(t,e){return t=AL(t),rt(t.getFullYear()%100,e,2)}function lY(t,e){return rt(t.getFullYear()%1e4,e,4)}function uY(t,e){var r=t.getDay();return t=r>=4||r===0?Kl(t):Kl.ceil(t),rt(t.getFullYear()%1e4,e,4)}function cY(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rt(e/60|0,"0",2)+rt(e%60,"0",2)}function fN(t,e){return rt(t.getUTCDate(),e,2)}function fY(t,e){return rt(t.getUTCHours(),e,2)}function dY(t,e){return rt(t.getUTCHours()%12||12,e,2)}function hY(t,e){return rt(1+Hm.count(uo(t),t),e,3)}function PL(t,e){return rt(t.getUTCMilliseconds(),e,3)}function pY(t,e){return PL(t,e)+"000"}function mY(t,e){return rt(t.getUTCMonth()+1,e,2)}function gY(t,e){return rt(t.getUTCMinutes(),e,2)}function yY(t,e){return rt(t.getUTCSeconds(),e,2)}function vY(t){var e=t.getUTCDay();return e===0?7:e}function xY(t,e){return rt(Km.count(uo(t)-1,t),e,2)}function IL(t){var e=t.getUTCDay();return e>=4||e===0?Yl(t):Yl.ceil(t)}function bY(t,e){return t=IL(t),rt(Yl.count(uo(t),t)+(uo(t).getUTCDay()===4),e,2)}function _Y(t){return t.getUTCDay()}function wY(t,e){return rt(Bp.count(uo(t)-1,t),e,2)}function EY(t,e){return rt(t.getUTCFullYear()%100,e,2)}function TY(t,e){return t=IL(t),rt(t.getUTCFullYear()%100,e,2)}function SY(t,e){return rt(t.getUTCFullYear()%1e4,e,4)}function AY(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Yl(t):Yl.ceil(t),rt(t.getUTCFullYear()%1e4,e,4)}function PY(){return"+0000"}function dN(){return"%"}function hN(t){return+t}function pN(t){return Math.floor(+t/1e3)}var hl,CL,OL;IY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function IY(t){return hl=IK(t),CL=hl.format,hl.parse,OL=hl.utcFormat,hl.utcParse,hl}function CY(t){return new Date(t)}function OY(t){return t instanceof Date?+t:+new Date(+t)}function PE(t,e,r,n,i,o,s,u,c,f){var h=hE(),p=h.invert,v=h.domain,x=f(".%L"),S=f(":%S"),T=f("%I:%M"),_=f("%I %p"),O=f("%a %d"),D=f("%b %d"),k=f("%B"),R=f("%Y");function C(j){return(c(j)<j?x:u(j)<j?S:s(j)<j?T:o(j)<j?_:n(j)<j?i(j)<j?O:D:r(j)<j?k:R)(j)}return h.invert=function(j){return new Date(p(j))},h.domain=function(j){return arguments.length?v(Array.from(j,OY)):v().map(CY)},h.ticks=function(j){var A=v();return t(A[0],A[A.length-1],j??10)},h.tickFormat=function(j,A){return A==null?C:f(A)},h.nice=function(j){var A=v();return(!j||typeof j.range!="function")&&(j=e(A[0],A[A.length-1],j??10)),j?v(gL(A,j)):h},h.copy=function(){return nd(h,PE(t,e,r,n,i,o,s,u,c,f))},h}function kY(){return Tn.apply(PE(AK,PK,lo,SE,Gm,id,EE,_E,Qa,CL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function NY(){return Tn.apply(PE(TK,SK,uo,AE,Km,Hm,TE,wE,Qa,OL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ym(){var t=0,e=1,r,n,i,o,s=Rr,u=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(o(p)-r)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(v){var x,S;return arguments.length?([x,S]=v,s=p(x,S),f):[s(0),s(1)]}}return f.range=h(bu),f.rangeRound=h(dE),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),f}}function ha(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function kL(){var t=da(Ym()(Rr));return t.copy=function(){return ha(t,kL())},po.apply(t,arguments)}function NL(){var t=gE(Ym()).domain([1,10]);return t.copy=function(){return ha(t,NL()).base(t.base())},po.apply(t,arguments)}function jL(){var t=yE(Ym());return t.copy=function(){return ha(t,jL()).constant(t.constant())},po.apply(t,arguments)}function IE(){var t=vE(Ym());return t.copy=function(){return ha(t,IE()).exponent(t.exponent())},po.apply(t,arguments)}function jY(){return IE.apply(null,arguments).exponent(.5)}function RL(){var t=[],e=Rr;function r(n){if(n!=null&&!isNaN(n=+n))return e((td(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ra),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>xG(t,o/n))},r.copy=function(){return RL(e).domain(t)},po.apply(r,arguments)}function Xm(){var t=0,e=.5,r=1,n=1,i,o,s,u,c,f=Rr,h,p=!1,v;function x(T){return isNaN(T=+T)?v:(T=.5+((T=+h(T))-o)*(n*T<n*o?u:c),f(p?Math.max(0,Math.min(1,T)):T))}x.domain=function(T){return arguments.length?([t,e,r]=T,i=h(t=+t),o=h(e=+e),s=h(r=+r),u=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),n=o<i?-1:1,x):[t,e,r]},x.clamp=function(T){return arguments.length?(p=!!T,x):p},x.interpolator=function(T){return arguments.length?(f=T,x):f};function S(T){return function(_){var O,D,k;return arguments.length?([O,D,k]=_,f=WG(T,[O,D,k]),x):[f(0),f(.5),f(1)]}}return x.range=S(bu),x.rangeRound=S(dE),x.unknown=function(T){return arguments.length?(v=T,x):v},function(T){return h=T,i=T(t),o=T(e),s=T(r),u=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),n=o<i?-1:1,x}}function DL(){var t=da(Xm()(Rr));return t.copy=function(){return ha(t,DL())},po.apply(t,arguments)}function ML(){var t=gE(Xm()).domain([.1,1,10]);return t.copy=function(){return ha(t,ML()).base(t.base())},po.apply(t,arguments)}function LL(){var t=yE(Xm());return t.copy=function(){return ha(t,LL()).constant(t.constant())},po.apply(t,arguments)}function CE(){var t=vE(Xm());return t.copy=function(){return ha(t,CE()).exponent(t.exponent())},po.apply(t,arguments)}function RY(){return CE.apply(null,arguments).exponent(.5)}const mN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:df,scaleDiverging:DL,scaleDivergingLog:ML,scaleDivergingPow:CE,scaleDivergingSqrt:RY,scaleDivergingSymlog:LL,scaleIdentity:mL,scaleImplicit:J_,scaleLinear:Lp,scaleLog:yL,scaleOrdinal:uE,scalePoint:Uc,scalePow:xE,scaleQuantile:bL,scaleQuantize:_L,scaleRadial:xL,scaleSequential:kL,scaleSequentialLog:NL,scaleSequentialPow:IE,scaleSequentialQuantile:RL,scaleSequentialSqrt:jY,scaleSequentialSymlog:jL,scaleSqrt:pK,scaleSymlog:vL,scaleThreshold:wL,scaleTime:kY,scaleUtc:NY,tickFormat:pL},Symbol.toStringTag,{value:"Module"}));var yb,gN;function $L(){if(gN)return yb;gN=1;var t=yu();function e(r,n,i){for(var o=-1,s=r.length;++o<s;){var u=r[o],c=n(u);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=u}return h}return yb=e,yb}var vb,yN;function DY(){if(yN)return vb;yN=1;function t(e,r){return e>r}return vb=t,vb}var xb,vN;function MY(){if(vN)return xb;vN=1;var t=$L(),e=DY(),r=xu();function n(i){return i&&i.length?t(i,r,e):void 0}return xb=n,xb}var LY=MY();const Qm=ht(LY);var bb,xN;function $Y(){if(xN)return bb;xN=1;function t(e,r){return e<r}return bb=t,bb}var _b,bN;function VY(){if(bN)return _b;bN=1;var t=$L(),e=$Y(),r=xu();function n(i){return i&&i.length?t(i,r,e):void 0}return _b=n,_b}var BY=VY();const Jm=ht(BY);var wb,_N;function FY(){if(_N)return wb;_N=1;var t=z1(),e=fa(),r=KM(),n=Hr();function i(o,s){var u=n(o)?t:r;return u(o,e(s,3))}return wb=i,wb}var Eb,wN;function UY(){if(wN)return Eb;wN=1;var t=HM(),e=FY();function r(n,i){return t(e(n,i),1)}return Eb=r,Eb}var qY=UY();const zY=ht(qY);var Tb,EN;function WY(){if(EN)return Tb;EN=1;var t=nE();function e(r,n){return t(r,n)}return Tb=e,Tb}var HY=WY();const OE=ht(HY);var _u=1e9,GY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},NE,Ct=!0,En="[DecimalError] ",is=En+"Invalid argument: ",kE=En+"Exponent out of range: ",wu=Math.floor,Wa=Math.pow,KY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,an,sr=1e7,Tt=7,VL=9007199254740991,Fp=wu(VL/Tt),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Tt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Te.dividedBy=Te.div=function(t){return to(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,r=e.constructor;return gt(to(e,new r(t),0,1),r.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return Ht(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(an))throw Error(En+"NaN");if(r.s<1)throw Error(En+(r.s?"NaN":"-Infinity"));return r.eq(an)?new n(0):(Ct=!1,e=to(yf(r,o),yf(t,o),o),Ct=!0,gt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?UL(e,t):BL(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(En+"NaN");return r.s?(Ct=!1,e=to(r,t,0,1).times(t),Ct=!0,r.minus(e)):gt(new n(r),i)};Te.naturalExponential=Te.exp=function(){return FL(this)};Te.naturalLogarithm=Te.ln=function(){return yf(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?BL(e,t):UL(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(is+t);if(e=Ht(i)+1,n=i.d.length-1,r=n*Tt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Te.squareRoot=Te.sqrt=function(){var t,e,r,n,i,o,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(En+"NaN")}for(t=Ht(u),Ct=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=di(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=wu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(o=n,n=o.plus(to(u,o,s+2)).times(.5),di(o.d).slice(0,s)===(e=di(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(gt(o,r+1,0),o.times(o).eq(u)){n=o;break}}else if(e!="9999")break;s+=4}return Ct=!0,gt(n,r)};Te.times=Te.mul=function(t){var e,r,n,i,o,s,u,c,f,h=this,p=h.constructor,v=h.d,x=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,r=h.e+t.e,c=v.length,f=x.length,c<f&&(o=v,v=x,x=o,s=c,c=f,f=s),o=[],s=c+f,n=s;n--;)o.push(0);for(n=f;--n>=0;){for(e=0,i=c+n;i>n;)u=o[i]+x[n]*v[i-n-1]+e,o[i--]=u%sr|0,e=u/sr|0;o[i]=(o[i]+e)%sr|0}for(;!o[--s];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,Ct?gt(t,p.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ei(t,0,_u),e===void 0?e=n.rounding:Ei(e,0,8),gt(r,t+Ht(r)+1,e))};Te.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ps(n,!0):(Ei(t,0,_u),e===void 0?e=i.rounding:Ei(e,0,8),n=gt(new i(n),t+1,e),r=ps(n,!0,t+1)),r};Te.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?ps(i):(Ei(t,0,_u),e===void 0?e=o.rounding:Ei(e,0,8),n=gt(new o(i),t+Ht(i)+1,e),r=ps(n.abs(),!1,t+Ht(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return gt(new e(t),Ht(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,r,n,i,o,s,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(an);if(u=new c(u),!u.s){if(t.s<1)throw Error(En+"Infinity");return u}if(u.eq(an))return u;if(n=c.precision,t.eq(an))return gt(u,n);if(e=t.e,r=t.d.length-1,s=e>=r,o=u.s,s){if((r=h<0?-h:h)<=VL){for(i=new c(an),e=Math.ceil(n/Tt+4),Ct=!1;r%2&&(i=i.times(u),SN(i.d,e)),r=wu(r/2),r!==0;)u=u.times(u),SN(u.d,e);return Ct=!0,t.s<0?new c(an).div(i):gt(i,n)}}else if(o<0)throw Error(En+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,Ct=!1,i=t.times(yf(u,n+f)),Ct=!0,i=FL(i),i.s=o,i};Te.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=Ht(i),n=ps(i,r<=o.toExpNeg||r>=o.toExpPos)):(Ei(t,1,_u),e===void 0?e=o.rounding:Ei(e,0,8),i=gt(new o(i),t,e),r=Ht(i),n=ps(i,t<=r||r<=o.toExpNeg,t)),n};Te.toSignificantDigits=Te.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ei(t,1,_u),e===void 0?e=n.rounding:Ei(e,0,8)),gt(new n(r),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ht(t),r=t.constructor;return ps(t,e<=r.toExpNeg||e>=r.toExpPos)};function BL(t,e){var r,n,i,o,s,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Ct?gt(e,p):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),o=s-i,o){for(o<0?(n=c,o=-o,u=f.length):(n=f,i=s,u=c.length),s=Math.ceil(p/Tt),u=s>u?s+1:u+1,o>u&&(o=u,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(u=c.length,o=f.length,u-o<0&&(o=u,n=f,f=c,c=n),r=0;o;)r=(c[--o]=c[o]+f[o]+r)/sr|0,c[o]%=sr;for(r&&(c.unshift(r),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Ct?gt(e,p):e}function Ei(t,e,r){if(t!==~~t||t<e||t>r)throw Error(is+t)}function di(t){var e,r,n,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)n=t[e]+"",r=Tt-n.length,r&&(o+=zo(r)),o+=n;s=t[e],n=s+"",r=Tt-n.length,r&&(o+=zo(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var to=(function(){function t(n,i){var o,s=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+s,n[u]=o%sr|0,s=o/sr|0;return s&&n.unshift(s),n}function e(n,i,o,s){var u,c;if(o!=s)c=o>s?1:-1;else for(u=c=0;u<o;u++)if(n[u]!=i[u]){c=n[u]>i[u]?1:-1;break}return c}function r(n,i,o){for(var s=0;o--;)n[o]-=s,s=n[o]<i[o]?1:0,n[o]=s*sr+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s){var u,c,f,h,p,v,x,S,T,_,O,D,k,R,C,j,A,P,N=n.constructor,B=n.s==i.s?1:-1,L=n.d,V=i.d;if(!n.s)return new N(n);if(!i.s)throw Error(En+"Division by zero");for(c=n.e-i.e,A=V.length,C=L.length,x=new N(B),S=x.d=[],f=0;V[f]==(L[f]||0);)++f;if(V[f]>(L[f]||0)&&--c,o==null?D=o=N.precision:s?D=o+(Ht(n)-Ht(i))+1:D=o,D<0)return new N(0);if(D=D/Tt+2|0,f=0,A==1)for(h=0,V=V[0],D++;(f<C||h)&&D--;f++)k=h*sr+(L[f]||0),S[f]=k/V|0,h=k%V|0;else{for(h=sr/(V[0]+1)|0,h>1&&(V=t(V,h),L=t(L,h),A=V.length,C=L.length),R=A,T=L.slice(0,A),_=T.length;_<A;)T[_++]=0;P=V.slice(),P.unshift(0),j=V[0],V[1]>=sr/2&&++j;do h=0,u=e(V,T,A,_),u<0?(O=T[0],A!=_&&(O=O*sr+(T[1]||0)),h=O/j|0,h>1?(h>=sr&&(h=sr-1),p=t(V,h),v=p.length,_=T.length,u=e(p,T,v,_),u==1&&(h--,r(p,A<v?P:V,v))):(h==0&&(u=h=1),p=V.slice()),v=p.length,v<_&&p.unshift(0),r(T,p,_),u==-1&&(_=T.length,u=e(V,T,A,_),u<1&&(h++,r(T,A<_?P:V,_))),_=T.length):u===0&&(h++,T=[0]),S[f++]=h,u&&T[0]?T[_++]=L[R]||0:(T=[L[R]],_=1);while((R++<C||T[0]!==void 0)&&D--)}return S[0]||S.shift(),x.e=c,gt(x,s?o+Ht(x)+1:o)}})();function FL(t,e){var r,n,i,o,s,u,c=0,f=0,h=t.constructor,p=h.precision;if(Ht(t)>16)throw Error(kE+Ht(t));if(!t.s)return new h(an);for(Ct=!1,u=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(n=Math.log(Wa(2,f))/Math.LN10*2+5|0,u+=n,r=i=o=new h(an),h.precision=u;;){if(i=gt(i.times(t),u),r=r.times(++c),s=o.plus(to(i,r,u)),di(s.d).slice(0,u)===di(o.d).slice(0,u)){for(;f--;)o=gt(o.times(o),u);return h.precision=p,e==null?(Ct=!0,gt(o,p)):o}o=s}}function Ht(t){for(var e=t.e*Tt,r=t.d[0];r>=10;r/=10)e++;return e}function Sb(t,e,r){if(e>t.LN10.sd())throw Ct=!0,r&&(t.precision=r),Error(En+"LN10 precision limit exceeded");return gt(new t(t.LN10),e)}function zo(t){for(var e="";t--;)e+="0";return e}function yf(t,e){var r,n,i,o,s,u,c,f,h,p=1,v=10,x=t,S=x.d,T=x.constructor,_=T.precision;if(x.s<1)throw Error(En+(x.s?"NaN":"-Infinity"));if(x.eq(an))return new T(0);if(e==null?(Ct=!1,f=_):f=e,x.eq(10))return e==null&&(Ct=!0),Sb(T,f);if(f+=v,T.precision=f,r=di(S),n=r.charAt(0),o=Ht(x),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=di(x.d),n=r.charAt(0),p++;o=Ht(x),n>1?(x=new T("0."+r),o++):x=new T(n+"."+r.slice(1))}else return c=Sb(T,f+2,_).times(o+""),x=yf(new T(n+"."+r.slice(1)),f-v).plus(c),T.precision=_,e==null?(Ct=!0,gt(x,_)):x;for(u=s=x=to(x.minus(an),x.plus(an),f),h=gt(x.times(x),f),i=3;;){if(s=gt(s.times(h),f),c=u.plus(to(s,new T(i),f)),di(c.d).slice(0,f)===di(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(Sb(T,f+2,_).times(o+""))),u=to(u,new T(p),f),T.precision=_,e==null?(Ct=!0,gt(u,_)):u;u=c,i+=2}}function TN(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=wu(r/Tt),t.d=[],n=(r+1)%Tt,r<0&&(n+=Tt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Tt;n<i;)t.d.push(+e.slice(n,n+=Tt));e=e.slice(n),n=Tt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ct&&(t.e>Fp||t.e<-Fp))throw Error(kE+r)}else t.s=0,t.e=0,t.d=[0];return t}function gt(t,e,r){var n,i,o,s,u,c,f,h,p=t.d;for(s=1,o=p[0];o>=10;o/=10)s++;if(n=e-s,n<0)n+=Tt,i=e,f=p[h=0];else{if(h=Math.ceil((n+1)/Tt),o=p.length,h>=o)return t;for(f=o=p[h],s=1;o>=10;o/=10)s++;n%=Tt,i=n-Tt+s}if(r!==void 0&&(o=Wa(10,s-i-1),u=f/o%10|0,c=e<0||p[h+1]!==void 0||f%o,c=r<4?(u||c)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||c||r==6&&(n>0?i>0?f/Wa(10,s-i):0:p[h-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return c?(o=Ht(t),p.length=1,e=e-o-1,p[0]=Wa(10,(Tt-e%Tt)%Tt),t.e=wu(-e/Tt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=h,o=1,h--):(p.length=h+1,o=Wa(10,Tt-n),p[h]=i>0?(f/Wa(10,s-i)%Wa(10,i)|0)*o:0),c)for(;;)if(h==0){(p[0]+=o)==sr&&(p[0]=1,++t.e);break}else{if(p[h]+=o,p[h]!=sr)break;p[h--]=0,o=1}for(n=p.length;p[--n]===0;)p.pop();if(Ct&&(t.e>Fp||t.e<-Fp))throw Error(kE+Ht(t));return t}function UL(t,e){var r,n,i,o,s,u,c,f,h,p,v=t.constructor,x=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Ct?gt(e,x):e;if(c=t.d,p=e.d,n=e.e,f=t.e,c=c.slice(),s=f-n,s){for(h=s<0,h?(r=c,s=-s,u=p.length):(r=p,n=f,u=c.length),i=Math.max(Math.ceil(x/Tt),u)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}s=0}for(h&&(r=c,c=p,p=r,e.s=-e.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=sr-1;--c[o],c[i]+=sr}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ct?gt(e,x):e):new v(0)}function ps(t,e,r){var n,i=Ht(t),o=di(t.d),s=o.length;return e?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+zo(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+zo(-i-1)+o,r&&(n=r-s)>0&&(o+=zo(n))):i>=s?(o+=zo(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+zo(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=zo(n))),t.s<0?"-"+o:o}function SN(t,e){if(t.length>e)return t.length=e,!0}function qL(t){var e,r,n;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(is+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return TN(s,o.toString())}else if(typeof o!="string")throw Error(is+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,KY.test(o))TN(s,o);else throw Error(is+o)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=qL,i.config=i.set=YY,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function YY(t){if(!t||typeof t!="object")throw Error(En+"Object expected");var e,r,n,i=["precision",1,_u,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(wu(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(is+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(is+r+": "+n);return this}var NE=qL(GY);an=new NE(1);const dt=NE;function XY(t){return eX(t)||ZY(t)||JY(t)||QY()}function QY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JY(t,e){if(t){if(typeof t=="string")return rw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rw(t,e)}}function ZY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function eX(t){if(Array.isArray(t))return rw(t)}function rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var tX=function(e){return e},zL={},WL=function(e){return e===zL},AN=function(e){return function r(){return arguments.length===0||arguments.length===1&&WL(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},rX=function t(e,r){return e===1?r:AN(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=i.filter(function(u){return u!==zL}).length;return s>=e?r.apply(void 0,i):t(e-s,AN(function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];var h=i.map(function(p){return WL(p)?c.shift():p});return r.apply(void 0,XY(h).concat(c))}))})},Zm=function(e){return rX(e.length,e)},nw=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},nX=Zm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),iX=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return tX;var i=r.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(u,c){return c(u)},o.apply(void 0,arguments))}},iw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},HL=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r&&o.every(function(u,c){return u===r[c]})||(r=o,n=e.apply(void 0,o)),n}};function oX(t){var e;return t===0?e=1:e=Math.floor(new dt(t).abs().log(10).toNumber())+1,e}function aX(t,e,r){for(var n=new dt(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var sX=Zm(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),lX=Zm(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),uX=Zm(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const eg={rangeStep:aX,getDigitCount:oX,interpolateNumber:sX,uninterpolateNumber:lX,uninterpolateTruncation:uX};function ow(t){return dX(t)||fX(t)||GL(t)||cX()}function cX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fX(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function dX(t){if(Array.isArray(t))return aw(t)}function vf(t,e){return mX(t)||pX(t,e)||GL(t,e)||hX()}function hX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GL(t,e){if(t){if(typeof t=="string")return aw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aw(t,e)}}function aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pX(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),u;!(n=(u=s.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,o=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}}function mX(t){if(Array.isArray(t))return t}function KL(t){var e=vf(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function YL(t,e,r){if(t.lte(0))return new dt(0);var n=eg.getDigitCount(t.toNumber()),i=new dt(10).pow(n),o=t.div(i),s=n!==1?.05:.1,u=new dt(Math.ceil(o.div(s).toNumber())).add(r).mul(s),c=u.mul(i);return e?c:new dt(Math.ceil(c))}function gX(t,e,r){var n=1,i=new dt(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new dt(10).pow(eg.getDigitCount(t)-1),i=new dt(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new dt(Math.floor(t)))}else t===0?i=new dt(Math.floor((e-1)/2)):r||(i=new dt(Math.floor(t)));var s=Math.floor((e-1)/2),u=iX(nX(function(c){return i.add(new dt(c-s).mul(n)).toNumber()}),nw);return u(0,e)}function XL(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new dt(0),tickMin:new dt(0),tickMax:new dt(0)};var o=YL(new dt(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new dt(0):(s=new dt(t).add(e).div(2),s=s.sub(new dt(s).mod(o)));var u=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new dt(e).sub(s).div(o).toNumber()),f=u+c+1;return f>r?XL(t,e,r,n,i+1):(f<r&&(c=e>0?c+(r-f):c,u=e>0?u:u+(r-f)),{step:o,tickMin:s.sub(new dt(u).mul(o)),tickMax:s.add(new dt(c).mul(o))})}function yX(t){var e=vf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),u=KL([r,n]),c=vf(u,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var p=h===1/0?[f].concat(ow(nw(0,i-1).map(function(){return 1/0}))):[].concat(ow(nw(0,i-1).map(function(){return-1/0})),[h]);return r>n?iw(p):p}if(f===h)return gX(f,i,o);var v=XL(f,h,s,o),x=v.step,S=v.tickMin,T=v.tickMax,_=eg.rangeStep(S,T.add(new dt(.1).mul(x)),x);return r>n?iw(_):_}function vX(t,e){var r=vf(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=KL([n,i]),u=vf(s,2),c=u[0],f=u[1];if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var h=Math.max(e,2),p=YL(new dt(f).sub(c).div(h-1),o,0),v=[].concat(ow(eg.rangeStep(new dt(c),new dt(f).sub(new dt(.99).mul(p)),p)),[f]);return n>i?iw(v):v}var xX=HL(yX),bX=HL(vX),_X="Invariant failed";function ms(t,e){throw new Error(_X)}var wX=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Up.apply(this,arguments)}function EX(t,e){return PX(t)||AX(t,e)||SX(t,e)||TX()}function TX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SX(t,e){if(t){if(typeof t=="string")return PN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PN(t,e)}}function PN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function PX(t){if(Array.isArray(t))return t}function IX(t,e){if(t==null)return{};var r=CX(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZL(n.key),n)}}function NX(t,e,r){return e&&kX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jX(t,e,r){return e=qp(e),RX(t,QL()?Reflect.construct(e,r||[],qp(t).constructor):e.apply(t,r))}function RX(t,e){if(e&&(Xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DX(t)}function DX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QL=function(){return!!t})()}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qp(t)}function MX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sw(t,e)}function sw(t,e){return sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sw(t,e)}function JL(t,e,r){return e=ZL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZL(t){var e=LX(t,"string");return Xl(e)=="symbol"?e:e+""}function LX(t,e){if(Xl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tg=(function(t){function e(){return OX(this,e),jX(this,e,arguments)}return MX(e,t),NX(e,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,s=n.width,u=n.dataKey,c=n.data,f=n.dataPointFormatter,h=n.xAxis,p=n.yAxis,v=IX(n,wX),x=ot(v,!1);this.props.direction==="x"&&h.type!=="number"&&ms();var S=c.map(function(T){var _=f(T,u),O=_.x,D=_.y,k=_.value,R=_.errorVal;if(!R)return null;var C=[],j,A;if(Array.isArray(R)){var P=EX(R,2);j=P[0],A=P[1]}else j=A=R;if(o==="vertical"){var N=h.scale,B=D+i,L=B+s,V=B-s,$=N(k-j),Z=N(k+A);C.push({x1:Z,y1:L,x2:Z,y2:V}),C.push({x1:$,y1:B,x2:Z,y2:B}),C.push({x1:$,y1:L,x2:$,y2:V})}else if(o==="horizontal"){var ee=p.scale,ae=O+i,se=ae-s,Q=ae+s,ie=ee(k-j),ne=ee(k+A);C.push({x1:se,y1:ne,x2:Q,y2:ne}),C.push({x1:ae,y1:ie,x2:ae,y2:ne}),C.push({x1:se,y1:ie,x2:Q,y2:ie})}return K.createElement(lr,Up({className:"recharts-errorBar",key:"bar-".concat(C.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},x),C.map(function(z){return K.createElement("line",Up({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return K.createElement(lr,{className:"recharts-errorBars"},S)}}])})(K.Component);JL(tg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});JL(tg,"displayName","ErrorBar");function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function IN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ua(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(r),!0).forEach(function(n){$X(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $X(t,e,r){return e=VX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VX(t){var e=BX(t,"string");return xf(e)=="symbol"?e:e+""}function BX(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e4=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=on(r,kl);if(!s)return null;var u=kl.defaultProps,c=u!==void 0?Ua(Ua({},u),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:o==="children"?f=(n||[]).reduce(function(h,p){var v=p.item,x=p.props,S=x.sectors||x.data||[];return h.concat(S.map(function(T){return{type:s.props.iconType||v.props.legendType,value:T.name,color:T.fill,payload:T}}))},[]):f=(n||[]).map(function(h){var p=h.item,v=p.type.defaultProps,x=v!==void 0?Ua(Ua({},v),p.props):{},S=x.dataKey,T=x.name,_=x.legendType,O=x.hide;return{inactive:O,dataKey:S,type:c.iconType||_||"square",color:jE(p),value:T||S,payload:x}}),Ua(Ua(Ua({},c),kl.getWithHeight(s,i)),{},{payload:f,item:s})};function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function CN(t){return zX(t)||qX(t)||UX(t)||FX()}function FX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UX(t,e){if(t){if(typeof t=="string")return lw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lw(t,e)}}function qX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zX(t){if(Array.isArray(t))return lw(t)}function lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ON(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(r),!0).forEach(function(n){jl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jl(t,e,r){return e=WX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WX(t){var e=HX(t,"string");return bf(e)=="symbol"?e:e+""}function HX(t,e){if(bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ti(t,e,r){return st(t)||st(e)?r:er(e)?wn(t,e,r):Ge(e)?e(t):r}function qc(t,e,r,n){var i=zY(t,function(u){return Ti(u,e)});if(r==="number"){var o=i.filter(function(u){return xe(u)||parseFloat(u)});return o.length?[Jm(o),Qm(o)]:[1/0,-1/0]}var s=n?i.filter(function(u){return!st(u)}):i;return s.map(function(u){return er(u)||u instanceof Date?u:""})}var GX=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,u=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,f=0;f<u;f++){var h=f>0?i[f-1].coordinate:i[u-1].coordinate,p=i[f].coordinate,v=f>=u-1?i[0].coordinate:i[f+1].coordinate,x=void 0;if(Fn(p-h)!==Fn(v-p)){var S=[];if(Fn(v-p)===Fn(c[1]-c[0])){x=v;var T=p+c[1]-c[0];S[0]=Math.min(T,(T+h)/2),S[1]=Math.max(T,(T+h)/2)}else{x=h;var _=v+c[1]-c[0];S[0]=Math.min(p,(_+p)/2),S[1]=Math.max(p,(_+p)/2)}var O=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(e>O[0]&&e<=O[1]||e>=S[0]&&e<=S[1]){s=i[f].index;break}}else{var D=Math.min(h,v),k=Math.max(h,v);if(e>(D+p)/2&&e<=(k+p)/2){s=i[f].index;break}}}else for(var R=0;R<u;R++)if(R===0&&e<=(n[R].coordinate+n[R+1].coordinate)/2||R>0&&R<u-1&&e>(n[R].coordinate+n[R-1].coordinate)/2&&e<=(n[R].coordinate+n[R+1].coordinate)/2||R===u-1&&e>(n[R].coordinate+n[R-1].coordinate)/2){s=n[R].index;break}return s},jE=function(e){var r,n=e,i=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,s=o.stroke,u=o.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:u;break;default:c=u;break}return c},KX=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},u=Object.keys(o),c=0,f=u.length;c<f;c++)for(var h=o[u[c]].stackGroups,p=Object.keys(h),v=0,x=p.length;v<x;v++){var S=h[p[v]],T=S.items,_=S.cateAxisId,O=T.filter(function(A){return Zi(A.type).indexOf("Bar")>=0});if(O&&O.length){var D=O[0].type.defaultProps,k=D!==void 0?Mt(Mt({},D),O[0].props):O[0].props,R=k.barSize,C=k[_];s[C]||(s[C]=[]);var j=st(R)?r:R;s[C].push({item:O[0],stackList:O.slice(1),barSize:st(j)?void 0:hs(j,n,0)})}}return s},YX=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,u=e.maxBarSize,c=s.length;if(c<1)return null;var f=hs(r,i,0,!0),h,p=[];if(s[0].barSize===+s[0].barSize){var v=!1,x=i/c,S=s.reduce(function(R,C){return R+C.barSize||0},0);S+=(c-1)*f,S>=i&&(S-=(c-1)*f,f=0),S>=i&&x>0&&(v=!0,x*=.9,S=c*x);var T=(i-S)/2>>0,_={offset:T-f,size:0};h=s.reduce(function(R,C){var j={item:C.item,position:{offset:_.offset+_.size+f,size:v?x:C.barSize}},A=[].concat(CN(R),[j]);return _=A[A.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(P){A.push({item:P,position:_})}),A},p)}else{var O=hs(n,i,0,!0);i-2*O-(c-1)*f<=0&&(f=0);var D=(i-2*O-(c-1)*f)/c;D>1&&(D>>=0);var k=u===+u?Math.min(D,u):D;h=s.reduce(function(R,C,j){var A=[].concat(CN(R),[{item:C.item,position:{offset:O+(D+f)*j+(D-k)/2,size:k}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(P){A.push({item:P,position:A[A.length-1].position})}),A},p)}return h},XX=function(e,r,n,i){var o=n.children,s=n.width,u=n.margin,c=s-(u.left||0)-(u.right||0),f=e4({children:o,legendWidth:c});if(f){var h=i||{},p=h.width,v=h.height,x=f.align,S=f.verticalAlign,T=f.layout;if((T==="vertical"||T==="horizontal"&&S==="middle")&&x!=="center"&&xe(e[x]))return Mt(Mt({},e),{},jl({},x,e[x]+(p||0)));if((T==="horizontal"||T==="vertical"&&x==="center")&&S!=="middle"&&xe(e[S]))return Mt(Mt({},e),{},jl({},S,e[S]+(v||0)))}return e},QX=function(e,r,n){return st(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},t4=function(e,r,n,i,o){var s=r.props.children,u=zn(s,tg).filter(function(f){return QX(i,o,f.props.direction)});if(u&&u.length){var c=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var p=Ti(h,n);if(st(p))return f;var v=Array.isArray(p)?[Jm(p),Qm(p)]:[p,p],x=c.reduce(function(S,T){var _=Ti(h,T,0),O=v[0]-Math.abs(Array.isArray(_)?_[0]:_),D=v[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(O,S[0]),Math.max(D,S[1])]},[1/0,-1/0]);return[Math.min(x[0],f[0]),Math.max(x[1],f[1])]},[1/0,-1/0])}return null},JX=function(e,r,n,i,o){var s=r.map(function(u){return t4(e,u,n,o,i)}).filter(function(u){return!st(u)});return s&&s.length?s.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},r4=function(e,r,n,i,o){var s=r.map(function(c){var f=c.props.dataKey;return n==="number"&&f&&t4(e,c,f,i)||qc(e,f,n,o)});if(n==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var u={};return s.reduce(function(c,f){for(var h=0,p=f.length;h<p;h++)u[f[h]]||(u[f[h]]=!0,c.push(f[h]));return c},[])},n4=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},i4=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var o,s,u=e.map(function(c){return c.coordinate===r&&(o=!0),c.coordinate===n&&(s=!0),c.coordinate});return o||u.push(r),s||u.push(n),u},Ji=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,u=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?Fn(u[0]-u[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(p){var v=o?o.indexOf(p):p;return{coordinate:i(v)+f,value:p,offset:f}});return h.filter(function(p){return!Jf(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,v){return{coordinate:i(p)+f,value:p,index:v,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,v){return{coordinate:i(p)+f,value:o?o[p]:p,index:v,offset:f}})},Ab=new WeakMap,jh=function(e,r){if(typeof r!="function")return e;Ab.has(e)||Ab.set(e,new WeakMap);var n=Ab.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},ZX=function(e,r,n){var i=e.scale,o=e.type,s=e.layout,u=e.axisType;if(i==="auto")return s==="radial"&&u==="radiusAxis"?{scale:df(),realScaleType:"band"}:s==="radial"&&u==="angleAxis"?{scale:Lp(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Uc(),realScaleType:"point"}:o==="category"?{scale:df(),realScaleType:"band"}:{scale:Lp(),realScaleType:"linear"};if(ds(i)){var c="scale".concat($m(i));return{scale:(mN[c]||Uc)(),realScaleType:mN[c]?c:"point"}}return Ge(i)?{scale:i}:{scale:Uc(),realScaleType:"point"}},kN=1e-4,eQ=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-kN,s=Math.max(i[0],i[1])+kN,u=e(r[0]),c=e(r[n-1]);(u<o||u>s||c<o||c>s)&&e.domain([r[0],r[n-1]])}},tQ=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},rQ=function(e,r){if(!r||r.length!==2||!xe(r[0])||!xe(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!xe(e[0])||e[0]<n)&&(o[0]=n),(!xe(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},nQ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,s=0,u=0;u<r;++u){var c=Jf(e[u][n][1])?e[u][n][0]:e[u][n][1];c>=0?(e[u][n][0]=o,e[u][n][1]=o+c,o=e[u][n][1]):(e[u][n][0]=s,e[u][n][1]=s+c,s=e[u][n][1])}},iQ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,s=0;s<r;++s){var u=Jf(e[s][n][1])?e[s][n][0]:e[s][n][1];u>=0?(e[s][n][0]=o,e[s][n][1]=o+u,o=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},oQ={sign:nQ,expand:Fz,none:Ul,silhouette:Uz,wiggle:qz,positive:iQ},aQ=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),o=oQ[n],s=Bz().keys(i).value(function(u,c){return+Ti(u,c,0)}).order($_).offset(o);return s(e)},sQ=function(e,r,n,i,o,s){if(!e)return null;var u=s?r.reverse():r,c={},f=u.reduce(function(p,v){var x,S=(x=v.type)!==null&&x!==void 0&&x.defaultProps?Mt(Mt({},v.type.defaultProps),v.props):v.props,T=S.stackId,_=S.hide;if(_)return p;var O=S[n],D=p[O]||{hasStack:!1,stackGroups:{}};if(er(T)){var k=D.stackGroups[T]||{numericAxisId:n,cateAxisId:i,items:[]};k.items.push(v),D.hasStack=!0,D.stackGroups[T]=k}else D.stackGroups[Lm("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[v]};return Mt(Mt({},p),{},jl({},O,D))},c),h={};return Object.keys(f).reduce(function(p,v){var x=f[v];if(x.hasStack){var S={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(T,_){var O=x.stackGroups[_];return Mt(Mt({},T),{},jl({},_,{numericAxisId:n,cateAxisId:i,items:O.items,stackedData:aQ(e,O.items,o)}))},S)}return Mt(Mt({},p),{},jl({},v,x))},h)},lQ=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,s=r.originalDomain,u=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=xX(f,o,u);return e.domain([Jm(h),Qm(h)]),{niceTicks:h}}if(o&&i==="number"){var p=e.domain(),v=bX(p,o,u);return{niceTicks:v}}return null},NN=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var c=Ti(s,r.dataKey,r.domain[u]);return st(c)?null:r.scale(c)-o/2+i},uQ=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},cQ=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(er(o)){var s=r[o];if(s){var u=s.items.indexOf(e);return u>=0?s.stackedData[u]:null}}return null},fQ=function(e){return e.reduce(function(r,n){return[Jm(n.concat([r[0]]).filter(xe)),Qm(n.concat([r[1]]).filter(xe))]},[1/0,-1/0])},o4=function(e,r,n){return Object.keys(e).reduce(function(i,o){var s=e[o],u=s.stackedData,c=u.reduce(function(f,h){var p=fQ(h.slice(r,n+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},jN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uw=function(e,r,n){if(Ge(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(xe(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(jN.test(e[0])){var o=+jN.exec(e[0])[1];i[0]=r[0]-o}else Ge(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(xe(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(RN.test(e[1])){var s=+RN.exec(e[1])[1];i[1]=r[1]+s}else Ge(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},zp=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=oE(r,function(p){return p.coordinate}),s=1/0,u=1,c=o.length;u<c;u++){var f=o[u],h=o[u-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},DN=function(e,r,n){return!e||!e.length||OE(e,wn(n,"type.defaultProps.domain"))?r:e},a4=function(e,r){var n=e.type.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,o=n.name,s=n.unit,u=n.formatter,c=n.tooltipType,f=n.chartType,h=n.hide;return Mt(Mt({},ot(e,!1)),{},{dataKey:i,unit:s,formatter:u,name:o||i,color:jE(e),value:Ti(r,i),type:c,payload:r,chartType:f,hide:h})};function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function MN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(r),!0).forEach(function(n){dQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dQ(t,e,r){return e=hQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hQ(t){var e=pQ(t,"string");return _f(e)=="symbol"?e:e+""}function pQ(t,e){if(_f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wp=Math.PI/180,mQ=function(e){return e*180/Math.PI},yr=function(e,r,n,i){return{x:e+Math.cos(-Wp*i)*n,y:r+Math.sin(-Wp*i)*n}},gQ=function(e,r){var n=e.x,i=e.y,o=r.x,s=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-s,2))},yQ=function(e,r){var n=e.x,i=e.y,o=r.cx,s=r.cy,u=gQ({x:n,y:i},{x:o,y:s});if(u<=0)return{radius:u};var c=(n-o)/u,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:u,angle:mQ(f),angleInRadian:f}},vQ=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),s=Math.min(i,o);return{startAngle:r-s*360,endAngle:n-s*360}},xQ=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),s=Math.floor(i/360),u=Math.min(o,s);return e+u*360},$N=function(e,r){var n=e.x,i=e.y,o=yQ({x:n,y:i},r),s=o.radius,u=o.angle,c=r.innerRadius,f=r.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=vQ(r),p=h.startAngle,v=h.endAngle,x=u,S;if(p<=v){for(;x>v;)x-=360;for(;x<p;)x+=360;S=x>=p&&x<=v}else{for(;x>p;)x-=360;for(;x<v;)x+=360;S=x>=v&&x<=p}return S?LN(LN({},r),{},{radius:s,angle:xQ(x,r)}):null};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}var bQ=["offset"];function _Q(t){return SQ(t)||TQ(t)||EQ(t)||wQ()}function wQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EQ(t,e){if(t){if(typeof t=="string")return cw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cw(t,e)}}function TQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SQ(t){if(Array.isArray(t))return cw(t)}function cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AQ(t,e){if(t==null)return{};var r=PQ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function PQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function VN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VN(Object(r),!0).forEach(function(n){IQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IQ(t,e,r){return e=CQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CQ(t){var e=OQ(t,"string");return wf(e)=="symbol"?e:e+""}function OQ(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ef.apply(this,arguments)}var kQ=function(e){var r=e.value,n=e.formatter,i=st(e.children)?r:e.children;return Ge(n)?n(i):i},NQ=function(e,r){var n=Fn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},jQ=function(e,r,n){var i=e.position,o=e.viewBox,s=e.offset,u=e.className,c=o,f=c.cx,h=c.cy,p=c.innerRadius,v=c.outerRadius,x=c.startAngle,S=c.endAngle,T=c.clockWise,_=(p+v)/2,O=NQ(x,S),D=O>=0?1:-1,k,R;i==="insideStart"?(k=x+D*s,R=T):i==="insideEnd"?(k=S-D*s,R=!T):i==="end"&&(k=S+D*s,R=T),R=O<=0?R:!R;var C=yr(f,h,_,k),j=yr(f,h,_,k+(R?1:-1)*359),A="M".concat(C.x,",").concat(C.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(R?0:1,`,
    `).concat(j.x,",").concat(j.y),P=st(e.id)?Lm("recharts-radial-line-"):e.id;return K.createElement("text",Ef({},n,{dominantBaseline:"central",className:at("recharts-radial-bar-label",u)}),K.createElement("defs",null,K.createElement("path",{id:P,d:A})),K.createElement("textPath",{xlinkHref:"#".concat(P)},r))},RQ=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,s=o.cx,u=o.cy,c=o.innerRadius,f=o.outerRadius,h=o.startAngle,p=o.endAngle,v=(h+p)/2;if(i==="outside"){var x=yr(s,u,f+n,v),S=x.x,T=x.y;return{x:S,y:T,textAnchor:S>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"end"};var _=(c+f)/2,O=yr(s,u,_,v),D=O.x,k=O.y;return{x:D,y:k,textAnchor:"middle",verticalAnchor:"middle"}},DQ=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,s=r,u=s.x,c=s.y,f=s.width,h=s.height,p=h>=0?1:-1,v=p*i,x=p>0?"end":"start",S=p>0?"start":"end",T=f>=0?1:-1,_=T*i,O=T>0?"end":"start",D=T>0?"start":"end";if(o==="top"){var k={x:u+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:x};return Qt(Qt({},k),n?{height:Math.max(c-n.y,0),width:f}:{})}if(o==="bottom"){var R={x:u+f/2,y:c+h+v,textAnchor:"middle",verticalAnchor:S};return Qt(Qt({},R),n?{height:Math.max(n.y+n.height-(c+h),0),width:f}:{})}if(o==="left"){var C={x:u-_,y:c+h/2,textAnchor:O,verticalAnchor:"middle"};return Qt(Qt({},C),n?{width:Math.max(C.x-n.x,0),height:h}:{})}if(o==="right"){var j={x:u+f+_,y:c+h/2,textAnchor:D,verticalAnchor:"middle"};return Qt(Qt({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:h}:{})}var A=n?{width:f,height:h}:{};return o==="insideLeft"?Qt({x:u+_,y:c+h/2,textAnchor:D,verticalAnchor:"middle"},A):o==="insideRight"?Qt({x:u+f-_,y:c+h/2,textAnchor:O,verticalAnchor:"middle"},A):o==="insideTop"?Qt({x:u+f/2,y:c+v,textAnchor:"middle",verticalAnchor:S},A):o==="insideBottom"?Qt({x:u+f/2,y:c+h-v,textAnchor:"middle",verticalAnchor:x},A):o==="insideTopLeft"?Qt({x:u+_,y:c+v,textAnchor:D,verticalAnchor:S},A):o==="insideTopRight"?Qt({x:u+f-_,y:c+v,textAnchor:O,verticalAnchor:S},A):o==="insideBottomLeft"?Qt({x:u+_,y:c+h-v,textAnchor:D,verticalAnchor:x},A):o==="insideBottomRight"?Qt({x:u+f-_,y:c+h-v,textAnchor:O,verticalAnchor:x},A):vu(o)&&(xe(o.x)||Ya(o.x))&&(xe(o.y)||Ya(o.y))?Qt({x:u+hs(o.x,f),y:c+hs(o.y,h),textAnchor:"end",verticalAnchor:"end"},A):Qt({x:u+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},A)},MQ=function(e){return"cx"in e&&xe(e.cx)};function Cr(t){var e=t.offset,r=e===void 0?5:e,n=AQ(t,bQ),i=Qt({offset:r},n),o=i.viewBox,s=i.position,u=i.value,c=i.children,f=i.content,h=i.className,p=h===void 0?"":h,v=i.textBreakAll;if(!o||st(u)&&st(c)&&!q.isValidElement(f)&&!Ge(f))return null;if(q.isValidElement(f))return q.cloneElement(f,i);var x;if(Ge(f)){if(x=q.createElement(f,i),q.isValidElement(x))return x}else x=kQ(i);var S=MQ(o),T=ot(i,!0);if(S&&(s==="insideStart"||s==="insideEnd"||s==="end"))return jQ(i,x,T);var _=S?RQ(i):DQ(i);return K.createElement(Cp,Ef({className:at("recharts-label",p)},T,_,{breakAll:v}),x)}Cr.displayName="Label";var s4=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,u=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,p=e.x,v=e.y,x=e.top,S=e.left,T=e.width,_=e.height,O=e.clockWise,D=e.labelViewBox;if(D)return D;if(xe(T)&&xe(_)){if(xe(p)&&xe(v))return{x:p,y:v,width:T,height:_};if(xe(x)&&xe(S))return{x,y:S,width:T,height:_}}return xe(p)&&xe(v)?{x:p,y:v,width:0,height:0}:xe(r)&&xe(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||u||0,clockWise:O}:e.viewBox?e.viewBox:{}},LQ=function(e,r){return e?e===!0?K.createElement(Cr,{key:"label-implicit",viewBox:r}):er(e)?K.createElement(Cr,{key:"label-implicit",viewBox:r,value:e}):q.isValidElement(e)?e.type===Cr?q.cloneElement(e,{key:"label-implicit",viewBox:r}):K.createElement(Cr,{key:"label-implicit",content:e,viewBox:r}):Ge(e)?K.createElement(Cr,{key:"label-implicit",content:e,viewBox:r}):vu(e)?K.createElement(Cr,Ef({viewBox:r},e,{key:"label-implicit"})):null:null},$Q=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=s4(e),s=zn(i,Cr).map(function(c,f){return q.cloneElement(c,{viewBox:r||o,key:"label-".concat(f)})});if(!n)return s;var u=LQ(e.label,r||o);return[u].concat(_Q(s))};Cr.parseViewBox=s4;Cr.renderCallByParent=$Q;var Pb,BN;function VQ(){if(BN)return Pb;BN=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Pb=t,Pb}var BQ=VQ();const FQ=ht(BQ);function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}var UQ=["valueAccessor"],qQ=["data","dataKey","clockWise","id","textBreakAll"];function zQ(t){return KQ(t)||GQ(t)||HQ(t)||WQ()}function WQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HQ(t,e){if(t){if(typeof t=="string")return fw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fw(t,e)}}function GQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KQ(t){if(Array.isArray(t))return fw(t)}function fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hp(){return Hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hp.apply(this,arguments)}function FN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(r),!0).forEach(function(n){YQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YQ(t,e,r){return e=XQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XQ(t){var e=QQ(t,"string");return Tf(e)=="symbol"?e:e+""}function QQ(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qN(t,e){if(t==null)return{};var r=JQ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ZQ=function(e){return Array.isArray(e.value)?FQ(e.value):e.value};function os(t){var e=t.valueAccessor,r=e===void 0?ZQ:e,n=qN(t,UQ),i=n.data,o=n.dataKey,s=n.clockWise,u=n.id,c=n.textBreakAll,f=qN(n,qQ);return!i||!i.length?null:K.createElement(lr,{className:"recharts-label-list"},i.map(function(h,p){var v=st(o)?r(h,p):Ti(h&&h.payload,o),x=st(u)?{}:{id:"".concat(u,"-").concat(p)};return K.createElement(Cr,Hp({},ot(h,!0),f,x,{parentViewBox:h.parentViewBox,value:v,textBreakAll:c,viewBox:Cr.parseViewBox(st(s)?h:UN(UN({},h),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}os.displayName="LabelList";function eJ(t,e){return t?t===!0?K.createElement(os,{key:"labelList-implicit",data:e}):K.isValidElement(t)||Ge(t)?K.createElement(os,{key:"labelList-implicit",data:e,content:t}):vu(t)?K.createElement(os,Hp({data:e},t,{key:"labelList-implicit"})):null:null}function tJ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=zn(n,os).map(function(s,u){return q.cloneElement(s,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var o=eJ(t.label,e);return[o].concat(zQ(i))}os.renderCallByParent=tJ;function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dw.apply(this,arguments)}function zN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(r),!0).forEach(function(n){rJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rJ(t,e,r){return e=nJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nJ(t){var e=iJ(t,"string");return Sf(e)=="symbol"?e:e+""}function iJ(t,e){if(Sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oJ=function(e,r){var n=Fn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Rh=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,s=e.sign,u=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(u?1:-1)+i,p=Math.asin(c/h)/Wp,v=f?o:o+s*p,x=yr(r,n,h,v),S=yr(r,n,i,v),T=f?o-s*p:o,_=yr(r,n,h*Math.cos(p*Wp),T);return{center:x,circleTangency:S,lineTangency:_,theta:p}},l4=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,u=e.endAngle,c=oJ(s,u),f=s+c,h=yr(r,n,o,s),p=yr(r,n,o,f),v="M ".concat(h.x,",").concat(h.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var x=yr(r,n,i,s),S=yr(r,n,i,f);v+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},aJ=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,p=Fn(h-f),v=Rh({cx:r,cy:n,radius:o,angle:f,sign:p,cornerRadius:s,cornerIsExternal:c}),x=v.circleTangency,S=v.lineTangency,T=v.theta,_=Rh({cx:r,cy:n,radius:o,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:c}),O=_.circleTangency,D=_.lineTangency,k=_.theta,R=c?Math.abs(f-h):Math.abs(f-h)-T-k;if(R<0)return u?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):l4({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h});var C="M ".concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(R>180),",").concat(+(p<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,`
  `);if(i>0){var j=Rh({cx:r,cy:n,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=j.circleTangency,P=j.lineTangency,N=j.theta,B=Rh({cx:r,cy:n,radius:i,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),L=B.circleTangency,V=B.lineTangency,$=B.theta,Z=c?Math.abs(f-h):Math.abs(f-h)-N-$;if(Z<0&&s===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(V.x,",").concat(V.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Z>180),",").concat(+(p>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},sJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},u4=function(e){var r=WN(WN({},sJ),e),n=r.cx,i=r.cy,o=r.innerRadius,s=r.outerRadius,u=r.cornerRadius,c=r.forceCornerRadius,f=r.cornerIsExternal,h=r.startAngle,p=r.endAngle,v=r.className;if(s<o||h===p)return null;var x=at("recharts-sector",v),S=s-o,T=hs(u,S,0,!0),_;return T>0&&Math.abs(h-p)<360?_=aJ({cx:n,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(T,S/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:p}):_=l4({cx:n,cy:i,innerRadius:o,outerRadius:s,startAngle:h,endAngle:p}),K.createElement("path",dw({},ot(r,!0),{className:x,d:_,role:"img"}))};function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hw.apply(this,arguments)}function HN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HN(Object(r),!0).forEach(function(n){lJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lJ(t,e,r){return e=uJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uJ(t){var e=cJ(t,"string");return Af(e)=="symbol"?e:e+""}function cJ(t,e){if(Af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KN={curveBasisClosed:Cz,curveBasisOpen:Oz,curveBasis:Iz,curveBumpX:pz,curveBumpY:mz,curveLinearClosed:kz,curveLinear:Bm,curveMonotoneX:Nz,curveMonotoneY:jz,curveNatural:Rz,curveStep:Dz,curveStepAfter:Lz,curveStepBefore:Mz},Dh=function(e){return e.x===+e.x&&e.y===+e.y},wc=function(e){return e.x},Ec=function(e){return e.y},fJ=function(e,r){if(Ge(e))return e;var n="curve".concat($m(e));return(n==="curveMonotone"||n==="curveBump")&&r?KN["".concat(n).concat(r==="vertical"?"Y":"X")]:KN[n]||Bm},dJ=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,s=e.baseLine,u=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=fJ(n,u),p=f?o.filter(function(T){return Dh(T)}):o,v;if(Array.isArray(s)){var x=f?s.filter(function(T){return Dh(T)}):s,S=p.map(function(T,_){return GN(GN({},T),{},{base:x[_]})});return u==="vertical"?v=Ah().y(Ec).x1(wc).x0(function(T){return T.base.x}):v=Ah().x(wc).y1(Ec).y0(function(T){return T.base.y}),v.defined(Dh).curve(h),v(S)}return u==="vertical"&&xe(s)?v=Ah().y(Ec).x1(wc).x0(s):xe(s)?v=Ah().x(wc).y1(Ec).y0(s):v=mM().x(wc).y(Ec),v.defined(Dh).curve(h),v(p)},YN=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?dJ(e):i;return q.createElement("path",hw({},ot(e,!1),yp(e),{className:at("recharts-curve",r),d:s,ref:o}))},Ib={exports:{}},Cb,XN;function hJ(){if(XN)return Cb;XN=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Cb=t,Cb}var Ob,QN;function pJ(){if(QN)return Ob;QN=1;var t=hJ();function e(){}function r(){}return r.resetWarningCache=e,Ob=function(){function n(s,u,c,f,h,p){if(p!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},Ob}var JN;function mJ(){return JN||(JN=1,Ib.exports=pJ()()),Ib.exports}var gJ=mJ();const ut=ht(gJ),{getOwnPropertyNames:yJ,getOwnPropertySymbols:vJ}=Object,{hasOwnProperty:xJ}=Object.prototype;function kb(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function Mh(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:o}=i,s=o.get(r),u=o.get(n);if(s&&u)return s===n&&u===r;o.set(r,n),o.set(n,r);const c=t(r,n,i);return o.delete(r),o.delete(n),c}}function bJ(t){return t!=null?t[Symbol.toStringTag]:void 0}function ZN(t){return yJ(t).concat(vJ(t))}const _J=Object.hasOwn||((t,e)=>xJ.call(t,e));function Ss(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const wJ="__v",EJ="__o",TJ="_owner",{getOwnPropertyDescriptor:ej,keys:tj}=Object;function SJ(t,e){return t.byteLength===e.byteLength&&Gp(new Uint8Array(t),new Uint8Array(e))}function AJ(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function PJ(t,e){return t.byteLength===e.byteLength&&Gp(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function IJ(t,e){return Ss(t.getTime(),e.getTime())}function CJ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function OJ(t,e){return t===e}function rj(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),o=t.entries();let s,u,c=0;for(;(s=o.next())&&!s.done;){const f=e.entries();let h=!1,p=0;for(;(u=f.next())&&!u.done;){if(i[p]){p++;continue}const v=s.value,x=u.value;if(r.equals(v[0],x[0],c,p,t,e,r)&&r.equals(v[1],x[1],v[0],x[0],t,e,r)){h=i[p]=!0;break}p++}if(!h)return!1;c++}return!0}const kJ=Ss;function NJ(t,e,r){const n=tj(t);let i=n.length;if(tj(e).length!==i)return!1;for(;i-- >0;)if(!c4(t,e,r,n[i]))return!1;return!0}function Tc(t,e,r){const n=ZN(t);let i=n.length;if(ZN(e).length!==i)return!1;let o,s,u;for(;i-- >0;)if(o=n[i],!c4(t,e,r,o)||(s=ej(t,o),u=ej(e,o),(s||u)&&(!s||!u||s.configurable!==u.configurable||s.enumerable!==u.enumerable||s.writable!==u.writable)))return!1;return!0}function jJ(t,e){return Ss(t.valueOf(),e.valueOf())}function RJ(t,e){return t.source===e.source&&t.flags===e.flags}function nj(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),o=t.values();let s,u;for(;(s=o.next())&&!s.done;){const c=e.values();let f=!1,h=0;for(;(u=c.next())&&!u.done;){if(!i[h]&&r.equals(s.value,u.value,s.value,u.value,t,e,r)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function Gp(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function DJ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function c4(t,e,r,n){return(n===TJ||n===EJ||n===wJ)&&(t.$$typeof||e.$$typeof)?!0:_J(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const MJ="[object ArrayBuffer]",LJ="[object Arguments]",$J="[object Boolean]",VJ="[object DataView]",BJ="[object Date]",FJ="[object Error]",UJ="[object Map]",qJ="[object Number]",zJ="[object Object]",WJ="[object RegExp]",HJ="[object Set]",GJ="[object String]",KJ={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},YJ="[object URL]",XJ=Object.prototype.toString;function QJ({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:u,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:p,areTypedArraysEqual:v,areUrlsEqual:x,unknownTagComparators:S}){return function(_,O,D){if(_===O)return!0;if(_==null||O==null)return!1;const k=typeof _;if(k!==typeof O)return!1;if(k!=="object")return k==="number"?u(_,O,D):k==="function"?o(_,O,D):!1;const R=_.constructor;if(R!==O.constructor)return!1;if(R===Object)return c(_,O,D);if(Array.isArray(_))return e(_,O,D);if(R===Date)return n(_,O,D);if(R===RegExp)return h(_,O,D);if(R===Map)return s(_,O,D);if(R===Set)return p(_,O,D);const C=XJ.call(_);if(C===BJ)return n(_,O,D);if(C===WJ)return h(_,O,D);if(C===UJ)return s(_,O,D);if(C===HJ)return p(_,O,D);if(C===zJ)return typeof _.then!="function"&&typeof O.then!="function"&&c(_,O,D);if(C===YJ)return x(_,O,D);if(C===FJ)return i(_,O,D);if(C===LJ)return c(_,O,D);if(KJ[C])return v(_,O,D);if(C===MJ)return t(_,O,D);if(C===VJ)return r(_,O,D);if(C===$J||C===qJ||C===GJ)return f(_,O,D);if(S){let j=S[C];if(!j){const A=bJ(_);A&&(j=S[A])}if(j)return j(_,O,D)}return!1}}function JJ({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:SJ,areArraysEqual:r?Tc:AJ,areDataViewsEqual:PJ,areDatesEqual:IJ,areErrorsEqual:CJ,areFunctionsEqual:OJ,areMapsEqual:r?kb(rj,Tc):rj,areNumbersEqual:kJ,areObjectsEqual:r?Tc:NJ,arePrimitiveWrappersEqual:jJ,areRegExpsEqual:RJ,areSetsEqual:r?kb(nj,Tc):nj,areTypedArraysEqual:r?kb(Gp,Tc):Gp,areUrlsEqual:DJ,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=Mh(n.areArraysEqual),o=Mh(n.areMapsEqual),s=Mh(n.areObjectsEqual),u=Mh(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:u})}return n}function ZJ(t){return function(e,r,n,i,o,s,u){return t(e,r,u)}}function eZ({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(u,c){const{cache:f=t?new WeakMap:void 0,meta:h}=r();return e(u,c,{cache:f,equals:n,meta:h,strict:i})};if(t)return function(u,c){return e(u,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const o={cache:void 0,equals:n,meta:void 0,strict:i};return function(u,c){return e(u,c,o)}}const tZ=pa();pa({strict:!0});pa({circular:!0});pa({circular:!0,strict:!0});pa({createInternalComparator:()=>Ss});pa({strict:!0,createInternalComparator:()=>Ss});pa({circular:!0,createInternalComparator:()=>Ss});pa({circular:!0,createInternalComparator:()=>Ss,strict:!0});function pa(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,o=JJ(t),s=QJ(o),u=r?r(s):ZJ(s);return eZ({circular:e,comparator:s,createState:n,equals:u,strict:i})}function rZ(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function ij(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):rZ(i)};requestAnimationFrame(n)}function pw(t){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pw(t)}function nZ(t){return sZ(t)||aZ(t)||oZ(t)||iZ()}function iZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oZ(t,e){if(t){if(typeof t=="string")return oj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oj(t,e)}}function oj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sZ(t){if(Array.isArray(t))return t}function lZ(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,u=nZ(s),c=u[0],f=u.slice(1);if(typeof c=="number"){ij(i.bind(null,f),c);return}i(c),ij(i.bind(null,f));return}pw(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function aj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aj(Object(r),!0).forEach(function(n){f4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f4(t,e,r){return e=uZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uZ(t){var e=cZ(t,"string");return Pf(e)==="symbol"?e:String(e)}function cZ(t,e){if(Pf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fZ=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},dZ=function(e){return e},hZ=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},zc=function(e,r){return Object.keys(r).reduce(function(n,i){return sj(sj({},n),{},f4({},i,e(i,r[i])))},{})},lj=function(e,r,n){return e.map(function(i){return"".concat(hZ(i)," ").concat(r,"ms ").concat(n)}).join(",")};function pZ(t,e){return yZ(t)||gZ(t,e)||d4(t,e)||mZ()}function mZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function yZ(t){if(Array.isArray(t))return t}function vZ(t){return _Z(t)||bZ(t)||d4(t)||xZ()}function xZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d4(t,e){if(t){if(typeof t=="string")return mw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mw(t,e)}}function bZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Z(t){if(Array.isArray(t))return mw(t)}function mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Kp=1e-4,h4=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},p4=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},uj=function(e,r){return function(n){var i=h4(e,r);return p4(i,n)}},wZ=function(e,r){return function(n){var i=h4(e,r),o=[].concat(vZ(i.map(function(s,u){return s*u}).slice(1)),[0]);return p4(o,n)}},cj=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],s=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,s=1,u=1;break;case"ease":i=.25,o=.1,s=.25,u=1;break;case"ease-in":i=.42,o=0,s=1,u=1;break;case"ease-out":i=.42,o=0,s=.58,u=1;break;case"ease-in-out":i=0,o=0,s=.58,u=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),h=pZ(f,4);i=h[0],o=h[1],s=h[2],u=h[3]}}}var p=uj(i,s),v=uj(o,u),x=wZ(i,s),S=function(O){return O>1?1:O<0?0:O},T=function(O){for(var D=O>1?1:O,k=D,R=0;R<8;++R){var C=p(k)-D,j=x(k);if(Math.abs(C-D)<Kp||j<Kp)return v(k);k=S(k-C/j)}return v(k)};return T.isStepper=!1,T},EZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,s=e.dt,u=s===void 0?17:s,c=function(h,p,v){var x=-(h-p)*n,S=v*o,T=v+(x-S)*u/1e3,_=v*u/1e3+h;return Math.abs(_-p)<Kp&&Math.abs(T)<Kp?[p,0]:[_,T]};return c.isStepper=!0,c.dt=u,c},TZ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cj(i);case"spring":return EZ();default:if(i.split("(")[0]==="cubic-bezier")return cj(i)}return typeof i=="function"?i:null};function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function fj(t){return PZ(t)||AZ(t)||m4(t)||SZ()}function SZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PZ(t){if(Array.isArray(t))return yw(t)}function dj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dj(Object(r),!0).forEach(function(n){gw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gw(t,e,r){return e=IZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IZ(t){var e=CZ(t,"string");return If(e)==="symbol"?e:String(e)}function CZ(t,e){if(If(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(If(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OZ(t,e){return jZ(t)||NZ(t,e)||m4(t,e)||kZ()}function kZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m4(t,e){if(t){if(typeof t=="string")return yw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yw(t,e)}}function yw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function jZ(t){if(Array.isArray(t))return t}var Yp=function(e,r,n){return e+(r-e)*n},vw=function(e){var r=e.from,n=e.to;return r!==n},RZ=function t(e,r,n){var i=zc(function(o,s){if(vw(s)){var u=e(s.from,s.to,s.velocity),c=OZ(u,2),f=c[0],h=c[1];return pr(pr({},s),{},{from:f,velocity:h})}return s},r);return n<1?zc(function(o,s){return vw(s)?pr(pr({},s),{},{velocity:Yp(s.velocity,i[o].velocity,n),from:Yp(s.from,i[o].from,n)}):s},r):t(e,i,n-1)};const DZ=(function(t,e,r,n,i){var o=fZ(t,e),s=o.reduce(function(_,O){return pr(pr({},_),{},gw({},O,[t[O],e[O]]))},{}),u=o.reduce(function(_,O){return pr(pr({},_),{},gw({},O,{from:t[O],velocity:0,to:e[O]}))},{}),c=-1,f,h,p=function(){return null},v=function(){return zc(function(O,D){return D.from},u)},x=function(){return!Object.values(u).filter(vw).length},S=function(O){f||(f=O);var D=O-f,k=D/r.dt;u=RZ(r,u,k),i(pr(pr(pr({},t),e),v())),f=O,x()||(c=requestAnimationFrame(p))},T=function(O){h||(h=O);var D=(O-h)/n,k=zc(function(C,j){return Yp.apply(void 0,fj(j).concat([r(D)]))},s);if(i(pr(pr(pr({},t),e),k)),D<1)c=requestAnimationFrame(p);else{var R=zc(function(C,j){return Yp.apply(void 0,fj(j).concat([r(1)]))},s);i(pr(pr(pr({},t),e),R))}};return p=r.isStepper?S:T,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}});function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}var MZ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function LZ(t,e){if(t==null)return{};var r=$Z(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $Z(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Nb(t){return UZ(t)||FZ(t)||BZ(t)||VZ()}function VZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BZ(t,e){if(t){if(typeof t=="string")return xw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xw(t,e)}}function FZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UZ(t){if(Array.isArray(t))return xw(t)}function xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hj(Object(r),!0).forEach(function(n){jc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jc(t,e,r){return e=g4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g4(n.key),n)}}function WZ(t,e,r){return e&&zZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function g4(t){var e=HZ(t,"string");return Ql(e)==="symbol"?e:String(e)}function HZ(t,e){if(Ql(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ql(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bw(t,e)}function bw(t,e){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bw(t,e)}function KZ(t){var e=YZ();return function(){var n=Xp(t),i;if(e){var o=Xp(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return _w(this,i)}}function _w(t,e){if(e&&(Ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ww(t)}function ww(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xp(t)}var ua=(function(t){GZ(r,t);var e=KZ(r);function r(n,i){var o;qZ(this,r),o=e.call(this,n,i);var s=o.props,u=s.isActive,c=s.attributeName,f=s.from,h=s.to,p=s.steps,v=s.children,x=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(ww(o)),o.changeStyle=o.changeStyle.bind(ww(o)),!u||x<=0)return o.state={style:{}},typeof v=="function"&&(o.state={style:h}),_w(o);if(p&&p.length)o.state={style:p[0].style};else if(f){if(typeof v=="function")return o.state={style:f},_w(o);o.state={style:c?jc({},c,f):f}}else o.state={style:{}};return o}return WZ(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,u=o.canBegin,c=o.attributeName,f=o.shouldReAnimate,h=o.to,p=o.from,v=this.state.style;if(u){if(!s){var x={style:c?jc({},c,h):h};this.state&&v&&(c&&v[c]!==h||!c&&v!==h)&&this.setState(x);return}if(!(tZ(i.to,h)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var T=S||f?p:i.to;if(this.state&&v){var _={style:c?jc({},c,T):T};(c&&v[c]!==T||!c&&v!==T)&&this.setState(_)}this.runAnimation(Dn(Dn({},this.props),{},{from:T,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,u=i.to,c=i.duration,f=i.easing,h=i.begin,p=i.onAnimationEnd,v=i.onAnimationStart,x=DZ(s,u,TZ(f),c,this.changeStyle),S=function(){o.stopJSAnimation=x()};this.manager.start([v,h,S,c,p])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,u=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,p=f.duration,v=p===void 0?0:p,x=function(T,_,O){if(O===0)return T;var D=_.duration,k=_.easing,R=k===void 0?"ease":k,C=_.style,j=_.properties,A=_.onAnimationEnd,P=O>0?s[O-1]:_,N=j||Object.keys(C);if(typeof R=="function"||R==="spring")return[].concat(Nb(T),[o.runJSAnimation.bind(o,{from:P.style,to:C,duration:D,easing:R}),D]);var B=lj(N,D,R),L=Dn(Dn(Dn({},P.style),C),{},{transition:B});return[].concat(Nb(T),[L,D,A]).filter(dZ)};return this.manager.start([c].concat(Nb(s.reduce(x,[h,Math.max(v,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=lZ());var o=i.begin,s=i.duration,u=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,p=i.onAnimationEnd,v=i.steps,x=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof f=="function"||typeof x=="function"||f==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var T=u?jc({},u,c):c,_=lj(Object.keys(T),s,f);S.start([h,o,Dn(Dn({},T),{},{transition:_}),s,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=LZ(i,MZ),f=q.Children.count(o),h=this.state.style;if(typeof o=="function")return o(h);if(!u||f===0||s<=0)return o;var p=function(x){var S=x.props,T=S.style,_=T===void 0?{}:T,O=S.className,D=q.cloneElement(x,Dn(Dn({},c),{},{style:Dn(Dn({},_),h),className:O}));return D};return f===1?p(q.Children.only(o)):K.createElement("div",null,q.Children.map(o,function(v){return p(v)}))}}]),r})(q.PureComponent);ua.displayName="Animate";ua.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ua.propTypes={from:ut.oneOfType([ut.object,ut.string]),to:ut.oneOfType([ut.object,ut.string]),attributeName:ut.string,duration:ut.number,begin:ut.number,easing:ut.oneOfType([ut.string,ut.func]),steps:ut.arrayOf(ut.shape({duration:ut.number.isRequired,style:ut.object.isRequired,easing:ut.oneOfType([ut.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ut.func]),properties:ut.arrayOf("string"),onAnimationEnd:ut.func})),children:ut.oneOfType([ut.node,ut.func]),isActive:ut.bool,canBegin:ut.bool,onAnimationEnd:ut.func,shouldReAnimate:ut.bool,onAnimationStart:ut.func,onAnimationReStart:ut.func};function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Qp(){return Qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qp.apply(this,arguments)}function XZ(t,e){return eee(t)||ZZ(t,e)||JZ(t,e)||QZ()}function QZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JZ(t,e){if(t){if(typeof t=="string")return pj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pj(t,e)}}function pj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function eee(t){if(Array.isArray(t))return t}function mj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mj(Object(r),!0).forEach(function(n){tee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tee(t,e,r){return e=ree(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ree(t){var e=nee(t,"string");return Cf(e)=="symbol"?e:e+""}function nee(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yj=function(e,r,n,i,o){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,c=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,h;if(s>0&&o instanceof Array){for(var p=[0,0,0,0],v=0,x=4;v<x;v++)p[v]=o[v]>s?s:o[v];h="M".concat(e,",").concat(r+u*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(r)),h+="L ".concat(e+n-c*p[1],",").concat(r),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+u*p[1])),h+="L ".concat(e+n,",").concat(r+i-u*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+n-c*p[2],",").concat(r+i)),h+="L ".concat(e+c*p[3],",").concat(r+i),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-u*p[3])),h+="Z"}else if(s>0&&o===+o&&o>0){var S=Math.min(s,o);h="M ".concat(e,",").concat(r+u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+c*S,",").concat(r,`
            L `).concat(e+n-c*S,",").concat(r,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+n,",").concat(r+u*S,`
            L `).concat(e+n,",").concat(r+i-u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+n-c*S,",").concat(r+i,`
            L `).concat(e+c*S,",").concat(r+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e,",").concat(r+i-u*S," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return h},iee=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,s=r.y,u=r.width,c=r.height;if(Math.abs(u)>0&&Math.abs(c)>0){var f=Math.min(o,o+u),h=Math.max(o,o+u),p=Math.min(s,s+c),v=Math.max(s,s+c);return n>=f&&n<=h&&i>=p&&i<=v}return!1},oee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RE=function(e){var r=gj(gj({},oee),e),n=q.useRef(),i=q.useState(-1),o=XZ(i,2),s=o[0],u=o[1];q.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var R=n.current.getTotalLength();R&&u(R)}catch{}},[]);var c=r.x,f=r.y,h=r.width,p=r.height,v=r.radius,x=r.className,S=r.animationEasing,T=r.animationDuration,_=r.animationBegin,O=r.isAnimationActive,D=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||h===0||p===0)return null;var k=at("recharts-rectangle",x);return D?K.createElement(ua,{canBegin:s>0,from:{width:h,height:p,x:c,y:f},to:{width:h,height:p,x:c,y:f},duration:T,animationEasing:S,isActive:D},function(R){var C=R.width,j=R.height,A=R.x,P=R.y;return K.createElement(ua,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:T,isActive:O,easing:S},K.createElement("path",Qp({},ot(r,!0),{className:k,d:yj(A,P,C,j,v),ref:n})))}):K.createElement("path",Qp({},ot(r,!0),{className:k,d:yj(c,f,h,p,v)}))};function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ew.apply(this,arguments)}var y4=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,s=at("recharts-dot",o);return r===+r&&n===+n&&i===+i?q.createElement("circle",Ew({},ot(e,!1),yp(e),{className:s,cx:r,cy:n,r:i})):null};function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}var aee=["x","y","top","left","width","height","className"];function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tw.apply(this,arguments)}function vj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function see(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vj(Object(r),!0).forEach(function(n){lee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lee(t,e,r){return e=uee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uee(t){var e=cee(t,"string");return Of(e)=="symbol"?e:e+""}function cee(t,e){if(Of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fee(t,e){if(t==null)return{};var r=dee(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var hee=function(e,r,n,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},pee=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.top,u=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,p=h===void 0?0:h,v=e.height,x=v===void 0?0:v,S=e.className,T=fee(e,aee),_=see({x:n,y:o,top:u,left:f,width:p,height:x},T);return!xe(n)||!xe(o)||!xe(p)||!xe(x)||!xe(u)||!xe(f)?null:K.createElement("path",Tw({},ot(_,!0),{className:at("recharts-cross",S),d:hee(n,o,p,x,u,f)}))},jb,xj;function mee(){if(xj)return jb;xj=1;var t=$M(),e=t(Object.getPrototypeOf,Object);return jb=e,jb}var Rb,bj;function gee(){if(bj)return Rb;bj=1;var t=fo(),e=mee(),r=ho(),n="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,u=o.hasOwnProperty,c=s.call(Object);function f(h){if(!r(h)||t(h)!=n)return!1;var p=e(h);if(p===null)return!0;var v=u.call(p,"constructor")&&p.constructor;return typeof v=="function"&&v instanceof v&&s.call(v)==c}return Rb=f,Rb}var yee=gee();const vee=ht(yee);var Db,_j;function xee(){if(_j)return Db;_j=1;var t=fo(),e=ho(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return Db=n,Db}var bee=xee();const _ee=ht(bee);function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function Jp(){return Jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jp.apply(this,arguments)}function wee(t,e){return Aee(t)||See(t,e)||Tee(t,e)||Eee()}function Eee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tee(t,e){if(t){if(typeof t=="string")return wj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wj(t,e)}}function wj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function See(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Aee(t){if(Array.isArray(t))return t}function Ej(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ej(Object(r),!0).forEach(function(n){Pee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pee(t,e,r){return e=Iee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iee(t){var e=Cee(t,"string");return kf(e)=="symbol"?e:e+""}function Cee(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sj=function(e,r,n,i,o){var s=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-s/2,",").concat(r+o),u+="L ".concat(e+n-s/2-i,",").concat(r+o),u+="L ".concat(e,",").concat(r," Z"),u},Oee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kee=function(e){var r=Tj(Tj({},Oee),e),n=q.useRef(),i=q.useState(-1),o=wee(i,2),s=o[0],u=o[1];q.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&u(k)}catch{}},[]);var c=r.x,f=r.y,h=r.upperWidth,p=r.lowerWidth,v=r.height,x=r.className,S=r.animationEasing,T=r.animationDuration,_=r.animationBegin,O=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||v!==+v||h===0&&p===0||v===0)return null;var D=at("recharts-trapezoid",x);return O?K.createElement(ua,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:v,x:c,y:f},to:{upperWidth:h,lowerWidth:p,height:v,x:c,y:f},duration:T,animationEasing:S,isActive:O},function(k){var R=k.upperWidth,C=k.lowerWidth,j=k.height,A=k.x,P=k.y;return K.createElement(ua,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:T,easing:S},K.createElement("path",Jp({},ot(r,!0),{className:D,d:Sj(A,P,R,C,j),ref:n})))}):K.createElement("g",null,K.createElement("path",Jp({},ot(r,!0),{className:D,d:Sj(c,f,h,p,v)})))},Nee=["option","shapeType","propTransformer","activeClassName","isActive"];function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function jee(t,e){if(t==null)return{};var r=Ree(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ree(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Aj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(r),!0).forEach(function(n){Dee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dee(t,e,r){return e=Mee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mee(t){var e=Lee(t,"string");return Nf(e)=="symbol"?e:e+""}function Lee(t,e){if(Nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ee(t,e){return Zp(Zp({},e),t)}function Vee(t,e){return t==="symbols"}function Pj(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return K.createElement(RE,r);case"trapezoid":return K.createElement(kee,r);case"sector":return K.createElement(u4,r);case"symbols":if(Vee(e))return K.createElement(Q1,r);break;default:return null}}function Bee(t){return q.isValidElement(t)?t.props:t}function Fee(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?$ee:n,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,u=t.isActive,c=jee(t,Nee),f;if(q.isValidElement(e))f=q.cloneElement(e,Zp(Zp({},c),Bee(e)));else if(Ge(e))f=e(c);else if(vee(e)&&!_ee(e)){var h=i(e,c);f=K.createElement(Pj,{shapeType:r,elementProps:h})}else{var p=c;f=K.createElement(Pj,{shapeType:r,elementProps:p})}return u?K.createElement(lr,{className:s},f):f}function rg(t,e){return e!=null&&"trapezoids"in t.props}function ng(t,e){return e!=null&&"sectors"in t.props}function jf(t,e){return e!=null&&"points"in t.props}function Uee(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function qee(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function zee(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Wee(t,e){var r;return rg(t,e)?r=Uee:ng(t,e)?r=qee:jf(t,e)&&(r=zee),r}function Hee(t,e){var r;return rg(t,e)?r="trapezoids":ng(t,e)?r="sectors":jf(t,e)&&(r="points"),r}function Gee(t,e){if(rg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ng(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return jf(t,e)?e.payload:{}}function Kee(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Hee(r,e),o=Gee(r,e),s=n.filter(function(c,f){var h=OE(o,c),p=r.props[i].filter(function(S){var T=Wee(r,e);return T(S,e)}),v=r.props[i].indexOf(p[p.length-1]),x=f===v;return h&&x}),u=n.indexOf(s[s.length-1]);return u}var Mb,Ij;function Yee(){if(Ij)return Mb;Ij=1;var t=Math.ceil,e=Math.max;function r(n,i,o,s){for(var u=-1,c=e(t((i-n)/(o||1)),0),f=Array(c);c--;)f[s?c:++u]=n,n+=o;return f}return Mb=r,Mb}var Lb,Cj;function v4(){if(Cj)return Lb;Cj=1;var t=eL(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*r}return i===i?i:0}return Lb=n,Lb}var $b,Oj;function Xee(){if(Oj)return $b;Oj=1;var t=Yee(),e=zm(),r=v4();function n(i){return function(o,s,u){return u&&typeof u!="number"&&e(o,s,u)&&(s=u=void 0),o=r(o),s===void 0?(s=o,o=0):s=r(s),u=u===void 0?o<s?1:-1:r(u),t(o,s,u,i)}}return $b=n,$b}var Vb,kj;function Qee(){if(kj)return Vb;kj=1;var t=Xee(),e=t();return Vb=e,Vb}var Jee=Qee();const em=ht(Jee);function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function Nj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nj(Object(r),!0).forEach(function(n){x4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x4(t,e,r){return e=Zee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zee(t){var e=ete(t,"string");return Rf(e)=="symbol"?e:e+""}function ete(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tte=["Webkit","Moz","O","ms"],rte=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=tte.reduce(function(o,s){return jj(jj({},o),{},x4({},s+n,r))},{});return i[e]=r,i};function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tm.apply(this,arguments)}function Rj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rj(Object(r),!0).forEach(function(n){nn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_4(n.key),n)}}function ite(t,e,r){return e&&Dj(t.prototype,e),r&&Dj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ote(t,e,r){return e=rm(e),ate(t,b4()?Reflect.construct(e,r||[],rm(t).constructor):e.apply(t,r))}function ate(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ste(t)}function ste(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b4=function(){return!!t})()}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rm(t)}function lte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sw(t,e)}function Sw(t,e){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sw(t,e)}function nn(t,e,r){return e=_4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _4(t){var e=ute(t,"string");return Jl(e)=="symbol"?e:e+""}function ute(t,e){if(Jl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cte=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,s=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,f=Uc().domain(em(0,c)).range([o,o+s-u]),h=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:h}},Mj=function(e){return e.changedTouches&&!!e.changedTouches.length},Zl=(function(t){function e(r){var n;return nte(this,e),n=ote(this,e,[r]),nn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),nn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),nn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,s=i.onDragEnd,u=i.startIndex;s==null||s({endIndex:o,startIndex:u})}),n.detachDragEndListener()}),nn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),nn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),nn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),nn(n,"handleSlideDragStart",function(i){var o=Mj(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return lte(e,t),ite(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,s=this.state.scaleValues,u=this.props,c=u.gap,f=u.data,h=f.length-1,p=Math.min(i,o),v=Math.max(i,o),x=e.getIndexInRange(s,p),S=e.getIndexInRange(s,v);return{startIndex:x-x%c,endIndex:S===h?h:S-S%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,s=i.tickFormatter,u=i.dataKey,c=Ti(o[n],u,n);return Ge(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,s=i.startX,u=i.endX,c=this.props,f=c.x,h=c.width,p=c.travellerWidth,v=c.startIndex,x=c.endIndex,S=c.onChange,T=n.pageX-o;T>0?T=Math.min(T,f+h-p-u,f+h-p-s):T<0&&(T=Math.max(T,f-s,f-u));var _=this.getIndex({startX:s+T,endX:u+T});(_.startIndex!==v||_.endIndex!==x)&&S&&S(_),this.setState({startX:s+T,endX:u+T,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=Mj(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,u=i.endX,c=i.startX,f=this.state[s],h=this.props,p=h.x,v=h.width,x=h.travellerWidth,S=h.onChange,T=h.gap,_=h.data,O={startX:this.state.startX,endX:this.state.endX},D=n.pageX-o;D>0?D=Math.min(D,p+v-x-f):D<0&&(D=Math.max(D,p-f)),O[s]=f+D;var k=this.getIndex(O),R=k.startIndex,C=k.endIndex,j=function(){var P=_.length-1;return s==="startX"&&(u>c?R%T===0:C%T===0)||u<c&&C===P||s==="endX"&&(u>c?C%T===0:R%T===0)||u>c&&C===P};this.setState(nn(nn({},s,f+D),"brushMoveStartX",n.pageX),function(){S&&j()&&S(k)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,s=this.state,u=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],p=u.indexOf(h);if(p!==-1){var v=p+n;if(!(v===-1||v>=u.length)){var x=u[v];i==="startX"&&x>=f||i==="endX"&&x<=c||this.setState(nn({},i,x),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,u=n.height,c=n.fill,f=n.stroke;return K.createElement("rect",{stroke:f,fill:c,x:i,y:o,width:s,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,u=n.height,c=n.data,f=n.children,h=n.padding,p=q.Children.only(f);return p?K.cloneElement(p,{x:i,y:o,width:s,height:u,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,s,u=this,c=this.props,f=c.y,h=c.travellerWidth,p=c.height,v=c.traveller,x=c.ariaLabel,S=c.data,T=c.startIndex,_=c.endIndex,O=Math.max(n,this.props.x),D=Bb(Bb({},ot(this.props,!1)),{},{x:O,y:f,width:h,height:p}),k=x||"Min value: ".concat((o=S[T])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=S[_])===null||s===void 0?void 0:s.name);return K.createElement(lr,{tabIndex:0,role:"slider","aria-label":k,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),u.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,D))}},{key:"renderSlide",value:function(n,i){var o=this.props,s=o.y,u=o.height,c=o.stroke,f=o.travellerWidth,h=Math.min(n,i)+f,p=Math.max(Math.abs(i-n)-f,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:p,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,s=n.y,u=n.height,c=n.travellerWidth,f=n.stroke,h=this.state,p=h.startX,v=h.endX,x=5,S={pointerEvents:"none",fill:f};return K.createElement(lr,{className:"recharts-brush-texts"},K.createElement(Cp,tm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,v)-x,y:s+u/2},S),this.getTextOfTick(i)),K.createElement(Cp,tm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,v)+c+x,y:s+u/2},S),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,s=n.children,u=n.x,c=n.y,f=n.width,h=n.height,p=n.alwaysShowText,v=this.state,x=v.startX,S=v.endX,T=v.isTextActive,_=v.isSlideMoving,O=v.isTravellerMoving,D=v.isTravellerFocused;if(!i||!i.length||!xe(u)||!xe(c)||!xe(f)||!xe(h)||f<=0||h<=0)return null;var k=at("recharts-brush",o),R=K.Children.count(s)===1,C=rte("userSelect","none");return K.createElement(lr,{className:k,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(x,S),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(S,"endX"),(T||_||O||D||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,s=n.width,u=n.height,c=n.stroke,f=Math.floor(o+u/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:o,width:s,height:u,fill:c,stroke:"none"}),K.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return K.isValidElement(n)?o=K.cloneElement(n,i):Ge(n)?o=n(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,s=n.width,u=n.x,c=n.travellerWidth,f=n.updateId,h=n.startIndex,p=n.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return Bb({prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s},o&&o.length?cte({data:o,width:s,x:u,travellerWidth:c,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||u!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([u,u+s-c]);var v=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,s=0,u=o-1;u-s>1;){var c=Math.floor((s+u)/2);n[c]>i?u=c:s=c}return i>=n[u]?u:s}}])})(q.PureComponent);nn(Zl,"displayName","Brush");nn(Zl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Fb,Lj;function fte(){if(Lj)return Fb;Lj=1;var t=iE();function e(r,n){var i;return t(r,function(o,s,u){return i=n(o,s,u),!i}),!!i}return Fb=e,Fb}var Ub,$j;function dte(){if($j)return Ub;$j=1;var t=kM(),e=fa(),r=fte(),n=Hr(),i=zm();function o(s,u,c){var f=n(s)?t:r;return c&&i(s,u,c)&&(u=void 0),f(s,e(u,3))}return Ub=o,Ub}var hte=dte();const pte=ht(hte);var xi=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},qb,Vj;function mte(){if(Vj)return qb;Vj=1;var t=YM();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return qb=e,qb}var zb,Bj;function gte(){if(Bj)return zb;Bj=1;var t=mte(),e=GM(),r=fa();function n(i,o){var s={};return o=r(o,3),e(i,function(u,c,f){t(s,c,o(u,c,f))}),s}return zb=n,zb}var yte=gte();const vte=ht(yte);var Wb,Fj;function xte(){if(Fj)return Wb;Fj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return Wb=t,Wb}var Hb,Uj;function bte(){if(Uj)return Hb;Uj=1;var t=iE();function e(r,n){var i=!0;return t(r,function(o,s,u){return i=!!n(o,s,u),i}),i}return Hb=e,Hb}var Gb,qj;function _te(){if(qj)return Gb;qj=1;var t=xte(),e=bte(),r=fa(),n=Hr(),i=zm();function o(s,u,c){var f=n(s)?t:e;return c&&i(s,u,c)&&(u=void 0),f(s,r(u,3))}return Gb=o,Gb}var wte=_te();const w4=ht(wte);var Ete=["x","y"];function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function Aw(){return Aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Aw.apply(this,arguments)}function zj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zj(Object(r),!0).forEach(function(n){Tte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tte(t,e,r){return e=Ste(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ste(t){var e=Ate(t,"string");return Df(e)=="symbol"?e:e+""}function Ate(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pte(t,e){if(t==null)return{};var r=Ite(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ite(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Cte(t,e){var r=t.x,n=t.y,i=Pte(t,Ete),o="".concat(r),s=parseInt(o,10),u="".concat(n),c=parseInt(u,10),f="".concat(e.height||i.height),h=parseInt(f,10),p="".concat(e.width||i.width),v=parseInt(p,10);return Sc(Sc(Sc(Sc(Sc({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:v,name:e.name,radius:e.radius})}function Wj(t){return K.createElement(Fee,Aw({shapeType:"rectangle",propTransformer:Cte,activeClassName:"recharts-active-bar"},t))}var Ote=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var o=xe(n)||M8(n);return o?e(n,i):(o||ms(),r)}},kte=["value","background"],E4;function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function Nte(t,e){if(t==null)return{};var r=jte(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nm.apply(this,arguments)}function Hj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hj(Object(r),!0).forEach(function(n){Xo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S4(n.key),n)}}function Dte(t,e,r){return e&&Gj(t.prototype,e),r&&Gj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mte(t,e,r){return e=im(e),Lte(t,T4()?Reflect.construct(e,r||[],im(t).constructor):e.apply(t,r))}function Lte(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $te(t)}function $te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T4=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},im(t)}function Vte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pw(t,e)}function Pw(t,e){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pw(t,e)}function Xo(t,e,r){return e=S4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S4(t){var e=Bte(t,"string");return eu(e)=="symbol"?e:e+""}function Bte(t,e){if(eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ro=(function(t){function e(){var r;Rte(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Mte(this,e,[].concat(i)),Xo(r,"state",{isAnimationFinished:!1}),Xo(r,"id",Lm("recharts-bar-")),Xo(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Xo(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Vte(e,t),Dte(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,s=o.shape,u=o.dataKey,c=o.activeIndex,f=o.activeBar,h=ot(this.props,!1);return n&&n.map(function(p,v){var x=v===c,S=x?f:s,T=zt(zt(zt({},h),p),{},{isActive:x,option:S,index:v,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(lr,nm({className:"recharts-bar-rectangle"},vp(i.props,p,v),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(v)}),K.createElement(Wj,T))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,s=i.layout,u=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,v=this.state.prevData;return K.createElement(ua,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var S=x.t,T=o.map(function(_,O){var D=v&&v[O];if(D){var k=fl(D.x,_.x),R=fl(D.y,_.y),C=fl(D.width,_.width),j=fl(D.height,_.height);return zt(zt({},_),{},{x:k(S),y:R(S),width:C(S),height:j(S)})}if(s==="horizontal"){var A=fl(0,_.height),P=A(S);return zt(zt({},_),{},{y:_.y+_.height-P,height:P})}var N=fl(0,_.width),B=N(S);return zt(zt({},_),{},{width:B})});return K.createElement(lr,null,n.renderRectanglesStatically(T))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!OE(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,s=i.dataKey,u=i.activeIndex,c=ot(this.props.background,!1);return o.map(function(f,h){f.value;var p=f.background,v=Nte(f,kte);if(!p)return null;var x=zt(zt(zt(zt(zt({},v),{},{fill:"#eee"},p),c),vp(n.props,f,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return K.createElement(Wj,nm({key:"background-bar-".concat(h),option:n.props.background,isActive:h===u},x))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,u=o.xAxis,c=o.yAxis,f=o.layout,h=o.children,p=zn(h,tg);if(!p)return null;var v=f==="vertical"?s[0].height/2:s[0].width/2,x=function(_,O){var D=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:D,errorVal:Ti(_,O)}},S={clipPath:n?"url(#clipPath-".concat(i,")"):null};return K.createElement(lr,S,p.map(function(T){return K.cloneElement(T,{key:"error-bar-".concat(i,"-").concat(T.props.dataKey),data:s,xAxis:u,yAxis:c,layout:f,offset:v,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,s=n.className,u=n.xAxis,c=n.yAxis,f=n.left,h=n.top,p=n.width,v=n.height,x=n.isAnimationActive,S=n.background,T=n.id;if(i||!o||!o.length)return null;var _=this.state.isAnimationFinished,O=at("recharts-bar",s),D=u&&u.allowDataOverflow,k=c&&c.allowDataOverflow,R=D||k,C=st(T)?this.id:T;return K.createElement(lr,{className:O},D||k?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(C)},K.createElement("rect",{x:D?f:f-p/2,y:k?h:h-v/2,width:D?p:p*2,height:k?v:v*2}))):null,K.createElement(lr,{className:"recharts-bar-rectangles",clipPath:R?"url(#clipPath-".concat(C,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(R,C),(!x||_)&&os.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(q.PureComponent);E4=ro;Xo(ro,"displayName","Bar");Xo(ro,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ed.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xo(ro,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,u=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,p=t.displayedData,v=t.offset,x=tQ(n,r);if(!x)return null;var S=e.layout,T=r.type.defaultProps,_=T!==void 0?zt(zt({},T),r.props):r.props,O=_.dataKey,D=_.children,k=_.minPointSize,R=S==="horizontal"?s:o,C=f?R.scale.domain():null,j=uQ({numericAxis:R}),A=zn(D,sE),P=p.map(function(N,B){var L,V,$,Z,ee,ae;f?L=rQ(f[h+B],C):(L=Ti(N,O),Array.isArray(L)||(L=[j,L]));var se=Ote(k,E4.defaultProps.minPointSize)(L[1],B);if(S==="horizontal"){var Q,ie=[s.scale(L[0]),s.scale(L[1])],ne=ie[0],z=ie[1];V=NN({axis:o,ticks:u,bandSize:i,offset:x.offset,entry:N,index:B}),$=(Q=z??ne)!==null&&Q!==void 0?Q:void 0,Z=x.size;var G=ne-z;if(ee=Number.isNaN(G)?0:G,ae={x:V,y:s.y,width:Z,height:s.height},Math.abs(se)>0&&Math.abs(ee)<Math.abs(se)){var ge=Fn(ee||se)*(Math.abs(se)-Math.abs(ee));$-=ge,ee+=ge}}else{var _e=[o.scale(L[0]),o.scale(L[1])],Ce=_e[0],Re=_e[1];if(V=Ce,$=NN({axis:s,ticks:c,bandSize:i,offset:x.offset,entry:N,index:B}),Z=Re-Ce,ee=x.size,ae={x:o.x,y:$,width:o.width,height:ee},Math.abs(se)>0&&Math.abs(Z)<Math.abs(se)){var We=Fn(Z||se)*(Math.abs(se)-Math.abs(Z));Z+=We}}return zt(zt(zt({},N),{},{x:V,y:$,width:Z,height:ee,value:f?L:L[1],payload:N,background:ae},A&&A[B]&&A[B].props),{},{tooltipPayload:[a4(r,N)],tooltipPosition:{x:V+Z/2,y:$+ee/2}})});return zt({data:P,layout:S},v)});function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function Fte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A4(n.key),n)}}function Ute(t,e,r){return e&&Kj(t.prototype,e),r&&Kj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yj(Object(r),!0).forEach(function(n){ig(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ig(t,e,r){return e=A4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A4(t){var e=qte(t,"string");return Mf(e)=="symbol"?e:e+""}function qte(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zte=function(e,r,n,i,o){var s=e.width,u=e.height,c=e.layout,f=e.children,h=Object.keys(r),p={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},v=!!on(f,ro);return h.reduce(function(x,S){var T=r[S],_=T.orientation,O=T.domain,D=T.padding,k=D===void 0?{}:D,R=T.mirror,C=T.reversed,j="".concat(_).concat(R?"Mirror":""),A,P,N,B,L;if(T.type==="number"&&(T.padding==="gap"||T.padding==="no-gap")){var V=O[1]-O[0],$=1/0,Z=T.categoricalDomain.sort(V8);if(Z.forEach(function(_e,Ce){Ce>0&&($=Math.min((_e||0)-(Z[Ce-1]||0),$))}),Number.isFinite($)){var ee=$/V,ae=T.layout==="vertical"?n.height:n.width;if(T.padding==="gap"&&(A=ee*ae/2),T.padding==="no-gap"){var se=hs(e.barCategoryGap,ee*ae),Q=ee*ae/2;A=Q-se-(Q-se)/ae*se}}}i==="xAxis"?P=[n.left+(k.left||0)+(A||0),n.left+n.width-(k.right||0)-(A||0)]:i==="yAxis"?P=c==="horizontal"?[n.top+n.height-(k.bottom||0),n.top+(k.top||0)]:[n.top+(k.top||0)+(A||0),n.top+n.height-(k.bottom||0)-(A||0)]:P=T.range,C&&(P=[P[1],P[0]]);var ie=ZX(T,o,v),ne=ie.scale,z=ie.realScaleType;ne.domain(O).range(P),eQ(ne);var G=lQ(ne,Mn(Mn({},T),{},{realScaleType:z}));i==="xAxis"?(L=_==="top"&&!R||_==="bottom"&&R,N=n.left,B=p[j]-L*T.height):i==="yAxis"&&(L=_==="left"&&!R||_==="right"&&R,N=p[j]-L*T.width,B=n.top);var ge=Mn(Mn(Mn({},T),G),{},{realScaleType:z,x:N,y:B,scale:ne,width:i==="xAxis"?n.width:T.width,height:i==="yAxis"?n.height:T.height});return ge.bandSize=zp(ge,G),!T.hide&&i==="xAxis"?p[j]+=(L?-1:1)*ge.height:T.hide||(p[j]+=(L?-1:1)*ge.width),Mn(Mn({},x),{},ig({},S,ge))},{})},P4=function(e,r){var n=e.x,i=e.y,o=r.x,s=r.y;return{x:Math.min(n,o),y:Math.min(i,s),width:Math.abs(o-n),height:Math.abs(s-i)}},Wte=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return P4({x:r,y:n},{x:i,y:o})},I4=(function(){function t(e){Fte(this,t),this.scale=e}return Ute(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();ig(I4,"EPS",1e-4);var DE=function(e){var r=Object.keys(e).reduce(function(n,i){return Mn(Mn({},n),{},ig({},i,I4.create(e[i])))},{});return Mn(Mn({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,u=o.position;return vte(i,function(c,f){return r[f].apply(c,{bandAware:s,position:u})})},isInRange:function(i){return w4(i,function(o,s){return r[s].isInRange(o)})}})};function Hte(t){return(t%180+180)%180}var Gte=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Hte(i),s=o*Math.PI/180,u=Math.atan(n/r),c=s>u&&s<Math.PI-u?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},Kb,Xj;function Kte(){if(Xj)return Kb;Xj=1;var t=fa(),e=Zf(),r=Um();function n(i){return function(o,s,u){var c=Object(o);if(!e(o)){var f=t(s,3);o=r(o),s=function(p){return f(c[p],p,c)}}var h=i(o,s,u);return h>-1?c[f?o[h]:h]:void 0}}return Kb=n,Kb}var Yb,Qj;function Yte(){if(Qj)return Yb;Qj=1;var t=v4();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Yb=e,Yb}var Xb,Jj;function Xte(){if(Jj)return Xb;Jj=1;var t=UM(),e=fa(),r=Yte(),n=Math.max;function i(o,s,u){var c=o==null?0:o.length;if(!c)return-1;var f=u==null?0:r(u);return f<0&&(f=n(c+f,0)),t(o,e(s,3),f)}return Xb=i,Xb}var Qb,Zj;function Qte(){if(Zj)return Qb;Zj=1;var t=Kte(),e=Xte(),r=t(e);return Qb=r,Qb}var Jte=Qte();const Zte=ht(Jte);var ere=iM();const tre=ht(ere);var rre=tre(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),ME=q.createContext(void 0),LE=q.createContext(void 0),C4=q.createContext(void 0),O4=q.createContext({}),k4=q.createContext(void 0),N4=q.createContext(0),j4=q.createContext(0),e2=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,s=e.clipPathId,u=e.children,c=e.width,f=e.height,h=rre(o);return K.createElement(ME.Provider,{value:n},K.createElement(LE.Provider,{value:i},K.createElement(O4.Provider,{value:o},K.createElement(C4.Provider,{value:h},K.createElement(k4.Provider,{value:s},K.createElement(N4.Provider,{value:f},K.createElement(j4.Provider,{value:c},u)))))))},nre=function(){return q.useContext(k4)},R4=function(e){var r=q.useContext(ME);r==null&&ms();var n=r[e];return n==null&&ms(),n},ire=function(){var e=q.useContext(ME);return Ko(e)},ore=function(){var e=q.useContext(LE),r=Zte(e,function(n){return w4(n.domain,Number.isFinite)});return r||Ko(e)},D4=function(e){var r=q.useContext(LE);r==null&&ms();var n=r[e];return n==null&&ms(),n},are=function(){var e=q.useContext(C4);return e},sre=function(){return q.useContext(O4)},$E=function(){return q.useContext(j4)},VE=function(){return q.useContext(N4)};function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function lre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ure(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L4(n.key),n)}}function cre(t,e,r){return e&&ure(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fre(t,e,r){return e=om(e),dre(t,M4()?Reflect.construct(e,r||[],om(t).constructor):e.apply(t,r))}function dre(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hre(t)}function hre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M4=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},om(t)}function pre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}function Iw(t,e){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Iw(t,e)}function t2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function r2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(r),!0).forEach(function(n){BE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BE(t,e,r){return e=L4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L4(t){var e=mre(t,"string");return tu(e)=="symbol"?e:e+""}function mre(t,e){if(tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gre(t,e){return bre(t)||xre(t,e)||vre(t,e)||yre()}function yre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vre(t,e){if(t){if(typeof t=="string")return n2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n2(t,e)}}function n2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function bre(t){if(Array.isArray(t))return t}function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cw.apply(this,arguments)}var _re=function(e,r){var n;return K.isValidElement(e)?n=K.cloneElement(e,r):Ge(e)?n=e(r):n=K.createElement("line",Cw({},r,{className:"recharts-reference-line-line"})),n},wre=function(e,r,n,i,o,s,u,c,f){var h=o.x,p=o.y,v=o.width,x=o.height;if(n){var S=f.y,T=e.y.apply(S,{position:s});if(xi(f,"discard")&&!e.y.isInRange(T))return null;var _=[{x:h+v,y:T},{x:h,y:T}];return c==="left"?_.reverse():_}if(r){var O=f.x,D=e.x.apply(O,{position:s});if(xi(f,"discard")&&!e.x.isInRange(D))return null;var k=[{x:D,y:p+x},{x:D,y:p}];return u==="top"?k.reverse():k}if(i){var R=f.segment,C=R.map(function(j){return e.apply(j,{position:s})});return xi(f,"discard")&&pte(C,function(j){return!e.isInRange(j)})?null:C}return null};function Ere(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,u=t.className,c=t.alwaysShow,f=nre(),h=R4(i),p=D4(o),v=are();if(!f||!v)return null;eo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=DE({x:h.scale,y:p.scale}),S=er(e),T=er(r),_=n&&n.length===2,O=wre(x,S,T,_,v,t.position,h.orientation,p.orientation,t);if(!O)return null;var D=gre(O,2),k=D[0],R=k.x,C=k.y,j=D[1],A=j.x,P=j.y,N=xi(t,"hidden")?"url(#".concat(f,")"):void 0,B=r2(r2({clipPath:N},ot(t,!0)),{},{x1:R,y1:C,x2:A,y2:P});return K.createElement(lr,{className:at("recharts-reference-line",u)},_re(s,B),Cr.renderCallByParent(t,Wte({x1:R,y1:C,x2:A,y2:P})))}var FE=(function(t){function e(){return lre(this,e),fre(this,e,arguments)}return pre(e,t),cre(e,[{key:"render",value:function(){return K.createElement(Ere,this.props)}}])})(K.Component);BE(FE,"displayName","ReferenceLine");BE(FE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ow(){return Ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ow.apply(this,arguments)}function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function i2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function o2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i2(Object(r),!0).forEach(function(n){og(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V4(n.key),n)}}function Are(t,e,r){return e&&Sre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pre(t,e,r){return e=am(e),Ire(t,$4()?Reflect.construct(e,r||[],am(t).constructor):e.apply(t,r))}function Ire(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cre(t)}function Cre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($4=function(){return!!t})()}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},am(t)}function Ore(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kw(t,e)}function kw(t,e){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kw(t,e)}function og(t,e,r){return e=V4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V4(t){var e=kre(t,"string");return ru(e)=="symbol"?e:e+""}function kre(t,e){if(ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nre=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,s=DE({x:i.scale,y:o.scale}),u=s.apply({x:r,y:n},{bandAware:!0});return xi(e,"discard")&&!s.isInRange(u)?null:u},ag=(function(t){function e(){return Tre(this,e),Pre(this,e,arguments)}return Ore(e,t),Are(e,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,s=n.r,u=n.alwaysShow,c=n.clipPathId,f=er(i),h=er(o);if(eo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var p=Nre(this.props);if(!p)return null;var v=p.x,x=p.y,S=this.props,T=S.shape,_=S.className,O=xi(this.props,"hidden")?"url(#".concat(c,")"):void 0,D=o2(o2({clipPath:O},ot(this.props,!0)),{},{cx:v,cy:x});return K.createElement(lr,{className:at("recharts-reference-dot",_)},e.renderDot(T,D),Cr.renderCallByParent(this.props,{x:v-s,y:x-s,width:2*s,height:2*s}))}}])})(K.Component);og(ag,"displayName","ReferenceDot");og(ag,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});og(ag,"renderDot",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):Ge(t)?r=t(e):r=K.createElement(y4,Ow({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Nw(){return Nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nw.apply(this,arguments)}function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function a2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(r),!0).forEach(function(n){sg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F4(n.key),n)}}function Dre(t,e,r){return e&&Rre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mre(t,e,r){return e=sm(e),Lre(t,B4()?Reflect.construct(e,r||[],sm(t).constructor):e.apply(t,r))}function Lre(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $re(t)}function $re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B4=function(){return!!t})()}function sm(t){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sm(t)}function Vre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jw(t,e)}function jw(t,e){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jw(t,e)}function sg(t,e,r){return e=F4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F4(t){var e=Bre(t,"string");return nu(e)=="symbol"?e:e+""}function Bre(t,e){if(nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fre=function(e,r,n,i,o){var s=o.x1,u=o.x2,c=o.y1,f=o.y2,h=o.xAxis,p=o.yAxis;if(!h||!p)return null;var v=DE({x:h.scale,y:p.scale}),x={x:e?v.x.apply(s,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(c,{position:"start"}):v.y.rangeMin},S={x:r?v.x.apply(u,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(f,{position:"end"}):v.y.rangeMax};return xi(o,"discard")&&(!v.isInRange(x)||!v.isInRange(S))?null:P4(x,S)},lg=(function(t){function e(){return jre(this,e),Mre(this,e,arguments)}return Vre(e,t),Dre(e,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,s=n.y1,u=n.y2,c=n.className,f=n.alwaysShow,h=n.clipPathId;eo(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=er(i),v=er(o),x=er(s),S=er(u),T=this.props.shape;if(!p&&!v&&!x&&!S&&!T)return null;var _=Fre(p,v,x,S,this.props);if(!_&&!T)return null;var O=xi(this.props,"hidden")?"url(#".concat(h,")"):void 0;return K.createElement(lr,{className:at("recharts-reference-area",c)},e.renderRect(T,s2(s2({clipPath:O},ot(this.props,!0)),_)),Cr.renderCallByParent(this.props,_))}}])})(K.Component);sg(lg,"displayName","ReferenceArea");sg(lg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});sg(lg,"renderRect",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):Ge(t)?r=t(e):r=K.createElement(RE,Nw({},e,{className:"recharts-reference-area-rect"})),r});function U4(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Ure(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Gte(n,r)}function qre(t,e,r){var n=r==="width",i=t.x,o=t.y,s=t.width,u=t.height;return e===1?{start:n?i:o,end:n?i+s:o+u}:{start:n?i+s:o+u,end:n?i:o}}function lm(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function zre(t,e){return U4(t,e+1)}function Wre(t,e,r,n,i){for(var o=(n||[]).slice(),s=e.start,u=e.end,c=0,f=1,h=s,p=function(){var S=n==null?void 0:n[c];if(S===void 0)return{v:U4(n,f)};var T=c,_,O=function(){return _===void 0&&(_=r(S,T)),_},D=S.coordinate,k=c===0||lm(t,D,O,h,u);k||(c=0,h=s,f+=1),k&&(h=D+t*(O()/2+i),c+=f)},v;f<=o.length;)if(v=p(),v)return v.v;return[]}function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function l2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(r),!0).forEach(function(n){Hre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hre(t,e,r){return e=Gre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gre(t){var e=Kre(t,"string");return Lf(e)=="symbol"?e:e+""}function Kre(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yre(t,e,r,n,i){for(var o=(n||[]).slice(),s=o.length,u=e.start,c=e.end,f=function(v){var x=o[v],S,T=function(){return S===void 0&&(S=r(x,v)),S};if(v===s-1){var _=t*(x.coordinate+t*T()/2-c);o[v]=x=Ar(Ar({},x),{},{tickCoord:_>0?x.coordinate-_*t:x.coordinate})}else o[v]=x=Ar(Ar({},x),{},{tickCoord:x.coordinate});var O=lm(t,x.tickCoord,T,u,c);O&&(c=x.tickCoord-t*(T()/2+i),o[v]=Ar(Ar({},x),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return o}function Xre(t,e,r,n,i,o){var s=(n||[]).slice(),u=s.length,c=e.start,f=e.end;if(o){var h=n[u-1],p=r(h,u-1),v=t*(h.coordinate+t*p/2-f);s[u-1]=h=Ar(Ar({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate});var x=lm(t,h.tickCoord,function(){return p},c,f);x&&(f=h.tickCoord-t*(p/2+i),s[u-1]=Ar(Ar({},h),{},{isShow:!0}))}for(var S=o?u-1:u,T=function(D){var k=s[D],R,C=function(){return R===void 0&&(R=r(k,D)),R};if(D===0){var j=t*(k.coordinate-t*C()/2-c);s[D]=k=Ar(Ar({},k),{},{tickCoord:j<0?k.coordinate-j*t:k.coordinate})}else s[D]=k=Ar(Ar({},k),{},{tickCoord:k.coordinate});var A=lm(t,k.tickCoord,C,c,f);A&&(c=k.tickCoord+t*(C()/2+i),s[D]=Ar(Ar({},k),{},{isShow:!0}))},_=0;_<S;_++)T(_);return s}function UE(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,u=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,p=t.angle;if(!i||!i.length||!n)return[];if(xe(c)||ed.isSsr)return zre(i,typeof c=="number"&&xe(c)?c:0);var v=[],x=u==="top"||u==="bottom"?"width":"height",S=h&&x==="width"?Fc(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},T=function(k,R){var C=Ge(f)?f(k.value,R):k.value;return x==="width"?Ure(Fc(C,{fontSize:e,letterSpacing:r}),S,p):Fc(C,{fontSize:e,letterSpacing:r})[x]},_=i.length>=2?Fn(i[1].coordinate-i[0].coordinate):1,O=qre(o,_,x);return c==="equidistantPreserveStart"?Wre(_,O,T,i,s):(c==="preserveStart"||c==="preserveStartEnd"?v=Xre(_,O,T,i,s,c==="preserveStartEnd"):v=Yre(_,O,T,i,s),v.filter(function(D){return D.isShow}))}var Qre=["viewBox"],Jre=["viewBox"],Zre=["ticks"];function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function _l(){return _l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_l.apply(this,arguments)}function u2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u2(Object(r),!0).forEach(function(n){qE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jb(t,e){if(t==null)return{};var r=ene(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ene(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z4(n.key),n)}}function rne(t,e,r){return e&&c2(t.prototype,e),r&&c2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nne(t,e,r){return e=um(e),ine(t,q4()?Reflect.construct(e,r||[],um(t).constructor):e.apply(t,r))}function ine(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return one(t)}function one(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q4=function(){return!!t})()}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},um(t)}function ane(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rw(t,e)}function Rw(t,e){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rw(t,e)}function qE(t,e,r){return e=z4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z4(t){var e=sne(t,"string");return iu(e)=="symbol"?e:e+""}function sne(t,e){if(iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Eu=(function(t){function e(r){var n;return tne(this,e),n=nne(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return ane(e,t),rne(e,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,s=Jb(n,Qre),u=this.props,c=u.viewBox,f=Jb(u,Jre);return!Ol(o,c)||!Ol(s,f)||!Ol(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,s=i.y,u=i.width,c=i.height,f=i.orientation,h=i.tickSize,p=i.mirror,v=i.tickMargin,x,S,T,_,O,D,k=p?-1:1,R=n.tickSize||h,C=xe(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":x=S=n.coordinate,_=s+ +!p*c,T=_-k*R,D=T-k*v,O=C;break;case"left":T=_=n.coordinate,S=o+ +!p*u,x=S-k*R,O=x-k*v,D=C;break;case"right":T=_=n.coordinate,S=o+ +p*u,x=S+k*R,O=x+k*v,D=C;break;default:x=S=n.coordinate,_=s+ +p*c,T=_+k*R,D=T+k*v,O=C;break}return{line:{x1:x,y1:T,x2:S,y2:_},tick:{x:O,y:D}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,u=n.height,c=n.orientation,f=n.mirror,h=n.axisLine,p=Xt(Xt(Xt({},ot(this.props,!1)),ot(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var v=+(c==="top"&&!f||c==="bottom"&&f);p=Xt(Xt({},p),{},{x1:i,y1:o+v*u,x2:i+s,y2:o+v*u})}else{var x=+(c==="left"&&!f||c==="right"&&f);p=Xt(Xt({},p),{},{x1:i+x*s,y1:o,x2:i+x*s,y2:o+u})}return K.createElement("line",_l({},p,{className:at("recharts-cartesian-axis-line",wn(h,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var s=this,u=this.props,c=u.tickLine,f=u.stroke,h=u.tick,p=u.tickFormatter,v=u.unit,x=UE(Xt(Xt({},this.props),{},{ticks:n}),i,o),S=this.getTickTextAnchor(),T=this.getTickVerticalAnchor(),_=ot(this.props,!1),O=ot(h,!1),D=Xt(Xt({},_),{},{fill:"none"},ot(c,!1)),k=x.map(function(R,C){var j=s.getTickLineCoord(R),A=j.line,P=j.tick,N=Xt(Xt(Xt(Xt({textAnchor:S,verticalAnchor:T},_),{},{stroke:"none",fill:f},O),P),{},{index:C,payload:R,visibleTicksCount:x.length,tickFormatter:p});return K.createElement(lr,_l({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},vp(s.props,R,C)),c&&K.createElement("line",_l({},D,A,{className:at("recharts-cartesian-axis-tick-line",wn(c,"className"))})),h&&e.renderTickItem(h,N,"".concat(Ge(p)?p(R.value,C):R.value).concat(v||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,s=i.width,u=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var p=this.props,v=p.ticks,x=Jb(p,Zre),S=v;return Ge(c)&&(S=v&&v.length>0?c(this.props):c(x)),s<=0||u<=0||!S||!S.length?null:K.createElement(lr,{className:at("recharts-cartesian-axis",f),ref:function(_){n.layerReference=_}},o&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),Cr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var s,u=at(i.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(n)?s=K.cloneElement(n,Xt(Xt({},i),{},{className:u})):Ge(n)?s=n(Xt(Xt({},i),{},{className:u})):s=K.createElement(Cp,_l({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])})(q.Component);qE(Eu,"displayName","CartesianAxis");qE(Eu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var lne=["x1","y1","x2","y2","key"],une=["offset"];function gs(t){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gs(t)}function f2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(r),!0).forEach(function(n){cne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cne(t,e,r){return e=fne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fne(t){var e=dne(t,"string");return gs(e)=="symbol"?e:e+""}function dne(t,e){if(gs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ja(){return Ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ja.apply(this,arguments)}function d2(t,e){if(t==null)return{};var r=hne(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var pne=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,o=e.y,s=e.width,u=e.height,c=e.ry;return K.createElement("rect",{x:i,y:o,ry:c,width:s,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function W4(t,e){var r;if(K.isValidElement(t))r=K.cloneElement(t,e);else if(Ge(t))r=t(e);else{var n=e.x1,i=e.y1,o=e.x2,s=e.y2,u=e.key,c=d2(e,lne),f=ot(c,!1);f.offset;var h=d2(f,une);r=K.createElement("line",Ja({},h,{x1:n,y1:i,x2:o,y2:s,fill:"none",key:u}))}return r}function mne(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(u,c){var f=Or(Or({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(c),index:c});return W4(i,f)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function gne(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(u,c){var f=Or(Or({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(c),index:c});return W4(i,f)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function yne(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,o=t.width,s=t.height,u=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=u.map(function(v){return Math.round(v+i-i)}).sort(function(v,x){return v-x});i!==h[0]&&h.unshift(0);var p=h.map(function(v,x){var S=!h[x+1],T=S?i+s-v:h[x+1]-v;if(T<=0)return null;var _=x%e.length;return K.createElement("rect",{key:"react-".concat(x),y:v,x:n,height:T,width:o,stroke:"none",fill:e[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function vne(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,u=t.width,c=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var h=f.map(function(v){return Math.round(v+o-o)}).sort(function(v,x){return v-x});o!==h[0]&&h.unshift(0);var p=h.map(function(v,x){var S=!h[x+1],T=S?o+u-v:h[x+1]-v;if(T<=0)return null;var _=x%n.length;return K.createElement("rect",{key:"react-".concat(x),x:v,y:s,width:T,height:c,stroke:"none",fill:n[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var xne=function(e,r){var n=e.xAxis,i=e.width,o=e.height,s=e.offset;return i4(UE(Or(Or(Or({},Eu.defaultProps),n),{},{ticks:Ji(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,r)},bne=function(e,r){var n=e.yAxis,i=e.width,o=e.height,s=e.offset;return i4(UE(Or(Or(Or({},Eu.defaultProps),n),{},{ticks:Ji(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,r)},pl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function H4(t){var e,r,n,i,o,s,u=$E(),c=VE(),f=sre(),h=Or(Or({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:pl.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:pl.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:pl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:pl.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:pl.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:pl.verticalFill,x:xe(t.x)?t.x:f.left,y:xe(t.y)?t.y:f.top,width:xe(t.width)?t.width:f.width,height:xe(t.height)?t.height:f.height}),p=h.x,v=h.y,x=h.width,S=h.height,T=h.syncWithTicks,_=h.horizontalValues,O=h.verticalValues,D=ire(),k=ore();if(!xe(x)||x<=0||!xe(S)||S<=0||!xe(p)||p!==+p||!xe(v)||v!==+v)return null;var R=h.verticalCoordinatesGenerator||xne,C=h.horizontalCoordinatesGenerator||bne,j=h.horizontalPoints,A=h.verticalPoints;if((!j||!j.length)&&Ge(C)){var P=_&&_.length,N=C({yAxis:k?Or(Or({},k),{},{ticks:P?_:k.ticks}):void 0,width:u,height:c,offset:f},P?!0:T);eo(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(gs(N),"]")),Array.isArray(N)&&(j=N)}if((!A||!A.length)&&Ge(R)){var B=O&&O.length,L=R({xAxis:D?Or(Or({},D),{},{ticks:B?O:D.ticks}):void 0,width:u,height:c,offset:f},B?!0:T);eo(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(gs(L),"]")),Array.isArray(L)&&(A=L)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(pne,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),K.createElement(mne,Ja({},h,{offset:f,horizontalPoints:j,xAxis:D,yAxis:k})),K.createElement(gne,Ja({},h,{offset:f,verticalPoints:A,xAxis:D,yAxis:k})),K.createElement(yne,Ja({},h,{horizontalPoints:j})),K.createElement(vne,Ja({},h,{verticalPoints:A})))}H4.displayName="CartesianGrid";function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function _ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y4(n.key),n)}}function Ene(t,e,r){return e&&wne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tne(t,e,r){return e=cm(e),Sne(t,G4()?Reflect.construct(e,r||[],cm(t).constructor):e.apply(t,r))}function Sne(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ane(t)}function Ane(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G4=function(){return!!t})()}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cm(t)}function Pne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dw(t,e)}function Dw(t,e){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dw(t,e)}function K4(t,e,r){return e=Y4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y4(t){var e=Ine(t,"string");return ou(e)=="symbol"?e:e+""}function Ine(t,e){if(ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mw.apply(this,arguments)}function Cne(t){var e=t.xAxisId,r=$E(),n=VE(),i=R4(e);return i==null?null:q.createElement(Eu,Mw({},i,{className:at("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Ji(s,!0)}}))}var ug=(function(t){function e(){return _ne(this,e),Tne(this,e,arguments)}return Pne(e,t),Ene(e,[{key:"render",value:function(){return q.createElement(Cne,this.props)}}])})(q.Component);K4(ug,"displayName","XAxis");K4(ug,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function One(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J4(n.key),n)}}function Nne(t,e,r){return e&&kne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jne(t,e,r){return e=fm(e),Rne(t,X4()?Reflect.construct(e,r||[],fm(t).constructor):e.apply(t,r))}function Rne(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dne(t)}function Dne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X4=function(){return!!t})()}function fm(t){return fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fm(t)}function Mne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lw(t,e)}function Lw(t,e){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lw(t,e)}function Q4(t,e,r){return e=J4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J4(t){var e=Lne(t,"string");return au(e)=="symbol"?e:e+""}function Lne(t,e){if(au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$w.apply(this,arguments)}var $ne=function(e){var r=e.yAxisId,n=$E(),i=VE(),o=D4(r);return o==null?null:q.createElement(Eu,$w({},o,{className:at("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return Ji(u,!0)}}))},cg=(function(t){function e(){return One(this,e),jne(this,e,arguments)}return Mne(e,t),Nne(e,[{key:"render",value:function(){return q.createElement($ne,this.props)}}])})(q.Component);Q4(cg,"displayName","YAxis");Q4(cg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function h2(t){return Une(t)||Fne(t)||Bne(t)||Vne()}function Vne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bne(t,e){if(t){if(typeof t=="string")return Vw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vw(t,e)}}function Fne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Une(t){if(Array.isArray(t))return Vw(t)}function Vw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Bw=function(e,r,n,i,o){var s=zn(e,FE),u=zn(e,ag),c=[].concat(h2(s),h2(u)),f=zn(e,lg),h="".concat(i,"Id"),p=i[0],v=r;if(c.length&&(v=c.reduce(function(T,_){if(_.props[h]===n&&xi(_.props,"extendDomain")&&xe(_.props[p])){var O=_.props[p];return[Math.min(T[0],O),Math.max(T[1],O)]}return T},v)),f.length){var x="".concat(p,"1"),S="".concat(p,"2");v=f.reduce(function(T,_){if(_.props[h]===n&&xi(_.props,"extendDomain")&&xe(_.props[x])&&xe(_.props[S])){var O=_.props[x],D=_.props[S];return[Math.min(T[0],O,D),Math.max(T[1],O,D)]}return T},v)}return o&&o.length&&(v=o.reduce(function(T,_){return xe(_)?[Math.min(T[0],_),Math.max(T[1],_)]:T},v)),v},Zb={exports:{}},p2;function qne(){return p2||(p2=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,p||c,v),S=r?r+f:f;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],x]:c._events[S].push(x):(c._events[S]=x,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=r?r+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,x=p.length,S=new Array(x);v<x;v++)S[v]=p[v].fn;return S},u.prototype.listenerCount=function(f){var h=r?r+f:f,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,h,p,v,x,S){var T=r?r+f:f;if(!this._events[T])return!1;var _=this._events[T],O=arguments.length,D,k;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),O){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,p),!0;case 4:return _.fn.call(_.context,h,p,v),!0;case 5:return _.fn.call(_.context,h,p,v,x),!0;case 6:return _.fn.call(_.context,h,p,v,x,S),!0}for(k=1,D=new Array(O-1);k<O;k++)D[k-1]=arguments[k];_.fn.apply(_.context,D)}else{var R=_.length,C;for(k=0;k<R;k++)switch(_[k].once&&this.removeListener(f,_[k].fn,void 0,!0),O){case 1:_[k].fn.call(_[k].context);break;case 2:_[k].fn.call(_[k].context,h);break;case 3:_[k].fn.call(_[k].context,h,p);break;case 4:_[k].fn.call(_[k].context,h,p,v);break;default:if(!D)for(C=1,D=new Array(O-1);C<O;C++)D[C-1]=arguments[C];_[k].fn.apply(_[k].context,D)}}return!0},u.prototype.on=function(f,h,p){return o(this,f,h,p,!1)},u.prototype.once=function(f,h,p){return o(this,f,h,p,!0)},u.prototype.removeListener=function(f,h,p,v){var x=r?r+f:f;if(!this._events[x])return this;if(!h)return s(this,x),this;var S=this._events[x];if(S.fn)S.fn===h&&(!v||S.once)&&(!p||S.context===p)&&s(this,x);else{for(var T=0,_=[],O=S.length;T<O;T++)(S[T].fn!==h||v&&!S[T].once||p&&S[T].context!==p)&&_.push(S[T]);_.length?this._events[x]=_.length===1?_[0]:_:s(this,x)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&s(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(Zb)),Zb.exports}var zne=qne();const Wne=ht(zne);var e_=new Wne,t_="recharts.syncMouseEvents";function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function Hne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z4(n.key),n)}}function Kne(t,e,r){return e&&Gne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r_(t,e,r){return e=Z4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z4(t){var e=Yne(t,"string");return $f(e)=="symbol"?e:e+""}function Yne(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xne=(function(){function t(){Hne(this,t),r_(this,"activeIndex",0),r_(this,"coordinateList",[]),r_(this,"layout","horizontal")}return Kne(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,s=r.container,u=s===void 0?null:s,c=r.layout,f=c===void 0?null:c,h=r.offset,p=h===void 0?null:h,v=r.mouseHandlerCallback,x=v===void 0?null:v;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,u=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=o+c+f,v=s+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:p,pageY:v})}}}])})();function Qne(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&xe(n)&&xe(i))return!0}return!1}function Jne(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function e3(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,s=yr(e,r,n,i),u=yr(e,r,n,o);return{points:[s,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function Zne(t,e,r){var n,i,o,s;if(t==="horizontal")n=e.x,o=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,p=e.angle,v=yr(u,c,f,p),x=yr(u,c,h,p);n=v.x,i=v.y,o=x.x,s=x.y}else return e3(e);return[{x:n,y:i},{x:o,y:s}]}function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function m2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(r),!0).forEach(function(n){eie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eie(t,e,r){return e=tie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tie(t){var e=rie(t,"string");return Vf(e)=="symbol"?e:e+""}function rie(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nie(t){var e,r,n=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,u=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,p=t.layout,v=t.chartName,x=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!o||!s||v!=="ScatterChart"&&i!=="axis")return null;var S,T=YN;if(v==="ScatterChart")S=s,T=pee;else if(v==="BarChart")S=Jne(p,s,c,h),T=RE;else if(p==="radial"){var _=e3(s),O=_.cx,D=_.cy,k=_.radius,R=_.startAngle,C=_.endAngle;S={cx:O,cy:D,startAngle:R,endAngle:C,innerRadius:k,outerRadius:k},T=u4}else S={points:Zne(p,s,c)},T=YN;var j=Lh(Lh(Lh(Lh({stroke:"#ccc",pointerEvents:"none"},c),S),ot(x,!1)),{},{payload:u,payloadIndex:f,className:at("recharts-tooltip-cursor",x.className)});return q.isValidElement(x)?q.cloneElement(x,j):q.createElement(T,j)}var iie=["item"],oie=["children","className","width","height","style","compact","title","desc"];function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wl.apply(this,arguments)}function g2(t,e){return lie(t)||sie(t,e)||r3(t,e)||aie()}function aie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function lie(t){if(Array.isArray(t))return t}function y2(t,e){if(t==null)return{};var r=uie(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n3(n.key),n)}}function die(t,e,r){return e&&fie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hie(t,e,r){return e=dm(e),pie(t,t3()?Reflect.construct(e,r||[],dm(t).constructor):e.apply(t,r))}function pie(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mie(t)}function mie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t3=function(){return!!t})()}function dm(t){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dm(t)}function gie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fw(t,e)}function Fw(t,e){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fw(t,e)}function lu(t){return xie(t)||vie(t)||r3(t)||yie()}function yie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r3(t,e){if(t){if(typeof t=="string")return Uw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uw(t,e)}}function vie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xie(t){if(Array.isArray(t))return Uw(t)}function Uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(r),!0).forEach(function(n){De(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function De(t,e,r){return e=n3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n3(t){var e=bie(t,"string");return su(e)=="symbol"?e:e+""}function bie(t,e){if(su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ie={xAxis:["bottom","top"],yAxis:["left","right"]},wie={width:"100%",height:"100%"},i3={x:0,y:0};function $h(t){return t}var Eie=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Tie=function(e,r,n,i){var o=r.find(function(h){return h&&h.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,u=i.radius;return oe(oe(oe({},i),yr(i.cx,i.cy,u,s)),{},{angle:s,radius:u})}var c=o.coordinate,f=i.angle;return oe(oe(oe({},i),yr(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return i3},fg=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,s=(n??[]).reduce(function(u,c){var f=c.props.data;return f&&f.length?[].concat(lu(u),lu(f)):u},[]);return s.length>0?s:e&&e.length&&xe(i)&&xe(o)?e.slice(i,o+1):[]};function o3(t){return t==="number"?[0,"auto"]:void 0}var qw=function(e,r,n,i){var o=e.graphicalItems,s=e.tooltipAxis,u=fg(r,e);return n<0||!o||!o.length||n>=u.length?null:o.reduce(function(c,f){var h,p=(h=f.props.data)!==null&&h!==void 0?h:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(s.dataKey&&!s.allowDuplicatedCategory){var x=p===void 0?u:p;v=C_(x,s.dataKey,i)}else v=p&&p[n]||u[n];return v?[].concat(lu(c),[a4(f,v)]):c},[])},x2=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},s=Eie(o,n),u=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=GX(s,u,f,c);if(h>=0&&f){var p=f[h]&&f[h].value,v=qw(e,r,h,p),x=Tie(n,u,h,o);return{activeTooltipIndex:h,activeLabel:p,activePayload:v,activeCoordinate:x}}return null},Sie=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,s=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,p=e.children,v=e.stackOffset,x=n4(h,o);return n.reduce(function(S,T){var _,O=T.type.defaultProps!==void 0?oe(oe({},T.type.defaultProps),T.props):T.props,D=O.type,k=O.dataKey,R=O.allowDataOverflow,C=O.allowDuplicatedCategory,j=O.scale,A=O.ticks,P=O.includeHidden,N=O[s];if(S[N])return S;var B=fg(e.data,{graphicalItems:i.filter(function(G){var ge,_e=s in G.props?G.props[s]:(ge=G.type.defaultProps)===null||ge===void 0?void 0:ge[s];return _e===N}),dataStartIndex:c,dataEndIndex:f}),L=B.length,V,$,Z;Qne(O.domain,R,D)&&(V=uw(O.domain,null,R),x&&(D==="number"||j!=="auto")&&(Z=qc(B,k,"category")));var ee=o3(D);if(!V||V.length===0){var ae,se=(ae=O.domain)!==null&&ae!==void 0?ae:ee;if(k){if(V=qc(B,k,D),D==="category"&&x){var Q=$8(V);C&&Q?($=V,V=em(0,L)):C||(V=DN(se,V,T).reduce(function(G,ge){return G.indexOf(ge)>=0?G:[].concat(lu(G),[ge])},[]))}else if(D==="category")C?V=V.filter(function(G){return G!==""&&!st(G)}):V=DN(se,V,T).reduce(function(G,ge){return G.indexOf(ge)>=0||ge===""||st(ge)?G:[].concat(lu(G),[ge])},[]);else if(D==="number"){var ie=JX(B,i.filter(function(G){var ge,_e,Ce=s in G.props?G.props[s]:(ge=G.type.defaultProps)===null||ge===void 0?void 0:ge[s],Re="hide"in G.props?G.props.hide:(_e=G.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return Ce===N&&(P||!Re)}),k,o,h);ie&&(V=ie)}x&&(D==="number"||j!=="auto")&&(Z=qc(B,k,"category"))}else x?V=em(0,L):u&&u[N]&&u[N].hasStack&&D==="number"?V=v==="expand"?[0,1]:o4(u[N].stackGroups,c,f):V=r4(B,i.filter(function(G){var ge=s in G.props?G.props[s]:G.type.defaultProps[s],_e="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ge===N&&(P||!_e)}),D,h,!0);if(D==="number")V=Bw(p,V,N,o,A),se&&(V=uw(se,V,R));else if(D==="category"&&se){var ne=se,z=V.every(function(G){return ne.indexOf(G)>=0});z&&(V=ne)}}return oe(oe({},S),{},De({},N,oe(oe({},O),{},{axisType:o,domain:V,categoricalDomain:Z,duplicateDomain:$,originalDomain:(_=O.domain)!==null&&_!==void 0?_:ee,isCategorical:x,layout:h})))},{})},Aie=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,s=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,p=e.children,v=fg(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:f}),x=v.length,S=n4(h,o),T=-1;return n.reduce(function(_,O){var D=O.type.defaultProps!==void 0?oe(oe({},O.type.defaultProps),O.props):O.props,k=D[s],R=o3("number");if(!_[k]){T++;var C;return S?C=em(0,x):u&&u[k]&&u[k].hasStack?(C=o4(u[k].stackGroups,c,f),C=Bw(p,C,k,o)):(C=uw(R,r4(v,n.filter(function(j){var A,P,N=s in j.props?j.props[s]:(A=j.type.defaultProps)===null||A===void 0?void 0:A[s],B="hide"in j.props?j.props.hide:(P=j.type.defaultProps)===null||P===void 0?void 0:P.hide;return N===k&&!B}),"number",h),i.defaultProps.allowDataOverflow),C=Bw(p,C,k,o)),oe(oe({},_),{},De({},k,oe(oe({axisType:o},i.defaultProps),{},{hide:!0,orientation:wn(_ie,"".concat(o,".").concat(T%2),null),domain:C,originalDomain:R,isCategorical:S,layout:h})))}return _},{})},Pie=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,s=r.graphicalItems,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.children,p="".concat(i,"Id"),v=zn(h,o),x={};return v&&v.length?x=Sie(e,{axes:v,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(x=Aie(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:f})),x},Iie=function(e){var r=Ko(e),n=Ji(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:oE(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:zp(r,n)}},b2=function(e){var r=e.children,n=e.defaultShowTooltip,i=on(r,Zl),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Cie=function(e){return!e||!e.length?!1:e.some(function(r){var n=Zi(r&&r.type);return n&&n.indexOf("Bar")>=0})},_2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Oie=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,u=e.yAxisMap,c=u===void 0?{}:u,f=n.width,h=n.height,p=n.children,v=n.margin||{},x=on(p,Zl),S=on(p,kl),T=Object.keys(c).reduce(function(C,j){var A=c[j],P=A.orientation;return!A.mirror&&!A.hide?oe(oe({},C),{},De({},P,C[P]+A.width)):C},{left:v.left||0,right:v.right||0}),_=Object.keys(s).reduce(function(C,j){var A=s[j],P=A.orientation;return!A.mirror&&!A.hide?oe(oe({},C),{},De({},P,wn(C,"".concat(P))+A.height)):C},{top:v.top||0,bottom:v.bottom||0}),O=oe(oe({},_),T),D=O.bottom;x&&(O.bottom+=x.props.height||Zl.defaultProps.height),S&&r&&(O=XX(O,i,n,r));var k=f-O.left-O.right,R=h-O.top-O.bottom;return oe(oe({brushBottom:D},O),{},{width:Math.max(k,0),height:Math.max(R,0)})},kie=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Nie=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,p=e.defaultProps,v=function(O,D){var k=D.graphicalItems,R=D.stackGroups,C=D.offset,j=D.updateId,A=D.dataStartIndex,P=D.dataEndIndex,N=O.barSize,B=O.layout,L=O.barGap,V=O.barCategoryGap,$=O.maxBarSize,Z=_2(B),ee=Z.numericAxisName,ae=Z.cateAxisName,se=Cie(k),Q=[];return k.forEach(function(ie,ne){var z=fg(O.data,{graphicalItems:[ie],dataStartIndex:A,dataEndIndex:P}),G=ie.type.defaultProps!==void 0?oe(oe({},ie.type.defaultProps),ie.props):ie.props,ge=G.dataKey,_e=G.maxBarSize,Ce=G["".concat(ee,"Id")],Re=G["".concat(ae,"Id")],We={},Le=c.reduce(function(Gt,Gr){var Ai=D["".concat(Gr.axisType,"Map")],ma=G["".concat(Gr.axisType,"Id")];Ai&&Ai[ma]||Gr.axisType==="zAxis"||ms();var Sn=Ai[ma];return oe(oe({},Gt),{},De(De({},Gr.axisType,Sn),"".concat(Gr.axisType,"Ticks"),Ji(Sn)))},We),he=Le[ae],Oe=Le["".concat(ae,"Ticks")],Be=R&&R[Ce]&&R[Ce].hasStack&&cQ(ie,R[Ce].stackGroups),ce=Zi(ie.type).indexOf("Bar")>=0,nt=zp(he,Oe),ze=[],Pt=se&&KX({barSize:N,stackGroups:R,totalSize:kie(Le,ae)});if(ce){var yt,jt,Dr=st(_e)?$:_e,pt=(yt=(jt=zp(he,Oe,!0))!==null&&jt!==void 0?jt:Dr)!==null&&yt!==void 0?yt:0;ze=YX({barGap:L,barCategoryGap:V,bandSize:pt!==nt?pt:nt,sizeList:Pt[Re],maxBarSize:Dr}),pt!==nt&&(ze=ze.map(function(Gt){return oe(oe({},Gt),{},{position:oe(oe({},Gt.position),{},{offset:Gt.position.offset-pt/2})})}))}var vt=ie&&ie.type&&ie.type.getComposedData;vt&&Q.push({props:oe(oe({},vt(oe(oe({},Le),{},{displayedData:z,props:O,dataKey:ge,item:ie,bandSize:nt,barPosition:ze,offset:C,stackedData:Be,layout:B,dataStartIndex:A,dataEndIndex:P}))),{},De(De(De({key:ie.key||"item-".concat(ne)},ee,Le[ee]),ae,Le[ae]),"animationId",j)),childIndex:X8(ie,O.children),item:ie})}),Q},x=function(O,D){var k=O.props,R=O.dataStartIndex,C=O.dataEndIndex,j=O.updateId;if(!XI({props:k}))return null;var A=k.children,P=k.layout,N=k.stackOffset,B=k.data,L=k.reverseStackOrder,V=_2(P),$=V.numericAxisName,Z=V.cateAxisName,ee=zn(A,n),ae=sQ(B,ee,"".concat($,"Id"),"".concat(Z,"Id"),N,L),se=c.reduce(function(G,ge){var _e="".concat(ge.axisType,"Map");return oe(oe({},G),{},De({},_e,Pie(k,oe(oe({},ge),{},{graphicalItems:ee,stackGroups:ge.axisType===$&&ae,dataStartIndex:R,dataEndIndex:C}))))},{}),Q=Oie(oe(oe({},se),{},{props:k,graphicalItems:ee}),D==null?void 0:D.legendBBox);Object.keys(se).forEach(function(G){se[G]=h(k,se[G],Q,G.replace("Map",""),r)});var ie=se["".concat(Z,"Map")],ne=Iie(ie),z=v(k,oe(oe({},se),{},{dataStartIndex:R,dataEndIndex:C,updateId:j,graphicalItems:ee,stackGroups:ae,offset:Q}));return oe(oe({formattedGraphicalItems:z,graphicalItems:ee,offset:Q,stackGroups:ae},ne),se)},S=(function(_){function O(D){var k,R,C;return cie(this,O),C=hie(this,O,[D]),De(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),De(C,"accessibilityManager",new Xne),De(C,"handleLegendBBoxUpdate",function(j){if(j){var A=C.state,P=A.dataStartIndex,N=A.dataEndIndex,B=A.updateId;C.setState(oe({legendBBox:j},x({props:C.props,dataStartIndex:P,dataEndIndex:N,updateId:B},oe(oe({},C.state),{},{legendBBox:j}))))}}),De(C,"handleReceiveSyncEvent",function(j,A,P){if(C.props.syncId===j){if(P===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(A)}}),De(C,"handleBrushChange",function(j){var A=j.startIndex,P=j.endIndex;if(A!==C.state.dataStartIndex||P!==C.state.dataEndIndex){var N=C.state.updateId;C.setState(function(){return oe({dataStartIndex:A,dataEndIndex:P},x({props:C.props,dataStartIndex:A,dataEndIndex:P,updateId:N},C.state))}),C.triggerSyncEvent({dataStartIndex:A,dataEndIndex:P})}}),De(C,"handleMouseEnter",function(j){var A=C.getMouseInfo(j);if(A){var P=oe(oe({},A),{},{isTooltipActive:!0});C.setState(P),C.triggerSyncEvent(P);var N=C.props.onMouseEnter;Ge(N)&&N(P,j)}}),De(C,"triggeredAfterMouseMove",function(j){var A=C.getMouseInfo(j),P=A?oe(oe({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(P),C.triggerSyncEvent(P);var N=C.props.onMouseMove;Ge(N)&&N(P,j)}),De(C,"handleItemMouseEnter",function(j){C.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),De(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),De(C,"handleMouseMove",function(j){j.persist(),C.throttleTriggeredAfterMouseMove(j)}),De(C,"handleMouseLeave",function(j){C.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};C.setState(A),C.triggerSyncEvent(A);var P=C.props.onMouseLeave;Ge(P)&&P(A,j)}),De(C,"handleOuterEvent",function(j){var A=Y8(j),P=wn(C.props,"".concat(A));if(A&&Ge(P)){var N,B;/.*touch.*/i.test(A)?B=C.getMouseInfo(j.changedTouches[0]):B=C.getMouseInfo(j),P((N=B)!==null&&N!==void 0?N:{},j)}}),De(C,"handleClick",function(j){var A=C.getMouseInfo(j);if(A){var P=oe(oe({},A),{},{isTooltipActive:!0});C.setState(P),C.triggerSyncEvent(P);var N=C.props.onClick;Ge(N)&&N(P,j)}}),De(C,"handleMouseDown",function(j){var A=C.props.onMouseDown;if(Ge(A)){var P=C.getMouseInfo(j);A(P,j)}}),De(C,"handleMouseUp",function(j){var A=C.props.onMouseUp;if(Ge(A)){var P=C.getMouseInfo(j);A(P,j)}}),De(C,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),De(C,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.handleMouseDown(j.changedTouches[0])}),De(C,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.handleMouseUp(j.changedTouches[0])}),De(C,"handleDoubleClick",function(j){var A=C.props.onDoubleClick;if(Ge(A)){var P=C.getMouseInfo(j);A(P,j)}}),De(C,"handleContextMenu",function(j){var A=C.props.onContextMenu;if(Ge(A)){var P=C.getMouseInfo(j);A(P,j)}}),De(C,"triggerSyncEvent",function(j){C.props.syncId!==void 0&&e_.emit(t_,C.props.syncId,j,C.eventEmitterSymbol)}),De(C,"applySyncEvent",function(j){var A=C.props,P=A.layout,N=A.syncMethod,B=C.state.updateId,L=j.dataStartIndex,V=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)C.setState(oe({dataStartIndex:L,dataEndIndex:V},x({props:C.props,dataStartIndex:L,dataEndIndex:V,updateId:B},C.state)));else if(j.activeTooltipIndex!==void 0){var $=j.chartX,Z=j.chartY,ee=j.activeTooltipIndex,ae=C.state,se=ae.offset,Q=ae.tooltipTicks;if(!se)return;if(typeof N=="function")ee=N(Q,j);else if(N==="value"){ee=-1;for(var ie=0;ie<Q.length;ie++)if(Q[ie].value===j.activeLabel){ee=ie;break}}var ne=oe(oe({},se),{},{x:se.left,y:se.top}),z=Math.min($,ne.x+ne.width),G=Math.min(Z,ne.y+ne.height),ge=Q[ee]&&Q[ee].value,_e=qw(C.state,C.props.data,ee),Ce=Q[ee]?{x:P==="horizontal"?Q[ee].coordinate:z,y:P==="horizontal"?G:Q[ee].coordinate}:i3;C.setState(oe(oe({},j),{},{activeLabel:ge,activeCoordinate:Ce,activePayload:_e,activeTooltipIndex:ee}))}else C.setState(j)}),De(C,"renderCursor",function(j){var A,P=C.state,N=P.isTooltipActive,B=P.activeCoordinate,L=P.activePayload,V=P.offset,$=P.activeTooltipIndex,Z=P.tooltipAxisBandSize,ee=C.getTooltipEventType(),ae=(A=j.props.active)!==null&&A!==void 0?A:N,se=C.props.layout,Q=j.key||"_recharts-cursor";return K.createElement(nie,{key:Q,activeCoordinate:B,activePayload:L,activeTooltipIndex:$,chartName:r,element:j,isActive:ae,layout:se,offset:V,tooltipAxisBandSize:Z,tooltipEventType:ee})}),De(C,"renderPolarAxis",function(j,A,P){var N=wn(j,"type.axisType"),B=wn(C.state,"".concat(N,"Map")),L=j.type.defaultProps,V=L!==void 0?oe(oe({},L),j.props):j.props,$=B&&B[V["".concat(N,"Id")]];return q.cloneElement(j,oe(oe({},$),{},{className:at(N,$.className),key:j.key||"".concat(A,"-").concat(P),ticks:Ji($,!0)}))}),De(C,"renderPolarGrid",function(j){var A=j.props,P=A.radialLines,N=A.polarAngles,B=A.polarRadius,L=C.state,V=L.radiusAxisMap,$=L.angleAxisMap,Z=Ko(V),ee=Ko($),ae=ee.cx,se=ee.cy,Q=ee.innerRadius,ie=ee.outerRadius;return q.cloneElement(j,{polarAngles:Array.isArray(N)?N:Ji(ee,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(B)?B:Ji(Z,!0).map(function(ne){return ne.coordinate}),cx:ae,cy:se,innerRadius:Q,outerRadius:ie,key:j.key||"polar-grid",radialLines:P})}),De(C,"renderLegend",function(){var j=C.state.formattedGraphicalItems,A=C.props,P=A.children,N=A.width,B=A.height,L=C.props.margin||{},V=N-(L.left||0)-(L.right||0),$=e4({children:P,formattedGraphicalItems:j,legendWidth:V,legendContent:f});if(!$)return null;var Z=$.item,ee=y2($,iie);return q.cloneElement(Z,oe(oe({},ee),{},{chartWidth:N,chartHeight:B,margin:L,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),De(C,"renderTooltip",function(){var j,A=C.props,P=A.children,N=A.accessibilityLayer,B=on(P,fi);if(!B)return null;var L=C.state,V=L.isTooltipActive,$=L.activeCoordinate,Z=L.activePayload,ee=L.activeLabel,ae=L.offset,se=(j=B.props.active)!==null&&j!==void 0?j:V;return q.cloneElement(B,{viewBox:oe(oe({},ae),{},{x:ae.left,y:ae.top}),active:se,label:ee,payload:se?Z:[],coordinate:$,accessibilityLayer:N})}),De(C,"renderBrush",function(j){var A=C.props,P=A.margin,N=A.data,B=C.state,L=B.offset,V=B.dataStartIndex,$=B.dataEndIndex,Z=B.updateId;return q.cloneElement(j,{key:j.key||"_recharts-brush",onChange:jh(C.handleBrushChange,j.props.onChange),data:N,x:xe(j.props.x)?j.props.x:L.left,y:xe(j.props.y)?j.props.y:L.top+L.height+L.brushBottom-(P.bottom||0),width:xe(j.props.width)?j.props.width:L.width,startIndex:V,endIndex:$,updateId:"brush-".concat(Z)})}),De(C,"renderReferenceElement",function(j,A,P){if(!j)return null;var N=C,B=N.clipPathId,L=C.state,V=L.xAxisMap,$=L.yAxisMap,Z=L.offset,ee=j.type.defaultProps||{},ae=j.props,se=ae.xAxisId,Q=se===void 0?ee.xAxisId:se,ie=ae.yAxisId,ne=ie===void 0?ee.yAxisId:ie;return q.cloneElement(j,{key:j.key||"".concat(A,"-").concat(P),xAxis:V[Q],yAxis:$[ne],viewBox:{x:Z.left,y:Z.top,width:Z.width,height:Z.height},clipPathId:B})}),De(C,"renderActivePoints",function(j){var A=j.item,P=j.activePoint,N=j.basePoint,B=j.childIndex,L=j.isRange,V=[],$=A.props.key,Z=A.item.type.defaultProps!==void 0?oe(oe({},A.item.type.defaultProps),A.item.props):A.item.props,ee=Z.activeDot,ae=Z.dataKey,se=oe(oe({index:B,dataKey:ae,cx:P.x,cy:P.y,r:4,fill:jE(A.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},ot(ee,!1)),yp(ee));return V.push(O.renderActiveDot(ee,se,"".concat($,"-activePoint-").concat(B))),N?V.push(O.renderActiveDot(ee,oe(oe({},se),{},{cx:N.x,cy:N.y}),"".concat($,"-basePoint-").concat(B))):L&&V.push(null),V}),De(C,"renderGraphicChild",function(j,A,P){var N=C.filterFormatItem(j,A,P);if(!N)return null;var B=C.getTooltipEventType(),L=C.state,V=L.isTooltipActive,$=L.tooltipAxis,Z=L.activeTooltipIndex,ee=L.activeLabel,ae=C.props.children,se=on(ae,fi),Q=N.props,ie=Q.points,ne=Q.isRange,z=Q.baseLine,G=N.item.type.defaultProps!==void 0?oe(oe({},N.item.type.defaultProps),N.item.props):N.item.props,ge=G.activeDot,_e=G.hide,Ce=G.activeBar,Re=G.activeShape,We=!!(!_e&&V&&se&&(ge||Ce||Re)),Le={};B!=="axis"&&se&&se.props.trigger==="click"?Le={onClick:jh(C.handleItemMouseEnter,j.props.onClick)}:B!=="axis"&&(Le={onMouseLeave:jh(C.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:jh(C.handleItemMouseEnter,j.props.onMouseEnter)});var he=q.cloneElement(j,oe(oe({},N.props),Le));function Oe(Gr){return typeof $.dataKey=="function"?$.dataKey(Gr.payload):null}if(We)if(Z>=0){var Be,ce;if($.dataKey&&!$.allowDuplicatedCategory){var nt=typeof $.dataKey=="function"?Oe:"payload.".concat($.dataKey.toString());Be=C_(ie,nt,ee),ce=ne&&z&&C_(z,nt,ee)}else Be=ie==null?void 0:ie[Z],ce=ne&&z&&z[Z];if(Re||Ce){var ze=j.props.activeIndex!==void 0?j.props.activeIndex:Z;return[q.cloneElement(j,oe(oe(oe({},N.props),Le),{},{activeIndex:ze})),null,null]}if(!st(Be))return[he].concat(lu(C.renderActivePoints({item:N,activePoint:Be,basePoint:ce,childIndex:Z,isRange:ne})))}else{var Pt,yt=(Pt=C.getItemByXY(C.state.activeCoordinate))!==null&&Pt!==void 0?Pt:{graphicalItem:he},jt=yt.graphicalItem,Dr=jt.item,pt=Dr===void 0?j:Dr,vt=jt.childIndex,Gt=oe(oe(oe({},N.props),Le),{},{activeIndex:vt});return[q.cloneElement(pt,Gt),null,null]}return ne?[he,null,null]:[he,null]}),De(C,"renderCustomized",function(j,A,P){return q.cloneElement(j,oe(oe({key:"recharts-customized-".concat(P)},C.props),C.state))}),De(C,"renderMap",{CartesianGrid:{handler:$h,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:$h},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:$h},YAxis:{handler:$h},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((k=D.id)!==null&&k!==void 0?k:Lm("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=tL(C.triggeredAfterMouseMove,(R=D.throttleDelay)!==null&&R!==void 0?R:1e3/60),C.state={},C}return gie(O,_),die(O,[{key:"componentDidMount",value:function(){var k,R;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,R=k.children,C=k.data,j=k.height,A=k.layout,P=on(R,fi);if(P){var N=P.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,L=qw(this.state,C,N,B),V=this.state.tooltipTicks[N].coordinate,$=(this.state.offset.top+j)/2,Z=A==="horizontal",ee=Z?{x:V,y:$}:{y:V,x:$},ae=this.state.formattedGraphicalItems.find(function(Q){var ie=Q.item;return ie.type.name==="Scatter"});ae&&(ee=oe(oe({},ee),ae.props.points[N].tooltipPosition),L=ae.props.points[N].tooltipPayload);var se={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:B,activePayload:L,activeCoordinate:ee};this.setState(se),this.renderCursor(P),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,R){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==R.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var C,j;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(k){k_([on(k.children,fi)],[on(this.props.children,fi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=on(this.props.children,fi);if(k&&typeof k.props.shared=="boolean"){var R=k.props.shared?"axis":"item";return u.indexOf(R)>=0?R:o}return o}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var R=this.container,C=R.getBoundingClientRect(),j=LH(C),A={chartX:Math.round(k.pageX-j.left),chartY:Math.round(k.pageY-j.top)},P=C.width/R.offsetWidth||1,N=this.inRange(A.chartX,A.chartY,P);if(!N)return null;var B=this.state,L=B.xAxisMap,V=B.yAxisMap,$=this.getTooltipEventType(),Z=x2(this.state,this.props.data,this.props.layout,N);if($!=="axis"&&L&&V){var ee=Ko(L).scale,ae=Ko(V).scale,se=ee&&ee.invert?ee.invert(A.chartX):null,Q=ae&&ae.invert?ae.invert(A.chartY):null;return oe(oe({},A),{},{xValue:se,yValue:Q},Z)}return Z?oe(oe({},A),Z):null}},{key:"inRange",value:function(k,R){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,A=k/C,P=R/C;if(j==="horizontal"||j==="vertical"){var N=this.state.offset,B=A>=N.left&&A<=N.left+N.width&&P>=N.top&&P<=N.top+N.height;return B?{x:A,y:P}:null}var L=this.state,V=L.angleAxisMap,$=L.radiusAxisMap;if(V&&$){var Z=Ko(V);return $N({x:A,y:P},Z)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,R=this.getTooltipEventType(),C=on(k,fi),j={};C&&R==="axis"&&(C.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=yp(this.props,this.handleOuterEvent);return oe(oe({},A),j)}},{key:"addListener",value:function(){e_.on(t_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){e_.removeListener(t_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,R,C){for(var j=this.state.formattedGraphicalItems,A=0,P=j.length;A<P;A++){var N=j[A];if(N.item===k||N.props.key===k.key||R===Zi(N.item.type)&&C===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,R=this.state.offset,C=R.left,j=R.top,A=R.height,P=R.width;return K.createElement("defs",null,K.createElement("clipPath",{id:k},K.createElement("rect",{x:C,y:j,height:A,width:P})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function(R,C){var j=g2(C,2),A=j[0],P=j[1];return oe(oe({},R),{},De({},A,P.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function(R,C){var j=g2(C,2),A=j[0],P=j[1];return oe(oe({},R),{},De({},A,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var R;return(R=this.state.xAxisMap)===null||R===void 0||(R=R[k])===null||R===void 0?void 0:R.scale}},{key:"getYScaleByAxisId",value:function(k){var R;return(R=this.state.yAxisMap)===null||R===void 0||(R=R[k])===null||R===void 0?void 0:R.scale}},{key:"getItemByXY",value:function(k){var R=this.state,C=R.formattedGraphicalItems,j=R.activeItem;if(C&&C.length)for(var A=0,P=C.length;A<P;A++){var N=C[A],B=N.props,L=N.item,V=L.type.defaultProps!==void 0?oe(oe({},L.type.defaultProps),L.props):L.props,$=Zi(L.type);if($==="Bar"){var Z=(B.data||[]).find(function(Q){return iee(k,Q)});if(Z)return{graphicalItem:N,payload:Z}}else if($==="RadialBar"){var ee=(B.data||[]).find(function(Q){return $N(k,Q)});if(ee)return{graphicalItem:N,payload:ee}}else if(rg(N,j)||ng(N,j)||jf(N,j)){var ae=Kee({graphicalItem:N,activeTooltipItem:j,itemData:V.data}),se=V.activeIndex===void 0?ae:V.activeIndex;return{graphicalItem:oe(oe({},N),{},{childIndex:se}),payload:jf(N,j)?V.data[ae]:N.props.data[ae]}}}return null}},{key:"render",value:function(){var k=this;if(!XI(this))return null;var R=this.props,C=R.children,j=R.className,A=R.width,P=R.height,N=R.style,B=R.compact,L=R.title,V=R.desc,$=y2(R,oie),Z=ot($,!1);if(B)return K.createElement(e2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(j_,wl({},Z,{width:A,height:P,title:L,desc:V}),this.renderClipPath(),JI(C,this.renderMap)));if(this.props.accessibilityLayer){var ee,ae;Z.tabIndex=(ee=this.props.tabIndex)!==null&&ee!==void 0?ee:0,Z.role=(ae=this.props.role)!==null&&ae!==void 0?ae:"application",Z.onKeyDown=function(Q){k.accessibilityManager.keyboardEvent(Q)},Z.onFocus=function(){k.accessibilityManager.focus()}}var se=this.parseEventsOfWrapper();return K.createElement(e2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",wl({className:at("recharts-wrapper",j),style:oe({position:"relative",cursor:"default",width:A,height:P},N)},se,{ref:function(ie){k.container=ie}}),K.createElement(j_,wl({},Z,{width:A,height:P,title:L,desc:V,style:wie}),this.renderClipPath(),JI(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(q.Component);De(S,"displayName",r),De(S,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),De(S,"getDerivedStateFromProps",function(_,O){var D=_.dataKey,k=_.data,R=_.children,C=_.width,j=_.height,A=_.layout,P=_.stackOffset,N=_.margin,B=O.dataStartIndex,L=O.dataEndIndex;if(O.updateId===void 0){var V=b2(_);return oe(oe(oe({},V),{},{updateId:0},x(oe(oe({props:_},V),{},{updateId:0}),O)),{},{prevDataKey:D,prevData:k,prevWidth:C,prevHeight:j,prevLayout:A,prevStackOffset:P,prevMargin:N,prevChildren:R})}if(D!==O.prevDataKey||k!==O.prevData||C!==O.prevWidth||j!==O.prevHeight||A!==O.prevLayout||P!==O.prevStackOffset||!Ol(N,O.prevMargin)){var $=b2(_),Z={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},ee=oe(oe({},x2(O,k,A)),{},{updateId:O.updateId+1}),ae=oe(oe(oe({},$),Z),ee);return oe(oe(oe({},ae),x(oe({props:_},ae),O)),{},{prevDataKey:D,prevData:k,prevWidth:C,prevHeight:j,prevLayout:A,prevStackOffset:P,prevMargin:N,prevChildren:R})}if(!k_(R,O.prevChildren)){var se,Q,ie,ne,z=on(R,Zl),G=z&&(se=(Q=z.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&se!==void 0?se:B,ge=z&&(ie=(ne=z.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&ie!==void 0?ie:L,_e=G!==B||ge!==L,Ce=!st(k),Re=Ce&&!_e?O.updateId:O.updateId+1;return oe(oe({updateId:Re},x(oe(oe({props:_},O),{},{updateId:Re,dataStartIndex:G,dataEndIndex:ge}),O)),{},{prevChildren:R,dataStartIndex:G,dataEndIndex:ge})}return null}),De(S,"renderActiveDot",function(_,O,D){var k;return q.isValidElement(_)?k=q.cloneElement(_,O):Ge(_)?k=_(O):k=K.createElement(y4,O),K.createElement(lr,{className:"recharts-active-dot",key:D},k)});var T=q.forwardRef(function(O,D){return K.createElement(S,wl({},O,{ref:D}))});return T.displayName=S.displayName,T},jie=Nie({chartName:"BarChart",GraphicalChild:ro,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ug},{axisType:"yAxis",AxisComp:cg}],formatAxisMap:zte});function Rie({budget:t,currency:e}){const r=t.map(i=>({name:i.name,emoji:i.emoji,min:i.min||0,max:i.max||0,actual:i.actual||0})),n=({active:i,payload:o,label:s})=>!i||!(o!=null&&o.length)?null:g.jsxs("div",{className:"bg-bg-secondary border border-border rounded-[var(--radius-md)] p-3",children:[g.jsx("p",{className:"text-text-primary font-medium text-sm mb-1",children:s}),o.map((u,c)=>g.jsxs("p",{className:"text-xs",style:{color:u.color},children:[u.name,": ",sn(u.value,e)]},c))]});return g.jsx(OH,{width:"100%",height:280,children:g.jsxs(jie,{data:r,margin:{top:10,right:10,left:0,bottom:0},children:[g.jsx(H4,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),g.jsx(ug,{dataKey:"name",stroke:"var(--color-text-muted)",fontSize:11,tickLine:!1,axisLine:!1}),g.jsx(cg,{stroke:"var(--color-text-muted)",fontSize:11,tickLine:!1,axisLine:!1,tickFormatter:i=>sn(i,e)}),g.jsx(fi,{content:g.jsx(n,{})}),g.jsx(ro,{dataKey:"min",name:"Min Budget",fill:"#6A9BCC",opacity:.4,radius:[2,2,0,0]}),g.jsx(ro,{dataKey:"max",name:"Max Budget",fill:"#6A9BCC",opacity:.7,radius:[2,2,0,0]}),g.jsx(ro,{dataKey:"actual",name:"Actual Spent",radius:[4,4,0,0],children:r.map((i,o)=>g.jsx(sE,{fill:i.actual>i.max?"#C15F3C":"#D97757"},o))})]})})}function Die({category:t,currency:e,travelers:r,perPerson:n}){const{dispatch:i}=Bt(),o=n?Math.max(r,1):1,s=t.actual>t.max&&t.max>0;return g.jsxs(vr,{className:"animate-fade-in",children:[g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-xl",children:t.emoji}),g.jsx(qr,{value:t.name,onSave:u=>i({type:pe.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{name:u}}}),className:"font-medium text-text-primary text-sm"})]}),g.jsx("button",{onClick:()=>i({type:pe.DELETE_BUDGET_CATEGORY,payload:t.id}),className:"text-xs text-text-muted hover:text-danger transition-colors",children:""})]}),g.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-4 text-sm",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-text-muted text-xs block",children:"Min"}),g.jsx(qr,{value:t.min?String(Math.round(t.min/o)):"",onSave:u=>i({type:pe.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{min:(Number(u)||0)*o}}}),className:"text-text-primary font-mono text-xs",placeholder:"0"})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-text-muted text-xs block",children:"Max"}),g.jsx(qr,{value:t.max?String(Math.round(t.max/o)):"",onSave:u=>i({type:pe.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{max:(Number(u)||0)*o}}}),className:"text-text-primary font-mono text-xs",placeholder:"0"})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-text-muted text-xs block",children:"Actual"}),g.jsx(qr,{value:t.actual?String(Math.round(t.actual/o)):"",onSave:u=>i({type:pe.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{actual:(Number(u)||0)*o}}}),className:`font-mono text-xs ${s?"text-danger font-bold":"text-text-primary"}`,placeholder:"0"})]})]}),s&&g.jsxs("p",{className:"text-xs text-danger mt-2 font-medium",children:[" Over budget by ",sn(t.actual-t.max,e)]}),g.jsxs("div",{className:"mt-2 text-xs text-text-muted",children:["Range: ",sn(Math.round(t.min/o),e),"  ",sn(Math.round(t.max/o),e),n&&" per person"]})]})}function Mie({onAdd:t,onCancel:e,categories:r,currency:n}){var p;const[i,o]=q.useState(""),[s,u]=q.useState(""),[c,f]=q.useState(((p=r[0])==null?void 0:p.name)||""),h=v=>{v.preventDefault(),!(!i.trim()||!s)&&(t({description:i.trim(),amount:Number(s),category:c}),o(""),u(""))};return g.jsx(vr,{children:g.jsxs("form",{onSubmit:h,className:"flex flex-wrap gap-2 items-end",children:[g.jsxs("div",{className:"flex-1 min-w-[160px]",children:[g.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Description"}),g.jsx("input",{value:i,onChange:v=>o(v.target.value),placeholder:"What did you spend on?",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0})]}),g.jsxs("div",{className:"w-28",children:[g.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Amount"}),g.jsx("input",{type:"number",value:s,onChange:v=>u(v.target.value),placeholder:"0",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Category"}),g.jsx("select",{value:c,onChange:v=>f(v.target.value),className:"px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",children:r.map(v=>g.jsxs("option",{value:v.name,children:[v.emoji," ",v.name]},v.id))})]}),g.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),g.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"})]})})}function Lie(){var p;const{activeTrip:t,dispatch:e}=Bt(),[r,n]=q.useState(!1),[i,o]=q.useState(!1);if(!t)return null;const s=t,u=s.budget||[],c=s.currency||"PHP",f=q.useMemo(()=>({min:u.reduce((v,x)=>v+(x.min||0),0),max:u.reduce((v,x)=>v+(x.max||0),0),actual:u.reduce((v,x)=>v+(x.actual||0),0)}),[u]),h=r?Math.max(s.travelers,1):1;return g.jsxs("div",{className:"space-y-6 animate-fade-in",children:[g.jsxs(vr,{children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"font-heading text-lg text-text-primary",children:" Budget"}),g.jsx("button",{onClick:()=>n(!r),className:`px-3 py-1 text-xs rounded-[var(--radius-pill)] border transition-colors
              ${r?"bg-accent text-white border-accent":"border-border text-text-muted hover:text-text-secondary"}`,children:r?"Per Person":"Total"})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-5 text-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Min Estimate"}),g.jsx("p",{className:"font-heading text-xl text-text-primary mt-1",children:sn(Math.round(f.min/h),c)})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Max Estimate"}),g.jsx("p",{className:"font-heading text-xl text-text-primary mt-1",children:sn(Math.round(f.max/h),c)})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Spent"}),g.jsx("p",{className:`font-heading text-xl mt-1 ${f.actual>f.max&&f.max>0?"text-danger":"text-accent"}`,children:sn(Math.round(f.actual/h),c)})]})]}),r&&g.jsxs("p",{className:"text-xs text-text-muted text-center mt-2",children:["Showing per person (",s.travelers," travelers)"]})]}),u.length>0&&g.jsx(vr,{children:g.jsx(Rie,{budget:u,currency:c})}),g.jsx("div",{className:"grid sm:grid-cols-2 gap-5",children:u.map(v=>g.jsx(Die,{category:v,currency:c,travelers:s.travelers,perPerson:r},v.id))}),g.jsx("button",{onClick:()=>e({type:pe.ADD_BUDGET_CATEGORY,payload:{name:"New Category",emoji:""}}),className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add budget category"}),g.jsxs(vr,{children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"font-heading text-sm text-text-primary",children:"Spending Log"}),g.jsx("button",{onClick:()=>o(!0),className:"text-xs text-accent hover:text-accent-hover",children:"+ Log expense"})]}),i&&g.jsx("div",{className:"mb-3",children:g.jsx(Mie,{categories:u,currency:c,onAdd:v=>{e({type:pe.ADD_SPENDING,payload:v}),o(!1)},onCancel:()=>o(!1)})}),((p=s.spendingLog)==null?void 0:p.length)>0?g.jsx("div",{className:"space-y-2",children:s.spendingLog.map(v=>g.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50 last:border-0 group",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-text-primary",children:v.description}),g.jsxs("p",{className:"text-xs text-text-muted",children:[v.date,"  ",v.category]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm font-mono text-text-primary",children:sn(v.amount,c)}),g.jsx("button",{onClick:()=>e({type:pe.DELETE_SPENDING,payload:v.id}),className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-xs transition-opacity",children:""})]})]},v.id))}):g.jsx("p",{className:"text-sm text-text-muted italic",children:"No expenses logged yet."})]})]})}const w2=["#D97757","#D4A72C","#788C5D","#6A9BCC","#C15F3C","#E07BA0"];function a3({trigger:t}){const[e,r]=q.useState([]);return q.useEffect(()=>{if(!t)return;const n=Array.from({length:30},(o,s)=>({id:Date.now()+s,left:Math.random()*100,color:w2[Math.floor(Math.random()*w2.length)],delay:Math.random()*.5,size:6+Math.random()*6,duration:2+Math.random()*1}));r(n);const i=setTimeout(()=>r([]),3500);return()=>clearTimeout(i)},[t]),e.length===0?null:g.jsx(g.Fragment,{children:e.map(n=>g.jsx("div",{className:"confetti-piece",style:{left:`${n.left}%`,backgroundColor:n.color,width:n.size,height:n.size,animationDelay:`${n.delay}s`,animationDuration:`${n.duration}s`}},n.id))})}function $ie({todo:t,onToggle:e,onUpdate:r,onDelete:n}){const[i,o]=q.useState(!1),[s,u]=q.useState(t.text),c=()=>{o(!1),s.trim()!==t.text&&r({text:s.trim()})};return g.jsxs("div",{className:`flex items-center gap-3 py-2.5 group transition-opacity ${t.done?"opacity-60":""}`,children:[g.jsx("button",{onClick:e,className:`flex-shrink-0 w-5 h-5 rounded-[var(--radius-sm)] border-2 transition-all flex items-center justify-center
          ${t.done?"bg-success border-success text-white animate-check-pop":"border-border-strong hover:border-accent"}`,children:t.done&&g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:g.jsx("path",{d:"M2 6l3 3 5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[i?g.jsx("input",{value:s,onChange:f=>u(f.target.value),onBlur:c,onKeyDown:f=>{f.key==="Enter"&&c(),f.key==="Escape"&&(u(t.text),o(!1))},className:"w-full px-2 py-0.5 text-sm bg-bg-input border border-accent/30 rounded-[var(--radius-sm)] text-text-primary outline-none focus:border-accent",autoFocus:!0}):g.jsx("span",{onClick:()=>{u(t.text),o(!0)},className:`text-sm cursor-pointer hover:border-b hover:border-accent/30 transition-colors
              ${t.done?"line-through text-text-muted":"text-text-primary"}`,children:t.text}),g.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:t.dueDate&&g.jsx("span",{className:"text-xs text-text-muted",children:t.dueDate})})]}),t.priority==="high"&&g.jsx("span",{className:"flex-shrink-0 w-2 h-2 rounded-full bg-danger",title:"High priority"}),g.jsx("button",{onClick:n,className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-xs transition-opacity flex-shrink-0",children:""})]})}function Vie({category:t,onAdd:e}){const[r,n]=q.useState(""),[i,o]=q.useState(""),[s,u]=q.useState("normal"),[c,f]=q.useState(!1),h=p=>{p.preventDefault(),r.trim()&&(e({text:r.trim(),category:t,dueDate:i,priority:s}),n(""),o(""),u("normal"),f(!1))};return c?g.jsxs("form",{onSubmit:h,className:"flex gap-2 items-center py-1",children:[g.jsx("input",{value:r,onChange:p=>n(p.target.value),placeholder:"New task...",className:"flex-1 px-2 py-1 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0}),g.jsx("input",{type:"date",value:i,onChange:p=>o(p.target.value),className:"px-2 py-1 text-xs bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary"}),g.jsx("button",{type:"button",onClick:()=>u(p=>p==="high"?"normal":"high"),className:`text-xs px-2 py-1 rounded-[var(--radius-sm)] border transition-colors
          ${s==="high"?"border-danger text-danger bg-danger/10":"border-border text-text-muted"}`,title:"Toggle high priority",children:"!!"}),g.jsx("button",{type:"submit",className:"px-2 py-1 text-xs bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),g.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-xs text-text-muted",children:""})]}):g.jsx("button",{onClick:()=>f(!0),className:"text-xs text-accent hover:text-accent-hover transition-colors py-1",children:"+ Add task"})}function Bie(){const{activeTrip:t,dispatch:e,showToast:r}=Bt(),[n,i]=q.useState("all"),[o,s]=q.useState(0);if(!t)return null;const c=t.todos||[],f=q.useMemo(()=>{const R=[...new Set(c.map(C=>C.category))];return dq.forEach(C=>{R.includes(C)||R.push(C)}),R},[c]),h=q.useMemo(()=>{switch(n){case"high":return c.filter(R=>R.priority==="high");case"incomplete":return c.filter(R=>!R.done);case"complete":return c.filter(R=>R.done);default:return c}},[c,n]),p=q.useMemo(()=>{const R={};return f.forEach(C=>{R[C]=[]}),h.forEach(C=>{const j=C.category||"Misc";R[j]||(R[j]=[]),R[j].push(C)}),R},[h,f]),v=c.filter(R=>R.done).length,x=c.length,S=q.useCallback(R=>{e({type:pe.TOGGLE_TODO,payload:R});const C=c.find(j=>j.id===R);C&&!C.done&&v+1===x&&(s(A=>A+1),r("You're all set! Have an amazing trip "))},[e,c,v,x,r]),[T,_]=q.useState(!1),[O,D]=q.useState(""),k=[{id:"all",label:`All (${x})`},{id:"high",label:"High Priority"},{id:"incomplete",label:`Incomplete (${x-v})`},{id:"complete",label:`Complete (${v})`}];return g.jsxs("div",{className:"space-y-6 animate-fade-in",children:[g.jsx(a3,{trigger:o}),g.jsx("div",{className:"flex items-center justify-between",children:g.jsxs("h2",{className:"font-heading text-lg text-text-primary",children:[" To-Do  ",v,"/",x," done"]})}),g.jsx("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide",children:k.map(R=>g.jsx("button",{onClick:()=>i(R.id),className:`px-3 py-1.5 text-xs font-medium rounded-[var(--radius-pill)] whitespace-nowrap transition-colors
              ${n===R.id?"bg-accent text-white":"bg-bg-secondary text-text-muted hover:text-text-secondary border border-border"}`,children:R.label},R.id))}),Object.entries(p).map(([R,C])=>{const j=C.filter(P=>P.done).length,A=C.length;return g.jsxs(vr,{children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h3",{className:"font-heading text-sm font-semibold text-text-primary",children:R}),g.jsxs("span",{className:"text-xs text-text-muted",children:[j,"/",A]})]}),g.jsx("div",{className:"divide-y divide-border/30",children:C.map(P=>g.jsx($ie,{todo:P,onToggle:()=>S(P.id),onUpdate:N=>e({type:pe.UPDATE_TODO,payload:{id:P.id,updates:N}}),onDelete:()=>e({type:pe.DELETE_TODO,payload:P.id})},P.id))}),g.jsx(Vie,{category:R,onAdd:P=>e({type:pe.ADD_TODO,payload:P})})]},R)}),T?g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{value:O,onChange:R=>D(R.target.value),placeholder:"Category name",className:"flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",autoFocus:!0,onKeyDown:R=>{R.key==="Enter"&&O.trim()&&(e({type:pe.ADD_TODO,payload:{text:"New task",category:O.trim()}}),D(""),_(!1))}}),g.jsx("button",{onClick:()=>_(!1),className:"text-sm text-text-muted",children:"Cancel"})]}):g.jsx("button",{onClick:()=>_(!0),className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add category"})]})}function Fie({city:t}){const{dispatch:e}=Bt(),r=n=>{e({type:pe.UPDATE_CITY,payload:{id:t.id,updates:n}})};return g.jsxs(vr,{className:"animate-fade-in-up",children:[g.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[g.jsx("span",{className:"text-4xl flex-shrink-0",children:t.flag}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx(qr,{value:t.city,onSave:n=>r({city:n}),className:"font-heading text-xl text-text-primary font-bold",placeholder:"City name"}),g.jsx(qr,{value:t.country,onSave:n=>r({country:n}),tag:"div",className:"text-sm text-text-muted mt-1",placeholder:"Country"})]}),g.jsx("button",{onClick:()=>e({type:pe.DELETE_CITY,payload:t.id}),className:"text-xs text-text-muted hover:text-danger transition-colors flex-shrink-0",title:"Remove city",children:""})]}),g.jsx("div",{className:"divide-y divide-border",children:[{label:" Highlights",field:"highlights",placeholder:"What makes this city special?"},{label:" Must-Do",field:"mustDo",placeholder:"Can't-miss activities"},{label:" Weather",field:"weather",placeholder:"Expected weather during your visit"},{label:" Currency",field:"currencyTip",placeholder:"Local currency and payment tips"},{label:" Notes",field:"notes",placeholder:"Your personal notes for this city",multiline:!0}].map(({label:n,field:i,placeholder:o,multiline:s})=>g.jsxs("div",{className:"py-4",children:[g.jsx("h4",{className:"text-[10px] font-semibold text-text-muted uppercase tracking-widest mb-2",children:n}),g.jsx(qr,{value:t[i],onSave:u=>r({[i]:u}),className:"text-sm text-text-secondary leading-relaxed",placeholder:o,multiline:s})]},i))})]})}function Uie({onAdd:t,onCancel:e}){const[r,n]=q.useState({city:"",country:"",flag:""}),i=o=>{if(o.preventDefault(),!r.city.trim())return;const s=$1(r.city,r.country,r.flag);t(s)};return g.jsx(vr,{children:g.jsx("form",{onSubmit:i,children:g.jsxs("div",{className:"flex flex-wrap gap-2 items-end",children:[g.jsx("div",{className:"flex items-center justify-center w-10 h-10 text-2xl mt-auto mb-0.5",children:r.flag||g.jsx("span",{className:"text-text-muted text-base",children:""})}),g.jsxs("div",{className:"flex-1 min-w-[160px]",children:[g.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"City"}),g.jsx(ZD,{value:r.city,country:r.country,flag:r.flag,onChange:o=>n(s=>({...s,...o})),placeholder:"e.g., Bangkok",autoFocus:!0})]}),g.jsxs("div",{className:"flex-1 min-w-[140px]",children:[g.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Country"}),g.jsx("input",{value:r.country,onChange:o=>n(s=>({...s,country:o.target.value})),placeholder:"e.g., Thailand",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]}),g.jsxs("div",{className:"flex gap-2 items-end",children:[g.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover transition-colors",children:"Add"}),g.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm text-text-muted hover:text-text-secondary transition-colors",children:"Cancel"})]})]})})})}function qie(){const{activeTrip:t,dispatch:e}=Bt(),[r,n]=q.useState(!1);if(!t)return null;const i=t.cities||[];return g.jsxs("div",{className:"space-y-6 animate-fade-in",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h2",{className:"font-heading text-lg text-text-primary",children:[" Cities  ",i.length," destinations"]}),g.jsx("button",{onClick:()=>n(!0),className:"px-3 py-1.5 text-sm bg-accent text-white rounded-[var(--radius-md)] hover:bg-accent-hover transition-colors",children:"+ Add City"})]}),r&&g.jsx(Uie,{onAdd:o=>{e({type:pe.ADD_CITY,payload:o}),n(!1)},onCancel:()=>n(!1)}),i.length>0?g.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:i.map(o=>g.jsx(Fie,{city:o},o.id))}):g.jsxs(vr,{className:"text-center py-12",children:[g.jsx("p",{className:"text-4xl mb-3",children:""}),g.jsx("p",{className:"text-text-muted",children:"No city guides yet."}),g.jsx("p",{className:"text-text-muted text-sm mt-1",children:'Click "+ Add City" or add destinations when creating a trip.'})]})]})}function zie({item:t,onToggle:e,onDelete:r}){return g.jsxs("div",{className:"flex items-center gap-3 py-1.5 group",children:[g.jsx("button",{onClick:e,className:`flex-shrink-0 w-4.5 h-4.5 rounded border-2 transition-all flex items-center justify-center
          ${t.packed?"bg-success border-success text-white animate-check-pop":"border-border-strong hover:border-accent"}`,style:{width:18,height:18},children:t.packed&&g.jsx("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",children:g.jsx("path",{d:"M2 6l3 3 5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),g.jsx("span",{className:`flex-1 text-sm ${t.packed?"line-through text-text-muted":"text-text-primary"}`,children:t.name}),g.jsx("button",{onClick:r,className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-xs transition-opacity",children:""})]})}function Wie({section:t,onAdd:e}){const[r,n]=q.useState(""),[i,o]=q.useState(!1);if(!i)return g.jsx("button",{onClick:()=>o(!0),className:"text-xs text-accent hover:text-accent-hover transition-colors mt-1",children:"+ Add item"});const s=u=>{u.preventDefault(),r.trim()&&(e({name:r.trim(),section:t}),n(""))};return g.jsxs("form",{onSubmit:s,className:"flex gap-2 mt-2",children:[g.jsx("input",{value:r,onChange:u=>n(u.target.value),placeholder:"Item name...",className:"flex-1 px-2 py-1 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0}),g.jsx("button",{type:"submit",className:"px-2 py-1 text-xs bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),g.jsx("button",{type:"button",onClick:()=>o(!1),className:"text-xs text-text-muted",children:""})]})}function Hie(){const{activeTrip:t,dispatch:e,showToast:r}=Bt(),[n,i]=q.useState(0),[o,s]=q.useState(!1),[u,c]=q.useState(!1),[f,h]=q.useState("");if(!t)return null;const v=t.packingList||[],x=v.filter(k=>k.packed).length,S=v.length,T=q.useMemo(()=>{const k=[...new Set(v.map(R=>R.section))];return LP.forEach(R=>{k.includes(R)||k.push(R)}),k},[v]),_=q.useMemo(()=>{const k={};return T.forEach(R=>{k[R]=[]}),v.forEach(R=>{const C=R.section||"Misc";k[C]||(k[C]=[]),k[C].push(R)}),k},[v,T]),O=q.useCallback(k=>{e({type:pe.TOGGLE_PACKING_ITEM,payload:k});const R=v.find(C=>C.id===k);R&&!R.packed&&x+1===S&&(i(j=>j+1),r("All packed! You're ready to go "))},[e,v,x,S,r]),D={Documents:"",Clothing:"",Tech:"","Concert Essentials":"",Toiletries:"",Misc:""};return g.jsxs("div",{className:"space-y-6 animate-fade-in",children:[g.jsx(a3,{trigger:n}),g.jsx(KD,{isOpen:o,onClose:()=>s(!1),onConfirm:()=>{e({type:pe.RESET_PACKING}),r("Packing list reset")},title:"Reset Packing List?",message:"This will uncheck all packed items. Your items will not be removed.",confirmLabel:"Reset All",danger:!1}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h2",{className:"font-heading text-lg text-text-primary",children:[" Packing  ",x,"/",S," packed"]}),S>0&&g.jsx("button",{onClick:()=>s(!0),className:"text-xs text-text-muted hover:text-danger transition-colors",children:"Reset all"})]}),g.jsx(Cl,{value:x,max:S,colorClass:"bg-accent",height:"h-2.5"}),Object.entries(_).map(([k,R])=>{if(R.length===0&&!LP.includes(k))return null;const C=R.filter(A=>A.packed).length,j=D[k]||"";return g.jsxs(vr,{children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"font-heading text-sm font-semibold text-text-primary",children:[j," ",k]}),g.jsxs("span",{className:"text-xs text-text-muted",children:[C,"/",R.length]})]}),g.jsx("div",{className:"space-y-1",children:R.map(A=>g.jsx(zie,{item:A,onToggle:()=>O(A.id),onDelete:()=>e({type:pe.DELETE_PACKING_ITEM,payload:A.id})},A.id))}),g.jsx(Wie,{section:k,onAdd:A=>e({type:pe.ADD_PACKING_ITEM,payload:A})})]},k)}),u?g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{value:f,onChange:k=>h(k.target.value),placeholder:"Section name",className:"flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",autoFocus:!0,onKeyDown:k=>{k.key==="Enter"&&f.trim()&&(e({type:pe.ADD_PACKING_ITEM,payload:{name:"New item",section:f.trim()}}),h(""),c(!1))}}),g.jsx("button",{onClick:()=>c(!1),className:"text-sm text-text-muted",children:"Cancel"})]}):g.jsx("button",{onClick:()=>c(!0),className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add section"})]})}function Gie({targetDate:t}){const e=QD(t);return e.expired?g.jsx("div",{className:"text-center py-4",children:g.jsx("p",{className:"text-3xl font-heading font-bold text-red-500",children:" IT'S SHOWTIME! "})}):g.jsxs("div",{className:"text-center py-6",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-red-400 mb-4 font-semibold",children:"Countdown to showtime"}),g.jsx("div",{className:"flex justify-center gap-6",children:[{value:e.days,label:"Days"},{value:e.hours,label:"Hours"},{value:e.minutes,label:"Min"},{value:e.seconds,label:"Sec"}].map((r,n)=>g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:`text-4xl md:text-5xl font-heading font-bold text-white
              ${r.label==="Sec"?"animate-pulse":""}`,children:String(r.value).padStart(2,"0")}),g.jsx("div",{className:"text-xs text-red-400/70 uppercase tracking-wider mt-1",children:r.label})]},n))})]})}function Kie(){var o,s,u,c,f,h;const{activeTrip:t}=Bt();if(!t)return null;const e=t,r=(o=e.bookings)==null?void 0:o.find(p=>p.category==="concert");if(!r)return g.jsxs(vr,{className:"text-center py-12",children:[g.jsx("p",{className:"text-4xl mb-3",children:""}),g.jsx("p",{className:"text-text-muted",children:"No concert or event bookings found."}),g.jsx("p",{className:"text-text-muted text-sm mt-1",children:'Add a booking with category "Concert" to unlock this tab.'})]});const n=(s=e.itinerary)==null?void 0:s.find(p=>{var v;return(v=p.activities)==null?void 0:v.some(x=>{var S,T;return((S=x.name)==null?void 0:S.toLowerCase().includes("concert"))||((T=x.name)==null?void 0:T.toLowerCase().includes("mcr"))||x.emoji===""||x.emoji===""})}),i=((u=r.name)==null?void 0:u.toLowerCase().includes("mcr"))||((c=r.name)==null?void 0:c.toLowerCase().includes("my chemical romance"))||((f=r.name)==null?void 0:f.toLowerCase().includes("chemical"));return g.jsx("div",{className:"concert-theme rounded-[var(--radius-xl)] overflow-hidden animate-fade-in",children:g.jsxs("div",{className:"bg-[#141413] rounded-[var(--radius-xl)] border border-[#2A2A28]",children:[g.jsxs("div",{className:"relative p-8 md:p-12 text-center overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-[#141413]"}),g.jsxs("div",{className:"relative z-10",children:[g.jsx("p",{className:"text-red-500 text-sm uppercase tracking-[0.3em] font-semibold mb-3",children:i?" THE BLACK PARADE ":" LIVE EVENT "}),g.jsx("h2",{className:"font-heading text-3xl md:text-4xl font-bold text-white mb-2",children:r.name}),n&&g.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:[Fl(n.date,"full"),"  Day ",n.dayNumber]})]})]}),g.jsx("div",{className:"px-6 md:px-12",children:g.jsx(Gie,{targetDate:(n==null?void 0:n.date)||e.startDate})}),g.jsx("div",{className:"h-px bg-red-900/50 mx-8"}),g.jsxs("div",{className:"p-6 md:p-12 grid md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-1",children:"Venue"}),g.jsx("p",{className:"text-white font-medium",children:i?"Stadium Merdeka, Kuala Lumpur":"Check your booking details"})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-1",children:"Tickets"}),g.jsxs("p",{className:"text-white font-medium",children:[e.travelers," pax  ",r.status==="booked"?" Confirmed":" "+r.status.replace("_"," ")]}),r.confirmationNumber&&g.jsxs("p",{className:"text-gray-500 text-xs font-mono mt-1",children:["Ref: ",r.confirmationNumber]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-1",children:"Status"}),g.jsx("div",{className:`inline-flex px-3 py-1 rounded-[var(--radius-pill)] text-xs font-medium
                ${r.status==="booked"?"bg-green-900/30 text-green-400 border border-green-800/30":"bg-red-900/30 text-red-400 border border-red-800/30"}`,children:r.status==="booked"?" Booked":"Not yet booked"})]})]}),g.jsx("div",{className:"space-y-4",children:g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-2",children:" Concert Tips"}),g.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-red-500",children:""}),"Arrive early to get a good spot"]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-red-500",children:""}),"Charge your phone to 100% before leaving"]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-red-500",children:""}),"Wear comfortable shoes  you'll be standing"]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-red-500",children:""}),"Bring earplugs to protect your hearing"]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-red-500",children:""}),"Check the venue's bag policy before going"]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-red-500",children:""}),"Stay hydrated  bring a sealed water bottle if allowed"]})]})]})})]}),n&&((h=n.activities)==null?void 0:h.length)>0&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"h-px bg-red-900/50 mx-8"}),g.jsxs("div",{className:"p-6 md:p-12",children:[g.jsxs("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-4",children:[" Day ",n.dayNumber," Schedule"]}),g.jsx("div",{className:"space-y-3",children:n.activities.map(p=>g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"text-sm font-mono text-gray-500 w-12",children:p.time||"--:--"}),g.jsx("span",{className:"text-lg",children:p.emoji}),g.jsxs("div",{children:[g.jsx("p",{className:"text-white text-sm font-medium",children:p.name}),p.notes&&g.jsx("p",{className:"text-gray-500 text-xs",children:p.notes})]})]},p.id))})]})]}),g.jsx("div",{className:"h-1 bg-[#141413]"})]})})}function Yie({activeTab:t,onTabSwitch:e}){switch(t){case"overview":return g.jsx(FP,{onTabSwitch:e});case"itinerary":return g.jsx(Wq,{});case"bookings":return g.jsx(Yq,{});case"budget":return g.jsx(Lie,{});case"todo":return g.jsx(Bie,{});case"cities":return g.jsx(qie,{});case"packing":return g.jsx(Hie,{});case"concert":return g.jsx(Kie,{});default:return g.jsx(FP,{onTabSwitch:e})}}function Xie({onNewTrip:t}){return g.jsx("div",{className:"flex-1 flex items-center justify-center p-8 animate-fade-in-up",children:g.jsxs("div",{className:"text-center max-w-sm",children:[g.jsx("div",{className:"text-7xl mb-6 animate-pulse-warm",children:""}),g.jsx("h2",{className:"font-heading text-2xl font-bold text-text-primary mb-3",children:"No trips yet"}),g.jsx("p",{className:"text-text-muted text-sm leading-relaxed mb-8",children:"Every great adventure starts with a plan. Create your first trip and let Wanderplan help you make it unforgettable."}),g.jsxs("button",{onClick:t,className:`inline-flex items-center gap-2 px-6 py-3
                     bg-accent hover:bg-accent-hover text-text-inverse
                     font-semibold text-sm rounded-[var(--radius-md)]
                     transition-all duration-200 active:scale-[0.98]`,children:[g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),g.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Plan Your First Trip"]})]})})}function Qie({onClick:t}){return g.jsx("button",{onClick:t,className:`fixed top-4 left-4 z-30 p-2.5
                 bg-bg-secondary border border-border
                 rounded-[var(--radius-md)]
                 text-text-secondary hover:text-text-primary
                 transition-colors duration-150
                 md:hidden`,"aria-label":"Open sidebar",children:g.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),g.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),g.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})}function s3({message:t="Loading"}){return g.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-4xl mb-4 animate-pulse-warm",children:""}),g.jsx("p",{className:"text-text-muted text-sm animate-pulse",children:t})]})})}function Jie({signOutUser:t}){const{state:e,dispatch:r,activeTrip:n,sortedTrips:i,showToast:o,firestoreLoading:s}=H9(),u=G9("(max-width: 767px)"),[c,f]=q.useState(!1),h=q.useCallback(()=>{f(!0),u&&r({type:pe.SET_SIDEBAR,payload:!1})},[u,r]),p=q.useCallback(()=>f(!1),[]),v=q.useCallback(()=>r({type:pe.SET_SIDEBAR,payload:!0}),[r]),x=q.useCallback(T=>{r({type:pe.SET_TAB,payload:T})},[r]),S=e.activeTab==="concert";return s?g.jsx(s3,{message:"Loading your trips"}):g.jsx(T2.Provider,{value:{state:e,dispatch:r,activeTrip:n,sortedTrips:i,showToast:o,signOutUser:t},children:g.jsxs("div",{className:"flex h-screen overflow-hidden bg-bg-primary text-text-secondary",children:[g.jsx(iq,{isMobile:u,isOpen:e.sidebarOpen,onNewTrip:h}),u&&g.jsx(Qie,{onClick:v}),g.jsx("main",{className:`
            flex-1 flex flex-col overflow-hidden bg-bg-primary
            ${S?"concert-theme":""}
            transition-colors duration-300
          `,children:n?g.jsxs(g.Fragment,{children:[g.jsx(cq,{}),g.jsx(hq,{}),g.jsx("div",{id:`panel-${e.activeTab}`,role:"tabpanel",className:"flex-1 overflow-y-auto",children:g.jsx("div",{className:"px-8 py-7 max-w-4xl mx-auto",children:g.jsx(Yie,{activeTab:e.activeTab,onTabSwitch:x})})})]}):g.jsx(Xie,{onNewTrip:h})}),g.jsx(_q,{isOpen:c,onClose:p}),g.jsx(Iq,{}),g.jsx(wq,{message:e.toast.message,type:e.toast.type,visible:e.toast.visible})]})})}function Zie(){const{user:t,authLoading:e,signInWithGoogle:r,signOutUser:n}=HD();return e?g.jsx(s3,{message:"Loading"}):t?["valentin.bonite@gmail.com","juliannsibi@gmail.com"].includes(t.email)?g.jsx(L9,{children:g.jsx(Jie,{signOutUser:n})}):g.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary",children:g.jsxs("div",{className:"text-center max-w-sm px-8",children:[g.jsx("div",{className:"text-5xl mb-5",children:""}),g.jsx("h2",{className:"font-heading text-xl font-bold text-text-primary mb-2",children:"Access restricted"}),g.jsxs("p",{className:"text-text-muted text-sm mb-6 leading-relaxed",children:["This app is private. You signed in as ",g.jsx("span",{className:"text-text-primary font-medium",children:t.email}),", which isn't on the access list."]}),g.jsx("button",{onClick:n,className:"text-sm text-accent hover:underline",children:"Sign out and try another account"})]})}):g.jsx(K9,{onSignIn:r})}w$.createRoot(document.getElementById("root")).render(g.jsx(K.StrictMode,{children:g.jsx(Zie,{})}));
