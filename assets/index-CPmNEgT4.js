(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Py={exports:{}},lc={},Iy={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qS;function Y3(){if(qS)return He;qS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function b(q,G,me){this.props=q,this.context=G,this.refs=T,this.updater=me||_}b.prototype.isReactComponent={},b.prototype.setState=function(q,G){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,G,"setState")},b.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function k(){}k.prototype=b.prototype;function j(q,G,me){this.props=q,this.context=G,this.refs=T,this.updater=me||_}var R=j.prototype=new k;R.constructor=j,S(R,b.prototype),R.isPureReactComponent=!0;var M=Array.isArray,P=Object.prototype.hasOwnProperty,C={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function O(q,G,me){var be,Oe={},je=null,We=null;if(G!=null)for(be in G.ref!==void 0&&(We=G.ref),G.key!==void 0&&(je=""+G.key),G)P.call(G,be)&&!A.hasOwnProperty(be)&&(Oe[be]=G[be]);var Le=arguments.length-2;if(Le===1)Oe.children=me;else if(1<Le){for(var he=Array(Le),Ce=0;Ce<Le;Ce++)he[Ce]=arguments[Ce+2];Oe.children=he}if(q&&q.defaultProps)for(be in Le=q.defaultProps,Le)Oe[be]===void 0&&(Oe[be]=Le[be]);return{$$typeof:t,type:q,key:je,ref:We,props:Oe,_owner:C.current}}function N(q,G){return{$$typeof:t,type:q.type,key:G,ref:q.ref,props:q.props,_owner:q._owner}}function F(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function V(q){var G={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(me){return G[me]})}var $=/\/+/g;function L(q,G){return typeof q=="object"&&q!==null&&q.key!=null?V(""+q.key):G.toString(36)}function Z(q,G,me,be,Oe){var je=typeof q;(je==="undefined"||je==="boolean")&&(q=null);var We=!1;if(q===null)We=!0;else switch(je){case"string":case"number":We=!0;break;case"object":switch(q.$$typeof){case t:case e:We=!0}}if(We)return We=q,Oe=Oe(We),q=be===""?"."+L(We,0):be,M(Oe)?(me="",q!=null&&(me=q.replace($,"$&/")+"/"),Z(Oe,G,me,"",function(Ce){return Ce})):Oe!=null&&(F(Oe)&&(Oe=N(Oe,me+(!Oe.key||We&&We.key===Oe.key?"":(""+Oe.key).replace($,"$&/")+"/")+q)),G.push(Oe)),1;if(We=0,be=be===""?".":be+":",M(q))for(var Le=0;Le<q.length;Le++){je=q[Le];var he=be+L(je,Le);We+=Z(je,G,me,he,Oe)}else if(he=y(q),typeof he=="function")for(q=he.call(q),Le=0;!(je=q.next()).done;)je=je.value,he=be+L(je,Le++),We+=Z(je,G,me,he,Oe);else if(je==="object")throw G=String(q),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return We}function ee(q,G,me){if(q==null)return q;var be=[],Oe=0;return Z(q,be,"","",function(je){return G.call(me,je,Oe++)}),be}function oe(q){if(q._status===-1){var G=q._result;G=G(),G.then(function(me){(q._status===0||q._status===-1)&&(q._status=1,q._result=me)},function(me){(q._status===0||q._status===-1)&&(q._status=2,q._result=me)}),q._status===-1&&(q._status=0,q._result=G)}if(q._status===1)return q._result.default;throw q._result}var se={current:null},Q={transition:null},ie={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:Q,ReactCurrentOwner:C};function ne(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:ee,forEach:function(q,G,me){ee(q,function(){G.apply(this,arguments)},me)},count:function(q){var G=0;return ee(q,function(){G++}),G},toArray:function(q){return ee(q,function(G){return G})||[]},only:function(q){if(!F(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},He.Component=b,He.Fragment=r,He.Profiler=i,He.PureComponent=j,He.StrictMode=n,He.Suspense=c,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,He.act=ne,He.cloneElement=function(q,G,me){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var be=S({},q.props),Oe=q.key,je=q.ref,We=q._owner;if(G!=null){if(G.ref!==void 0&&(je=G.ref,We=C.current),G.key!==void 0&&(Oe=""+G.key),q.type&&q.type.defaultProps)var Le=q.type.defaultProps;for(he in G)P.call(G,he)&&!A.hasOwnProperty(he)&&(be[he]=G[he]===void 0&&Le!==void 0?Le[he]:G[he])}var he=arguments.length-2;if(he===1)be.children=me;else if(1<he){Le=Array(he);for(var Ce=0;Ce<he;Ce++)Le[Ce]=arguments[Ce+2];be.children=Le}return{$$typeof:t,type:q.type,key:Oe,ref:je,props:be,_owner:We}},He.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},He.createElement=O,He.createFactory=function(q){var G=O.bind(null,q);return G.type=q,G},He.createRef=function(){return{current:null}},He.forwardRef=function(q){return{$$typeof:l,render:q}},He.isValidElement=F,He.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:oe}},He.memo=function(q,G){return{$$typeof:f,type:q,compare:G===void 0?null:G}},He.startTransition=function(q){var G=Q.transition;Q.transition={};try{q()}finally{Q.transition=G}},He.unstable_act=ne,He.useCallback=function(q,G){return se.current.useCallback(q,G)},He.useContext=function(q){return se.current.useContext(q)},He.useDebugValue=function(){},He.useDeferredValue=function(q){return se.current.useDeferredValue(q)},He.useEffect=function(q,G){return se.current.useEffect(q,G)},He.useId=function(){return se.current.useId()},He.useImperativeHandle=function(q,G,me){return se.current.useImperativeHandle(q,G,me)},He.useInsertionEffect=function(q,G){return se.current.useInsertionEffect(q,G)},He.useLayoutEffect=function(q,G){return se.current.useLayoutEffect(q,G)},He.useMemo=function(q,G){return se.current.useMemo(q,G)},He.useReducer=function(q,G,me){return se.current.useReducer(q,G,me)},He.useRef=function(q){return se.current.useRef(q)},He.useState=function(q){return se.current.useState(q)},He.useSyncExternalStore=function(q,G,me){return se.current.useSyncExternalStore(q,G,me)},He.useTransition=function(){return se.current.useTransition()},He.version="18.3.1",He}var zS;function Dw(){return zS||(zS=1,Iy.exports=Y3()),Iy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS;function X3(){if(WS)return lc;WS=1;var t=Dw(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,f){var h,m={},y=null,_=null;f!==void 0&&(y=""+f),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(_=c.ref);for(h in c)n.call(c,h)&&!a.hasOwnProperty(h)&&(m[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)m[h]===void 0&&(m[h]=c[h]);return{$$typeof:e,type:l,key:y,ref:_,props:m,_owner:i.current}}return lc.Fragment=r,lc.jsx=s,lc.jsxs=s,lc}var HS;function Q3(){return HS||(HS=1,Py.exports=X3()),Py.exports}var v=Q3(),H=Dw();const K=dt(H);var ch={},Oy={exports:{}},Ur={},Cy={exports:{}},ky={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GS;function J3(){return GS||(GS=1,(function(t){function e(Q,ie){var ne=Q.length;Q.push(ie);e:for(;0<ne;){var q=ne-1>>>1,G=Q[q];if(0<i(G,ie))Q[q]=ie,Q[ne]=G,ne=q;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ie=Q[0],ne=Q.pop();if(ne!==ie){Q[0]=ne;e:for(var q=0,G=Q.length,me=G>>>1;q<me;){var be=2*(q+1)-1,Oe=Q[be],je=be+1,We=Q[je];if(0>i(Oe,ne))je<G&&0>i(We,Oe)?(Q[q]=We,Q[je]=ne,q=je):(Q[q]=Oe,Q[be]=ne,q=be);else if(je<G&&0>i(We,ne))Q[q]=We,Q[je]=ne,q=je;else break e}}return ie}function i(Q,ie){var ne=Q.sortIndex-ie.sortIndex;return ne!==0?ne:Q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],f=[],h=1,m=null,y=3,_=!1,S=!1,T=!1,b=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(Q){for(var ie=r(f);ie!==null;){if(ie.callback===null)n(f);else if(ie.startTime<=Q)n(f),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=r(f)}}function M(Q){if(T=!1,R(Q),!S)if(r(c)!==null)S=!0,oe(P);else{var ie=r(f);ie!==null&&se(M,ie.startTime-Q)}}function P(Q,ie){S=!1,T&&(T=!1,k(O),O=-1),_=!0;var ne=y;try{for(R(ie),m=r(c);m!==null&&(!(m.expirationTime>ie)||Q&&!V());){var q=m.callback;if(typeof q=="function"){m.callback=null,y=m.priorityLevel;var G=q(m.expirationTime<=ie);ie=t.unstable_now(),typeof G=="function"?m.callback=G:m===r(c)&&n(c),R(ie)}else n(c);m=r(c)}if(m!==null)var me=!0;else{var be=r(f);be!==null&&se(M,be.startTime-ie),me=!1}return me}finally{m=null,y=ne,_=!1}}var C=!1,A=null,O=-1,N=5,F=-1;function V(){return!(t.unstable_now()-F<N)}function $(){if(A!==null){var Q=t.unstable_now();F=Q;var ie=!0;try{ie=A(!0,Q)}finally{ie?L():(C=!1,A=null)}}else C=!1}var L;if(typeof j=="function")L=function(){j($)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ee=Z.port2;Z.port1.onmessage=$,L=function(){ee.postMessage(null)}}else L=function(){b($,0)};function oe(Q){A=Q,C||(C=!0,L())}function se(Q,ie){O=b(function(){Q(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){S||_||(S=!0,oe(P))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var ne=y;y=ie;try{return Q()}finally{y=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ne=y;y=Q;try{return ie()}finally{y=ne}},t.unstable_scheduleCallback=function(Q,ie,ne){var q=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?q+ne:q):ne=q,Q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ne+G,Q={id:h++,callback:ie,priorityLevel:Q,startTime:ne,expirationTime:G,sortIndex:-1},ne>q?(Q.sortIndex=ne,e(f,Q),r(c)===null&&Q===r(f)&&(T?(k(O),O=-1):T=!0,se(M,ne-q))):(Q.sortIndex=G,e(c,Q),S||_||(S=!0,oe(P))),Q},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(Q){var ie=y;return function(){var ne=y;y=ie;try{return Q.apply(this,arguments)}finally{y=ne}}}})(ky)),ky}var KS;function Z3(){return KS||(KS=1,Cy.exports=J3()),Cy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YS;function eV(){if(YS)return Ur;YS=1;var t=Dw(),e=Z3();function r(o){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(o,u){s(o,u),s(o+"Capture",u)}function s(o,u){for(i[o]=u,o=0;o<u.length;o++)n.add(u[o])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function y(o){return c.call(m,o)?!0:c.call(h,o)?!1:f.test(o)?m[o]=!0:(h[o]=!0,!1)}function _(o,u,d,g){if(d!==null&&d.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,u,d,g){if(u===null||typeof u>"u"||_(o,u,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function T(o,u,d,g,x,w,D){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=o,this.type=u,this.sanitizeURL=w,this.removeEmptyString=D}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){b[o]=new T(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var u=o[0];b[u]=new T(u,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){b[o]=new T(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){b[o]=new T(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){b[o]=new T(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){b[o]=new T(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){b[o]=new T(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){b[o]=new T(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){b[o]=new T(o,5,!1,o.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function j(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var u=o.replace(k,j);b[u]=new T(u,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var u=o.replace(k,j);b[u]=new T(u,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var u=o.replace(k,j);b[u]=new T(u,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){b[o]=new T(o,1,!1,o.toLowerCase(),null,!1,!1)}),b.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){b[o]=new T(o,1,!1,o.toLowerCase(),null,!0,!0)});function R(o,u,d,g){var x=b.hasOwnProperty(u)?b[u]:null;(x!==null?x.type!==0:g||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(S(u,d,x,g)&&(d=null),g||x===null?y(u)&&(d===null?o.removeAttribute(u):o.setAttribute(u,""+d)):x.mustUseProperty?o[x.propertyName]=d===null?x.type===3?!1:"":d:(u=x.attributeName,g=x.attributeNamespace,d===null?o.removeAttribute(u):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,g?o.setAttributeNS(g,u,d):o.setAttribute(u,d))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ie(o){return o===null||typeof o!="object"?null:(o=Q&&o[Q]||o["@@iterator"],typeof o=="function"?o:null)}var ne=Object.assign,q;function G(o){if(q===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);q=u&&u[1]||""}return`
`+q+o}var me=!1;function be(o,u){if(!o||me)return"";me=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(te){var g=te}Reflect.construct(o,[],u)}else{try{u.call()}catch(te){g=te}o.call(u.prototype)}else{try{throw Error()}catch(te){g=te}o()}}catch(te){if(te&&g&&typeof te.stack=="string"){for(var x=te.stack.split(`
`),w=g.stack.split(`
`),D=x.length-1,U=w.length-1;1<=D&&0<=U&&x[D]!==w[U];)U--;for(;1<=D&&0<=U;D--,U--)if(x[D]!==w[U]){if(D!==1||U!==1)do if(D--,U--,0>U||x[D]!==w[U]){var z=`
`+x[D].replace(" at new "," at ");return o.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",o.displayName)),z}while(1<=D&&0<=U);break}}}finally{me=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?G(o):""}function Oe(o){switch(o.tag){case 5:return G(o.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return o=be(o.type,!1),o;case 11:return o=be(o.type.render,!1),o;case 1:return o=be(o.type,!0),o;default:return""}}function je(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case C:return"Portal";case N:return"Profiler";case O:return"StrictMode";case L:return"Suspense";case Z:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case V:return(o.displayName||"Context")+".Consumer";case F:return(o._context.displayName||"Context")+".Provider";case $:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ee:return u=o.displayName||null,u!==null?u:je(o.type)||"Memo";case oe:u=o._payload,o=o._init;try{return je(o(u))}catch{}}return null}function We(o){var u=o.type;switch(o.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=u.render,o=o.displayName||o.name||"",u.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(u);case 8:return u===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Le(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function he(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ce(o){var u=he(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),g=""+o[u];if(!o.hasOwnProperty(u)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,w=d.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return x.call(this)},set:function(D){g=""+D,w.call(this,D)}}),Object.defineProperty(o,u,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(D){g=""+D},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Fe(o){o._valueTracker||(o._valueTracker=Ce(o))}function ce(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var d=u.getValue(),g="";return o&&(g=he(o)?o.checked?"true":"false":o.value),o=g,o!==d?(u.setValue(o),!0):!1}function rt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ze(o,u){var d=u.checked;return ne({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function Pt(o,u){var d=u.defaultValue==null?"":u.defaultValue,g=u.checked!=null?u.checked:u.defaultChecked;d=Le(u.value!=null?u.value:d),o._wrapperState={initialChecked:g,initialValue:d,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function yt(o,u){u=u.checked,u!=null&&R(o,"checked",u,!1)}function Rt(o,u){yt(o,u);var d=Le(u.value),g=u.type;if(d!=null)g==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}u.hasOwnProperty("value")?ht(o,u.type,d):u.hasOwnProperty("defaultValue")&&ht(o,u.type,Le(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(o.defaultChecked=!!u.defaultChecked)}function Mr(o,u,d){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var g=u.type;if(!(g!=="submit"&&g!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+o._wrapperState.initialValue,d||u===o.value||(o.value=u),o.defaultValue=u}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function ht(o,u,d){(u!=="number"||rt(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var vt=Array.isArray;function Gt(o,u,d,g){if(o=o.options,u){u={};for(var x=0;x<d.length;x++)u["$"+d[x]]=!0;for(d=0;d<o.length;d++)x=u.hasOwnProperty("$"+o[d].value),o[d].selected!==x&&(o[d].selected=x),x&&g&&(o[d].defaultSelected=!0)}else{for(d=""+Le(d),u=null,x=0;x<o.length;x++){if(o[x].value===d){o[x].selected=!0,g&&(o[x].defaultSelected=!0);return}u!==null||o[x].disabled||(u=o[x])}u!==null&&(u.selected=!0)}}function Gr(o,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return ne({},u,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Ai(o,u){var d=u.value;if(d==null){if(d=u.children,u=u.defaultValue,d!=null){if(u!=null)throw Error(r(92));if(vt(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),d=u}o._wrapperState={initialValue:Le(d)}}function mo(o,u){var d=Le(u.value),g=Le(u.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),u.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),g!=null&&(o.defaultValue=""+g)}function Sn(o){var u=o.textContent;u===o._wrapperState.initialValue&&u!==""&&u!==null&&(o.value=u)}function xl(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ts(o,u){return o==null||o==="http://www.w3.org/1999/xhtml"?xl(u):o==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var ha,Xf=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,d,g,x){MSApp.execUnsafeLocalFunction(function(){return o(u,d,g,x)})}:o})(function(o,u){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=u;else{for(ha=ha||document.createElement("div"),ha.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=ha.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}});function go(o,u){if(u){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=u;return}}o.textContent=u}var pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qf=["Webkit","ms","Moz","O"];Object.keys(pa).forEach(function(o){Qf.forEach(function(u){u=u+o.charAt(0).toUpperCase()+o.substring(1),pa[u]=pa[o]})});function ma(o,u,d){return u==null||typeof u=="boolean"||u===""?"":d||typeof u!="number"||u===0||pa.hasOwnProperty(o)&&pa[o]?(""+u).trim():u+"px"}function Ss(o,u){o=o.style;for(var d in u)if(u.hasOwnProperty(d)){var g=d.indexOf("--")===0,x=ma(d,u[d],g);d==="float"&&(d="cssFloat"),g?o.setProperty(d,x):o[d]=x}}var _l=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function An(o,u){if(u){if(_l[o]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function As(o,u){if(o.indexOf("-")===-1)return typeof u.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ga=null;function Ps(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Pi=null,Ii=null,jt=null;function bl(o){if(o=Kl(o)){if(typeof Pi!="function")throw Error(r(280));var u=o.stateNode;u&&(u=Td(u),Pi(o.stateNode,o.type,u))}}function ya(o){Ii?jt?jt.push(o):jt=[o]:Ii=o}function va(){if(Ii){var o=Ii,u=jt;if(jt=Ii=null,bl(o),u)for(o=0;o<u.length;o++)bl(u[o])}}function Jf(o,u){return o(u)}function Zf(){}var Hn=!1;function ed(o,u,d){if(Hn)return o(u,d);Hn=!0;try{return Jf(o,u,d)}finally{Hn=!1,(Ii!==null||jt!==null)&&(Zf(),va())}}function yo(o,u){var d=o.stateNode;if(d===null)return null;var g=Td(d);if(g===null)return null;d=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,u,typeof d));return d}var xa=!1;if(l)try{var _a={};Object.defineProperty(_a,"passive",{get:function(){xa=!0}}),window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{xa=!1}function td(o,u,d,g,x,w,D,U,z){var te=Array.prototype.slice.call(arguments,3);try{u.apply(d,te)}catch(de){this.onError(de)}}var Oi=!1,Gn=null,Is=!1,un=null,rd={onError:function(o){Oi=!0,Gn=o}};function nd(o,u,d,g,x,w,D,U,z){Oi=!1,Gn=null,td.apply(rd,arguments)}function wl(o,u,d,g,x,w,D,U,z){if(nd.apply(this,arguments),Oi){if(Oi){var te=Gn;Oi=!1,Gn=null}else throw Error(r(198));Is||(Is=!0,un=te)}}function Pn(o){var u=o,d=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(d=u.return),o=u.return;while(o)}return u.tag===3?d:null}function El(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function id(o){if(Pn(o)!==o)throw Error(r(188))}function ad(o){var u=o.alternate;if(!u){if(u=Pn(o),u===null)throw Error(r(188));return u!==o?null:o}for(var d=o,g=u;;){var x=d.return;if(x===null)break;var w=x.alternate;if(w===null){if(g=x.return,g!==null){d=g;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===d)return id(x),o;if(w===g)return id(x),u;w=w.sibling}throw Error(r(188))}if(d.return!==g.return)d=x,g=w;else{for(var D=!1,U=x.child;U;){if(U===d){D=!0,d=x,g=w;break}if(U===g){D=!0,g=x,d=w;break}U=U.sibling}if(!D){for(U=w.child;U;){if(U===d){D=!0,d=w,g=x;break}if(U===g){D=!0,g=w,d=x;break}U=U.sibling}if(!D)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:u}function od(o){return o=ad(o),o!==null?vo(o):null}function vo(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var u=vo(o);if(u!==null)return u;o=o.sibling}return null}var Tl=e.unstable_scheduleCallback,Os=e.unstable_cancelCallback,xo=e.unstable_shouldYield,Ci=e.unstable_requestPaint,bt=e.unstable_now,ig=e.unstable_getCurrentPriorityLevel,Cs=e.unstable_ImmediatePriority,Sl=e.unstable_UserBlockingPriority,_o=e.unstable_NormalPriority,Al=e.unstable_LowPriority,ks=e.unstable_IdlePriority,bo=null,Kr=null;function sd(o){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(bo,o,void 0,(o.current.flags&128)===128)}catch{}}var Yr=Math.clz32?Math.clz32:wo,Kn=Math.log,ln=Math.LN2;function wo(o){return o>>>=0,o===0?32:31-(Kn(o)/ln|0)|0}var Yn=64,ba=4194304;function nt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function ki(o,u){var d=o.pendingLanes;if(d===0)return 0;var g=0,x=o.suspendedLanes,w=o.pingedLanes,D=d&268435455;if(D!==0){var U=D&~x;U!==0?g=nt(U):(w&=D,w!==0&&(g=nt(w)))}else D=d&~x,D!==0?g=nt(D):w!==0&&(g=nt(w));if(g===0)return 0;if(u!==0&&u!==g&&(u&x)===0&&(x=g&-g,w=u&-u,x>=w||x===16&&(w&4194240)!==0))return u;if((g&4)!==0&&(g|=d&16),u=o.entangledLanes,u!==0)for(o=o.entanglements,u&=g;0<u;)d=31-Yr(u),x=1<<d,g|=o[d],u&=~x;return g}function Eo(o,u){switch(o){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function To(o,u){for(var d=o.suspendedLanes,g=o.pingedLanes,x=o.expirationTimes,w=o.pendingLanes;0<w;){var D=31-Yr(w),U=1<<D,z=x[D];z===-1?((U&d)===0||(U&g)!==0)&&(x[D]=Eo(U,u)):z<=u&&(o.expiredLanes|=U),w&=~U}}function Pl(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Il(){var o=Yn;return Yn<<=1,(Yn&4194240)===0&&(Yn=64),o}function Ol(o){for(var u=[],d=0;31>d;d++)u.push(o);return u}function So(o,u,d){o.pendingLanes|=u,u!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,u=31-Yr(u),o[u]=d}function ag(o,u){var d=o.pendingLanes&~u;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=u,o.mutableReadLanes&=u,o.entangledLanes&=u,u=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<d;){var x=31-Yr(d),w=1<<x;u[x]=0,g[x]=-1,o[x]=-1,d&=~w}}function Cl(o,u){var d=o.entangledLanes|=u;for(o=o.entanglements;d;){var g=31-Yr(d),x=1<<g;x&u|o[g]&u&&(o[g]|=u),d&=~x}}var Qe=0;function Xn(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var kl,Ns,Nl,Rl,jl,Qn=!1,Rs=[],Jn=null,Zn=null,fr=null,Ao=new Map,Ni=new Map,Xr=[],ud="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wa(o,u){switch(o){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Ao.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ni.delete(u.pointerId)}}function In(o,u,d,g,x,w){return o===null||o.nativeEvent!==w?(o={blockedOn:u,domEventName:d,eventSystemFlags:g,nativeEvent:w,targetContainers:[x]},u!==null&&(u=Kl(u),u!==null&&Ns(u)),o):(o.eventSystemFlags|=g,u=o.targetContainers,x!==null&&u.indexOf(x)===-1&&u.push(x),o)}function ld(o,u,d,g,x){switch(u){case"focusin":return Jn=In(Jn,o,u,d,g,x),!0;case"dragenter":return Zn=In(Zn,o,u,d,g,x),!0;case"mouseover":return fr=In(fr,o,u,d,g,x),!0;case"pointerover":var w=x.pointerId;return Ao.set(w,In(Ao.get(w)||null,o,u,d,g,x)),!0;case"gotpointercapture":return w=x.pointerId,Ni.set(w,In(Ni.get(w)||null,o,u,d,g,x)),!0}return!1}function js(o){var u=Co(o.target);if(u!==null){var d=Pn(u);if(d!==null){if(u=d.tag,u===13){if(u=El(d),u!==null){o.blockedOn=u,jl(o.priority,function(){Nl(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function pt(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var d=Ds(o.domEventName,o.eventSystemFlags,u[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var g=new d.constructor(d.type,d);ga=g,d.target.dispatchEvent(g),ga=null}else return u=Kl(d),u!==null&&Ns(u),o.blockedOn=d,!1;u.shift()}return!0}function cd(o,u,d){pt(o)&&d.delete(u)}function og(){Qn=!1,Jn!==null&&pt(Jn)&&(Jn=null),Zn!==null&&pt(Zn)&&(Zn=null),fr!==null&&pt(fr)&&(fr=null),Ao.forEach(cd),Ni.forEach(cd)}function Ea(o,u){o.blockedOn===u&&(o.blockedOn=null,Qn||(Qn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,og)))}function Ta(o){function u(x){return Ea(x,o)}if(0<Rs.length){Ea(Rs[0],o);for(var d=1;d<Rs.length;d++){var g=Rs[d];g.blockedOn===o&&(g.blockedOn=null)}}for(Jn!==null&&Ea(Jn,o),Zn!==null&&Ea(Zn,o),fr!==null&&Ea(fr,o),Ao.forEach(u),Ni.forEach(u),d=0;d<Xr.length;d++)g=Xr[d],g.blockedOn===o&&(g.blockedOn=null);for(;0<Xr.length&&(d=Xr[0],d.blockedOn===null);)js(d),d.blockedOn===null&&Xr.shift()}var Ri=M.ReactCurrentBatchConfig,ji=!0;function ei(o,u,d,g){var x=Qe,w=Ri.transition;Ri.transition=null;try{Qe=1,Dl(o,u,d,g)}finally{Qe=x,Ri.transition=w}}function fd(o,u,d,g){var x=Qe,w=Ri.transition;Ri.transition=null;try{Qe=4,Dl(o,u,d,g)}finally{Qe=x,Ri.transition=w}}function Dl(o,u,d,g){if(ji){var x=Ds(o,u,d,g);if(x===null)yg(o,u,g,ti,d),wa(o,g);else if(ld(x,o,u,d,g))g.stopPropagation();else if(wa(o,g),u&4&&-1<ud.indexOf(o)){for(;x!==null;){var w=Kl(x);if(w!==null&&kl(w),w=Ds(o,u,d,g),w===null&&yg(o,u,g,ti,d),w===x)break;x=w}x!==null&&g.stopPropagation()}else yg(o,u,g,null,d)}}var ti=null;function Ds(o,u,d,g){if(ti=null,o=Ps(g),o=Co(o),o!==null)if(u=Pn(o),u===null)o=null;else if(d=u.tag,d===13){if(o=El(u),o!==null)return o;o=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null);return ti=o,null}function Ms(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ig()){case Cs:return 1;case Sl:return 4;case _o:case Al:return 16;case ks:return 536870912;default:return 16}default:return 16}}var Qr=null,Ls=null,Di=null;function dd(){if(Di)return Di;var o,u=Ls,d=u.length,g,x="value"in Qr?Qr.value:Qr.textContent,w=x.length;for(o=0;o<d&&u[o]===x[o];o++);var D=d-o;for(g=1;g<=D&&u[d-g]===x[w-g];g++);return Di=x.slice(o,1<g?1-g:void 0)}function Po(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function ri(){return!0}function Ml(){return!1}function br(o){function u(d,g,x,w,D){this._reactName=d,this._targetInst=x,this.type=g,this.nativeEvent=w,this.target=D,this.currentTarget=null;for(var U in o)o.hasOwnProperty(U)&&(d=o[U],this[U]=d?d(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ri:Ml,this.isPropagationStopped=Ml,this}return ne(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),u}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Io=br(ni),Sa=ne({},ni,{view:0,detail:0}),Vs=br(Sa),$s,Fs,Jr,Oo=ne({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ue,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Jr&&(Jr&&o.type==="mousemove"?($s=o.screenX-Jr.screenX,Fs=o.screenY-Jr.screenY):Fs=$s=0,Jr=o),$s)},movementY:function(o){return"movementY"in o?o.movementY:Fs}}),Ll=br(Oo),hd=ne({},Oo,{dataTransfer:0}),pd=br(hd),Bs=ne({},Sa,{relatedTarget:0}),dr=br(Bs),md=ne({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),gd=br(md),Aa=ne({},ni,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),p=br(Aa),E=ne({},ni,{data:0}),I=br(E),B={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},re={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ve(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=re[o])?!!u[o]:!1}function Ue(){return ve}var Vt=ne({},Sa,{key:function(o){if(o.key){var u=B[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Po(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?X[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ue,charCode:function(o){return o.type==="keypress"?Po(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Po(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),ct=br(Vt),Bt=ne({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zr=br(Bt),Mi=ne({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ue}),ii=br(Mi),ai=ne({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),Us=br(ai),Vl=ne({},Oo,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),q4=br(Vl),z4=[9,13,27,32],sg=l&&"CompositionEvent"in window,$l=null;l&&"documentMode"in document&&($l=document.documentMode);var W4=l&&"TextEvent"in window&&!$l,DE=l&&(!sg||$l&&8<$l&&11>=$l),ME=" ",LE=!1;function VE(o,u){switch(o){case"keyup":return z4.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $E(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var qs=!1;function H4(o,u){switch(o){case"compositionend":return $E(u);case"keypress":return u.which!==32?null:(LE=!0,ME);case"textInput":return o=u.data,o===ME&&LE?null:o;default:return null}}function G4(o,u){if(qs)return o==="compositionend"||!sg&&VE(o,u)?(o=dd(),Di=Ls=Qr=null,qs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return DE&&u.locale!=="ko"?null:u.data;default:return null}}var K4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FE(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!K4[o.type]:u==="textarea"}function BE(o,u,d,g){ya(g),u=bd(u,"onChange"),0<u.length&&(d=new Io("onChange","change",null,d,g),o.push({event:d,listeners:u}))}var Fl=null,Bl=null;function Y4(o){aT(o,0)}function yd(o){var u=Ks(o);if(ce(u))return o}function X4(o,u){if(o==="change")return u}var UE=!1;if(l){var ug;if(l){var lg="oninput"in document;if(!lg){var qE=document.createElement("div");qE.setAttribute("oninput","return;"),lg=typeof qE.oninput=="function"}ug=lg}else ug=!1;UE=ug&&(!document.documentMode||9<document.documentMode)}function zE(){Fl&&(Fl.detachEvent("onpropertychange",WE),Bl=Fl=null)}function WE(o){if(o.propertyName==="value"&&yd(Bl)){var u=[];BE(u,Bl,o,Ps(o)),ed(Y4,u)}}function Q4(o,u,d){o==="focusin"?(zE(),Fl=u,Bl=d,Fl.attachEvent("onpropertychange",WE)):o==="focusout"&&zE()}function J4(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return yd(Bl)}function Z4(o,u){if(o==="click")return yd(u)}function e3(o,u){if(o==="input"||o==="change")return yd(u)}function t3(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var On=typeof Object.is=="function"?Object.is:t3;function Ul(o,u){if(On(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var d=Object.keys(o),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var x=d[g];if(!c.call(u,x)||!On(o[x],u[x]))return!1}return!0}function HE(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function GE(o,u){var d=HE(o);o=0;for(var g;d;){if(d.nodeType===3){if(g=o+d.textContent.length,o<=u&&g>=u)return{node:d,offset:u-o};o=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=HE(d)}}function KE(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?KE(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function YE(){for(var o=window,u=rt();u instanceof o.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)o=u.contentWindow;else break;u=rt(o.document)}return u}function cg(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}function r3(o){var u=YE(),d=o.focusedElem,g=o.selectionRange;if(u!==d&&d&&d.ownerDocument&&KE(d.ownerDocument.documentElement,d)){if(g!==null&&cg(d)){if(u=g.start,o=g.end,o===void 0&&(o=u),"selectionStart"in d)d.selectionStart=u,d.selectionEnd=Math.min(o,d.value.length);else if(o=(u=d.ownerDocument||document)&&u.defaultView||window,o.getSelection){o=o.getSelection();var x=d.textContent.length,w=Math.min(g.start,x);g=g.end===void 0?w:Math.min(g.end,x),!o.extend&&w>g&&(x=g,g=w,w=x),x=GE(d,w);var D=GE(d,g);x&&D&&(o.rangeCount!==1||o.anchorNode!==x.node||o.anchorOffset!==x.offset||o.focusNode!==D.node||o.focusOffset!==D.offset)&&(u=u.createRange(),u.setStart(x.node,x.offset),o.removeAllRanges(),w>g?(o.addRange(u),o.extend(D.node,D.offset)):(u.setEnd(D.node,D.offset),o.addRange(u)))}}for(u=[],o=d;o=o.parentNode;)o.nodeType===1&&u.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<u.length;d++)o=u[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var n3=l&&"documentMode"in document&&11>=document.documentMode,zs=null,fg=null,ql=null,dg=!1;function XE(o,u,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;dg||zs==null||zs!==rt(g)||(g=zs,"selectionStart"in g&&cg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ql&&Ul(ql,g)||(ql=g,g=bd(fg,"onSelect"),0<g.length&&(u=new Io("onSelect","select",null,u,d),o.push({event:u,listeners:g}),u.target=zs)))}function vd(o,u){var d={};return d[o.toLowerCase()]=u.toLowerCase(),d["Webkit"+o]="webkit"+u,d["Moz"+o]="moz"+u,d}var Ws={animationend:vd("Animation","AnimationEnd"),animationiteration:vd("Animation","AnimationIteration"),animationstart:vd("Animation","AnimationStart"),transitionend:vd("Transition","TransitionEnd")},hg={},QE={};l&&(QE=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function xd(o){if(hg[o])return hg[o];if(!Ws[o])return o;var u=Ws[o],d;for(d in u)if(u.hasOwnProperty(d)&&d in QE)return hg[o]=u[d];return o}var JE=xd("animationend"),ZE=xd("animationiteration"),eT=xd("animationstart"),tT=xd("transitionend"),rT=new Map,nT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pa(o,u){rT.set(o,u),a(u,[o])}for(var pg=0;pg<nT.length;pg++){var mg=nT[pg],i3=mg.toLowerCase(),a3=mg[0].toUpperCase()+mg.slice(1);Pa(i3,"on"+a3)}Pa(JE,"onAnimationEnd"),Pa(ZE,"onAnimationIteration"),Pa(eT,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(tT,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o3=new Set("cancel close invalid load scroll toggle".split(" ").concat(zl));function iT(o,u,d){var g=o.type||"unknown-event";o.currentTarget=d,wl(g,u,void 0,o),o.currentTarget=null}function aT(o,u){u=(u&4)!==0;for(var d=0;d<o.length;d++){var g=o[d],x=g.event;g=g.listeners;e:{var w=void 0;if(u)for(var D=g.length-1;0<=D;D--){var U=g[D],z=U.instance,te=U.currentTarget;if(U=U.listener,z!==w&&x.isPropagationStopped())break e;iT(x,U,te),w=z}else for(D=0;D<g.length;D++){if(U=g[D],z=U.instance,te=U.currentTarget,U=U.listener,z!==w&&x.isPropagationStopped())break e;iT(x,U,te),w=z}}}if(Is)throw o=un,Is=!1,un=null,o}function wt(o,u){var d=u[Eg];d===void 0&&(d=u[Eg]=new Set);var g=o+"__bubble";d.has(g)||(oT(u,o,2,!1),d.add(g))}function gg(o,u,d){var g=0;u&&(g|=4),oT(d,o,g,u)}var _d="_reactListening"+Math.random().toString(36).slice(2);function Wl(o){if(!o[_d]){o[_d]=!0,n.forEach(function(d){d!=="selectionchange"&&(o3.has(d)||gg(d,!1,o),gg(d,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[_d]||(u[_d]=!0,gg("selectionchange",!1,u))}}function oT(o,u,d,g){switch(Ms(u)){case 1:var x=ei;break;case 4:x=fd;break;default:x=Dl}d=x.bind(null,u,d,o),x=void 0,!xa||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(x=!0),g?x!==void 0?o.addEventListener(u,d,{capture:!0,passive:x}):o.addEventListener(u,d,!0):x!==void 0?o.addEventListener(u,d,{passive:x}):o.addEventListener(u,d,!1)}function yg(o,u,d,g,x){var w=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var D=g.tag;if(D===3||D===4){var U=g.stateNode.containerInfo;if(U===x||U.nodeType===8&&U.parentNode===x)break;if(D===4)for(D=g.return;D!==null;){var z=D.tag;if((z===3||z===4)&&(z=D.stateNode.containerInfo,z===x||z.nodeType===8&&z.parentNode===x))return;D=D.return}for(;U!==null;){if(D=Co(U),D===null)return;if(z=D.tag,z===5||z===6){g=w=D;continue e}U=U.parentNode}}g=g.return}ed(function(){var te=w,de=Ps(d),pe=[];e:{var le=rT.get(o);if(le!==void 0){var _e=Io,Se=o;switch(o){case"keypress":if(Po(d)===0)break e;case"keydown":case"keyup":_e=ct;break;case"focusin":Se="focus",_e=dr;break;case"focusout":Se="blur",_e=dr;break;case"beforeblur":case"afterblur":_e=dr;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=ii;break;case JE:case ZE:case eT:_e=gd;break;case tT:_e=Us;break;case"scroll":_e=Vs;break;case"wheel":_e=q4;break;case"copy":case"cut":case"paste":_e=p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Zr}var Ae=(u&4)!==0,$t=!Ae&&o==="scroll",Y=Ae?le!==null?le+"Capture":null:le;Ae=[];for(var W=te,J;W!==null;){J=W;var ge=J.stateNode;if(J.tag===5&&ge!==null&&(J=ge,Y!==null&&(ge=yo(W,Y),ge!=null&&Ae.push(Hl(W,ge,J)))),$t)break;W=W.return}0<Ae.length&&(le=new _e(le,Se,null,d,de),pe.push({event:le,listeners:Ae}))}}if((u&7)===0){e:{if(le=o==="mouseover"||o==="pointerover",_e=o==="mouseout"||o==="pointerout",le&&d!==ga&&(Se=d.relatedTarget||d.fromElement)&&(Co(Se)||Se[Li]))break e;if((_e||le)&&(le=de.window===de?de:(le=de.ownerDocument)?le.defaultView||le.parentWindow:window,_e?(Se=d.relatedTarget||d.toElement,_e=te,Se=Se?Co(Se):null,Se!==null&&($t=Pn(Se),Se!==$t||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(_e=null,Se=te),_e!==Se)){if(Ae=Ll,ge="onMouseLeave",Y="onMouseEnter",W="mouse",(o==="pointerout"||o==="pointerover")&&(Ae=Zr,ge="onPointerLeave",Y="onPointerEnter",W="pointer"),$t=_e==null?le:Ks(_e),J=Se==null?le:Ks(Se),le=new Ae(ge,W+"leave",_e,d,de),le.target=$t,le.relatedTarget=J,ge=null,Co(de)===te&&(Ae=new Ae(Y,W+"enter",Se,d,de),Ae.target=J,Ae.relatedTarget=$t,ge=Ae),$t=ge,_e&&Se)t:{for(Ae=_e,Y=Se,W=0,J=Ae;J;J=Hs(J))W++;for(J=0,ge=Y;ge;ge=Hs(ge))J++;for(;0<W-J;)Ae=Hs(Ae),W--;for(;0<J-W;)Y=Hs(Y),J--;for(;W--;){if(Ae===Y||Y!==null&&Ae===Y.alternate)break t;Ae=Hs(Ae),Y=Hs(Y)}Ae=null}else Ae=null;_e!==null&&sT(pe,le,_e,Ae,!1),Se!==null&&$t!==null&&sT(pe,$t,Se,Ae,!0)}}e:{if(le=te?Ks(te):window,_e=le.nodeName&&le.nodeName.toLowerCase(),_e==="select"||_e==="input"&&le.type==="file")var Pe=X4;else if(FE(le))if(UE)Pe=e3;else{Pe=J4;var Ne=Q4}else(_e=le.nodeName)&&_e.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Pe=Z4);if(Pe&&(Pe=Pe(o,te))){BE(pe,Pe,d,de);break e}Ne&&Ne(o,le,te),o==="focusout"&&(Ne=le._wrapperState)&&Ne.controlled&&le.type==="number"&&ht(le,"number",le.value)}switch(Ne=te?Ks(te):window,o){case"focusin":(FE(Ne)||Ne.contentEditable==="true")&&(zs=Ne,fg=te,ql=null);break;case"focusout":ql=fg=zs=null;break;case"mousedown":dg=!0;break;case"contextmenu":case"mouseup":case"dragend":dg=!1,XE(pe,d,de);break;case"selectionchange":if(n3)break;case"keydown":case"keyup":XE(pe,d,de)}var Re;if(sg)e:{switch(o){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else qs?VE(o,d)&&(Ve="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Ve="onCompositionStart");Ve&&(DE&&d.locale!=="ko"&&(qs||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&qs&&(Re=dd()):(Qr=de,Ls="value"in Qr?Qr.value:Qr.textContent,qs=!0)),Ne=bd(te,Ve),0<Ne.length&&(Ve=new I(Ve,o,null,d,de),pe.push({event:Ve,listeners:Ne}),Re?Ve.data=Re:(Re=$E(d),Re!==null&&(Ve.data=Re)))),(Re=W4?H4(o,d):G4(o,d))&&(te=bd(te,"onBeforeInput"),0<te.length&&(de=new I("onBeforeInput","beforeinput",null,d,de),pe.push({event:de,listeners:te}),de.data=Re))}aT(pe,u)})}function Hl(o,u,d){return{instance:o,listener:u,currentTarget:d}}function bd(o,u){for(var d=u+"Capture",g=[];o!==null;){var x=o,w=x.stateNode;x.tag===5&&w!==null&&(x=w,w=yo(o,d),w!=null&&g.unshift(Hl(o,w,x)),w=yo(o,u),w!=null&&g.push(Hl(o,w,x))),o=o.return}return g}function Hs(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function sT(o,u,d,g,x){for(var w=u._reactName,D=[];d!==null&&d!==g;){var U=d,z=U.alternate,te=U.stateNode;if(z!==null&&z===g)break;U.tag===5&&te!==null&&(U=te,x?(z=yo(d,w),z!=null&&D.unshift(Hl(d,z,U))):x||(z=yo(d,w),z!=null&&D.push(Hl(d,z,U)))),d=d.return}D.length!==0&&o.push({event:u,listeners:D})}var s3=/\r\n?/g,u3=/\u0000|\uFFFD/g;function uT(o){return(typeof o=="string"?o:""+o).replace(s3,`
`).replace(u3,"")}function wd(o,u,d){if(u=uT(u),uT(o)!==u&&d)throw Error(r(425))}function Ed(){}var vg=null,xg=null;function _g(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var bg=typeof setTimeout=="function"?setTimeout:void 0,l3=typeof clearTimeout=="function"?clearTimeout:void 0,lT=typeof Promise=="function"?Promise:void 0,c3=typeof queueMicrotask=="function"?queueMicrotask:typeof lT<"u"?function(o){return lT.resolve(null).then(o).catch(f3)}:bg;function f3(o){setTimeout(function(){throw o})}function wg(o,u){var d=u,g=0;do{var x=d.nextSibling;if(o.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(g===0){o.removeChild(x),Ta(u);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=x}while(d);Ta(u)}function Ia(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return o}function cT(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(u===0)return o;u--}else d==="/$"&&u++}o=o.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),oi="__reactFiber$"+Gs,Gl="__reactProps$"+Gs,Li="__reactContainer$"+Gs,Eg="__reactEvents$"+Gs,d3="__reactListeners$"+Gs,h3="__reactHandles$"+Gs;function Co(o){var u=o[oi];if(u)return u;for(var d=o.parentNode;d;){if(u=d[Li]||d[oi]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(o=cT(o);o!==null;){if(d=o[oi])return d;o=cT(o)}return u}o=d,d=o.parentNode}return null}function Kl(o){return o=o[oi]||o[Li],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Ks(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Td(o){return o[Gl]||null}var Tg=[],Ys=-1;function Oa(o){return{current:o}}function Et(o){0>Ys||(o.current=Tg[Ys],Tg[Ys]=null,Ys--)}function xt(o,u){Ys++,Tg[Ys]=o.current,o.current=u}var Ca={},wr=Oa(Ca),Lr=Oa(!1),ko=Ca;function Xs(o,u){var d=o.type.contextTypes;if(!d)return Ca;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var x={},w;for(w in d)x[w]=u[w];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=u,o.__reactInternalMemoizedMaskedChildContext=x),x}function Vr(o){return o=o.childContextTypes,o!=null}function Sd(){Et(Lr),Et(wr)}function fT(o,u,d){if(wr.current!==Ca)throw Error(r(168));xt(wr,u),xt(Lr,d)}function dT(o,u,d){var g=o.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var x in g)if(!(x in u))throw Error(r(108,We(o)||"Unknown",x));return ne({},d,g)}function Ad(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ca,ko=wr.current,xt(wr,o),xt(Lr,Lr.current),!0}function hT(o,u,d){var g=o.stateNode;if(!g)throw Error(r(169));d?(o=dT(o,u,ko),g.__reactInternalMemoizedMergedChildContext=o,Et(Lr),Et(wr),xt(wr,o)):Et(Lr),xt(Lr,d)}var Vi=null,Pd=!1,Sg=!1;function pT(o){Vi===null?Vi=[o]:Vi.push(o)}function p3(o){Pd=!0,pT(o)}function ka(){if(!Sg&&Vi!==null){Sg=!0;var o=0,u=Qe;try{var d=Vi;for(Qe=1;o<d.length;o++){var g=d[o];do g=g(!0);while(g!==null)}Vi=null,Pd=!1}catch(x){throw Vi!==null&&(Vi=Vi.slice(o+1)),Tl(Cs,ka),x}finally{Qe=u,Sg=!1}}return null}var Qs=[],Js=0,Id=null,Od=0,cn=[],fn=0,No=null,$i=1,Fi="";function Ro(o,u){Qs[Js++]=Od,Qs[Js++]=Id,Id=o,Od=u}function mT(o,u,d){cn[fn++]=$i,cn[fn++]=Fi,cn[fn++]=No,No=o;var g=$i;o=Fi;var x=32-Yr(g)-1;g&=~(1<<x),d+=1;var w=32-Yr(u)+x;if(30<w){var D=x-x%5;w=(g&(1<<D)-1).toString(32),g>>=D,x-=D,$i=1<<32-Yr(u)+x|d<<x|g,Fi=w+o}else $i=1<<w|d<<x|g,Fi=o}function Ag(o){o.return!==null&&(Ro(o,1),mT(o,1,0))}function Pg(o){for(;o===Id;)Id=Qs[--Js],Qs[Js]=null,Od=Qs[--Js],Qs[Js]=null;for(;o===No;)No=cn[--fn],cn[fn]=null,Fi=cn[--fn],cn[fn]=null,$i=cn[--fn],cn[fn]=null}var en=null,tn=null,It=!1,Cn=null;function gT(o,u){var d=mn(5,null,null,0);d.elementType="DELETED",d.stateNode=u,d.return=o,u=o.deletions,u===null?(o.deletions=[d],o.flags|=16):u.push(d)}function yT(o,u){switch(o.tag){case 5:var d=o.type;return u=u.nodeType!==1||d.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(o.stateNode=u,en=o,tn=Ia(u.firstChild),!0):!1;case 6:return u=o.pendingProps===""||u.nodeType!==3?null:u,u!==null?(o.stateNode=u,en=o,tn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(d=No!==null?{id:$i,overflow:Fi}:null,o.memoizedState={dehydrated:u,treeContext:d,retryLane:1073741824},d=mn(18,null,null,0),d.stateNode=u,d.return=o,o.child=d,en=o,tn=null,!0):!1;default:return!1}}function Ig(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Og(o){if(It){var u=tn;if(u){var d=u;if(!yT(o,u)){if(Ig(o))throw Error(r(418));u=Ia(d.nextSibling);var g=en;u&&yT(o,u)?gT(g,d):(o.flags=o.flags&-4097|2,It=!1,en=o)}}else{if(Ig(o))throw Error(r(418));o.flags=o.flags&-4097|2,It=!1,en=o}}}function vT(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;en=o}function Cd(o){if(o!==en)return!1;if(!It)return vT(o),It=!0,!1;var u;if((u=o.tag!==3)&&!(u=o.tag!==5)&&(u=o.type,u=u!=="head"&&u!=="body"&&!_g(o.type,o.memoizedProps)),u&&(u=tn)){if(Ig(o))throw xT(),Error(r(418));for(;u;)gT(o,u),u=Ia(u.nextSibling)}if(vT(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(u===0){tn=Ia(o.nextSibling);break e}u--}else d!=="$"&&d!=="$!"&&d!=="$?"||u++}o=o.nextSibling}tn=null}}else tn=en?Ia(o.stateNode.nextSibling):null;return!0}function xT(){for(var o=tn;o;)o=Ia(o.nextSibling)}function Zs(){tn=en=null,It=!1}function Cg(o){Cn===null?Cn=[o]:Cn.push(o)}var m3=M.ReactCurrentBatchConfig;function Yl(o,u,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var g=d.stateNode}if(!g)throw Error(r(147,o));var x=g,w=""+o;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===w?u.ref:(u=function(D){var U=x.refs;D===null?delete U[w]:U[w]=D},u._stringRef=w,u)}if(typeof o!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,o))}return o}function kd(o,u){throw o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o))}function _T(o){var u=o._init;return u(o._payload)}function bT(o){function u(Y,W){if(o){var J=Y.deletions;J===null?(Y.deletions=[W],Y.flags|=16):J.push(W)}}function d(Y,W){if(!o)return null;for(;W!==null;)u(Y,W),W=W.sibling;return null}function g(Y,W){for(Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function x(Y,W){return Y=$a(Y,W),Y.index=0,Y.sibling=null,Y}function w(Y,W,J){return Y.index=J,o?(J=Y.alternate,J!==null?(J=J.index,J<W?(Y.flags|=2,W):J):(Y.flags|=2,W)):(Y.flags|=1048576,W)}function D(Y){return o&&Y.alternate===null&&(Y.flags|=2),Y}function U(Y,W,J,ge){return W===null||W.tag!==6?(W=by(J,Y.mode,ge),W.return=Y,W):(W=x(W,J),W.return=Y,W)}function z(Y,W,J,ge){var Pe=J.type;return Pe===A?de(Y,W,J.props.children,ge,J.key):W!==null&&(W.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===oe&&_T(Pe)===W.type)?(ge=x(W,J.props),ge.ref=Yl(Y,W,J),ge.return=Y,ge):(ge=th(J.type,J.key,J.props,null,Y.mode,ge),ge.ref=Yl(Y,W,J),ge.return=Y,ge)}function te(Y,W,J,ge){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=wy(J,Y.mode,ge),W.return=Y,W):(W=x(W,J.children||[]),W.return=Y,W)}function de(Y,W,J,ge,Pe){return W===null||W.tag!==7?(W=Bo(J,Y.mode,ge,Pe),W.return=Y,W):(W=x(W,J),W.return=Y,W)}function pe(Y,W,J){if(typeof W=="string"&&W!==""||typeof W=="number")return W=by(""+W,Y.mode,J),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case P:return J=th(W.type,W.key,W.props,null,Y.mode,J),J.ref=Yl(Y,null,W),J.return=Y,J;case C:return W=wy(W,Y.mode,J),W.return=Y,W;case oe:var ge=W._init;return pe(Y,ge(W._payload),J)}if(vt(W)||ie(W))return W=Bo(W,Y.mode,J,null),W.return=Y,W;kd(Y,W)}return null}function le(Y,W,J,ge){var Pe=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Pe!==null?null:U(Y,W,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case P:return J.key===Pe?z(Y,W,J,ge):null;case C:return J.key===Pe?te(Y,W,J,ge):null;case oe:return Pe=J._init,le(Y,W,Pe(J._payload),ge)}if(vt(J)||ie(J))return Pe!==null?null:de(Y,W,J,ge,null);kd(Y,J)}return null}function _e(Y,W,J,ge,Pe){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Y=Y.get(J)||null,U(W,Y,""+ge,Pe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case P:return Y=Y.get(ge.key===null?J:ge.key)||null,z(W,Y,ge,Pe);case C:return Y=Y.get(ge.key===null?J:ge.key)||null,te(W,Y,ge,Pe);case oe:var Ne=ge._init;return _e(Y,W,J,Ne(ge._payload),Pe)}if(vt(ge)||ie(ge))return Y=Y.get(J)||null,de(W,Y,ge,Pe,null);kd(W,ge)}return null}function Se(Y,W,J,ge){for(var Pe=null,Ne=null,Re=W,Ve=W=0,or=null;Re!==null&&Ve<J.length;Ve++){Re.index>Ve?(or=Re,Re=null):or=Re.sibling;var et=le(Y,Re,J[Ve],ge);if(et===null){Re===null&&(Re=or);break}o&&Re&&et.alternate===null&&u(Y,Re),W=w(et,W,Ve),Ne===null?Pe=et:Ne.sibling=et,Ne=et,Re=or}if(Ve===J.length)return d(Y,Re),It&&Ro(Y,Ve),Pe;if(Re===null){for(;Ve<J.length;Ve++)Re=pe(Y,J[Ve],ge),Re!==null&&(W=w(Re,W,Ve),Ne===null?Pe=Re:Ne.sibling=Re,Ne=Re);return It&&Ro(Y,Ve),Pe}for(Re=g(Y,Re);Ve<J.length;Ve++)or=_e(Re,Y,Ve,J[Ve],ge),or!==null&&(o&&or.alternate!==null&&Re.delete(or.key===null?Ve:or.key),W=w(or,W,Ve),Ne===null?Pe=or:Ne.sibling=or,Ne=or);return o&&Re.forEach(function(Fa){return u(Y,Fa)}),It&&Ro(Y,Ve),Pe}function Ae(Y,W,J,ge){var Pe=ie(J);if(typeof Pe!="function")throw Error(r(150));if(J=Pe.call(J),J==null)throw Error(r(151));for(var Ne=Pe=null,Re=W,Ve=W=0,or=null,et=J.next();Re!==null&&!et.done;Ve++,et=J.next()){Re.index>Ve?(or=Re,Re=null):or=Re.sibling;var Fa=le(Y,Re,et.value,ge);if(Fa===null){Re===null&&(Re=or);break}o&&Re&&Fa.alternate===null&&u(Y,Re),W=w(Fa,W,Ve),Ne===null?Pe=Fa:Ne.sibling=Fa,Ne=Fa,Re=or}if(et.done)return d(Y,Re),It&&Ro(Y,Ve),Pe;if(Re===null){for(;!et.done;Ve++,et=J.next())et=pe(Y,et.value,ge),et!==null&&(W=w(et,W,Ve),Ne===null?Pe=et:Ne.sibling=et,Ne=et);return It&&Ro(Y,Ve),Pe}for(Re=g(Y,Re);!et.done;Ve++,et=J.next())et=_e(Re,Y,Ve,et.value,ge),et!==null&&(o&&et.alternate!==null&&Re.delete(et.key===null?Ve:et.key),W=w(et,W,Ve),Ne===null?Pe=et:Ne.sibling=et,Ne=et);return o&&Re.forEach(function(K3){return u(Y,K3)}),It&&Ro(Y,Ve),Pe}function $t(Y,W,J,ge){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case P:e:{for(var Pe=J.key,Ne=W;Ne!==null;){if(Ne.key===Pe){if(Pe=J.type,Pe===A){if(Ne.tag===7){d(Y,Ne.sibling),W=x(Ne,J.props.children),W.return=Y,Y=W;break e}}else if(Ne.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===oe&&_T(Pe)===Ne.type){d(Y,Ne.sibling),W=x(Ne,J.props),W.ref=Yl(Y,Ne,J),W.return=Y,Y=W;break e}d(Y,Ne);break}else u(Y,Ne);Ne=Ne.sibling}J.type===A?(W=Bo(J.props.children,Y.mode,ge,J.key),W.return=Y,Y=W):(ge=th(J.type,J.key,J.props,null,Y.mode,ge),ge.ref=Yl(Y,W,J),ge.return=Y,Y=ge)}return D(Y);case C:e:{for(Ne=J.key;W!==null;){if(W.key===Ne)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){d(Y,W.sibling),W=x(W,J.children||[]),W.return=Y,Y=W;break e}else{d(Y,W);break}else u(Y,W);W=W.sibling}W=wy(J,Y.mode,ge),W.return=Y,Y=W}return D(Y);case oe:return Ne=J._init,$t(Y,W,Ne(J._payload),ge)}if(vt(J))return Se(Y,W,J,ge);if(ie(J))return Ae(Y,W,J,ge);kd(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,W!==null&&W.tag===6?(d(Y,W.sibling),W=x(W,J),W.return=Y,Y=W):(d(Y,W),W=by(J,Y.mode,ge),W.return=Y,Y=W),D(Y)):d(Y,W)}return $t}var eu=bT(!0),wT=bT(!1),Nd=Oa(null),Rd=null,tu=null,kg=null;function Ng(){kg=tu=Rd=null}function Rg(o){var u=Nd.current;Et(Nd),o._currentValue=u}function jg(o,u,d){for(;o!==null;){var g=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),o===d)break;o=o.return}}function ru(o,u){Rd=o,kg=tu=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&u)!==0&&($r=!0),o.firstContext=null)}function dn(o){var u=o._currentValue;if(kg!==o)if(o={context:o,memoizedValue:u,next:null},tu===null){if(Rd===null)throw Error(r(308));tu=o,Rd.dependencies={lanes:0,firstContext:o}}else tu=tu.next=o;return u}var jo=null;function Dg(o){jo===null?jo=[o]:jo.push(o)}function ET(o,u,d,g){var x=u.interleaved;return x===null?(d.next=d,Dg(u)):(d.next=x.next,x.next=d),u.interleaved=d,Bi(o,g)}function Bi(o,u){o.lanes|=u;var d=o.alternate;for(d!==null&&(d.lanes|=u),d=o,o=o.return;o!==null;)o.childLanes|=u,d=o.alternate,d!==null&&(d.childLanes|=u),d=o,o=o.return;return d.tag===3?d.stateNode:null}var Na=!1;function Mg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TT(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ui(o,u){return{eventTime:o,lane:u,tag:0,payload:null,callback:null,next:null}}function Ra(o,u,d){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(Ze&2)!==0){var x=g.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),g.pending=u,Bi(o,d)}return x=g.interleaved,x===null?(u.next=u,Dg(g)):(u.next=x.next,x.next=u),g.interleaved=u,Bi(o,d)}function jd(o,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194240)!==0)){var g=u.lanes;g&=o.pendingLanes,d|=g,u.lanes=d,Cl(o,d)}}function ST(o,u){var d=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var x=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var D={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?x=w=D:w=w.next=D,d=d.next}while(d!==null);w===null?x=w=u:w=w.next=u}else x=w=u;d={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:g.shared,effects:g.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=u}function Dd(o,u,d,g){var x=o.updateQueue;Na=!1;var w=x.firstBaseUpdate,D=x.lastBaseUpdate,U=x.shared.pending;if(U!==null){x.shared.pending=null;var z=U,te=z.next;z.next=null,D===null?w=te:D.next=te,D=z;var de=o.alternate;de!==null&&(de=de.updateQueue,U=de.lastBaseUpdate,U!==D&&(U===null?de.firstBaseUpdate=te:U.next=te,de.lastBaseUpdate=z))}if(w!==null){var pe=x.baseState;D=0,de=te=z=null,U=w;do{var le=U.lane,_e=U.eventTime;if((g&le)===le){de!==null&&(de=de.next={eventTime:_e,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Se=o,Ae=U;switch(le=u,_e=d,Ae.tag){case 1:if(Se=Ae.payload,typeof Se=="function"){pe=Se.call(_e,pe,le);break e}pe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ae.payload,le=typeof Se=="function"?Se.call(_e,pe,le):Se,le==null)break e;pe=ne({},pe,le);break e;case 2:Na=!0}}U.callback!==null&&U.lane!==0&&(o.flags|=64,le=x.effects,le===null?x.effects=[U]:le.push(U))}else _e={eventTime:_e,lane:le,tag:U.tag,payload:U.payload,callback:U.callback,next:null},de===null?(te=de=_e,z=pe):de=de.next=_e,D|=le;if(U=U.next,U===null){if(U=x.shared.pending,U===null)break;le=U,U=le.next,le.next=null,x.lastBaseUpdate=le,x.shared.pending=null}}while(!0);if(de===null&&(z=pe),x.baseState=z,x.firstBaseUpdate=te,x.lastBaseUpdate=de,u=x.shared.interleaved,u!==null){x=u;do D|=x.lane,x=x.next;while(x!==u)}else w===null&&(x.shared.lanes=0);Lo|=D,o.lanes=D,o.memoizedState=pe}}function AT(o,u,d){if(o=u.effects,u.effects=null,o!==null)for(u=0;u<o.length;u++){var g=o[u],x=g.callback;if(x!==null){if(g.callback=null,g=d,typeof x!="function")throw Error(r(191,x));x.call(g)}}}var Xl={},si=Oa(Xl),Ql=Oa(Xl),Jl=Oa(Xl);function Do(o){if(o===Xl)throw Error(r(174));return o}function Lg(o,u){switch(xt(Jl,u),xt(Ql,o),xt(si,Xl),o=u.nodeType,o){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Ts(null,"");break;default:o=o===8?u.parentNode:u,u=o.namespaceURI||null,o=o.tagName,u=Ts(u,o)}Et(si),xt(si,u)}function nu(){Et(si),Et(Ql),Et(Jl)}function PT(o){Do(Jl.current);var u=Do(si.current),d=Ts(u,o.type);u!==d&&(xt(Ql,o),xt(si,d))}function Vg(o){Ql.current===o&&(Et(si),Et(Ql))}var Ct=Oa(0);function Md(o){for(var u=o;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var $g=[];function Fg(){for(var o=0;o<$g.length;o++)$g[o]._workInProgressVersionPrimary=null;$g.length=0}var Ld=M.ReactCurrentDispatcher,Bg=M.ReactCurrentBatchConfig,Mo=0,kt=null,Kt=null,ir=null,Vd=!1,Zl=!1,ec=0,g3=0;function Er(){throw Error(r(321))}function Ug(o,u){if(u===null)return!1;for(var d=0;d<u.length&&d<o.length;d++)if(!On(o[d],u[d]))return!1;return!0}function qg(o,u,d,g,x,w){if(Mo=w,kt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Ld.current=o===null||o.memoizedState===null?_3:b3,o=d(g,x),Zl){w=0;do{if(Zl=!1,ec=0,25<=w)throw Error(r(301));w+=1,ir=Kt=null,u.updateQueue=null,Ld.current=w3,o=d(g,x)}while(Zl)}if(Ld.current=Bd,u=Kt!==null&&Kt.next!==null,Mo=0,ir=Kt=kt=null,Vd=!1,u)throw Error(r(300));return o}function zg(){var o=ec!==0;return ec=0,o}function ui(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?kt.memoizedState=ir=o:ir=ir.next=o,ir}function hn(){if(Kt===null){var o=kt.alternate;o=o!==null?o.memoizedState:null}else o=Kt.next;var u=ir===null?kt.memoizedState:ir.next;if(u!==null)ir=u,Kt=o;else{if(o===null)throw Error(r(310));Kt=o,o={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ir===null?kt.memoizedState=ir=o:ir=ir.next=o}return ir}function tc(o,u){return typeof u=="function"?u(o):u}function Wg(o){var u=hn(),d=u.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var g=Kt,x=g.baseQueue,w=d.pending;if(w!==null){if(x!==null){var D=x.next;x.next=w.next,w.next=D}g.baseQueue=x=w,d.pending=null}if(x!==null){w=x.next,g=g.baseState;var U=D=null,z=null,te=w;do{var de=te.lane;if((Mo&de)===de)z!==null&&(z=z.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),g=te.hasEagerState?te.eagerState:o(g,te.action);else{var pe={lane:de,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};z===null?(U=z=pe,D=g):z=z.next=pe,kt.lanes|=de,Lo|=de}te=te.next}while(te!==null&&te!==w);z===null?D=g:z.next=U,On(g,u.memoizedState)||($r=!0),u.memoizedState=g,u.baseState=D,u.baseQueue=z,d.lastRenderedState=g}if(o=d.interleaved,o!==null){x=o;do w=x.lane,kt.lanes|=w,Lo|=w,x=x.next;while(x!==o)}else x===null&&(d.lanes=0);return[u.memoizedState,d.dispatch]}function Hg(o){var u=hn(),d=u.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var g=d.dispatch,x=d.pending,w=u.memoizedState;if(x!==null){d.pending=null;var D=x=x.next;do w=o(w,D.action),D=D.next;while(D!==x);On(w,u.memoizedState)||($r=!0),u.memoizedState=w,u.baseQueue===null&&(u.baseState=w),d.lastRenderedState=w}return[w,g]}function IT(){}function OT(o,u){var d=kt,g=hn(),x=u(),w=!On(g.memoizedState,x);if(w&&(g.memoizedState=x,$r=!0),g=g.queue,Gg(NT.bind(null,d,g,o),[o]),g.getSnapshot!==u||w||ir!==null&&ir.memoizedState.tag&1){if(d.flags|=2048,rc(9,kT.bind(null,d,g,x,u),void 0,null),ar===null)throw Error(r(349));(Mo&30)!==0||CT(d,u,x)}return x}function CT(o,u,d){o.flags|=16384,o={getSnapshot:u,value:d},u=kt.updateQueue,u===null?(u={lastEffect:null,stores:null},kt.updateQueue=u,u.stores=[o]):(d=u.stores,d===null?u.stores=[o]:d.push(o))}function kT(o,u,d,g){u.value=d,u.getSnapshot=g,RT(u)&&jT(o)}function NT(o,u,d){return d(function(){RT(u)&&jT(o)})}function RT(o){var u=o.getSnapshot;o=o.value;try{var d=u();return!On(o,d)}catch{return!0}}function jT(o){var u=Bi(o,1);u!==null&&jn(u,o,1,-1)}function DT(o){var u=ui();return typeof o=="function"&&(o=o()),u.memoizedState=u.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:o},u.queue=o,o=o.dispatch=x3.bind(null,kt,o),[u.memoizedState,o]}function rc(o,u,d,g){return o={tag:o,create:u,destroy:d,deps:g,next:null},u=kt.updateQueue,u===null?(u={lastEffect:null,stores:null},kt.updateQueue=u,u.lastEffect=o.next=o):(d=u.lastEffect,d===null?u.lastEffect=o.next=o:(g=d.next,d.next=o,o.next=g,u.lastEffect=o)),o}function MT(){return hn().memoizedState}function $d(o,u,d,g){var x=ui();kt.flags|=o,x.memoizedState=rc(1|u,d,void 0,g===void 0?null:g)}function Fd(o,u,d,g){var x=hn();g=g===void 0?null:g;var w=void 0;if(Kt!==null){var D=Kt.memoizedState;if(w=D.destroy,g!==null&&Ug(g,D.deps)){x.memoizedState=rc(u,d,w,g);return}}kt.flags|=o,x.memoizedState=rc(1|u,d,w,g)}function LT(o,u){return $d(8390656,8,o,u)}function Gg(o,u){return Fd(2048,8,o,u)}function VT(o,u){return Fd(4,2,o,u)}function $T(o,u){return Fd(4,4,o,u)}function FT(o,u){if(typeof u=="function")return o=o(),u(o),function(){u(null)};if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function BT(o,u,d){return d=d!=null?d.concat([o]):null,Fd(4,4,FT.bind(null,u,o),d)}function Kg(){}function UT(o,u){var d=hn();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&Ug(u,g[1])?g[0]:(d.memoizedState=[o,u],o)}function qT(o,u){var d=hn();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&Ug(u,g[1])?g[0]:(o=o(),d.memoizedState=[o,u],o)}function zT(o,u,d){return(Mo&21)===0?(o.baseState&&(o.baseState=!1,$r=!0),o.memoizedState=d):(On(d,u)||(d=Il(),kt.lanes|=d,Lo|=d,o.baseState=!0),u)}function y3(o,u){var d=Qe;Qe=d!==0&&4>d?d:4,o(!0);var g=Bg.transition;Bg.transition={};try{o(!1),u()}finally{Qe=d,Bg.transition=g}}function WT(){return hn().memoizedState}function v3(o,u,d){var g=La(o);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},HT(o))GT(u,d);else if(d=ET(o,u,d,g),d!==null){var x=jr();jn(d,o,g,x),KT(d,u,g)}}function x3(o,u,d){var g=La(o),x={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(HT(o))GT(u,x);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=u.lastRenderedReducer,w!==null))try{var D=u.lastRenderedState,U=w(D,d);if(x.hasEagerState=!0,x.eagerState=U,On(U,D)){var z=u.interleaved;z===null?(x.next=x,Dg(u)):(x.next=z.next,z.next=x),u.interleaved=x;return}}catch{}finally{}d=ET(o,u,x,g),d!==null&&(x=jr(),jn(d,o,g,x),KT(d,u,g))}}function HT(o){var u=o.alternate;return o===kt||u!==null&&u===kt}function GT(o,u){Zl=Vd=!0;var d=o.pending;d===null?u.next=u:(u.next=d.next,d.next=u),o.pending=u}function KT(o,u,d){if((d&4194240)!==0){var g=u.lanes;g&=o.pendingLanes,d|=g,u.lanes=d,Cl(o,d)}}var Bd={readContext:dn,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},_3={readContext:dn,useCallback:function(o,u){return ui().memoizedState=[o,u===void 0?null:u],o},useContext:dn,useEffect:LT,useImperativeHandle:function(o,u,d){return d=d!=null?d.concat([o]):null,$d(4194308,4,FT.bind(null,u,o),d)},useLayoutEffect:function(o,u){return $d(4194308,4,o,u)},useInsertionEffect:function(o,u){return $d(4,2,o,u)},useMemo:function(o,u){var d=ui();return u=u===void 0?null:u,o=o(),d.memoizedState=[o,u],o},useReducer:function(o,u,d){var g=ui();return u=d!==void 0?d(u):u,g.memoizedState=g.baseState=u,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:u},g.queue=o,o=o.dispatch=v3.bind(null,kt,o),[g.memoizedState,o]},useRef:function(o){var u=ui();return o={current:o},u.memoizedState=o},useState:DT,useDebugValue:Kg,useDeferredValue:function(o){return ui().memoizedState=o},useTransition:function(){var o=DT(!1),u=o[0];return o=y3.bind(null,o[1]),ui().memoizedState=o,[u,o]},useMutableSource:function(){},useSyncExternalStore:function(o,u,d){var g=kt,x=ui();if(It){if(d===void 0)throw Error(r(407));d=d()}else{if(d=u(),ar===null)throw Error(r(349));(Mo&30)!==0||CT(g,u,d)}x.memoizedState=d;var w={value:d,getSnapshot:u};return x.queue=w,LT(NT.bind(null,g,w,o),[o]),g.flags|=2048,rc(9,kT.bind(null,g,w,d,u),void 0,null),d},useId:function(){var o=ui(),u=ar.identifierPrefix;if(It){var d=Fi,g=$i;d=(g&~(1<<32-Yr(g)-1)).toString(32)+d,u=":"+u+"R"+d,d=ec++,0<d&&(u+="H"+d.toString(32)),u+=":"}else d=g3++,u=":"+u+"r"+d.toString(32)+":";return o.memoizedState=u},unstable_isNewReconciler:!1},b3={readContext:dn,useCallback:UT,useContext:dn,useEffect:Gg,useImperativeHandle:BT,useInsertionEffect:VT,useLayoutEffect:$T,useMemo:qT,useReducer:Wg,useRef:MT,useState:function(){return Wg(tc)},useDebugValue:Kg,useDeferredValue:function(o){var u=hn();return zT(u,Kt.memoizedState,o)},useTransition:function(){var o=Wg(tc)[0],u=hn().memoizedState;return[o,u]},useMutableSource:IT,useSyncExternalStore:OT,useId:WT,unstable_isNewReconciler:!1},w3={readContext:dn,useCallback:UT,useContext:dn,useEffect:Gg,useImperativeHandle:BT,useInsertionEffect:VT,useLayoutEffect:$T,useMemo:qT,useReducer:Hg,useRef:MT,useState:function(){return Hg(tc)},useDebugValue:Kg,useDeferredValue:function(o){var u=hn();return Kt===null?u.memoizedState=o:zT(u,Kt.memoizedState,o)},useTransition:function(){var o=Hg(tc)[0],u=hn().memoizedState;return[o,u]},useMutableSource:IT,useSyncExternalStore:OT,useId:WT,unstable_isNewReconciler:!1};function kn(o,u){if(o&&o.defaultProps){u=ne({},u),o=o.defaultProps;for(var d in o)u[d]===void 0&&(u[d]=o[d]);return u}return u}function Yg(o,u,d,g){u=o.memoizedState,d=d(g,u),d=d==null?u:ne({},u,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Ud={isMounted:function(o){return(o=o._reactInternals)?Pn(o)===o:!1},enqueueSetState:function(o,u,d){o=o._reactInternals;var g=jr(),x=La(o),w=Ui(g,x);w.payload=u,d!=null&&(w.callback=d),u=Ra(o,w,x),u!==null&&(jn(u,o,x,g),jd(u,o,x))},enqueueReplaceState:function(o,u,d){o=o._reactInternals;var g=jr(),x=La(o),w=Ui(g,x);w.tag=1,w.payload=u,d!=null&&(w.callback=d),u=Ra(o,w,x),u!==null&&(jn(u,o,x,g),jd(u,o,x))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var d=jr(),g=La(o),x=Ui(d,g);x.tag=2,u!=null&&(x.callback=u),u=Ra(o,x,g),u!==null&&(jn(u,o,g,d),jd(u,o,g))}};function YT(o,u,d,g,x,w,D){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,w,D):u.prototype&&u.prototype.isPureReactComponent?!Ul(d,g)||!Ul(x,w):!0}function XT(o,u,d){var g=!1,x=Ca,w=u.contextType;return typeof w=="object"&&w!==null?w=dn(w):(x=Vr(u)?ko:wr.current,g=u.contextTypes,w=(g=g!=null)?Xs(o,x):Ca),u=new u(d,w),o.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ud,o.stateNode=u,u._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=x,o.__reactInternalMemoizedMaskedChildContext=w),u}function QT(o,u,d,g){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==o&&Ud.enqueueReplaceState(u,u.state,null)}function Xg(o,u,d,g){var x=o.stateNode;x.props=d,x.state=o.memoizedState,x.refs={},Mg(o);var w=u.contextType;typeof w=="object"&&w!==null?x.context=dn(w):(w=Vr(u)?ko:wr.current,x.context=Xs(o,w)),x.state=o.memoizedState,w=u.getDerivedStateFromProps,typeof w=="function"&&(Yg(o,u,w,d),x.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(u=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),u!==x.state&&Ud.enqueueReplaceState(x,x.state,null),Dd(o,d,x,g),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308)}function iu(o,u){try{var d="",g=u;do d+=Oe(g),g=g.return;while(g);var x=d}catch(w){x=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:u,stack:x,digest:null}}function Qg(o,u,d){return{value:o,source:null,stack:d??null,digest:u??null}}function Jg(o,u){try{console.error(u.value)}catch(d){setTimeout(function(){throw d})}}var E3=typeof WeakMap=="function"?WeakMap:Map;function JT(o,u,d){d=Ui(-1,d),d.tag=3,d.payload={element:null};var g=u.value;return d.callback=function(){Yd||(Yd=!0,hy=g),Jg(o,u)},d}function ZT(o,u,d){d=Ui(-1,d),d.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var x=u.value;d.payload=function(){return g(x)},d.callback=function(){Jg(o,u)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){Jg(o,u),typeof g!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})}),d}function eS(o,u,d){var g=o.pingCache;if(g===null){g=o.pingCache=new E3;var x=new Set;g.set(u,x)}else x=g.get(u),x===void 0&&(x=new Set,g.set(u,x));x.has(d)||(x.add(d),o=L3.bind(null,o,u,d),u.then(o,o))}function tS(o){do{var u;if((u=o.tag===13)&&(u=o.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return o;o=o.return}while(o!==null);return null}function rS(o,u,d,g,x){return(o.mode&1)===0?(o===u?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(u=Ui(-1,1),u.tag=2,Ra(d,u,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=x,o)}var T3=M.ReactCurrentOwner,$r=!1;function Rr(o,u,d,g){u.child=o===null?wT(u,null,d,g):eu(u,o.child,d,g)}function nS(o,u,d,g,x){d=d.render;var w=u.ref;return ru(u,x),g=qg(o,u,d,g,w,x),d=zg(),o!==null&&!$r?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~x,qi(o,u,x)):(It&&d&&Ag(u),u.flags|=1,Rr(o,u,g,x),u.child)}function iS(o,u,d,g,x){if(o===null){var w=d.type;return typeof w=="function"&&!_y(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(u.tag=15,u.type=w,aS(o,u,w,g,x)):(o=th(d.type,null,g,u,u.mode,x),o.ref=u.ref,o.return=u,u.child=o)}if(w=o.child,(o.lanes&x)===0){var D=w.memoizedProps;if(d=d.compare,d=d!==null?d:Ul,d(D,g)&&o.ref===u.ref)return qi(o,u,x)}return u.flags|=1,o=$a(w,g),o.ref=u.ref,o.return=u,u.child=o}function aS(o,u,d,g,x){if(o!==null){var w=o.memoizedProps;if(Ul(w,g)&&o.ref===u.ref)if($r=!1,u.pendingProps=g=w,(o.lanes&x)!==0)(o.flags&131072)!==0&&($r=!0);else return u.lanes=o.lanes,qi(o,u,x)}return Zg(o,u,d,g,x)}function oS(o,u,d){var g=u.pendingProps,x=g.children,w=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(ou,rn),rn|=d;else{if((d&1073741824)===0)return o=w!==null?w.baseLanes|d:d,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:o,cachePool:null,transitions:null},u.updateQueue=null,xt(ou,rn),rn|=o,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=w!==null?w.baseLanes:d,xt(ou,rn),rn|=g}else w!==null?(g=w.baseLanes|d,u.memoizedState=null):g=d,xt(ou,rn),rn|=g;return Rr(o,u,x,d),u.child}function sS(o,u){var d=u.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(u.flags|=512,u.flags|=2097152)}function Zg(o,u,d,g,x){var w=Vr(d)?ko:wr.current;return w=Xs(u,w),ru(u,x),d=qg(o,u,d,g,w,x),g=zg(),o!==null&&!$r?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~x,qi(o,u,x)):(It&&g&&Ag(u),u.flags|=1,Rr(o,u,d,x),u.child)}function uS(o,u,d,g,x){if(Vr(d)){var w=!0;Ad(u)}else w=!1;if(ru(u,x),u.stateNode===null)zd(o,u),XT(u,d,g),Xg(u,d,g,x),g=!0;else if(o===null){var D=u.stateNode,U=u.memoizedProps;D.props=U;var z=D.context,te=d.contextType;typeof te=="object"&&te!==null?te=dn(te):(te=Vr(d)?ko:wr.current,te=Xs(u,te));var de=d.getDerivedStateFromProps,pe=typeof de=="function"||typeof D.getSnapshotBeforeUpdate=="function";pe||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(U!==g||z!==te)&&QT(u,D,g,te),Na=!1;var le=u.memoizedState;D.state=le,Dd(u,g,D,x),z=u.memoizedState,U!==g||le!==z||Lr.current||Na?(typeof de=="function"&&(Yg(u,d,de,g),z=u.memoizedState),(U=Na||YT(u,d,U,g,le,z,te))?(pe||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(u.flags|=4194308)):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=z),D.props=g,D.state=z,D.context=te,g=U):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{D=u.stateNode,TT(o,u),U=u.memoizedProps,te=u.type===u.elementType?U:kn(u.type,U),D.props=te,pe=u.pendingProps,le=D.context,z=d.contextType,typeof z=="object"&&z!==null?z=dn(z):(z=Vr(d)?ko:wr.current,z=Xs(u,z));var _e=d.getDerivedStateFromProps;(de=typeof _e=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(U!==pe||le!==z)&&QT(u,D,g,z),Na=!1,le=u.memoizedState,D.state=le,Dd(u,g,D,x);var Se=u.memoizedState;U!==pe||le!==Se||Lr.current||Na?(typeof _e=="function"&&(Yg(u,d,_e,g),Se=u.memoizedState),(te=Na||YT(u,d,te,g,le,Se,z)||!1)?(de||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(g,Se,z),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(g,Se,z)),typeof D.componentDidUpdate=="function"&&(u.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof D.componentDidUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=Se),D.props=g,D.state=Se,D.context=z,g=te):(typeof D.componentDidUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(u.flags|=1024),g=!1)}return ey(o,u,d,g,w,x)}function ey(o,u,d,g,x,w){sS(o,u);var D=(u.flags&128)!==0;if(!g&&!D)return x&&hT(u,d,!1),qi(o,u,w);g=u.stateNode,T3.current=u;var U=D&&typeof d.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,o!==null&&D?(u.child=eu(u,o.child,null,w),u.child=eu(u,null,U,w)):Rr(o,u,U,w),u.memoizedState=g.state,x&&hT(u,d,!0),u.child}function lS(o){var u=o.stateNode;u.pendingContext?fT(o,u.pendingContext,u.pendingContext!==u.context):u.context&&fT(o,u.context,!1),Lg(o,u.containerInfo)}function cS(o,u,d,g,x){return Zs(),Cg(x),u.flags|=256,Rr(o,u,d,g),u.child}var ty={dehydrated:null,treeContext:null,retryLane:0};function ry(o){return{baseLanes:o,cachePool:null,transitions:null}}function fS(o,u,d){var g=u.pendingProps,x=Ct.current,w=!1,D=(u.flags&128)!==0,U;if((U=D)||(U=o!==null&&o.memoizedState===null?!1:(x&2)!==0),U?(w=!0,u.flags&=-129):(o===null||o.memoizedState!==null)&&(x|=1),xt(Ct,x&1),o===null)return Og(u),o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((u.mode&1)===0?u.lanes=1:o.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(D=g.children,o=g.fallback,w?(g=u.mode,w=u.child,D={mode:"hidden",children:D},(g&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=D):w=rh(D,g,0,null),o=Bo(o,g,d,null),w.return=u,o.return=u,w.sibling=o,u.child=w,u.child.memoizedState=ry(d),u.memoizedState=ty,o):ny(u,D));if(x=o.memoizedState,x!==null&&(U=x.dehydrated,U!==null))return S3(o,u,D,g,U,x,d);if(w){w=g.fallback,D=u.mode,x=o.child,U=x.sibling;var z={mode:"hidden",children:g.children};return(D&1)===0&&u.child!==x?(g=u.child,g.childLanes=0,g.pendingProps=z,u.deletions=null):(g=$a(x,z),g.subtreeFlags=x.subtreeFlags&14680064),U!==null?w=$a(U,w):(w=Bo(w,D,d,null),w.flags|=2),w.return=u,g.return=u,g.sibling=w,u.child=g,g=w,w=u.child,D=o.child.memoizedState,D=D===null?ry(d):{baseLanes:D.baseLanes|d,cachePool:null,transitions:D.transitions},w.memoizedState=D,w.childLanes=o.childLanes&~d,u.memoizedState=ty,g}return w=o.child,o=w.sibling,g=$a(w,{mode:"visible",children:g.children}),(u.mode&1)===0&&(g.lanes=d),g.return=u,g.sibling=null,o!==null&&(d=u.deletions,d===null?(u.deletions=[o],u.flags|=16):d.push(o)),u.child=g,u.memoizedState=null,g}function ny(o,u){return u=rh({mode:"visible",children:u},o.mode,0,null),u.return=o,o.child=u}function qd(o,u,d,g){return g!==null&&Cg(g),eu(u,o.child,null,d),o=ny(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function S3(o,u,d,g,x,w,D){if(d)return u.flags&256?(u.flags&=-257,g=Qg(Error(r(422))),qd(o,u,D,g)):u.memoizedState!==null?(u.child=o.child,u.flags|=128,null):(w=g.fallback,x=u.mode,g=rh({mode:"visible",children:g.children},x,0,null),w=Bo(w,x,D,null),w.flags|=2,g.return=u,w.return=u,g.sibling=w,u.child=g,(u.mode&1)!==0&&eu(u,o.child,null,D),u.child.memoizedState=ry(D),u.memoizedState=ty,w);if((u.mode&1)===0)return qd(o,u,D,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var U=g.dgst;return g=U,w=Error(r(419)),g=Qg(w,g,void 0),qd(o,u,D,g)}if(U=(D&o.childLanes)!==0,$r||U){if(g=ar,g!==null){switch(D&-D){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|D))!==0?0:x,x!==0&&x!==w.retryLane&&(w.retryLane=x,Bi(o,x),jn(g,o,x,-1))}return xy(),g=Qg(Error(r(421))),qd(o,u,D,g)}return x.data==="$?"?(u.flags|=128,u.child=o.child,u=V3.bind(null,o),x._reactRetry=u,null):(o=w.treeContext,tn=Ia(x.nextSibling),en=u,It=!0,Cn=null,o!==null&&(cn[fn++]=$i,cn[fn++]=Fi,cn[fn++]=No,$i=o.id,Fi=o.overflow,No=u),u=ny(u,g.children),u.flags|=4096,u)}function dS(o,u,d){o.lanes|=u;var g=o.alternate;g!==null&&(g.lanes|=u),jg(o.return,u,d)}function iy(o,u,d,g,x){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:x}:(w.isBackwards=u,w.rendering=null,w.renderingStartTime=0,w.last=g,w.tail=d,w.tailMode=x)}function hS(o,u,d){var g=u.pendingProps,x=g.revealOrder,w=g.tail;if(Rr(o,u,g.children,d),g=Ct.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&dS(o,d,u);else if(o.tag===19)dS(o,d,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(xt(Ct,g),(u.mode&1)===0)u.memoizedState=null;else switch(x){case"forwards":for(d=u.child,x=null;d!==null;)o=d.alternate,o!==null&&Md(o)===null&&(x=d),d=d.sibling;d=x,d===null?(x=u.child,u.child=null):(x=d.sibling,d.sibling=null),iy(u,!1,x,d,w);break;case"backwards":for(d=null,x=u.child,u.child=null;x!==null;){if(o=x.alternate,o!==null&&Md(o)===null){u.child=x;break}o=x.sibling,x.sibling=d,d=x,x=o}iy(u,!0,d,null,w);break;case"together":iy(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function zd(o,u){(u.mode&1)===0&&o!==null&&(o.alternate=null,u.alternate=null,u.flags|=2)}function qi(o,u,d){if(o!==null&&(u.dependencies=o.dependencies),Lo|=u.lanes,(d&u.childLanes)===0)return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,d=$a(o,o.pendingProps),u.child=d,d.return=u;o.sibling!==null;)o=o.sibling,d=d.sibling=$a(o,o.pendingProps),d.return=u;d.sibling=null}return u.child}function A3(o,u,d){switch(u.tag){case 3:lS(u),Zs();break;case 5:PT(u);break;case 1:Vr(u.type)&&Ad(u);break;case 4:Lg(u,u.stateNode.containerInfo);break;case 10:var g=u.type._context,x=u.memoizedProps.value;xt(Nd,g._currentValue),g._currentValue=x;break;case 13:if(g=u.memoizedState,g!==null)return g.dehydrated!==null?(xt(Ct,Ct.current&1),u.flags|=128,null):(d&u.child.childLanes)!==0?fS(o,u,d):(xt(Ct,Ct.current&1),o=qi(o,u,d),o!==null?o.sibling:null);xt(Ct,Ct.current&1);break;case 19:if(g=(d&u.childLanes)!==0,(o.flags&128)!==0){if(g)return hS(o,u,d);u.flags|=128}if(x=u.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),xt(Ct,Ct.current),g)break;return null;case 22:case 23:return u.lanes=0,oS(o,u,d)}return qi(o,u,d)}var pS,ay,mS,gS;pS=function(o,u){for(var d=u.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},ay=function(){},mS=function(o,u,d,g){var x=o.memoizedProps;if(x!==g){o=u.stateNode,Do(si.current);var w=null;switch(d){case"input":x=ze(o,x),g=ze(o,g),w=[];break;case"select":x=ne({},x,{value:void 0}),g=ne({},g,{value:void 0}),w=[];break;case"textarea":x=Gr(o,x),g=Gr(o,g),w=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=Ed)}An(d,g);var D;d=null;for(te in x)if(!g.hasOwnProperty(te)&&x.hasOwnProperty(te)&&x[te]!=null)if(te==="style"){var U=x[te];for(D in U)U.hasOwnProperty(D)&&(d||(d={}),d[D]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(i.hasOwnProperty(te)?w||(w=[]):(w=w||[]).push(te,null));for(te in g){var z=g[te];if(U=x!=null?x[te]:void 0,g.hasOwnProperty(te)&&z!==U&&(z!=null||U!=null))if(te==="style")if(U){for(D in U)!U.hasOwnProperty(D)||z&&z.hasOwnProperty(D)||(d||(d={}),d[D]="");for(D in z)z.hasOwnProperty(D)&&U[D]!==z[D]&&(d||(d={}),d[D]=z[D])}else d||(w||(w=[]),w.push(te,d)),d=z;else te==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,U=U?U.__html:void 0,z!=null&&U!==z&&(w=w||[]).push(te,z)):te==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(te,""+z):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(i.hasOwnProperty(te)?(z!=null&&te==="onScroll"&&wt("scroll",o),w||U===z||(w=[])):(w=w||[]).push(te,z))}d&&(w=w||[]).push("style",d);var te=w;(u.updateQueue=te)&&(u.flags|=4)}},gS=function(o,u,d,g){d!==g&&(u.flags|=4)};function nc(o,u){if(!It)switch(o.tailMode){case"hidden":u=o.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Tr(o){var u=o.alternate!==null&&o.alternate.child===o.child,d=0,g=0;if(u)for(var x=o.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=g,o.childLanes=d,u}function P3(o,u,d){var g=u.pendingProps;switch(Pg(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(u),null;case 1:return Vr(u.type)&&Sd(),Tr(u),null;case 3:return g=u.stateNode,nu(),Et(Lr),Et(wr),Fg(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(Cd(u)?u.flags|=4:o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Cn!==null&&(gy(Cn),Cn=null))),ay(o,u),Tr(u),null;case 5:Vg(u);var x=Do(Jl.current);if(d=u.type,o!==null&&u.stateNode!=null)mS(o,u,d,g,x),o.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(r(166));return Tr(u),null}if(o=Do(si.current),Cd(u)){g=u.stateNode,d=u.type;var w=u.memoizedProps;switch(g[oi]=u,g[Gl]=w,o=(u.mode&1)!==0,d){case"dialog":wt("cancel",g),wt("close",g);break;case"iframe":case"object":case"embed":wt("load",g);break;case"video":case"audio":for(x=0;x<zl.length;x++)wt(zl[x],g);break;case"source":wt("error",g);break;case"img":case"image":case"link":wt("error",g),wt("load",g);break;case"details":wt("toggle",g);break;case"input":Pt(g,w),wt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!w.multiple},wt("invalid",g);break;case"textarea":Ai(g,w),wt("invalid",g)}An(d,w),x=null;for(var D in w)if(w.hasOwnProperty(D)){var U=w[D];D==="children"?typeof U=="string"?g.textContent!==U&&(w.suppressHydrationWarning!==!0&&wd(g.textContent,U,o),x=["children",U]):typeof U=="number"&&g.textContent!==""+U&&(w.suppressHydrationWarning!==!0&&wd(g.textContent,U,o),x=["children",""+U]):i.hasOwnProperty(D)&&U!=null&&D==="onScroll"&&wt("scroll",g)}switch(d){case"input":Fe(g),Mr(g,w,!0);break;case"textarea":Fe(g),Sn(g);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(g.onclick=Ed)}g=x,u.updateQueue=g,g!==null&&(u.flags|=4)}else{D=x.nodeType===9?x:x.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=xl(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=D.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=D.createElement(d,{is:g.is}):(o=D.createElement(d),d==="select"&&(D=o,g.multiple?D.multiple=!0:g.size&&(D.size=g.size))):o=D.createElementNS(o,d),o[oi]=u,o[Gl]=g,pS(o,u,!1,!1),u.stateNode=o;e:{switch(D=As(d,g),d){case"dialog":wt("cancel",o),wt("close",o),x=g;break;case"iframe":case"object":case"embed":wt("load",o),x=g;break;case"video":case"audio":for(x=0;x<zl.length;x++)wt(zl[x],o);x=g;break;case"source":wt("error",o),x=g;break;case"img":case"image":case"link":wt("error",o),wt("load",o),x=g;break;case"details":wt("toggle",o),x=g;break;case"input":Pt(o,g),x=ze(o,g),wt("invalid",o);break;case"option":x=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},x=ne({},g,{value:void 0}),wt("invalid",o);break;case"textarea":Ai(o,g),x=Gr(o,g),wt("invalid",o);break;default:x=g}An(d,x),U=x;for(w in U)if(U.hasOwnProperty(w)){var z=U[w];w==="style"?Ss(o,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Xf(o,z)):w==="children"?typeof z=="string"?(d!=="textarea"||z!=="")&&go(o,z):typeof z=="number"&&go(o,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?z!=null&&w==="onScroll"&&wt("scroll",o):z!=null&&R(o,w,z,D))}switch(d){case"input":Fe(o),Mr(o,g,!1);break;case"textarea":Fe(o),Sn(o);break;case"option":g.value!=null&&o.setAttribute("value",""+Le(g.value));break;case"select":o.multiple=!!g.multiple,w=g.value,w!=null?Gt(o,!!g.multiple,w,!1):g.defaultValue!=null&&Gt(o,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(o.onclick=Ed)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Tr(u),null;case 6:if(o&&u.stateNode!=null)gS(o,u,o.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(d=Do(Jl.current),Do(si.current),Cd(u)){if(g=u.stateNode,d=u.memoizedProps,g[oi]=u,(w=g.nodeValue!==d)&&(o=en,o!==null))switch(o.tag){case 3:wd(g.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&wd(g.nodeValue,d,(o.mode&1)!==0)}w&&(u.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[oi]=u,u.stateNode=g}return Tr(u),null;case 13:if(Et(Ct),g=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(It&&tn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)xT(),Zs(),u.flags|=98560,w=!1;else if(w=Cd(u),g!==null&&g.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=u.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[oi]=u}else Zs(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Tr(u),w=!1}else Cn!==null&&(gy(Cn),Cn=null),w=!0;if(!w)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=d,u):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(u.child.flags|=8192,(u.mode&1)!==0&&(o===null||(Ct.current&1)!==0?Yt===0&&(Yt=3):xy())),u.updateQueue!==null&&(u.flags|=4),Tr(u),null);case 4:return nu(),ay(o,u),o===null&&Wl(u.stateNode.containerInfo),Tr(u),null;case 10:return Rg(u.type._context),Tr(u),null;case 17:return Vr(u.type)&&Sd(),Tr(u),null;case 19:if(Et(Ct),w=u.memoizedState,w===null)return Tr(u),null;if(g=(u.flags&128)!==0,D=w.rendering,D===null)if(g)nc(w,!1);else{if(Yt!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(D=Md(o),D!==null){for(u.flags|=128,nc(w,!1),g=D.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),u.subtreeFlags=0,g=d,d=u.child;d!==null;)w=d,o=g,w.flags&=14680066,D=w.alternate,D===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=D.childLanes,w.lanes=D.lanes,w.child=D.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=D.memoizedProps,w.memoizedState=D.memoizedState,w.updateQueue=D.updateQueue,w.type=D.type,o=D.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return xt(Ct,Ct.current&1|2),u.child}o=o.sibling}w.tail!==null&&bt()>su&&(u.flags|=128,g=!0,nc(w,!1),u.lanes=4194304)}else{if(!g)if(o=Md(D),o!==null){if(u.flags|=128,g=!0,d=o.updateQueue,d!==null&&(u.updateQueue=d,u.flags|=4),nc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!D.alternate&&!It)return Tr(u),null}else 2*bt()-w.renderingStartTime>su&&d!==1073741824&&(u.flags|=128,g=!0,nc(w,!1),u.lanes=4194304);w.isBackwards?(D.sibling=u.child,u.child=D):(d=w.last,d!==null?d.sibling=D:u.child=D,w.last=D)}return w.tail!==null?(u=w.tail,w.rendering=u,w.tail=u.sibling,w.renderingStartTime=bt(),u.sibling=null,d=Ct.current,xt(Ct,g?d&1|2:d&1),u):(Tr(u),null);case 22:case 23:return vy(),g=u.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(u.flags|=8192),g&&(u.mode&1)!==0?(rn&1073741824)!==0&&(Tr(u),u.subtreeFlags&6&&(u.flags|=8192)):Tr(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function I3(o,u){switch(Pg(u),u.tag){case 1:return Vr(u.type)&&Sd(),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return nu(),Et(Lr),Et(wr),Fg(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 5:return Vg(u),null;case 13:if(Et(Ct),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Zs()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return Et(Ct),null;case 4:return nu(),null;case 10:return Rg(u.type._context),null;case 22:case 23:return vy(),null;case 24:return null;default:return null}}var Wd=!1,Sr=!1,O3=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function au(o,u){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Dt(o,u,g)}else d.current=null}function oy(o,u,d){try{d()}catch(g){Dt(o,u,g)}}var yS=!1;function C3(o,u){if(vg=ji,o=YE(),cg(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var x=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var D=0,U=-1,z=-1,te=0,de=0,pe=o,le=null;t:for(;;){for(var _e;pe!==d||x!==0&&pe.nodeType!==3||(U=D+x),pe!==w||g!==0&&pe.nodeType!==3||(z=D+g),pe.nodeType===3&&(D+=pe.nodeValue.length),(_e=pe.firstChild)!==null;)le=pe,pe=_e;for(;;){if(pe===o)break t;if(le===d&&++te===x&&(U=D),le===w&&++de===g&&(z=D),(_e=pe.nextSibling)!==null)break;pe=le,le=pe.parentNode}pe=_e}d=U===-1||z===-1?null:{start:U,end:z}}else d=null}d=d||{start:0,end:0}}else d=null;for(xg={focusedElem:o,selectionRange:d},ji=!1,Ee=u;Ee!==null;)if(u=Ee,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Ee=o;else for(;Ee!==null;){u=Ee;try{var Se=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ae=Se.memoizedProps,$t=Se.memoizedState,Y=u.stateNode,W=Y.getSnapshotBeforeUpdate(u.elementType===u.type?Ae:kn(u.type,Ae),$t);Y.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var J=u.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ge){Dt(u,u.return,ge)}if(o=u.sibling,o!==null){o.return=u.return,Ee=o;break}Ee=u.return}return Se=yS,yS=!1,Se}function ic(o,u,d){var g=u.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&o)===o){var w=x.destroy;x.destroy=void 0,w!==void 0&&oy(u,d,w)}x=x.next}while(x!==g)}}function Hd(o,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&o)===o){var g=d.create;d.destroy=g()}d=d.next}while(d!==u)}}function sy(o){var u=o.ref;if(u!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof u=="function"?u(o):u.current=o}}function vS(o){var u=o.alternate;u!==null&&(o.alternate=null,vS(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&(delete u[oi],delete u[Gl],delete u[Eg],delete u[d3],delete u[h3])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function xS(o){return o.tag===5||o.tag===3||o.tag===4}function _S(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||xS(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function uy(o,u,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,u?d.nodeType===8?d.parentNode.insertBefore(o,u):d.insertBefore(o,u):(d.nodeType===8?(u=d.parentNode,u.insertBefore(o,d)):(u=d,u.appendChild(o)),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Ed));else if(g!==4&&(o=o.child,o!==null))for(uy(o,u,d),o=o.sibling;o!==null;)uy(o,u,d),o=o.sibling}function ly(o,u,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,u?d.insertBefore(o,u):d.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(ly(o,u,d),o=o.sibling;o!==null;)ly(o,u,d),o=o.sibling}var hr=null,Nn=!1;function ja(o,u,d){for(d=d.child;d!==null;)bS(o,u,d),d=d.sibling}function bS(o,u,d){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(bo,d)}catch{}switch(d.tag){case 5:Sr||au(d,u);case 6:var g=hr,x=Nn;hr=null,ja(o,u,d),hr=g,Nn=x,hr!==null&&(Nn?(o=hr,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):hr.removeChild(d.stateNode));break;case 18:hr!==null&&(Nn?(o=hr,d=d.stateNode,o.nodeType===8?wg(o.parentNode,d):o.nodeType===1&&wg(o,d),Ta(o)):wg(hr,d.stateNode));break;case 4:g=hr,x=Nn,hr=d.stateNode.containerInfo,Nn=!0,ja(o,u,d),hr=g,Nn=x;break;case 0:case 11:case 14:case 15:if(!Sr&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var w=x,D=w.destroy;w=w.tag,D!==void 0&&((w&2)!==0||(w&4)!==0)&&oy(d,u,D),x=x.next}while(x!==g)}ja(o,u,d);break;case 1:if(!Sr&&(au(d,u),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(U){Dt(d,u,U)}ja(o,u,d);break;case 21:ja(o,u,d);break;case 22:d.mode&1?(Sr=(g=Sr)||d.memoizedState!==null,ja(o,u,d),Sr=g):ja(o,u,d);break;default:ja(o,u,d)}}function wS(o){var u=o.updateQueue;if(u!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new O3),u.forEach(function(g){var x=$3.bind(null,o,g);d.has(g)||(d.add(g),g.then(x,x))})}}function Rn(o,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var x=d[g];try{var w=o,D=u,U=D;e:for(;U!==null;){switch(U.tag){case 5:hr=U.stateNode,Nn=!1;break e;case 3:hr=U.stateNode.containerInfo,Nn=!0;break e;case 4:hr=U.stateNode.containerInfo,Nn=!0;break e}U=U.return}if(hr===null)throw Error(r(160));bS(w,D,x),hr=null,Nn=!1;var z=x.alternate;z!==null&&(z.return=null),x.return=null}catch(te){Dt(x,u,te)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)ES(u,o),u=u.sibling}function ES(o,u){var d=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Rn(u,o),li(o),g&4){try{ic(3,o,o.return),Hd(3,o)}catch(Ae){Dt(o,o.return,Ae)}try{ic(5,o,o.return)}catch(Ae){Dt(o,o.return,Ae)}}break;case 1:Rn(u,o),li(o),g&512&&d!==null&&au(d,d.return);break;case 5:if(Rn(u,o),li(o),g&512&&d!==null&&au(d,d.return),o.flags&32){var x=o.stateNode;try{go(x,"")}catch(Ae){Dt(o,o.return,Ae)}}if(g&4&&(x=o.stateNode,x!=null)){var w=o.memoizedProps,D=d!==null?d.memoizedProps:w,U=o.type,z=o.updateQueue;if(o.updateQueue=null,z!==null)try{U==="input"&&w.type==="radio"&&w.name!=null&&yt(x,w),As(U,D);var te=As(U,w);for(D=0;D<z.length;D+=2){var de=z[D],pe=z[D+1];de==="style"?Ss(x,pe):de==="dangerouslySetInnerHTML"?Xf(x,pe):de==="children"?go(x,pe):R(x,de,pe,te)}switch(U){case"input":Rt(x,w);break;case"textarea":mo(x,w);break;case"select":var le=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!w.multiple;var _e=w.value;_e!=null?Gt(x,!!w.multiple,_e,!1):le!==!!w.multiple&&(w.defaultValue!=null?Gt(x,!!w.multiple,w.defaultValue,!0):Gt(x,!!w.multiple,w.multiple?[]:"",!1))}x[Gl]=w}catch(Ae){Dt(o,o.return,Ae)}}break;case 6:if(Rn(u,o),li(o),g&4){if(o.stateNode===null)throw Error(r(162));x=o.stateNode,w=o.memoizedProps;try{x.nodeValue=w}catch(Ae){Dt(o,o.return,Ae)}}break;case 3:if(Rn(u,o),li(o),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Ta(u.containerInfo)}catch(Ae){Dt(o,o.return,Ae)}break;case 4:Rn(u,o),li(o);break;case 13:Rn(u,o),li(o),x=o.child,x.flags&8192&&(w=x.memoizedState!==null,x.stateNode.isHidden=w,!w||x.alternate!==null&&x.alternate.memoizedState!==null||(dy=bt())),g&4&&wS(o);break;case 22:if(de=d!==null&&d.memoizedState!==null,o.mode&1?(Sr=(te=Sr)||de,Rn(u,o),Sr=te):Rn(u,o),li(o),g&8192){if(te=o.memoizedState!==null,(o.stateNode.isHidden=te)&&!de&&(o.mode&1)!==0)for(Ee=o,de=o.child;de!==null;){for(pe=Ee=de;Ee!==null;){switch(le=Ee,_e=le.child,le.tag){case 0:case 11:case 14:case 15:ic(4,le,le.return);break;case 1:au(le,le.return);var Se=le.stateNode;if(typeof Se.componentWillUnmount=="function"){g=le,d=le.return;try{u=g,Se.props=u.memoizedProps,Se.state=u.memoizedState,Se.componentWillUnmount()}catch(Ae){Dt(g,d,Ae)}}break;case 5:au(le,le.return);break;case 22:if(le.memoizedState!==null){AS(pe);continue}}_e!==null?(_e.return=le,Ee=_e):AS(pe)}de=de.sibling}e:for(de=null,pe=o;;){if(pe.tag===5){if(de===null){de=pe;try{x=pe.stateNode,te?(w=x.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(U=pe.stateNode,z=pe.memoizedProps.style,D=z!=null&&z.hasOwnProperty("display")?z.display:null,U.style.display=ma("display",D))}catch(Ae){Dt(o,o.return,Ae)}}}else if(pe.tag===6){if(de===null)try{pe.stateNode.nodeValue=te?"":pe.memoizedProps}catch(Ae){Dt(o,o.return,Ae)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===o)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===o)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===o)break e;de===pe&&(de=null),pe=pe.return}de===pe&&(de=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:Rn(u,o),li(o),g&4&&wS(o);break;case 21:break;default:Rn(u,o),li(o)}}function li(o){var u=o.flags;if(u&2){try{e:{for(var d=o.return;d!==null;){if(xS(d)){var g=d;break e}d=d.return}throw Error(r(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(go(x,""),g.flags&=-33);var w=_S(o);ly(o,w,x);break;case 3:case 4:var D=g.stateNode.containerInfo,U=_S(o);uy(o,U,D);break;default:throw Error(r(161))}}catch(z){Dt(o,o.return,z)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function k3(o,u,d){Ee=o,TS(o)}function TS(o,u,d){for(var g=(o.mode&1)!==0;Ee!==null;){var x=Ee,w=x.child;if(x.tag===22&&g){var D=x.memoizedState!==null||Wd;if(!D){var U=x.alternate,z=U!==null&&U.memoizedState!==null||Sr;U=Wd;var te=Sr;if(Wd=D,(Sr=z)&&!te)for(Ee=x;Ee!==null;)D=Ee,z=D.child,D.tag===22&&D.memoizedState!==null?PS(x):z!==null?(z.return=D,Ee=z):PS(x);for(;w!==null;)Ee=w,TS(w),w=w.sibling;Ee=x,Wd=U,Sr=te}SS(o)}else(x.subtreeFlags&8772)!==0&&w!==null?(w.return=x,Ee=w):SS(o)}}function SS(o){for(;Ee!==null;){var u=Ee;if((u.flags&8772)!==0){var d=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Sr||Hd(5,u);break;case 1:var g=u.stateNode;if(u.flags&4&&!Sr)if(d===null)g.componentDidMount();else{var x=u.elementType===u.type?d.memoizedProps:kn(u.type,d.memoizedProps);g.componentDidUpdate(x,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var w=u.updateQueue;w!==null&&AT(u,w,g);break;case 3:var D=u.updateQueue;if(D!==null){if(d=null,u.child!==null)switch(u.child.tag){case 5:d=u.child.stateNode;break;case 1:d=u.child.stateNode}AT(u,D,d)}break;case 5:var U=u.stateNode;if(d===null&&u.flags&4){d=U;var z=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&d.focus();break;case"img":z.src&&(d.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var te=u.alternate;if(te!==null){var de=te.memoizedState;if(de!==null){var pe=de.dehydrated;pe!==null&&Ta(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Sr||u.flags&512&&sy(u)}catch(le){Dt(u,u.return,le)}}if(u===o){Ee=null;break}if(d=u.sibling,d!==null){d.return=u.return,Ee=d;break}Ee=u.return}}function AS(o){for(;Ee!==null;){var u=Ee;if(u===o){Ee=null;break}var d=u.sibling;if(d!==null){d.return=u.return,Ee=d;break}Ee=u.return}}function PS(o){for(;Ee!==null;){var u=Ee;try{switch(u.tag){case 0:case 11:case 15:var d=u.return;try{Hd(4,u)}catch(z){Dt(u,d,z)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var x=u.return;try{g.componentDidMount()}catch(z){Dt(u,x,z)}}var w=u.return;try{sy(u)}catch(z){Dt(u,w,z)}break;case 5:var D=u.return;try{sy(u)}catch(z){Dt(u,D,z)}}}catch(z){Dt(u,u.return,z)}if(u===o){Ee=null;break}var U=u.sibling;if(U!==null){U.return=u.return,Ee=U;break}Ee=u.return}}var N3=Math.ceil,Gd=M.ReactCurrentDispatcher,cy=M.ReactCurrentOwner,pn=M.ReactCurrentBatchConfig,Ze=0,ar=null,Ut=null,pr=0,rn=0,ou=Oa(0),Yt=0,ac=null,Lo=0,Kd=0,fy=0,oc=null,Fr=null,dy=0,su=1/0,zi=null,Yd=!1,hy=null,Da=null,Xd=!1,Ma=null,Qd=0,sc=0,py=null,Jd=-1,Zd=0;function jr(){return(Ze&6)!==0?bt():Jd!==-1?Jd:Jd=bt()}function La(o){return(o.mode&1)===0?1:(Ze&2)!==0&&pr!==0?pr&-pr:m3.transition!==null?(Zd===0&&(Zd=Il()),Zd):(o=Qe,o!==0||(o=window.event,o=o===void 0?16:Ms(o.type)),o)}function jn(o,u,d,g){if(50<sc)throw sc=0,py=null,Error(r(185));So(o,d,g),((Ze&2)===0||o!==ar)&&(o===ar&&((Ze&2)===0&&(Kd|=d),Yt===4&&Va(o,pr)),Br(o,g),d===1&&Ze===0&&(u.mode&1)===0&&(su=bt()+500,Pd&&ka()))}function Br(o,u){var d=o.callbackNode;To(o,u);var g=ki(o,o===ar?pr:0);if(g===0)d!==null&&Os(d),o.callbackNode=null,o.callbackPriority=0;else if(u=g&-g,o.callbackPriority!==u){if(d!=null&&Os(d),u===1)o.tag===0?p3(OS.bind(null,o)):pT(OS.bind(null,o)),c3(function(){(Ze&6)===0&&ka()}),d=null;else{switch(Xn(g)){case 1:d=Cs;break;case 4:d=Sl;break;case 16:d=_o;break;case 536870912:d=ks;break;default:d=_o}d=LS(d,IS.bind(null,o))}o.callbackPriority=u,o.callbackNode=d}}function IS(o,u){if(Jd=-1,Zd=0,(Ze&6)!==0)throw Error(r(327));var d=o.callbackNode;if(uu()&&o.callbackNode!==d)return null;var g=ki(o,o===ar?pr:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||u)u=eh(o,g);else{u=g;var x=Ze;Ze|=2;var w=kS();(ar!==o||pr!==u)&&(zi=null,su=bt()+500,$o(o,u));do try{D3();break}catch(U){CS(o,U)}while(!0);Ng(),Gd.current=w,Ze=x,Ut!==null?u=0:(ar=null,pr=0,u=Yt)}if(u!==0){if(u===2&&(x=Pl(o),x!==0&&(g=x,u=my(o,x))),u===1)throw d=ac,$o(o,0),Va(o,g),Br(o,bt()),d;if(u===6)Va(o,g);else{if(x=o.current.alternate,(g&30)===0&&!R3(x)&&(u=eh(o,g),u===2&&(w=Pl(o),w!==0&&(g=w,u=my(o,w))),u===1))throw d=ac,$o(o,0),Va(o,g),Br(o,bt()),d;switch(o.finishedWork=x,o.finishedLanes=g,u){case 0:case 1:throw Error(r(345));case 2:Fo(o,Fr,zi);break;case 3:if(Va(o,g),(g&130023424)===g&&(u=dy+500-bt(),10<u)){if(ki(o,0)!==0)break;if(x=o.suspendedLanes,(x&g)!==g){jr(),o.pingedLanes|=o.suspendedLanes&x;break}o.timeoutHandle=bg(Fo.bind(null,o,Fr,zi),u);break}Fo(o,Fr,zi);break;case 4:if(Va(o,g),(g&4194240)===g)break;for(u=o.eventTimes,x=-1;0<g;){var D=31-Yr(g);w=1<<D,D=u[D],D>x&&(x=D),g&=~w}if(g=x,g=bt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*N3(g/1960))-g,10<g){o.timeoutHandle=bg(Fo.bind(null,o,Fr,zi),g);break}Fo(o,Fr,zi);break;case 5:Fo(o,Fr,zi);break;default:throw Error(r(329))}}}return Br(o,bt()),o.callbackNode===d?IS.bind(null,o):null}function my(o,u){var d=oc;return o.current.memoizedState.isDehydrated&&($o(o,u).flags|=256),o=eh(o,u),o!==2&&(u=Fr,Fr=d,u!==null&&gy(u)),o}function gy(o){Fr===null?Fr=o:Fr.push.apply(Fr,o)}function R3(o){for(var u=o;;){if(u.flags&16384){var d=u.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var x=d[g],w=x.getSnapshot;x=x.value;try{if(!On(w(),x))return!1}catch{return!1}}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Va(o,u){for(u&=~fy,u&=~Kd,o.suspendedLanes|=u,o.pingedLanes&=~u,o=o.expirationTimes;0<u;){var d=31-Yr(u),g=1<<d;o[d]=-1,u&=~g}}function OS(o){if((Ze&6)!==0)throw Error(r(327));uu();var u=ki(o,0);if((u&1)===0)return Br(o,bt()),null;var d=eh(o,u);if(o.tag!==0&&d===2){var g=Pl(o);g!==0&&(u=g,d=my(o,g))}if(d===1)throw d=ac,$o(o,0),Va(o,u),Br(o,bt()),d;if(d===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=u,Fo(o,Fr,zi),Br(o,bt()),null}function yy(o,u){var d=Ze;Ze|=1;try{return o(u)}finally{Ze=d,Ze===0&&(su=bt()+500,Pd&&ka())}}function Vo(o){Ma!==null&&Ma.tag===0&&(Ze&6)===0&&uu();var u=Ze;Ze|=1;var d=pn.transition,g=Qe;try{if(pn.transition=null,Qe=1,o)return o()}finally{Qe=g,pn.transition=d,Ze=u,(Ze&6)===0&&ka()}}function vy(){rn=ou.current,Et(ou)}function $o(o,u){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,l3(d)),Ut!==null)for(d=Ut.return;d!==null;){var g=d;switch(Pg(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Sd();break;case 3:nu(),Et(Lr),Et(wr),Fg();break;case 5:Vg(g);break;case 4:nu();break;case 13:Et(Ct);break;case 19:Et(Ct);break;case 10:Rg(g.type._context);break;case 22:case 23:vy()}d=d.return}if(ar=o,Ut=o=$a(o.current,null),pr=rn=u,Yt=0,ac=null,fy=Kd=Lo=0,Fr=oc=null,jo!==null){for(u=0;u<jo.length;u++)if(d=jo[u],g=d.interleaved,g!==null){d.interleaved=null;var x=g.next,w=d.pending;if(w!==null){var D=w.next;w.next=x,g.next=D}d.pending=g}jo=null}return o}function CS(o,u){do{var d=Ut;try{if(Ng(),Ld.current=Bd,Vd){for(var g=kt.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}Vd=!1}if(Mo=0,ir=Kt=kt=null,Zl=!1,ec=0,cy.current=null,d===null||d.return===null){Yt=1,ac=u,Ut=null;break}e:{var w=o,D=d.return,U=d,z=u;if(u=pr,U.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var te=z,de=U,pe=de.tag;if((de.mode&1)===0&&(pe===0||pe===11||pe===15)){var le=de.alternate;le?(de.updateQueue=le.updateQueue,de.memoizedState=le.memoizedState,de.lanes=le.lanes):(de.updateQueue=null,de.memoizedState=null)}var _e=tS(D);if(_e!==null){_e.flags&=-257,rS(_e,D,U,w,u),_e.mode&1&&eS(w,te,u),u=_e,z=te;var Se=u.updateQueue;if(Se===null){var Ae=new Set;Ae.add(z),u.updateQueue=Ae}else Se.add(z);break e}else{if((u&1)===0){eS(w,te,u),xy();break e}z=Error(r(426))}}else if(It&&U.mode&1){var $t=tS(D);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),rS($t,D,U,w,u),Cg(iu(z,U));break e}}w=z=iu(z,U),Yt!==4&&(Yt=2),oc===null?oc=[w]:oc.push(w),w=D;do{switch(w.tag){case 3:w.flags|=65536,u&=-u,w.lanes|=u;var Y=JT(w,z,u);ST(w,Y);break e;case 1:U=z;var W=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Da===null||!Da.has(J)))){w.flags|=65536,u&=-u,w.lanes|=u;var ge=ZT(w,U,u);ST(w,ge);break e}}w=w.return}while(w!==null)}RS(d)}catch(Pe){u=Pe,Ut===d&&d!==null&&(Ut=d=d.return);continue}break}while(!0)}function kS(){var o=Gd.current;return Gd.current=Bd,o===null?Bd:o}function xy(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),ar===null||(Lo&268435455)===0&&(Kd&268435455)===0||Va(ar,pr)}function eh(o,u){var d=Ze;Ze|=2;var g=kS();(ar!==o||pr!==u)&&(zi=null,$o(o,u));do try{j3();break}catch(x){CS(o,x)}while(!0);if(Ng(),Ze=d,Gd.current=g,Ut!==null)throw Error(r(261));return ar=null,pr=0,Yt}function j3(){for(;Ut!==null;)NS(Ut)}function D3(){for(;Ut!==null&&!xo();)NS(Ut)}function NS(o){var u=MS(o.alternate,o,rn);o.memoizedProps=o.pendingProps,u===null?RS(o):Ut=u,cy.current=null}function RS(o){var u=o;do{var d=u.alternate;if(o=u.return,(u.flags&32768)===0){if(d=P3(d,u,rn),d!==null){Ut=d;return}}else{if(d=I3(d,u),d!==null){d.flags&=32767,Ut=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Yt=6,Ut=null;return}}if(u=u.sibling,u!==null){Ut=u;return}Ut=u=o}while(u!==null);Yt===0&&(Yt=5)}function Fo(o,u,d){var g=Qe,x=pn.transition;try{pn.transition=null,Qe=1,M3(o,u,d,g)}finally{pn.transition=x,Qe=g}return null}function M3(o,u,d,g){do uu();while(Ma!==null);if((Ze&6)!==0)throw Error(r(327));d=o.finishedWork;var x=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var w=d.lanes|d.childLanes;if(ag(o,w),o===ar&&(Ut=ar=null,pr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Xd||(Xd=!0,LS(_o,function(){return uu(),null})),w=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||w){w=pn.transition,pn.transition=null;var D=Qe;Qe=1;var U=Ze;Ze|=4,cy.current=null,C3(o,d),ES(d,o),r3(xg),ji=!!vg,xg=vg=null,o.current=d,k3(d),Ci(),Ze=U,Qe=D,pn.transition=w}else o.current=d;if(Xd&&(Xd=!1,Ma=o,Qd=x),w=o.pendingLanes,w===0&&(Da=null),sd(d.stateNode),Br(o,bt()),u!==null)for(g=o.onRecoverableError,d=0;d<u.length;d++)x=u[d],g(x.value,{componentStack:x.stack,digest:x.digest});if(Yd)throw Yd=!1,o=hy,hy=null,o;return(Qd&1)!==0&&o.tag!==0&&uu(),w=o.pendingLanes,(w&1)!==0?o===py?sc++:(sc=0,py=o):sc=0,ka(),null}function uu(){if(Ma!==null){var o=Xn(Qd),u=pn.transition,d=Qe;try{if(pn.transition=null,Qe=16>o?16:o,Ma===null)var g=!1;else{if(o=Ma,Ma=null,Qd=0,(Ze&6)!==0)throw Error(r(331));var x=Ze;for(Ze|=4,Ee=o.current;Ee!==null;){var w=Ee,D=w.child;if((Ee.flags&16)!==0){var U=w.deletions;if(U!==null){for(var z=0;z<U.length;z++){var te=U[z];for(Ee=te;Ee!==null;){var de=Ee;switch(de.tag){case 0:case 11:case 15:ic(8,de,w)}var pe=de.child;if(pe!==null)pe.return=de,Ee=pe;else for(;Ee!==null;){de=Ee;var le=de.sibling,_e=de.return;if(vS(de),de===te){Ee=null;break}if(le!==null){le.return=_e,Ee=le;break}Ee=_e}}}var Se=w.alternate;if(Se!==null){var Ae=Se.child;if(Ae!==null){Se.child=null;do{var $t=Ae.sibling;Ae.sibling=null,Ae=$t}while(Ae!==null)}}Ee=w}}if((w.subtreeFlags&2064)!==0&&D!==null)D.return=w,Ee=D;else e:for(;Ee!==null;){if(w=Ee,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:ic(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,Ee=Y;break e}Ee=w.return}}var W=o.current;for(Ee=W;Ee!==null;){D=Ee;var J=D.child;if((D.subtreeFlags&2064)!==0&&J!==null)J.return=D,Ee=J;else e:for(D=W;Ee!==null;){if(U=Ee,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Hd(9,U)}}catch(Pe){Dt(U,U.return,Pe)}if(U===D){Ee=null;break e}var ge=U.sibling;if(ge!==null){ge.return=U.return,Ee=ge;break e}Ee=U.return}}if(Ze=x,ka(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(bo,o)}catch{}g=!0}return g}finally{Qe=d,pn.transition=u}}return!1}function jS(o,u,d){u=iu(d,u),u=JT(o,u,1),o=Ra(o,u,1),u=jr(),o!==null&&(So(o,1,u),Br(o,u))}function Dt(o,u,d){if(o.tag===3)jS(o,o,d);else for(;u!==null;){if(u.tag===3){jS(u,o,d);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Da===null||!Da.has(g))){o=iu(d,o),o=ZT(u,o,1),u=Ra(u,o,1),o=jr(),u!==null&&(So(u,1,o),Br(u,o));break}}u=u.return}}function L3(o,u,d){var g=o.pingCache;g!==null&&g.delete(u),u=jr(),o.pingedLanes|=o.suspendedLanes&d,ar===o&&(pr&d)===d&&(Yt===4||Yt===3&&(pr&130023424)===pr&&500>bt()-dy?$o(o,0):fy|=d),Br(o,u)}function DS(o,u){u===0&&((o.mode&1)===0?u=1:(u=ba,ba<<=1,(ba&130023424)===0&&(ba=4194304)));var d=jr();o=Bi(o,u),o!==null&&(So(o,u,d),Br(o,d))}function V3(o){var u=o.memoizedState,d=0;u!==null&&(d=u.retryLane),DS(o,d)}function $3(o,u){var d=0;switch(o.tag){case 13:var g=o.stateNode,x=o.memoizedState;x!==null&&(d=x.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(u),DS(o,d)}var MS;MS=function(o,u,d){if(o!==null)if(o.memoizedProps!==u.pendingProps||Lr.current)$r=!0;else{if((o.lanes&d)===0&&(u.flags&128)===0)return $r=!1,A3(o,u,d);$r=(o.flags&131072)!==0}else $r=!1,It&&(u.flags&1048576)!==0&&mT(u,Od,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;zd(o,u),o=u.pendingProps;var x=Xs(u,wr.current);ru(u,d),x=qg(null,u,g,o,x,d);var w=zg();return u.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Vr(g)?(w=!0,Ad(u)):w=!1,u.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Mg(u),x.updater=Ud,u.stateNode=x,x._reactInternals=u,Xg(u,g,o,d),u=ey(null,u,g,!0,w,d)):(u.tag=0,It&&w&&Ag(u),Rr(null,u,x,d),u=u.child),u;case 16:g=u.elementType;e:{switch(zd(o,u),o=u.pendingProps,x=g._init,g=x(g._payload),u.type=g,x=u.tag=B3(g),o=kn(g,o),x){case 0:u=Zg(null,u,g,o,d);break e;case 1:u=uS(null,u,g,o,d);break e;case 11:u=nS(null,u,g,o,d);break e;case 14:u=iS(null,u,g,kn(g.type,o),d);break e}throw Error(r(306,g,""))}return u;case 0:return g=u.type,x=u.pendingProps,x=u.elementType===g?x:kn(g,x),Zg(o,u,g,x,d);case 1:return g=u.type,x=u.pendingProps,x=u.elementType===g?x:kn(g,x),uS(o,u,g,x,d);case 3:e:{if(lS(u),o===null)throw Error(r(387));g=u.pendingProps,w=u.memoizedState,x=w.element,TT(o,u),Dd(u,g,null,d);var D=u.memoizedState;if(g=D.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},u.updateQueue.baseState=w,u.memoizedState=w,u.flags&256){x=iu(Error(r(423)),u),u=cS(o,u,g,d,x);break e}else if(g!==x){x=iu(Error(r(424)),u),u=cS(o,u,g,d,x);break e}else for(tn=Ia(u.stateNode.containerInfo.firstChild),en=u,It=!0,Cn=null,d=wT(u,null,g,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Zs(),g===x){u=qi(o,u,d);break e}Rr(o,u,g,d)}u=u.child}return u;case 5:return PT(u),o===null&&Og(u),g=u.type,x=u.pendingProps,w=o!==null?o.memoizedProps:null,D=x.children,_g(g,x)?D=null:w!==null&&_g(g,w)&&(u.flags|=32),sS(o,u),Rr(o,u,D,d),u.child;case 6:return o===null&&Og(u),null;case 13:return fS(o,u,d);case 4:return Lg(u,u.stateNode.containerInfo),g=u.pendingProps,o===null?u.child=eu(u,null,g,d):Rr(o,u,g,d),u.child;case 11:return g=u.type,x=u.pendingProps,x=u.elementType===g?x:kn(g,x),nS(o,u,g,x,d);case 7:return Rr(o,u,u.pendingProps,d),u.child;case 8:return Rr(o,u,u.pendingProps.children,d),u.child;case 12:return Rr(o,u,u.pendingProps.children,d),u.child;case 10:e:{if(g=u.type._context,x=u.pendingProps,w=u.memoizedProps,D=x.value,xt(Nd,g._currentValue),g._currentValue=D,w!==null)if(On(w.value,D)){if(w.children===x.children&&!Lr.current){u=qi(o,u,d);break e}}else for(w=u.child,w!==null&&(w.return=u);w!==null;){var U=w.dependencies;if(U!==null){D=w.child;for(var z=U.firstContext;z!==null;){if(z.context===g){if(w.tag===1){z=Ui(-1,d&-d),z.tag=2;var te=w.updateQueue;if(te!==null){te=te.shared;var de=te.pending;de===null?z.next=z:(z.next=de.next,de.next=z),te.pending=z}}w.lanes|=d,z=w.alternate,z!==null&&(z.lanes|=d),jg(w.return,d,u),U.lanes|=d;break}z=z.next}}else if(w.tag===10)D=w.type===u.type?null:w.child;else if(w.tag===18){if(D=w.return,D===null)throw Error(r(341));D.lanes|=d,U=D.alternate,U!==null&&(U.lanes|=d),jg(D,d,u),D=w.sibling}else D=w.child;if(D!==null)D.return=w;else for(D=w;D!==null;){if(D===u){D=null;break}if(w=D.sibling,w!==null){w.return=D.return,D=w;break}D=D.return}w=D}Rr(o,u,x.children,d),u=u.child}return u;case 9:return x=u.type,g=u.pendingProps.children,ru(u,d),x=dn(x),g=g(x),u.flags|=1,Rr(o,u,g,d),u.child;case 14:return g=u.type,x=kn(g,u.pendingProps),x=kn(g.type,x),iS(o,u,g,x,d);case 15:return aS(o,u,u.type,u.pendingProps,d);case 17:return g=u.type,x=u.pendingProps,x=u.elementType===g?x:kn(g,x),zd(o,u),u.tag=1,Vr(g)?(o=!0,Ad(u)):o=!1,ru(u,d),XT(u,g,x),Xg(u,g,x,d),ey(null,u,g,!0,o,d);case 19:return hS(o,u,d);case 22:return oS(o,u,d)}throw Error(r(156,u.tag))};function LS(o,u){return Tl(o,u)}function F3(o,u,d,g){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(o,u,d,g){return new F3(o,u,d,g)}function _y(o){return o=o.prototype,!(!o||!o.isReactComponent)}function B3(o){if(typeof o=="function")return _y(o)?1:0;if(o!=null){if(o=o.$$typeof,o===$)return 11;if(o===ee)return 14}return 2}function $a(o,u){var d=o.alternate;return d===null?(d=mn(o.tag,u,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=u,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,u=o.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function th(o,u,d,g,x,w){var D=2;if(g=o,typeof o=="function")_y(o)&&(D=1);else if(typeof o=="string")D=5;else e:switch(o){case A:return Bo(d.children,x,w,u);case O:D=8,x|=8;break;case N:return o=mn(12,d,u,x|2),o.elementType=N,o.lanes=w,o;case L:return o=mn(13,d,u,x),o.elementType=L,o.lanes=w,o;case Z:return o=mn(19,d,u,x),o.elementType=Z,o.lanes=w,o;case se:return rh(d,x,w,u);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case F:D=10;break e;case V:D=9;break e;case $:D=11;break e;case ee:D=14;break e;case oe:D=16,g=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return u=mn(D,d,u,x),u.elementType=o,u.type=g,u.lanes=w,u}function Bo(o,u,d,g){return o=mn(7,o,g,u),o.lanes=d,o}function rh(o,u,d,g){return o=mn(22,o,g,u),o.elementType=se,o.lanes=d,o.stateNode={isHidden:!1},o}function by(o,u,d){return o=mn(6,o,null,u),o.lanes=d,o}function wy(o,u,d){return u=mn(4,o.children!==null?o.children:[],o.key,u),u.lanes=d,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function U3(o,u,d,g,x){this.tag=u,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ol(0),this.expirationTimes=Ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ol(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Ey(o,u,d,g,x,w,D,U,z){return o=new U3(o,u,d,U,z),u===1?(u=1,w===!0&&(u|=8)):u=0,w=mn(3,null,null,u),o.current=w,w.stateNode=o,w.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mg(w),o}function q3(o,u,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:g==null?null:""+g,children:o,containerInfo:u,implementation:d}}function VS(o){if(!o)return Ca;o=o._reactInternals;e:{if(Pn(o)!==o||o.tag!==1)throw Error(r(170));var u=o;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Vr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(o.tag===1){var d=o.type;if(Vr(d))return dT(o,d,u)}return u}function $S(o,u,d,g,x,w,D,U,z){return o=Ey(d,g,!0,o,x,w,D,U,z),o.context=VS(null),d=o.current,g=jr(),x=La(d),w=Ui(g,x),w.callback=u??null,Ra(d,w,x),o.current.lanes=x,So(o,x,g),Br(o,g),o}function nh(o,u,d,g){var x=u.current,w=jr(),D=La(x);return d=VS(d),u.context===null?u.context=d:u.pendingContext=d,u=Ui(w,D),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Ra(x,u,D),o!==null&&(jn(o,x,D,w),jd(o,x,D)),D}function ih(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function FS(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<u?d:u}}function Ty(o,u){FS(o,u),(o=o.alternate)&&FS(o,u)}function z3(){return null}var BS=typeof reportError=="function"?reportError:function(o){console.error(o)};function Sy(o){this._internalRoot=o}ah.prototype.render=Sy.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));nh(o,u,null,null)},ah.prototype.unmount=Sy.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;Vo(function(){nh(null,o,null,null)}),u[Li]=null}};function ah(o){this._internalRoot=o}ah.prototype.unstable_scheduleHydration=function(o){if(o){var u=Rl();o={blockedOn:null,target:o,priority:u};for(var d=0;d<Xr.length&&u!==0&&u<Xr[d].priority;d++);Xr.splice(d,0,o),d===0&&js(o)}};function Ay(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function oh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function US(){}function W3(o,u,d,g,x){if(x){if(typeof g=="function"){var w=g;g=function(){var te=ih(D);w.call(te)}}var D=$S(u,g,o,0,null,!1,!1,"",US);return o._reactRootContainer=D,o[Li]=D.current,Wl(o.nodeType===8?o.parentNode:o),Vo(),D}for(;x=o.lastChild;)o.removeChild(x);if(typeof g=="function"){var U=g;g=function(){var te=ih(z);U.call(te)}}var z=Ey(o,0,!1,null,null,!1,!1,"",US);return o._reactRootContainer=z,o[Li]=z.current,Wl(o.nodeType===8?o.parentNode:o),Vo(function(){nh(u,z,d,g)}),z}function sh(o,u,d,g,x){var w=d._reactRootContainer;if(w){var D=w;if(typeof x=="function"){var U=x;x=function(){var z=ih(D);U.call(z)}}nh(u,D,o,x)}else D=W3(d,u,o,x,g);return ih(D)}kl=function(o){switch(o.tag){case 3:var u=o.stateNode;if(u.current.memoizedState.isDehydrated){var d=nt(u.pendingLanes);d!==0&&(Cl(u,d|1),Br(u,bt()),(Ze&6)===0&&(su=bt()+500,ka()))}break;case 13:Vo(function(){var g=Bi(o,1);if(g!==null){var x=jr();jn(g,o,1,x)}}),Ty(o,1)}},Ns=function(o){if(o.tag===13){var u=Bi(o,134217728);if(u!==null){var d=jr();jn(u,o,134217728,d)}Ty(o,134217728)}},Nl=function(o){if(o.tag===13){var u=La(o),d=Bi(o,u);if(d!==null){var g=jr();jn(d,o,u,g)}Ty(o,u)}},Rl=function(){return Qe},jl=function(o,u){var d=Qe;try{return Qe=o,u()}finally{Qe=d}},Pi=function(o,u,d){switch(u){case"input":if(Rt(o,d),u=d.name,d.type==="radio"&&u!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<d.length;u++){var g=d[u];if(g!==o&&g.form===o.form){var x=Td(g);if(!x)throw Error(r(90));ce(g),Rt(g,x)}}}break;case"textarea":mo(o,d);break;case"select":u=d.value,u!=null&&Gt(o,!!d.multiple,u,!1)}},Jf=yy,Zf=Vo;var H3={usingClientEntryPoint:!1,Events:[Kl,Ks,Td,ya,va,yy]},uc={findFiberByHostInstance:Co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G3={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=od(o),o===null?null:o.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||z3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{bo=uh.inject(G3),Kr=uh}catch{}}return Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H3,Ur.createPortal=function(o,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ay(u))throw Error(r(200));return q3(o,u,null,d)},Ur.createRoot=function(o,u){if(!Ay(o))throw Error(r(299));var d=!1,g="",x=BS;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(x=u.onRecoverableError)),u=Ey(o,1,!1,null,null,d,!1,g,x),o[Li]=u.current,Wl(o.nodeType===8?o.parentNode:o),new Sy(u)},Ur.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=od(u),o=o===null?null:o.stateNode,o},Ur.flushSync=function(o){return Vo(o)},Ur.hydrate=function(o,u,d){if(!oh(u))throw Error(r(200));return sh(null,o,u,!0,d)},Ur.hydrateRoot=function(o,u,d){if(!Ay(o))throw Error(r(405));var g=d!=null&&d.hydratedSources||null,x=!1,w="",D=BS;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(D=d.onRecoverableError)),u=$S(u,null,o,1,d??null,x,!1,w,D),o[Li]=u.current,Wl(o),g)for(o=0;o<g.length;o++)d=g[o],x=d._getVersion,x=x(d._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[d,x]:u.mutableSourceEagerHydrationData.push(d,x);return new ah(u)},Ur.render=function(o,u,d){if(!oh(u))throw Error(r(200));return sh(null,o,u,!1,d)},Ur.unmountComponentAtNode=function(o){if(!oh(o))throw Error(r(40));return o._reactRootContainer?(Vo(function(){sh(null,null,o,!1,function(){o._reactRootContainer=null,o[Li]=null})}),!0):!1},Ur.unstable_batchedUpdates=yy,Ur.unstable_renderSubtreeIntoContainer=function(o,u,d,g){if(!oh(d))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return sh(o,u,d,!1,g)},Ur.version="18.3.1-next-f1338f8080-20240426",Ur}var XS;function tV(){if(XS)return Oy.exports;XS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Oy.exports=eV(),Oy.exports}var QS;function rV(){if(QS)return ch;QS=1;var t=tV();return ch.createRoot=t.createRoot,ch.hydrateRoot=t.hydrateRoot,ch}var nV=rV();const iV=dt(nV),hR=H.createContext(null);function rr(){const t=H.useContext(hR);if(!t)throw new Error("useTripContext must be used within a TripContext.Provider");return t}const aV=()=>{};var JS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},oV=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],l=t[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},mR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=a>>2,m=(a&3)<<4|l>>4;let y=(l&15)<<2|f>>6,_=f&63;c||(_=64,s||(y=64)),n.push(r[h],r[m],r[y],r[_])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||l==null||f==null||m==null)throw new sV;const y=a<<2|l>>4;if(n.push(y),f!==64){const _=l<<4&240|f>>2;if(n.push(_),m!==64){const S=f<<6&192|m;n.push(S)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uV=function(t){const e=pR(t);return mR.encodeByteArray(e,!0)},Uh=function(t){return uV(t).replace(/\./g,"")},gR=function(t){try{return mR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=()=>lV().__FIREBASE_DEFAULTS__,fV=()=>{if(typeof process>"u"||typeof JS>"u")return;const t=JS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gR(t[1]);return e&&JSON.parse(e)},om=()=>{try{return aV()||cV()||fV()||dV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yR=t=>{var e,r;return(r=(e=om())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},hV=t=>{const e=yR(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},vR=()=>{var t;return(t=om())==null?void 0:t.config},xR=t=>{var e;return(e=om())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _R(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Uh(JSON.stringify(r)),Uh(JSON.stringify(s)),""].join(".")}const Oc={};function gV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Oc))Oc[e]?t.emulator.push(e):t.prod.push(e);return t}function yV(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let ZS=!1;function bR(t,e){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||Oc[t]===e||Oc[t]||ZS)return;Oc[t]=e;function r(y){return`__firebase__banner__${y}`}const n="__firebase__banner",a=gV().prod.length>0;function s(){const y=document.getElementById(n);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,_){y.setAttribute("width","24"),y.setAttribute("id",_),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{ZS=!0,s()},y}function h(y,_){y.setAttribute("id",_),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=yV(n),_=r("text"),S=document.getElementById(_)||document.createElement("span"),T=r("learnmore"),b=document.getElementById(T)||document.createElement("a"),k=r("preprendIcon"),j=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const R=y.element;l(R),h(b,T);const M=f();c(j,k),R.append(j,S,b,M),document.body.appendChild(R)}a?(S.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nr())}function xV(){var e;const t=(e=om())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _V(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EV(){const t=Nr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TV(){return!xV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SV(){try{return typeof indexedDB=="object"}catch{return!1}}function AV(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV="FirebaseError";class la extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=PV,Object.setPrototypeOf(this,la.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nf.prototype.create)}}class Nf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?IV(a,n):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new la(i,l,n)}}function IV(t,e){return t.replace(OV,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const OV=/\{\$([^}]+)}/g;function CV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function as(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(eA(a)&&eA(s)){if(!as(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function eA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function kV(t,e){const r=new NV(t,e);return r.subscribe.bind(r)}class NV{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");RV(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Ny),i.error===void 0&&(i.error=Ny),i.complete===void 0&&(i.complete=Ny);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RV(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Ny(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t){return t&&t._delegate?t._delegate:t}class os{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new pV;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MV(e))try{this.getOrInitializeService({instanceIdentifier:qo})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qo){return this.instances.has(e)}getOptions(e=qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&s.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:DV(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=qo){return this.component?this.component.multipleInstances?e:qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DV(t){return t===qo?void 0:t}function MV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new jV(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const VV={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},$V=Ke.INFO,FV={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},BV=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=FV[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mw{constructor(e){this.name=e,this._logLevel=$V,this._logHandler=BV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const UV=(t,e)=>e.some(r=>t instanceof r);let tA,rA;function qV(){return tA||(tA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zV(){return rA||(rA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wR=new WeakMap,G_=new WeakMap,ER=new WeakMap,Ry=new WeakMap,Lw=new WeakMap;function WV(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(Xa(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&wR.set(r,t)}).catch(()=>{}),Lw.set(e,t),e}function HV(t){if(G_.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});G_.set(t,e)}let K_={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return G_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ER.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Xa(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GV(t){K_=t(K_)}function KV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(jy(this),e,...r);return ER.set(n,e.sort?e.sort():[e]),Xa(n)}:zV().includes(t)?function(...e){return t.apply(jy(this),e),Xa(wR.get(this))}:function(...e){return Xa(t.apply(jy(this),e))}}function YV(t){return typeof t=="function"?KV(t):(t instanceof IDBTransaction&&HV(t),UV(t,qV())?new Proxy(t,K_):t)}function Xa(t){if(t instanceof IDBRequest)return WV(t);if(Ry.has(t))return Ry.get(t);const e=YV(t);return e!==t&&(Ry.set(t,e),Lw.set(e,t)),e}const jy=t=>Lw.get(t);function XV(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),l=Xa(s);return n&&s.addEventListener("upgradeneeded",c=>{n(Xa(s.result),c.oldVersion,c.newVersion,Xa(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const QV=["get","getKey","getAll","getAllKeys","count"],JV=["put","add","delete","clear"],Dy=new Map;function nA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dy.get(e))return Dy.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=JV.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||QV.includes(r)))return;const a=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return n&&(f=f.index(l.shift())),(await Promise.all([f[r](...l),i&&c.done]))[0]};return Dy.set(e,a),a}GV(t=>({...t,get:(e,r,n)=>nA(e,r)||t.get(e,r,n),has:(e,r)=>!!nA(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(e$(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function e$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Y_="@firebase/app",iA="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Mw("@firebase/app"),t$="@firebase/app-compat",r$="@firebase/analytics-compat",n$="@firebase/analytics",i$="@firebase/app-check-compat",a$="@firebase/app-check",o$="@firebase/auth",s$="@firebase/auth-compat",u$="@firebase/database",l$="@firebase/data-connect",c$="@firebase/database-compat",f$="@firebase/functions",d$="@firebase/functions-compat",h$="@firebase/installations",p$="@firebase/installations-compat",m$="@firebase/messaging",g$="@firebase/messaging-compat",y$="@firebase/performance",v$="@firebase/performance-compat",x$="@firebase/remote-config",_$="@firebase/remote-config-compat",b$="@firebase/storage",w$="@firebase/storage-compat",E$="@firebase/firestore",T$="@firebase/ai",S$="@firebase/firestore-compat",A$="firebase",P$="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="[DEFAULT]",I$={[Y_]:"fire-core",[t$]:"fire-core-compat",[n$]:"fire-analytics",[r$]:"fire-analytics-compat",[a$]:"fire-app-check",[i$]:"fire-app-check-compat",[o$]:"fire-auth",[s$]:"fire-auth-compat",[u$]:"fire-rtdb",[l$]:"fire-data-connect",[c$]:"fire-rtdb-compat",[f$]:"fire-fn",[d$]:"fire-fn-compat",[h$]:"fire-iid",[p$]:"fire-iid-compat",[m$]:"fire-fcm",[g$]:"fire-fcm-compat",[y$]:"fire-perf",[v$]:"fire-perf-compat",[x$]:"fire-rc",[_$]:"fire-rc-compat",[b$]:"fire-gcs",[w$]:"fire-gcs-compat",[E$]:"fire-fst",[S$]:"fire-fst-compat",[T$]:"fire-vertex","fire-js":"fire-js",[A$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,O$=new Map,Q_=new Map;function aA(t,e){try{t.container.addComponent(e)}catch(r){ra.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ku(t){const e=t.name;if(Q_.has(e))return ra.debug(`There were multiple attempts to register component ${e}.`),!1;Q_.set(e,t);for(const r of qh.values())aA(r,t);for(const r of O$.values())aA(r,t);return!0}function Vw(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Ln(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qa=new Nf("app","Firebase",C$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=P$;function TR(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:X_,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Qa.create("bad-app-name",{appName:String(i)});if(r||(r=vR()),!r)throw Qa.create("no-options");const a=qh.get(i);if(a){if(as(r,a.options)&&as(n,a.config))return a;throw Qa.create("duplicate-app",{appName:i})}const s=new LV(i);for(const c of Q_.values())s.addComponent(c);const l=new k$(r,n,s);return qh.set(i,l),l}function SR(t=X_){const e=qh.get(t);if(!e&&t===X_&&vR())return TR();if(!e)throw Qa.create("no-app",{appName:t});return e}function Ja(t,e,r){let n=I$[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${e}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ra.warn(s.join(" "));return}ku(new os(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$="firebase-heartbeat-database",R$=1,$c="firebase-heartbeat-store";let My=null;function AR(){return My||(My=XV(N$,R$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($c)}catch(r){console.warn(r)}}}}).catch(t=>{throw Qa.create("idb-open",{originalErrorMessage:t.message})})),My}async function j$(t){try{const r=(await AR()).transaction($c),n=await r.objectStore($c).get(PR(t));return await r.done,n}catch(e){if(e instanceof la)ra.warn(e.message);else{const r=Qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ra.warn(r.message)}}}async function oA(t,e){try{const n=(await AR()).transaction($c,"readwrite");await n.objectStore($c).put(e,PR(t)),await n.done}catch(r){if(r instanceof la)ra.warn(r.message);else{const n=Qa.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ra.warn(n.message)}}}function PR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$=1024,M$=30;class L${constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new $$(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=sA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>M$){const s=F$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ra.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=sA(),{heartbeatsToSend:n,unsentEntries:i}=V$(this._heartbeatsCache.heartbeats),a=Uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return ra.warn(r),""}}}function sA(){return new Date().toISOString().substring(0,10)}function V$(t,e=D$){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),uA(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),uA(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class $${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SV()?AV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await j$(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return oA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return oA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function uA(t){return Uh(JSON.stringify({version:2,heartbeats:t})).length}function F$(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t){ku(new os("platform-logger",e=>new ZV(e),"PRIVATE")),ku(new os("heartbeat",e=>new L$(e),"PRIVATE")),Ja(Y_,iA,t),Ja(Y_,iA,"esm2020"),Ja("fire-js","")}B$("");function IR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U$=IR,OR=new Nf("auth","Firebase",IR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Mw("@firebase/auth");function q$(t,...e){zh.logLevel<=Ke.WARN&&zh.warn(`Auth (${ol}): ${t}`,...e)}function kh(t,...e){zh.logLevel<=Ke.ERROR&&zh.error(`Auth (${ol}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t,...e){throw Fw(t,...e)}function Un(t,...e){return Fw(t,...e)}function $w(t,e,r){const n={...U$(),[e]:r};return new Nf("auth","Firebase",n).create(e,{appName:t.name})}function Jo(t){return $w(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z$(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&_i(t,"argument-error"),$w(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fw(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return OR.create(t,...e)}function $e(t,e,...r){if(!t)throw Fw(e,...r)}function Gi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kh(e),new Error(e)}function na(t,e){t||Gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function W$(){return lA()==="http:"||lA()==="https:"}function lA(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W$()||bV()||"connection"in navigator)?navigator.onLine:!0}function G$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,r){this.shortDelay=e,this.longDelay=r,na(r>e,"Short delay should be less than long delay!"),this.isMobile=vV()||wV()}get(){return H$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t,e){na(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],X$=new jf(3e4,6e4);function Uw(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function sl(t,e,r,n,i={}){return kR(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const l=Rf({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...a};return _V()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&al(t.emulatorConfig.host)&&(f.credentials="include"),CR.fetch()(await NR(t,t.config.apiHost,r,l),f)})}async function kR(t,e,r){t._canInitEmulator=!1;const n={...K$,...e};try{const i=new J$(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw fh(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw fh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw fh(t,"user-disabled",s);const h=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw $w(t,h,f);_i(t,h)}}catch(i){if(i instanceof la)throw i;_i(t,"network-request-failed",{message:String(i)})}}async function Q$(t,e,r,n,i={}){const a=await sl(t,e,r,n,i);return"mfaPendingCredential"in a&&_i(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function NR(t,e,r,n){const i=`${e}${r}?${n}`,a=t,s=a.config.emulator?Bw(t.config,i):`${t.config.apiScheme}://${i}`;return Y$.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}class J${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Un(this.auth,"network-request-failed")),X$.get())})}}function fh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Un(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z$(t,e){return sl(t,"POST","/v1/accounts:delete",e)}async function Wh(t,e){return sl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e6(t,e=!1){const r=Wr(t),n=await r.getIdToken(e),i=qw(n);$e(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Cc(Ly(i.auth_time)),issuedAtTime:Cc(Ly(i.iat)),expirationTime:Cc(Ly(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ly(t){return Number(t)*1e3}function qw(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const i=gR(r);return i?JSON.parse(i):(kh("Failed to decode base64 JWT payload"),null)}catch(i){return kh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function cA(t){const e=qw(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof la&&t6(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function t6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(t){var m;const e=t.auth,r=await t.getIdToken(),n=await Fc(t,Wh(e,{idToken:r}));$e(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=(m=i.providerUserInfo)!=null&&m.length?RR(i.providerUserInfo):[],s=i6(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),f=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Z_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function n6(t){const e=Wr(t);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i6(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function RR(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a6(t,e){const r=await kR(t,{},async()=>{const n=Rf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await NR(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return t.emulatorConfig&&al(t.emulatorConfig.host)&&(c.credentials="include"),CR.fetch()(s,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function o6(t,e){return sl(t,"POST","/v2/accounts:revokeToken",Uw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const r=cA(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await a6(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new bu;return n&&($e(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&($e(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&($e(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bu,this.toJSON())}_performRefresh(){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new r6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Z_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Fc(this,this.stsTokenManager.getToken(this.auth,e));return $e(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return e6(this,e)}reload(){return n6(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Hh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Jo(this.auth));const e=await this.getIdToken();return await Fc(this,Z$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,s=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,f=r.createdAt??void 0,h=r.lastLoginAt??void 0,{uid:m,emailVerified:y,isAnonymous:_,providerData:S,stsTokenManager:T}=r;$e(m&&T,e,"internal-error");const b=bu.fromJSON(this.name,T);$e(typeof m=="string",e,"internal-error"),Ba(n,e.name),Ba(i,e.name),$e(typeof y=="boolean",e,"internal-error"),$e(typeof _=="boolean",e,"internal-error"),Ba(a,e.name),Ba(s,e.name),Ba(l,e.name),Ba(c,e.name),Ba(f,e.name),Ba(h,e.name);const k=new $n({uid:m,auth:e,email:i,emailVerified:y,displayName:n,isAnonymous:_,photoURL:s,phoneNumber:a,tenantId:l,stsTokenManager:b,createdAt:f,lastLoginAt:h});return S&&Array.isArray(S)&&(k.providerData=S.map(j=>({...j}))),c&&(k._redirectEventId=c),k}static async _fromIdTokenResponse(e,r,n=!1){const i=new bu;i.updateFromServerResponse(r);const a=new $n({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Hh(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];$e(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?RR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new bu;l.updateFromIdToken(n);const c=new $n({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Z_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=new Map;function Ki(t){na(t instanceof Function,"Expected a class definition");let e=fA.get(t);return e?(na(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}jR.type="NONE";const dA=jR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t,e,r){return`firebase:${t}:${e}:${r}`}class wu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Nh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Nh("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Wh(this.auth,{idToken:e}).catch(()=>{});return r?$n._fromGetAccountInfoResponse(this.auth,r,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new wu(Ki(dA),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Ki(dA);const s=Nh(n,e.config.apiKey,e.name);let l=null;for(const f of r)try{const h=await f._get(s);if(h){let m;if(typeof h=="string"){const y=await Wh(e,{idToken:h}).catch(()=>{});if(!y)break;m=await $n._fromGetAccountInfoResponse(e,y,h)}else m=$n._fromJSON(e,h);f!==a&&(l=m),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new wu(a,e,n):(a=c[0],l&&await a._set(s,l.toJSON()),await Promise.all(r.map(async f=>{if(f!==a)try{await f._remove(s)}catch{}})),new wu(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FR(e))return"Blackberry";if(BR(e))return"Webos";if(MR(e))return"Safari";if((e.includes("chrome/")||LR(e))&&!e.includes("edge/"))return"Chrome";if($R(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function DR(t=Nr()){return/firefox\//i.test(t)}function MR(t=Nr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LR(t=Nr()){return/crios\//i.test(t)}function VR(t=Nr()){return/iemobile/i.test(t)}function $R(t=Nr()){return/android/i.test(t)}function FR(t=Nr()){return/blackberry/i.test(t)}function BR(t=Nr()){return/webos/i.test(t)}function zw(t=Nr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function s6(t=Nr()){var e;return zw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function u6(){return EV()&&document.documentMode===10}function UR(t=Nr()){return zw(t)||$R(t)||BR(t)||FR(t)||/windows phone/i.test(t)||VR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t,e=[]){let r;switch(t){case"Browser":r=hA(Nr());break;case"Worker":r=`${hA(Nr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${ol}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,l)=>{try{const c=e(a);s(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6(t,e={}){return sl(t,"GET","/v2/passwordPolicy",Uw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=6;class d6{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??f6,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pA(this),this.idTokenSubscription=new pA(this),this.beforeStateQueue=new l6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ki(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await wu.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Wh(this,{idToken:e}),n=await $n._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Ln(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(Jo(this));const r=e?Wr(e):null;return r&&$e(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(Jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c6(this),r=new d6(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await o6(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ki(e)||this._popupRedirectResolver;$e(r,this,"argument-error"),this.redirectPersistenceManager=await wu.create(this,[Ki(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&q$(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function sm(t){return Wr(t)}class pA{constructor(e){this.auth=e,this.observer=null,this.addObserver=kV(r=>this.observer=r)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ww={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p6(t){Ww=t}function m6(t){return Ww.loadJS(t)}function g6(){return Ww.gapiScript}function y6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t,e){const r=Vw(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(as(a,e??{}))return i;_i(i,"already-initialized")}return r.initialize({options:e})}function x6(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Ki);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function _6(t,e,r){const n=sm(t);$e(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=zR(e),{host:s,port:l}=b6(e),c=l===null?"":`:${l}`,f={url:`${a}//${s}${c}/`},h=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){$e(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),$e(as(f,n.config.emulator)&&as(h,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=h,n.settings.appVerificationDisabledForTesting=!0,al(s)?(_R(`${a}//${s}${c}`),bR("Auth",!0)):w6()}function zR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function b6(t){const e=zR(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:mA(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:mA(s)}}}function mA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function w6(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Gi("not implemented")}_getIdTokenResponse(e){return Gi("not implemented")}_linkToIdToken(e,r){return Gi("not implemented")}_getReauthenticationResolver(e){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t,e){return Q$(t,"POST","/v1/accounts:signInWithIdp",Uw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6="http://localhost";class ss extends WR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):_i("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const s=new ss(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return Eu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Eu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Eu(e,r)}buildRequest(){const e={requestUri:E6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Rf(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends Hw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends Df{constructor(){super("facebook.com")}static credential(e){return ss._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return za.credential(e.oauthAccessToken)}catch{return null}}}za.FACEBOOK_SIGN_IN_METHOD="facebook.com";za.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Df{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ss._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Hi.credential(r,n)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Df{constructor(){super("github.com")}static credential(e){return ss._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wa.credential(e.oauthAccessToken)}catch{return null}}}Wa.GITHUB_SIGN_IN_METHOD="github.com";Wa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends Df{constructor(){super("twitter.com")}static credential(e,r){return ss._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ha.credential(r,n)}catch{return null}}}Ha.TWITTER_SIGN_IN_METHOD="twitter.com";Ha.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await $n._fromIdTokenResponse(e,n,i),s=gA(n);return new Nu({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=gA(n);return new Nu({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function gA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends la{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Gh(e,r,n,i)}}function HR(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Gh._fromErrorAndOperation(t,a,e,n):a})}async function T6(t,e,r=!1){const n=await Fc(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Nu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(t,e,r=!1){const{auth:n}=t;if(Ln(n.app))return Promise.reject(Jo(n));const i="reauthenticate";try{const a=await Fc(t,HR(n,i,e,t),r);$e(a.idToken,n,"internal-error");const s=qw(a.idToken);$e(s,n,"internal-error");const{sub:l}=s;return $e(t.uid===l,n,"user-mismatch"),Nu._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&_i(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A6(t,e,r=!1){if(Ln(t.app))return Promise.reject(Jo(t));const n="signIn",i=await HR(t,n,e),a=await Nu._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}function P6(t,e,r,n){return Wr(t).onIdTokenChanged(e,r,n)}function I6(t,e,r){return Wr(t).beforeAuthStateChanged(e,r)}function O6(t,e,r,n){return Wr(t).onAuthStateChanged(e,r,n)}function C6(t){return Wr(t).signOut()}const Kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Kh,"1"),this.storage.removeItem(Kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=1e3,N6=10;class KR extends GR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);u6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,N6):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},k6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}KR.type="LOCAL";const R6=KR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR extends GR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}YR.type="SESSION";const XR=YR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new um(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(s).map(async f=>f(r.origin,a)),c=await j6(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}um.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,c)=>{const f=Gw("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(y.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return window}function M6(t){hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}async function L6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function $6(){return QR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="firebaseLocalStorageDb",F6=1,Yh="firebaseLocalStorage",ZR="fbase_key";class Mf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function lm(t,e){return t.transaction([Yh],e?"readwrite":"readonly").objectStore(Yh)}function B6(){const t=indexedDB.deleteDatabase(JR);return new Mf(t).toPromise()}function eb(){const t=indexedDB.open(JR,F6);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Yh,{keyPath:ZR})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Yh)?e(n):(n.close(),await B6(),e(await eb()))})})}async function yA(t,e,r){const n=lm(t,!0).put({[ZR]:e,value:r});return new Mf(n).toPromise()}async function U6(t,e){const r=lm(t,!1).get(e),n=await new Mf(r).toPromise();return n===void 0?null:n.value}function vA(t,e){const r=lm(t,!0).delete(e);return new Mf(r).toPromise()}const q6=800,z6=3;class ej{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await eb(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>z6)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=um._getInstance($6()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await L6(),!this.activeServiceWorker)return;this.sender=new D6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await eb();return await yA(e,Kh,"1"),await vA(e,Kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>yA(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>U6(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>vA(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=lm(i,!1).getAll();return new Mf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ej.type="LOCAL";const W6=ej;new jf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t,e){return e?Ki(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw extends WR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Eu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Eu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function H6(t){return A6(t.auth,new Kw(t),t.bypassAuthState)}function G6(t){const{auth:e,user:r}=t;return $e(r,e,"internal-error"),S6(r,new Kw(t),t.bypassAuthState)}async function K6(t){const{auth:e,user:r}=t;return $e(r,e,"internal-error"),T6(r,new Kw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H6;case"linkViaPopup":case"linkViaRedirect":return K6;case"reauthViaPopup":case"reauthViaRedirect":return G6;default:_i(this.auth,"internal-error")}}resolve(e){na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=new jf(2e3,1e4);async function X6(t,e,r){if(Ln(t.app))return Promise.reject(Un(t,"operation-not-supported-in-this-environment"));const n=sm(t);z$(t,e,Hw);const i=tj(n,r);return new Ho(n,"signInViaPopup",e,i).executeNotNull()}class Ho extends rj{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){na(this.filter.length===1,"Popup operations only handle one event");const e=Gw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y6.get())};e()}}Ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6="pendingRedirect",Rh=new Map;class J6 extends rj{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const n=await Z6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z6(t,e){const r=rF(e),n=tF(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function eF(t,e){Rh.set(t._key(),e)}function tF(t){return Ki(t._redirectPersistence)}function rF(t){return Nh(Q6,t.config.apiKey,t.name)}async function nF(t,e,r=!1){if(Ln(t.app))return Promise.reject(Jo(t));const n=sm(t),i=tj(n,e),s=await new J6(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=600*1e3;class aF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oF(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!nj(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Un(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iF&&this.cachedEventUids.clear(),this.cachedEventUids.has(xA(e))}saveEventToCache(e){this.cachedEventUids.add(xA(e)),this.lastProcessedEventTime=Date.now()}}function xA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(t,e={}){return sl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lF=/^https?/;async function cF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sF(t);for(const r of e)try{if(fF(r))return}catch{}_i(t,"unauthorized-domain")}function fF(t){const e=J_(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!lF.test(r))return!1;if(uF.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=new jf(3e4,6e4);function _A(){const t=hi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function hF(t){return new Promise((e,r)=>{var i,a,s;function n(){_A(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_A(),r(Un(t,"network-request-failed"))},timeout:dF.get()})}if((a=(i=hi().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=hi().gapi)!=null&&s.load)n();else{const l=y6("iframefcb");return hi()[l]=()=>{gapi.load?n():r(Un(t,"network-request-failed"))},m6(`${g6()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw jh=null,e})}let jh=null;function pF(t){return jh=jh||hF(t),jh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF=new jf(5e3,15e3),gF="__/auth/iframe",yF="emulator/auth/iframe",vF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _F(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Bw(e,yF):`https://${t.config.authDomain}/${gF}`,n={apiKey:e.apiKey,appName:t.name,v:ol},i=xF.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Rf(n).slice(1)}`}async function bF(t){const e=await pF(t),r=hi().gapi;return $e(r,t,"internal-error"),e.open({where:document.body,url:_F(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vF,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=Un(t,"network-request-failed"),l=hi().setTimeout(()=>{a(s)},mF.get());function c(){hi().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EF=500,TF=600,SF="_blank",AF="http://localhost";class bA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PF(t,e,r,n=EF,i=TF){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...wF,width:n.toString(),height:i.toString(),top:a,left:s},f=Nr().toLowerCase();r&&(l=LR(f)?SF:r),DR(f)&&(e=e||AF,c.scrollbars="yes");const h=Object.entries(c).reduce((y,[_,S])=>`${y}${_}=${S},`,"");if(s6(f)&&l!=="_self")return IF(e||"",l),new bA(null);const m=window.open(e||"",l,h);$e(m,t,"popup-blocked");try{m.focus()}catch{}return new bA(m)}function IF(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF="__/auth/handler",CF="emulator/auth/handler",kF=encodeURIComponent("fac");async function wA(t,e,r,n,i,a){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:ol,eventId:i};if(e instanceof Hw){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",CV(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))s[h]=m}if(e instanceof Df){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),f=c?`#${kF}=${encodeURIComponent(c)}`:"";return`${NF(t)}?${Rf(l).slice(1)}${f}`}function NF({config:t}){return t.emulator?Bw(t,CF):`https://${t.authDomain}/${OF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="webStorageSupport";class RF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XR,this._completeRedirectFn=nF,this._overrideRedirectResult=eF}async _openPopup(e,r,n,i){var s;na((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await wA(e,r,n,J_(),i);return PF(e,a,Gw())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await wA(e,r,n,J_(),i);return M6(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(na(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await bF(e),n=new aF(e);return r.register("authEvent",i=>($e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Vy,{type:Vy},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[Vy];a!==void 0&&r(!!a),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=cF(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return UR()||MR()||zw()}}const jF=RF;var EA="@firebase/auth",TA="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LF(t){ku(new os("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=n.options;$e(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qR(t)},f=new h6(n,i,a,c);return x6(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),ku(new os("auth-internal",e=>{const r=sm(e.getProvider("auth").getImmediate());return(n=>new DF(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ja(EA,TA,MF(t)),Ja(EA,TA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=300,$F=xR("authIdTokenMaxAge")||VF;let SA=null;const FF=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>$F)return;const i=r==null?void 0:r.token;SA!==i&&(SA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function BF(t=SR()){const e=Vw(t,"auth");if(e.isInitialized())return e.getImmediate();const r=v6(t,{popupRedirectResolver:jF,persistence:[W6,R6,XR]}),n=xR("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=FF(a.toString());I6(r,s,()=>s(r.currentUser)),P6(r,l=>s(l))}}const i=yR("auth");return i&&_6(r,`http://${i}`),r}function UF(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}p6({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Un("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",UF().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LF("Browser");var qF="firebase",zF="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ja(qF,zF,"app");var AA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Za,ij;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,O){function N(){}N.prototype=O.prototype,A.F=O.prototype,A.prototype=new N,A.prototype.constructor=A,A.D=function(F,V,$){for(var L=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)L[Z-2]=arguments[Z];return O.prototype[V].apply(F,L)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,O,N){N||(N=0);const F=Array(16);if(typeof O=="string")for(var V=0;V<16;++V)F[V]=O.charCodeAt(N++)|O.charCodeAt(N++)<<8|O.charCodeAt(N++)<<16|O.charCodeAt(N++)<<24;else for(V=0;V<16;++V)F[V]=O[N++]|O[N++]<<8|O[N++]<<16|O[N++]<<24;O=A.g[0],N=A.g[1],V=A.g[2];let $=A.g[3],L;L=O+($^N&(V^$))+F[0]+3614090360&4294967295,O=N+(L<<7&4294967295|L>>>25),L=$+(V^O&(N^V))+F[1]+3905402710&4294967295,$=O+(L<<12&4294967295|L>>>20),L=V+(N^$&(O^N))+F[2]+606105819&4294967295,V=$+(L<<17&4294967295|L>>>15),L=N+(O^V&($^O))+F[3]+3250441966&4294967295,N=V+(L<<22&4294967295|L>>>10),L=O+($^N&(V^$))+F[4]+4118548399&4294967295,O=N+(L<<7&4294967295|L>>>25),L=$+(V^O&(N^V))+F[5]+1200080426&4294967295,$=O+(L<<12&4294967295|L>>>20),L=V+(N^$&(O^N))+F[6]+2821735955&4294967295,V=$+(L<<17&4294967295|L>>>15),L=N+(O^V&($^O))+F[7]+4249261313&4294967295,N=V+(L<<22&4294967295|L>>>10),L=O+($^N&(V^$))+F[8]+1770035416&4294967295,O=N+(L<<7&4294967295|L>>>25),L=$+(V^O&(N^V))+F[9]+2336552879&4294967295,$=O+(L<<12&4294967295|L>>>20),L=V+(N^$&(O^N))+F[10]+4294925233&4294967295,V=$+(L<<17&4294967295|L>>>15),L=N+(O^V&($^O))+F[11]+2304563134&4294967295,N=V+(L<<22&4294967295|L>>>10),L=O+($^N&(V^$))+F[12]+1804603682&4294967295,O=N+(L<<7&4294967295|L>>>25),L=$+(V^O&(N^V))+F[13]+4254626195&4294967295,$=O+(L<<12&4294967295|L>>>20),L=V+(N^$&(O^N))+F[14]+2792965006&4294967295,V=$+(L<<17&4294967295|L>>>15),L=N+(O^V&($^O))+F[15]+1236535329&4294967295,N=V+(L<<22&4294967295|L>>>10),L=O+(V^$&(N^V))+F[1]+4129170786&4294967295,O=N+(L<<5&4294967295|L>>>27),L=$+(N^V&(O^N))+F[6]+3225465664&4294967295,$=O+(L<<9&4294967295|L>>>23),L=V+(O^N&($^O))+F[11]+643717713&4294967295,V=$+(L<<14&4294967295|L>>>18),L=N+($^O&(V^$))+F[0]+3921069994&4294967295,N=V+(L<<20&4294967295|L>>>12),L=O+(V^$&(N^V))+F[5]+3593408605&4294967295,O=N+(L<<5&4294967295|L>>>27),L=$+(N^V&(O^N))+F[10]+38016083&4294967295,$=O+(L<<9&4294967295|L>>>23),L=V+(O^N&($^O))+F[15]+3634488961&4294967295,V=$+(L<<14&4294967295|L>>>18),L=N+($^O&(V^$))+F[4]+3889429448&4294967295,N=V+(L<<20&4294967295|L>>>12),L=O+(V^$&(N^V))+F[9]+568446438&4294967295,O=N+(L<<5&4294967295|L>>>27),L=$+(N^V&(O^N))+F[14]+3275163606&4294967295,$=O+(L<<9&4294967295|L>>>23),L=V+(O^N&($^O))+F[3]+4107603335&4294967295,V=$+(L<<14&4294967295|L>>>18),L=N+($^O&(V^$))+F[8]+1163531501&4294967295,N=V+(L<<20&4294967295|L>>>12),L=O+(V^$&(N^V))+F[13]+2850285829&4294967295,O=N+(L<<5&4294967295|L>>>27),L=$+(N^V&(O^N))+F[2]+4243563512&4294967295,$=O+(L<<9&4294967295|L>>>23),L=V+(O^N&($^O))+F[7]+1735328473&4294967295,V=$+(L<<14&4294967295|L>>>18),L=N+($^O&(V^$))+F[12]+2368359562&4294967295,N=V+(L<<20&4294967295|L>>>12),L=O+(N^V^$)+F[5]+4294588738&4294967295,O=N+(L<<4&4294967295|L>>>28),L=$+(O^N^V)+F[8]+2272392833&4294967295,$=O+(L<<11&4294967295|L>>>21),L=V+($^O^N)+F[11]+1839030562&4294967295,V=$+(L<<16&4294967295|L>>>16),L=N+(V^$^O)+F[14]+4259657740&4294967295,N=V+(L<<23&4294967295|L>>>9),L=O+(N^V^$)+F[1]+2763975236&4294967295,O=N+(L<<4&4294967295|L>>>28),L=$+(O^N^V)+F[4]+1272893353&4294967295,$=O+(L<<11&4294967295|L>>>21),L=V+($^O^N)+F[7]+4139469664&4294967295,V=$+(L<<16&4294967295|L>>>16),L=N+(V^$^O)+F[10]+3200236656&4294967295,N=V+(L<<23&4294967295|L>>>9),L=O+(N^V^$)+F[13]+681279174&4294967295,O=N+(L<<4&4294967295|L>>>28),L=$+(O^N^V)+F[0]+3936430074&4294967295,$=O+(L<<11&4294967295|L>>>21),L=V+($^O^N)+F[3]+3572445317&4294967295,V=$+(L<<16&4294967295|L>>>16),L=N+(V^$^O)+F[6]+76029189&4294967295,N=V+(L<<23&4294967295|L>>>9),L=O+(N^V^$)+F[9]+3654602809&4294967295,O=N+(L<<4&4294967295|L>>>28),L=$+(O^N^V)+F[12]+3873151461&4294967295,$=O+(L<<11&4294967295|L>>>21),L=V+($^O^N)+F[15]+530742520&4294967295,V=$+(L<<16&4294967295|L>>>16),L=N+(V^$^O)+F[2]+3299628645&4294967295,N=V+(L<<23&4294967295|L>>>9),L=O+(V^(N|~$))+F[0]+4096336452&4294967295,O=N+(L<<6&4294967295|L>>>26),L=$+(N^(O|~V))+F[7]+1126891415&4294967295,$=O+(L<<10&4294967295|L>>>22),L=V+(O^($|~N))+F[14]+2878612391&4294967295,V=$+(L<<15&4294967295|L>>>17),L=N+($^(V|~O))+F[5]+4237533241&4294967295,N=V+(L<<21&4294967295|L>>>11),L=O+(V^(N|~$))+F[12]+1700485571&4294967295,O=N+(L<<6&4294967295|L>>>26),L=$+(N^(O|~V))+F[3]+2399980690&4294967295,$=O+(L<<10&4294967295|L>>>22),L=V+(O^($|~N))+F[10]+4293915773&4294967295,V=$+(L<<15&4294967295|L>>>17),L=N+($^(V|~O))+F[1]+2240044497&4294967295,N=V+(L<<21&4294967295|L>>>11),L=O+(V^(N|~$))+F[8]+1873313359&4294967295,O=N+(L<<6&4294967295|L>>>26),L=$+(N^(O|~V))+F[15]+4264355552&4294967295,$=O+(L<<10&4294967295|L>>>22),L=V+(O^($|~N))+F[6]+2734768916&4294967295,V=$+(L<<15&4294967295|L>>>17),L=N+($^(V|~O))+F[13]+1309151649&4294967295,N=V+(L<<21&4294967295|L>>>11),L=O+(V^(N|~$))+F[4]+4149444226&4294967295,O=N+(L<<6&4294967295|L>>>26),L=$+(N^(O|~V))+F[11]+3174756917&4294967295,$=O+(L<<10&4294967295|L>>>22),L=V+(O^($|~N))+F[2]+718787259&4294967295,V=$+(L<<15&4294967295|L>>>17),L=N+($^(V|~O))+F[9]+3951481745&4294967295,A.g[0]=A.g[0]+O&4294967295,A.g[1]=A.g[1]+(V+(L<<21&4294967295|L>>>11))&4294967295,A.g[2]=A.g[2]+V&4294967295,A.g[3]=A.g[3]+$&4294967295}n.prototype.v=function(A,O){O===void 0&&(O=A.length);const N=O-this.blockSize,F=this.C;let V=this.h,$=0;for(;$<O;){if(V==0)for(;$<=N;)i(this,A,$),$+=this.blockSize;if(typeof A=="string"){for(;$<O;)if(F[V++]=A.charCodeAt($++),V==this.blockSize){i(this,F),V=0;break}}else for(;$<O;)if(F[V++]=A[$++],V==this.blockSize){i(this,F),V=0;break}}this.h=V,this.o+=O},n.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var O=1;O<A.length-8;++O)A[O]=0;O=this.o*8;for(var N=A.length-8;N<A.length;++N)A[N]=O&255,O/=256;for(this.v(A),A=Array(16),O=0,N=0;N<4;++N)for(let F=0;F<32;F+=8)A[O++]=this.g[N]>>>F&255;return A};function a(A,O){var N=l;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=O(A)}function s(A,O){this.h=O;const N=[];let F=!0;for(let V=A.length-1;V>=0;V--){const $=A[V]|0;F&&$==O||(N[V]=$,F=!1)}this.g=N}var l={};function c(A){return-128<=A&&A<128?a(A,function(O){return new s([O|0],O<0?-1:0)}):new s([A|0],A<0?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return m;if(A<0)return b(f(-A));const O=[];let N=1;for(let F=0;A>=N;F++)O[F]=A/N|0,N*=4294967296;return new s(O,0)}function h(A,O){if(A.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(A.charAt(0)=="-")return b(h(A.substring(1),O));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=f(Math.pow(O,8));let F=m;for(let $=0;$<A.length;$+=8){var V=Math.min(8,A.length-$);const L=parseInt(A.substring($,$+V),O);V<8?(V=f(Math.pow(O,V)),F=F.j(V).add(f(L))):(F=F.j(N),F=F.add(f(L)))}return F}var m=c(0),y=c(1),_=c(16777216);t=s.prototype,t.m=function(){if(T(this))return-b(this).m();let A=0,O=1;for(let N=0;N<this.g.length;N++){const F=this.i(N);A+=(F>=0?F:4294967296+F)*O,O*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S(this))return"0";if(T(this))return"-"+b(this).toString(A);const O=f(Math.pow(A,6));var N=this;let F="";for(;;){const V=M(N,O).g;N=k(N,V.j(O));let $=((N.g.length>0?N.g[0]:N.h)>>>0).toString(A);if(N=V,S(N))return $+F;for(;$.length<6;)$="0"+$;F=$+F}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function S(A){if(A.h!=0)return!1;for(let O=0;O<A.g.length;O++)if(A.g[O]!=0)return!1;return!0}function T(A){return A.h==-1}t.l=function(A){return A=k(this,A),T(A)?-1:S(A)?0:1};function b(A){const O=A.g.length,N=[];for(let F=0;F<O;F++)N[F]=~A.g[F];return new s(N,~A.h).add(y)}t.abs=function(){return T(this)?b(this):this},t.add=function(A){const O=Math.max(this.g.length,A.g.length),N=[];let F=0;for(let V=0;V<=O;V++){let $=F+(this.i(V)&65535)+(A.i(V)&65535),L=($>>>16)+(this.i(V)>>>16)+(A.i(V)>>>16);F=L>>>16,$&=65535,L&=65535,N[V]=L<<16|$}return new s(N,N[N.length-1]&-2147483648?-1:0)};function k(A,O){return A.add(b(O))}t.j=function(A){if(S(this)||S(A))return m;if(T(this))return T(A)?b(this).j(b(A)):b(b(this).j(A));if(T(A))return b(this.j(b(A)));if(this.l(_)<0&&A.l(_)<0)return f(this.m()*A.m());const O=this.g.length+A.g.length,N=[];for(var F=0;F<2*O;F++)N[F]=0;for(F=0;F<this.g.length;F++)for(let V=0;V<A.g.length;V++){const $=this.i(F)>>>16,L=this.i(F)&65535,Z=A.i(V)>>>16,ee=A.i(V)&65535;N[2*F+2*V]+=L*ee,j(N,2*F+2*V),N[2*F+2*V+1]+=$*ee,j(N,2*F+2*V+1),N[2*F+2*V+1]+=L*Z,j(N,2*F+2*V+1),N[2*F+2*V+2]+=$*Z,j(N,2*F+2*V+2)}for(A=0;A<O;A++)N[A]=N[2*A+1]<<16|N[2*A];for(A=O;A<2*O;A++)N[A]=0;return new s(N,0)};function j(A,O){for(;(A[O]&65535)!=A[O];)A[O+1]+=A[O]>>>16,A[O]&=65535,O++}function R(A,O){this.g=A,this.h=O}function M(A,O){if(S(O))throw Error("division by zero");if(S(A))return new R(m,m);if(T(A))return O=M(b(A),O),new R(b(O.g),b(O.h));if(T(O))return O=M(A,b(O)),new R(b(O.g),O.h);if(A.g.length>30){if(T(A)||T(O))throw Error("slowDivide_ only works with positive integers.");for(var N=y,F=O;F.l(A)<=0;)N=P(N),F=P(F);var V=C(N,1),$=C(F,1);for(F=C(F,2),N=C(N,2);!S(F);){var L=$.add(F);L.l(A)<=0&&(V=V.add(N),$=L),F=C(F,1),N=C(N,1)}return O=k(A,V.j(O)),new R(V,O)}for(V=m;A.l(O)>=0;){for(N=Math.max(1,Math.floor(A.m()/O.m())),F=Math.ceil(Math.log(N)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),$=f(N),L=$.j(O);T(L)||L.l(A)>0;)N-=F,$=f(N),L=$.j(O);S($)&&($=y),V=V.add($),A=k(A,L)}return new R(V,A)}t.B=function(A){return M(this,A).h},t.and=function(A){const O=Math.max(this.g.length,A.g.length),N=[];for(let F=0;F<O;F++)N[F]=this.i(F)&A.i(F);return new s(N,this.h&A.h)},t.or=function(A){const O=Math.max(this.g.length,A.g.length),N=[];for(let F=0;F<O;F++)N[F]=this.i(F)|A.i(F);return new s(N,this.h|A.h)},t.xor=function(A){const O=Math.max(this.g.length,A.g.length),N=[];for(let F=0;F<O;F++)N[F]=this.i(F)^A.i(F);return new s(N,this.h^A.h)};function P(A){const O=A.g.length+1,N=[];for(let F=0;F<O;F++)N[F]=A.i(F)<<1|A.i(F-1)>>>31;return new s(N,A.h)}function C(A,O){const N=O>>5;O%=32;const F=A.g.length-N,V=[];for(let $=0;$<F;$++)V[$]=O>0?A.i($+N)>>>O|A.i($+N+1)<<32-O:A.i($+N);return new s(V,A.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,ij=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,Za=s}).apply(typeof AA<"u"?AA:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aj,_c,oj,Dh,tb,sj,uj,lj;(function(){var t,e=Object.defineProperty;function r(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var E=0;E<p.length;++E){var I=p[E];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var n=r(this);function i(p,E){if(E)e:{var I=n;p=p.split(".");for(var B=0;B<p.length-1;B++){var X=p[B];if(!(X in I))break e;I=I[X]}p=p[p.length-1],B=I[p],E=E(B),E!=B&&E!=null&&e(I,p,{configurable:!0,writable:!0,value:E})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(E){var I=[],B;for(B in E)Object.prototype.hasOwnProperty.call(E,B)&&I.push([B,E[B]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function c(p,E,I){return p.call.apply(p.bind,arguments)}function f(p,E,I){return f=c,f.apply(null,arguments)}function h(p,E){var I=Array.prototype.slice.call(arguments,1);return function(){var B=I.slice();return B.push.apply(B,arguments),p.apply(this,B)}}function m(p,E){function I(){}I.prototype=E.prototype,p.Z=E.prototype,p.prototype=new I,p.prototype.constructor=p,p.Ob=function(B,X,re){for(var ve=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ve[Ue-2]=arguments[Ue];return E.prototype[X].apply(B,ve)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function _(p){const E=p.length;if(E>0){const I=Array(E);for(let B=0;B<E;B++)I[B]=p[B];return I}return[]}function S(p,E){for(let B=1;B<arguments.length;B++){const X=arguments[B];var I=typeof X;if(I=I!="object"?I:X?Array.isArray(X)?"array":I:"null",I=="array"||I=="object"&&typeof X.length=="number"){I=p.length||0;const re=X.length||0;p.length=I+re;for(let ve=0;ve<re;ve++)p[I+ve]=X[ve]}else p.push(X)}}class T{constructor(E,I){this.i=E,this.j=I,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function b(p){s.setTimeout(()=>{throw p},0)}function k(){var p=A;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class j{constructor(){this.h=this.g=null}add(E,I){const B=R.get();B.set(E,I),this.h?this.h.next=B:this.g=B,this.h=B}}var R=new T(()=>new M,p=>p.reset());class M{constructor(){this.next=this.g=this.h=null}set(E,I){this.h=E,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let P,C=!1,A=new j,O=()=>{const p=Promise.resolve(void 0);P=()=>{p.then(N)}};function N(){for(var p;p=k();){try{p.h.call(p.g)}catch(I){b(I)}var E=R;E.j(p),E.h<100&&(E.h++,p.next=E.g,E.g=p)}C=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const I=()=>{};s.addEventListener("test",I,E),s.removeEventListener("test",I,E)}catch{}return p})();function L(p){return/^[\s\xa0]*$/.test(p)}function Z(p,E){V.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,E)}m(Z,V),Z.prototype.init=function(p,E){const I=this.type=p.type,B=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget,E||(I=="mouseover"?E=p.fromElement:I=="mouseout"&&(E=p.toElement)),this.relatedTarget=E,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),oe=0;function se(p,E,I,B,X){this.listener=p,this.proxy=null,this.src=E,this.type=I,this.capture=!!B,this.ha=X,this.key=++oe,this.da=this.fa=!1}function Q(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ie(p,E,I){for(const B in p)E.call(I,p[B],B,p)}function ne(p,E){for(const I in p)E.call(void 0,p[I],I,p)}function q(p){const E={};for(const I in p)E[I]=p[I];return E}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(p,E){let I,B;for(let X=1;X<arguments.length;X++){B=arguments[X];for(I in B)p[I]=B[I];for(let re=0;re<G.length;re++)I=G[re],Object.prototype.hasOwnProperty.call(B,I)&&(p[I]=B[I])}}function be(p){this.src=p,this.g={},this.h=0}be.prototype.add=function(p,E,I,B,X){const re=p.toString();p=this.g[re],p||(p=this.g[re]=[],this.h++);const ve=je(p,E,B,X);return ve>-1?(E=p[ve],I||(E.fa=!1)):(E=new se(E,this.src,re,!!B,X),E.fa=I,p.push(E)),E};function Oe(p,E){const I=E.type;if(I in p.g){var B=p.g[I],X=Array.prototype.indexOf.call(B,E,void 0),re;(re=X>=0)&&Array.prototype.splice.call(B,X,1),re&&(Q(E),p.g[I].length==0&&(delete p.g[I],p.h--))}}function je(p,E,I,B){for(let X=0;X<p.length;++X){const re=p[X];if(!re.da&&re.listener==E&&re.capture==!!I&&re.ha==B)return X}return-1}var We="closure_lm_"+(Math.random()*1e6|0),Le={};function he(p,E,I,B,X){if(Array.isArray(E)){for(let re=0;re<E.length;re++)he(p,E[re],I,B,X);return null}return I=Mr(I),p&&p[ee]?p.J(E,I,l(B)?!!B.capture:!1,X):Ce(p,E,I,!1,B,X)}function Ce(p,E,I,B,X,re){if(!E)throw Error("Invalid event type");const ve=l(X)?!!X.capture:!!X;let Ue=yt(p);if(Ue||(p[We]=Ue=new be(p)),I=Ue.add(E,I,B,ve,re),I.proxy)return I;if(B=Fe(),I.proxy=B,B.src=p,B.listener=I,p.addEventListener)$||(X=ve),X===void 0&&(X=!1),p.addEventListener(E.toString(),B,X);else if(p.attachEvent)p.attachEvent(ze(E.toString()),B);else if(p.addListener&&p.removeListener)p.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Fe(){function p(I){return E.call(p.src,p.listener,I)}const E=Pt;return p}function ce(p,E,I,B,X){if(Array.isArray(E))for(var re=0;re<E.length;re++)ce(p,E[re],I,B,X);else B=l(B)?!!B.capture:!!B,I=Mr(I),p&&p[ee]?(p=p.i,re=String(E).toString(),re in p.g&&(E=p.g[re],I=je(E,I,B,X),I>-1&&(Q(E[I]),Array.prototype.splice.call(E,I,1),E.length==0&&(delete p.g[re],p.h--)))):p&&(p=yt(p))&&(E=p.g[E.toString()],p=-1,E&&(p=je(E,I,B,X)),(I=p>-1?E[p]:null)&&rt(I))}function rt(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[ee])Oe(E.i,p);else{var I=p.type,B=p.proxy;E.removeEventListener?E.removeEventListener(I,B,p.capture):E.detachEvent?E.detachEvent(ze(I),B):E.addListener&&E.removeListener&&E.removeListener(B),(I=yt(E))?(Oe(I,p),I.h==0&&(I.src=null,E[We]=null)):Q(p)}}}function ze(p){return p in Le?Le[p]:Le[p]="on"+p}function Pt(p,E){if(p.da)p=!0;else{E=new Z(E,this);const I=p.listener,B=p.ha||p.src;p.fa&&rt(p),p=I.call(B,E)}return p}function yt(p){return p=p[We],p instanceof be?p:null}var Rt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mr(p){return typeof p=="function"?p:(p[Rt]||(p[Rt]=function(E){return p.handleEvent(E)}),p[Rt])}function ht(){F.call(this),this.i=new be(this),this.M=this,this.G=null}m(ht,F),ht.prototype[ee]=!0,ht.prototype.removeEventListener=function(p,E,I,B){ce(this,p,E,I,B)};function vt(p,E){var I,B=p.G;if(B)for(I=[];B;B=B.G)I.push(B);if(p=p.M,B=E.type||E,typeof E=="string")E=new V(E,p);else if(E instanceof V)E.target=E.target||p;else{var X=E;E=new V(B,p),me(E,X)}X=!0;let re,ve;if(I)for(ve=I.length-1;ve>=0;ve--)re=E.g=I[ve],X=Gt(re,B,!0,E)&&X;if(re=E.g=p,X=Gt(re,B,!0,E)&&X,X=Gt(re,B,!1,E)&&X,I)for(ve=0;ve<I.length;ve++)re=E.g=I[ve],X=Gt(re,B,!1,E)&&X}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var p=this.i;for(const E in p.g){const I=p.g[E];for(let B=0;B<I.length;B++)Q(I[B]);delete p.g[E],p.h--}}this.G=null},ht.prototype.J=function(p,E,I,B){return this.i.add(String(p),E,!1,I,B)},ht.prototype.K=function(p,E,I,B){return this.i.add(String(p),E,!0,I,B)};function Gt(p,E,I,B){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();let X=!0;for(let re=0;re<E.length;++re){const ve=E[re];if(ve&&!ve.da&&ve.capture==I){const Ue=ve.listener,Vt=ve.ha||ve.src;ve.fa&&Oe(p.i,ve),X=Ue.call(Vt,B)!==!1&&X}}return X&&!B.defaultPrevented}function Gr(p,E){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:s.setTimeout(p,E||0)}function Ai(p){p.g=Gr(()=>{p.g=null,p.i&&(p.i=!1,Ai(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class mo extends F{constructor(E,I){super(),this.m=E,this.l=I,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ai(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sn(p){F.call(this),this.h=p,this.g={}}m(Sn,F);var xl=[];function Ts(p){ie(p.g,function(E,I){this.g.hasOwnProperty(I)&&rt(E)},p),p.g={}}Sn.prototype.N=function(){Sn.Z.N.call(this),Ts(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ha=s.JSON.stringify,Xf=s.JSON.parse,go=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function pa(){}function Qf(){}var ma={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ss(){V.call(this,"d")}m(Ss,V);function _l(){V.call(this,"c")}m(_l,V);var An={},As=null;function ga(){return As=As||new ht}An.Ia="serverreachability";function Ps(p){V.call(this,An.Ia,p)}m(Ps,V);function Pi(p){const E=ga();vt(E,new Ps(E))}An.STAT_EVENT="statevent";function Ii(p,E){V.call(this,An.STAT_EVENT,p),this.stat=E}m(Ii,V);function jt(p){const E=ga();vt(E,new Ii(E,p))}An.Ja="timingevent";function bl(p,E){V.call(this,An.Ja,p),this.size=E}m(bl,V);function ya(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},E)}function va(){this.g=!0}va.prototype.ua=function(){this.g=!1};function Jf(p,E,I,B,X,re){p.info(function(){if(p.g)if(re){var ve="",Ue=re.split("&");for(let ct=0;ct<Ue.length;ct++){var Vt=Ue[ct].split("=");if(Vt.length>1){const Bt=Vt[0];Vt=Vt[1];const Zr=Bt.split("_");ve=Zr.length>=2&&Zr[1]=="type"?ve+(Bt+"="+Vt+"&"):ve+(Bt+"=redacted&")}}}else ve=null;else ve=re;return"XMLHTTP REQ ("+B+") [attempt "+X+"]: "+E+`
`+I+`
`+ve})}function Zf(p,E,I,B,X,re,ve){p.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+X+"]: "+E+`
`+I+`
`+re+" "+ve})}function Hn(p,E,I,B){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+yo(p,I)+(B?" "+B:"")})}function ed(p,E){p.info(function(){return"TIMEOUT: "+E})}va.prototype.info=function(){};function yo(p,E){if(!p.g)return E;if(!E)return null;try{const re=JSON.parse(E);if(re){for(p=0;p<re.length;p++)if(Array.isArray(re[p])){var I=re[p];if(!(I.length<2)){var B=I[1];if(Array.isArray(B)&&!(B.length<1)){var X=B[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ve=1;ve<B.length;ve++)B[ve]=""}}}}return ha(re)}catch{return E}}var xa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_a={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},td;function Oi(){}m(Oi,pa),Oi.prototype.g=function(){return new XMLHttpRequest},td=new Oi;function Gn(p){return encodeURIComponent(String(p))}function Is(p){var E=1;p=p.split(":");const I=[];for(;E>0&&p.length;)I.push(p.shift()),E--;return p.length&&I.push(p.join(":")),I}function un(p,E,I,B){this.j=p,this.i=E,this.l=I,this.S=B||1,this.V=new Sn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new rd}function rd(){this.i=null,this.g="",this.h=!1}var nd={},wl={};function Pn(p,E,I){p.M=1,p.A=ki(ln(E)),p.u=I,p.R=!0,El(p,null)}function El(p,E){p.F=Date.now(),vo(p),p.B=ln(p.A);var I=p.B,B=p.S;Array.isArray(B)||(B=[String(B)]),Rl(I.i,"t",B),p.C=0,I=p.j.L,p.h=new rd,p.g=hd(p.j,I?E:null,!p.u),p.P>0&&(p.O=new mo(f(p.Y,p,p.g),p.P)),E=p.V,I=p.g,B=p.ba;var X="readystatechange";Array.isArray(X)||(X&&(xl[0]=X.toString()),X=xl);for(let re=0;re<X.length;re++){const ve=he(I,X[re],B||E.handleEvent,!1,E.h||E);if(!ve)break;E.g[ve.key]=ve}E=p.J?q(p.J):{},p.u?(p.v||(p.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,E)):(p.v="GET",p.g.ea(p.B,p.v,null,E)),Pi(),Jf(p.i,p.v,p.B,p.l,p.S,p.u)}un.prototype.ba=function(p){p=p.target;const E=this.O;E&&ei(p)==3?E.j():this.Y(p)},un.prototype.Y=function(p){try{if(p==this.g)e:{const Ue=ei(this.g),Vt=this.g.ya(),ct=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||fd(this.g)))){this.K||Ue!=4||Vt==7||(Vt==8||ct<=0?Pi(3):Pi(2)),Os(this);var E=this.g.ca();this.X=E;var I=id(this);if(this.o=E==200,Zf(this.i,this.v,this.B,this.l,this.S,Ue,E),this.o){if(this.U&&!this.L){t:{if(this.g){var B,X=this.g;if((B=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(B)){var re=B;break t}}re=null}if(p=re)Hn(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bt(this,p);else{this.o=!1,this.m=3,jt(12),Ci(this),xo(this);break e}}if(this.R){p=!0;let Bt;for(;!this.K&&this.C<I.length;)if(Bt=od(this,I),Bt==wl){Ue==4&&(this.m=4,jt(14),p=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==nd){this.m=4,jt(15),Hn(this.i,this.l,I,"[Invalid Chunk]"),p=!1;break}else Hn(this.i,this.l,Bt,null),bt(this,Bt);if(ad(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||I.length!=0||this.h.h||(this.m=1,jt(16),p=!1),this.o=this.o&&p,!p)Hn(this.i,this.l,I,"[Invalid Chunked Response]"),Ci(this),xo(this);else if(I.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),Io(ve),ve.P=!0,jt(11))}}else Hn(this.i,this.l,I,null),bt(this,I);Ue==4&&Ci(this),this.o&&!this.K&&(Ue==4?$s(this.j,this):(this.o=!1,vo(this)))}else Dl(this.g),E==400&&I.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),Ci(this),xo(this)}}}catch{}finally{}};function id(p){if(!ad(p))return p.g.la();const E=fd(p.g);if(E==="")return"";let I="";const B=E.length,X=ei(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Ci(p),xo(p),"";p.h.i=new s.TextDecoder}for(let re=0;re<B;re++)p.h.h=!0,I+=p.h.i.decode(E[re],{stream:!(X&&re==B-1)});return E.length=0,p.h.g+=I,p.C=0,p.h.g}function ad(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function od(p,E){var I=p.C,B=E.indexOf(`
`,I);return B==-1?wl:(I=Number(E.substring(I,B)),isNaN(I)?nd:(B+=1,B+I>E.length?wl:(E=E.slice(B,B+I),p.C=B+I,E)))}un.prototype.cancel=function(){this.K=!0,Ci(this)};function vo(p){p.T=Date.now()+p.H,Tl(p,p.H)}function Tl(p,E){if(p.D!=null)throw Error("WatchDog timer not null");p.D=ya(f(p.aa,p),E)}function Os(p){p.D&&(s.clearTimeout(p.D),p.D=null)}un.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(ed(this.i,this.B),this.M!=2&&(Pi(),jt(17)),Ci(this),this.m=2,xo(this)):Tl(this,this.T-p)};function xo(p){p.j.I==0||p.K||$s(p.j,p)}function Ci(p){Os(p);var E=p.O;E&&typeof E.dispose=="function"&&E.dispose(),p.O=null,Ts(p.V),p.g&&(E=p.g,p.g=null,E.abort(),E.dispose())}function bt(p,E){try{var I=p.j;if(I.I!=0&&(I.g==p||Al(I.h,p))){if(!p.L&&Al(I.h,p)&&I.I==3){try{var B=I.Ba.g.parse(E)}catch{B=null}if(Array.isArray(B)&&B.length==3){var X=B;if(X[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<p.F)Vs(I),Qr(I);else break e;ni(I),jt(18)}}else I.xa=X[1],0<I.xa-I.K&&X[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=ya(f(I.Va,I),6e3));_o(I.h)<=1&&I.ta&&(I.ta=void 0)}else Jr(I,11)}else if((p.L||I.g==p)&&Vs(I),!L(E))for(X=I.Ba.g.parse(E),E=0;E<X.length;E++){let ct=X[E];const Bt=ct[0];if(!(Bt<=I.K))if(I.K=Bt,ct=ct[1],I.I==2)if(ct[0]=="c"){I.M=ct[1],I.ba=ct[2];const Zr=ct[3];Zr!=null&&(I.ka=Zr,I.j.info("VER="+I.ka));const Mi=ct[4];Mi!=null&&(I.za=Mi,I.j.info("SVER="+I.za));const ii=ct[5];ii!=null&&typeof ii=="number"&&ii>0&&(B=1.5*ii,I.O=B,I.j.info("backChannelRequestTimeoutMs_="+B)),B=I;const ai=p.g;if(ai){const Us=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var re=B.h;re.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(ks(re,re.h),re.h=null))}if(B.G){const Vl=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Vl&&(B.wa=Vl,nt(B.J,B.G,Vl))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-p.F,I.j.info("Handshake RTT: "+I.T+"ms")),B=I;var ve=p;if(B.na=Ll(B,B.L?B.ba:null,B.W),ve.L){bo(B.h,ve);var Ue=ve,Vt=B.O;Vt&&(Ue.H=Vt),Ue.D&&(Os(Ue),vo(Ue)),B.g=ve}else br(B);I.i.length>0&&Di(I)}else ct[0]!="stop"&&ct[0]!="close"||Jr(I,7);else I.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?Jr(I,7):Ms(I):ct[0]!="noop"&&I.l&&I.l.qa(ct),I.A=0)}}Pi(4)}catch{}}var ig=class{constructor(p,E){this.g=p,this.map=E}};function Cs(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sl(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function _o(p){return p.h?1:p.g?p.g.size:0}function Al(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function ks(p,E){p.g?p.g.add(E):p.h=E}function bo(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Cs.prototype.cancel=function(){if(this.i=Kr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Kr(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const I of p.g.values())E=E.concat(I.G);return E}return _(p.i)}var sd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yr(p,E){if(p){p=p.split("&");for(let I=0;I<p.length;I++){const B=p[I].indexOf("=");let X,re=null;B>=0?(X=p[I].substring(0,B),re=p[I].substring(B+1)):X=p[I],E(X,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Kn(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;p instanceof Kn?(this.l=p.l,wo(this,p.j),this.o=p.o,this.g=p.g,Yn(this,p.u),this.h=p.h,ba(this,jl(p.i)),this.m=p.m):p&&(E=String(p).match(sd))?(this.l=!1,wo(this,E[1]||"",!0),this.o=Eo(E[2]||""),this.g=Eo(E[3]||"",!0),Yn(this,E[4]),this.h=Eo(E[5]||"",!0),ba(this,E[6]||"",!0),this.m=Eo(E[7]||"")):(this.l=!1,this.i=new Qe(null,this.l))}Kn.prototype.toString=function(){const p=[];var E=this.j;E&&p.push(To(E,Il,!0),":");var I=this.g;return(I||E=="file")&&(p.push("//"),(E=this.o)&&p.push(To(E,Il,!0),"@"),p.push(Gn(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&p.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&p.push("/"),p.push(To(I,I.charAt(0)=="/"?So:Ol,!0))),(I=this.i.toString())&&p.push("?",I),(I=this.m)&&p.push("#",To(I,Cl)),p.join("")},Kn.prototype.resolve=function(p){const E=ln(this);let I=!!p.j;I?wo(E,p.j):I=!!p.o,I?E.o=p.o:I=!!p.g,I?E.g=p.g:I=p.u!=null;var B=p.h;if(I)Yn(E,p.u);else if(I=!!p.h){if(B.charAt(0)!="/")if(this.g&&!this.h)B="/"+B;else{var X=E.h.lastIndexOf("/");X!=-1&&(B=E.h.slice(0,X+1)+B)}if(X=B,X==".."||X==".")B="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){B=X.lastIndexOf("/",0)==0,X=X.split("/");const re=[];for(let ve=0;ve<X.length;){const Ue=X[ve++];Ue=="."?B&&ve==X.length&&re.push(""):Ue==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),B&&ve==X.length&&re.push("")):(re.push(Ue),B=!0)}B=re.join("/")}else B=X}return I?E.h=B:I=p.i.toString()!=="",I?ba(E,jl(p.i)):I=!!p.m,I&&(E.m=p.m),E};function ln(p){return new Kn(p)}function wo(p,E,I){p.j=I?Eo(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Yn(p,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);p.u=E}else p.u=null}function ba(p,E,I){E instanceof Qe?(p.i=E,Rs(p.i,p.l)):(I||(E=To(E,ag)),p.i=new Qe(E,p.l))}function nt(p,E,I){p.i.set(E,I)}function ki(p){return nt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Eo(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function To(p,E,I){return typeof p=="string"?(p=encodeURI(p).replace(E,Pl),I&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Pl(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Il=/[#\/\?@]/g,Ol=/[#\?:]/g,So=/[#\?]/g,ag=/[#\?@]/g,Cl=/#/g;function Qe(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Xn(p){p.g||(p.g=new Map,p.h=0,p.i&&Yr(p.i,function(E,I){p.add(decodeURIComponent(E.replace(/\+/g," ")),I)}))}t=Qe.prototype,t.add=function(p,E){Xn(this),this.i=null,p=Qn(this,p);let I=this.g.get(p);return I||this.g.set(p,I=[]),I.push(E),this.h+=1,this};function kl(p,E){Xn(p),E=Qn(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function Ns(p,E){return Xn(p),E=Qn(p,E),p.g.has(E)}t.forEach=function(p,E){Xn(this),this.g.forEach(function(I,B){I.forEach(function(X){p.call(E,X,B,this)},this)},this)};function Nl(p,E){Xn(p);let I=[];if(typeof E=="string")Ns(p,E)&&(I=I.concat(p.g.get(Qn(p,E))));else for(p=Array.from(p.g.values()),E=0;E<p.length;E++)I=I.concat(p[E]);return I}t.set=function(p,E){return Xn(this),this.i=null,p=Qn(this,p),Ns(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},t.get=function(p,E){return p?(p=Nl(this,p),p.length>0?String(p[0]):E):E};function Rl(p,E,I){kl(p,E),I.length>0&&(p.i=null,p.g.set(Qn(p,E),_(I)),p.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(let B=0;B<E.length;B++){var I=E[B];const X=Gn(I);I=Nl(this,I);for(let re=0;re<I.length;re++){let ve=X;I[re]!==""&&(ve+="="+Gn(I[re])),p.push(ve)}}return this.i=p.join("&")};function jl(p){const E=new Qe;return E.i=p.i,p.g&&(E.g=new Map(p.g),E.h=p.h),E}function Qn(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function Rs(p,E){E&&!p.j&&(Xn(p),p.i=null,p.g.forEach(function(I,B){const X=B.toLowerCase();B!=X&&(kl(this,B),Rl(this,X,I))},p)),p.j=E}function Jn(p,E){const I=new va;if(s.Image){const B=new Image;B.onload=h(fr,I,"TestLoadImage: loaded",!0,E,B),B.onerror=h(fr,I,"TestLoadImage: error",!1,E,B),B.onabort=h(fr,I,"TestLoadImage: abort",!1,E,B),B.ontimeout=h(fr,I,"TestLoadImage: timeout",!1,E,B),s.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=p}else E(!1)}function Zn(p,E){const I=new va,B=new AbortController,X=setTimeout(()=>{B.abort(),fr(I,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:B.signal}).then(re=>{clearTimeout(X),re.ok?fr(I,"TestPingServer: ok",!0,E):fr(I,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(X),fr(I,"TestPingServer: error",!1,E)})}function fr(p,E,I,B,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),B(I)}catch{}}function Ao(){this.g=new go}function Ni(p){this.i=p.Sb||null,this.h=p.ab||!1}m(Ni,pa),Ni.prototype.g=function(){return new Xr(this.i,this.h)};function Xr(p,E){ht.call(this),this.H=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Xr,ht),t=Xr.prototype,t.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=E,this.readyState=1,In(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(E.body=p),(this.H||s).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wa(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ud(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function ud(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?wa(this):In(this),this.readyState==3&&ud(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,wa(this))},t.Na=function(p){this.g&&(this.response=p,wa(this))},t.ga=function(){this.g&&wa(this)};function wa(p){p.readyState=4,p.l=null,p.j=null,p.B=null,In(p)}t.setRequestHeader=function(p,E){this.A.append(p,E)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var I=E.next();!I.done;)I=I.value,p.push(I[0]+": "+I[1]),I=E.next();return p.join(`\r
`)};function In(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ld(p){let E="";return ie(p,function(I,B){E+=B,E+=":",E+=I,E+=`\r
`}),E}function js(p,E,I){e:{for(B in I){var B=!1;break e}B=!0}B||(I=ld(I),typeof p=="string"?I!=null&&Gn(I):nt(p,E,I))}function pt(p){ht.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(pt,ht);var cd=/^https?$/i,og=["POST","PUT"];t=pt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,E,I,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():td.g(),this.g.onreadystatechange=y(f(this.Ca,this));try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(re){Ea(this,re);return}if(p=I||"",I=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var X in B)I.set(X,B[X]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const re of B.keys())I.set(re,B.get(re));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(I.keys()).find(re=>re.toLowerCase()=="content-type"),X=s.FormData&&p instanceof s.FormData,!(Array.prototype.indexOf.call(og,E,void 0)>=0)||B||X||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ve]of I)this.g.setRequestHeader(re,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(re){Ea(this,re)}};function Ea(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.o=5,Ta(p),ji(p)}function Ta(p){p.A||(p.A=!0,vt(p,"complete"),vt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,vt(this,"complete"),vt(this,"abort"),ji(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),pt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ri(this):this.Xa())},t.Xa=function(){Ri(this)};function Ri(p){if(p.h&&typeof a<"u"){if(p.v&&ei(p)==4)setTimeout(p.Ca.bind(p),0);else if(vt(p,"readystatechange"),ei(p)==4){p.h=!1;try{const re=p.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var I;if(!(I=E)){var B;if(B=re===0){let ve=String(p.D).match(sd)[1]||null;!ve&&s.self&&s.self.location&&(ve=s.self.location.protocol.slice(0,-1)),B=!cd.test(ve?ve.toLowerCase():"")}I=B}if(I)vt(p,"complete"),vt(p,"success");else{p.o=6;try{var X=ei(p)>2?p.g.statusText:""}catch{X=""}p.l=X+" ["+p.ca()+"]",Ta(p)}}finally{ji(p)}}}}function ji(p,E){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const I=p.g;p.g=null,E||vt(p,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ei(p){return p.g?p.g.readyState:0}t.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),Xf(E)}};function fd(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Dl(p){const E={};p=(p.g&&ei(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<p.length;B++){if(L(p[B]))continue;var I=Is(p[B]);const X=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const re=E[X]||[];E[X]=re,re.push(I)}ne(E,function(B){return B.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ti(p,E,I){return I&&I.internalChannelParams&&I.internalChannelParams[p]||E}function Ds(p){this.za=0,this.i=[],this.j=new va,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ti("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ti("baseRetryDelayMs",5e3,p),this.Za=ti("retryDelaySeedMs",1e4,p),this.Ta=ti("forwardChannelMaxRetries",2,p),this.va=ti("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Cs(p&&p.concurrentRequestLimit),this.Ba=new Ao,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ds.prototype,t.ka=8,t.I=1,t.connect=function(p,E,I,B){jt(0),this.W=p,this.H=E||{},I&&B!==void 0&&(this.H.OSID=I,this.H.OAID=B),this.F=this.X,this.J=Ll(this,null,this.W),Di(this)};function Ms(p){if(Ls(p),p.I==3){var E=p.V++,I=ln(p.J);if(nt(I,"SID",p.M),nt(I,"RID",E),nt(I,"TYPE","terminate"),ri(p,I),E=new un(p,p.j,E),E.M=2,E.A=ki(ln(I)),I=!1,s.navigator&&s.navigator.sendBeacon)try{I=s.navigator.sendBeacon(E.A.toString(),"")}catch{}!I&&s.Image&&(new Image().src=E.A,I=!0),I||(E.g=hd(E.j,null),E.g.ea(E.A)),E.F=Date.now(),vo(E)}Oo(p)}function Qr(p){p.g&&(Io(p),p.g.cancel(),p.g=null)}function Ls(p){Qr(p),p.v&&(s.clearTimeout(p.v),p.v=null),Vs(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&s.clearTimeout(p.m),p.m=null)}function Di(p){if(!Sl(p.h)&&!p.m){p.m=!0;var E=p.Ea;P||O(),C||(P(),C=!0),A.add(E,p),p.D=0}}function dd(p,E){return _o(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=E.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=ya(f(p.Ea,p,E),Fs(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const X=new un(this,this.j,p);let re=this.o;if(this.U&&(re?(re=q(re),me(re,this.U)):re=this.U),this.u!==null||this.R||(X.J=re,re=null),this.S)e:{for(var E=0,I=0;I<this.i.length;I++){t:{var B=this.i[I];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(E+=B,E>4096){E=I;break e}if(E===4096||I===this.i.length-1){E=I+1;break e}}E=1e3}else E=1e3;E=Ml(this,X,E),I=ln(this.J),nt(I,"RID",p),nt(I,"CVER",22),this.G&&nt(I,"X-HTTP-Session-Id",this.G),ri(this,I),re&&(this.R?E="headers="+Gn(ld(re))+"&"+E:this.u&&js(I,this.u,re)),ks(this.h,X),this.Ra&&nt(I,"TYPE","init"),this.S?(nt(I,"$req",E),nt(I,"SID","null"),X.U=!0,Pn(X,I,null)):Pn(X,I,E),this.I=2}}else this.I==3&&(p?Po(this,p):this.i.length==0||Sl(this.h)||Po(this))};function Po(p,E){var I;E?I=E.l:I=p.V++;const B=ln(p.J);nt(B,"SID",p.M),nt(B,"RID",I),nt(B,"AID",p.K),ri(p,B),p.u&&p.o&&js(B,p.u,p.o),I=new un(p,p.j,I,p.D+1),p.u===null&&(I.J=p.o),E&&(p.i=E.G.concat(p.i)),E=Ml(p,I,1e3),I.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),ks(p.h,I),Pn(I,B,E)}function ri(p,E){p.H&&ie(p.H,function(I,B){nt(E,B,I)}),p.l&&ie({},function(I,B){nt(E,B,I)})}function Ml(p,E,I){I=Math.min(p.i.length,I);const B=p.l?f(p.l.Ka,p.l,p):null;e:{var X=p.i;let Ue=-1;for(;;){const Vt=["count="+I];Ue==-1?I>0?(Ue=X[0].g,Vt.push("ofs="+Ue)):Ue=0:Vt.push("ofs="+Ue);let ct=!0;for(let Bt=0;Bt<I;Bt++){var re=X[Bt].g;const Zr=X[Bt].map;if(re-=Ue,re<0)Ue=Math.max(0,X[Bt].g-100),ct=!1;else try{re="req"+re+"_"||"";try{var ve=Zr instanceof Map?Zr:Object.entries(Zr);for(const[Mi,ii]of ve){let ai=ii;l(ii)&&(ai=ha(ii)),Vt.push(re+Mi+"="+encodeURIComponent(ai))}}catch(Mi){throw Vt.push(re+"type="+encodeURIComponent("_badmap")),Mi}}catch{B&&B(Zr)}}if(ct){ve=Vt.join("&");break e}}ve=void 0}return p=p.i.splice(0,I),E.G=p,ve}function br(p){if(!p.g&&!p.v){p.Y=1;var E=p.Da;P||O(),C||(P(),C=!0),A.add(E,p),p.A=0}}function ni(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=ya(f(p.Da,p),Fs(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,Sa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=ya(f(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),Qr(this),Sa(this))};function Io(p){p.B!=null&&(s.clearTimeout(p.B),p.B=null)}function Sa(p){p.g=new un(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var E=ln(p.na);nt(E,"RID","rpc"),nt(E,"SID",p.M),nt(E,"AID",p.K),nt(E,"CI",p.F?"0":"1"),!p.F&&p.ia&&nt(E,"TO",p.ia),nt(E,"TYPE","xmlhttp"),ri(p,E),p.u&&p.o&&js(E,p.u,p.o),p.O&&(p.g.H=p.O);var I=p.g;p=p.ba,I.M=1,I.A=ki(ln(E)),I.u=null,I.R=!0,El(I,p)}t.Va=function(){this.C!=null&&(this.C=null,Qr(this),ni(this),jt(19))};function Vs(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function $s(p,E){var I=null;if(p.g==E){Vs(p),Io(p),p.g=null;var B=2}else if(Al(p.h,E))I=E.G,bo(p.h,E),B=1;else return;if(p.I!=0){if(E.o)if(B==1){I=E.u?E.u.length:0,E=Date.now()-E.F;var X=p.D;B=ga(),vt(B,new bl(B,I)),Di(p)}else br(p);else if(X=E.m,X==3||X==0&&E.X>0||!(B==1&&dd(p,E)||B==2&&ni(p)))switch(I&&I.length>0&&(E=p.h,E.i=E.i.concat(I)),X){case 1:Jr(p,5);break;case 4:Jr(p,10);break;case 3:Jr(p,6);break;default:Jr(p,2)}}}function Fs(p,E){let I=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(I*=2),I*E}function Jr(p,E){if(p.j.info("Error code "+E),E==2){var I=f(p.bb,p),B=p.Ua;const X=!B;B=new Kn(B||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||wo(B,"https"),ki(B),X?Jn(B.toString(),I):Zn(B.toString(),I)}else jt(2);p.I=0,p.l&&p.l.pa(E),Oo(p),Ls(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function Oo(p){if(p.I=0,p.ja=[],p.l){const E=Kr(p.h);(E.length!=0||p.i.length!=0)&&(S(p.ja,E),S(p.ja,p.i),p.h.i.length=0,_(p.i),p.i.length=0),p.l.oa()}}function Ll(p,E,I){var B=I instanceof Kn?ln(I):new Kn(I);if(B.g!="")E&&(B.g=E+"."+B.g),Yn(B,B.u);else{var X=s.location;B=X.protocol,E=E?E+"."+X.hostname:X.hostname,X=+X.port;const re=new Kn(null);B&&wo(re,B),E&&(re.g=E),X&&Yn(re,X),I&&(re.h=I),B=re}return I=p.G,E=p.wa,I&&E&&nt(B,I,E),nt(B,"VER",p.ka),ri(p,B),B}function hd(p,E,I){if(E&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Aa&&!p.ma?new pt(new Ni({ab:I})):new pt(p.ma),E.Fa(p.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pd(){}t=pd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Bs(){}Bs.prototype.g=function(p,E){return new dr(p,E)};function dr(p,E){ht.call(this),this.g=new Ds(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(p?p["X-WebChannel-Client-Profile"]=E.sa:p={"X-WebChannel-Client-Profile":E.sa}),this.g.U=p,(p=E&&E.Qb)&&!L(p)&&(this.g.u=p),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!L(E)&&(this.g.G=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new Aa(this)}m(dr,ht),dr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dr.prototype.close=function(){Ms(this.g)},dr.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var I={};I.__data__=p,p=I}else this.v&&(I={},I.__data__=ha(p),p=I);E.i.push(new ig(E.Ya++,p)),E.I==3&&Di(E)},dr.prototype.N=function(){this.g.l=null,delete this.j,Ms(this.g),delete this.g,dr.Z.N.call(this)};function md(p){Ss.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const I in E){p=I;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}m(md,Ss);function gd(){_l.call(this),this.status=1}m(gd,_l);function Aa(p){this.g=p}m(Aa,pd),Aa.prototype.ra=function(){vt(this.g,"a")},Aa.prototype.qa=function(p){vt(this.g,new md(p))},Aa.prototype.pa=function(p){vt(this.g,new gd)},Aa.prototype.oa=function(){vt(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,dr.prototype.send=dr.prototype.o,dr.prototype.open=dr.prototype.m,dr.prototype.close=dr.prototype.close,lj=function(){return new Bs},uj=function(){return ga()},sj=An,tb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xa.NO_ERROR=0,xa.TIMEOUT=8,xa.HTTP_ERROR=6,Dh=xa,_a.COMPLETE="complete",oj=_a,Qf.EventType=ma,ma.OPEN="a",ma.CLOSE="b",ma.ERROR="c",ma.MESSAGE="d",ht.prototype.listen=ht.prototype.J,_c=Qf,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,aj=pt}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ir.UNAUTHENTICATED=new Ir(null),Ir.GOOGLE_CREDENTIALS=new Ir("google-credentials-uid"),Ir.FIRST_PARTY=new Ir("first-party-uid"),Ir.MOCK_USER=new Ir("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="12.9.0";function WF(t){ul=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new Mw("@firebase/firestore");function hu(){return us.logLevel}function we(t,...e){if(us.logLevel<=Ke.DEBUG){const r=e.map(Yw);us.debug(`Firestore (${ul}): ${t}`,...r)}}function ia(t,...e){if(us.logLevel<=Ke.ERROR){const r=e.map(Yw);us.error(`Firestore (${ul}): ${t}`,...r)}}function ls(t,...e){if(us.logLevel<=Ke.WARN){const r=e.map(Yw);us.warn(`Firestore (${ul}): ${t}`,...r)}}function Yw(t){if(typeof t=="string")return t;try{return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,cj(t,n,r)}function cj(t,e,r){let n=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw ia(n),new Error(n)}function lt(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||cj(e,i,n)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends la{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Ir.UNAUTHENTICATED)))}shutdown(){}}class GF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class KF{constructor(e){this.t=e,this.currentUser=Ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){lt(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Zo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Zo,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zo)}}),0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(lt(typeof n.accessToken=="string",31837,{l:n}),new fj(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new Ir(e)}}class YF{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Ir.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class XF{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new YF(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(Ir.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class PA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QF{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){lt(this.o===void 0,3512);const n=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new PA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(lt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new PA(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=JF(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function Ye(t,e){return t<e?-1:t>e?1:0}function rb(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return $y(i)===$y(a)?Ye(i,a):$y(i)?1:-1}return Ye(t.length,e.length)}const ZF=55296,eB=57343;function $y(t){const e=t.charCodeAt(0);return e>=ZF&&e<=eB}function Ru(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="__name__";class ci{constructor(e,r,n){r===void 0?r=0:r>e.length&&Me(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Me(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=ci.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return Ye(e.length,r.length)}static compareSegments(e,r){const n=ci.isNumericId(e),i=ci.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?ci.extractNumericId(e).compare(ci.extractNumericId(r)):rb(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Za.fromString(e.substring(4,e.length-2))}}class St extends ci{construct(e,r,n){return new St(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ie(fe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new St(r)}static emptyPath(){return new St([])}}const tB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends ci{construct(e,r,n){return new yr(e,r,n)}static isValidIdentifier(e){return tB.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IA}static keyField(){return new yr([IA])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Ie(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Ie(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ie(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(n+=l,i++):(a(),i++)}if(a(),s)throw new Ie(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(r)}static emptyPath(){return new yr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(St.fromString(e))}static fromName(e){return new ke(St.fromString(e).popFirst(5))}static empty(){return new ke(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return St.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new St(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t,e,r){if(!r)throw new Ie(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rB(t,e,r,n){if(e===!0&&n===!0)throw new Ie(fe.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function OA(t){if(!ke.isDocumentKey(t))throw new Ie(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CA(t){if(ke.isDocumentKey(t))throw new Ie(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hj(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Qw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Qw(t);throw new Ie(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,e){const r={typeString:t};return e&&(r.value=e),r}function Lf(t,e){if(!hj(t))throw new Ie(fe.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const s=t[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new Ie(fe.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=-62135596800,NA=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*NA);return new At(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<kA)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NA}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lf(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Wt("string",At._jsonSchemaVersion),seconds:Wt("number"),nanoseconds:Wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new At(0,0))}static max(){return new Be(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=-1;function nB(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Be.fromTimestamp(n===1e9?new At(r+1,0):new At(r,n));return new ro(i,ke.empty(),e)}function iB(t){return new ro(t.readTime,t.key,Bc)}class ro{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ro(Be.min(),ke.empty(),Bc)}static max(){return new ro(Be.max(),ke.empty(),Bc)}}function aB(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ke.comparator(t.documentKey,e.documentKey),r!==0?r:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==oB)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ue(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof ue?r:ue.resolve(r)}catch(r){return ue.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):ue.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):ue.reject(r)}static resolve(e){return new ue(((r,n)=>{r(e)}))}static reject(e){return new ue(((r,n)=>{n(e)}))}static waitFor(e){return new ue(((r,n)=>{let i=0,a=0,s=!1;e.forEach((l=>{++i,l.next((()=>{++a,s&&a===i&&r()}),(c=>n(c)))})),s=!0,a===i&&r()}))}static or(e){let r=ue.resolve(!1);for(const n of e)r=r.next((i=>i?ue.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new ue(((n,i)=>{const a=e.length,s=new Array(a);let l=0;for(let c=0;c<a;c++){const f=c;r(e[f]).next((h=>{s[f]=h,++l,l===a&&n(s)}),(h=>i(h)))}}))}static doWhile(e,r){return new ue(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}function uB(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function cl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=-1;function fm(t){return t==null}function Xh(t){return t===0&&1/t==-1/0}function lB(t){return typeof t=="number"&&Number.isInteger(t)&&!Xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="";function cB(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=RA(e)),e=fB(t.get(r),e);return RA(e)}function fB(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case pj:r+="";break;default:r+=a}}return r}function RA(t){return t+pj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function gs(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function mj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,r){this.comparator=e,this.root=r||gr.EMPTY}insert(e,r){return new Nt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,gr.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??gr.RED,this.left=i??gr.EMPTY,this.right=a??gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new gr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return gr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}gr.EMPTY=null,gr.RED=!0,gr.BLACK=!1;gr.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new gr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new DA(this.data.getIterator())}getIteratorFrom(e){return new DA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new tr(this.comparator);return r.data=e,r}}class DA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new Fn([])}unionWith(e){let r=new tr(yr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Fn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ru(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new gj("Invalid base64 string: "+a):a}})(e);return new _r(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new _r(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_r.EMPTY_BYTE_STRING=new _r("");const dB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(t){if(lt(!!t,39018),typeof t=="string"){let e=0;const r=dB.exec(t);if(lt(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function io(t){return typeof t=="string"?_r.fromBase64String(t):_r.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="server_timestamp",vj="__type__",xj="__previous_value__",_j="__local_write_time__";function Zw(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[vj])==null?void 0:n.stringValue)===yj}function dm(t){const e=t.mapValue.fields[xj];return Zw(e)?dm(e):e}function Uc(t){const e=no(t.mapValue.fields[_j].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,r,n,i,a,s,l,c,f,h,m){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h,this.apiKey=m}}const Qh="(default)";class qc{constructor(e,r){this.projectId=e,this.database=r||Qh}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof qc&&e.projectId===this.projectId&&e.database===this.database}}function pB(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ie(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj="__type__",mB="__max__",ph={mapValue:{}},wj="__vector__",Jh="value";function ao(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zw(t)?4:yB(t)?9007199254740991:gB(t)?10:11:Me(28295,{value:t})}function bi(t,e){if(t===e)return!0;const r=ao(t);if(r!==ao(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uc(t).isEqual(Uc(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=no(i.timestampValue),l=no(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return io(i.bytesValue).isEqual(io(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Ft(i.geoPointValue.latitude)===Ft(a.geoPointValue.latitude)&&Ft(i.geoPointValue.longitude)===Ft(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Ft(i.integerValue)===Ft(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Ft(i.doubleValue),l=Ft(a.doubleValue);return s===l?Xh(s)===Xh(l):isNaN(s)&&isNaN(l)}return!1})(t,e);case 9:return Ru(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(jA(s)!==jA(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!bi(s[c],l[c])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function zc(t,e){return(t.values||[]).find((r=>bi(r,e)))!==void 0}function ju(t,e){if(t===e)return 0;const r=ao(t),n=ao(e);if(r!==n)return Ye(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const l=Ft(a.integerValue||a.doubleValue),c=Ft(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return MA(t.timestampValue,e.timestampValue);case 4:return MA(Uc(t),Uc(e));case 5:return rb(t.stringValue,e.stringValue);case 6:return(function(a,s){const l=io(a),c=io(s);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const l=a.split("/"),c=s.split("/");for(let f=0;f<l.length&&f<c.length;f++){const h=Ye(l[f],c[f]);if(h!==0)return h}return Ye(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const l=Ye(Ft(a.latitude),Ft(s.latitude));return l!==0?l:Ye(Ft(a.longitude),Ft(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return LA(t.arrayValue,e.arrayValue);case 10:return(function(a,s){var y,_,S,T;const l=a.fields||{},c=s.fields||{},f=(y=l[Jh])==null?void 0:y.arrayValue,h=(_=c[Jh])==null?void 0:_.arrayValue,m=Ye(((S=f==null?void 0:f.values)==null?void 0:S.length)||0,((T=h==null?void 0:h.values)==null?void 0:T.length)||0);return m!==0?m:LA(f,h)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===ph.mapValue&&s===ph.mapValue)return 0;if(a===ph.mapValue)return 1;if(s===ph.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const y=rb(c[m],h[m]);if(y!==0)return y;const _=ju(l[c[m]],f[h[m]]);if(_!==0)return _}return Ye(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:r})}}function MA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const r=no(t),n=no(e),i=Ye(r.seconds,n.seconds);return i!==0?i:Ye(r.nanos,n.nanos)}function LA(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=ju(r[i],n[i]);if(a)return a}return Ye(r.length,n.length)}function Du(t){return nb(t)}function nb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=no(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return io(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return ke.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=nb(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${nb(r.fields[s])}`;return i+"}"})(t.mapValue):Me(61005,{value:t})}function Mh(t){switch(ao(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dm(t);return e?16+Mh(e):16;case 5:return 2*t.stringValue.length;case 6:return io(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+Mh(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return gs(n.fields,((a,s)=>{i+=a.length+Mh(s)})),i})(t.mapValue);default:throw Me(13486,{value:t})}}function ib(t){return!!t&&"integerValue"in t}function e1(t){return!!t&&"arrayValue"in t}function VA(t){return!!t&&"nullValue"in t}function $A(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lh(t){return!!t&&"mapValue"in t}function gB(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[bj])==null?void 0:n.stringValue)===wj}function kc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return gs(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=kc(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=kc(t.arrayValue.values[r]);return e}return{...t}}function yB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===mB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Lh(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(r)}setAll(e){let r=yr.emptyPath(),n={},i=[];e.forEach(((s,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}s?n[l.lastSegment()]=kc(s):i.push(l.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Lh(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Lh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){gs(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new xn(kc(this.value))}}function Ej(t){const e=[];return gs(t.fields,((r,n)=>{const i=new yr([r]);if(Lh(n)){const a=Ej(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,r,n,i,a,s,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Or(e,0,Be.min(),Be.min(),Be.min(),xn.empty(),0)}static newFoundDocument(e,r,n,i){return new Or(e,1,r,Be.min(),n,i,0)}static newNoDocument(e,r){return new Or(e,2,r,Be.min(),Be.min(),xn.empty(),0)}static newUnknownDocument(e,r){return new Or(e,3,r,Be.min(),Be.min(),xn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,r){this.position=e,this.inclusive=r}}function FA(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=ke.comparator(ke.fromName(s.referenceValue),r.key):n=ju(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function BA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!bi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,r="asc"){this.field=e,this.dir=r}}function vB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{}class Jt extends Tj{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new _B(e,r,n):r==="array-contains"?new EB(e,n):r==="in"?new TB(e,n):r==="not-in"?new SB(e,n):r==="array-contains-any"?new AB(e,n):new Jt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new bB(e,n):new wB(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(ju(r,this.value)):r!==null&&ao(this.value)===ao(r)&&this.matchesComparison(ju(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends Tj{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new wi(e,r)}matches(e){return Sj(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Sj(t){return t.op==="and"}function Aj(t){return xB(t)&&Sj(t)}function xB(t){for(const e of t.filters)if(e instanceof wi)return!1;return!0}function ab(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+Du(t.value);if(Aj(t))return t.filters.map((e=>ab(e))).join(",");{const e=t.filters.map((r=>ab(r))).join(",");return`${t.op}(${e})`}}function Pj(t,e){return t instanceof Jt?(function(n,i){return i instanceof Jt&&n.op===i.op&&n.field.isEqual(i.field)&&bi(n.value,i.value)})(t,e):t instanceof wi?(function(n,i){return i instanceof wi&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,s,l)=>a&&Pj(s,i.filters[l])),!0):!1})(t,e):void Me(19439)}function Ij(t){return t instanceof Jt?(function(r){return`${r.field.canonicalString()} ${r.op} ${Du(r.value)}`})(t):t instanceof wi?(function(r){return r.op.toString()+" {"+r.getFilters().map(Ij).join(" ,")+"}"})(t):"Filter"}class _B extends Jt{constructor(e,r,n){super(e,r,n),this.key=ke.fromName(n.referenceValue)}matches(e){const r=ke.comparator(e.key,this.key);return this.matchesComparison(r)}}class bB extends Jt{constructor(e,r){super(e,"in",r),this.keys=Oj("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class wB extends Jt{constructor(e,r){super(e,"not-in",r),this.keys=Oj("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function Oj(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map((n=>ke.fromName(n.referenceValue)))}class EB extends Jt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return e1(r)&&zc(r.arrayValue,this.value)}}class TB extends Jt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&zc(this.value.arrayValue,r)}}class SB extends Jt{constructor(e,r){super(e,"not-in",r)}matches(e){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!zc(this.value.arrayValue,r)}}class AB extends Jt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!e1(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>zc(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,r=null,n=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.Te=null}}function UA(t,e=null,r=[],n=[],i=null,a=null,s=null){return new PB(t,e,r,n,i,a,s)}function t1(t){const e=qe(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>ab(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),fm(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>Du(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>Du(n))).join(",")),e.Te=r}return e.Te}function r1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!vB(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!Pj(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BA(t.startAt,e.startAt)&&BA(t.endAt,e.endAt)}function ob(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,r=null,n=[],i=[],a=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function IB(t,e,r,n,i,a,s,l){return new hm(t,e,r,n,i,a,s,l)}function n1(t){return new hm(t)}function qA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OB(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function CB(t){return t.collectionGroup!==null}function Nc(t){const e=qe(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new tr(yr.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new ep(a,n))})),r.has(yr.keyField().canonicalString())||e.Ie.push(new ep(yr.keyField(),n))}return e.Ie}function pi(t){const e=qe(t);return e.Ee||(e.Ee=kB(e,Nc(t))),e.Ee}function kB(t,e){if(t.limitType==="F")return UA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new ep(i.field,a)}));const r=t.endAt?new Zh(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Zh(t.startAt.position,t.startAt.inclusive):null;return UA(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function sb(t,e,r){return new hm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function pm(t,e){return r1(pi(t),pi(e))&&t.limitType===e.limitType}function Cj(t){return`${t1(pi(t))}|lt:${t.limitType}`}function pu(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>Ij(i))).join(", ")}]`),fm(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>Du(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>Du(i))).join(",")),`Target(${n})`})(pi(t))}; limitType=${t.limitType})`}function mm(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ke.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of Nc(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(s,l,c){const f=FA(s,l,c);return s.inclusive?f<=0:f<0})(n.startAt,Nc(n),i)||n.endAt&&!(function(s,l,c){const f=FA(s,l,c);return s.inclusive?f>=0:f>0})(n.endAt,Nc(n),i))})(t,e)}function NB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kj(t){return(e,r)=>{let n=!1;for(const i of Nc(t)){const a=RB(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function RB(t,e,r){const n=t.field.isKeyField()?ke.comparator(e.key,r.key):(function(a,s,l){const c=s.data.field(a),f=l.data.field(a);return c!==null&&f!==null?ju(c,f):Me(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return mj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB=new Nt(ke.comparator);function aa(){return jB}const Nj=new Nt(ke.comparator);function bc(...t){let e=Nj;for(const r of t)e=e.insert(r.key,r);return e}function Rj(t){let e=Nj;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function Go(){return Rc()}function jj(){return Rc()}function Rc(){return new ys((t=>t.toString()),((t,e)=>t.isEqual(e)))}const DB=new Nt(ke.comparator),MB=new tr(ke.comparator);function Xe(...t){let e=MB;for(const r of t)e=e.add(r);return e}const LB=new tr(Ye);function VB(){return LB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function Dj(t){return{integerValue:""+t}}function $B(t,e){return lB(e)?Dj(e):i1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this._=void 0}}function FB(t,e,r){return t instanceof Wc?(function(i,a){const s={fields:{[vj]:{stringValue:yj},[_j]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Zw(a)&&(a=dm(a)),a&&(s.fields[xj]=a),{mapValue:s}})(r,e):t instanceof Hc?Lj(t,e):t instanceof Gc?Vj(t,e):(function(i,a){const s=Mj(i,a),l=zA(s)+zA(i.Ae);return ib(s)&&ib(i.Ae)?Dj(l):i1(i.serializer,l)})(t,e)}function BB(t,e,r){return t instanceof Hc?Lj(t,e):t instanceof Gc?Vj(t,e):r}function Mj(t,e){return t instanceof tp?(function(n){return ib(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class Wc extends gm{}class Hc extends gm{constructor(e){super(),this.elements=e}}function Lj(t,e){const r=$j(e);for(const n of t.elements)r.some((i=>bi(i,n)))||r.push(n);return{arrayValue:{values:r}}}class Gc extends gm{constructor(e){super(),this.elements=e}}function Vj(t,e){let r=$j(e);for(const n of t.elements)r=r.filter((i=>!bi(i,n)));return{arrayValue:{values:r}}}class tp extends gm{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function zA(t){return Ft(t.integerValue||t.doubleValue)}function $j(t){return e1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e,r){this.field=e,this.transform=r}}function qB(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof Hc&&i instanceof Hc||n instanceof Gc&&i instanceof Gc?Ru(n.elements,i.elements,bi):n instanceof tp&&i instanceof tp?bi(n.Ae,i.Ae):n instanceof Wc&&i instanceof Wc})(t.transform,e.transform)}class zB{constructor(e,r){this.version=e,this.transformResults=r}}class mi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ym{}function Fj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new a1(t.key,mi.none()):new Vf(t.key,t.data,mi.none());{const r=t.data,n=xn.empty();let i=new tr(yr.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new vs(t.key,n,new Fn(i.toArray()),mi.none())}}function WB(t,e,r){t instanceof Vf?(function(i,a,s){const l=i.value.clone(),c=HA(i.fieldTransforms,a,s.transformResults);l.setAll(c),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(t,e,r):t instanceof vs?(function(i,a,s){if(!Vh(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=HA(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(Bj(i)),c.setAll(l),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,r):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,r)}function jc(t,e,r,n){return t instanceof Vf?(function(a,s,l,c){if(!Vh(a.precondition,s))return l;const f=a.value.clone(),h=GA(a.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(t,e,r,n):t instanceof vs?(function(a,s,l,c){if(!Vh(a.precondition,s))return l;const f=GA(a.fieldTransforms,c,s),h=s.data;return h.setAll(Bj(a)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((m=>m.field)))})(t,e,r,n):(function(a,s,l){return Vh(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(t,e,r)}function HB(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=Mj(n.transform,i||null);a!=null&&(r===null&&(r=xn.empty()),r.set(n.field,a))}return r||null}function WA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ru(n,i,((a,s)=>qB(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vf extends ym{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vs extends ym{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Bj(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function HA(t,e,r){const n=new Map;lt(t.length===r.length,32656,{Ve:r.length,de:t.length});for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,l=e.data.field(a.field);n.set(a.field,BB(s,l,r[i]))}return n}function GA(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,FB(a,s,e))}return n}class a1 extends ym{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GB extends ym{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&WB(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=jc(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=jc(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=jj();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=r.has(i.key)?null:l;const c=Fj(s,l);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Be.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Ru(this.mutations,e.mutations,((r,n)=>WA(r,n)))&&Ru(this.baseMutations,e.baseMutations,((r,n)=>WA(r,n)))}}class o1{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){lt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return DB})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new o1(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Je;function QB(t){switch(t){case fe.OK:return Me(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function Uj(t){if(t===void 0)return ia("GRPC error has no .code"),fe.UNKNOWN;switch(t){case qt.OK:return fe.OK;case qt.CANCELLED:return fe.CANCELLED;case qt.UNKNOWN:return fe.UNKNOWN;case qt.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case qt.INTERNAL:return fe.INTERNAL;case qt.UNAVAILABLE:return fe.UNAVAILABLE;case qt.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case qt.NOT_FOUND:return fe.NOT_FOUND;case qt.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case qt.ABORTED:return fe.ABORTED;case qt.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case qt.DATA_LOSS:return fe.DATA_LOSS;default:return Me(39323,{code:t})}}(Je=qt||(qt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=new Za([4294967295,4294967295],0);function KA(t){const e=JB().encode(t),r=new ij;return r.update(e),new Uint8Array(r.digest())}function YA(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Za([r,n],0),new Za([i,a],0)]}class s1{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new wc(`Invalid padding: ${r}`);if(n<0)throw new wc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new wc(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new wc(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Za.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Za.fromNumber(n)));return i.compare(ZB)===1&&(i=new Za([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=KA(e),[n,i]=YA(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new s1(a,i,r);return n.forEach((l=>s.insert(l))),s}insert(e){if(this.ge===0)return;const r=KA(e),[n,i]=YA(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.be(s)}}be(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,$f.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new vm(Be.min(),i,new Nt(Ye),aa(),Xe())}}class $f{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new $f(n,r,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,r,n,i){this.Se=e,this.removedTargetIds=r,this.key=n,this.De=i}}class qj{constructor(e,r){this.targetId=e,this.Ce=r}}class zj{constructor(e,r,n=_r.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class XA{constructor(){this.ve=0,this.Fe=QA(),this.Me=_r.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),r=Xe(),n=Xe();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Me(38017,{changeType:a})}})),new $f(this.Me,this.xe,e,r,n)}Ke(){this.Oe=!1,this.Fe=QA()}qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class e5{constructor(e){this.Ge=e,this.ze=new Map,this.je=aa(),this.He=mh(),this.Je=mh(),this.Ze=new Nt(Ye)}Xe(e){for(const r of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(e.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.Qe(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(ob(a))if(n===0){const s=new ke(a.path);this.et(r,s,Or.newNoDocument(s,Be.min()))}else lt(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const l=this.ut(e),c=l?this.ct(l,e,s):1;if(c!==0){this.it(r);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,f)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,l;try{s=io(n).toUint8Array()}catch(c){if(c instanceof gj)return ls("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new s1(s,i,a)}catch(c){return ls(c instanceof wc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const s=this.Ge.ht(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(r,a,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((a,s)=>{const l=this.ot(s);if(l){if(a.current&&ob(l.target)){const c=new ke(l.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Or.newNoDocument(c,e))}a.Be&&(r.set(s,a.ke()),a.Ke())}}));let n=Xe();this.Je.forEach(((a,s)=>{let l=!0;s.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(e)));const i=new vm(e,r,this.Ze,this.je,n);return this.je=aa(),this.He=mh(),this.Je=mh(),this.Ze=new Nt(Ye),i}Ye(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).qe(r.key,n),this.je=this.je.insert(r.key,r),this.He=this.He.insert(r.key,this.It(r.key).add(e)),this.Je=this.Je.insert(r.key,this.Rt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.qe(r,1):i.Ue(r),this.Je=this.Je.insert(r,this.Rt(r).delete(e)),this.Je=this.Je.insert(r,this.Rt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let r=this.ze.get(e);return r||(r=new XA,this.ze.set(e,r)),r}Rt(e){let r=this.Je.get(e);return r||(r=new tr(Ye),this.Je=this.Je.insert(e,r)),r}It(e){let r=this.He.get(e);return r||(r=new tr(Ye),this.He=this.He.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||we("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new XA),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function mh(){return new Nt(ke.comparator)}function QA(){return new Nt(ke.comparator)}const t5={asc:"ASCENDING",desc:"DESCENDING"},r5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n5={and:"AND",or:"OR"};class i5{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function ub(t,e){return t.useProto3Json||fm(e)?e:{value:e}}function rp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function a5(t,e){return rp(t,e.toTimestamp())}function gi(t){return lt(!!t,49232),Be.fromTimestamp((function(r){const n=no(r);return new At(n.seconds,n.nanos)})(t))}function u1(t,e){return lb(t,e).canonicalString()}function lb(t,e){const r=(function(i){return new St(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function Hj(t){const e=St.fromString(t);return lt(Qj(e),10190,{key:e.toString()}),e}function cb(t,e){return u1(t.databaseId,e.path)}function Fy(t,e){const r=Hj(e);if(r.get(1)!==t.databaseId.projectId)throw new Ie(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ie(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ke(Kj(r))}function Gj(t,e){return u1(t.databaseId,e)}function o5(t){const e=Hj(t);return e.length===4?St.emptyPath():Kj(e)}function fb(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Kj(t){return lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function JA(t,e,r){return{name:cb(t,e),fields:r.value.mapValue.fields}}function s5(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Me(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,h){return f.useProto3Json?(lt(h===void 0||typeof h=="string",58123),_r.fromBase64String(h||"")):(lt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),_r.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&(function(f){const h=f.code===void 0?fe.UNKNOWN:Uj(f.code);return new Ie(h,f.message||"")})(s);r=new zj(n,i,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Fy(t,n.document.name),a=gi(n.document.updateTime),s=n.document.createTime?gi(n.document.createTime):Be.min(),l=new xn({mapValue:{fields:n.document.fields}}),c=Or.newFoundDocument(i,a,s,l),f=n.targetIds||[],h=n.removedTargetIds||[];r=new $h(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Fy(t,n.document),a=n.readTime?gi(n.readTime):Be.min(),s=Or.newNoDocument(i,a),l=n.removedTargetIds||[];r=new $h([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Fy(t,n.document),a=n.removedTargetIds||[];r=new $h([],a,i,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new XB(i,a),l=n.targetId;r=new qj(l,s)}}return r}function u5(t,e){let r;if(e instanceof Vf)r={update:JA(t,e.key,e.value)};else if(e instanceof a1)r={delete:cb(t,e.key)};else if(e instanceof vs)r={update:JA(t,e.key,e.data),updateMask:y5(e.fieldMask)};else{if(!(e instanceof GB))return Me(16599,{dt:e.type});r={verify:cb(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,s){const l=s.transform;if(l instanceof Wc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Hc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Gc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof tp)return{fieldPath:s.field.canonicalString(),increment:l.Ae};throw Me(20930,{transform:s.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:a5(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Me(27497)})(t,e.precondition)),r}function l5(t,e){return t&&t.length>0?(lt(e!==void 0,14353),t.map((r=>(function(i,a){let s=i.updateTime?gi(i.updateTime):gi(a);return s.isEqual(Be.min())&&(s=gi(a)),new zB(s,i.transformResults||[])})(r,e)))):[]}function c5(t,e){return{documents:[Gj(t,e.path)]}}function f5(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Gj(t,i);const a=(function(f){if(f.length!==0)return Xj(wi.create(f,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const s=(function(f){if(f.length!==0)return f.map((h=>(function(y){return{field:mu(y.field),direction:p5(y.dir)}})(h)))})(e.orderBy);s&&(r.structuredQuery.orderBy=s);const l=ub(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:r,parent:i}}function d5(t){let e=o5(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){lt(n===1,65062);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];r.where&&(a=(function(m){const y=Yj(m);return y instanceof wi&&Aj(y)?y.getFilters():[y]})(r.where));let s=[];r.orderBy&&(s=(function(m){return m.map((y=>(function(S){return new ep(gu(S.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(y)))})(r.orderBy));let l=null;r.limit&&(l=(function(m){let y;return y=typeof m=="object"?m.value:m,fm(y)?null:y})(r.limit));let c=null;r.startAt&&(c=(function(m){const y=!!m.before,_=m.values||[];return new Zh(_,y)})(r.startAt));let f=null;return r.endAt&&(f=(function(m){const y=!m.before,_=m.values||[];return new Zh(_,y)})(r.endAt)),IB(e,i,s,a,l,"F",c,f)}function h5(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Yj(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=gu(r.unaryFilter.field);return Jt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=gu(r.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=gu(r.unaryFilter.field);return Jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=gu(r.unaryFilter.field);return Jt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(r){return Jt.create(gu(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return wi.create(r.compositeFilter.filters.map((n=>Yj(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(r.compositeFilter.op))})(t):Me(30097,{filter:t})}function p5(t){return t5[t]}function m5(t){return r5[t]}function g5(t){return n5[t]}function mu(t){return{fieldPath:t.canonicalString()}}function gu(t){return yr.fromServerFormat(t.fieldPath)}function Xj(t){return t instanceof Jt?(function(r){if(r.op==="=="){if($A(r.value))return{unaryFilter:{field:mu(r.field),op:"IS_NAN"}};if(VA(r.value))return{unaryFilter:{field:mu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if($A(r.value))return{unaryFilter:{field:mu(r.field),op:"IS_NOT_NAN"}};if(VA(r.value))return{unaryFilter:{field:mu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mu(r.field),op:m5(r.op),value:r.value}}})(t):t instanceof wi?(function(r){const n=r.getFilters().map((i=>Xj(i)));return n.length===1?n[0]:{compositeFilter:{op:g5(r.op),filters:n}}})(t):Me(54877,{filter:t})}function y5(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function Qj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Jj(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,r,n,i,a=Be.min(),s=Be.min(),l=_r.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.yt=e}}function x5(t){const e=d5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(){this.Sn=new b5}addToCollectionParentIndex(e,r){return this.Sn.add(r),ue.resolve()}getCollectionParents(e,r){return ue.resolve(this.Sn.getEntries(r))}addFieldIndex(e,r){return ue.resolve()}deleteFieldIndex(e,r){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,r){return ue.resolve()}getDocumentsMatchingTarget(e,r){return ue.resolve(null)}getIndexType(e,r){return ue.resolve(0)}getFieldIndexes(e,r){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,r){return ue.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,r){return ue.resolve(ro.min())}updateCollectionGroup(e,r,n){return ue.resolve()}updateIndexEntries(e,r){return ue.resolve()}}class b5{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new tr(St.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new tr(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zj=41943040;class qr{static withCacheSize(e){return new qr(e,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr.DEFAULT_COLLECTION_PERCENTILE=10,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qr.DEFAULT=new qr(Zj,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qr.DISABLED=new qr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Mu(0)}static ar(){return new Mu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="LruGarbageCollector",w5=1048576;function tP([t,e],[r,n]){const i=Ye(t,r);return i===0?Ye(e,n):i}class E5{constructor(e){this.Pr=e,this.buffer=new tr(tP),this.Tr=0}Ir(){return++this.Tr}Er(e){const r=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();tP(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class T5{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){we(eP,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){cl(r)?we(eP,"Ignoring IndexedDB error during garbage collection: ",r):await ll(r)}await this.Ar(3e5)}))}}class S5{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.dr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return ue.resolve(cm.ce);const n=new E5(r);return this.Vr.forEachTarget(e,(i=>n.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>n.Er(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.Vr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(ZA)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZA):this.gr(e,r)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,r){let n,i,a,s,l,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(n=m,l=Date.now(),this.removeTargets(e,n,r)))).next((m=>(a=m,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((m=>(f=Date.now(),hu()<=Ke.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m}))))}}function A5(t,e){return new S5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(){this.changes=new ys((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Or.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ue.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&jc(n.mutation,i,Fn.empty(),At.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Xe()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Xe()){const i=Go();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let s=bc();return a.forEach(((l,c)=>{s=s.insert(l,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,r){const n=Go();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Xe())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,l)=>{r.set(s,l)}))}))}computeViews(e,r,n,i){let a=aa();const s=Rc(),l=(function(){return Rc()})();return r.forEach(((c,f)=>{const h=n.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof vs)?a=a.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),jc(h.mutation,f,h.mutation.getFieldMask(),At.now())):s.set(f.key,Fn.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((f,h)=>s.set(f,h))),r.forEach(((f,h)=>l.set(f,new I5(h,s.get(f)??null)))),l)))}recalculateAndSaveOverlays(e,r){const n=Rc();let i=new Nt(((s,l)=>s-l)),a=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((s=>{for(const l of s)l.keys().forEach((c=>{const f=r.get(c);if(f===null)return;let h=n.get(c)||Fn.empty();h=l.applyToLocalView(f,h),n.set(c,h);const m=(i.get(l.batchId)||Xe()).add(c);i=i.insert(l.batchId,m)}))})).next((()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,h=c.value,m=jj();h.forEach((y=>{if(!a.has(y)){const _=Fj(r.get(y),n.get(y));_!==null&&m.set(y,_),a=a.add(y)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,m))}return ue.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return OB(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):CB(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):ue.resolve(Go());let l=Bc,c=a;return s.next((f=>ue.forEach(f,((h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(h)?ue.resolve():this.remoteDocumentCache.getEntry(e,h).next((y=>{c=c.insert(h,y)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,c,f,Xe()))).next((h=>({batchId:l,changes:Rj(h)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ke(r)).next((n=>{let i=bc();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=bc();return this.indexManager.getCollectionParents(e,a).next((l=>ue.forEach(l,(c=>{const f=(function(m,y){return new hm(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next((h=>{h.forEach(((m,y)=>{s=s.insert(m,y)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((s=>{a.forEach(((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,Or.newInvalidDocument(h)))}));let l=bc();return s.forEach(((c,f)=>{const h=a.get(c);h!==void 0&&jc(h.mutation,f,Fn.empty(),At.now()),mm(r,f)&&(l=l.insert(c,f))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,r){return ue.resolve(this.Nr.get(r))}saveBundleMetadata(e,r){return this.Nr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:gi(i.createTime)}})(r)),ue.resolve()}getNamedQuery(e,r){return ue.resolve(this.Br.get(r))}saveNamedQuery(e,r){return this.Br.set(r.name,(function(i){return{name:i.name,query:x5(i.bundledQuery),readTime:gi(i.readTime)}})(r)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(){this.overlays=new Nt(ke.comparator),this.Lr=new Map}getOverlay(e,r){return ue.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Go();return ue.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.bt(e,r,a)})),ue.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Lr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(n)),ue.resolve()}getOverlaysForCollection(e,r,n){const i=Go(),a=r.length+1,s=new ke(r.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Nt(((f,h)=>f-h));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let h=a.get(f.largestBatchId);h===null&&(h=Go(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=Go(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>l.set(f,h))),!(l.size()>=i)););return ue.resolve(l)}bt(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(n.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new YB(r,n));let a=this.Lr.get(r);a===void 0&&(a=Xe(),this.Lr.set(r,a)),this.Lr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this.sessionToken=_r.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.kr=new tr(sr.Kr),this.qr=new tr(sr.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,r){const n=new sr(e,r);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Wr(new sr(e,r))}Qr(e,r){e.forEach((n=>this.removeReference(n,r)))}Gr(e){const r=new ke(new St([])),n=new sr(r,e),i=new sr(r,e+1),a=[];return this.qr.forEachInRange([n,i],(s=>{this.Wr(s),a.push(s.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const r=new ke(new St([])),n=new sr(r,e),i=new sr(r,e+1);let a=Xe();return this.qr.forEachInRange([n,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const r=new sr(e,0),n=this.kr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class sr{constructor(e,r){this.key=e,this.Hr=r}static Kr(e,r){return ke.comparator(e.key,r.key)||Ye(e.Hr,r.Hr)}static Ur(e,r){return Ye(e.Hr,r.Hr)||ke.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Yn=1,this.Jr=new tr(sr.Kr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new KB(a,r,n,i);this.mutationQueue.push(s);for(const l of i)this.Jr=this.Jr.add(new sr(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ue.resolve(s)}lookupMutationBatch(e,r){return ue.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Xr(n),a=i<0?0:i;return ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Jw:this.Yn-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new sr(r,0),i=new sr(r,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([n,i],(s=>{const l=this.Zr(s.Hr);a.push(l)})),ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new tr(Ye);return r.forEach((i=>{const a=new sr(i,0),s=new sr(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],(l=>{n=n.add(l.Hr)}))})),ue.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;ke.isDocumentKey(a)||(a=a.child(""));const s=new sr(new ke(a),0);let l=new tr(Ye);return this.Jr.forEachWhile((c=>{const f=c.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Hr)),!0)}),s),ue.resolve(this.Yr(l))}Yr(e){const r=[];return e.forEach((n=>{const i=this.Zr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){lt(this.ei(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Jr;return ue.forEach(r.mutations,(i=>{const a=new sr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=n}))}nr(e){}containsKey(e,r){const n=new sr(r,0),i=this.Jr.firstAfterOrEqual(n);return ue.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ei(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.ti=e,this.docs=(function(){return new Nt(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ti(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ue.resolve(n?n.document.mutableCopy():Or.newInvalidDocument(r))}getEntries(e,r){let n=aa();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Or.newInvalidDocument(i))})),ue.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=aa();const s=r.path,l=new ke(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||aB(iB(h),n)<=0||(i.has(h.key)||mm(r,h))&&(a=a.insert(h.key,h.mutableCopy()))}return ue.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Me(9500)}ni(e,r){return ue.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new D5(this)}getSize(e){return ue.resolve(this.size)}}class D5 extends P5{constructor(e){super(),this.Mr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(n)})),ue.waitFor(r)}getFromCache(e,r){return this.Mr.getEntry(e,r)}getAllFromCache(e,r){return this.Mr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e){this.persistence=e,this.ri=new ys((r=>t1(r)),r1),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.ii=0,this.si=new l1,this.targetCount=0,this.oi=Mu._r()}forEachTarget(e,r){return this.ri.forEach(((n,i)=>r(i))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ii&&(this.ii=r),ue.resolve()}lr(e){this.ri.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.oi=new Mu(r),this.highestTargetId=r),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,r){return this.lr(r),this.targetCount+=1,ue.resolve()}updateTargetData(e,r){return this.lr(r),ue.resolve()}removeTargetData(e,r){return this.ri.delete(r.target),this.si.Gr(r.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.ri.forEach(((s,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),ue.waitFor(a).next((()=>i))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,r){const n=this.ri.get(r)||null;return ue.resolve(n)}addMatchingKeys(e,r,n){return this.si.$r(r,n),ue.resolve()}removeMatchingKeys(e,r,n){this.si.Qr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),ue.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.si.Gr(r),ue.resolve()}getMatchingKeysForTargetId(e,r){const n=this.si.jr(r);return ue.resolve(n)}containsKey(e,r){return ue.resolve(this.si.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,r){this._i={},this.overlays={},this.ai=new cm(0),this.ui=!1,this.ui=!0,this.ci=new N5,this.referenceDelegate=e(this),this.li=new M5(this),this.indexManager=new _5,this.remoteDocumentCache=(function(i){return new j5(i)})((n=>this.referenceDelegate.hi(n))),this.serializer=new v5(r),this.Pi=new C5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new k5,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this._i[e.toKey()];return n||(n=new R5(r,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,r,n){we("MemoryPersistence","Starting transaction:",e);const i=new L5(this.ai.next());return this.referenceDelegate.Ti(),n(i).next((a=>this.referenceDelegate.Ii(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,r){return ue.or(Object.values(this._i).map((n=>()=>n.containsKey(e,r))))}}class L5 extends sB{constructor(e){super(),this.currentSequenceNumber=e}}class c1{constructor(e){this.persistence=e,this.Ri=new l1,this.Ai=null}static Vi(e){return new c1(e)}get di(){if(this.Ai)return this.Ai;throw Me(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.di.delete(n.toString()),ue.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.di.add(n.toString()),ue.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),ue.resolve()}removeTarget(e,r){this.Ri.Gr(r.targetId).forEach((i=>this.di.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.di.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Ti(){this.Ai=new Set}Ii(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.di,(n=>{const i=ke.fromPath(n);return this.mi(e,i).next((a=>{a||r.removeEntry(i,Be.min())}))})).next((()=>(this.Ai=null,r.apply(e))))}updateLimboDocument(e,r){return this.mi(e,r).next((n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())}))}hi(e){return 0}mi(e,r){return ue.or([()=>ue.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class np{constructor(e,r){this.persistence=e,this.fi=new ys((n=>cB(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=A5(this,r)}static Vi(e,r){return new np(e,r)}Ti(){}Ii(e){return ue.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}pr(e){let r=0;return this.mr(e,(n=>{r++})).next((()=>r))}mr(e,r){return ue.forEach(this.fi,((n,i)=>this.wr(e,n,i).next((a=>a?ue.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,(s=>this.wr(e,s,r).next((l=>{l||(n++,a.removeEntry(s,Be.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.fi.set(r,e.currentSequenceNumber),ue.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}removeReference(e,r,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,r){return this.fi.set(r,e.currentSequenceNumber),ue.resolve()}hi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Mh(e.data.value)),r}wr(e,r,n){return ue.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.fi.get(r);return ue.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Ts=n,this.Is=i}static Es(e,r){let n=Xe(),i=Xe();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new f1(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return TV()?8:uB(Nr())>0?6:4})()}initialize(e,r){this.fs=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.gs(e,r).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ps(e,r,i,n).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new V5;return this.ys(e,r,s).next((l=>{if(a.result=l,this.As)return this.ws(e,r,s,l.size)}))})).next((()=>a.result))}ws(e,r,n,i){return n.documentReadCount<this.Vs?(hu()<=Ke.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",pu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ue.resolve()):(hu()<=Ke.DEBUG&&we("QueryEngine","Query:",pu(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ds*i?(hu()<=Ke.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",pu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(r))):ue.resolve())}gs(e,r){if(qA(r))return ue.resolve(null);let n=pi(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=sb(r,null,"F"),n=pi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const s=Xe(...a);return this.fs.getDocuments(e,s).next((l=>this.indexManager.getMinOffset(e,n).next((c=>{const f=this.bs(r,l);return this.Ss(r,f,s,c.readTime)?this.gs(e,sb(r,null,"F")):this.Ds(e,f,r,c)}))))})))))}ps(e,r,n,i){return qA(r)||i.isEqual(Be.min())?ue.resolve(null):this.fs.getDocuments(e,n).next((a=>{const s=this.bs(r,a);return this.Ss(r,s,n,i)?ue.resolve(null):(hu()<=Ke.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pu(r)),this.Ds(e,s,r,nB(i,Bc)).next((l=>l)))}))}bs(e,r){let n=new tr(kj(e));return r.forEach(((i,a)=>{mm(e,a)&&(n=n.add(a))})),n}Ss(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,r,n){return hu()<=Ke.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",pu(r)),this.fs.getDocumentsMatchingQuery(e,r,ro.min(),n)}Ds(e,r,n,i){return this.fs.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="LocalStore",F5=3e8;class B5{constructor(e,r,n,i){this.persistence=e,this.Cs=r,this.serializer=i,this.vs=new Nt(Ye),this.Fs=new ys((a=>t1(a)),r1),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new O5(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.vs)))}}function U5(t,e,r,n){return new B5(t,e,r,n)}async function tD(t,e){const r=qe(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Os(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const s=[],l=[];let c=Xe();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of a){l.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return r.localDocuments.getDocuments(n,c).next((f=>({Ns:f,removedBatchIds:s,addedBatchIds:l})))}))}))}function q5(t,e){const r=qe(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.xs.newChangeBuffer({trackRemovals:!0});return(function(l,c,f,h){const m=f.batch,y=m.keys();let _=ue.resolve();return y.forEach((S=>{_=_.next((()=>h.getEntry(c,S))).next((T=>{const b=f.docVersions.get(S);lt(b!==null,48541),T.version.compareTo(b)<0&&(m.applyToRemoteDocument(T,f),T.isValidDocument()&&(T.setReadTime(f.commitVersion),h.addEntry(T)))}))})),_.next((()=>l.mutationQueue.removeMutationBatch(c,m)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let c=Xe();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function rD(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.li.getLastRemoteSnapshotVersion(r)))}function z5(t,e){const r=qe(t),n=e.snapshotVersion;let i=r.vs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=r.xs.newChangeBuffer({trackRemovals:!0});i=r.vs;const l=[];e.targetChanges.forEach(((h,m)=>{const y=i.get(m);if(!y)return;l.push(r.li.removeMatchingKeys(a,h.removedDocuments,m).next((()=>r.li.addMatchingKeys(a,h.addedDocuments,m))));let _=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(_r.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,n)),i=i.insert(m,_),(function(T,b,k){return T.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=F5?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(y,_,h)&&l.push(r.li.updateTargetData(a,_))}));let c=aa(),f=Xe();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,h))})),l.push(W5(a,s,e.documentUpdates).next((h=>{c=h.Bs,f=h.Ls}))),!n.isEqual(Be.min())){const h=r.li.getLastRemoteSnapshotVersion(a).next((m=>r.li.setTargetsMetadata(a,a.currentSequenceNumber,n)));l.push(h)}return ue.waitFor(l).next((()=>s.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,c,f))).next((()=>c))})).then((a=>(r.vs=i,a)))}function W5(t,e,r){let n=Xe(),i=Xe();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let s=aa();return r.forEach(((l,c)=>{const f=a.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Be.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):we(d1,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)})),{Bs:s,Ls:i}}))}function H5(t,e){const r=qe(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=Jw),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function G5(t,e){const r=qe(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.li.getTargetData(n,e).next((a=>a?(i=a,ue.resolve(i)):r.li.allocateTargetId(n).next((s=>(i=new Ka(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.li.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.vs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.vs=r.vs.insert(n.targetId,n),r.Fs.set(e,n.targetId)),n}))}async function db(t,e,r){const n=qe(t),i=n.vs.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(s=>n.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!cl(s))throw s;we(d1,`Failed to update sequence numbers for target ${e}: ${s}`)}n.vs=n.vs.remove(e),n.Fs.delete(i.target)}function rP(t,e,r){const n=qe(t);let i=Be.min(),a=Xe();return n.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,f,h){const m=qe(c),y=m.Fs.get(h);return y!==void 0?ue.resolve(m.vs.get(y)):m.li.getTargetData(f,h)})(n,s,pi(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.li.getMatchingKeysForTargetId(s,l.targetId).next((c=>{a=c}))})).next((()=>n.Cs.getDocumentsMatchingQuery(s,e,r?i:Be.min(),r?a:Xe()))).next((l=>(K5(n,NB(e),l),{documents:l,ks:a})))))}function K5(t,e,r){let n=t.Ms.get(e)||Be.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.Ms.set(e,n)}class nP{constructor(){this.activeTargetIds=VB()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y5{constructor(){this.vo=new nP,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,r,n){this.Fo[e]=r}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new nP,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="ConnectivityMonitor";class aP{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){we(iP,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){we(iP,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh=null;function hb(){return gh===null?gh=(function(){return 268435456+Math.round(2147483648*Math.random())})():gh++,"0x"+gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="RestConnection",Q5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class J5{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=r+"://"+e.host,this.Uo=`projects/${n}/databases/${i}`,this.$o=this.databaseId.database===Qh?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Wo(e,r,n,i,a){const s=hb(),l=this.Qo(e,r.toUriEncodedString());we(By,`Sending RPC '${e}' ${s}:`,l,n);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,a);const{host:f}=new URL(l),h=al(f);return this.zo(e,l,c,n,h).then((m=>(we(By,`Received RPC '${e}' ${s}: `,m),m)),(m=>{throw ls(By,`RPC '${e}' ${s} failed with error: `,m,"url: ",l,"request:",n),m}))}jo(e,r,n,i,a,s){return this.Wo(e,r,n,i,a)}Go(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}Qo(e,r){const n=Q5[e];let i=`${this.qo}/v1/${r}:${n}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="WebChannelConnection",cc=(t,e,r)=>{t.listen(e,(n=>{try{r(n)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Tu extends J5{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Tu.c_){const e=uj();cc(e,sj.STAT_EVENT,(r=>{r.stat===tb.PROXY?we(Ar,"STAT_EVENT: detected buffering proxy"):r.stat===tb.NOPROXY&&we(Ar,"STAT_EVENT: detected no buffering proxy")})),Tu.c_=!0}}zo(e,r,n,i,a){const s=hb();return new Promise(((l,c)=>{const f=new aj;f.setWithCredentials(!0),f.listenOnce(oj.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Dh.NO_ERROR:const m=f.getResponseJson();we(Ar,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),l(m);break;case Dh.TIMEOUT:we(Ar,`RPC '${e}' ${s} timed out`),c(new Ie(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const y=f.getStatus();if(we(Ar,`RPC '${e}' ${s} failed with status:`,y,"response text:",f.getResponseText()),y>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_==null?void 0:_.error;if(S&&S.status&&S.message){const T=(function(k){const j=k.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(j)>=0?j:fe.UNKNOWN})(S.status);c(new Ie(T,S.message))}else c(new Ie(fe.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ie(fe.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{we(Ar,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);we(Ar,`RPC '${e}' ${s} sending request:`,i),f.send(r,"POST",h,n,15)}))}T_(e,r,n){const i=hb(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const f=a.join("");we(Ar,`Creating RPC '${e}' stream ${i}: ${f}`,l);const h=s.createWebChannel(f,l);this.I_(h);let m=!1,y=!1;const _=new Z5({Ho:S=>{y?we(Ar,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(we(Ar,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),we(Ar,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Jo:()=>h.close()});return cc(h,_c.EventType.OPEN,(()=>{y||(we(Ar,`RPC '${e}' stream ${i} transport opened.`),_.i_())})),cc(h,_c.EventType.CLOSE,(()=>{y||(y=!0,we(Ar,`RPC '${e}' stream ${i} transport closed`),_.o_(),this.E_(h))})),cc(h,_c.EventType.ERROR,(S=>{y||(y=!0,ls(Ar,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),_.o_(new Ie(fe.UNAVAILABLE,"The operation could not be completed")))})),cc(h,_c.EventType.MESSAGE,(S=>{var T;if(!y){const b=S.data[0];lt(!!b,16349);const k=b,j=(k==null?void 0:k.error)||((T=k[0])==null?void 0:T.error);if(j){we(Ar,`RPC '${e}' stream ${i} received error:`,j);const R=j.status;let M=(function(A){const O=qt[A];if(O!==void 0)return Uj(O)})(R),P=j.message;R==="NOT_FOUND"&&P.includes("database")&&P.includes("does not exist")&&P.includes(this.databaseId.database)&&ls(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),M===void 0&&(M=fe.INTERNAL,P="Unknown error status: "+R+" with message "+j.message),y=!0,_.o_(new Ie(M,P)),h.close()}else we(Ar,`RPC '${e}' stream ${i} received:`,b),_.__(b)}})),Tu.u_(),setTimeout((()=>{_.s_()}),0),_}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((r=>r===e))}Go(e,r,n){super.Go(e,r,n),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return lj()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(t){return new Tu(t)}function Uy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t){return new i5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tu.c_=!1;class nD{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=r,this.R_=n,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const r=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="PersistentStream";class iD{constructor(e,r,n,i,a,s,l,c){this.Ci=e,this.b_=n,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nD(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===fe.RESOURCE_EXHAUSTED?(ia(r.toString()),ia("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(r)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new Ie(fe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.Q_(this.D_);this.stream=this.j_(e,r),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.Yo((()=>{n((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(oP,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return r=>{this.Ci.enqueueAndForget((()=>this.D_===e?r():(we(oP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tU extends iD{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=s5(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Be.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Be.min():s.readTime?gi(s.readTime):Be.min()})(e);return this.listener.J_(r,n)}Z_(e){const r={};r.database=fb(this.serializer),r.addTarget=(function(a,s){let l;const c=s.target;if(l=ob(c)?{documents:c5(a,c)}:{query:f5(a,c).ft},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=Wj(a,s.resumeToken);const f=ub(a,s.expectedCount);f!==null&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(Be.min())>0){l.readTime=rp(a,s.snapshotVersion.toTimestamp());const f=ub(a,s.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const n=h5(this.serializer,e);n&&(r.labels=n),this.K_(r)}X_(e){const r={};r.database=fb(this.serializer),r.removeTarget=e,this.K_(r)}}class rU extends iD{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}H_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=l5(e.writeResults,e.commitTime),n=gi(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=fb(this.serializer),this.K_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>u5(this.serializer,n)))};this.K_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{}class iU extends nU{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ie(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Wo(e,lb(r,n),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ie(fe.UNKNOWN,a.toString())}))}jo(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.jo(e,lb(r,n),i,s,l,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(fe.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function aU(t,e,r,n){return new iU(t,e,r,n)}class oU{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ia(r),this.aa=!1):we("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="RemoteStore";class sU{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((s=>{n.enqueueAndForget((async()=>{xs(this)&&(we(cs,"Restarting streams for network reachability change."),await(async function(c){const f=qe(c);f.Ea.add(4),await Ff(f),f.Va.set("Unknown"),f.Ea.delete(4),await _m(f)})(this))}))})),this.Va=new oU(n,i)}}async function _m(t){if(xs(t))for(const e of t.Ra)await e(!0)}async function Ff(t){for(const e of t.Ra)await e(!1)}function aD(t,e){const r=qe(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),g1(r)?m1(r):fl(r).O_()&&p1(r,e))}function h1(t,e){const r=qe(t),n=fl(r);r.Ia.delete(e),n.O_()&&oD(r,e),r.Ia.size===0&&(n.O_()?n.L_():xs(r)&&r.Va.set("Unknown"))}function p1(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}fl(t).Z_(e)}function oD(t,e){t.da.$e(e),fl(t).X_(e)}function m1(t){t.da=new e5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fl(t).start(),t.Va.ua()}function g1(t){return xs(t)&&!fl(t).x_()&&t.Ia.size>0}function xs(t){return qe(t).Ea.size===0}function sD(t){t.da=void 0}async function uU(t){t.Va.set("Online")}async function lU(t){t.Ia.forEach(((e,r)=>{p1(t,e)}))}async function cU(t,e){sD(t),g1(t)?(t.Va.ha(e),m1(t)):t.Va.set("Unknown")}async function fU(t,e,r){if(t.Va.set("Online"),e instanceof zj&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ia.delete(l),i.da.removeTarget(l))})(t,e)}catch(n){we(cs,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await ip(t,n)}else if(e instanceof $h?t.da.Xe(e):e instanceof qj?t.da.st(e):t.da.tt(e),!r.isEqual(Be.min()))try{const n=await rD(t.localStore);r.compareTo(n)>=0&&await(function(a,s){const l=a.da.Tt(s);return l.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ia.get(f);h&&a.Ia.set(f,h.withResumeToken(c.resumeToken,s))}})),l.targetMismatches.forEach(((c,f)=>{const h=a.Ia.get(c);if(!h)return;a.Ia.set(c,h.withResumeToken(_r.EMPTY_BYTE_STRING,h.snapshotVersion)),oD(a,c);const m=new Ka(h.target,c,f,h.sequenceNumber);p1(a,m)})),a.remoteSyncer.applyRemoteEvent(l)})(t,r)}catch(n){we(cs,"Failed to raise snapshot:",n),await ip(t,n)}}async function ip(t,e,r){if(!cl(e))throw e;t.Ea.add(1),await Ff(t),t.Va.set("Offline"),r||(r=()=>rD(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(cs,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await _m(t)}))}function uD(t,e){return e().catch((r=>ip(t,r,e)))}async function bm(t){const e=qe(t),r=oo(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jw;for(;dU(e);)try{const i=await H5(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,hU(e,i)}catch(i){await ip(e,i)}lD(e)&&cD(e)}function dU(t){return xs(t)&&t.Ta.length<10}function hU(t,e){t.Ta.push(e);const r=oo(t);r.O_()&&r.Y_&&r.ea(e.mutations)}function lD(t){return xs(t)&&!oo(t).x_()&&t.Ta.length>0}function cD(t){oo(t).start()}async function pU(t){oo(t).ra()}async function mU(t){const e=oo(t);for(const r of t.Ta)e.ea(r.mutations)}async function gU(t,e,r){const n=t.Ta.shift(),i=o1.from(n,e,r);await uD(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await bm(t)}async function yU(t,e){e&&oo(t).Y_&&await(async function(n,i){if((function(s){return QB(s)&&s!==fe.ABORTED})(i.code)){const a=n.Ta.shift();oo(n).B_(),await uD(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await bm(n)}})(t,e),lD(t)&&cD(t)}async function sP(t,e){const r=qe(t);r.asyncQueue.verifyOperationInProgress(),we(cs,"RemoteStore received new credentials");const n=xs(r);r.Ea.add(3),await Ff(r),n&&r.Va.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await _m(r)}async function vU(t,e){const r=qe(t);e?(r.Ea.delete(2),await _m(r)):e||(r.Ea.add(2),await Ff(r),r.Va.set("Unknown"))}function fl(t){return t.ma||(t.ma=(function(r,n,i){const a=qe(r);return a.sa(),new tU(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:uU.bind(null,t),Yo:lU.bind(null,t),t_:cU.bind(null,t),J_:fU.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),g1(t)?m1(t):t.Va.set("Unknown")):(await t.ma.stop(),sD(t))}))),t.ma}function oo(t){return t.fa||(t.fa=(function(r,n,i){const a=qe(r);return a.sa(),new rU(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:pU.bind(null,t),t_:yU.bind(null,t),ta:mU.bind(null,t),na:gU.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await bm(t)):(await t.fa.stop(),t.Ta.length>0&&(we(cs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,l=new y1(e,r,s,i,a);return l.start(n),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v1(t,e){if(ia("AsyncQueue",`${e}: ${t}`),cl(t))return new Ie(fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{static emptySet(e){return new Su(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||ke.comparator(r.key,n.key):(r,n)=>ke.comparator(r.key,n.key),this.keyedMap=bc(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Su)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Su;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.ga=new Nt(ke.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Me(63341,{Vt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class Lu{constructor(e,r,n,i,a,s,l,c,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach((l=>{s.push({type:0,doc:l})})),new Lu(e,r,Su.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class _U{constructor(){this.queries=lP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=qe(r),a=i.queries;i.queries=lP(),a.forEach(((s,l)=>{for(const c of l.ba)c.onError(n)}))})(this,new Ie(fe.ABORTED,"Firestore shutting down"))}}function lP(){return new ys((t=>Cj(t)),pm)}async function bU(t,e){const r=qe(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.Sa()&&e.Da()&&(n=2):(a=new xU,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const l=v1(s,`Initialization of query '${pu(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,a),a.ba.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&x1(r)}async function wU(t,e){const r=qe(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.ba.indexOf(e);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function EU(t,e){const r=qe(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const l of s.ba)l.Fa(i)&&(n=!0);s.wa=i}}n&&x1(r)}function TU(t,e,r){const n=qe(t),i=n.queries.get(e);if(i)for(const a of i.ba)a.onError(r);n.queries.delete(e)}function x1(t){t.Ca.forEach((e=>{e.next()}))}var pb,cP;(cP=pb||(pb={})).Ma="default",cP.Cache="cache";class SU{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Lu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.Ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Lu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.key=e}}class dD{constructor(e){this.key=e}}class AU{constructor(e,r){this.query=e,this.Za=r,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xe(),this.mutatedKeys=Xe(),this.eu=kj(e),this.tu=new Su(this.eu)}get nu(){return this.Za}ru(e,r){const n=r?r.iu:new uP,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,m)=>{const y=i.get(h),_=mm(this.query,m)?m:null,S=!!y&&this.mutatedKeys.has(y.key),T=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let b=!1;y&&_?y.data.isEqual(_.data)?S!==T&&(n.track({type:3,doc:_}),b=!0):this.su(y,_)||(n.track({type:2,doc:_}),b=!0,(c&&this.eu(_,c)>0||f&&this.eu(_,f)<0)&&(l=!0)):!y&&_?(n.track({type:0,doc:_}),b=!0):y&&!_&&(n.track({type:1,doc:y}),b=!0,(c||f)&&(l=!0)),b&&(_?(s=s.add(_),a=T?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),n.track({type:1,doc:h})}return{tu:s,iu:n,Ss:l,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((h,m)=>(function(_,S){const T=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:b})}};return T(_)-T(S)})(h.type,m.type)||this.eu(h.doc,m.doc))),this.ou(n),i=i??!1;const l=r&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,f=c!==this.Xa;return this.Xa=c,s.length!==0||f?{snapshot:new Lu(this.query,e.tu,a,s,e.mutatedKeys,c===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uP,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Za=this.Za.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Za=this.Za.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Xe(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Ya=this.Ya.add(n.key))}));const r=[];return e.forEach((n=>{this.Ya.has(n)||r.push(new dD(n))})),this.Ya.forEach((n=>{e.has(n)||r.push(new fD(n))})),r}cu(e){this.Za=e.ks,this.Ya=Xe();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Lu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _1="SyncEngine";class PU{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class IU{constructor(e){this.key=e,this.hu=!1}}class OU{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ys((l=>Cj(l)),pm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Nt(ke.comparator),this.Au=new Map,this.Vu=new l1,this.du={},this.mu=new Map,this.fu=Mu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CU(t,e,r=!0){const n=vD(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await hD(n,e,r,!0),i}async function kU(t,e){const r=vD(t);await hD(r,e,!0,!1)}async function hD(t,e,r,n){const i=await G5(t.localStore,pi(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let l;return n&&(l=await NU(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&aD(t.remoteStore,i),l}async function NU(t,e,r,n,i){t.pu=(m,y,_)=>(async function(T,b,k,j){let R=b.view.ru(k);R.Ss&&(R=await rP(T.localStore,b.query,!1).then((({documents:A})=>b.view.ru(A,R))));const M=j&&j.targetChanges.get(b.targetId),P=j&&j.targetMismatches.get(b.targetId)!=null,C=b.view.applyChanges(R,T.isPrimaryClient,M,P);return dP(T,b.targetId,C.au),C.snapshot})(t,m,y,_);const a=await rP(t.localStore,e,!0),s=new AU(e,a.ks),l=s.ru(a.documents),c=$f.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=s.applyChanges(l,t.isPrimaryClient,c);dP(t,r,f.au);const h=new PU(e,r,s);return t.Tu.set(e,h),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),f.snapshot}async function RU(t,e,r){const n=qe(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter((s=>!pm(s,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await db(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&h1(n.remoteStore,i.targetId),mb(n,i.targetId)})).catch(ll)):(mb(n,i.targetId),await db(n.localStore,i.targetId,!0))}async function jU(t,e){const r=qe(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),h1(r.remoteStore,n.targetId))}async function DU(t,e,r){const n=UU(t);try{const i=await(function(s,l){const c=qe(s),f=At.now(),h=l.reduce(((_,S)=>_.add(S.key)),Xe());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let S=aa(),T=Xe();return c.xs.getEntries(_,h).next((b=>{S=b,S.forEach(((k,j)=>{j.isValidDocument()||(T=T.add(k))}))})).next((()=>c.localDocuments.getOverlayedDocuments(_,S))).next((b=>{m=b;const k=[];for(const j of l){const R=HB(j,m.get(j.key).overlayedDocument);R!=null&&k.push(new vs(j.key,R,Ej(R.value.mapValue),mi.exists(!0)))}return c.mutationQueue.addMutationBatch(_,f,k,l)})).next((b=>{y=b;const k=b.applyToLocalDocumentSet(m,T);return c.documentOverlayCache.saveOverlays(_,b.batchId,k)}))})).then((()=>({batchId:y.batchId,changes:Rj(m)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(s,l,c){let f=s.du[s.currentUser.toKey()];f||(f=new Nt(Ye)),f=f.insert(l,c),s.du[s.currentUser.toKey()]=f})(n,i.batchId,r),await Bf(n,i.changes),await bm(n.remoteStore)}catch(i){const a=v1(i,"Failed to persist write");r.reject(a)}}async function pD(t,e){const r=qe(t);try{const n=await z5(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=r.Au.get(a);s&&(lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?lt(s.hu,14607):i.removedDocuments.size>0&&(lt(s.hu,42227),s.hu=!1))})),await Bf(r,n,e)}catch(n){await ll(n)}}function fP(t,e,r){const n=qe(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((a,s)=>{const l=s.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(s,l){const c=qe(s);c.onlineState=l;let f=!1;c.queries.forEach(((h,m)=>{for(const y of m.ba)y.va(l)&&(f=!0)})),f&&x1(c)})(n.eventManager,e),i.length&&n.Pu.J_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function MU(t,e,r){const n=qe(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let s=new Nt(ke.comparator);s=s.insert(a,Or.newNoDocument(a,Be.min()));const l=Xe().add(a),c=new vm(Be.min(),new Map,new Nt(Ye),s,l);await pD(n,c),n.Ru=n.Ru.remove(a),n.Au.delete(e),b1(n)}else await db(n.localStore,e,!1).then((()=>mb(n,e,r))).catch(ll)}async function LU(t,e){const r=qe(t),n=e.batch.batchId;try{const i=await q5(r.localStore,e);gD(r,n,null),mD(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Bf(r,i)}catch(i){await ll(i)}}async function VU(t,e,r){const n=qe(t);try{const i=await(function(s,l){const c=qe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,l).next((m=>(lt(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(f,m)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(n.localStore,e);gD(n,e,r),mD(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Bf(n,i)}catch(i){await ll(i)}}function mD(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function gD(t,e,r){const n=qe(t);let i=n.du[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.du[n.currentUser.toKey()]=i}}function mb(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((n=>{t.Vu.containsKey(n)||yD(t,n)}))}function yD(t,e){t.Eu.delete(e.path.canonicalString());const r=t.Ru.get(e);r!==null&&(h1(t.remoteStore,r),t.Ru=t.Ru.remove(e),t.Au.delete(r),b1(t))}function dP(t,e,r){for(const n of r)n instanceof fD?(t.Vu.addReference(n.key,e),$U(t,n)):n instanceof dD?(we(_1,"Document no longer in limbo: "+n.key),t.Vu.removeReference(n.key,e),t.Vu.containsKey(n.key)||yD(t,n.key)):Me(19791,{wu:n})}function $U(t,e){const r=e.key,n=r.path.canonicalString();t.Ru.get(r)||t.Eu.has(n)||(we(_1,"New document in limbo: "+r),t.Eu.add(n),b1(t))}function b1(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new ke(St.fromString(e)),n=t.fu.next();t.Au.set(n,new IU(r)),t.Ru=t.Ru.insert(r,n),aD(t.remoteStore,new Ka(pi(n1(r.path)),n,"TargetPurposeLimboResolution",cm.ce))}}async function Bf(t,e,r){const n=qe(t),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach(((l,c)=>{s.push(n.pu(c,e,r).then((f=>{var h;if((f||r)&&n.isPrimaryClient){const m=f?!f.fromCache:(h=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:h.current;n.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(f){i.push(f);const m=f1.Es(c.targetId,f);a.push(m)}})))})),await Promise.all(s),n.Pu.J_(i),await(async function(c,f){const h=qe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>ue.forEach(f,(y=>ue.forEach(y.Ts,(_=>h.persistence.referenceDelegate.addReference(m,y.targetId,_))).next((()=>ue.forEach(y.Is,(_=>h.persistence.referenceDelegate.removeReference(m,y.targetId,_)))))))))}catch(m){if(!cl(m))throw m;we(d1,"Failed to update sequence numbers: "+m)}for(const m of f){const y=m.targetId;if(!m.fromCache){const _=h.vs.get(y),S=_.snapshotVersion,T=_.withLastLimboFreeSnapshotVersion(S);h.vs=h.vs.insert(y,T)}}})(n.localStore,a))}async function FU(t,e){const r=qe(t);if(!r.currentUser.isEqual(e)){we(_1,"User change. New user:",e.toKey());const n=await tD(r.localStore,e);r.currentUser=e,(function(a,s){a.mu.forEach((l=>{l.forEach((c=>{c.reject(new Ie(fe.CANCELLED,s))}))})),a.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Bf(r,n.Ns)}}function BU(t,e){const r=qe(t),n=r.Au.get(e);if(n&&n.hu)return Xe().add(n.key);{let i=Xe();const a=r.Iu.get(e);if(!a)return i;for(const s of a){const l=r.Tu.get(s);i=i.unionWith(l.view.nu)}return i}}function vD(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MU.bind(null,e),e.Pu.J_=EU.bind(null,e.eventManager),e.Pu.yu=TU.bind(null,e.eventManager),e}function UU(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VU.bind(null,e),e}class ap{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return U5(this.persistence,new $5,e.initialUser,this.serializer)}Cu(e){return new eD(c1.Vi,this.serializer)}Du(e){return new Y5}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ap.provider={build:()=>new ap};class qU extends ap{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){lt(this.persistence.referenceDelegate instanceof np,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new T5(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?qr.withCacheSize(this.cacheSizeBytes):qr.DEFAULT;return new eD((n=>np.Vi(n,r)),this.serializer)}}class gb{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>fP(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=FU.bind(null,this.syncEngine),await vU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _U})()}createDatastore(e){const r=xm(e.databaseInfo.databaseId),n=eU(e.databaseInfo);return aU(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,s,l){return new sU(n,i,a,s,l)})(this.localStore,this.datastore,e.asyncQueue,(r=>fP(this.syncEngine,r,0)),(function(){return aP.v()?new aP:new X5})())}createSyncEngine(e,r){return(function(i,a,s,l,c,f,h){const m=new OU(i,a,s,l,c,f);return h&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const a=qe(i);we(cs,"RemoteStore shutting down."),a.Ea.add(5),await Ff(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}gb.provider={build:()=>new gb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ia("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="FirestoreClient";class WU{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this._databaseInfo=i,this.user=Ir.UNAUTHENTICATED,this.clientId=Xw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async s=>{we(so,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(n,(s=>(we(so,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=v1(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function qy(t,e){t.asyncQueue.verifyOperationInProgress(),we(so,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await tD(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function hP(t,e){t.asyncQueue.verifyOperationInProgress();const r=await HU(t);we(so,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>sP(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>sP(e.remoteStore,i))),t._onlineComponents=e}async function HU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(so,"Using user provided OfflineComponentProvider");try{await qy(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;ls("Error using user provided cache. Falling back to memory cache: "+r),await qy(t,new ap)}}else we(so,"Using default OfflineComponentProvider"),await qy(t,new qU(void 0));return t._offlineComponents}async function xD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(so,"Using user provided OnlineComponentProvider"),await hP(t,t._uninitializedComponentsProvider._online)):(we(so,"Using default OnlineComponentProvider"),await hP(t,new gb))),t._onlineComponents}function GU(t){return xD(t).then((e=>e.syncEngine))}async function pP(t){const e=await xD(t),r=e.eventManager;return r.onListen=CU.bind(null,e.syncEngine),r.onUnlisten=RU.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=kU.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=jU.bind(null,e.syncEngine),r}function KU(t,e,r,n){const i=new zU(n),a=new SU(e,i,r);return t.asyncQueue.enqueueAndForget((async()=>bU(await pP(t),a))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>wU(await pP(t),a)))}}function YU(t,e){const r=new Zo;return t.asyncQueue.enqueueAndForget((async()=>DU(await GU(t),e,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU="ComponentProvider",mP=new Map;function QU(t,e,r,n,i){return new hB(t,e,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,_D(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="firestore.googleapis.com",gP=!0;class yP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bD,this.ssl=gP}else this.host=e.host,this.ssl=e.ssl??gP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w5)throw new Ie(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_D(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Ie(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Ie(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Ie(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wm{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new HF;switch(n.type){case"firstParty":return new XF(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ie(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=mP.get(r);n&&(we(XU,"Removing Datastore"),mP.delete(r),n.terminate())})(this),Promise.resolve()}}function JU(t,e,r,n={}){var f;t=es(t,wm);const i=al(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${r}`;i&&(_R(`https://${l}`),bR("Firestore",!0)),a.host!==bD&&a.host!==l&&ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:n};if(!as(c,s)&&(t._setSettings(c),n.mockUserToken)){let h,m;if(typeof n.mockUserToken=="string")h=n.mockUserToken,m=Ir.MOCK_USER;else{h=mV(n.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const y=n.mockUserToken.sub||n.mockUserToken.user_id;if(!y)throw new Ie(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ir(y)}t._authCredentials=new GF(new fj(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Em(this.firestore,e,this._query)}}class Zt{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}toJSON(){return{type:Zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Lf(r,Zt._jsonSchema))return new Zt(e,n||null,new ke(St.fromString(r.referencePath)))}}Zt._jsonSchemaVersion="firestore/documentReference/1.0",Zt._jsonSchema={type:Wt("string",Zt._jsonSchemaVersion),referencePath:Wt("string")};class eo extends Em{constructor(e,r,n){super(e,r,n1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new ke(e))}withConverter(e){return new eo(this.firestore,e,this._path)}}function ZU(t,e,...r){if(t=Wr(t),dj("collection","path",e),t instanceof wm){const n=St.fromString(e,...r);return CA(n),new eo(t,null,n)}{if(!(t instanceof Zt||t instanceof eo))throw new Ie(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(St.fromString(e,...r));return CA(n),new eo(t.firestore,null,n)}}function Fh(t,e,...r){if(t=Wr(t),arguments.length===1&&(e=Xw.newId()),dj("doc","path",e),t instanceof wm){const n=St.fromString(e,...r);return OA(n),new Zt(t,null,new ke(n))}{if(!(t instanceof Zt||t instanceof eo))throw new Ie(fe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(St.fromString(e,...r));return OA(n),new Zt(t.firestore,t instanceof eo?t.converter:null,new ke(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="AsyncQueue";class xP{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nD(this,"async_queue_retry"),this._c=()=>{const n=Uy();n&&we(vP,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=Uy();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=Uy();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Zo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!cl(e))throw e;we(vP,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,ia("INTERNAL UNHANDLED ERROR: ",_P(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=y1.createAndSchedule(this,e,r,n,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Me(47125,{Pc:_P(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function _P(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Kc extends wm{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new xP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xP(e),this._firestoreClient=void 0,await e}}}function e9(t,e){const r=typeof t=="object"?t:SR(),n=typeof t=="string"?t:Qh,i=Vw(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=hV("firestore");a&&JU(i,...a)}return i}function wD(t){if(t._terminated)throw new Ie(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||t9(t),t._firestoreClient}function t9(t){var n,i,a,s;const e=t._freezeSettings(),r=QU(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new WU(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _n(_r.fromBase64String(e))}catch(r){throw new Ie(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new _n(_r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lf(e,_n._jsonSchema))return _n.fromBase64String(e.bytes)}}_n._jsonSchemaVersion="firestore/bytes/1.0",_n._jsonSchema={type:Wt("string",_n._jsonSchemaVersion),bytes:Wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ie(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ie(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ie(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yi._jsonSchemaVersion}}static fromJSON(e){if(Lf(e,yi._jsonSchema))return new yi(e.latitude,e.longitude)}}yi._jsonSchemaVersion="firestore/geoPoint/1.0",yi._jsonSchema={type:Wt("string",yi._jsonSchemaVersion),latitude:Wt("number"),longitude:Wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lf(e,qn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new qn(e.vectorValues);throw new Ie(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qn._jsonSchemaVersion="firestore/vectorValue/1.0",qn._jsonSchema={type:Wt("string",qn._jsonSchemaVersion),vectorValues:Wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=/^__.*__$/;class n9{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,r,this.fieldTransforms):new Vf(e,this.data,r,this.fieldTransforms)}}function TD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{dataSource:t})}}class E1{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new E1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePathSegment(e),n}childContextForFieldPath(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePath(),n}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return op(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(TD(this.dataSource)&&r9.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class i9{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||xm(e)}createContext(e,r,n,i=!1){return new E1({dataSource:e,methodName:r,targetDoc:n,path:yr.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function a9(t){const e=t._freezeSettings(),r=xm(t._databaseId);return new i9(t._databaseId,!!e.ignoreUndefinedProperties,r)}function o9(t,e,r,n,i,a={}){const s=t.createContext(a.merge||a.mergeFields?2:0,e,r,i);ID("Data must be an object, but it was:",s,n);const l=AD(n,s);let c,f;if(a.merge)c=new Fn(s.fieldMask),f=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const m of a.mergeFields){const y=S1(e,m,r);if(!s.contains(y))throw new Ie(fe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);l9(h,y)||h.push(y)}c=new Fn(h),f=s.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,f=s.fieldTransforms;return new n9(new xn(l),c,f)}class T1 extends w1{_toFieldTransform(e){return new UB(e.path,new Wc)}isEqual(e){return e instanceof T1}}function SD(t,e){if(PD(t=Wr(t)))return ID("Unsupported field value:",e,t),AD(t,e);if(t instanceof w1)return(function(n,i){if(!TD(i.dataSource))throw i.createError(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(n,i){const a=[];let s=0;for(const l of n){let c=SD(l,i.childContextForArray(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=Wr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return $B(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=At.fromDate(n);return{timestampValue:rp(i.serializer,a)}}if(n instanceof At){const a=new At(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:rp(i.serializer,a)}}if(n instanceof yi)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof _n)return{bytesValue:Wj(i.serializer,n._byteString)};if(n instanceof Zt){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:u1(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof qn)return(function(s,l){const c=s instanceof qn?s.toArray():s;return{mapValue:{fields:{[bj]:{stringValue:wj},[Jh]:{arrayValue:{values:c.map((h=>{if(typeof h!="number")throw l.createError("VectorValues must only contain numeric values.");return i1(l.serializer,h)}))}}}}}})(n,i);if(Jj(n))return n._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Qw(n)}`)})(t,e)}function AD(t,e){const r={};return mj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(t,((n,i)=>{const a=SD(i,e.childContextForField(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function PD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof yi||t instanceof _n||t instanceof Zt||t instanceof w1||t instanceof qn||Jj(t))}function ID(t,e,r){if(!PD(r)||!hj(r)){const n=Qw(r);throw n==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+n)}}function S1(t,e,r){if((e=Wr(e))instanceof ED)return e._internalPath;if(typeof e=="string")return u9(t,e);throw op("Field path arguments must be of type string or ",t,!1,void 0,r)}const s9=new RegExp("[~\\*/\\[\\]]");function u9(t,e,r){if(e.search(s9)>=0)throw op(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new ED(...e.split("."))._internalPath}catch{throw op(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function op(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new Ie(fe.INVALID_ARGUMENT,l+t+c)}function l9(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{convertValue(e,r="none"){switch(ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return gs(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){var n,i,a;const r=(a=(i=(n=e.fields)==null?void 0:n[Jh].arrayValue)==null?void 0:i.values)==null?void 0:a.map((s=>Ft(s.doubleValue)));return new qn(r)}convertGeoPoint(e){return new yi(Ft(e.latitude),Ft(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=dm(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Uc(e));default:return null}}convertTimestamp(e){const r=no(e);return new At(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=St.fromString(e);lt(Qj(n),9688,{name:e});const i=new qc(n.get(1),n.get(3)),a=new ke(n.popFirst(5));return i.isEqual(r)||ia(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD extends c9{constructor(e){super(),this.firestore=e}convertBytes(e){return new _n(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,r)}}function yb(){return new T1("serverTimestamp")}const bP="@firebase/firestore",wP="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const r=this._document.data.field(S1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class f9 extends CD{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function h9(t,e,r){let n;return n=t?t.toFirestore(e):e,n}class Ec{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ts extends CD{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(S1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=ts._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",ts._jsonSchema={type:Wt("string",ts._jsonSchemaVersion),bundleSource:Wt("string","DocumentSnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class Bh extends ts{data(e={}){return super.data(e)}}class Au{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Ec(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new Bh(this._firestore,this._userDataWriter,n.key,n,new Ec(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ie(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((l=>{const c=new Bh(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ec(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const c=new Bh(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ec(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),h=s.indexOf(l.doc.key)),{type:p9(l.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Au._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function p9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Au._jsonSchemaVersion="firestore/querySnapshot/1.0",Au._jsonSchema={type:Wt("string",Au._jsonSchemaVersion),bundleSource:Wt("string","QuerySnapshot"),bundleName:Wt("string"),bundle:Wt("string")};function vb(t,e,r){t=es(t,Zt);const n=es(t.firestore,Kc),i=h9(t.converter,e),a=a9(n);return kD(n,[o9(a,"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,mi.none())])}function m9(t){return kD(es(t.firestore,Kc),[new a1(t._key,mi.none())])}function g9(t,...e){var f,h,m;t=Wr(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||EP(e[n])||(r=e[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(EP(e[n])){const y=e[n];e[n]=(f=y.next)==null?void 0:f.bind(y),e[n+1]=(h=y.error)==null?void 0:h.bind(y),e[n+2]=(m=y.complete)==null?void 0:m.bind(y)}let a,s,l;if(t instanceof Zt)s=es(t.firestore,Kc),l=n1(t._key.path),a={next:y=>{e[n]&&e[n](y9(s,t,y))},error:e[n+1],complete:e[n+2]};else{const y=es(t,Em);s=es(y.firestore,Kc),l=y._query;const _=new OD(s);a={next:S=>{e[n]&&e[n](new Au(s,_,y,S))},error:e[n+1],complete:e[n+2]},d9(t._query)}const c=wD(s);return KU(c,l,i,a)}function kD(t,e){const r=wD(t);return YU(r,e)}function y9(t,e,r){const n=r.docs.get(e._key),i=new OD(t);return new ts(t,i,e._key,n,new Ec(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){WF(ol),ku(new os("firestore",((n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),l=new Kc(new KF(n.getProvider("auth-internal")),new QF(s,n.getProvider("app-check-internal")),pB(s,i),s);return a={useFetchStreams:r,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),Ja(bP,wP,e),Ja(bP,wP,"esm2020")})();const v9={apiKey:"AIzaSyCLnLTVNRck2Ezz1z3VTTNobarWy7l_TMs",authDomain:"wanderplanner-dbee7.firebaseapp.com",projectId:"wanderplanner-dbee7",storageBucket:"wanderplanner-dbee7.firebasestorage.app",messagingSenderId:"151242477554",appId:"1:151242477554:web:f8a46861d6c46390dee56b"},ND=TR(v9),zy=BF(ND),Tc=e9(ND),x9=new Hi;function RD(){const[t,e]=H.useState(null),[r,n]=H.useState(!0);return H.useEffect(()=>O6(zy,l=>{e(l||!1),n(!1)}),[]),{user:t,authLoading:r,signInWithGoogle:async()=>{await X6(zy,x9)},signOutUser:async()=>{await C6(zy)}}}const sp=[{code:"PHP",symbol:"",name:"Philippine Peso"},{code:"USD",symbol:"$",name:"US Dollar"},{code:"SGD",symbol:"S$",name:"Singapore Dollar"},{code:"THB",symbol:"",name:"Thai Baht"},{code:"MYR",symbol:"RM",name:"Malaysian Ringgit"},{code:"EUR",symbol:"",name:"Euro"},{code:"GBP",symbol:"",name:"British Pound"},{code:"JPY",symbol:"",name:"Japanese Yen"},{code:"KRW",symbol:"",name:"Korean Won"},{code:"IDR",symbol:"Rp",name:"Indonesian Rupiah"}];function _9(t){const e=sp.find(r=>r.code===t);return e?e.symbol:t}function Ua(){return Date.now().toString(36)+Math.random().toString(36).slice(2,8)}function up(t,e="medium"){if(!t)return"";const r=new Date(t+"T00:00:00");if(isNaN(r.getTime()))return t;switch(e){case"short":return r.toLocaleDateString("en-US",{month:"short",day:"numeric"});case"medium":return r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});case"long":return r.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});case"full":return r.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});case"weekday":return r.toLocaleDateString("en-US",{weekday:"short"});default:return r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}}function A1(t,e){if(!t||!e)return"";const r=new Date(t+"T00:00:00"),n=new Date(e+"T00:00:00"),i=r.toLocaleDateString("en-US",{month:"short"}),a=n.toLocaleDateString("en-US",{month:"short"});return i===a?`${i} ${r.getDate()}${n.getDate()}, ${n.getFullYear()}`:`${i} ${r.getDate()}  ${a} ${n.getDate()}, ${n.getFullYear()}`}function sn(t,e="PHP"){return t==null||isNaN(t)?"":`${_9(e)}${Number(t).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`}function b9(t,e){if(!t||!e)return 0;const r=new Date(t+"T00:00:00"),n=new Date(e+"T00:00:00");return Math.round((n-r)/(1e3*60*60*24))+1}function w9(t){return JSON.parse(JSON.stringify(t))}function E9(t,e,r){return t===1?e:r||e+"s"}const ye={SET_ACTIVE_TRIP:"SET_ACTIVE_TRIP",ADD_TRIP:"ADD_TRIP",UPDATE_TRIP:"UPDATE_TRIP",DELETE_TRIP:"DELETE_TRIP",DUPLICATE_TRIP:"DUPLICATE_TRIP",RENAME_TRIP:"RENAME_TRIP",SET_TAB:"SET_TAB",TOGGLE_SIDEBAR:"TOGGLE_SIDEBAR",SET_SIDEBAR:"SET_SIDEBAR",SHOW_TOAST:"SHOW_TOAST",HIDE_TOAST:"HIDE_TOAST",TOGGLE_DARK_MODE:"TOGGLE_DARK_MODE",ADD_DAY:"ADD_DAY",REMOVE_DAY:"REMOVE_DAY",UPDATE_DAY:"UPDATE_DAY",ADD_ACTIVITY:"ADD_ACTIVITY",UPDATE_ACTIVITY:"UPDATE_ACTIVITY",DELETE_ACTIVITY:"DELETE_ACTIVITY",ADD_BOOKING:"ADD_BOOKING",UPDATE_BOOKING:"UPDATE_BOOKING",DELETE_BOOKING:"DELETE_BOOKING",CYCLE_BOOKING_STATUS:"CYCLE_BOOKING_STATUS",UPDATE_BUDGET_CATEGORY:"UPDATE_BUDGET_CATEGORY",ADD_BUDGET_CATEGORY:"ADD_BUDGET_CATEGORY",DELETE_BUDGET_CATEGORY:"DELETE_BUDGET_CATEGORY",ADD_SPENDING:"ADD_SPENDING",DELETE_SPENDING:"DELETE_SPENDING",ADD_TODO:"ADD_TODO",TOGGLE_TODO:"TOGGLE_TODO",UPDATE_TODO:"UPDATE_TODO",DELETE_TODO:"DELETE_TODO",ADD_PACKING_ITEM:"ADD_PACKING_ITEM",TOGGLE_PACKING_ITEM:"TOGGLE_PACKING_ITEM",DELETE_PACKING_ITEM:"DELETE_PACKING_ITEM",RESET_PACKING:"RESET_PACKING",UPDATE_CITY:"UPDATE_CITY",UPDATE_NOTES:"UPDATE_NOTES",SET_TRIPS_FROM_FIRESTORE:"SET_TRIPS_FROM_FIRESTORE"},Wy=["not_started","in_progress","booked"];function mt(t,e,r){const n={...t.trips},i=n[e];return i?(n[e]=typeof r=="function"?r(i):{...i,...r},{...t,trips:n}):t}function T9(t,e){const{type:r,payload:n}=e,i=t.activeTripId;switch(r){case ye.SET_ACTIVE_TRIP:return{...t,activeTripId:n,activeTab:"overview"};case ye.ADD_TRIP:{const a={...t.trips,[n.id]:n};return{...t,trips:a,activeTripId:n.id,activeTab:"overview"}}case ye.UPDATE_TRIP:return mt(t,n.id,n.updates);case ye.DELETE_TRIP:{const a={...t.trips};delete a[n];const s=Object.keys(a);return{...t,trips:a,activeTripId:s.length>0?s[0]:null,activeTab:"overview"}}case ye.DUPLICATE_TRIP:{const a=t.trips[n];if(!a)return t;const s=Ua(),l=w9(a);return l.id=s,l.name=a.name+" (Copy)",l.createdAt=new Date().toISOString(),{...t,trips:{...t.trips,[s]:l},activeTripId:s}}case ye.RENAME_TRIP:return mt(t,n.id,{name:n.name});case ye.SET_TAB:return{...t,activeTab:n};case ye.TOGGLE_SIDEBAR:return{...t,sidebarOpen:!t.sidebarOpen};case ye.SET_SIDEBAR:return{...t,sidebarOpen:n};case ye.SHOW_TOAST:return{...t,toast:{message:n.message,type:n.type||"success",visible:!0}};case ye.HIDE_TOAST:return{...t,toast:{...t.toast,visible:!1}};case ye.TOGGLE_DARK_MODE:return{...t,darkMode:!t.darkMode};case ye.ADD_DAY:return mt(t,i,a=>({...a,itinerary:[...a.itinerary,{id:Ua(),date:n.date||"",dayNumber:a.itinerary.length+1,location:n.location||"",emoji:n.emoji||"",activities:[],notes:""}]}));case ye.REMOVE_DAY:return mt(t,i,a=>({...a,itinerary:a.itinerary.filter(s=>s.id!==n).map((s,l)=>({...s,dayNumber:l+1}))}));case ye.UPDATE_DAY:return mt(t,i,a=>({...a,itinerary:a.itinerary.map(s=>s.id===n.dayId?{...s,...n.updates}:s)}));case ye.ADD_ACTIVITY:return mt(t,i,a=>({...a,itinerary:a.itinerary.map(s=>s.id===n.dayId?{...s,activities:[...s.activities,{id:Ua(),time:"",name:"",emoji:"",notes:"",...n.activity}]}:s)}));case ye.UPDATE_ACTIVITY:return mt(t,i,a=>({...a,itinerary:a.itinerary.map(s=>s.id===n.dayId?{...s,activities:s.activities.map(l=>l.id===n.activityId?{...l,...n.updates}:l)}:s)}));case ye.DELETE_ACTIVITY:return mt(t,i,a=>({...a,itinerary:a.itinerary.map(s=>s.id===n.dayId?{...s,activities:s.activities.filter(l=>l.id!==n.activityId)}:s)}));case ye.ADD_BOOKING:return mt(t,i,a=>({...a,bookings:[...a.bookings,{id:Ua(),status:"not_started",priority:!1,amountPaid:0,confirmationNumber:"",currency:a.currency,...n}]}));case ye.UPDATE_BOOKING:return mt(t,i,a=>({...a,bookings:a.bookings.map(s=>s.id===n.id?{...s,...n.updates}:s)}));case ye.DELETE_BOOKING:return mt(t,i,a=>({...a,bookings:a.bookings.filter(s=>s.id!==n)}));case ye.CYCLE_BOOKING_STATUS:return mt(t,i,a=>({...a,bookings:a.bookings.map(s=>{if(s.id!==n)return s;const l=Wy.indexOf(s.status),c=Wy[(l+1)%Wy.length];return{...s,status:c}})}));case ye.UPDATE_BUDGET_CATEGORY:return mt(t,i,a=>({...a,budget:a.budget.map(s=>s.id===n.id?{...s,...n.updates}:s)}));case ye.ADD_BUDGET_CATEGORY:return mt(t,i,a=>({...a,budget:[...a.budget,{id:Ua(),name:n.name||"New Category",emoji:n.emoji||"",min:0,max:0,actual:0}]}));case ye.DELETE_BUDGET_CATEGORY:return mt(t,i,a=>({...a,budget:a.budget.filter(s=>s.id!==n)}));case ye.ADD_SPENDING:return mt(t,i,a=>({...a,spendingLog:[...a.spendingLog,{id:Ua(),date:new Date().toISOString().slice(0,10),...n}]}));case ye.DELETE_SPENDING:return mt(t,i,a=>({...a,spendingLog:a.spendingLog.filter(s=>s.id!==n)}));case ye.ADD_TODO:return mt(t,i,a=>({...a,todos:[...a.todos,{id:Ua(),done:!1,priority:"normal",dueDate:"",category:"Misc",...n}]}));case ye.TOGGLE_TODO:return mt(t,i,a=>({...a,todos:a.todos.map(s=>s.id===n?{...s,done:!s.done}:s)}));case ye.UPDATE_TODO:return mt(t,i,a=>({...a,todos:a.todos.map(s=>s.id===n.id?{...s,...n.updates}:s)}));case ye.DELETE_TODO:return mt(t,i,a=>({...a,todos:a.todos.filter(s=>s.id!==n)}));case ye.ADD_PACKING_ITEM:return mt(t,i,a=>({...a,packingList:[...a.packingList,{id:Ua(),packed:!1,section:"Misc",...n}]}));case ye.TOGGLE_PACKING_ITEM:return mt(t,i,a=>({...a,packingList:a.packingList.map(s=>s.id===n?{...s,packed:!s.packed}:s)}));case ye.DELETE_PACKING_ITEM:return mt(t,i,a=>({...a,packingList:a.packingList.filter(s=>s.id!==n)}));case ye.RESET_PACKING:return mt(t,i,a=>({...a,packingList:a.packingList.map(s=>({...s,packed:!1}))}));case ye.UPDATE_CITY:return mt(t,i,a=>({...a,cities:a.cities.map(s=>s.id===n.id?{...s,...n.updates}:s)}));case ye.UPDATE_NOTES:return mt(t,i,{notes:n});case ye.SET_TRIPS_FROM_FIRESTORE:{const a=n,s=Object.keys(a),l=t.activeTripId,c=l&&a[l]?l:s.length>0?s[0]:null;return{...t,trips:a,activeTripId:c}}default:return t}}const TP={id:"sea-adventure-2026",name:"Val & Partner's SEA Adventure",emoji:"",destinations:[{city:"Cebu",country:"Philippines",flag:""},{city:"Singapore",country:"Singapore",flag:""},{city:"Koh Samui",country:"Thailand",flag:""},{city:"Kuala Lumpur",country:"Malaysia",flag:""},{city:"Cebu",country:"Philippines",flag:""}],startDate:"2026-11-14",endDate:"2026-11-22",travelers:2,currency:"PHP",createdAt:"2025-01-01T00:00:00.000Z",itinerary:[{id:"day-1",date:"2026-11-14",dayNumber:1,location:"Cebu  Singapore",emoji:"",activities:[{id:"a1",time:"06:00",name:"Depart Cebu (Mactan)",emoji:"",notes:"Early morning flight"},{id:"a2",time:"12:00",name:"Arrive Singapore Changi",emoji:"",notes:"Collect bags, get EZ-Link card at airport"},{id:"a3",time:"14:00",name:"Check in to hotel",emoji:"",notes:"Near Marina Bay area"},{id:"a4",time:"16:00",name:"Gardens by the Bay",emoji:"",notes:"Cloud Forest + Flower Dome"},{id:"a5",time:"19:00",name:"Dinner at Lau Pa Sat",emoji:"",notes:"Hawker centre, try satay street"}],notes:"Travel day  take it easy in the evening"},{id:"day-2",date:"2026-11-15",dayNumber:2,location:"Singapore",emoji:"",activities:[{id:"a6",time:"09:00",name:"Marina Bay Sands area",emoji:"",notes:"ArtScience Museum, Merlion"},{id:"a7",time:"12:00",name:"Lunch at Maxwell Food Centre",emoji:"",notes:"Tian Tian chicken rice"},{id:"a8",time:"14:00",name:"Chinatown & Little India",emoji:"",notes:"Walking tour, temples, spice market"},{id:"a9",time:"17:00",name:"Orchard Road shopping",emoji:"",notes:"ION Orchard, Takashimaya"},{id:"a10",time:"20:00",name:"Spectra Light Show",emoji:"",notes:"Free show at Marina Bay, 8pm & 9pm"}],notes:"Full Singapore day  wear comfy shoes"},{id:"day-3",date:"2026-11-16",dayNumber:3,location:"Singapore  Koh Samui",emoji:"",activities:[{id:"a11",time:"08:00",name:"Breakfast at hotel",emoji:"",notes:""},{id:"a12",time:"10:00",name:"Last-minute Singapore shopping",emoji:"",notes:""},{id:"a13",time:"14:00",name:"Fly Singapore  Koh Samui",emoji:"",notes:"Afternoon flight"},{id:"a14",time:"17:00",name:"Check in Karma Resort",emoji:"",notes:"Beachfront resort"},{id:"a15",time:"19:00",name:"Beach sunset dinner",emoji:"",notes:"Fresh seafood on the beach"}],notes:"Transit day  Singapore to Thailand"},{id:"day-4",date:"2026-11-17",dayNumber:4,location:"Koh Samui",emoji:"",activities:[{id:"a16",time:"08:00",name:"Beach morning & swim",emoji:"",notes:"Chaweng Beach"},{id:"a17",time:"11:00",name:"Four Seasons Day Pass",emoji:"",notes:"Pool, beach, spa  day pass for 2"},{id:"a18",time:"15:00",name:"Explore Fisherman's Village",emoji:"",notes:"Bophut area, cute shops and cafs"},{id:"a19",time:"19:00",name:"Thai dinner on the beach",emoji:"",notes:"Pad Thai, green curry, mango sticky rice"}],notes:"Relaxation day  Four Seasons is the highlight!"},{id:"day-5",date:"2026-11-18",dayNumber:5,location:"Koh Samui",emoji:"",activities:[{id:"a20",time:"09:00",name:"Island tour",emoji:"",notes:"Na Muang Waterfall, Big Buddha, Secret Garden"},{id:"a21",time:"13:00",name:"Lunch at local spot",emoji:"",notes:""},{id:"a22",time:"15:00",name:"Snorkeling trip",emoji:"",notes:"Ang Thong National Marine Park or local reef"},{id:"a23",time:"19:00",name:"Night market",emoji:"",notes:"Lamai or Chaweng night market"}],notes:"Adventure day  bring waterproof phone case"},{id:"day-6",date:"2026-11-19",dayNumber:6,location:"Koh Samui  Kuala Lumpur",emoji:"",activities:[{id:"a24",time:"08:00",name:"Last beach morning",emoji:"",notes:""},{id:"a25",time:"11:00",name:"Check out Karma Resort",emoji:"",notes:""},{id:"a26",time:"13:00",name:"Fly Koh Samui  Kuala Lumpur",emoji:"",notes:"Afternoon flight"},{id:"a27",time:"17:00",name:"Check in KL hotel near Stadium Merdeka",emoji:"",notes:"Walking distance to concert venue!"},{id:"a28",time:"19:00",name:"Jalan Alor street food",emoji:"",notes:"Must-try: satay, char kway teow, durian"}],notes:"Transit day  Thailand to Malaysia"},{id:"day-7",date:"2026-11-20",dayNumber:7,location:"Kuala Lumpur",emoji:"",activities:[{id:"a29",time:"10:00",name:"Petronas Twin Towers + KLCC",emoji:"",notes:"Book skybridge tickets in advance"},{id:"a30",time:"13:00",name:"Lunch at Nasi Kandar",emoji:"",notes:""},{id:"a31",time:"15:00",name:"Pre-concert prep & rest",emoji:"",notes:"Charge phones, pick outfits, eat early"},{id:"a32",time:"17:00",name:" MCR CONCERT @ Stadium Merdeka",emoji:"",notes:"Gates open ~5pm, show ~8pm. THE main event!"}],notes:" CONCERT DAY! My Chemical Romance at Stadium Merdeka!"},{id:"day-8",date:"2026-11-21",dayNumber:8,location:"Kuala Lumpur",emoji:"",activities:[{id:"a33",time:"10:00",name:"Sleep in (post-concert recovery)",emoji:"",notes:""},{id:"a34",time:"12:00",name:"Batu Caves",emoji:"",notes:"272 colorful steps, Hindu temple"},{id:"a35",time:"15:00",name:"Central Market & Petaling Street",emoji:"",notes:"Souvenirs, batik, street art"},{id:"a36",time:"18:00",name:"Dinner at Pavilion KL",emoji:"",notes:""},{id:"a37",time:"20:00",name:"KL Tower night view",emoji:"",notes:"Amazing city views at night"}],notes:"Recovery day after the concert  take it chill"},{id:"day-9",date:"2026-11-22",dayNumber:9,location:"Kuala Lumpur  Cebu",emoji:"",activities:[{id:"a38",time:"08:00",name:"Pack & check out",emoji:"",notes:""},{id:"a39",time:"10:00",name:"Last KL breakfast  roti canai",emoji:"",notes:""},{id:"a40",time:"13:00",name:"Fly Kuala Lumpur  Cebu",emoji:"",notes:"Afternoon flight home"},{id:"a41",time:"18:00",name:"Arrive home ",emoji:"",notes:"End of an amazing trip!"}],notes:"Homeward bound  what a trip! "}],bookings:[{id:"b1",name:"Cebu  Singapore flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b2",name:"Singapore  Koh Samui flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b3",name:"Koh Samui  Kuala Lumpur flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b4",name:"Kuala Lumpur  Cebu flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b5",name:"Singapore hotel, 2 nights",category:"hotel",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-01",priority:!1,currency:"PHP"},{id:"b6",name:"Karma Resort, Koh Samui, 3 nights",category:"hotel",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-01",priority:!1,currency:"PHP"},{id:"b7",name:"KL hotel near Stadium Merdeka, 3 nights",category:"hotel",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-01",priority:!1,currency:"PHP"},{id:"b8",name:"Four Seasons day pass, 2 pax",category:"experience",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-15",priority:!1,currency:"PHP"},{id:"b9",name:"MCR Concert tickets, 2 pax",category:"concert",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"",priority:!0,currency:"PHP"}],todos:[{id:"t1",text:"Apply for Malaysia e-NTL",category:"Admin",done:!1,dueDate:"2026-10-01",priority:"high"},{id:"t2",text:"Check Thailand visa requirements",category:"Admin",done:!1,dueDate:"2026-10-01",priority:"high"},{id:"t3",text:"Get travel insurance for 2 people",category:"Admin",done:!1,dueDate:"2026-10-15",priority:"high"},{id:"t4",text:"Notify bank about international transactions",category:"Finances",done:!1,dueDate:"2026-11-01",priority:"normal"},{id:"t5",text:"Download offline maps: Singapore, Koh Samui, KL",category:"Tech",done:!1,dueDate:"2026-11-10",priority:"normal"},{id:"t6",text:"Exchange/load PHP to SGD, THB, MYR",category:"Finances",done:!1,dueDate:"2026-11-10",priority:"normal"},{id:"t7",text:"Check baggage allowance for all flights",category:"Admin",done:!1,dueDate:"2026-09-15",priority:"normal"},{id:"t8",text:"Research Four Seasons day pass booking process",category:"Admin",done:!1,dueDate:"2026-10-01",priority:"normal"},{id:"t9",text:"Buy portable charger / power bank",category:"Tech",done:!1,dueDate:"2026-11-01",priority:"normal"},{id:"t10",text:"Set up roaming or buy local SIMs plan",category:"Tech",done:!1,dueDate:"2026-11-10",priority:"normal"}],budget:[{id:"bg1",name:"Flights",emoji:"",min:44200,max:55600,actual:0},{id:"bg2",name:"Accommodation",emoji:"",min:39e3,max:71e3,actual:0},{id:"bg3",name:"Four Seasons Day Pass",emoji:"",min:11200,max:16800,actual:0},{id:"bg4",name:"MCR Concert Tickets",emoji:"",min:15e3,max:3e4,actual:0},{id:"bg5",name:"Other Expenses",emoji:"",min:47e3,max:61e3,actual:0}],spendingLog:[],packingList:[{id:"p1",name:"Passports (2)",section:"Documents",packed:!1},{id:"p2",name:"Travel insurance printouts",section:"Documents",packed:!1},{id:"p3",name:"Flight confirmations (printed)",section:"Documents",packed:!1},{id:"p4",name:"Hotel confirmations",section:"Documents",packed:!1},{id:"p5",name:"MCR concert tickets / QR codes",section:"Documents",packed:!1},{id:"p6",name:"Malaysia e-NTL printout",section:"Documents",packed:!1},{id:"p7",name:"T-shirts (6)",section:"Clothing",packed:!1},{id:"p8",name:"Shorts (3)",section:"Clothing",packed:!1},{id:"p9",name:"Light pants (2)",section:"Clothing",packed:!1},{id:"p10",name:"Swimwear (2)",section:"Clothing",packed:!1},{id:"p11",name:"Comfortable walking shoes",section:"Clothing",packed:!1},{id:"p12",name:"Flip flops / sandals",section:"Clothing",packed:!1},{id:"p13",name:"Light rain jacket",section:"Clothing",packed:!1},{id:"p14",name:"Underwear & socks",section:"Clothing",packed:!1},{id:"p15",name:"Sleepwear",section:"Clothing",packed:!1},{id:"p16",name:"Phone + charger",section:"Tech",packed:!1},{id:"p17",name:"Power bank (20,000mAh)",section:"Tech",packed:!1},{id:"p18",name:"Universal travel adapter",section:"Tech",packed:!1},{id:"p19",name:"Camera + SD cards",section:"Tech",packed:!1},{id:"p20",name:"Earphones / AirPods",section:"Tech",packed:!1},{id:"p21",name:"MCR concert outfit ",section:"Concert Essentials",packed:!1},{id:"p22",name:"Comfortable concert shoes",section:"Concert Essentials",packed:!1},{id:"p23",name:"Small crossbody bag",section:"Concert Essentials",packed:!1},{id:"p24",name:"Earplugs (for hearing protection)",section:"Concert Essentials",packed:!1},{id:"p25",name:"Sunscreen SPF 50",section:"Toiletries",packed:!1},{id:"p26",name:"Insect repellent",section:"Toiletries",packed:!1},{id:"p27",name:"Basic first aid kit",section:"Toiletries",packed:!1},{id:"p28",name:"Toothbrush & toothpaste",section:"Toiletries",packed:!1},{id:"p29",name:"Deodorant",section:"Toiletries",packed:!1},{id:"p30",name:"Medication / vitamins",section:"Toiletries",packed:!1},{id:"p31",name:"Daypack / small backpack",section:"Misc",packed:!1},{id:"p32",name:"Reusable water bottle",section:"Misc",packed:!1},{id:"p33",name:"Packing cubes",section:"Misc",packed:!1},{id:"p34",name:"Neck pillow for flights",section:"Misc",packed:!1},{id:"p35",name:"Snacks for travel days",section:"Misc",packed:!1}],cities:[{id:"c1",city:"Singapore",country:"Singapore",flag:"",highlights:"Marina Bay, Gardens by the Bay, hawker food culture",mustDo:"Eat at a hawker centre, see the Supertree light show",weather:"Hot & humid year-round, 27-32C. Rain possible anytime.",currencyTip:"SGD. Cashless-friendly, cards accepted everywhere.",notes:""},{id:"c2",city:"Koh Samui",country:"Thailand",flag:"",highlights:"Beautiful beaches, luxury resorts, island vibes",mustDo:"Visit Big Buddha, snorkel at Ang Thong, Four Seasons day pass",weather:"November is end of monsoon season. Expect some rain, 26-30C.",currencyTip:"THB. Cash is king for street food and markets.",notes:""},{id:"c3",city:"Kuala Lumpur",country:"Malaysia",flag:"",highlights:"Petronas Towers, Batu Caves, incredible food scene",mustDo:"Jalan Alor street food, Petronas Towers skybridge, MCR concert!",weather:"Hot & humid, 27-33C. Afternoon thunderstorms common.",currencyTip:"MYR. Very affordable. Cards widely accepted in malls.",notes:""}],notes:"This trip is our big Southeast Asia adventure  the MCR concert in KL is the anchor event. Build the rest of the trip around it!"};function S9(t={}){return{id:t.id||Date.now().toString(36)+Math.random().toString(36).slice(2,8),name:t.name||"New Trip",emoji:t.emoji||"",destinations:t.destinations||[],startDate:t.startDate||"",endDate:t.endDate||"",travelers:t.travelers||1,currency:t.currency||"PHP",createdAt:new Date().toISOString(),itinerary:[],bookings:[],todos:[],budget:t.budget||[],spendingLog:[],packingList:[],cities:[],notes:"",...t}}const Sc="trips",lp="wanderplan_data",SP="wanderplan_migrated";function A9(){let t=!1;try{const e=localStorage.getItem(lp);e&&(t=JSON.parse(e).darkMode||!1)}catch{}return{trips:{},activeTripId:null,activeTab:"overview",sidebarOpen:!1,darkMode:t,toast:{message:"",type:"success",visible:!1}}}async function P9(){if(localStorage.getItem(SP))return!1;try{const t=localStorage.getItem(lp);if(!t)return!1;const e=JSON.parse(t);if(!e.trips||Object.keys(e.trips).length===0)return!1;const r=Object.values(e.trips);return await Promise.all(r.map(n=>vb(Fh(Tc,Sc,n.id),{...n,_updatedAt:yb()}))),localStorage.setItem(SP,"true"),console.log(`[Wanderplan] Migrated ${r.length} trip(s) from localStorage  Firestore`),!0}catch(t){return console.warn("[Wanderplan] Migration failed:",t),!1}}function I9(){const[t,e]=H.useReducer(T9,null,A9),[r,n]=H.useState(!0),i=H.useRef({}),a=H.useRef(!1);H.useEffect(()=>{const f=ZU(Tc,Sc);return g9(f,async m=>{const y={};if(m.forEach(S=>{const{_updatedAt:T,...b}=S.data();y[S.id]=b}),Object.keys(i.current).length===0&&Object.keys(y).length===0){if(await P9())return;await vb(Fh(Tc,Sc,TP.id),{...TP,_updatedAt:yb()});return}a.current=!0,i.current=y,e({type:ye.SET_TRIPS_FROM_FIRESTORE,payload:y}),n(!1)},m=>{console.error("[Wanderplan] Firestore listener error:",m),n(!1)})},[]),H.useEffect(()=>{if(a.current){a.current=!1;return}const f=t.trips,h=i.current;Object.keys(f).forEach(m=>{f[m]!==h[m]&&vb(Fh(Tc,Sc,m),{...f[m],_updatedAt:yb()}).catch(console.error)}),Object.keys(h).forEach(m=>{f[m]||m9(Fh(Tc,Sc,m)).catch(console.error)}),i.current=f},[t.trips]),H.useEffect(()=>{document.documentElement.classList.toggle("dark",t.darkMode);try{const f=localStorage.getItem(lp),h=f?JSON.parse(f):{};localStorage.setItem(lp,JSON.stringify({...h,darkMode:t.darkMode}))}catch{}},[t.darkMode]),H.useEffect(()=>{if(t.toast.visible){const f=setTimeout(()=>e({type:ye.HIDE_TOAST}),3e3);return()=>clearTimeout(f)}},[t.toast.visible]);const s=t.activeTripId?t.trips[t.activeTripId]:null,l=Object.values(t.trips).sort((f,h)=>f.startDate?h.startDate?new Date(f.startDate)-new Date(h.startDate):-1:1),c=H.useCallback((f,h="success")=>{e({type:ye.SHOW_TOAST,payload:{message:f,type:h}})},[]);return{state:t,dispatch:e,activeTrip:s,sortedTrips:l,showToast:c,firestoreLoading:r}}function O9(t){const[e,r]=H.useState(()=>typeof window<"u"?window.matchMedia(t).matches:!1);return H.useEffect(()=>{const n=window.matchMedia(t),i=a=>r(a.matches);return n.addEventListener("change",i),r(n.matches),()=>n.removeEventListener("change",i)},[t]),e}function C9({onSignIn:t}){const[e,r]=H.useState(!1),[n,i]=H.useState(null),a=async()=>{r(!0),i(null);try{await t()}catch{i("Sign-in failed. Please try again."),r(!1)}};return v.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary animate-fade-in",children:v.jsxs("div",{className:"text-center max-w-sm px-8",children:[v.jsx("div",{className:"text-6xl mb-5 animate-pulse-warm",children:""}),v.jsx("h1",{className:"font-heading text-3xl font-bold text-text-primary mb-2",children:"Wanderplan"}),v.jsx("p",{className:"text-text-muted text-sm mb-10 leading-relaxed",children:"Every trip, perfectly planned."}),v.jsxs("button",{onClick:a,disabled:e,className:`inline-flex items-center gap-3 px-6 py-3
                     bg-bg-secondary border border-border
                     rounded-[var(--radius-md)]
                     text-text-primary font-medium text-sm
                     hover:bg-bg-hover hover:border-border-strong
                     transition-all duration-200 active:scale-[0.98]
                     disabled:opacity-50 disabled:cursor-not-allowed
                     shadow-sm w-full justify-center`,children:[v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24","aria-hidden":"true",children:[v.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),v.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),v.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),v.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e?"Signing in":"Continue with Google"]}),n&&v.jsx("p",{className:"mt-4 text-sm text-red-500",children:n}),v.jsx("p",{className:"mt-8 text-xs text-text-muted leading-relaxed",children:"Your trips sync across all your devices in real time."})]})})}function P1(t){var y,_,S,T,b,k;if(!t)return 0;const e={bookings:.4,todos:.35,packing:.25},r=((y=t.bookings)==null?void 0:y.length)||0,n=((_=t.bookings)==null?void 0:_.filter(j=>j.status==="booked").length)||0,i=r>0?n/r:1,a=((S=t.todos)==null?void 0:S.length)||0,s=((T=t.todos)==null?void 0:T.filter(j=>j.done).length)||0,l=a>0?s/a:1,c=((b=t.packingList)==null?void 0:b.length)||0,f=((k=t.packingList)==null?void 0:k.filter(j=>j.packed).length)||0,h=c>0?f/c:1,m=Math.round((i*e.bookings+l*e.todos+h*e.packing)*100);return Math.min(100,Math.max(0,m))}function k9(t){var e,r,n,i,a,s;return t?{bookings:{done:((e=t.bookings)==null?void 0:e.filter(l=>l.status==="booked").length)||0,total:((r=t.bookings)==null?void 0:r.length)||0},todos:{done:((n=t.todos)==null?void 0:n.filter(l=>l.done).length)||0,total:((i=t.todos)==null?void 0:i.length)||0},packing:{done:((a=t.packingList)==null?void 0:a.filter(l=>l.packed).length)||0,total:((s=t.packingList)==null?void 0:s.length)||0}}:{bookings:{done:0,total:0},todos:{done:0,total:0},packing:{done:0,total:0}}}function I1({value:t=0,size:e=64,strokeWidth:r=5,className:n="",showLabel:i=!0,labelClassName:a=""}){const[s,l]=H.useState(0),c=(e-r)/2,f=2*Math.PI*c,h=f-s/100*f;H.useEffect(()=>{const y=setTimeout(()=>l(t),100);return()=>clearTimeout(y)},[t]);const m=y=>y>=80?"var(--color-success)":y>=50?"var(--color-accent)":y>=25?"var(--color-warning)":"var(--color-text-muted)";return v.jsxs("div",{className:`relative inline-flex items-center justify-center ${n}`,children:[v.jsxs("svg",{width:e,height:e,className:"-rotate-90",children:[v.jsx("circle",{cx:e/2,cy:e/2,r:c,fill:"none",stroke:"var(--color-border)",strokeWidth:r}),v.jsx("circle",{cx:e/2,cy:e/2,r:c,fill:"none",stroke:m(s),strokeWidth:r,strokeDasharray:f,strokeDashoffset:h,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.8s ease-out, stroke 0.3s ease"}})]}),i&&v.jsxs("span",{className:`absolute text-text-primary font-semibold ${a}`,style:{fontSize:e*.22},children:[Math.round(s),"%"]})]})}function N9(t,e){if(!t||!e)return"upcoming";const r=new Date;r.setHours(0,0,0,0);const n=new Date(t+"T00:00:00"),i=new Date(e+"T00:00:00");return r>i?"completed":r>=n&&r<=i?"ongoing":"upcoming"}const R9={upcoming:{label:"Upcoming",className:"bg-info/10 text-info"},ongoing:{label:"Ongoing",className:"bg-success/10 text-success"},completed:{label:"Completed",className:"bg-text-muted/10 text-text-muted"}};function j9({startDate:t,endDate:e,className:r=""}){const n=N9(t,e),i=R9[n];return v.jsx("span",{className:`
      inline-flex items-center px-2.5 py-0.5 text-xs font-medium
      rounded-[var(--radius-pill)] ${i.className} ${r}
    `,children:i.label})}function jD({isOpen:t,onClose:e,children:r,className:n="",maxWidth:i="max-w-xl"}){return H.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),t?v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-text-primary/30 backdrop-blur-sm animate-fade-in",onClick:e}),v.jsx("div",{className:`
        relative z-10 w-full ${i}
        bg-bg-primary border border-border rounded-[var(--radius-xl)]
        max-h-[90vh] overflow-y-auto
        animate-scale-in
        ${n}
      `,children:r})]}):null}function DD({isOpen:t,onClose:e,onConfirm:r,title:n,message:i,confirmLabel:a="Delete",danger:s=!0}){return v.jsx(jD,{isOpen:t,onClose:e,maxWidth:"max-w-sm",children:v.jsxs("div",{className:"p-6",children:[v.jsx("h3",{className:"font-heading text-xl text-text-primary mb-2",children:n}),v.jsx("p",{className:"text-text-secondary text-sm mb-6",children:i}),v.jsxs("div",{className:"flex gap-3 justify-end",children:[v.jsx("button",{onClick:e,className:`px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary
                       bg-bg-secondary border border-border rounded-[var(--radius-md)]
                       hover:bg-bg-hover transition-colors`,children:"Cancel"}),v.jsx("button",{onClick:()=>{r(),e()},className:`px-4 py-2 text-sm font-medium rounded-[var(--radius-md)] transition-colors
              ${s?"bg-danger text-white hover:bg-danger/90":"bg-accent text-white hover:bg-accent-hover"}`,children:a})]})]})})}function D9({tripId:t,tripName:e,onClose:r}){const{dispatch:n,showToast:i}=rr(),a=H.useRef(null),[s,l]=H.useState(!1);H.useEffect(()=>{function _(T){a.current&&!a.current.contains(T.target)&&r()}function S(T){T.key==="Escape"&&r()}return document.addEventListener("mousedown",_),document.addEventListener("keydown",S),()=>{document.removeEventListener("mousedown",_),document.removeEventListener("keydown",S)}},[r]);const c=_=>{_.stopPropagation();const S=window.prompt("Rename trip:",e);S&&S.trim()&&S.trim()!==e&&(n({type:ye.RENAME_TRIP,payload:{id:t,name:S.trim()}}),i("Trip renamed")),r()},f=_=>{_.stopPropagation(),n({type:ye.DUPLICATE_TRIP,payload:t}),i("Trip duplicated"),r()},h=_=>{_.stopPropagation(),l(!0)},m=()=>{n({type:ye.DELETE_TRIP,payload:t}),i("Trip deleted","info"),r()},y=[{label:"Rename",icon:v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),v.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),onClick:c},{label:"Duplicate",icon:v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),v.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),onClick:f},{label:"Delete",icon:v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polyline",{points:"3 6 5 6 21 6"}),v.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),v.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),v.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),onClick:h,danger:!0}];return v.jsxs(v.Fragment,{children:[v.jsx("div",{ref:a,className:`absolute right-2 top-8 z-50 w-40
                   bg-bg-input border border-border rounded-[var(--radius-md)]
                   animate-scale-in overflow-hidden`,onClick:_=>_.stopPropagation(),children:y.map(_=>v.jsxs("button",{onClick:_.onClick,className:`w-full flex items-center gap-2.5 px-3 py-2 text-sm text-left
                        transition-colors duration-100
                        ${_.danger?"text-danger hover:bg-danger/10":"text-text-secondary hover:bg-bg-hover hover:text-text-primary"}`,children:[v.jsx("span",{className:"shrink-0",children:_.icon}),_.label]},_.label))}),v.jsx(DD,{isOpen:s,onClose:()=>{l(!1),r()},onConfirm:m,title:"Delete trip?",message:`Are you sure you want to delete "${e}"? This action cannot be undone.`,confirmLabel:"Delete",danger:!0})]})}function M9({trip:t,isActive:e,isMobile:r}){const{dispatch:n}=rr(),[i,a]=H.useState(!1),[s,l]=H.useState(!1),c=P1(t),f=A1(t.startDate,t.endDate),h=t.destinations&&t.destinations.length>0?[...new Set(t.destinations.map(_=>_.flag?_.flag:_.country?_.country.slice(0,2).toUpperCase():""))].join("  "):"",m=()=>{n({type:ye.SET_ACTIVE_TRIP,payload:t.id}),r&&n({type:ye.SET_SIDEBAR,payload:!1})},y=_=>{_.stopPropagation(),a(S=>!S)};return v.jsxs("div",{className:`
        group relative flex items-start gap-3 px-3 py-3.5
        rounded-[var(--radius-md)] cursor-pointer
        transition-all duration-150
        ${e?"bg-accent-muted border-l-[3px] border-l-accent":"border-l-[3px] border-l-transparent hover:bg-bg-hover"}
      `,onClick:m,onMouseEnter:()=>l(!0),onMouseLeave:()=>{l(!1),i||a(!1)},children:[v.jsx("span",{className:"text-2xl leading-none mt-0.5 shrink-0",role:"img","aria-label":"trip icon",children:t.emoji||""}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-start justify-between gap-1.5",children:[v.jsx("h3",{className:`text-sm font-medium truncate leading-snug ${e?"text-text-primary":"text-text-secondary"}`,children:t.name}),v.jsx("button",{onClick:y,className:`shrink-0 p-0.5 rounded-[var(--radius-sm)]
                        text-text-muted hover:text-text-primary hover:bg-bg-hover
                        transition-all duration-150
                        ${s||i?"opacity-100":"opacity-0"}
                      `,"aria-label":"Trip options",children:v.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:[v.jsx("circle",{cx:"12",cy:"6",r:"1.5"}),v.jsx("circle",{cx:"12",cy:"12",r:"1.5"}),v.jsx("circle",{cx:"12",cy:"18",r:"1.5"})]})})]}),h&&v.jsx("p",{className:"text-xs text-text-muted truncate mt-0.5",children:h}),v.jsxs("div",{className:"flex items-center gap-2 mt-1.5 flex-wrap",children:[f&&v.jsx("span",{className:"text-xs text-text-muted whitespace-nowrap",children:f}),t.startDate&&t.endDate&&v.jsx(j9,{startDate:t.startDate,endDate:t.endDate})]})]}),v.jsx("div",{className:"shrink-0 mt-1",children:v.jsx(I1,{value:c,size:36,strokeWidth:3,showLabel:!0,labelClassName:"!text-[9px]"})}),i&&v.jsx(D9,{tripId:t.id,tripName:t.name,onClose:()=>a(!1)})]})}function L9({count:t,onSignOut:e}){return v.jsxs("div",{className:"px-5 py-4 border-t border-border flex items-center justify-between",children:[v.jsxs("p",{className:"text-xs text-text-muted",children:[t," ",E9(t,"trip")," planned"]}),e&&v.jsx("button",{onClick:e,className:"text-xs text-text-muted hover:text-text-secondary transition-colors",title:"Sign out",children:"Sign out"})]})}function V9({isMobile:t,isOpen:e,onNewTrip:r}){const{state:n,dispatch:i,sortedTrips:a}=rr(),{signOutUser:s}=RD(),l=()=>{r&&r()},c=()=>{i({type:ye.TOGGLE_DARK_MODE})},f=()=>{i({type:ye.SET_SIDEBAR,payload:!1})},h=v.jsxs("aside",{className:"flex flex-col h-full bg-bg-sidebar border-r border-border-strong w-[var(--sidebar-width)]",children:[v.jsxs("div",{className:"px-5 pt-7 pb-5",children:[v.jsxs("div",{className:"flex items-center justify-between mb-1",children:[v.jsx("h1",{className:"font-heading text-2xl text-text-primary tracking-tight",children:"Wanderplan"}),v.jsx("button",{onClick:c,className:`p-2 rounded-[var(--radius-md)] text-text-muted hover:text-text-primary
                       hover:bg-bg-hover transition-colors`,"aria-label":n.darkMode?"Switch to light mode":"Switch to dark mode",children:n.darkMode?v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("circle",{cx:"12",cy:"12",r:"5"}),v.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),v.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),v.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),v.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),v.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),v.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),v.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),v.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):v.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})]}),v.jsx("p",{className:"text-xs text-text-muted leading-relaxed",children:"Every trip, perfectly planned."})]}),v.jsx("div",{className:"px-4 pb-5",children:v.jsxs("button",{onClick:l,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5
                     bg-accent hover:bg-accent-hover text-text-inverse
                     font-medium text-sm rounded-[var(--radius-md)]
                     
                     transition-all duration-200 active:scale-[0.98]`,children:[v.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),v.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New Trip"]})}),v.jsx("div",{className:"mx-4 border-t border-border"}),v.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4 space-y-1.5 scrollbar-hide",children:a.length===0?v.jsxs("div",{className:"px-3 py-8 text-center",children:[v.jsx("p",{className:"text-text-muted text-sm",children:"No trips yet."}),v.jsx("p",{className:"text-text-muted text-xs mt-1",children:"Create one to get started!"})]}):a.map(m=>v.jsx(M9,{trip:m,isActive:m.id===n.activeTripId,isMobile:t},m.id))}),v.jsx(L9,{count:a.length,onSignOut:s})]});return t?v.jsxs(v.Fragment,{children:[e&&v.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 transition-opacity duration-300",onClick:f,"aria-hidden":"true"}),v.jsx("div",{className:`fixed inset-y-0 left-0 z-50 transition-transform duration-300 ease-out
          ${e?"translate-x-0":"-translate-x-full"}`,children:v.jsxs("div",{className:"relative h-full",children:[h,v.jsx("button",{onClick:f,className:`absolute top-4 right-3 p-1.5 rounded-[var(--radius-sm)]
                       text-text-muted hover:text-text-primary hover:bg-bg-hover
                       transition-colors`,"aria-label":"Close sidebar",children:v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})})]}):h}function vr({value:t,onSave:e,tag:r="span",className:n="",inputClassName:i="",placeholder:a="Click to edit...",multiline:s=!1}){const[l,c]=H.useState(!1),[f,h]=H.useState(t),m=H.useRef(null);H.useEffect(()=>{var S,T;l&&m.current&&(m.current.focus(),(T=(S=m.current).select)==null||T.call(S))},[l]),H.useEffect(()=>{h(t)},[t]);const y=()=>{c(!1);const S=(f==null?void 0:f.trim())??"";S!==t&&e(S)},_=S=>{S.key==="Enter"&&!s&&(S.preventDefault(),y()),S.key==="Escape"&&(h(t),c(!1))};if(l){const S=s?"textarea":"input";return v.jsx(S,{ref:m,value:f,onChange:T=>h(T.target.value),onBlur:y,onKeyDown:_,placeholder:a,className:`
          bg-bg-input border border-accent/30 rounded-[var(--radius-sm)]
          px-2 py-1 outline-none focus:border-accent focus:ring-1 focus:ring-accent/20
          text-text-primary font-body
          ${s?"min-h-[80px] resize-y w-full":""}
          ${i}
        `,rows:s?3:void 0})}return v.jsx(r,{onClick:()=>{h(t),c(!0)},className:`
        cursor-pointer border-b border-transparent
        hover:border-accent/30 transition-colors duration-150
        ${t?"":"text-text-muted italic"}
        ${n}
      `,title:"Click to edit",children:t||a})}function Hy(t){if(!t)return{days:0,hours:0,minutes:0,seconds:0,expired:!0,total:0};const e=new Date,n=new Date(t+"T00:00:00")-e;return n<=0?{days:0,hours:0,minutes:0,seconds:0,expired:!0,total:0}:{days:Math.floor(n/(1e3*60*60*24)),hours:Math.floor(n/(1e3*60*60)%24),minutes:Math.floor(n/(1e3*60)%60),seconds:Math.floor(n/1e3%60),expired:!1,total:n}}function O1(t){const[e,r]=H.useState(()=>Hy(t));return H.useEffect(()=>{if(!t)return;r(Hy(t));const n=setInterval(()=>{r(Hy(t))},1e3);return()=>clearInterval(n)},[t]),e}function AP({targetDate:t,label:e,emoji:r}){const n=O1(t);return t?n.expired?v.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-accent-muted/40 rounded-[var(--radius-lg)] border border-accent/15",children:[v.jsx("span",{className:"text-base",children:r}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted leading-tight",children:e}),v.jsx("p",{className:"text-sm font-semibold text-accent",children:"Happening now!"})]})]}):v.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-bg-secondary rounded-[var(--radius-lg)] border border-border",children:[v.jsx("span",{className:"text-base",children:r}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted leading-tight",children:e}),v.jsxs("div",{className:"flex items-baseline gap-1.5 mt-0.5",children:[v.jsx("span",{className:"text-lg font-heading font-bold text-text-primary leading-none",children:n.days}),v.jsx("span",{className:"text-xs text-text-muted",children:n.days===1?"day":"days"}),v.jsx("span",{className:"text-text-muted text-xs mx-0.5",children:":"}),v.jsx("span",{className:"text-sm font-heading font-semibold text-text-primary leading-none",children:String(n.hours).padStart(2,"0")}),v.jsx("span",{className:"text-xs text-text-muted",children:"hrs"}),v.jsx("span",{className:"text-text-muted text-xs mx-0.5",children:":"}),v.jsx("span",{className:"text-sm font-heading font-semibold text-text-primary leading-none",children:String(n.minutes).padStart(2,"0")}),v.jsx("span",{className:"text-xs text-text-muted",children:"min"})]})]})]}):null}function $9(){const{activeTrip:t,dispatch:e}=rr(),r=H.useMemo(()=>P1(t),[t]),n=H.useMemo(()=>{var y;return((y=t==null?void 0:t.bookings)==null?void 0:y.find(_=>_.priority))||null},[t==null?void 0:t.bookings]);if(!t)return null;const i=t,a=y=>{y&&e({type:ye.RENAME_TRIP,payload:{id:i.id,name:y}})},s=i.startDate,l=(n==null?void 0:n.bookByDate)||(n==null?void 0:n.date)||i.startDate,c=n?n.name:"Trip starts",f=i.destinations||[],h=A1(i.startDate,i.endDate),m=i.travelers||1;return v.jsx("header",{className:"animate-fade-in border-b border-border",children:v.jsxs("div",{className:"max-w-4xl mx-auto px-8 pt-7 pb-6",children:[v.jsxs("div",{className:"flex items-start justify-between gap-6",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[v.jsx("span",{className:"text-[48px] leading-none shrink-0",role:"img","aria-label":"Trip emoji",children:i.emoji}),v.jsx("div",{className:"min-w-0 flex-1",children:v.jsx(vr,{value:i.name,onSave:a,tag:"h1",className:"font-heading text-2xl md:text-3xl font-bold text-text-primary leading-tight truncate",inputClassName:"text-2xl md:text-3xl font-heading font-bold w-full",placeholder:"Name your trip..."})})]}),f.length>0&&v.jsx("div",{className:"flex items-center flex-wrap gap-x-1 gap-y-1 mb-3",children:f.map((y,_)=>v.jsxs("span",{className:"flex items-center gap-0.5",children:[_>0&&v.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-text-muted mx-1 shrink-0",children:v.jsx("polyline",{points:"9 18 15 12 9 6"})}),v.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-text-secondary whitespace-nowrap",children:[v.jsx("span",{children:y.flag}),v.jsx("span",{children:y.city})]})]},_))}),v.jsxs("div",{className:"flex items-center flex-wrap gap-3",children:[h&&v.jsxs("span",{className:"inline-flex items-center gap-1.5 text-sm text-text-muted",children:[v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0",children:[v.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),v.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),v.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),v.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),h]}),v.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 text-xs font-medium text-accent bg-accent-muted/40 rounded-[var(--radius-pill)]",children:[v.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),v.jsx("circle",{cx:"9",cy:"7",r:"4"}),v.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),v.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),m," ",m===1?"traveler":"travelers"]})]})]}),v.jsxs("div",{className:"shrink-0 flex flex-col items-center gap-1",children:[v.jsx(I1,{value:r,size:80,strokeWidth:6,labelClassName:"text-base"}),v.jsx("span",{className:"text-xs text-text-muted font-medium tracking-wide",children:"Readiness"})]})]}),v.jsxs("div",{className:"flex flex-wrap gap-3 mt-5",children:[v.jsx(AP,{targetDate:s,label:"Days to departure",emoji:""}),n&&v.jsx(AP,{targetDate:l,label:c,emoji:""})]})]})})}const F9=[{id:"overview",label:"Overview",emoji:""},{id:"itinerary",label:"Itinerary",emoji:""},{id:"bookings",label:"Bookings",emoji:""},{id:"budget",label:"Budget",emoji:""},{id:"todo",label:"To-Do",emoji:""},{id:"cities",label:"Cities",emoji:""},{id:"packing",label:"Packing",emoji:""},{id:"concert",label:"Concert",emoji:"",conditional:!0}],Yc=[{id:"flight",label:"Flight",emoji:""},{id:"hotel",label:"Hotel",emoji:""},{id:"experience",label:"Experience",emoji:""},{id:"concert",label:"Concert",emoji:""},{id:"transport",label:"Transport",emoji:""},{id:"custom",label:"Custom",emoji:""}],PP=[{id:"not_started",label:"Not Started",color:"text-muted"},{id:"in_progress",label:"In Progress",color:"warning"},{id:"booked",label:"Booked ",color:"success"}],B9=["Admin","Finances","Tech","Health","Misc"],IP=["Documents","Clothing","Tech","Concert Essentials","Toiletries","Misc"];function U9(){var f;const{state:t,activeTrip:e,dispatch:r}=rr(),n=t.activeTab,i=H.useRef(null),a=H.useRef(null),s=((f=e==null?void 0:e.bookings)==null?void 0:f.some(h=>h.category==="concert"))||!1,l=F9.filter(h=>h.conditional&&h.id==="concert"?s:!0),c=h=>{r({type:ye.SET_TAB,payload:h})};return H.useEffect(()=>{if(a.current&&i.current){const h=i.current,m=a.current,y=h.getBoundingClientRect(),_=m.getBoundingClientRect();(_.left<y.left||_.right>y.right)&&m.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},[n]),v.jsx("nav",{className:"border-b border-border bg-bg-primary/80 backdrop-blur-sm sticky top-0 z-20",children:v.jsx("div",{ref:i,className:"flex overflow-x-auto scrollbar-hide px-8",role:"tablist","aria-label":"Trip sections",children:l.map(h=>{const m=n===h.id;return v.jsxs("button",{ref:m?a:null,role:"tab","aria-selected":m,"aria-controls":`panel-${h.id}`,onClick:()=>c(h.id),className:`
                relative flex items-center gap-1.5 px-4 py-3.5 text-sm font-medium
                whitespace-nowrap transition-colors duration-200
                shrink-0
                ${m?"text-accent":"text-text-muted hover:text-text-secondary"}
              `,children:[v.jsx("span",{className:"text-base leading-none",children:h.emoji}),v.jsx("span",{children:h.label}),m&&v.jsx("span",{className:"absolute bottom-0 left-2 right-2 h-[2.5px] bg-accent rounded-full","aria-hidden":"true"})]},h.id)})})})}const q9=["","","","","","","","","","","","","","","","","","","",""],z9=[{emoji:"",label:"Flight"},{emoji:"",label:"Hotel"},{emoji:"",label:"Food"},{emoji:"",label:"Sightseeing"},{emoji:"",label:"Activity"},{emoji:"",label:"Shopping"},{emoji:"",label:"Music"},{emoji:"",label:"Transport"},{emoji:"",label:"Beach"},{emoji:"",label:"Temple"},{emoji:"",label:"Nightlife"},{emoji:"",label:"Photo"},{emoji:"",label:"Spa"},{emoji:"",label:"Walk"},{emoji:"",label:"Show"},{emoji:"",label:"Other"}],xb=4,OP=[{name:"Flights",emoji:""},{name:"Accommodation",emoji:""},{name:"Food & Dining",emoji:""},{name:"Activities",emoji:""},{name:"Transport",emoji:""},{name:"Shopping",emoji:""},{name:"Other",emoji:""}];function W9({currentStep:t}){return v.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:Array.from({length:xb},(e,r)=>{const n=r+1,i=n===t,a=n<t;return v.jsxs("div",{className:"flex items-center gap-2",children:[r>0&&v.jsx("div",{className:`w-8 h-[2px] rounded-full transition-colors duration-300 ${a?"bg-accent":"bg-border"}`}),v.jsx("div",{className:`
                w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold
                transition-all duration-300
                ${i?"bg-accent text-text-inverse ring-4 ring-accent/20":a?"bg-accent text-text-inverse":"bg-bg-secondary text-text-muted border border-border"}
              `,children:a?v.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polyline",{points:"20 6 9 17 4 12"})}):n})]},n)})})}function H9({form:t,setForm:e}){return v.jsxs("div",{className:"space-y-5 animate-fade-in",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Name your adventure"}),v.jsx("p",{className:"text-sm text-text-muted",children:"What should we call this trip?"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Trip Name"}),v.jsx("input",{type:"text",value:t.name,onChange:r=>e(n=>({...n,name:r.target.value})),placeholder:"e.g. Summer in Europe",className:`w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)]
                     text-text-primary placeholder:text-text-muted
                     focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20
                     transition-colors`,autoFocus:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Trip Emoji"}),v.jsx("div",{className:"grid grid-cols-10 gap-1.5",children:q9.map(r=>v.jsx("button",{type:"button",onClick:()=>e(n=>({...n,emoji:r})),className:`
                w-9 h-9 flex items-center justify-center text-lg rounded-[var(--radius-sm)]
                transition-all duration-150
                ${t.emoji===r?"bg-accent/15 ring-2 ring-accent scale-110":"bg-bg-secondary hover:bg-bg-hover"}
              `,children:r},r))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Travelers"}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{type:"button",onClick:()=>e(r=>({...r,travelers:Math.max(1,r.travelers-1)})),disabled:t.travelers<=1,className:`w-9 h-9 flex items-center justify-center rounded-[var(--radius-md)]
                       bg-bg-secondary border border-border text-text-secondary
                       hover:bg-bg-hover hover:border-border-strong
                       disabled:opacity-30 disabled:cursor-not-allowed
                       transition-colors text-lg font-medium`,children:"-"}),v.jsx("span",{className:"w-10 text-center text-lg font-heading font-bold text-text-primary",children:t.travelers}),v.jsx("button",{type:"button",onClick:()=>e(r=>({...r,travelers:Math.min(10,r.travelers+1)})),disabled:t.travelers>=10,className:`w-9 h-9 flex items-center justify-center rounded-[var(--radius-md)]
                       bg-bg-secondary border border-border text-text-secondary
                       hover:bg-bg-hover hover:border-border-strong
                       disabled:opacity-30 disabled:cursor-not-allowed
                       transition-colors text-lg font-medium`,children:"+"}),v.jsx("span",{className:"text-sm text-text-muted",children:t.travelers===1?"traveler":"travelers"})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Start Date"}),v.jsx("input",{type:"date",value:t.startDate,onChange:r=>e(n=>({...n,startDate:r.target.value})),className:`w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)]
                       text-text-primary
                       focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20
                       transition-colors`})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"End Date"}),v.jsx("input",{type:"date",value:t.endDate,onChange:r=>e(n=>({...n,endDate:r.target.value})),min:t.startDate||void 0,className:`w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)]
                       text-text-primary
                       focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20
                       transition-colors`})]})]})]})}function G9({form:t,setForm:e}){const r=()=>{e(a=>({...a,destinations:[...a.destinations,{city:"",country:"",flag:""}]}))},n=(a,s,l)=>{e(c=>{const f=[...c.destinations];return f[a]={...f[a],[s]:l},{...c,destinations:f}})},i=a=>{t.destinations.length<=1||e(s=>({...s,destinations:s.destinations.filter((l,c)=>c!==a)}))};return v.jsxs("div",{className:"space-y-5 animate-fade-in",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Where are you going?"}),v.jsx("p",{className:"text-sm text-text-muted",children:"Add your destinations in order of visit."})]}),v.jsx("div",{className:"space-y-3",children:t.destinations.map((a,s)=>v.jsxs("div",{className:"flex items-start gap-3 p-3 bg-bg-secondary border border-border rounded-[var(--radius-md)] group",children:[v.jsx("div",{className:"w-7 h-7 rounded-full bg-accent/10 text-accent flex items-center justify-center text-xs font-semibold shrink-0 mt-0.5",children:s+1}),v.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[v.jsx("input",{type:"text",value:a.city,onChange:l=>n(s,"city",l.target.value),placeholder:"City",className:`px-3 py-2 bg-bg-input border border-border rounded-[var(--radius-sm)]
                           text-text-primary placeholder:text-text-muted text-sm
                           focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20
                           transition-colors`}),v.jsx("input",{type:"text",value:a.country,onChange:l=>n(s,"country",l.target.value),placeholder:"Country",className:`px-3 py-2 bg-bg-input border border-border rounded-[var(--radius-sm)]
                           text-text-primary placeholder:text-text-muted text-sm
                           focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20
                           transition-colors`})]}),v.jsx("button",{type:"button",onClick:()=>i(s),disabled:t.destinations.length<=1,className:`p-1.5 rounded-[var(--radius-sm)] text-text-muted
                         hover:text-danger hover:bg-danger/10
                         disabled:opacity-0 disabled:pointer-events-none
                         transition-all shrink-0 mt-0.5`,"aria-label":"Remove destination",children:v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},s))}),v.jsxs("button",{type:"button",onClick:r,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5
                   border border-dashed border-border-strong rounded-[var(--radius-md)]
                   text-sm text-text-muted font-medium
                   hover:text-accent hover:border-accent/40 hover:bg-accent-muted/20
                   transition-colors`,children:[v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),v.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Destination"]})]})}function K9({form:t,setForm:e}){const r=c=>{e(f=>({...f,currency:c}))},n=(c,f,h)=>{e(m=>{const y=[...m.budgetCategories];return y[c]={...y[c],[f]:Number(h)||0},{...m,budgetCategories:y}})},i=t.budgetCategories.reduce((c,f)=>c+(f.min||0),0),a=t.budgetCategories.reduce((c,f)=>c+(f.max||0),0),s=sp.find(c=>c.code===t.currency),l=s?s.symbol:t.currency;return v.jsxs("div",{className:"space-y-5 animate-fade-in",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Set your budget"}),v.jsx("p",{className:"text-sm text-text-muted",children:"Optional. You can always add this later."})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Currency"}),v.jsx("select",{value:t.currency,onChange:c=>r(c.target.value),className:`w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)]
                     text-text-primary
                     focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20
                     transition-colors appearance-none cursor-pointer`,children:sp.map(c=>v.jsxs("option",{value:c.code,children:[c.symbol," ",c.code,"  ",c.name]},c.code))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Budget Categories"}),v.jsx("div",{className:"space-y-2",children:t.budgetCategories.map((c,f)=>v.jsxs("div",{className:"flex items-center gap-3 p-2.5 bg-bg-secondary border border-border rounded-[var(--radius-sm)]",children:[v.jsx("span",{className:"text-base w-6 text-center shrink-0",children:c.emoji}),v.jsx("span",{className:"text-sm text-text-secondary w-28 shrink-0 truncate",children:c.name}),v.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[v.jsxs("div",{className:"flex-1 relative",children:[v.jsx("span",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-xs text-text-muted",children:l}),v.jsx("input",{type:"number",min:"0",value:c.min||"",onChange:h=>n(f,"min",h.target.value),placeholder:"Min",className:`w-full pl-7 pr-2 py-1.5 bg-bg-input border border-border rounded-[var(--radius-sm)]
                               text-text-primary text-sm text-right
                               focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20
                               transition-colors`})]}),v.jsx("span",{className:"text-text-muted text-xs",children:"to"}),v.jsxs("div",{className:"flex-1 relative",children:[v.jsx("span",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-xs text-text-muted",children:l}),v.jsx("input",{type:"number",min:"0",value:c.max||"",onChange:h=>n(f,"max",h.target.value),placeholder:"Max",className:`w-full pl-7 pr-2 py-1.5 bg-bg-input border border-border rounded-[var(--radius-sm)]
                               text-text-primary text-sm text-right
                               focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20
                               transition-colors`})]})]})]},f))})]}),(i>0||a>0)&&v.jsxs("div",{className:"flex justify-between items-center px-3 py-2.5 bg-accent-muted/30 rounded-[var(--radius-md)] border border-accent/10",children:[v.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Estimated Total"}),v.jsxs("span",{className:"text-sm font-heading font-semibold text-accent",children:[l,i.toLocaleString(),"  ",l,a.toLocaleString()]})]})]})}function Y9({form:t}){const e=sp.find(s=>s.code===t.currency),r=e?e.symbol:t.currency,n=t.budgetCategories.reduce((s,l)=>s+(l.min||0),0),i=t.budgetCategories.reduce((s,l)=>s+(l.max||0),0),a=t.destinations.filter(s=>s.city.trim());return v.jsxs("div",{className:"space-y-5 animate-fade-in",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Review your trip"}),v.jsx("p",{className:"text-sm text-text-muted",children:"Everything look good? You can edit details later."})]}),v.jsxs("div",{className:"bg-bg-secondary border border-border rounded-[var(--radius-lg)] overflow-hidden",children:[v.jsx("div",{className:"px-5 py-4 border-b border-border",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-4xl",children:t.emoji}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-heading text-lg font-bold text-text-primary",children:t.name||"Untitled Trip"}),v.jsxs("p",{className:"text-sm text-text-muted",children:[t.travelers," ",t.travelers===1?"traveler":"travelers"]})]})]})}),v.jsxs("div",{className:"px-5 py-4 space-y-4",children:[(t.startDate||t.endDate)&&v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider font-medium mb-1",children:"Dates"}),v.jsxs("p",{className:"text-sm text-text-primary",children:[t.startDate?up(t.startDate):"TBD"," ",""," ",t.endDate?up(t.endDate):"TBD"]})]}),a.length>0&&v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider font-medium mb-1.5",children:"Destinations"}),v.jsx("div",{className:"flex flex-wrap gap-1.5",children:a.map((s,l)=>v.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 text-xs bg-bg-hover rounded-[var(--radius-pill)] text-text-secondary",children:[s.flag||""," ",s.city,s.country?`, ${s.country}`:""]},l))})]}),(n>0||i>0)&&v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider font-medium mb-1",children:"Budget"}),v.jsxs("p",{className:"text-sm text-text-primary",children:[r,n.toLocaleString(),"  ",r,i.toLocaleString()," ",t.currency]}),v.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1.5",children:t.budgetCategories.filter(s=>s.min>0||s.max>0).map((s,l)=>v.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-text-muted",children:[s.emoji," ",s.name,l<t.budgetCategories.filter(c=>c.min>0||c.max>0).length-1&&v.jsx("span",{className:"text-border ml-1",children:"|"})]},l))})]})]})]})]})}function X9({isOpen:t,onClose:e}){const{dispatch:r,showToast:n}=rr(),[i,a]=H.useState(1),[s,l]=H.useState(()=>c());function c(){return{name:"",emoji:"",travelers:1,startDate:"",endDate:"",destinations:[{city:"",country:"",flag:""}],currency:"PHP",budgetCategories:OP.map(T=>({...T,min:0,max:0}))}}const f=()=>{a(1),l(c()),e()},h=H.useMemo(()=>{switch(i){case 1:return s.name.trim().length>0;case 2:return s.destinations.some(T=>T.city.trim().length>0);case 3:return!0;case 4:return!0;default:return!1}},[i,s]),m=()=>{i<xb&&a(T=>T+1)},y=()=>{i>1&&a(T=>T-1)},_=()=>{l(T=>({...T,budgetCategories:OP.map(b=>({...b,min:0,max:0}))})),a(4)},S=()=>{const T={Philippines:"",Singapore:"",Thailand:"",Malaysia:"",Indonesia:"",Vietnam:"",Japan:"","South Korea":"",Taiwan:"",Cambodia:"",Myanmar:"",Laos:"",India:"",China:"","Hong Kong":"",Australia:"","New Zealand":"",USA:"",UK:"",France:"",Italy:"",Spain:"",Germany:"",Netherlands:"",Greece:"",Turkey:"",UAE:"",Mexico:"",Brazil:"",Canada:""},b=s.destinations.filter(R=>R.city.trim()).map(R=>({city:R.city.trim(),country:R.country.trim(),flag:T[R.country.trim()]||""})),k=s.budgetCategories.filter(R=>R.min>0||R.max>0).map(R=>({id:Date.now().toString(36)+Math.random().toString(36).slice(2,8),name:R.name,emoji:R.emoji,min:R.min,max:R.max,actual:0})),j=S9({name:s.name.trim()||"New Trip",emoji:s.emoji,travelers:s.travelers,startDate:s.startDate,endDate:s.endDate,destinations:b,currency:s.currency,budget:k});r({type:ye.ADD_TRIP,payload:j}),n(`"${j.name}" created! Let's plan this trip.`),f()};return v.jsxs(jD,{isOpen:t,onClose:f,maxWidth:"max-w-lg",children:[v.jsxs("div",{className:"px-6 pt-6 pb-2",children:[v.jsx("button",{type:"button",onClick:f,className:`absolute top-4 right-4 p-1.5 rounded-[var(--radius-sm)]
                     text-text-muted hover:text-text-primary hover:bg-bg-hover
                     transition-colors z-10`,"aria-label":"Close",children:v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),v.jsx(W9,{currentStep:i}),v.jsxs("div",{className:"min-h-[320px]",children:[i===1&&v.jsx(H9,{form:s,setForm:l}),i===2&&v.jsx(G9,{form:s,setForm:l}),i===3&&v.jsx(K9,{form:s,setForm:l}),i===4&&v.jsx(Y9,{form:s})]})]}),v.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-border mt-2",children:[v.jsx("div",{children:i>1&&v.jsxs("button",{type:"button",onClick:y,className:`flex items-center gap-1.5 px-4 py-2 text-sm font-medium text-text-secondary
                         hover:text-text-primary hover:bg-bg-hover rounded-[var(--radius-md)]
                         transition-colors`,children:[v.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back"]})}),v.jsxs("div",{className:"flex items-center gap-2",children:[i===3&&v.jsx("button",{type:"button",onClick:_,className:`px-4 py-2 text-sm font-medium text-text-muted
                         hover:text-text-secondary hover:bg-bg-hover rounded-[var(--radius-md)]
                         transition-colors`,children:"Skip"}),i<xb?v.jsxs("button",{type:"button",onClick:m,disabled:!h,className:`flex items-center gap-1.5 px-5 py-2 text-sm font-medium
                         bg-accent hover:bg-accent-hover text-text-inverse
                         rounded-[var(--radius-md)]
                         
                         disabled:opacity-40 disabled:cursor-not-allowed
                         transition-all duration-200`,children:["Next",v.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polyline",{points:"9 18 15 12 9 6"})})]}):v.jsxs("button",{type:"button",onClick:S,className:`flex items-center gap-2 px-6 py-2.5 text-sm font-semibold
                         bg-accent hover:bg-accent-hover text-text-inverse
                         rounded-[var(--radius-md)]
                         
                         transition-all duration-200 active:scale-[0.98]`,children:[v.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),v.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Create Trip"]})]})]})]})}function Q9({message:t,type:e="success",visible:r}){if(!t)return null;const n={success:"bg-success/10 text-success border-success/20",error:"bg-danger/10 text-danger border-danger/20",info:"bg-info/10 text-info border-info/20",warning:"bg-warning/10 text-warning border-warning/20"};return v.jsx("div",{className:`
      fixed bottom-6 left-1/2 -translate-x-1/2 z-[60]
      px-5 py-3 rounded-[var(--radius-lg)] border
      font-medium text-sm
      ${n[e]||n.success}
      ${r?"animate-toast-in":"animate-toast-out pointer-events-none"}
    `,children:t})}function Lt({children:t,className:e="",hover:r=!1,onClick:n,padding:i="p-6"}){return v.jsx("div",{onClick:n,className:`
        bg-bg-secondary border border-border rounded-[14px]
        ${r?"hover:-translate-y-[1px] cursor-pointer":""}
        transition-all duration-200
        ${i}
        ${e}
      `,children:t})}function yu({value:t=0,max:e=100,className:r="",colorClass:n="bg-accent",height:i="h-2",showLabel:a=!1,label:s=""}){const l=e>0?Math.min(100,Math.round(t/e*100)):0;return v.jsxs("div",{className:r,children:[(a||s)&&v.jsxs("div",{className:"flex justify-between items-center mb-1.5 text-sm",children:[v.jsx("span",{className:"text-text-secondary",children:s}),v.jsxs("span",{className:"text-text-muted font-medium",children:[t,"/",e]})]}),v.jsx("div",{className:`w-full bg-border rounded-full overflow-hidden ${i}`,children:v.jsx("div",{className:`${i} ${n} rounded-full transition-all duration-700 ease-out`,style:{width:`${l}%`}})})]})}function yh({value:t,label:e}){return v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-3xl font-heading font-bold text-text-primary",children:String(t).padStart(2,"0")}),v.jsx("div",{className:"text-xs text-text-muted uppercase tracking-wider mt-0.5",children:e})]})}function CP({targetDate:t,label:e}){const r=O1(t);return r.expired?v.jsxs(Lt,{className:"text-center",children:[v.jsx("p",{className:"text-text-muted text-sm mb-1",children:e}),v.jsx("p",{className:"text-accent font-heading text-lg font-semibold",children:"It's time! "})]}):v.jsxs(Lt,{className:"text-center",children:[v.jsx("p",{className:"text-text-muted text-sm mb-3",children:e}),v.jsxs("div",{className:"flex justify-center gap-4",children:[v.jsx(yh,{value:r.days,label:"days"}),v.jsx("span",{className:"text-text-muted text-2xl font-light self-start mt-1",children:":"}),v.jsx(yh,{value:r.hours,label:"hrs"}),v.jsx("span",{className:"text-text-muted text-2xl font-light self-start mt-1",children:":"}),v.jsx(yh,{value:r.minutes,label:"min"}),v.jsx("span",{className:"text-text-muted text-2xl font-light self-start mt-1",children:":"}),v.jsx(yh,{value:r.seconds,label:"sec"})]})]})}function kP(){var S,T,b,k,j,R,M;const{activeTrip:t}=rr();if(!t)return null;const e=t,r=P1(e),n=k9(e),i=H.useMemo(()=>{var P;return((P=e.bookings)==null?void 0:P.find(C=>C.priority))||null},[e.bookings]),a=b9(e.startDate,e.endDate),s=[...new Set((S=e.destinations)==null?void 0:S.map(P=>P.city))].length,l=((T=e.bookings)==null?void 0:T.filter(P=>P.category==="flight").length)||0,c=((b=e.bookings)==null?void 0:b.filter(P=>["experience","concert"].includes(P.category)).length)||0,f=((k=e.budget)==null?void 0:k.reduce((P,C)=>P+(C.min||0),0))||0,h=((j=e.budget)==null?void 0:j.reduce((P,C)=>P+(C.max||0),0))||0,m=((R=e.budget)==null?void 0:R.reduce((P,C)=>P+(C.actual||0),0))||0,y=H.useMemo(()=>{var A,O;const P=(A=e.todos)==null?void 0:A.filter(N=>!N.done).sort((N,F)=>N.priority==="high"&&F.priority!=="high"?-1:F.priority==="high"&&N.priority!=="high"?1:N.dueDate&&F.dueDate?new Date(N.dueDate)-new Date(F.dueDate):N.dueDate?-1:1);if((P==null?void 0:P.length)>0)return{type:"todo",item:P[0]};const C=(O=e.bookings)==null?void 0:O.filter(N=>N.status!=="booked").sort((N,F)=>N.priority&&!F.priority?-1:F.priority&&!N.priority?1:0);return(C==null?void 0:C.length)>0?{type:"booking",item:C[0]}:null},[e.todos,e.bookings]),_=r===100?"You're 100% ready. Go enjoy the world. ":r>=75?"Almost there! Just a few more things.":r>=50?"Making good progress. Keep it up!":"Let's get this trip planned! ";return v.jsxs("div",{className:"space-y-7 animate-fade-in",children:[v.jsx("div",{className:"bg-bg-secondary rounded-[var(--radius-xl)] p-9 relative overflow-hidden border border-border",children:v.jsxs("div",{className:"relative z-10",children:[v.jsxs("h2",{className:"font-heading text-3xl font-bold mb-2 text-text-primary",children:[e.emoji," ",e.name]}),v.jsxs("p",{className:"text-text-muted text-sm",children:[A1(e.startDate,e.endDate),"  ",e.travelers," ",e.travelers===1?"traveler":"travelers"]}),v.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:(M=e.destinations)==null?void 0:M.map((P,C)=>v.jsxs("span",{className:"px-3 py-1 bg-bg-hover rounded-[var(--radius-pill)] text-sm text-text-secondary",children:[P.flag," ",P.city]},C))})]})}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-5",children:[{label:"Total Days",value:a,emoji:""},{label:"Cities",value:s,emoji:""},{label:"Flights",value:l,emoji:""},{label:"Experiences",value:c,emoji:""}].map((P,C)=>v.jsxs(Lt,{className:`text-center delay-${C+1} animate-fade-in-up`,padding:"py-7 px-6",children:[v.jsx("div",{className:"text-3xl mb-2",children:P.emoji}),v.jsx("div",{className:"text-3xl font-heading font-bold text-text-primary",children:P.value}),v.jsx("div",{className:"text-xs text-text-muted mt-1.5 uppercase tracking-wider",children:P.label})]},C))}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[v.jsx(Lt,{children:v.jsxs("div",{className:"flex items-center gap-5",children:[v.jsx(I1,{value:r,size:96,strokeWidth:7}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-heading text-lg text-text-primary mb-1",children:"Trip Readiness"}),v.jsx("p",{className:"text-sm text-text-muted mb-3",children:_}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(yu,{value:n.bookings.done,max:n.bookings.total,label:"Bookings",showLabel:!0,colorClass:"bg-info",height:"h-1.5"}),v.jsx(yu,{value:n.todos.done,max:n.todos.total,label:"To-Dos",showLabel:!0,colorClass:"bg-accent",height:"h-1.5"}),v.jsx(yu,{value:n.packing.done,max:n.packing.total,label:"Packing",showLabel:!0,colorClass:"bg-success",height:"h-1.5"})]})]})]})}),v.jsxs("div",{className:"space-y-3",children:[v.jsx(CP,{targetDate:e.startDate,label:" Days to departure"}),i&&v.jsx(CP,{targetDate:i.bookByDate||e.startDate,label:` ${i.name}`})]})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[y&&v.jsxs(Lt,{children:[v.jsx("h3",{className:"font-heading text-sm text-text-muted uppercase tracking-wider mb-2",children:"Next Thing to Do"}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("span",{className:"text-2xl",children:y.type==="todo"?"":""}),v.jsxs("div",{children:[v.jsx("p",{className:"text-text-primary font-medium",children:y.type==="todo"?y.item.text:y.item.name}),v.jsxs("p",{className:"text-sm text-text-muted mt-0.5",children:[y.type==="todo"?`Category: ${y.item.category}`:`Status: ${y.item.status.replace("_"," ")}`,y.item.dueDate&&`  Due: ${y.item.dueDate}`,y.item.bookByDate&&`  Book by: ${y.item.bookByDate}`]})]})]})]}),h>0&&v.jsxs(Lt,{children:[v.jsx("h3",{className:"font-heading text-sm text-text-muted uppercase tracking-wider mb-2",children:"Budget Snapshot"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-text-secondary",children:"Estimated range"}),v.jsxs("span",{className:"text-text-primary font-medium",children:[sn(f,e.currency),"  ",sn(h,e.currency)]})]}),m>0&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-text-secondary",children:"Spent so far"}),v.jsx("span",{className:`font-medium ${m>h?"text-danger":"text-accent"}`,children:sn(m,e.currency)})]}),v.jsx(yu,{value:m,max:h,colorClass:m>h?"bg-danger":"bg-accent",height:"h-2"})]})]})]})]})]})}function J9({activity:t,dayId:e,onUpdate:r,onDelete:n}){return v.jsxs("div",{className:"flex items-start gap-3 group py-2",children:[v.jsx("div",{className:"flex-shrink-0 w-14 text-right",children:v.jsx(vr,{value:t.time,onSave:i=>r({time:i}),className:"text-sm text-text-muted font-mono",placeholder:"--:--"})}),v.jsx("span",{className:"text-lg flex-shrink-0 mt-0.5",children:t.emoji}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx(vr,{value:t.name,onSave:i=>r({name:i}),className:"text-text-primary font-medium text-sm",placeholder:"Activity name"}),t.notes&&v.jsx("p",{className:"text-xs text-text-muted mt-0.5",children:t.notes})]}),v.jsx("button",{onClick:n,className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-sm transition-opacity p-1",title:"Remove activity",children:""})]})}function Z9({onAdd:t,onCancel:e}){const[r,n]=H.useState(""),[i,a]=H.useState(""),[s,l]=H.useState(""),[c,f]=H.useState(""),[h,m]=H.useState(!1),y=_=>{_.preventDefault(),r.trim()&&(t({name:r.trim(),time:i,emoji:s,notes:c.trim()}),n(""),a(""),l(""),f(""))};return v.jsxs("form",{onSubmit:y,className:"mt-3 p-3 bg-bg-primary rounded-[var(--radius-md)] border border-border",children:[v.jsxs("div",{className:"flex gap-2 items-start",children:[v.jsx("input",{type:"time",value:i,onChange:_=>a(_.target.value),className:"w-24 px-2 py-1.5 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary"}),v.jsxs("div",{className:"relative",children:[v.jsx("button",{type:"button",onClick:()=>m(!h),className:"text-xl p-1.5 border border-border rounded-[var(--radius-sm)] hover:bg-bg-hover",children:s}),h&&v.jsx("div",{className:"absolute top-full left-0 mt-1 p-2 bg-bg-secondary border border-border rounded-[var(--radius-md)] grid grid-cols-4 gap-1 z-10",children:z9.map(_=>v.jsx("button",{type:"button",onClick:()=>{l(_.emoji),m(!1)},className:"text-lg p-1 hover:bg-bg-hover rounded",title:_.label,children:_.emoji},_.emoji))})]}),v.jsx("input",{value:r,onChange:_=>n(_.target.value),placeholder:"Activity name",className:"flex-1 px-3 py-1.5 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted"})]}),v.jsx("input",{value:c,onChange:_=>f(_.target.value),placeholder:"Notes (optional)",className:"w-full mt-2 px-3 py-1.5 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted"}),v.jsxs("div",{className:"flex gap-2 mt-2 justify-end",children:[v.jsx("button",{type:"button",onClick:e,className:"px-3 py-1 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"}),v.jsx("button",{type:"submit",className:"px-3 py-1 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"})]})]})}function eq({day:t,isConcertDay:e}){var c,f;const{dispatch:r}=rr(),[n,i]=H.useState(!0),[a,s]=H.useState(!1),l=e?"border-concert-red/30 bg-concert-dark/5 dark:bg-concert-dark/30":"";return v.jsxs("div",{className:"relative animate-fade-in",children:[v.jsx("div",{className:"absolute left-5 top-0 bottom-0 w-px bg-border hidden md:block"}),v.jsx("div",{className:`absolute left-3 top-6 w-5 h-5 rounded-full border-2 hidden md:block z-10
        ${e?"border-concert-red bg-concert-red/20":"border-accent bg-accent/20"}
      `}),v.jsxs(Lt,{className:`md:ml-12 ${l}`,children:[v.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>i(!n),children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-2xl",children:t.emoji}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:`font-heading font-semibold ${e?"text-concert-red":"text-text-primary"}`,children:["Day ",t.dayNumber]}),v.jsx("span",{className:"text-text-muted text-sm",children:""}),v.jsx("span",{className:"text-sm text-text-secondary",children:up(t.date,"long")})]}),v.jsx(vr,{value:t.location,onSave:h=>r({type:ye.UPDATE_DAY,payload:{dayId:t.id,updates:{location:h}}}),className:"text-sm text-text-muted",placeholder:"Location"})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:"text-xs text-text-muted",children:[((c=t.activities)==null?void 0:c.length)||0," activities"]}),v.jsx("span",{className:`text-text-muted transition-transform ${n?"rotate-180":""}`,children:""})]})]}),n&&v.jsxs("div",{className:"mt-3 border-t border-border pt-3",children:[((f=t.activities)==null?void 0:f.length)>0?v.jsx("div",{className:"divide-y divide-border/50",children:t.activities.map(h=>v.jsx(J9,{activity:h,dayId:t.id,onUpdate:m=>r({type:ye.UPDATE_ACTIVITY,payload:{dayId:t.id,activityId:h.id,updates:m}}),onDelete:()=>r({type:ye.DELETE_ACTIVITY,payload:{dayId:t.id,activityId:h.id}})},h.id))}):v.jsx("p",{className:"text-sm text-text-muted italic py-2",children:"No activities yet"}),t.notes&&v.jsx("div",{className:"mt-2 pt-2 border-t border-border/50",children:v.jsxs("p",{className:"text-xs text-text-muted italic",children:[" ",t.notes]})}),a?v.jsx(Z9,{onAdd:h=>{r({type:ye.ADD_ACTIVITY,payload:{dayId:t.id,activity:h}}),s(!1)},onCancel:()=>s(!1)}):v.jsx("button",{onClick:()=>s(!0),className:"mt-2 text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add activity"})]})]})]})}function tq(){var i,a,s;const{activeTrip:t,dispatch:e}=rr();if(!t)return null;const r=t,n=(i=r.bookings)==null?void 0:i.find(l=>l.category==="concert");return v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("h2",{className:"font-heading text-xl text-text-primary",children:[" Itinerary  ",((a=r.itinerary)==null?void 0:a.length)||0," days"]}),v.jsx("button",{onClick:()=>{var f;const l=(f=r.itinerary)==null?void 0:f[r.itinerary.length-1];let c="";if(l!=null&&l.date){const h=new Date(l.date+"T00:00:00");h.setDate(h.getDate()+1),c=h.toISOString().slice(0,10)}e({type:ye.ADD_DAY,payload:{date:c,location:"",emoji:""}})},className:"px-3 py-1.5 text-sm bg-accent text-white rounded-[var(--radius-md)] hover:bg-accent-hover transition-colors",children:"+ Add Day"})]}),v.jsx("div",{className:"relative space-y-5",children:(s=r.itinerary)==null?void 0:s.map(l=>{var f;const c=n&&((f=l.activities)==null?void 0:f.some(h=>{var m,y;return((m=h.name)==null?void 0:m.toLowerCase().includes("mcr"))||((y=h.name)==null?void 0:y.toLowerCase().includes("concert"))||h.emoji===""||h.emoji===""}));return v.jsx(eq,{day:l,isConcertDay:c},l.id)})}),(!r.itinerary||r.itinerary.length===0)&&v.jsxs(Lt,{className:"text-center py-12",children:[v.jsx("p",{className:"text-4xl mb-3",children:""}),v.jsx("p",{className:"text-text-muted",children:"No itinerary yet. Add your first day!"})]})]})}function rq({status:t,onClick:e}){const r=PP.find(i=>i.id===t)||PP[0],n={not_started:"bg-text-muted/10 text-text-muted border-text-muted/20",in_progress:"bg-warning/10 text-warning border-warning/20",booked:"bg-success/10 text-success border-success/20"};return v.jsx("button",{onClick:e,className:`px-2.5 py-1 text-xs font-medium rounded-[var(--radius-pill)] border transition-all
        hover:scale-105 active:scale-95 ${n[t]||n.not_started}`,title:"Click to cycle status",children:r.label})}function nq({booking:t,currency:e}){const{dispatch:r,showToast:n}=rr(),i=Yc.find(s=>s.id===t.category)||Yc[5],a=()=>{r({type:ye.CYCLE_BOOKING_STATUS,payload:t.id});const s=["not_started","in_progress","booked"],l=(s.indexOf(t.status)+1)%s.length;s[l]==="booked"&&n("Booked!  One less thing to worry about.")};return v.jsxs(Lt,{hover:!0,className:"animate-fade-in",children:[v.jsxs("div",{className:"flex items-start justify-between gap-3",children:[v.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[v.jsx("span",{className:"text-2xl flex-shrink-0",children:i.emoji}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[v.jsx(vr,{value:t.name,onSave:s=>r({type:ye.UPDATE_BOOKING,payload:{id:t.id,updates:{name:s}}}),className:"font-medium text-text-primary text-sm"}),t.priority&&v.jsx("span",{className:"text-xs",title:"Priority",children:""})]}),v.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[v.jsx("span",{className:"text-xs px-2 py-0.5 bg-bg-hover rounded-[var(--radius-pill)] text-text-muted",children:i.label}),v.jsx(rq,{status:t.status,onClick:a})]})]})]}),v.jsx("button",{onClick:()=>r({type:ye.UPDATE_BOOKING,payload:{id:t.id,updates:{priority:!t.priority}}}),className:`text-lg flex-shrink-0 transition-transform hover:scale-110 ${t.priority?"":"opacity-30 hover:opacity-60"}`,title:"Toggle priority",children:""})]}),v.jsxs("div",{className:"mt-3 pt-3 border-t border-border/50 grid grid-cols-2 sm:grid-cols-3 gap-4 text-sm",children:[v.jsxs("div",{children:[v.jsx("span",{className:"text-text-muted text-xs block",children:"Confirmation #"}),v.jsx(vr,{value:t.confirmationNumber,onSave:s=>r({type:ye.UPDATE_BOOKING,payload:{id:t.id,updates:{confirmationNumber:s}}}),className:"font-mono text-text-primary text-xs",placeholder:""})]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-text-muted text-xs block",children:"Amount Paid"}),v.jsx(vr,{value:t.amountPaid?String(t.amountPaid):"",onSave:s=>r({type:ye.UPDATE_BOOKING,payload:{id:t.id,updates:{amountPaid:Number(s)||0}}}),className:"text-text-primary text-xs",placeholder:sn(0,e)})]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-text-muted text-xs block",children:"Book By"}),v.jsx(vr,{value:t.bookByDate,onSave:s=>r({type:ye.UPDATE_BOOKING,payload:{id:t.id,updates:{bookByDate:s}}}),className:"text-text-primary text-xs",placeholder:""})]})]}),v.jsx("div",{className:"mt-2 text-right",children:v.jsx("button",{onClick:()=>r({type:ye.DELETE_BOOKING,payload:t.id}),className:"text-xs text-text-muted hover:text-danger transition-colors",children:"Remove"})})]})}function iq({onAdd:t,onCancel:e}){const[r,n]=H.useState(""),[i,a]=H.useState("custom"),s=l=>{l.preventDefault(),r.trim()&&(t({name:r.trim(),category:i}),n(""),a("custom"))};return v.jsx(Lt,{children:v.jsxs("form",{onSubmit:s,className:"flex flex-wrap gap-2 items-end",children:[v.jsxs("div",{className:"flex-1 min-w-[200px]",children:[v.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Booking name"}),v.jsx("input",{value:r,onChange:l=>n(l.target.value),placeholder:"e.g., Singapore Hotel",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Category"}),v.jsx("select",{value:i,onChange:l=>a(l.target.value),className:"px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",children:Yc.map(l=>v.jsxs("option",{value:l.id,children:[l.emoji," ",l.label]},l.id))})]}),v.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),v.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"})]})})}function aq(){var _,S;const{activeTrip:t}=rr(),[e,r]=H.useState("all"),[n,i]=H.useState(!1),{dispatch:a,showToast:s}=rr();if(!t)return null;const l=t,c=((_=l.bookings)==null?void 0:_.filter(T=>T.status==="booked").length)||0,f=((S=l.bookings)==null?void 0:S.length)||0,h=H.useMemo(()=>{let T=[...l.bookings||[]];return e!=="all"&&(T=T.filter(b=>b.category===e)),T.sort((b,k)=>b.status==="booked"&&k.status!=="booked"?1:k.status==="booked"&&b.status!=="booked"||b.priority&&!k.priority?-1:k.priority&&!b.priority?1:0)},[l.bookings,e]),m=[{id:"all",label:"All"},...Yc.filter(T=>{var b;return(b=l.bookings)==null?void 0:b.some(k=>k.category===T.id)}).map(T=>({id:T.id,label:T.label}))],y=()=>{var b;const T=(b=l.bookings)==null?void 0:b.map(k=>{const j=Yc.find(R=>R.id===k.category);return`${(j==null?void 0:j.emoji)||""} ${k.name}  ${k.status==="booked"?" Booked":" "+k.status.replace("_"," ")}${k.confirmationNumber?` (#${k.confirmationNumber})`:""}`}).join(`
`);navigator.clipboard.writeText(` ${l.name}  Bookings

${T}`),s("Bookings copied to clipboard! ")};return v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsxs(Lt,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("h2",{className:"font-heading text-lg text-text-primary",children:" Bookings"}),v.jsxs("span",{className:"text-sm text-text-muted",children:[c," of ",f," confirmed"]})]}),v.jsx(yu,{value:c,max:f,colorClass:"bg-success",height:"h-2"})]}),v.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[v.jsx("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide",children:m.map(T=>v.jsx("button",{onClick:()=>r(T.id),className:`px-3 py-1.5 text-xs font-medium rounded-[var(--radius-pill)] whitespace-nowrap transition-colors
                ${e===T.id?"bg-accent text-white":"bg-bg-secondary text-text-muted hover:text-text-secondary border border-border"}`,children:T.label},T.id))}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:y,className:"px-3 py-1.5 text-xs text-text-muted hover:text-text-secondary border border-border rounded-[var(--radius-sm)] hover:bg-bg-hover transition-colors",children:" Export"}),v.jsx("button",{onClick:()=>i(!0),className:"px-3 py-1.5 text-xs bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover transition-colors",children:"+ Add Booking"})]})]}),n&&v.jsx(iq,{onAdd:T=>{a({type:ye.ADD_BOOKING,payload:T}),i(!1)},onCancel:()=>i(!1)}),v.jsx("div",{className:"space-y-4",children:h.map(T=>v.jsx(nq,{booking:T,currency:l.currency},T.id))}),h.length===0&&v.jsxs(Lt,{className:"text-center py-8",children:[v.jsx("p",{className:"text-3xl mb-2",children:""}),v.jsxs("p",{className:"text-text-muted text-sm",children:["No bookings ",e!=="all"?"in this category":"yet","."]})]})]})}function MD(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=MD(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function at(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=MD(t))&&(n&&(n+=" "),n+=e);return n}var Gy,NP;function Hr(){if(NP)return Gy;NP=1;var t=Array.isArray;return Gy=t,Gy}var Ky,RP;function LD(){if(RP)return Ky;RP=1;var t=typeof lh=="object"&&lh&&lh.Object===Object&&lh;return Ky=t,Ky}var Yy,jP;function Si(){if(jP)return Yy;jP=1;var t=LD(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Yy=r,Yy}var Xy,DP;function Uf(){if(DP)return Xy;DP=1;var t=Si(),e=t.Symbol;return Xy=e,Xy}var Qy,MP;function oq(){if(MP)return Qy;MP=1;var t=Uf(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var l=r.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=n.call(s);return f&&(l?s[i]=c:delete s[i]),h}return Qy=a,Qy}var Jy,LP;function sq(){if(LP)return Jy;LP=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Jy=r,Jy}var Zy,VP;function ca(){if(VP)return Zy;VP=1;var t=Uf(),e=oq(),r=sq(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:n:a&&a in Object(l)?e(l):r(l)}return Zy=s,Zy}var ev,$P;function fa(){if($P)return ev;$P=1;function t(e){return e!=null&&typeof e=="object"}return ev=t,ev}var tv,FP;function dl(){if(FP)return tv;FP=1;var t=ca(),e=fa(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return tv=n,tv}var rv,BP;function C1(){if(BP)return rv;BP=1;var t=Hr(),e=dl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return rv=i,rv}var nv,UP;function lo(){if(UP)return nv;UP=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return nv=t,nv}var iv,qP;function k1(){if(qP)return iv;qP=1;var t=ca(),e=lo(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==n||c==i||c==r||c==a}return iv=s,iv}var av,zP;function uq(){if(zP)return av;zP=1;var t=Si(),e=t["__core-js_shared__"];return av=e,av}var ov,WP;function lq(){if(WP)return ov;WP=1;var t=uq(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return ov=r,ov}var sv,HP;function VD(){if(HP)return sv;HP=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return sv=r,sv}var uv,GP;function cq(){if(GP)return uv;GP=1;var t=k1(),e=lq(),r=lo(),n=VD(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!r(y)||e(y))return!1;var _=t(y)?h:a;return _.test(n(y))}return uv=m,uv}var lv,KP;function fq(){if(KP)return lv;KP=1;function t(e,r){return e==null?void 0:e[r]}return lv=t,lv}var cv,YP;function _s(){if(YP)return cv;YP=1;var t=cq(),e=fq();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return cv=r,cv}var fv,XP;function Tm(){if(XP)return fv;XP=1;var t=_s(),e=t(Object,"create");return fv=e,fv}var dv,QP;function dq(){if(QP)return dv;QP=1;var t=Tm();function e(){this.__data__=t?t(null):{},this.size=0}return dv=e,dv}var hv,JP;function hq(){if(JP)return hv;JP=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return hv=t,hv}var pv,ZP;function pq(){if(ZP)return pv;ZP=1;var t=Tm(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var l=s[a];return l===e?void 0:l}return n.call(s,a)?s[a]:void 0}return pv=i,pv}var mv,eI;function mq(){if(eI)return mv;eI=1;var t=Tm(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return mv=n,mv}var gv,tI;function gq(){if(tI)return gv;tI=1;var t=Tm(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return gv=r,gv}var yv,rI;function yq(){if(rI)return yv;rI=1;var t=dq(),e=hq(),r=pq(),n=mq(),i=gq();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,yv=a,yv}var vv,nI;function vq(){if(nI)return vv;nI=1;function t(){this.__data__=[],this.size=0}return vv=t,vv}var xv,iI;function N1(){if(iI)return xv;iI=1;function t(e,r){return e===r||e!==e&&r!==r}return xv=t,xv}var _v,aI;function Sm(){if(aI)return _v;aI=1;var t=N1();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return _v=e,_v}var bv,oI;function xq(){if(oI)return bv;oI=1;var t=Sm(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var l=a.length-1;return s==l?a.pop():r.call(a,s,1),--this.size,!0}return bv=n,bv}var wv,sI;function _q(){if(sI)return wv;sI=1;var t=Sm();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return wv=e,wv}var Ev,uI;function bq(){if(uI)return Ev;uI=1;var t=Sm();function e(r){return t(this.__data__,r)>-1}return Ev=e,Ev}var Tv,lI;function wq(){if(lI)return Tv;lI=1;var t=Sm();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Tv=e,Tv}var Sv,cI;function Am(){if(cI)return Sv;cI=1;var t=vq(),e=xq(),r=_q(),n=bq(),i=wq();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Sv=a,Sv}var Av,fI;function R1(){if(fI)return Av;fI=1;var t=_s(),e=Si(),r=t(e,"Map");return Av=r,Av}var Pv,dI;function Eq(){if(dI)return Pv;dI=1;var t=yq(),e=Am(),r=R1();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Pv=n,Pv}var Iv,hI;function Tq(){if(hI)return Iv;hI=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Iv=t,Iv}var Ov,pI;function Pm(){if(pI)return Ov;pI=1;var t=Tq();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Ov=e,Ov}var Cv,mI;function Sq(){if(mI)return Cv;mI=1;var t=Pm();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Cv=e,Cv}var kv,gI;function Aq(){if(gI)return kv;gI=1;var t=Pm();function e(r){return t(this,r).get(r)}return kv=e,kv}var Nv,yI;function Pq(){if(yI)return Nv;yI=1;var t=Pm();function e(r){return t(this,r).has(r)}return Nv=e,Nv}var Rv,vI;function Iq(){if(vI)return Rv;vI=1;var t=Pm();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return Rv=e,Rv}var jv,xI;function j1(){if(xI)return jv;xI=1;var t=Eq(),e=Sq(),r=Aq(),n=Pq(),i=Iq();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,jv=a,jv}var Dv,_I;function $D(){if(_I)return Dv;_I=1;var t=j1(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=a.cache;if(c.has(l))return c.get(l);var f=n.apply(this,s);return a.cache=c.set(l,f)||c,f};return a.cache=new(r.Cache||t),a}return r.Cache=t,Dv=r,Dv}var Mv,bI;function Oq(){if(bI)return Mv;bI=1;var t=$D(),e=500;function r(n){var i=t(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return Mv=r,Mv}var Lv,wI;function Cq(){if(wI)return Lv;wI=1;var t=Oq(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,l,c,f){a.push(c?f.replace(r,"$1"):l||s)}),a});return Lv=n,Lv}var Vv,EI;function D1(){if(EI)return Vv;EI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return Vv=t,Vv}var $v,TI;function kq(){if(TI)return $v;TI=1;var t=Uf(),e=D1(),r=Hr(),n=dl(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(r(l))return e(l,s)+"";if(n(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return $v=s,$v}var Fv,SI;function FD(){if(SI)return Fv;SI=1;var t=kq();function e(r){return r==null?"":t(r)}return Fv=e,Fv}var Bv,AI;function BD(){if(AI)return Bv;AI=1;var t=Hr(),e=C1(),r=Cq(),n=FD();function i(a,s){return t(a)?a:e(a,s)?[a]:r(n(a))}return Bv=i,Bv}var Uv,PI;function Im(){if(PI)return Uv;PI=1;var t=dl();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Uv=e,Uv}var qv,II;function M1(){if(II)return qv;II=1;var t=BD(),e=Im();function r(n,i){i=t(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return qv=r,qv}var zv,OI;function UD(){if(OI)return zv;OI=1;var t=M1();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return zv=e,zv}var Nq=UD();const wn=dt(Nq);var Wv,CI;function Rq(){if(CI)return Wv;CI=1;function t(e){return e==null}return Wv=t,Wv}var jq=Rq();const ot=dt(jq);var Hv,kI;function Dq(){if(kI)return Hv;kI=1;var t=ca(),e=Hr(),r=fa(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return Hv=i,Hv}var Mq=Dq();const fs=dt(Mq);var Lq=k1();const Ge=dt(Lq);var Vq=lo();const hl=dt(Vq);var Gv={exports:{}},st={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NI;function $q(){if(NI)return st;NI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function T(b){if(typeof b=="object"&&b!==null){var k=b.$$typeof;switch(k){case t:switch(b=b.type,b){case r:case i:case n:case f:case h:return b;default:switch(b=b&&b.$$typeof,b){case l:case s:case c:case y:case m:case a:return b;default:return k}}case e:return k}}}return st.ContextConsumer=s,st.ContextProvider=a,st.Element=t,st.ForwardRef=c,st.Fragment=r,st.Lazy=y,st.Memo=m,st.Portal=e,st.Profiler=i,st.StrictMode=n,st.Suspense=f,st.SuspenseList=h,st.isAsyncMode=function(){return!1},st.isConcurrentMode=function(){return!1},st.isContextConsumer=function(b){return T(b)===s},st.isContextProvider=function(b){return T(b)===a},st.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},st.isForwardRef=function(b){return T(b)===c},st.isFragment=function(b){return T(b)===r},st.isLazy=function(b){return T(b)===y},st.isMemo=function(b){return T(b)===m},st.isPortal=function(b){return T(b)===e},st.isProfiler=function(b){return T(b)===i},st.isStrictMode=function(b){return T(b)===n},st.isSuspense=function(b){return T(b)===f},st.isSuspenseList=function(b){return T(b)===h},st.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===f||b===h||b===_||typeof b=="object"&&b!==null&&(b.$$typeof===y||b.$$typeof===m||b.$$typeof===a||b.$$typeof===s||b.$$typeof===c||b.$$typeof===S||b.getModuleId!==void 0)},st.typeOf=T,st}var RI;function Fq(){return RI||(RI=1,Gv.exports=$q()),Gv.exports}var Bq=Fq(),Kv,jI;function qD(){if(jI)return Kv;jI=1;var t=ca(),e=fa(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return Kv=n,Kv}var Yv,DI;function Uq(){if(DI)return Yv;DI=1;var t=qD();function e(r){return t(r)&&r!=+r}return Yv=e,Yv}var qq=Uq();const qf=dt(qq);var zq=qD();const Wq=dt(zq);var Bn=function(e){return e===0?0:e>0?1:-1},Ko=function(e){return fs(e)&&e.indexOf("%")===e.length-1},xe=function(e){return Wq(e)&&!qf(e)},Hq=function(e){return ot(e)},er=function(e){return xe(e)||fs(e)},Gq=0,Om=function(e){var r=++Gq;return"".concat(e||"").concat(r)},ds=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(e)&&!fs(e))return n;var a;if(Ko(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return qf(a)&&(a=n),i&&a>r&&(a=r),a},Ga=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Kq=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},lu=function(e,r){return xe(e)&&xe(r)?function(n){return e+n*(r-e)}:function(){return r}};function _b(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):wn(n,e))===r})}var Yq=function(e,r){return xe(e)&&xe(r)?e-r:fs(e)&&fs(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Pu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function bb(t){"@babel/helpers - typeof";return bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bb(t)}var Xq=["viewBox","children"],Qq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],MI=["points","pathLength"],Xv={svg:Xq,polygon:MI,polyline:MI},L1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],cp=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(H.isValidElement(e)&&(n=e.props),!hl(n))return null;var i={};return Object.keys(n).forEach(function(a){L1.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},Jq=function(e,r,n){return function(i){return e(r,n,i),null}},fp=function(e,r,n){if(!hl(e)||bb(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];L1.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Jq(s,r,n))}),i},Zq=["children"],e8=["children"];function LI(t,e){if(t==null)return{};var r=t8(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function t8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var VI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ji=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},$I=null,Qv=null,V1=function t(e){if(e===$I&&Array.isArray(Qv))return Qv;var r=[];return H.Children.forEach(e,function(n){ot(n)||(Bq.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Qv=r,$I=e,r};function zn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ji(i)}):n=[Ji(e)],V1(t).forEach(function(i){var a=wn(i,"type.displayName")||wn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function an(t,e){var r=zn(t,e);return r&&r[0]}var FI=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!xe(n)||n<=0||!xe(i)||i<=0)},r8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],n8=function(e){return e&&e.type&&fs(e.type)&&r8.indexOf(e.type)>=0},i8=function(e,r,n,i){var a,s=(a=Xv==null?void 0:Xv[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ge(e)&&(i&&s.includes(r)||Qq.includes(r))||n&&L1.includes(r)},it=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(H.isValidElement(e)&&(i=e.props),!hl(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;i8((l=i)===null||l===void 0?void 0:l[s],s,r,n)&&(a[s]=i[s])}),a},wb=function t(e,r){if(e===r)return!0;var n=H.Children.count(e);if(n!==H.Children.count(r))return!1;if(n===0)return!0;if(n===1)return BI(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!BI(a,s))return!1}return!0},BI=function(e,r){if(ot(e)&&ot(r))return!0;if(!ot(e)&&!ot(r)){var n=e.props||{},i=n.children,a=LI(n,Zq),s=r.props||{},l=s.children,c=LI(s,e8);return i&&l?Pu(a,c)&&wb(i,l):!i&&!l?Pu(a,c):!1}return!1},UI=function(e,r){var n=[],i={};return V1(e).forEach(function(a,s){if(n8(a))n.push(a);else if(a){var l=Ji(a.type),c=r[l]||{},f=c.handler,h=c.once;if(f&&(!h||!i[l])){var m=f(a,l,s);n.push(m),i[l]=!0}}}),n},a8=function(e){var r=e&&e.type;return r&&VI[r]?VI[r]:null},o8=function(e,r){return V1(r).indexOf(e)},s8=["children","width","height","viewBox","className","style","title","desc"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eb.apply(this,arguments)}function u8(t,e){if(t==null)return{};var r=l8(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function l8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Tb(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,l=t.title,c=t.desc,f=u8(t,s8),h=i||{width:r,height:n,x:0,y:0},m=at("recharts-surface",a);return K.createElement("svg",Eb({},it(f,!0,"svg"),{className:m,width:r,height:n,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),K.createElement("title",null,l),K.createElement("desc",null,c),e)}var c8=["children","className"];function Sb(){return Sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sb.apply(this,arguments)}function f8(t,e){if(t==null)return{};var r=d8(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function d8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var lr=K.forwardRef(function(t,e){var r=t.children,n=t.className,i=f8(t,c8),a=at("recharts-layer",n);return K.createElement("g",Sb({className:a},it(i,!0),{ref:e}),r)}),Zi=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},Jv,qI;function h8(){if(qI)return Jv;qI=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return Jv=t,Jv}var Zv,zI;function p8(){if(zI)return Zv;zI=1;var t=h8();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return Zv=e,Zv}var e0,WI;function zD(){if(WI)return e0;WI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+a+"]");function c(f){return l.test(f)}return e0=c,e0}var t0,HI;function m8(){if(HI)return t0;HI=1;function t(e){return e.split("")}return t0=t,t0}var r0,GI;function g8(){if(GI)return r0;GI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+c+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",S=f+"?",T="["+a+"]?",b="(?:"+_+"(?:"+[h,m,y].join("|")+")"+T+S+")*",k=T+S+b,j="(?:"+[h+l+"?",l,m,y,s].join("|")+")",R=RegExp(c+"(?="+c+")|"+j+k,"g");function M(P){return P.match(R)||[]}return r0=M,r0}var n0,KI;function y8(){if(KI)return n0;KI=1;var t=m8(),e=zD(),r=g8();function n(i){return e(i)?r(i):t(i)}return n0=n,n0}var i0,YI;function v8(){if(YI)return i0;YI=1;var t=p8(),e=zD(),r=y8(),n=FD();function i(a){return function(s){s=n(s);var l=e(s)?r(s):void 0,c=l?l[0]:s.charAt(0),f=l?t(l,1).join(""):s.slice(1);return c[a]()+f}}return i0=i,i0}var a0,XI;function x8(){if(XI)return a0;XI=1;var t=v8(),e=t("toUpperCase");return a0=e,a0}var _8=x8();const Cm=dt(_8);function _t(t){return function(){return t}}const WD=Math.cos,dp=Math.sin,Wn=Math.sqrt,hp=Math.PI,km=2*hp,Ab=Math.PI,Pb=2*Ab,zo=1e-6,b8=Pb-zo;function HD(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function w8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return HD;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class E8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?HD:w8(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=n-e,f=i-r,h=s-e,m=l-r,y=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>zo)if(!(Math.abs(m*c-f*h)>zo)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let _=n-s,S=i-l,T=c*c+f*f,b=_*_+S*S,k=Math.sqrt(T),j=Math.sqrt(y),R=a*Math.tan((Ab-Math.acos((T+y-b)/(2*k*j)))/2),M=R/j,P=R/k;Math.abs(M-1)>zo&&this._append`L${e+M*h},${r+M*m}`,this._append`A${a},${a},0,0,${+(m*_>h*S)},${this._x1=e+P*c},${this._y1=r+P*f}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),f=e+l,h=r+c,m=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>zo||Math.abs(this._y1-h)>zo)&&this._append`L${f},${h}`,n&&(y<0&&(y=y%Pb+Pb),y>b8?this._append`A${n},${n},0,1,${m},${e-l},${r-c}A${n},${n},0,1,${m},${this._x1=f},${this._y1=h}`:y>zo&&this._append`A${n},${n},0,${+(y>=Ab)},${m},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function $1(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new E8(e)}function F1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function GD(t){this._context=t}GD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Nm(t){return new GD(t)}function KD(t){return t[0]}function YD(t){return t[1]}function XD(t,e){var r=_t(!0),n=null,i=Nm,a=null,s=$1(l);t=typeof t=="function"?t:t===void 0?KD:_t(t),e=typeof e=="function"?e:e===void 0?YD:_t(e);function l(c){var f,h=(c=F1(c)).length,m,y=!1,_;for(n==null&&(a=i(_=s())),f=0;f<=h;++f)!(f<h&&r(m=c[f],f,c))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(m,f,c),+e(m,f,c));if(_)return a=null,_+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:_t(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:_t(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:_t(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function vh(t,e,r){var n=null,i=_t(!0),a=null,s=Nm,l=null,c=$1(f);t=typeof t=="function"?t:t===void 0?KD:_t(+t),e=typeof e=="function"?e:_t(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?YD:_t(+r);function f(m){var y,_,S,T=(m=F1(m)).length,b,k=!1,j,R=new Array(T),M=new Array(T);for(a==null&&(l=s(j=c())),y=0;y<=T;++y){if(!(y<T&&i(b=m[y],y,m))===k)if(k=!k)_=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),S=y-1;S>=_;--S)l.point(R[S],M[S]);l.lineEnd(),l.areaEnd()}k&&(R[y]=+t(b,y,m),M[y]=+e(b,y,m),l.point(n?+n(b,y,m):R[y],r?+r(b,y,m):M[y]))}if(j)return l=null,j+""||null}function h(){return XD().defined(i).curve(s).context(a)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:_t(+m),n=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:_t(+m),f):t},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:_t(+m),f):n},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:_t(+m),r=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:_t(+m),f):e},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:_t(+m),f):r},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(r)},f.lineX1=function(){return h().x(n).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:_t(!!m),f):i},f.curve=function(m){return arguments.length?(s=m,a!=null&&(l=s(a)),f):s},f.context=function(m){return arguments.length?(m==null?a=l=null:l=s(a=m),f):a},f}class QD{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function T8(t){return new QD(t,!0)}function S8(t){return new QD(t,!1)}const B1={draw(t,e){const r=Wn(e/hp);t.moveTo(r,0),t.arc(0,0,r,0,km)}},A8={draw(t,e){const r=Wn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},JD=Wn(1/3),P8=JD*2,I8={draw(t,e){const r=Wn(e/P8),n=r*JD;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},O8={draw(t,e){const r=Wn(e),n=-r/2;t.rect(n,n,r,r)}},C8=.8908130915292852,ZD=dp(hp/10)/dp(7*hp/10),k8=dp(km/10)*ZD,N8=-WD(km/10)*ZD,R8={draw(t,e){const r=Wn(e*C8),n=k8*r,i=N8*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=km*a/5,l=WD(s),c=dp(s);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},o0=Wn(3),j8={draw(t,e){const r=-Wn(e/(o0*3));t.moveTo(0,r*2),t.lineTo(-o0*r,-r),t.lineTo(o0*r,-r),t.closePath()}},gn=-.5,yn=Wn(3)/2,Ib=1/Wn(12),D8=(Ib/2+1)*3,M8={draw(t,e){const r=Wn(e/D8),n=r/2,i=r*Ib,a=n,s=r*Ib+r,l=-a,c=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(l,c),t.lineTo(gn*n-yn*i,yn*n+gn*i),t.lineTo(gn*a-yn*s,yn*a+gn*s),t.lineTo(gn*l-yn*c,yn*l+gn*c),t.lineTo(gn*n+yn*i,gn*i-yn*n),t.lineTo(gn*a+yn*s,gn*s-yn*a),t.lineTo(gn*l+yn*c,gn*c-yn*l),t.closePath()}};function L8(t,e){let r=null,n=$1(i);t=typeof t=="function"?t:_t(t||B1),e=typeof e=="function"?e:_t(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:_t(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:_t(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function pp(){}function mp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function eM(t){this._context=t}eM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function V8(t){return new eM(t)}function tM(t){this._context=t}tM.prototype={areaStart:pp,areaEnd:pp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:mp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $8(t){return new tM(t)}function rM(t){this._context=t}rM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:mp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function F8(t){return new rM(t)}function nM(t){this._context=t}nM.prototype={areaStart:pp,areaEnd:pp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function B8(t){return new nM(t)}function QI(t){return t<0?-1:1}function JI(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),l=(a*i+s*n)/(n+i);return(QI(a)+QI(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function ZI(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function s0(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,s-l*r,a,s)}function gp(t){this._context=t}gp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:s0(this,this._t0,ZI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,s0(this,ZI(this,r=JI(this,t,e)),r);break;default:s0(this,this._t0,r=JI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function iM(t){this._context=new aM(t)}(iM.prototype=Object.create(gp.prototype)).point=function(t,e){gp.prototype.point.call(this,e,t)};function aM(t){this._context=t}aM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function U8(t){return new gp(t)}function q8(t){return new iM(t)}function oM(t){this._context=t}oM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=eO(t),i=eO(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function eO(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function z8(t){return new oM(t)}function Rm(t,e){this._context=t,this._t=e}Rm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function W8(t){return new Rm(t,.5)}function H8(t){return new Rm(t,0)}function G8(t){return new Rm(t,1)}function Vu(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,l=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Ob(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function K8(t,e){return t[e]}function Y8(t){const e=[];return e.key=t,e}function X8(){var t=_t([]),e=Ob,r=Vu,n=K8;function i(a){var s=Array.from(t.apply(this,arguments),Y8),l,c=s.length,f=-1,h;for(const m of a)for(l=0,++f;l<c;++l)(s[l][f]=[0,+n(m,s[l].key,f,a)]).data=m;for(l=0,h=F1(e(s));l<c;++l)s[h[l]].index=l;return r(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:_t(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:_t(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Ob:typeof a=="function"?a:_t(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Vu,i):r},i}function Q8(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Vu(t,e)}}function J8(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,l=0;s<i;++s)l+=t[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Vu(t,e)}}function Z8(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var l=0,c=0,f=0;l<s;++l){for(var h=t[e[l]],m=h[n][1]||0,y=h[n-1][1]||0,_=(m-y)/2,S=0;S<l;++S){var T=t[e[S]],b=T[n][1]||0,k=T[n-1][1]||0;_+=b-k}c+=m,f+=_*m}i[n-1][1]+=i[n-1][0]=r,c&&(r-=f/c)}i[n-1][1]+=i[n-1][0]=r,Vu(t,e)}}function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}var ez=["type","size","sizeType"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cb.apply(this,arguments)}function tO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(r),!0).forEach(function(n){tz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tz(t,e,r){return e=rz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rz(t){var e=nz(t,"string");return Xc(e)=="symbol"?e:e+""}function nz(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iz(t,e){if(t==null)return{};var r=az(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function az(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var sM={symbolCircle:B1,symbolCross:A8,symbolDiamond:I8,symbolSquare:O8,symbolStar:R8,symbolTriangle:j8,symbolWye:M8},oz=Math.PI/180,sz=function(e){var r="symbol".concat(Cm(e));return sM[r]||B1},uz=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*oz;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},lz=function(e,r){sM["symbol".concat(Cm(e))]=r},U1=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=iz(e,ez),f=rO(rO({},c),{},{type:n,size:a,sizeType:l}),h=function(){var b=sz(n),k=L8().type(b).size(uz(a,l,n));return k()},m=f.className,y=f.cx,_=f.cy,S=it(f,!0);return y===+y&&_===+_&&a===+a?K.createElement("path",Cb({},S,{className:at("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(_,")"),d:h()})):null};U1.registerSymbol=lz;function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function kb(){return kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kb.apply(this,arguments)}function nO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(r),!0).forEach(function(n){Qc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lM(n.key),n)}}function hz(t,e,r){return e&&dz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pz(t,e,r){return e=yp(e),mz(t,uM()?Reflect.construct(e,r||[],yp(t).constructor):e.apply(t,r))}function mz(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gz(t)}function gz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uM=function(){return!!t})()}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yp(t)}function yz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nb(t,e)}function Nb(t,e){return Nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Nb(t,e)}function Qc(t,e,r){return e=lM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lM(t){var e=vz(t,"string");return $u(e)=="symbol"?e:e+""}function vz(t,e){if($u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vn=32,q1=(function(t){function e(){return fz(this,e),pz(this,e,arguments)}return yz(e,t),hz(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=vn/2,s=vn/6,l=vn/3,c=n.inactive?i:n.color;if(n.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:vn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(vn,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return K.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(vn/8,"h").concat(vn,"v").concat(vn*3/4,"h").concat(-vn,"z"),className:"recharts-legend-icon"});if(K.isValidElement(n.legendIcon)){var f=cz({},n);return delete f.legendIcon,K.cloneElement(n.legendIcon,f)}return K.createElement(U1,{fill:c,cx:a,cy:a,size:vn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:vn,height:vn},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(_,S){var T=_.formatter||c,b=at(Qc(Qc({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",_.inactive));if(_.type==="none")return null;var k=Ge(_.value)?null:_.value;Zi(!Ge(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=_.inactive?f:_.color;return K.createElement("li",kb({className:b,style:m,key:"legend-item-".concat(S)},fp(n.props,_,S)),K.createElement(Tb,{width:s,height:s,viewBox:h,style:y},n.renderIcon(_)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},T?T(k,_,S):k))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(H.PureComponent);Qc(q1,"displayName","Legend");Qc(q1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var u0,iO;function xz(){if(iO)return u0;iO=1;var t=Am();function e(){this.__data__=new t,this.size=0}return u0=e,u0}var l0,aO;function _z(){if(aO)return l0;aO=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return l0=t,l0}var c0,oO;function bz(){if(oO)return c0;oO=1;function t(e){return this.__data__.get(e)}return c0=t,c0}var f0,sO;function wz(){if(sO)return f0;sO=1;function t(e){return this.__data__.has(e)}return f0=t,f0}var d0,uO;function Ez(){if(uO)return d0;uO=1;var t=Am(),e=R1(),r=j1(),n=200;function i(a,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([a,s]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(a,s),this.size=l.size,this}return d0=i,d0}var h0,lO;function cM(){if(lO)return h0;lO=1;var t=Am(),e=xz(),r=_z(),n=bz(),i=wz(),a=Ez();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,h0=s,h0}var p0,cO;function Tz(){if(cO)return p0;cO=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return p0=e,p0}var m0,fO;function Sz(){if(fO)return m0;fO=1;function t(e){return this.__data__.has(e)}return m0=t,m0}var g0,dO;function fM(){if(dO)return g0;dO=1;var t=j1(),e=Tz(),r=Sz();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,g0=n,g0}var y0,hO;function dM(){if(hO)return y0;hO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return y0=t,y0}var v0,pO;function hM(){if(pO)return v0;pO=1;function t(e,r){return e.has(r)}return v0=t,v0}var x0,mO;function pM(){if(mO)return x0;mO=1;var t=fM(),e=dM(),r=hM(),n=1,i=2;function a(s,l,c,f,h,m){var y=c&n,_=s.length,S=l.length;if(_!=S&&!(y&&S>_))return!1;var T=m.get(s),b=m.get(l);if(T&&b)return T==l&&b==s;var k=-1,j=!0,R=c&i?new t:void 0;for(m.set(s,l),m.set(l,s);++k<_;){var M=s[k],P=l[k];if(f)var C=y?f(P,M,k,l,s,m):f(M,P,k,s,l,m);if(C!==void 0){if(C)continue;j=!1;break}if(R){if(!e(l,function(A,O){if(!r(R,O)&&(M===A||h(M,A,c,f,m)))return R.push(O)})){j=!1;break}}else if(!(M===P||h(M,P,c,f,m))){j=!1;break}}return m.delete(s),m.delete(l),j}return x0=a,x0}var _0,gO;function Az(){if(gO)return _0;gO=1;var t=Si(),e=t.Uint8Array;return _0=e,_0}var b0,yO;function Pz(){if(yO)return b0;yO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return b0=t,b0}var w0,vO;function z1(){if(vO)return w0;vO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return w0=t,w0}var E0,xO;function Iz(){if(xO)return E0;xO=1;var t=Uf(),e=Az(),r=N1(),n=pM(),i=Pz(),a=z1(),s=1,l=2,c="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",y="[object Number]",_="[object RegExp]",S="[object Set]",T="[object String]",b="[object Symbol]",k="[object ArrayBuffer]",j="[object DataView]",R=t?t.prototype:void 0,M=R?R.valueOf:void 0;function P(C,A,O,N,F,V,$){switch(O){case j:if(C.byteLength!=A.byteLength||C.byteOffset!=A.byteOffset)return!1;C=C.buffer,A=A.buffer;case k:return!(C.byteLength!=A.byteLength||!V(new e(C),new e(A)));case c:case f:case y:return r(+C,+A);case h:return C.name==A.name&&C.message==A.message;case _:case T:return C==A+"";case m:var L=i;case S:var Z=N&s;if(L||(L=a),C.size!=A.size&&!Z)return!1;var ee=$.get(C);if(ee)return ee==A;N|=l,$.set(C,A);var oe=n(L(C),L(A),N,F,V,$);return $.delete(C),oe;case b:if(M)return M.call(C)==M.call(A)}return!1}return E0=P,E0}var T0,_O;function mM(){if(_O)return T0;_O=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return T0=t,T0}var S0,bO;function Oz(){if(bO)return S0;bO=1;var t=mM(),e=Hr();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return S0=r,S0}var A0,wO;function Cz(){if(wO)return A0;wO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var l=e[n];r(l,n,e)&&(s[a++]=l)}return s}return A0=t,A0}var P0,EO;function kz(){if(EO)return P0;EO=1;function t(){return[]}return P0=t,P0}var I0,TO;function Nz(){if(TO)return I0;TO=1;var t=Cz(),e=kz(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return n.call(s,l)}))}:e;return I0=a,I0}var O0,SO;function Rz(){if(SO)return O0;SO=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return O0=t,O0}var C0,AO;function jz(){if(AO)return C0;AO=1;var t=ca(),e=fa(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return C0=n,C0}var k0,PO;function W1(){if(PO)return k0;PO=1;var t=jz(),e=fa(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return k0=a,k0}var Ac={exports:{}},N0,IO;function Dz(){if(IO)return N0;IO=1;function t(){return!1}return N0=t,N0}Ac.exports;var OO;function gM(){return OO||(OO=1,(function(t,e){var r=Si(),n=Dz(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,f=c||n;t.exports=f})(Ac,Ac.exports)),Ac.exports}var R0,CO;function H1(){if(CO)return R0;CO=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return R0=r,R0}var j0,kO;function G1(){if(kO)return j0;kO=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return j0=e,j0}var D0,NO;function Mz(){if(NO)return D0;NO=1;var t=ca(),e=G1(),r=fa(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",y="[object RegExp]",_="[object Set]",S="[object String]",T="[object WeakMap]",b="[object ArrayBuffer]",k="[object DataView]",j="[object Float32Array]",R="[object Float64Array]",M="[object Int8Array]",P="[object Int16Array]",C="[object Int32Array]",A="[object Uint8Array]",O="[object Uint8ClampedArray]",N="[object Uint16Array]",F="[object Uint32Array]",V={};V[j]=V[R]=V[M]=V[P]=V[C]=V[A]=V[O]=V[N]=V[F]=!0,V[n]=V[i]=V[b]=V[a]=V[k]=V[s]=V[l]=V[c]=V[f]=V[h]=V[m]=V[y]=V[_]=V[S]=V[T]=!1;function $(L){return r(L)&&e(L.length)&&!!V[t(L)]}return D0=$,D0}var M0,RO;function yM(){if(RO)return M0;RO=1;function t(e){return function(r){return e(r)}}return M0=t,M0}var Pc={exports:{}};Pc.exports;var jO;function Lz(){return jO||(jO=1,(function(t,e){var r=LD(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=l})(Pc,Pc.exports)),Pc.exports}var L0,DO;function vM(){if(DO)return L0;DO=1;var t=Mz(),e=yM(),r=Lz(),n=r&&r.isTypedArray,i=n?e(n):t;return L0=i,L0}var V0,MO;function Vz(){if(MO)return V0;MO=1;var t=Rz(),e=W1(),r=Hr(),n=gM(),i=H1(),a=vM(),s=Object.prototype,l=s.hasOwnProperty;function c(f,h){var m=r(f),y=!m&&e(f),_=!m&&!y&&n(f),S=!m&&!y&&!_&&a(f),T=m||y||_||S,b=T?t(f.length,String):[],k=b.length;for(var j in f)(h||l.call(f,j))&&!(T&&(j=="length"||_&&(j=="offset"||j=="parent")||S&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||i(j,k)))&&b.push(j);return b}return V0=c,V0}var $0,LO;function $z(){if(LO)return $0;LO=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return $0=e,$0}var F0,VO;function xM(){if(VO)return F0;VO=1;function t(e,r){return function(n){return e(r(n))}}return F0=t,F0}var B0,$O;function Fz(){if($O)return B0;$O=1;var t=xM(),e=t(Object.keys,Object);return B0=e,B0}var U0,FO;function Bz(){if(FO)return U0;FO=1;var t=$z(),e=Fz(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var l in Object(a))n.call(a,l)&&l!="constructor"&&s.push(l);return s}return U0=i,U0}var q0,BO;function zf(){if(BO)return q0;BO=1;var t=k1(),e=G1();function r(n){return n!=null&&e(n.length)&&!t(n)}return q0=r,q0}var z0,UO;function jm(){if(UO)return z0;UO=1;var t=Vz(),e=Bz(),r=zf();function n(i){return r(i)?t(i):e(i)}return z0=n,z0}var W0,qO;function Uz(){if(qO)return W0;qO=1;var t=Oz(),e=Nz(),r=jm();function n(i){return t(i,r,e)}return W0=n,W0}var H0,zO;function qz(){if(zO)return H0;zO=1;var t=Uz(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,l,c,f,h){var m=l&e,y=t(a),_=y.length,S=t(s),T=S.length;if(_!=T&&!m)return!1;for(var b=_;b--;){var k=y[b];if(!(m?k in s:n.call(s,k)))return!1}var j=h.get(a),R=h.get(s);if(j&&R)return j==s&&R==a;var M=!0;h.set(a,s),h.set(s,a);for(var P=m;++b<_;){k=y[b];var C=a[k],A=s[k];if(c)var O=m?c(A,C,k,s,a,h):c(C,A,k,a,s,h);if(!(O===void 0?C===A||f(C,A,l,c,h):O)){M=!1;break}P||(P=k=="constructor")}if(M&&!P){var N=a.constructor,F=s.constructor;N!=F&&"constructor"in a&&"constructor"in s&&!(typeof N=="function"&&N instanceof N&&typeof F=="function"&&F instanceof F)&&(M=!1)}return h.delete(a),h.delete(s),M}return H0=i,H0}var G0,WO;function zz(){if(WO)return G0;WO=1;var t=_s(),e=Si(),r=t(e,"DataView");return G0=r,G0}var K0,HO;function Wz(){if(HO)return K0;HO=1;var t=_s(),e=Si(),r=t(e,"Promise");return K0=r,K0}var Y0,GO;function _M(){if(GO)return Y0;GO=1;var t=_s(),e=Si(),r=t(e,"Set");return Y0=r,Y0}var X0,KO;function Hz(){if(KO)return X0;KO=1;var t=_s(),e=Si(),r=t(e,"WeakMap");return X0=r,X0}var Q0,YO;function Gz(){if(YO)return Q0;YO=1;var t=zz(),e=R1(),r=Wz(),n=_M(),i=Hz(),a=ca(),s=VD(),l="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",y="[object DataView]",_=s(t),S=s(e),T=s(r),b=s(n),k=s(i),j=a;return(t&&j(new t(new ArrayBuffer(1)))!=y||e&&j(new e)!=l||r&&j(r.resolve())!=f||n&&j(new n)!=h||i&&j(new i)!=m)&&(j=function(R){var M=a(R),P=M==c?R.constructor:void 0,C=P?s(P):"";if(C)switch(C){case _:return y;case S:return l;case T:return f;case b:return h;case k:return m}return M}),Q0=j,Q0}var J0,XO;function Kz(){if(XO)return J0;XO=1;var t=cM(),e=pM(),r=Iz(),n=qz(),i=Gz(),a=Hr(),s=gM(),l=vM(),c=1,f="[object Arguments]",h="[object Array]",m="[object Object]",y=Object.prototype,_=y.hasOwnProperty;function S(T,b,k,j,R,M){var P=a(T),C=a(b),A=P?h:i(T),O=C?h:i(b);A=A==f?m:A,O=O==f?m:O;var N=A==m,F=O==m,V=A==O;if(V&&s(T)){if(!s(b))return!1;P=!0,N=!1}if(V&&!N)return M||(M=new t),P||l(T)?e(T,b,k,j,R,M):r(T,b,A,k,j,R,M);if(!(k&c)){var $=N&&_.call(T,"__wrapped__"),L=F&&_.call(b,"__wrapped__");if($||L){var Z=$?T.value():T,ee=L?b.value():b;return M||(M=new t),R(Z,ee,k,j,M)}}return V?(M||(M=new t),n(T,b,k,j,R,M)):!1}return J0=S,J0}var Z0,QO;function K1(){if(QO)return Z0;QO=1;var t=Kz(),e=fa();function r(n,i,a,s,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,l)}return Z0=r,Z0}var ex,JO;function Yz(){if(JO)return ex;JO=1;var t=cM(),e=K1(),r=1,n=2;function i(a,s,l,c){var f=l.length,h=f,m=!c;if(a==null)return!h;for(a=Object(a);f--;){var y=l[f];if(m&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++f<h;){y=l[f];var _=y[0],S=a[_],T=y[1];if(m&&y[2]){if(S===void 0&&!(_ in a))return!1}else{var b=new t;if(c)var k=c(S,T,_,a,s,b);if(!(k===void 0?e(T,S,r|n,c,b):k))return!1}}return!0}return ex=i,ex}var tx,ZO;function bM(){if(ZO)return tx;ZO=1;var t=lo();function e(r){return r===r&&!t(r)}return tx=e,tx}var rx,eC;function Xz(){if(eC)return rx;eC=1;var t=bM(),e=jm();function r(n){for(var i=e(n),a=i.length;a--;){var s=i[a],l=n[s];i[a]=[s,l,t(l)]}return i}return rx=r,rx}var nx,tC;function wM(){if(tC)return nx;tC=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return nx=t,nx}var ix,rC;function Qz(){if(rC)return ix;rC=1;var t=Yz(),e=Xz(),r=wM();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return ix=n,ix}var ax,nC;function Jz(){if(nC)return ax;nC=1;function t(e,r){return e!=null&&r in Object(e)}return ax=t,ax}var ox,iC;function Zz(){if(iC)return ox;iC=1;var t=BD(),e=W1(),r=Hr(),n=H1(),i=G1(),a=Im();function s(l,c,f){c=t(c,l);for(var h=-1,m=c.length,y=!1;++h<m;){var _=a(c[h]);if(!(y=l!=null&&f(l,_)))break;l=l[_]}return y||++h!=m?y:(m=l==null?0:l.length,!!m&&i(m)&&n(_,m)&&(r(l)||e(l)))}return ox=s,ox}var sx,aC;function e7(){if(aC)return sx;aC=1;var t=Jz(),e=Zz();function r(n,i){return n!=null&&e(n,i,t)}return sx=r,sx}var ux,oC;function t7(){if(oC)return ux;oC=1;var t=K1(),e=UD(),r=e7(),n=C1(),i=bM(),a=wM(),s=Im(),l=1,c=2;function f(h,m){return n(h)&&i(m)?a(s(h),m):function(y){var _=e(y,h);return _===void 0&&_===m?r(y,h):t(m,_,l|c)}}return ux=f,ux}var lx,sC;function pl(){if(sC)return lx;sC=1;function t(e){return e}return lx=t,lx}var cx,uC;function r7(){if(uC)return cx;uC=1;function t(e){return function(r){return r==null?void 0:r[e]}}return cx=t,cx}var fx,lC;function n7(){if(lC)return fx;lC=1;var t=M1();function e(r){return function(n){return t(n,r)}}return fx=e,fx}var dx,cC;function i7(){if(cC)return dx;cC=1;var t=r7(),e=n7(),r=C1(),n=Im();function i(a){return r(a)?t(n(a)):e(a)}return dx=i,dx}var hx,fC;function co(){if(fC)return hx;fC=1;var t=Qz(),e=t7(),r=pl(),n=Hr(),i=i7();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return hx=a,hx}var px,dC;function EM(){if(dC)return px;dC=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return px=t,px}var mx,hC;function a7(){if(hC)return mx;hC=1;function t(e){return e!==e}return mx=t,mx}var gx,pC;function o7(){if(pC)return gx;pC=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return gx=t,gx}var yx,mC;function s7(){if(mC)return yx;mC=1;var t=EM(),e=a7(),r=o7();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return yx=n,yx}var vx,gC;function u7(){if(gC)return vx;gC=1;var t=s7();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return vx=e,vx}var xx,yC;function l7(){if(yC)return xx;yC=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return xx=t,xx}var _x,vC;function c7(){if(vC)return _x;vC=1;function t(){}return _x=t,_x}var bx,xC;function f7(){if(xC)return bx;xC=1;var t=_M(),e=c7(),r=z1(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return bx=i,bx}var wx,_C;function d7(){if(_C)return wx;_C=1;var t=fM(),e=u7(),r=l7(),n=hM(),i=f7(),a=z1(),s=200;function l(c,f,h){var m=-1,y=e,_=c.length,S=!0,T=[],b=T;if(h)S=!1,y=r;else if(_>=s){var k=f?null:i(c);if(k)return a(k);S=!1,y=n,b=new t}else b=f?[]:T;e:for(;++m<_;){var j=c[m],R=f?f(j):j;if(j=h||j!==0?j:0,S&&R===R){for(var M=b.length;M--;)if(b[M]===R)continue e;f&&b.push(R),T.push(j)}else y(b,R,h)||(b!==T&&b.push(R),T.push(j))}return T}return wx=l,wx}var Ex,bC;function h7(){if(bC)return Ex;bC=1;var t=co(),e=d7();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return Ex=r,Ex}var p7=h7();const wC=dt(p7);function TM(t,e,r){return e===!0?wC(t,r):Ge(e)?wC(t,e):t}function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}var m7=["ref"];function EC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(r),!0).forEach(function(n){Dm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AM(n.key),n)}}function y7(t,e,r){return e&&TC(t.prototype,e),r&&TC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function v7(t,e,r){return e=vp(e),x7(t,SM()?Reflect.construct(e,r||[],vp(t).constructor):e.apply(t,r))}function x7(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _7(t)}function _7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SM=function(){return!!t})()}function vp(t){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vp(t)}function b7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rb(t,e)}function Rb(t,e){return Rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rb(t,e)}function Dm(t,e,r){return e=AM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AM(t){var e=w7(t,"string");return Fu(e)=="symbol"?e:e+""}function w7(t,e){if(Fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function E7(t,e){if(t==null)return{};var r=T7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function T7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function S7(t){return t.value}function A7(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var r=E7(e,m7);return K.createElement(q1,r)}var SC=1,Iu=(function(t){function e(){var r;g7(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=v7(this,e,[].concat(i)),Dm(r,"lastBoundingBox",{width:-1,height:-1}),r}return b7(e,t),y7(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>SC||Math.abs(i.height-this.lastBoundingBox.height)>SC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Wi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,m,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var _=this.getBBoxSnapshot();m={left:((f||0)-_.width)/2}}else m=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var S=this.getBBoxSnapshot();y={top:((h||0)-S.height)/2}}else y=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Wi(Wi({},m),y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,m=Wi(Wi({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return K.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(_){n.wrapperNode=_}},A7(a,Wi(Wi({},this.props),{},{payload:TM(h,f,S7)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Wi(Wi({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&xe(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])})(H.PureComponent);Dm(Iu,"displayName","Legend");Dm(Iu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Tx,AC;function P7(){if(AC)return Tx;AC=1;var t=Uf(),e=W1(),r=Hr(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return Tx=i,Tx}var Sx,PC;function PM(){if(PC)return Sx;PC=1;var t=mM(),e=P7();function r(n,i,a,s,l){var c=-1,f=n.length;for(a||(a=e),l||(l=[]);++c<f;){var h=n[c];i>0&&a(h)?i>1?r(h,i-1,a,s,l):t(l,h):s||(l[l.length]=h)}return l}return Sx=r,Sx}var Ax,IC;function I7(){if(IC)return Ax;IC=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),l=i(r),c=l.length;c--;){var f=l[e?c:++a];if(n(s[f],f,s)===!1)break}return r}}return Ax=t,Ax}var Px,OC;function O7(){if(OC)return Px;OC=1;var t=I7(),e=t();return Px=e,Px}var Ix,CC;function IM(){if(CC)return Ix;CC=1;var t=O7(),e=jm();function r(n,i){return n&&t(n,i,e)}return Ix=r,Ix}var Ox,kC;function C7(){if(kC)return Ox;kC=1;var t=zf();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var s=i.length,l=n?s:-1,c=Object(i);(n?l--:++l<s)&&a(c[l],l,c)!==!1;);return i}}return Ox=e,Ox}var Cx,NC;function Y1(){if(NC)return Cx;NC=1;var t=IM(),e=C7(),r=e(t);return Cx=r,Cx}var kx,RC;function OM(){if(RC)return kx;RC=1;var t=Y1(),e=zf();function r(n,i){var a=-1,s=e(n)?Array(n.length):[];return t(n,function(l,c,f){s[++a]=i(l,c,f)}),s}return kx=r,kx}var Nx,jC;function k7(){if(jC)return Nx;jC=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Nx=t,Nx}var Rx,DC;function N7(){if(DC)return Rx;DC=1;var t=dl();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,s=r===r,l=t(r),c=n!==void 0,f=n===null,h=n===n,m=t(n);if(!f&&!m&&!l&&r>n||l&&c&&h&&!f&&!m||a&&c&&h||!i&&h||!s)return 1;if(!a&&!l&&!m&&r<n||m&&i&&s&&!a&&!l||f&&i&&s||!c&&s||!h)return-1}return 0}return Rx=e,Rx}var jx,MC;function R7(){if(MC)return jx;MC=1;var t=N7();function e(r,n,i){for(var a=-1,s=r.criteria,l=n.criteria,c=s.length,f=i.length;++a<c;){var h=t(s[a],l[a]);if(h){if(a>=f)return h;var m=i[a];return h*(m=="desc"?-1:1)}}return r.index-n.index}return jx=e,jx}var Dx,LC;function j7(){if(LC)return Dx;LC=1;var t=D1(),e=M1(),r=co(),n=OM(),i=k7(),a=yM(),s=R7(),l=pl(),c=Hr();function f(h,m,y){m.length?m=t(m,function(T){return c(T)?function(b){return e(b,T.length===1?T[0]:T)}:T}):m=[l];var _=-1;m=t(m,a(r));var S=n(h,function(T,b,k){var j=t(m,function(R){return R(T)});return{criteria:j,index:++_,value:T}});return i(S,function(T,b){return s(T,b,y)})}return Dx=f,Dx}var Mx,VC;function D7(){if(VC)return Mx;VC=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Mx=t,Mx}var Lx,$C;function M7(){if($C)return Lx;$C=1;var t=D7(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,l=-1,c=e(s.length-i,0),f=Array(c);++l<c;)f[l]=s[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=s[l];return h[i]=a(f),t(n,this,h)}}return Lx=r,Lx}var Vx,FC;function L7(){if(FC)return Vx;FC=1;function t(e){return function(){return e}}return Vx=t,Vx}var $x,BC;function CM(){if(BC)return $x;BC=1;var t=_s(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return $x=e,$x}var Fx,UC;function V7(){if(UC)return Fx;UC=1;var t=L7(),e=CM(),r=pl(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return Fx=n,Fx}var Bx,qC;function $7(){if(qC)return Bx;qC=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var l=r(),c=e-(l-s);if(s=l,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Bx=n,Bx}var Ux,zC;function F7(){if(zC)return Ux;zC=1;var t=V7(),e=$7(),r=e(t);return Ux=r,Ux}var qx,WC;function B7(){if(WC)return qx;WC=1;var t=pl(),e=M7(),r=F7();function n(i,a){return r(e(i,a,t),i+"")}return qx=n,qx}var zx,HC;function Mm(){if(HC)return zx;HC=1;var t=N1(),e=zf(),r=H1(),n=lo();function i(a,s,l){if(!n(l))return!1;var c=typeof s;return(c=="number"?e(l)&&r(s,l.length):c=="string"&&s in l)?t(l[s],a):!1}return zx=i,zx}var Wx,GC;function U7(){if(GC)return Wx;GC=1;var t=PM(),e=j7(),r=B7(),n=Mm(),i=r(function(a,s){if(a==null)return[];var l=s.length;return l>1&&n(a,s[0],s[1])?s=[]:l>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return Wx=i,Wx}var q7=U7();const X1=dt(q7);function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jb.apply(this,arguments)}function z7(t,e){return K7(t)||G7(t,e)||H7(t,e)||W7()}function W7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H7(t,e){if(t){if(typeof t=="string")return KC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KC(t,e)}}function KC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function G7(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function K7(t){if(Array.isArray(t))return t}function YC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(r),!0).forEach(function(n){Y7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y7(t,e,r){return e=X7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X7(t){var e=Q7(t,"string");return Jc(e)=="symbol"?e:e+""}function Q7(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J7(t){return Array.isArray(t)&&er(t[0])&&er(t[1])?t.join(" ~ "):t}var Z7=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,m=e.formatter,y=e.itemSorter,_=e.wrapperClassName,S=e.labelClassName,T=e.label,b=e.labelFormatter,k=e.accessibilityLayer,j=k===void 0?!1:k,R=function(){if(h&&h.length){var $={padding:0,margin:0},L=(y?X1(h,y):h).map(function(Z,ee){if(Z.type==="none")return null;var oe=Hx({display:"block",paddingTop:4,paddingBottom:4,color:Z.color||"#000"},l),se=Z.formatter||m||J7,Q=Z.value,ie=Z.name,ne=Q,q=ie;if(se&&ne!=null&&q!=null){var G=se(Q,ie,Z,ee,h);if(Array.isArray(G)){var me=z7(G,2);ne=me[0],q=me[1]}else ne=G}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:oe},er(q)?K.createElement("span",{className:"recharts-tooltip-item-name"},q):null,er(q)?K.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,K.createElement("span",{className:"recharts-tooltip-item-value"},ne),K.createElement("span",{className:"recharts-tooltip-item-unit"},Z.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:$},L)}return null},M=Hx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),P=Hx({margin:0},f),C=!ot(T),A=C?T:"",O=at("recharts-default-tooltip",_),N=at("recharts-tooltip-label",S);C&&b&&h!==void 0&&h!==null&&(A=b(T,h));var F=j?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",jb({className:O,style:M},F),K.createElement("p",{className:N,style:P},K.isValidElement(A)?A:"".concat(A)),R())};function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function xh(t,e,r){return e=eW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eW(t){var e=tW(t,"string");return Zc(e)=="symbol"?e:e+""}function tW(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fc="recharts-tooltip-wrapper",rW={visibility:"hidden"};function nW(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return at(fc,xh(xh(xh(xh({},"".concat(fc,"-right"),xe(r)&&e&&xe(e.x)&&r>=e.x),"".concat(fc,"-left"),xe(r)&&e&&xe(e.x)&&r<e.x),"".concat(fc,"-bottom"),xe(n)&&e&&xe(e.y)&&n>=e.y),"".concat(fc,"-top"),xe(n)&&e&&xe(e.y)&&n<e.y))}function XC(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(a&&xe(a[n]))return a[n];var h=r[n]-l-i,m=r[n]+i;if(e[n])return s[n]?h:m;if(s[n]){var y=h,_=c[n];return y<_?Math.max(m,c[n]):Math.max(h,c[n])}var S=m+l,T=c[n]+f;return S>T?Math.max(h,c[n]):Math.max(m,c[n])}function iW(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function aW(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,f,h,m;return s.height>0&&s.width>0&&r?(h=XC({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=XC({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=iW({translateX:h,translateY:m,useTranslate3d:l})):f=rW,{cssProperties:f,cssClasses:nW({translateX:h,translateY:m,coordinate:r})}}function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function QC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(r),!0).forEach(function(n){Mb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NM(n.key),n)}}function uW(t,e,r){return e&&sW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lW(t,e,r){return e=xp(e),cW(t,kM()?Reflect.construct(e,r||[],xp(t).constructor):e.apply(t,r))}function cW(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fW(t)}function fW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kM=function(){return!!t})()}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xp(t)}function dW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Db(t,e)}function Db(t,e){return Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Db(t,e)}function Mb(t,e,r){return e=NM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NM(t){var e=hW(t,"string");return Bu(e)=="symbol"?e:e+""}function hW(t,e){if(Bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ZC=1,pW=(function(t){function e(){var r;oW(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=lW(this,e,[].concat(i)),Mb(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Mb(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,f,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(f=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),r}return dW(e,t),uW(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>ZC||Math.abs(n.height-this.state.lastBoundingBox.height)>ZC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,m=i.hasPayload,y=i.isAnimationActive,_=i.offset,S=i.position,T=i.reverseDirection,b=i.useTranslate3d,k=i.viewBox,j=i.wrapperStyle,R=aW({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:_,position:S,reverseDirection:T,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:k}),M=R.cssClasses,P=R.cssProperties,C=JC(JC({transition:y&&a?"transform ".concat(l,"ms ").concat(c):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},j);return K.createElement("div",{tabIndex:-1,className:M,style:C,ref:function(O){n.wrapperNode=O}},f)}}])})(H.PureComponent),mW=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Wf={isSsr:mW()};function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function ek(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(r),!0).forEach(function(n){Q1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jM(n.key),n)}}function vW(t,e,r){return e&&yW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xW(t,e,r){return e=_p(e),_W(t,RM()?Reflect.construct(e,r||[],_p(t).constructor):e.apply(t,r))}function _W(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bW(t)}function bW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RM=function(){return!!t})()}function _p(t){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_p(t)}function wW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lb(t,e)}function Lb(t,e){return Lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lb(t,e)}function Q1(t,e,r){return e=jM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jM(t){var e=EW(t,"string");return Uu(e)=="symbol"?e:e+""}function EW(t,e){if(Uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TW(t){return t.dataKey}function SW(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(Z7,e)}var fi=(function(t){function e(){return gW(this,e),xW(this,e,arguments)}return wW(e,t),vW(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,m=i.filterNull,y=i.isAnimationActive,_=i.offset,S=i.payload,T=i.payloadUniqBy,b=i.position,k=i.reverseDirection,j=i.useTranslate3d,R=i.viewBox,M=i.wrapperStyle,P=S??[];m&&P.length&&(P=TM(S.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),T,TW));var C=P.length>0;return K.createElement(pW,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:y,active:a,coordinate:h,hasPayload:C,offset:_,position:b,reverseDirection:k,useTranslate3d:j,viewBox:R,wrapperStyle:M},SW(f,tk(tk({},this.props),{},{payload:P})))}}])})(H.PureComponent);Q1(fi,"displayName","Tooltip");Q1(fi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Wf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Gx,rk;function AW(){if(rk)return Gx;rk=1;var t=Si(),e=function(){return t.Date.now()};return Gx=e,Gx}var Kx,nk;function PW(){if(nk)return Kx;nk=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Kx=e,Kx}var Yx,ik;function IW(){if(ik)return Yx;ik=1;var t=PW(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Yx=r,Yx}var Xx,ak;function DM(){if(ak)return Xx;ak=1;var t=IW(),e=lo(),r=dl(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=a.test(f);return m||s.test(f)?l(f.slice(2),m?2:8):i.test(f)?n:+f}return Xx=c,Xx}var Qx,ok;function OW(){if(ok)return Qx;ok=1;var t=lo(),e=AW(),r=DM(),n="Expected a function",i=Math.max,a=Math.min;function s(l,c,f){var h,m,y,_,S,T,b=0,k=!1,j=!1,R=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(f)&&(k=!!f.leading,j="maxWait"in f,y=j?i(r(f.maxWait)||0,c):y,R="trailing"in f?!!f.trailing:R);function M(L){var Z=h,ee=m;return h=m=void 0,b=L,_=l.apply(ee,Z),_}function P(L){return b=L,S=setTimeout(O,c),k?M(L):_}function C(L){var Z=L-T,ee=L-b,oe=c-Z;return j?a(oe,y-ee):oe}function A(L){var Z=L-T,ee=L-b;return T===void 0||Z>=c||Z<0||j&&ee>=y}function O(){var L=e();if(A(L))return N(L);S=setTimeout(O,C(L))}function N(L){return S=void 0,R&&h?M(L):(h=m=void 0,_)}function F(){S!==void 0&&clearTimeout(S),b=0,h=T=m=S=void 0}function V(){return S===void 0?_:N(e())}function $(){var L=e(),Z=A(L);if(h=arguments,m=this,T=L,Z){if(S===void 0)return P(T);if(j)return clearTimeout(S),S=setTimeout(O,c),M(T)}return S===void 0&&(S=setTimeout(O,c)),_}return $.cancel=F,$.flush=V,$}return Qx=s,Qx}var Jx,sk;function CW(){if(sk)return Jx;sk=1;var t=OW(),e=lo(),r="Expected a function";function n(i,a,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:l,maxWait:a,trailing:c})}return Jx=n,Jx}var kW=CW();const MM=dt(kW);function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function uk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _h(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(r),!0).forEach(function(n){NW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NW(t,e,r){return e=RW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RW(t){var e=jW(t,"string");return ef(e)=="symbol"?e:e+""}function jW(t,e){if(ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DW(t,e){return $W(t)||VW(t,e)||LW(t,e)||MW()}function MW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LW(t,e){if(t){if(typeof t=="string")return lk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lk(t,e)}}function lk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function $W(t){if(Array.isArray(t))return t}var FW=H.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,f=t.minWidth,h=f===void 0?0:f,m=t.minHeight,y=t.maxHeight,_=t.children,S=t.debounce,T=S===void 0?0:S,b=t.id,k=t.className,j=t.onResize,R=t.style,M=R===void 0?{}:R,P=H.useRef(null),C=H.useRef();C.current=j,H.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var A=H.useState({containerWidth:i.width,containerHeight:i.height}),O=DW(A,2),N=O[0],F=O[1],V=H.useCallback(function(L,Z){F(function(ee){var oe=Math.round(L),se=Math.round(Z);return ee.containerWidth===oe&&ee.containerHeight===se?ee:{containerWidth:oe,containerHeight:se}})},[]);H.useEffect(function(){var L=function(ie){var ne,q=ie[0].contentRect,G=q.width,me=q.height;V(G,me),(ne=C.current)===null||ne===void 0||ne.call(C,G,me)};T>0&&(L=MM(L,T,{trailing:!0,leading:!1}));var Z=new ResizeObserver(L),ee=P.current.getBoundingClientRect(),oe=ee.width,se=ee.height;return V(oe,se),Z.observe(P.current),function(){Z.disconnect()}},[V,T]);var $=H.useMemo(function(){var L=N.containerWidth,Z=N.containerHeight;if(L<0||Z<0)return null;Zi(Ko(s)||Ko(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Zi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var ee=Ko(s)?L:s,oe=Ko(c)?Z:c;r&&r>0&&(ee?oe=ee/r:oe&&(ee=oe*r),y&&oe>y&&(oe=y)),Zi(ee>0||oe>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,oe,s,c,h,m,r);var se=!Array.isArray(_)&&Ji(_.type).endsWith("Chart");return K.Children.map(_,function(Q){return K.isValidElement(Q)?H.cloneElement(Q,_h({width:ee,height:oe},se?{style:_h({height:"100%",width:"100%",maxHeight:oe,maxWidth:ee},Q.props.style)}:{})):Q})},[r,_,c,y,m,h,N,s]);return K.createElement("div",{id:b?"".concat(b):void 0,className:at("recharts-responsive-container",k),style:_h(_h({},M),{},{width:s,height:c,minWidth:h,minHeight:m,maxHeight:y}),ref:P},$)}),J1=function(e){return null};J1.displayName="Cell";function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function ck(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(r),!0).forEach(function(n){BW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BW(t,e,r){return e=UW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UW(t){var e=qW(t,"string");return tf(e)=="symbol"?e:e+""}function qW(t,e){if(tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cu={widthCache:{},cacheCount:0},zW=2e3,WW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fk="recharts_measurement_span";function HW(t){var e=Vb({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Dc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Wf.isSsr)return{width:0,height:0};var n=HW(r),i=JSON.stringify({text:e,copyStyle:n});if(cu.widthCache[i])return cu.widthCache[i];try{var a=document.getElementById(fk);a||(a=document.createElement("span"),a.setAttribute("id",fk),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Vb(Vb({},WW),n);Object.assign(a.style,s),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return cu.widthCache[i]=c,++cu.cacheCount>zW&&(cu.cacheCount=0,cu.widthCache={}),c}catch{return{width:0,height:0}}},GW=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function bp(t,e){return QW(t)||XW(t,e)||YW(t,e)||KW()}function KW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YW(t,e){if(t){if(typeof t=="string")return dk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dk(t,e)}}function dk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function QW(t){if(Array.isArray(t))return t}function JW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eH(n.key),n)}}function ZW(t,e,r){return e&&hk(t.prototype,e),r&&hk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eH(t){var e=tH(t,"string");return rf(e)=="symbol"?e:e+""}function tH(t,e){if(rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,LM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iH=Object.keys(LM),vu="NaN";function aH(t,e){return t*LM[e]}var bh=(function(){function t(e,r){JW(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!rH.test(r)&&(this.num=NaN,this.unit=""),iH.includes(r)&&(this.num=aH(e,r),this.unit="px")}return ZW(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=nH.exec(r))!==null&&n!==void 0?n:[],a=bp(i,3),s=a[1],l=a[2];return new t(parseFloat(s),l??"")}}])})();function VM(t){if(t.includes(vu))return vu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=pk.exec(e))!==null&&r!==void 0?r:[],i=bp(n,4),a=i[1],s=i[2],l=i[3],c=bh.parse(a??""),f=bh.parse(l??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return vu;e=e.replace(pk,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,y=(m=mk.exec(e))!==null&&m!==void 0?m:[],_=bp(y,4),S=_[1],T=_[2],b=_[3],k=bh.parse(S??""),j=bh.parse(b??""),R=T==="+"?k.add(j):k.subtract(j);if(R.isNaN())return vu;e=e.replace(mk,R.toString())}return e}var gk=/\(([^()]*)\)/;function oH(t){for(var e=t;e.includes("(");){var r=gk.exec(e),n=bp(r,2),i=n[1];e=e.replace(gk,VM(i))}return e}function sH(t){var e=t.replace(/\s+/g,"");return e=oH(e),e=VM(e),e}function uH(t){try{return sH(t)}catch{return vu}}function Zx(t){var e=uH(t.slice(5,-1));return e===vu?"":e}var lH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],cH=["dx","dy","angle","className","breakAll"];function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$b.apply(this,arguments)}function yk(t,e){if(t==null)return{};var r=fH(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vk(t,e){return mH(t)||pH(t,e)||hH(t,e)||dH()}function dH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hH(t,e){if(t){if(typeof t=="string")return xk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xk(t,e)}}function xk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function mH(t){if(Array.isArray(t))return t}var $M=/[ \f\n\r\t\v\u2028\u2029]+/,FM=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];ot(r)||(n?a=r.toString().split(""):a=r.toString().split($M));var s=a.map(function(c){return{word:c,width:Dc(c,i).width}}),l=n?0:Dc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},gH=function(e,r,n,i,a){var s=e.maxLines,l=e.children,c=e.style,f=e.breakAll,h=xe(s),m=l,y=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee.reduce(function(oe,se){var Q=se.word,ie=se.width,ne=oe[oe.length-1];if(ne&&(i==null||a||ne.width+ie+n<Number(i)))ne.words.push(Q),ne.width+=ie+n;else{var q={words:[Q],width:ie};oe.push(q)}return oe},[])},_=y(r),S=function(ee){return ee.reduce(function(oe,se){return oe.width>se.width?oe:se})};if(!h)return _;for(var T="",b=function(ee){var oe=m.slice(0,ee),se=FM({breakAll:f,style:c,children:oe+T}).wordsWithComputedWidth,Q=y(se),ie=Q.length>s||S(Q).width>Number(i);return[ie,Q]},k=0,j=m.length-1,R=0,M;k<=j&&R<=m.length-1;){var P=Math.floor((k+j)/2),C=P-1,A=b(C),O=vk(A,2),N=O[0],F=O[1],V=b(P),$=vk(V,1),L=$[0];if(!N&&!L&&(k=P+1),N&&L&&(j=P-1),!N&&L){M=F;break}R++}return M||_},_k=function(e){var r=ot(e)?[]:e.toString().split($M);return[{words:r}]},yH=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,l=e.maxLines;if((r||n)&&!Wf.isSsr){var c,f,h=FM({breakAll:s,children:i,style:a});if(h){var m=h.wordsWithComputedWidth,y=h.spaceWidth;c=m,f=y}else return _k(i);return gH({breakAll:s,children:i,maxLines:l,style:a},c,f,r,n)}return _k(i)},bk="#808080",wp=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,m=h===void 0?!1:h,y=e.textAnchor,_=y===void 0?"start":y,S=e.verticalAnchor,T=S===void 0?"end":S,b=e.fill,k=b===void 0?bk:b,j=yk(e,lH),R=H.useMemo(function(){return yH({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:m,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,m,j.style,j.width]),M=j.dx,P=j.dy,C=j.angle,A=j.className,O=j.breakAll,N=yk(j,cH);if(!er(n)||!er(a))return null;var F=n+(xe(M)?M:0),V=a+(xe(P)?P:0),$;switch(T){case"start":$=Zx("calc(".concat(f,")"));break;case"middle":$=Zx("calc(".concat((R.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:$=Zx("calc(".concat(R.length-1," * -").concat(l,")"));break}var L=[];if(m){var Z=R[0].width,ee=j.width;L.push("scale(".concat((xe(ee)?ee/Z:1)/Z,")"))}return C&&L.push("rotate(".concat(C,", ").concat(F,", ").concat(V,")")),L.length&&(N.transform=L.join(" ")),K.createElement("text",$b({},it(N,!0),{x:F,y:V,className:at("recharts-text",A),textAnchor:_,fill:k.includes("url")?bk:k}),R.map(function(oe,se){var Q=oe.words.join(O?"":" ");return K.createElement("tspan",{x:F,dy:se===0?$:l,key:"".concat(Q,"-").concat(se)},Q)}))};function to(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vH(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Z1(t){let e,r,n;t.length!==2?(e=to,r=(l,c)=>to(t(l),c),n=(l,c)=>t(l)-c):(e=t===to||t===vH?t:xH,r=t,n=t);function i(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;r(l[m],c)<0?f=m+1:h=m}while(f<h)}return f}function a(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;r(l[m],c)<=0?f=m+1:h=m}while(f<h)}return f}function s(l,c,f=0,h=l.length){const m=i(l,c,f,h-1);return m>f&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:i,center:s,right:a}}function xH(){return 0}function BM(t){return t===null?NaN:+t}function*_H(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const bH=Z1(to),Hf=bH.right;Z1(BM).center;class wk extends Map{constructor(e,r=TH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(Ek(this,e))}has(e){return super.has(Ek(this,e))}set(e,r){return super.set(wH(this,e),r)}delete(e){return super.delete(EH(this,e))}}function Ek({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function wH({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function EH({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function TH(t){return t!==null&&typeof t=="object"?t.valueOf():t}function SH(t=to){if(t===to)return UM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function UM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const AH=Math.sqrt(50),PH=Math.sqrt(10),IH=Math.sqrt(2);function Ep(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=AH?10:a>=PH?5:a>=IH?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/s,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=r&&r<2?Ep(t,e,r*2):[l,c,f]}function Fb(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?Ep(e,t,r):Ep(t,e,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(s<0)for(let f=0;f<l;++f)c[f]=(a-f)/-s;else for(let f=0;f<l;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<l;++f)c[f]=(i+f)/-s;else for(let f=0;f<l;++f)c[f]=(i+f)*s;return c}function Bb(t,e,r){return e=+e,t=+t,r=+r,Ep(t,e,r)[2]}function Ub(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Bb(e,t,r):Bb(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function Tk(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Sk(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function qM(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?UM:SH(i);n>r;){if(n-r>600){const c=n-r+1,f=e-r+1,h=Math.log(c),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(c-m)/c)*(f-c/2<0?-1:1),_=Math.max(r,Math.floor(e-f*m/c+y)),S=Math.min(n,Math.floor(e+(c-f)*m/c+y));qM(t,e,_,S,i)}const a=t[e];let s=r,l=n;for(dc(t,r,e),i(t[n],a)>0&&dc(t,r,n);s<l;){for(dc(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?dc(t,r,l):(++l,dc(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function dc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function OH(t,e,r){if(t=Float64Array.from(_H(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Sk(t);if(e>=1)return Tk(t);var n,i=(n-1)*e,a=Math.floor(i),s=Tk(qM(t,a).subarray(0,a+1)),l=Sk(t.subarray(a+1));return s+(l-s)*(i-a)}}function CH(t,e,r=BM){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function kH(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Tn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function da(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const qb=Symbol("implicit");function eE(){var t=new wk,e=[],r=[],n=qb;function i(a){let s=t.get(a);if(s===void 0){if(n!==qb)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new wk;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return eE(e,r).unknown(n)},Tn.apply(i,arguments),i}function nf(){var t=eE().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,l=!1,c=0,f=0,h=.5;delete t.unknown;function m(){var y=e().length,_=i<n,S=_?i:n,T=_?n:i;a=(T-S)/Math.max(1,y-c+f*2),l&&(a=Math.floor(a)),S+=(T-S-a*(y-c))*h,s=a*(1-c),l&&(S=Math.round(S),s=Math.round(s));var b=kH(y).map(function(k){return S+a*k});return r(_?b.reverse():b)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,m()):[n,i]},t.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,l=!0,m()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(y){return arguments.length?(l=!!y,m()):l},t.padding=function(y){return arguments.length?(c=Math.min(1,f=+y),m()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),m()):c},t.paddingOuter=function(y){return arguments.length?(f=+y,m()):f},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),m()):h},t.copy=function(){return nf(e(),[n,i]).round(l).paddingInner(c).paddingOuter(f).align(h)},Tn.apply(m(),arguments)}function zM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return zM(e())},t}function Mc(){return zM(nf.apply(null,arguments).paddingInner(1))}function tE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function WM(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Gf(){}var af=.7,Tp=1/af,Ou="\\s*([+-]?\\d+)\\s*",of="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NH=/^#([0-9a-f]{3,8})$/,RH=new RegExp(`^rgb\\(${Ou},${Ou},${Ou}\\)$`),jH=new RegExp(`^rgb\\(${vi},${vi},${vi}\\)$`),DH=new RegExp(`^rgba\\(${Ou},${Ou},${Ou},${of}\\)$`),MH=new RegExp(`^rgba\\(${vi},${vi},${vi},${of}\\)$`),LH=new RegExp(`^hsl\\(${of},${vi},${vi}\\)$`),VH=new RegExp(`^hsla\\(${of},${vi},${vi},${of}\\)$`),Ak={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tE(Gf,sf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Pk,formatHex:Pk,formatHex8:$H,formatHsl:FH,formatRgb:Ik,toString:Ik});function Pk(){return this.rgb().formatHex()}function $H(){return this.rgb().formatHex8()}function FH(){return HM(this).formatHsl()}function Ik(){return this.rgb().formatRgb()}function sf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=NH.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Ok(e):r===3?new zr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?wh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?wh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=RH.exec(t))?new zr(e[1],e[2],e[3],1):(e=jH.exec(t))?new zr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=DH.exec(t))?wh(e[1],e[2],e[3],e[4]):(e=MH.exec(t))?wh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=LH.exec(t))?Nk(e[1],e[2]/100,e[3]/100,1):(e=VH.exec(t))?Nk(e[1],e[2]/100,e[3]/100,e[4]):Ak.hasOwnProperty(t)?Ok(Ak[t]):t==="transparent"?new zr(NaN,NaN,NaN,0):null}function Ok(t){return new zr(t>>16&255,t>>8&255,t&255,1)}function wh(t,e,r,n){return n<=0&&(t=e=r=NaN),new zr(t,e,r,n)}function BH(t){return t instanceof Gf||(t=sf(t)),t?(t=t.rgb(),new zr(t.r,t.g,t.b,t.opacity)):new zr}function zb(t,e,r,n){return arguments.length===1?BH(t):new zr(t,e,r,n??1)}function zr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}tE(zr,zb,WM(Gf,{brighter(t){return t=t==null?Tp:Math.pow(Tp,t),new zr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?af:Math.pow(af,t),new zr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new zr(rs(this.r),rs(this.g),rs(this.b),Sp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ck,formatHex:Ck,formatHex8:UH,formatRgb:kk,toString:kk}));function Ck(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}`}function UH(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}${Yo((isNaN(this.opacity)?1:this.opacity)*255)}`}function kk(){const t=Sp(this.opacity);return`${t===1?"rgb(":"rgba("}${rs(this.r)}, ${rs(this.g)}, ${rs(this.b)}${t===1?")":`, ${t})`}`}function Sp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Yo(t){return t=rs(t),(t<16?"0":"")+t.toString(16)}function Nk(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Vn(t,e,r,n)}function HM(t){if(t instanceof Vn)return new Vn(t.h,t.s,t.l,t.opacity);if(t instanceof Gf||(t=sf(t)),!t)return new Vn;if(t instanceof Vn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,l=a-i,c=(a+i)/2;return l?(e===a?s=(r-n)/l+(r<n)*6:r===a?s=(n-e)/l+2:s=(e-r)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new Vn(s,l,c,t.opacity)}function qH(t,e,r,n){return arguments.length===1?HM(t):new Vn(t,e,r,n??1)}function Vn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}tE(Vn,qH,WM(Gf,{brighter(t){return t=t==null?Tp:Math.pow(Tp,t),new Vn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?af:Math.pow(af,t),new Vn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new zr(e_(t>=240?t-240:t+120,i,n),e_(t,i,n),e_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Vn(Rk(this.h),Eh(this.s),Eh(this.l),Sp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Sp(this.opacity);return`${t===1?"hsl(":"hsla("}${Rk(this.h)}, ${Eh(this.s)*100}%, ${Eh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Rk(t){return t=(t||0)%360,t<0?t+360:t}function Eh(t){return Math.max(0,Math.min(1,t||0))}function e_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const rE=t=>()=>t;function zH(t,e){return function(r){return t+r*e}}function WH(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function HH(t){return(t=+t)==1?GM:function(e,r){return r-e?WH(e,r,t):rE(isNaN(e)?r:e)}}function GM(t,e){var r=e-t;return r?zH(t,r):rE(isNaN(t)?e:t)}const jk=(function t(e){var r=HH(e);function n(i,a){var s=r((i=zb(i)).r,(a=zb(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),f=GM(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=l(h),i.b=c(h),i.opacity=f(h),i+""}}return n.gamma=t,n})(1);function GH(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function KH(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function YH(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=ml(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(l){for(s=0;s<n;++s)a[s]=i[s](l);return a}}function XH(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Ap(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function QH(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=ml(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Wb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,t_=new RegExp(Wb.source,"g");function JH(t){return function(){return t}}function ZH(t){return function(e){return t(e)+""}}function eG(t,e){var r=Wb.lastIndex=t_.lastIndex=0,n,i,a,s=-1,l=[],c=[];for(t=t+"",e=e+"";(n=Wb.exec(t))&&(i=t_.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Ap(n,i)})),r=t_.lastIndex;return r<e.length&&(a=e.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?ZH(c[0].x):JH(e):(e=c.length,function(f){for(var h=0,m;h<e;++h)l[(m=c[h]).i]=m.x(f);return l.join("")})}function ml(t,e){var r=typeof e,n;return e==null||r==="boolean"?rE(e):(r==="number"?Ap:r==="string"?(n=sf(e))?(e=n,jk):eG:e instanceof sf?jk:e instanceof Date?XH:KH(e)?GH:Array.isArray(e)?YH:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?QH:Ap)(t,e)}function nE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function tG(t,e){e===void 0&&(e=t,t=ml);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[l](s-l)}}function rG(t){return function(){return t}}function Pp(t){return+t}var Dk=[0,1];function Dr(t){return t}function Hb(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:rG(isNaN(e)?NaN:.5)}function nG(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function iG(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=Hb(i,n),a=r(s,a)):(n=Hb(n,i),a=r(a,s)),function(l){return a(n(l))}}function aG(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=Hb(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(l){var c=Hf(t,l,1,n)-1;return a[c](i[c](l))}}function Kf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Lm(){var t=Dk,e=Dk,r=ml,n,i,a,s=Dr,l,c,f;function h(){var y=Math.min(t.length,e.length);return s!==Dr&&(s=nG(t[0],t[y-1])),l=y>2?aG:iG,c=f=null,m}function m(y){return y==null||isNaN(y=+y)?a:(c||(c=l(t.map(n),e,r)))(n(s(y)))}return m.invert=function(y){return s(i((f||(f=l(e,t.map(n),Ap)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,Pp),h()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),r=nE,h()},m.clamp=function(y){return arguments.length?(s=y?!0:Dr,h()):s!==Dr},m.interpolate=function(y){return arguments.length?(r=y,h()):r},m.unknown=function(y){return arguments.length?(a=y,m):a},function(y,_){return n=y,i=_,h()}}function iE(){return Lm()(Dr,Dr)}function oG(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ip(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function qu(t){return t=Ip(Math.abs(t)),t?t[1]:NaN}function sG(t,e){return function(r,n){for(var i=r.length,a=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function uG(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var lG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uf(t){if(!(e=lG.exec(t)))throw new Error("invalid format: "+t);var e;return new aE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}uf.prototype=aE.prototype;function aE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}aE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cG(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Op;function fG(t,e){var r=Ip(t,e);if(!r)return Op=void 0,t.toPrecision(e);var n=r[0],i=r[1],a=i-(Op=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Ip(t,Math.max(0,e+a-1))[0]}function Mk(t,e){var r=Ip(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Lk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:oG,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Mk(t*100,e),r:Mk,s:fG,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Vk(t){return t}var $k=Array.prototype.map,Fk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function dG(t){var e=t.grouping===void 0||t.thousands===void 0?Vk:sG($k.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Vk:uG($k.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(m,y){m=uf(m);var _=m.fill,S=m.align,T=m.sign,b=m.symbol,k=m.zero,j=m.width,R=m.comma,M=m.precision,P=m.trim,C=m.type;C==="n"?(R=!0,C="g"):Lk[C]||(M===void 0&&(M=12),P=!0,C="g"),(k||_==="0"&&S==="=")&&(k=!0,_="0",S="=");var A=(y&&y.prefix!==void 0?y.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),O=(b==="$"?n:/[%p]/.test(C)?s:"")+(y&&y.suffix!==void 0?y.suffix:""),N=Lk[C],F=/[defgprs%]/.test(C);M=M===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function V($){var L=A,Z=O,ee,oe,se;if(C==="c")Z=N($)+Z,$="";else{$=+$;var Q=$<0||1/$<0;if($=isNaN($)?c:N(Math.abs($),M),P&&($=cG($)),Q&&+$==0&&T!=="+"&&(Q=!1),L=(Q?T==="("?T:l:T==="-"||T==="("?"":T)+L,Z=(C==="s"&&!isNaN($)&&Op!==void 0?Fk[8+Op/3]:"")+Z+(Q&&T==="("?")":""),F){for(ee=-1,oe=$.length;++ee<oe;)if(se=$.charCodeAt(ee),48>se||se>57){Z=(se===46?i+$.slice(ee+1):$.slice(ee))+Z,$=$.slice(0,ee);break}}}R&&!k&&($=e($,1/0));var ie=L.length+$.length+Z.length,ne=ie<j?new Array(j-ie+1).join(_):"";switch(R&&k&&($=e(ne+$,ne.length?j-Z.length:1/0),ne=""),S){case"<":$=L+$+Z+ne;break;case"=":$=L+ne+$+Z;break;case"^":$=ne.slice(0,ie=ne.length>>1)+L+$+Z+ne.slice(ie);break;default:$=ne+L+$+Z;break}return a($)}return V.toString=function(){return m+""},V}function h(m,y){var _=Math.max(-8,Math.min(8,Math.floor(qu(y)/3)))*3,S=Math.pow(10,-_),T=f((m=uf(m),m.type="f",m),{suffix:Fk[8+_/3]});return function(b){return T(S*b)}}return{format:f,formatPrefix:h}}var Th,oE,KM;hG({thousands:",",grouping:[3],currency:["$",""]});function hG(t){return Th=dG(t),oE=Th.format,KM=Th.formatPrefix,Th}function pG(t){return Math.max(0,-qu(Math.abs(t)))}function mG(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qu(e)/3)))*3-qu(Math.abs(t)))}function gG(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qu(e)-qu(t))+1}function YM(t,e,r,n){var i=Ub(t,e,r),a;switch(n=uf(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=mG(i,s))&&(n.precision=a),KM(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=gG(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=pG(i))&&(n.precision=a-(n.type==="%")*2);break}}return oE(n)}function fo(t){var e=t.domain;return t.ticks=function(r){var n=e();return Fb(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return YM(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],l=n[a],c,f,h=10;for(l<s&&(f=s,s=l,l=f,f=i,i=a,a=f);h-- >0;){if(f=Bb(s,l,r),f===c)return n[i]=s,n[a]=l,e(n);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function Cp(){var t=iE();return t.copy=function(){return Kf(t,Cp())},Tn.apply(t,arguments),fo(t)}function XM(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Pp),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return XM(t).unknown(e)},t=arguments.length?Array.from(t,Pp):[0,1],fo(r)}function QM(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function Bk(t){return Math.log(t)}function Uk(t){return Math.exp(t)}function yG(t){return-Math.log(-t)}function vG(t){return-Math.exp(-t)}function xG(t){return isFinite(t)?+("1e"+t):t<0?0:t}function _G(t){return t===10?xG:t===Math.E?Math.exp:e=>Math.pow(t,e)}function bG(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function qk(t){return(e,r)=>-t(-e,r)}function sE(t){const e=t(Bk,Uk),r=e.domain;let n=10,i,a;function s(){return i=bG(n),a=_G(n),r()[0]<0?(i=qk(i),a=qk(a),t(yG,vG)):t(Bk,Uk),e}return e.base=function(l){return arguments.length?(n=+l,s()):n},e.domain=function(l){return arguments.length?(r(l),s()):r()},e.ticks=l=>{const c=r();let f=c[0],h=c[c.length-1];const m=h<f;m&&([f,h]=[h,f]);let y=i(f),_=i(h),S,T;const b=l==null?10:+l;let k=[];if(!(n%1)&&_-y<b){if(y=Math.floor(y),_=Math.ceil(_),f>0){for(;y<=_;++y)for(S=1;S<n;++S)if(T=y<0?S/a(-y):S*a(y),!(T<f)){if(T>h)break;k.push(T)}}else for(;y<=_;++y)for(S=n-1;S>=1;--S)if(T=y>0?S/a(-y):S*a(y),!(T<f)){if(T>h)break;k.push(T)}k.length*2<b&&(k=Fb(f,h,b))}else k=Fb(y,_,Math.min(_-y,b)).map(a);return m?k.reverse():k},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=uf(c)).precision==null&&(c.trim=!0),c=oE(c)),l===1/0)return c;const f=Math.max(1,n*l/e.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*n<n-.5&&(m*=n),m<=f?c(h):""}},e.nice=()=>r(QM(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function JM(){const t=sE(Lm()).domain([1,10]);return t.copy=()=>Kf(t,JM()).base(t.base()),Tn.apply(t,arguments),t}function zk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Wk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function uE(t){var e=1,r=t(zk(e),Wk(e));return r.constant=function(n){return arguments.length?t(zk(e=+n),Wk(e)):e},fo(r)}function ZM(){var t=uE(Lm());return t.copy=function(){return Kf(t,ZM()).constant(t.constant())},Tn.apply(t,arguments)}function Hk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function wG(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function EG(t){return t<0?-t*t:t*t}function lE(t){var e=t(Dr,Dr),r=1;function n(){return r===1?t(Dr,Dr):r===.5?t(wG,EG):t(Hk(r),Hk(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},fo(e)}function cE(){var t=lE(Lm());return t.copy=function(){return Kf(t,cE()).exponent(t.exponent())},Tn.apply(t,arguments),t}function TG(){return cE.apply(null,arguments).exponent(.5)}function Gk(t){return Math.sign(t)*t*t}function SG(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function eL(){var t=iE(),e=[0,1],r=!1,n;function i(a){var s=SG(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(Gk(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Pp)).map(Gk)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return eL(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Tn.apply(i,arguments),fo(i)}function tL(){var t=[],e=[],r=[],n;function i(){var s=0,l=Math.max(1,e.length);for(r=new Array(l-1);++s<l;)r[s-1]=CH(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?n:e[Hf(r,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(to),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return tL().domain(t).range(e).unknown(n)},Tn.apply(a,arguments)}function rL(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Hf(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return rL().domain([t,e]).range(i).unknown(a)},Tn.apply(fo(s),arguments)}function nL(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Hf(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return nL().domain(t).range(e).unknown(r)},Tn.apply(i,arguments)}const r_=new Date,n_=new Date;function nr(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let f;do c.push(f=new Date(+a)),e(a,l),t(a);while(f<a&&a<s);return c},i.filter=a=>nr(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(r_.setTime(+a),n_.setTime(+s),t(r_),t(n_),Math.floor(r(r_,n_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const kp=nr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);kp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?nr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):kp);kp.range;const Yi=1e3,bn=Yi*60,Xi=bn*60,oa=Xi*24,fE=oa*7,Kk=oa*30,i_=oa*365,Xo=nr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Yi)},(t,e)=>(e-t)/Yi,t=>t.getUTCSeconds());Xo.range;const dE=nr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yi)},(t,e)=>{t.setTime(+t+e*bn)},(t,e)=>(e-t)/bn,t=>t.getMinutes());dE.range;const hE=nr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*bn)},(t,e)=>(e-t)/bn,t=>t.getUTCMinutes());hE.range;const pE=nr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yi-t.getMinutes()*bn)},(t,e)=>{t.setTime(+t+e*Xi)},(t,e)=>(e-t)/Xi,t=>t.getHours());pE.range;const mE=nr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Xi)},(t,e)=>(e-t)/Xi,t=>t.getUTCHours());mE.range;const Yf=nr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*bn)/oa,t=>t.getDate()-1);Yf.range;const Vm=nr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oa,t=>t.getUTCDate()-1);Vm.range;const iL=nr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oa,t=>Math.floor(t/oa));iL.range;function bs(t){return nr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*bn)/fE)}const $m=bs(0),Np=bs(1),AG=bs(2),PG=bs(3),zu=bs(4),IG=bs(5),OG=bs(6);$m.range;Np.range;AG.range;PG.range;zu.range;IG.range;OG.range;function ws(t){return nr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/fE)}const Fm=ws(0),Rp=ws(1),CG=ws(2),kG=ws(3),Wu=ws(4),NG=ws(5),RG=ws(6);Fm.range;Rp.range;CG.range;kG.range;Wu.range;NG.range;RG.range;const gE=nr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());gE.range;const yE=nr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());yE.range;const sa=nr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());sa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});sa.range;const ua=nr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ua.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ua.range;function aL(t,e,r,n,i,a){const s=[[Xo,1,Yi],[Xo,5,5*Yi],[Xo,15,15*Yi],[Xo,30,30*Yi],[a,1,bn],[a,5,5*bn],[a,15,15*bn],[a,30,30*bn],[i,1,Xi],[i,3,3*Xi],[i,6,6*Xi],[i,12,12*Xi],[n,1,oa],[n,2,2*oa],[r,1,fE],[e,1,Kk],[e,3,3*Kk],[t,1,i_]];function l(f,h,m){const y=h<f;y&&([f,h]=[h,f]);const _=m&&typeof m.range=="function"?m:c(f,h,m),S=_?_.range(f,+h+1):[];return y?S.reverse():S}function c(f,h,m){const y=Math.abs(h-f)/m,_=Z1(([,,b])=>b).right(s,y);if(_===s.length)return t.every(Ub(f/i_,h/i_,m));if(_===0)return kp.every(Math.max(Ub(f,h,m),1));const[S,T]=s[y/s[_-1][2]<s[_][2]/y?_-1:_];return S.every(T)}return[l,c]}const[jG,DG]=aL(ua,yE,Fm,iL,mE,hE),[MG,LG]=aL(sa,gE,$m,Yf,pE,dE);function a_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function o_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function VG(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,f=pc(i),h=mc(i),m=pc(a),y=mc(a),_=pc(s),S=mc(s),T=pc(l),b=mc(l),k=pc(c),j=mc(c),R={a:se,A:Q,b:ie,B:ne,c:null,d:eN,e:eN,f:sK,g:yK,G:xK,H:iK,I:aK,j:oK,L:oL,m:uK,M:lK,p:q,q:G,Q:nN,s:iN,S:cK,u:fK,U:dK,V:hK,w:pK,W:mK,x:null,X:null,y:gK,Y:vK,Z:_K,"%":rN},M={a:me,A:be,b:Oe,B:je,c:null,d:tN,e:tN,f:TK,g:jK,G:MK,H:bK,I:wK,j:EK,L:uL,m:SK,M:AK,p:We,q:Le,Q:nN,s:iN,S:PK,u:IK,U:OK,V:CK,w:kK,W:NK,x:null,X:null,y:RK,Y:DK,Z:LK,"%":rN},P={a:F,A:V,b:$,B:L,c:Z,d:Jk,e:Jk,f:eK,g:Qk,G:Xk,H:Zk,I:Zk,j:XG,L:ZG,m:YG,M:QG,p:N,q:KG,Q:rK,s:nK,S:JG,u:qG,U:zG,V:WG,w:UG,W:HG,x:ee,X:oe,y:Qk,Y:Xk,Z:GG,"%":tK};R.x=C(r,R),R.X=C(n,R),R.c=C(e,R),M.x=C(r,M),M.X=C(n,M),M.c=C(e,M);function C(he,Ce){return function(Fe){var ce=[],rt=-1,ze=0,Pt=he.length,yt,Rt,Mr;for(Fe instanceof Date||(Fe=new Date(+Fe));++rt<Pt;)he.charCodeAt(rt)===37&&(ce.push(he.slice(ze,rt)),(Rt=Yk[yt=he.charAt(++rt)])!=null?yt=he.charAt(++rt):Rt=yt==="e"?" ":"0",(Mr=Ce[yt])&&(yt=Mr(Fe,Rt)),ce.push(yt),ze=rt+1);return ce.push(he.slice(ze,rt)),ce.join("")}}function A(he,Ce){return function(Fe){var ce=hc(1900,void 0,1),rt=O(ce,he,Fe+="",0),ze,Pt;if(rt!=Fe.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(Ce&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(ze=o_(hc(ce.y,0,1)),Pt=ze.getUTCDay(),ze=Pt>4||Pt===0?Rp.ceil(ze):Rp(ze),ze=Vm.offset(ze,(ce.V-1)*7),ce.y=ze.getUTCFullYear(),ce.m=ze.getUTCMonth(),ce.d=ze.getUTCDate()+(ce.w+6)%7):(ze=a_(hc(ce.y,0,1)),Pt=ze.getDay(),ze=Pt>4||Pt===0?Np.ceil(ze):Np(ze),ze=Yf.offset(ze,(ce.V-1)*7),ce.y=ze.getFullYear(),ce.m=ze.getMonth(),ce.d=ze.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Pt="Z"in ce?o_(hc(ce.y,0,1)).getUTCDay():a_(hc(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Pt+5)%7:ce.w+ce.U*7-(Pt+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,o_(ce)):a_(ce)}}function O(he,Ce,Fe,ce){for(var rt=0,ze=Ce.length,Pt=Fe.length,yt,Rt;rt<ze;){if(ce>=Pt)return-1;if(yt=Ce.charCodeAt(rt++),yt===37){if(yt=Ce.charAt(rt++),Rt=P[yt in Yk?Ce.charAt(rt++):yt],!Rt||(ce=Rt(he,Fe,ce))<0)return-1}else if(yt!=Fe.charCodeAt(ce++))return-1}return ce}function N(he,Ce,Fe){var ce=f.exec(Ce.slice(Fe));return ce?(he.p=h.get(ce[0].toLowerCase()),Fe+ce[0].length):-1}function F(he,Ce,Fe){var ce=_.exec(Ce.slice(Fe));return ce?(he.w=S.get(ce[0].toLowerCase()),Fe+ce[0].length):-1}function V(he,Ce,Fe){var ce=m.exec(Ce.slice(Fe));return ce?(he.w=y.get(ce[0].toLowerCase()),Fe+ce[0].length):-1}function $(he,Ce,Fe){var ce=k.exec(Ce.slice(Fe));return ce?(he.m=j.get(ce[0].toLowerCase()),Fe+ce[0].length):-1}function L(he,Ce,Fe){var ce=T.exec(Ce.slice(Fe));return ce?(he.m=b.get(ce[0].toLowerCase()),Fe+ce[0].length):-1}function Z(he,Ce,Fe){return O(he,e,Ce,Fe)}function ee(he,Ce,Fe){return O(he,r,Ce,Fe)}function oe(he,Ce,Fe){return O(he,n,Ce,Fe)}function se(he){return s[he.getDay()]}function Q(he){return a[he.getDay()]}function ie(he){return c[he.getMonth()]}function ne(he){return l[he.getMonth()]}function q(he){return i[+(he.getHours()>=12)]}function G(he){return 1+~~(he.getMonth()/3)}function me(he){return s[he.getUTCDay()]}function be(he){return a[he.getUTCDay()]}function Oe(he){return c[he.getUTCMonth()]}function je(he){return l[he.getUTCMonth()]}function We(he){return i[+(he.getUTCHours()>=12)]}function Le(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Ce=C(he+="",R);return Ce.toString=function(){return he},Ce},parse:function(he){var Ce=A(he+="",!1);return Ce.toString=function(){return he},Ce},utcFormat:function(he){var Ce=C(he+="",M);return Ce.toString=function(){return he},Ce},utcParse:function(he){var Ce=A(he+="",!0);return Ce.toString=function(){return he},Ce}}}var Yk={"-":"",_:" ",0:"0"},cr=/^\s*\d+/,$G=/^%/,FG=/[\\^$*+?|[\]().{}]/g;function tt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function BG(t){return t.replace(FG,"\\$&")}function pc(t){return new RegExp("^(?:"+t.map(BG).join("|")+")","i")}function mc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function UG(t,e,r){var n=cr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function qG(t,e,r){var n=cr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function zG(t,e,r){var n=cr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function WG(t,e,r){var n=cr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function HG(t,e,r){var n=cr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Xk(t,e,r){var n=cr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Qk(t,e,r){var n=cr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function GG(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function KG(t,e,r){var n=cr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function YG(t,e,r){var n=cr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function Jk(t,e,r){var n=cr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function XG(t,e,r){var n=cr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Zk(t,e,r){var n=cr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function QG(t,e,r){var n=cr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function JG(t,e,r){var n=cr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function ZG(t,e,r){var n=cr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function eK(t,e,r){var n=cr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tK(t,e,r){var n=$G.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function rK(t,e,r){var n=cr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function nK(t,e,r){var n=cr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function eN(t,e){return tt(t.getDate(),e,2)}function iK(t,e){return tt(t.getHours(),e,2)}function aK(t,e){return tt(t.getHours()%12||12,e,2)}function oK(t,e){return tt(1+Yf.count(sa(t),t),e,3)}function oL(t,e){return tt(t.getMilliseconds(),e,3)}function sK(t,e){return oL(t,e)+"000"}function uK(t,e){return tt(t.getMonth()+1,e,2)}function lK(t,e){return tt(t.getMinutes(),e,2)}function cK(t,e){return tt(t.getSeconds(),e,2)}function fK(t){var e=t.getDay();return e===0?7:e}function dK(t,e){return tt($m.count(sa(t)-1,t),e,2)}function sL(t){var e=t.getDay();return e>=4||e===0?zu(t):zu.ceil(t)}function hK(t,e){return t=sL(t),tt(zu.count(sa(t),t)+(sa(t).getDay()===4),e,2)}function pK(t){return t.getDay()}function mK(t,e){return tt(Np.count(sa(t)-1,t),e,2)}function gK(t,e){return tt(t.getFullYear()%100,e,2)}function yK(t,e){return t=sL(t),tt(t.getFullYear()%100,e,2)}function vK(t,e){return tt(t.getFullYear()%1e4,e,4)}function xK(t,e){var r=t.getDay();return t=r>=4||r===0?zu(t):zu.ceil(t),tt(t.getFullYear()%1e4,e,4)}function _K(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+tt(e/60|0,"0",2)+tt(e%60,"0",2)}function tN(t,e){return tt(t.getUTCDate(),e,2)}function bK(t,e){return tt(t.getUTCHours(),e,2)}function wK(t,e){return tt(t.getUTCHours()%12||12,e,2)}function EK(t,e){return tt(1+Vm.count(ua(t),t),e,3)}function uL(t,e){return tt(t.getUTCMilliseconds(),e,3)}function TK(t,e){return uL(t,e)+"000"}function SK(t,e){return tt(t.getUTCMonth()+1,e,2)}function AK(t,e){return tt(t.getUTCMinutes(),e,2)}function PK(t,e){return tt(t.getUTCSeconds(),e,2)}function IK(t){var e=t.getUTCDay();return e===0?7:e}function OK(t,e){return tt(Fm.count(ua(t)-1,t),e,2)}function lL(t){var e=t.getUTCDay();return e>=4||e===0?Wu(t):Wu.ceil(t)}function CK(t,e){return t=lL(t),tt(Wu.count(ua(t),t)+(ua(t).getUTCDay()===4),e,2)}function kK(t){return t.getUTCDay()}function NK(t,e){return tt(Rp.count(ua(t)-1,t),e,2)}function RK(t,e){return tt(t.getUTCFullYear()%100,e,2)}function jK(t,e){return t=lL(t),tt(t.getUTCFullYear()%100,e,2)}function DK(t,e){return tt(t.getUTCFullYear()%1e4,e,4)}function MK(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Wu(t):Wu.ceil(t),tt(t.getUTCFullYear()%1e4,e,4)}function LK(){return"+0000"}function rN(){return"%"}function nN(t){return+t}function iN(t){return Math.floor(+t/1e3)}var fu,cL,fL;VK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function VK(t){return fu=VG(t),cL=fu.format,fu.parse,fL=fu.utcFormat,fu.utcParse,fu}function $K(t){return new Date(t)}function FK(t){return t instanceof Date?+t:+new Date(+t)}function vE(t,e,r,n,i,a,s,l,c,f){var h=iE(),m=h.invert,y=h.domain,_=f(".%L"),S=f(":%S"),T=f("%I:%M"),b=f("%I %p"),k=f("%a %d"),j=f("%b %d"),R=f("%B"),M=f("%Y");function P(C){return(c(C)<C?_:l(C)<C?S:s(C)<C?T:a(C)<C?b:n(C)<C?i(C)<C?k:j:r(C)<C?R:M)(C)}return h.invert=function(C){return new Date(m(C))},h.domain=function(C){return arguments.length?y(Array.from(C,FK)):y().map($K)},h.ticks=function(C){var A=y();return t(A[0],A[A.length-1],C??10)},h.tickFormat=function(C,A){return A==null?P:f(A)},h.nice=function(C){var A=y();return(!C||typeof C.range!="function")&&(C=e(A[0],A[A.length-1],C??10)),C?y(QM(A,C)):h},h.copy=function(){return Kf(h,vE(t,e,r,n,i,a,s,l,c,f))},h}function BK(){return Tn.apply(vE(MG,LG,sa,gE,$m,Yf,pE,dE,Xo,cL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function UK(){return Tn.apply(vE(jG,DG,ua,yE,Fm,Vm,mE,hE,Xo,fL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bm(){var t=0,e=1,r,n,i,a,s=Dr,l=!1,c;function f(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(a(m)-r)*i,l?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(m){return arguments.length?(l=!!m,f):l},f.interpolator=function(m){return arguments.length?(s=m,f):s};function h(m){return function(y){var _,S;return arguments.length?([_,S]=y,s=m(_,S),f):[s(0),s(1)]}}return f.range=h(ml),f.rangeRound=h(nE),f.unknown=function(m){return arguments.length?(c=m,f):c},function(m){return a=m,r=m(t),n=m(e),i=r===n?0:1/(n-r),f}}function ho(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function dL(){var t=fo(Bm()(Dr));return t.copy=function(){return ho(t,dL())},da.apply(t,arguments)}function hL(){var t=sE(Bm()).domain([1,10]);return t.copy=function(){return ho(t,hL()).base(t.base())},da.apply(t,arguments)}function pL(){var t=uE(Bm());return t.copy=function(){return ho(t,pL()).constant(t.constant())},da.apply(t,arguments)}function xE(){var t=lE(Bm());return t.copy=function(){return ho(t,xE()).exponent(t.exponent())},da.apply(t,arguments)}function qK(){return xE.apply(null,arguments).exponent(.5)}function mL(){var t=[],e=Dr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Hf(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(to),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>OH(t,a/n))},r.copy=function(){return mL(e).domain(t)},da.apply(r,arguments)}function Um(){var t=0,e=.5,r=1,n=1,i,a,s,l,c,f=Dr,h,m=!1,y;function _(T){return isNaN(T=+T)?y:(T=.5+((T=+h(T))-a)*(n*T<n*a?l:c),f(m?Math.max(0,Math.min(1,T)):T))}_.domain=function(T){return arguments.length?([t,e,r]=T,i=h(t=+t),a=h(e=+e),s=h(r=+r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,_):[t,e,r]},_.clamp=function(T){return arguments.length?(m=!!T,_):m},_.interpolator=function(T){return arguments.length?(f=T,_):f};function S(T){return function(b){var k,j,R;return arguments.length?([k,j,R]=b,f=tG(T,[k,j,R]),_):[f(0),f(.5),f(1)]}}return _.range=S(ml),_.rangeRound=S(nE),_.unknown=function(T){return arguments.length?(y=T,_):y},function(T){return h=T,i=T(t),a=T(e),s=T(r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,_}}function gL(){var t=fo(Um()(Dr));return t.copy=function(){return ho(t,gL())},da.apply(t,arguments)}function yL(){var t=sE(Um()).domain([.1,1,10]);return t.copy=function(){return ho(t,yL()).base(t.base())},da.apply(t,arguments)}function vL(){var t=uE(Um());return t.copy=function(){return ho(t,vL()).constant(t.constant())},da.apply(t,arguments)}function _E(){var t=lE(Um());return t.copy=function(){return ho(t,_E()).exponent(t.exponent())},da.apply(t,arguments)}function zK(){return _E.apply(null,arguments).exponent(.5)}const aN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nf,scaleDiverging:gL,scaleDivergingLog:yL,scaleDivergingPow:_E,scaleDivergingSqrt:zK,scaleDivergingSymlog:vL,scaleIdentity:XM,scaleImplicit:qb,scaleLinear:Cp,scaleLog:JM,scaleOrdinal:eE,scalePoint:Mc,scalePow:cE,scaleQuantile:tL,scaleQuantize:rL,scaleRadial:eL,scaleSequential:dL,scaleSequentialLog:hL,scaleSequentialPow:xE,scaleSequentialQuantile:mL,scaleSequentialSqrt:qK,scaleSequentialSymlog:pL,scaleSqrt:TG,scaleSymlog:ZM,scaleThreshold:nL,scaleTime:BK,scaleUtc:UK,tickFormat:YM},Symbol.toStringTag,{value:"Module"}));var s_,oN;function xL(){if(oN)return s_;oN=1;var t=dl();function e(r,n,i){for(var a=-1,s=r.length;++a<s;){var l=r[a],c=n(l);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=l}return h}return s_=e,s_}var u_,sN;function WK(){if(sN)return u_;sN=1;function t(e,r){return e>r}return u_=t,u_}var l_,uN;function HK(){if(uN)return l_;uN=1;var t=xL(),e=WK(),r=pl();function n(i){return i&&i.length?t(i,r,e):void 0}return l_=n,l_}var GK=HK();const qm=dt(GK);var c_,lN;function KK(){if(lN)return c_;lN=1;function t(e,r){return e<r}return c_=t,c_}var f_,cN;function YK(){if(cN)return f_;cN=1;var t=xL(),e=KK(),r=pl();function n(i){return i&&i.length?t(i,r,e):void 0}return f_=n,f_}var XK=YK();const zm=dt(XK);var d_,fN;function QK(){if(fN)return d_;fN=1;var t=D1(),e=co(),r=OM(),n=Hr();function i(a,s){var l=n(a)?t:r;return l(a,e(s,3))}return d_=i,d_}var h_,dN;function JK(){if(dN)return h_;dN=1;var t=PM(),e=QK();function r(n,i){return t(e(n,i),1)}return h_=r,h_}var ZK=JK();const eY=dt(ZK);var p_,hN;function tY(){if(hN)return p_;hN=1;var t=K1();function e(r,n){return t(r,n)}return p_=e,p_}var rY=tY();const bE=dt(rY);var gl=1e9,nY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},EE,Ot=!0,En="[DecimalError] ",ns=En+"Invalid argument: ",wE=En+"Exponent out of range: ",yl=Math.floor,Wo=Math.pow,iY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,on,ur=1e7,Tt=7,_L=9007199254740991,jp=yl(_L/Tt),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Tt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Te.dividedBy=Te.div=function(t){return ea(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,r=e.constructor;return gt(ea(e,new r(t),0,1),r.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return Ht(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(on))throw Error(En+"NaN");if(r.s<1)throw Error(En+(r.s?"NaN":"-Infinity"));return r.eq(on)?new n(0):(Ot=!1,e=ea(lf(r,a),lf(t,a),a),Ot=!0,gt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?EL(e,t):bL(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(En+"NaN");return r.s?(Ot=!1,e=ea(r,t,0,1).times(t),Ot=!0,r.minus(e)):gt(new n(r),i)};Te.naturalExponential=Te.exp=function(){return wL(this)};Te.naturalLogarithm=Te.ln=function(){return lf(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?bL(e,t):EL(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ns+t);if(e=Ht(i)+1,n=i.d.length-1,r=n*Tt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Te.squareRoot=Te.sqrt=function(){var t,e,r,n,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(En+"NaN")}for(t=Ht(l),Ot=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=di(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=yl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(ea(l,a,s+2)).times(.5),di(a.d).slice(0,s)===(e=di(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(gt(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;s+=4}return Ot=!0,gt(n,r)};Te.times=Te.mul=function(t){var e,r,n,i,a,s,l,c,f,h=this,m=h.constructor,y=h.d,_=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,r=h.e+t.e,c=y.length,f=_.length,c<f&&(a=y,y=_,_=a,s=c,c=f,f=s),a=[],s=c+f,n=s;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=c+n;i>n;)l=a[i]+_[n]*y[i-n-1]+e,a[i--]=l%ur|0,e=l/ur|0;a[i]=(a[i]+e)%ur|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Ot?gt(t,m.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ei(t,0,gl),e===void 0?e=n.rounding:Ei(e,0,8),gt(r,t+Ht(r)+1,e))};Te.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=hs(n,!0):(Ei(t,0,gl),e===void 0?e=i.rounding:Ei(e,0,8),n=gt(new i(n),t+1,e),r=hs(n,!0,t+1)),r};Te.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?hs(i):(Ei(t,0,gl),e===void 0?e=a.rounding:Ei(e,0,8),n=gt(new a(i),t+Ht(i)+1,e),r=hs(n.abs(),!1,t+Ht(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return gt(new e(t),Ht(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,r,n,i,a,s,l=this,c=l.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(on);if(l=new c(l),!l.s){if(t.s<1)throw Error(En+"Infinity");return l}if(l.eq(on))return l;if(n=c.precision,t.eq(on))return gt(l,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=l.s,s){if((r=h<0?-h:h)<=_L){for(i=new c(on),e=Math.ceil(n/Tt+4),Ot=!1;r%2&&(i=i.times(l),mN(i.d,e)),r=yl(r/2),r!==0;)l=l.times(l),mN(l.d,e);return Ot=!0,t.s<0?new c(on).div(i):gt(i,n)}}else if(a<0)throw Error(En+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Ot=!1,i=t.times(lf(l,n+f)),Ot=!0,i=wL(i),i.s=a,i};Te.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Ht(i),n=hs(i,r<=a.toExpNeg||r>=a.toExpPos)):(Ei(t,1,gl),e===void 0?e=a.rounding:Ei(e,0,8),i=gt(new a(i),t,e),r=Ht(i),n=hs(i,t<=r||r<=a.toExpNeg,t)),n};Te.toSignificantDigits=Te.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ei(t,1,gl),e===void 0?e=n.rounding:Ei(e,0,8)),gt(new n(r),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ht(t),r=t.constructor;return hs(t,e<=r.toExpNeg||e>=r.toExpPos)};function bL(t,e){var r,n,i,a,s,l,c,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Ot?gt(e,m):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,l=f.length):(n=f,i=s,l=c.length),s=Math.ceil(m/Tt),l=s>l?s+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=f.length,l-a<0&&(a=l,n=f,f=c,c=n),r=0;a;)r=(c[--a]=c[a]+f[a]+r)/ur|0,c[a]%=ur;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Ot?gt(e,m):e}function Ei(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ns+t)}function di(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Tt-n.length,r&&(a+=qa(r)),a+=n;s=t[e],n=s+"",r=Tt-n.length,r&&(a+=qa(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ea=(function(){function t(n,i){var a,s=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+s,n[l]=a%ur|0,s=a/ur|0;return s&&n.unshift(s),n}function e(n,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*ur+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var l,c,f,h,m,y,_,S,T,b,k,j,R,M,P,C,A,O,N=n.constructor,F=n.s==i.s?1:-1,V=n.d,$=i.d;if(!n.s)return new N(n);if(!i.s)throw Error(En+"Division by zero");for(c=n.e-i.e,A=$.length,P=V.length,_=new N(F),S=_.d=[],f=0;$[f]==(V[f]||0);)++f;if($[f]>(V[f]||0)&&--c,a==null?j=a=N.precision:s?j=a+(Ht(n)-Ht(i))+1:j=a,j<0)return new N(0);if(j=j/Tt+2|0,f=0,A==1)for(h=0,$=$[0],j++;(f<P||h)&&j--;f++)R=h*ur+(V[f]||0),S[f]=R/$|0,h=R%$|0;else{for(h=ur/($[0]+1)|0,h>1&&($=t($,h),V=t(V,h),A=$.length,P=V.length),M=A,T=V.slice(0,A),b=T.length;b<A;)T[b++]=0;O=$.slice(),O.unshift(0),C=$[0],$[1]>=ur/2&&++C;do h=0,l=e($,T,A,b),l<0?(k=T[0],A!=b&&(k=k*ur+(T[1]||0)),h=k/C|0,h>1?(h>=ur&&(h=ur-1),m=t($,h),y=m.length,b=T.length,l=e(m,T,y,b),l==1&&(h--,r(m,A<y?O:$,y))):(h==0&&(l=h=1),m=$.slice()),y=m.length,y<b&&m.unshift(0),r(T,m,b),l==-1&&(b=T.length,l=e($,T,A,b),l<1&&(h++,r(T,A<b?O:$,b))),b=T.length):l===0&&(h++,T=[0]),S[f++]=h,l&&T[0]?T[b++]=V[M]||0:(T=[V[M]],b=1);while((M++<P||T[0]!==void 0)&&j--)}return S[0]||S.shift(),_.e=c,gt(_,s?a+Ht(_)+1:a)}})();function wL(t,e){var r,n,i,a,s,l,c=0,f=0,h=t.constructor,m=h.precision;if(Ht(t)>16)throw Error(wE+Ht(t));if(!t.s)return new h(on);for(Ot=!1,l=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(n=Math.log(Wo(2,f))/Math.LN10*2+5|0,l+=n,r=i=a=new h(on),h.precision=l;;){if(i=gt(i.times(t),l),r=r.times(++c),s=a.plus(ea(i,r,l)),di(s.d).slice(0,l)===di(a.d).slice(0,l)){for(;f--;)a=gt(a.times(a),l);return h.precision=m,e==null?(Ot=!0,gt(a,m)):a}a=s}}function Ht(t){for(var e=t.e*Tt,r=t.d[0];r>=10;r/=10)e++;return e}function m_(t,e,r){if(e>t.LN10.sd())throw Ot=!0,r&&(t.precision=r),Error(En+"LN10 precision limit exceeded");return gt(new t(t.LN10),e)}function qa(t){for(var e="";t--;)e+="0";return e}function lf(t,e){var r,n,i,a,s,l,c,f,h,m=1,y=10,_=t,S=_.d,T=_.constructor,b=T.precision;if(_.s<1)throw Error(En+(_.s?"NaN":"-Infinity"));if(_.eq(on))return new T(0);if(e==null?(Ot=!1,f=b):f=e,_.eq(10))return e==null&&(Ot=!0),m_(T,f);if(f+=y,T.precision=f,r=di(S),n=r.charAt(0),a=Ht(_),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)_=_.times(t),r=di(_.d),n=r.charAt(0),m++;a=Ht(_),n>1?(_=new T("0."+r),a++):_=new T(n+"."+r.slice(1))}else return c=m_(T,f+2,b).times(a+""),_=lf(new T(n+"."+r.slice(1)),f-y).plus(c),T.precision=b,e==null?(Ot=!0,gt(_,b)):_;for(l=s=_=ea(_.minus(on),_.plus(on),f),h=gt(_.times(_),f),i=3;;){if(s=gt(s.times(h),f),c=l.plus(ea(s,new T(i),f)),di(c.d).slice(0,f)===di(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(m_(T,f+2,b).times(a+""))),l=ea(l,new T(m),f),T.precision=b,e==null?(Ot=!0,gt(l,b)):l;l=c,i+=2}}function pN(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=yl(r/Tt),t.d=[],n=(r+1)%Tt,r<0&&(n+=Tt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Tt;n<i;)t.d.push(+e.slice(n,n+=Tt));e=e.slice(n),n=Tt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ot&&(t.e>jp||t.e<-jp))throw Error(wE+r)}else t.s=0,t.e=0,t.d=[0];return t}function gt(t,e,r){var n,i,a,s,l,c,f,h,m=t.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Tt,i=e,f=m[h=0];else{if(h=Math.ceil((n+1)/Tt),a=m.length,h>=a)return t;for(f=a=m[h],s=1;a>=10;a/=10)s++;n%=Tt,i=n-Tt+s}if(r!==void 0&&(a=Wo(10,s-i-1),l=f/a%10|0,c=e<0||m[h+1]!==void 0||f%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?f/Wo(10,s-i):0:m[h-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return c?(a=Ht(t),m.length=1,e=e-a-1,m[0]=Wo(10,(Tt-e%Tt)%Tt),t.e=yl(-e/Tt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=h,a=1,h--):(m.length=h+1,a=Wo(10,Tt-n),m[h]=i>0?(f/Wo(10,s-i)%Wo(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==ur&&(m[0]=1,++t.e);break}else{if(m[h]+=a,m[h]!=ur)break;m[h--]=0,a=1}for(n=m.length;m[--n]===0;)m.pop();if(Ot&&(t.e>jp||t.e<-jp))throw Error(wE+Ht(t));return t}function EL(t,e){var r,n,i,a,s,l,c,f,h,m,y=t.constructor,_=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Ot?gt(e,_):e;if(c=t.d,m=e.d,n=e.e,f=t.e,c=c.slice(),s=f-n,s){for(h=s<0,h?(r=c,s=-s,l=m.length):(r=m,n=f,l=c.length),i=Math.max(Math.ceil(_/Tt),l)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=m.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}s=0}for(h&&(r=c,c=m,m=r,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=ur-1;--c[a],c[i]+=ur}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ot?gt(e,_):e):new y(0)}function hs(t,e,r){var n,i=Ht(t),a=di(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+qa(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+qa(-i-1)+a,r&&(n=r-s)>0&&(a+=qa(n))):i>=s?(a+=qa(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+qa(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=qa(n))),t.s<0?"-"+a:a}function mN(t,e){if(t.length>e)return t.length=e,!0}function TL(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ns+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return pN(s,a.toString())}else if(typeof a!="string")throw Error(ns+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,iY.test(a))pN(s,a);else throw Error(ns+a)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=TL,i.config=i.set=aY,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function aY(t){if(!t||typeof t!="object")throw Error(En+"Object expected");var e,r,n,i=["precision",1,gl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(yl(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(ns+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ns+r+": "+n);return this}var EE=TL(nY);on=new EE(1);const ft=EE;function oY(t){return cY(t)||lY(t)||uY(t)||sY()}function sY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uY(t,e){if(t){if(typeof t=="string")return Gb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gb(t,e)}}function lY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function cY(t){if(Array.isArray(t))return Gb(t)}function Gb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var fY=function(e){return e},SL={},AL=function(e){return e===SL},gN=function(e){return function r(){return arguments.length===0||arguments.length===1&&AL(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},dY=function t(e,r){return e===1?r:gN(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==SL}).length;return s>=e?r.apply(void 0,i):t(e-s,gN(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var h=i.map(function(m){return AL(m)?c.shift():m});return r.apply(void 0,oY(h).concat(c))}))})},Wm=function(e){return dY(e.length,e)},Kb=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},hY=Wm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),pY=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return fY;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},Yb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},PL=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function mY(t){var e;return t===0?e=1:e=Math.floor(new ft(t).abs().log(10).toNumber())+1,e}function gY(t,e,r){for(var n=new ft(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var yY=Wm(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),vY=Wm(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),xY=Wm(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Hm={rangeStep:gY,getDigitCount:mY,interpolateNumber:yY,uninterpolateNumber:vY,uninterpolateTruncation:xY};function Xb(t){return wY(t)||bY(t)||IL(t)||_Y()}function _Y(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function wY(t){if(Array.isArray(t))return Qb(t)}function cf(t,e){return SY(t)||TY(t,e)||IL(t,e)||EY()}function EY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IL(t,e){if(t){if(typeof t=="string")return Qb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qb(t,e)}}function Qb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TY(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function SY(t){if(Array.isArray(t))return t}function OL(t){var e=cf(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function CL(t,e,r){if(t.lte(0))return new ft(0);var n=Hm.getDigitCount(t.toNumber()),i=new ft(10).pow(n),a=t.div(i),s=n!==1?.05:.1,l=new ft(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=l.mul(i);return e?c:new ft(Math.ceil(c))}function AY(t,e,r){var n=1,i=new ft(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new ft(10).pow(Hm.getDigitCount(t)-1),i=new ft(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new ft(Math.floor(t)))}else t===0?i=new ft(Math.floor((e-1)/2)):r||(i=new ft(Math.floor(t)));var s=Math.floor((e-1)/2),l=pY(hY(function(c){return i.add(new ft(c-s).mul(n)).toNumber()}),Kb);return l(0,e)}function kL(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var a=CL(new ft(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new ft(0):(s=new ft(t).add(e).div(2),s=s.sub(new ft(s).mod(a)));var l=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new ft(e).sub(s).div(a).toNumber()),f=l+c+1;return f>r?kL(t,e,r,n,i+1):(f<r&&(c=e>0?c+(r-f):c,l=e>0?l:l+(r-f)),{step:a,tickMin:s.sub(new ft(l).mul(a)),tickMax:s.add(new ft(c).mul(a))})}function PY(t){var e=cf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=OL([r,n]),c=cf(l,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(Xb(Kb(0,i-1).map(function(){return 1/0}))):[].concat(Xb(Kb(0,i-1).map(function(){return-1/0})),[h]);return r>n?Yb(m):m}if(f===h)return AY(f,i,a);var y=kL(f,h,s,a),_=y.step,S=y.tickMin,T=y.tickMax,b=Hm.rangeStep(S,T.add(new ft(.1).mul(_)),_);return r>n?Yb(b):b}function IY(t,e){var r=cf(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=OL([n,i]),l=cf(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var h=Math.max(e,2),m=CL(new ft(f).sub(c).div(h-1),a,0),y=[].concat(Xb(Hm.rangeStep(new ft(c),new ft(f).sub(new ft(.99).mul(m)),m)),[f]);return n>i?Yb(y):y}var OY=PL(PY),CY=PL(IY),kY="Invariant failed";function ps(t,e){throw new Error(kY)}var NY=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function Dp(){return Dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dp.apply(this,arguments)}function RY(t,e){return LY(t)||MY(t,e)||DY(t,e)||jY()}function jY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DY(t,e){if(t){if(typeof t=="string")return yN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yN(t,e)}}function yN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function LY(t){if(Array.isArray(t))return t}function VY(t,e){if(t==null)return{};var r=$Y(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $Y(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jL(n.key),n)}}function UY(t,e,r){return e&&BY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qY(t,e,r){return e=Mp(e),zY(t,NL()?Reflect.construct(e,r||[],Mp(t).constructor):e.apply(t,r))}function zY(t,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WY(t)}function WY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NL=function(){return!!t})()}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mp(t)}function HY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jb(t,e)}function Jb(t,e){return Jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jb(t,e)}function RL(t,e,r){return e=jL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jL(t){var e=GY(t,"string");return Hu(e)=="symbol"?e:e+""}function GY(t,e){if(Hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gm=(function(t){function e(){return FY(this,e),qY(this,e,arguments)}return HY(e,t),UY(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,l=n.dataKey,c=n.data,f=n.dataPointFormatter,h=n.xAxis,m=n.yAxis,y=VY(n,NY),_=it(y,!1);this.props.direction==="x"&&h.type!=="number"&&ps();var S=c.map(function(T){var b=f(T,l),k=b.x,j=b.y,R=b.value,M=b.errorVal;if(!M)return null;var P=[],C,A;if(Array.isArray(M)){var O=RY(M,2);C=O[0],A=O[1]}else C=A=M;if(a==="vertical"){var N=h.scale,F=j+i,V=F+s,$=F-s,L=N(R-C),Z=N(R+A);P.push({x1:Z,y1:V,x2:Z,y2:$}),P.push({x1:L,y1:F,x2:Z,y2:F}),P.push({x1:L,y1:V,x2:L,y2:$})}else if(a==="horizontal"){var ee=m.scale,oe=k+i,se=oe-s,Q=oe+s,ie=ee(R-C),ne=ee(R+A);P.push({x1:se,y1:ne,x2:Q,y2:ne}),P.push({x1:oe,y1:ie,x2:oe,y2:ne}),P.push({x1:se,y1:ie,x2:Q,y2:ie})}return K.createElement(lr,Dp({className:"recharts-errorBar",key:"bar-".concat(P.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},_),P.map(function(q){return K.createElement("line",Dp({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return K.createElement(lr,{className:"recharts-errorBars"},S)}}])})(K.Component);RL(Gm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});RL(Gm,"displayName","ErrorBar");function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function vN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Uo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(r),!0).forEach(function(n){KY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KY(t,e,r){return e=YY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YY(t){var e=XY(t,"string");return ff(e)=="symbol"?e:e+""}function XY(t,e){if(ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DL=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=an(r,Iu);if(!s)return null;var l=Iu.defaultProps,c=l!==void 0?Uo(Uo({},l),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(n||[]).reduce(function(h,m){var y=m.item,_=m.props,S=_.sectors||_.data||[];return h.concat(S.map(function(T){return{type:s.props.iconType||y.props.legendType,value:T.name,color:T.fill,payload:T}}))},[]):f=(n||[]).map(function(h){var m=h.item,y=m.type.defaultProps,_=y!==void 0?Uo(Uo({},y),m.props):{},S=_.dataKey,T=_.name,b=_.legendType,k=_.hide;return{inactive:k,dataKey:S,type:c.iconType||b||"square",color:TE(m),value:T||S,payload:_}}),Uo(Uo(Uo({},c),Iu.getWithHeight(s,i)),{},{payload:f,item:s})};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function xN(t){return eX(t)||ZY(t)||JY(t)||QY()}function QY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JY(t,e){if(t){if(typeof t=="string")return Zb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zb(t,e)}}function ZY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eX(t){if(Array.isArray(t))return Zb(t)}function Zb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(r),!0).forEach(function(n){Cu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cu(t,e,r){return e=tX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tX(t){var e=rX(t,"string");return df(e)=="symbol"?e:e+""}function rX(t,e){if(df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ti(t,e,r){return ot(t)||ot(e)?r:er(e)?wn(t,e,r):Ge(e)?e(t):r}function Lc(t,e,r,n){var i=eY(t,function(l){return Ti(l,e)});if(r==="number"){var a=i.filter(function(l){return xe(l)||parseFloat(l)});return a.length?[zm(a),qm(a)]:[1/0,-1/0]}var s=n?i.filter(function(l){return!ot(l)}):i;return s.map(function(l){return er(l)||l instanceof Date?l:""})}var nX=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,f=0;f<l;f++){var h=f>0?i[f-1].coordinate:i[l-1].coordinate,m=i[f].coordinate,y=f>=l-1?i[0].coordinate:i[f+1].coordinate,_=void 0;if(Bn(m-h)!==Bn(y-m)){var S=[];if(Bn(y-m)===Bn(c[1]-c[0])){_=y;var T=m+c[1]-c[0];S[0]=Math.min(T,(T+h)/2),S[1]=Math.max(T,(T+h)/2)}else{_=h;var b=y+c[1]-c[0];S[0]=Math.min(m,(b+m)/2),S[1]=Math.max(m,(b+m)/2)}var k=[Math.min(m,(_+m)/2),Math.max(m,(_+m)/2)];if(e>k[0]&&e<=k[1]||e>=S[0]&&e<=S[1]){s=i[f].index;break}}else{var j=Math.min(h,y),R=Math.max(h,y);if(e>(j+m)/2&&e<=(R+m)/2){s=i[f].index;break}}}else for(var M=0;M<l;M++)if(M===0&&e<=(n[M].coordinate+n[M+1].coordinate)/2||M>0&&M<l-1&&e>(n[M].coordinate+n[M-1].coordinate)/2&&e<=(n[M].coordinate+n[M+1].coordinate)/2||M===l-1&&e>(n[M].coordinate+n[M-1].coordinate)/2){s=n[M].index;break}return s},TE=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,s=a.stroke,l=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},iX=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),c=0,f=l.length;c<f;c++)for(var h=a[l[c]].stackGroups,m=Object.keys(h),y=0,_=m.length;y<_;y++){var S=h[m[y]],T=S.items,b=S.cateAxisId,k=T.filter(function(A){return Ji(A.type).indexOf("Bar")>=0});if(k&&k.length){var j=k[0].type.defaultProps,R=j!==void 0?Mt(Mt({},j),k[0].props):k[0].props,M=R.barSize,P=R[b];s[P]||(s[P]=[]);var C=ot(M)?r:M;s[P].push({item:k[0],stackList:k.slice(1),barSize:ot(C)?void 0:ds(C,n,0)})}}return s},aX=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,l=e.maxBarSize,c=s.length;if(c<1)return null;var f=ds(r,i,0,!0),h,m=[];if(s[0].barSize===+s[0].barSize){var y=!1,_=i/c,S=s.reduce(function(M,P){return M+P.barSize||0},0);S+=(c-1)*f,S>=i&&(S-=(c-1)*f,f=0),S>=i&&_>0&&(y=!0,_*=.9,S=c*_);var T=(i-S)/2>>0,b={offset:T-f,size:0};h=s.reduce(function(M,P){var C={item:P.item,position:{offset:b.offset+b.size+f,size:y?_:P.barSize}},A=[].concat(xN(M),[C]);return b=A[A.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(O){A.push({item:O,position:b})}),A},m)}else{var k=ds(n,i,0,!0);i-2*k-(c-1)*f<=0&&(f=0);var j=(i-2*k-(c-1)*f)/c;j>1&&(j>>=0);var R=l===+l?Math.min(j,l):j;h=s.reduce(function(M,P,C){var A=[].concat(xN(M),[{item:P.item,position:{offset:k+(j+f)*C+(j-R)/2,size:R}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(O){A.push({item:O,position:A[A.length-1].position})}),A},m)}return h},oX=function(e,r,n,i){var a=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),f=DL({children:a,legendWidth:c});if(f){var h=i||{},m=h.width,y=h.height,_=f.align,S=f.verticalAlign,T=f.layout;if((T==="vertical"||T==="horizontal"&&S==="middle")&&_!=="center"&&xe(e[_]))return Mt(Mt({},e),{},Cu({},_,e[_]+(m||0)));if((T==="horizontal"||T==="vertical"&&_==="center")&&S!=="middle"&&xe(e[S]))return Mt(Mt({},e),{},Cu({},S,e[S]+(y||0)))}return e},sX=function(e,r,n){return ot(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},ML=function(e,r,n,i,a){var s=r.props.children,l=zn(s,Gm).filter(function(f){return sX(i,a,f.props.direction)});if(l&&l.length){var c=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var m=Ti(h,n);if(ot(m))return f;var y=Array.isArray(m)?[zm(m),qm(m)]:[m,m],_=c.reduce(function(S,T){var b=Ti(h,T,0),k=y[0]-Math.abs(Array.isArray(b)?b[0]:b),j=y[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(k,S[0]),Math.max(j,S[1])]},[1/0,-1/0]);return[Math.min(_[0],f[0]),Math.max(_[1],f[1])]},[1/0,-1/0])}return null},uX=function(e,r,n,i,a){var s=r.map(function(l){return ML(e,l,n,a,i)}).filter(function(l){return!ot(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},LL=function(e,r,n,i,a){var s=r.map(function(c){var f=c.props.dataKey;return n==="number"&&f&&ML(e,c,f,i)||Lc(e,f,n,a)});if(n==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,f){for(var h=0,m=f.length;h<m;h++)l[f[h]]||(l[f[h]]=!0,c.push(f[h]));return c},[])},VL=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},$L=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,s,l=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate});return a||l.push(r),s||l.push(n),l},Qi=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Bn(l[0]-l[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var y=a?a.indexOf(m):m;return{coordinate:i(y)+f,value:m,offset:f}});return h.filter(function(m){return!qf(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,y){return{coordinate:i(m)+f,value:m,index:y,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,y){return{coordinate:i(m)+f,value:a?a[m]:m,index:y,offset:f}})},g_=new WeakMap,Sh=function(e,r){if(typeof r!="function")return e;g_.has(e)||g_.set(e,new WeakMap);var n=g_.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},lX=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:nf(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Cp(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Mc(),realScaleType:"point"}:a==="category"?{scale:nf(),realScaleType:"band"}:{scale:Cp(),realScaleType:"linear"};if(fs(i)){var c="scale".concat(Cm(i));return{scale:(aN[c]||Mc)(),realScaleType:aN[c]?c:"point"}}return Ge(i)?{scale:i}:{scale:Mc(),realScaleType:"point"}},bN=1e-4,cX=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-bN,s=Math.max(i[0],i[1])+bN,l=e(r[0]),c=e(r[n-1]);(l<a||l>s||c<a||c>s)&&e.domain([r[0],r[n-1]])}},fX=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},dX=function(e,r){if(!r||r.length!==2||!xe(r[0])||!xe(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!xe(e[0])||e[0]<n)&&(a[0]=n),(!xe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},hX=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,l=0;l<r;++l){var c=qf(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1])}},pX=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var l=qf(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},mX={sign:hX,expand:Q8,none:Vu,silhouette:J8,wiggle:Z8,positive:pX},gX=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),a=mX[n],s=X8().keys(i).value(function(l,c){return+Ti(l,c,0)}).order(Ob).offset(a);return s(e)},yX=function(e,r,n,i,a,s){if(!e)return null;var l=s?r.reverse():r,c={},f=l.reduce(function(m,y){var _,S=(_=y.type)!==null&&_!==void 0&&_.defaultProps?Mt(Mt({},y.type.defaultProps),y.props):y.props,T=S.stackId,b=S.hide;if(b)return m;var k=S[n],j=m[k]||{hasStack:!1,stackGroups:{}};if(er(T)){var R=j.stackGroups[T]||{numericAxisId:n,cateAxisId:i,items:[]};R.items.push(y),j.hasStack=!0,j.stackGroups[T]=R}else j.stackGroups[Om("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return Mt(Mt({},m),{},Cu({},k,j))},c),h={};return Object.keys(f).reduce(function(m,y){var _=f[y];if(_.hasStack){var S={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(T,b){var k=_.stackGroups[b];return Mt(Mt({},T),{},Cu({},b,{numericAxisId:n,cateAxisId:i,items:k.items,stackedData:gX(e,k.items,a)}))},S)}return Mt(Mt({},m),{},Cu({},y,_))},h)},vX=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=OY(f,a,l);return e.domain([zm(h),qm(h)]),{niceTicks:h}}if(a&&i==="number"){var m=e.domain(),y=CY(m,a,l);return{niceTicks:y}}return null},wN=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Ti(s,r.dataKey,r.domain[l]);return ot(c)?null:r.scale(c)-a/2+i},xX=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},_X=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(er(a)){var s=r[a];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},bX=function(e){return e.reduce(function(r,n){return[zm(n.concat([r[0]]).filter(xe)),qm(n.concat([r[1]]).filter(xe))]},[1/0,-1/0])},FL=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],l=s.stackedData,c=l.reduce(function(f,h){var m=bX(h.slice(r,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},EN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ew=function(e,r,n){if(Ge(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(xe(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(EN.test(e[0])){var a=+EN.exec(e[0])[1];i[0]=r[0]-a}else Ge(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(xe(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(TN.test(e[1])){var s=+TN.exec(e[1])[1];i[1]=r[1]+s}else Ge(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Lp=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=X1(r,function(m){return m.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var f=a[l],h=a[l-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},SN=function(e,r,n){return!e||!e.length||bE(e,wn(n,"type.defaultProps.domain"))?r:e},BL=function(e,r){var n=e.type.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,f=n.chartType,h=n.hide;return Mt(Mt({},it(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:TE(e),value:Ti(r,i),type:c,payload:r,chartType:f,hide:h})};function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function AN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(r),!0).forEach(function(n){wX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wX(t,e,r){return e=EX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EX(t){var e=TX(t,"string");return hf(e)=="symbol"?e:e+""}function TX(t,e){if(hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vp=Math.PI/180,SX=function(e){return e*180/Math.PI},xr=function(e,r,n,i){return{x:e+Math.cos(-Vp*i)*n,y:r+Math.sin(-Vp*i)*n}},AX=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},PX=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,l=AX({x:n,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(n-a)/l,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:l,angle:SX(f),angleInRadian:f}},IX=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},OX=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),l=Math.min(a,s);return e+l*360},IN=function(e,r){var n=e.x,i=e.y,a=PX({x:n,y:i},r),s=a.radius,l=a.angle,c=r.innerRadius,f=r.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=IX(r),m=h.startAngle,y=h.endAngle,_=l,S;if(m<=y){for(;_>y;)_-=360;for(;_<m;)_+=360;S=_>=m&&_<=y}else{for(;_>m;)_-=360;for(;_<y;)_+=360;S=_>=y&&_<=m}return S?PN(PN({},r),{},{radius:s,angle:OX(_,r)}):null};function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}var CX=["offset"];function kX(t){return DX(t)||jX(t)||RX(t)||NX()}function NX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RX(t,e){if(t){if(typeof t=="string")return tw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tw(t,e)}}function jX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DX(t){if(Array.isArray(t))return tw(t)}function tw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MX(t,e){if(t==null)return{};var r=LX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ON(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(r),!0).forEach(function(n){VX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VX(t,e,r){return e=$X(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $X(t){var e=FX(t,"string");return pf(e)=="symbol"?e:e+""}function FX(t,e){if(pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mf.apply(this,arguments)}var BX=function(e){var r=e.value,n=e.formatter,i=ot(e.children)?r:e.children;return Ge(n)?n(i):i},UX=function(e,r){var n=Bn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},qX=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,l=e.className,c=a,f=c.cx,h=c.cy,m=c.innerRadius,y=c.outerRadius,_=c.startAngle,S=c.endAngle,T=c.clockWise,b=(m+y)/2,k=UX(_,S),j=k>=0?1:-1,R,M;i==="insideStart"?(R=_+j*s,M=T):i==="insideEnd"?(R=S-j*s,M=!T):i==="end"&&(R=S+j*s,M=T),M=k<=0?M:!M;var P=xr(f,h,b,R),C=xr(f,h,b,R+(M?1:-1)*359),A="M".concat(P.x,",").concat(P.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(M?0:1,`,
    `).concat(C.x,",").concat(C.y),O=ot(e.id)?Om("recharts-radial-line-"):e.id;return K.createElement("text",mf({},n,{dominantBaseline:"central",className:at("recharts-radial-bar-label",l)}),K.createElement("defs",null,K.createElement("path",{id:O,d:A})),K.createElement("textPath",{xlinkHref:"#".concat(O)},r))},zX=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,l=a.cy,c=a.innerRadius,f=a.outerRadius,h=a.startAngle,m=a.endAngle,y=(h+m)/2;if(i==="outside"){var _=xr(s,l,f+n,y),S=_.x,T=_.y;return{x:S,y:T,textAnchor:S>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+f)/2,k=xr(s,l,b,y),j=k.x,R=k.y;return{x:j,y:R,textAnchor:"middle",verticalAnchor:"middle"}},WX=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,l=s.x,c=s.y,f=s.width,h=s.height,m=h>=0?1:-1,y=m*i,_=m>0?"end":"start",S=m>0?"start":"end",T=f>=0?1:-1,b=T*i,k=T>0?"end":"start",j=T>0?"start":"end";if(a==="top"){var R={x:l+f/2,y:c-m*i,textAnchor:"middle",verticalAnchor:_};return Qt(Qt({},R),n?{height:Math.max(c-n.y,0),width:f}:{})}if(a==="bottom"){var M={x:l+f/2,y:c+h+y,textAnchor:"middle",verticalAnchor:S};return Qt(Qt({},M),n?{height:Math.max(n.y+n.height-(c+h),0),width:f}:{})}if(a==="left"){var P={x:l-b,y:c+h/2,textAnchor:k,verticalAnchor:"middle"};return Qt(Qt({},P),n?{width:Math.max(P.x-n.x,0),height:h}:{})}if(a==="right"){var C={x:l+f+b,y:c+h/2,textAnchor:j,verticalAnchor:"middle"};return Qt(Qt({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:h}:{})}var A=n?{width:f,height:h}:{};return a==="insideLeft"?Qt({x:l+b,y:c+h/2,textAnchor:j,verticalAnchor:"middle"},A):a==="insideRight"?Qt({x:l+f-b,y:c+h/2,textAnchor:k,verticalAnchor:"middle"},A):a==="insideTop"?Qt({x:l+f/2,y:c+y,textAnchor:"middle",verticalAnchor:S},A):a==="insideBottom"?Qt({x:l+f/2,y:c+h-y,textAnchor:"middle",verticalAnchor:_},A):a==="insideTopLeft"?Qt({x:l+b,y:c+y,textAnchor:j,verticalAnchor:S},A):a==="insideTopRight"?Qt({x:l+f-b,y:c+y,textAnchor:k,verticalAnchor:S},A):a==="insideBottomLeft"?Qt({x:l+b,y:c+h-y,textAnchor:j,verticalAnchor:_},A):a==="insideBottomRight"?Qt({x:l+f-b,y:c+h-y,textAnchor:k,verticalAnchor:_},A):hl(a)&&(xe(a.x)||Ko(a.x))&&(xe(a.y)||Ko(a.y))?Qt({x:l+ds(a.x,f),y:c+ds(a.y,h),textAnchor:"end",verticalAnchor:"end"},A):Qt({x:l+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},A)},HX=function(e){return"cx"in e&&xe(e.cx)};function Cr(t){var e=t.offset,r=e===void 0?5:e,n=MX(t,CX),i=Qt({offset:r},n),a=i.viewBox,s=i.position,l=i.value,c=i.children,f=i.content,h=i.className,m=h===void 0?"":h,y=i.textBreakAll;if(!a||ot(l)&&ot(c)&&!H.isValidElement(f)&&!Ge(f))return null;if(H.isValidElement(f))return H.cloneElement(f,i);var _;if(Ge(f)){if(_=H.createElement(f,i),H.isValidElement(_))return _}else _=BX(i);var S=HX(a),T=it(i,!0);if(S&&(s==="insideStart"||s==="insideEnd"||s==="end"))return qX(i,_,T);var b=S?zX(i):WX(i);return K.createElement(wp,mf({className:at("recharts-label",m)},T,b,{breakAll:y}),_)}Cr.displayName="Label";var UL=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,m=e.x,y=e.y,_=e.top,S=e.left,T=e.width,b=e.height,k=e.clockWise,j=e.labelViewBox;if(j)return j;if(xe(T)&&xe(b)){if(xe(m)&&xe(y))return{x:m,y,width:T,height:b};if(xe(_)&&xe(S))return{x:_,y:S,width:T,height:b}}return xe(m)&&xe(y)?{x:m,y,width:0,height:0}:xe(r)&&xe(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||l||0,clockWise:k}:e.viewBox?e.viewBox:{}},GX=function(e,r){return e?e===!0?K.createElement(Cr,{key:"label-implicit",viewBox:r}):er(e)?K.createElement(Cr,{key:"label-implicit",viewBox:r,value:e}):H.isValidElement(e)?e.type===Cr?H.cloneElement(e,{key:"label-implicit",viewBox:r}):K.createElement(Cr,{key:"label-implicit",content:e,viewBox:r}):Ge(e)?K.createElement(Cr,{key:"label-implicit",content:e,viewBox:r}):hl(e)?K.createElement(Cr,mf({viewBox:r},e,{key:"label-implicit"})):null:null},KX=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=UL(e),s=zn(i,Cr).map(function(c,f){return H.cloneElement(c,{viewBox:r||a,key:"label-".concat(f)})});if(!n)return s;var l=GX(e.label,r||a);return[l].concat(kX(s))};Cr.parseViewBox=UL;Cr.renderCallByParent=KX;var y_,CN;function YX(){if(CN)return y_;CN=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return y_=t,y_}var XX=YX();const QX=dt(XX);function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}var JX=["valueAccessor"],ZX=["data","dataKey","clockWise","id","textBreakAll"];function eQ(t){return iQ(t)||nQ(t)||rQ(t)||tQ()}function tQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rQ(t,e){if(t){if(typeof t=="string")return rw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rw(t,e)}}function nQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iQ(t){if(Array.isArray(t))return rw(t)}function rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$p.apply(this,arguments)}function kN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(r),!0).forEach(function(n){aQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aQ(t,e,r){return e=oQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oQ(t){var e=sQ(t,"string");return gf(e)=="symbol"?e:e+""}function sQ(t,e){if(gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RN(t,e){if(t==null)return{};var r=uQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var lQ=function(e){return Array.isArray(e.value)?QX(e.value):e.value};function is(t){var e=t.valueAccessor,r=e===void 0?lQ:e,n=RN(t,JX),i=n.data,a=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,f=RN(n,ZX);return!i||!i.length?null:K.createElement(lr,{className:"recharts-label-list"},i.map(function(h,m){var y=ot(a)?r(h,m):Ti(h&&h.payload,a),_=ot(l)?{}:{id:"".concat(l,"-").concat(m)};return K.createElement(Cr,$p({},it(h,!0),f,_,{parentViewBox:h.parentViewBox,value:y,textBreakAll:c,viewBox:Cr.parseViewBox(ot(s)?h:NN(NN({},h),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}is.displayName="LabelList";function cQ(t,e){return t?t===!0?K.createElement(is,{key:"labelList-implicit",data:e}):K.isValidElement(t)||Ge(t)?K.createElement(is,{key:"labelList-implicit",data:e,content:t}):hl(t)?K.createElement(is,$p({data:e},t,{key:"labelList-implicit"})):null:null}function fQ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=zn(n,is).map(function(s,l){return H.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var a=cQ(t.label,e);return[a].concat(eQ(i))}is.renderCallByParent=fQ;function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nw.apply(this,arguments)}function jN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(r),!0).forEach(function(n){dQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dQ(t,e,r){return e=hQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hQ(t){var e=pQ(t,"string");return yf(e)=="symbol"?e:e+""}function pQ(t,e){if(yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mQ=function(e,r){var n=Bn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Ah=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(l?1:-1)+i,m=Math.asin(c/h)/Vp,y=f?a:a+s*m,_=xr(r,n,h,y),S=xr(r,n,i,y),T=f?a-s*m:a,b=xr(r,n,h*Math.cos(m*Vp),T);return{center:_,circleTangency:S,lineTangency:b,theta:m}},qL=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,l=e.endAngle,c=mQ(s,l),f=s+c,h=xr(r,n,a,s),m=xr(r,n,a,f),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var _=xr(r,n,i,s),S=xr(r,n,i,f);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(_.x,",").concat(_.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},gQ=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,m=Bn(h-f),y=Ah({cx:r,cy:n,radius:a,angle:f,sign:m,cornerRadius:s,cornerIsExternal:c}),_=y.circleTangency,S=y.lineTangency,T=y.theta,b=Ah({cx:r,cy:n,radius:a,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:c}),k=b.circleTangency,j=b.lineTangency,R=b.theta,M=c?Math.abs(f-h):Math.abs(f-h)-T-R;if(M<0)return l?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):qL({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h});var P="M ".concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
  `);if(i>0){var C=Ah({cx:r,cy:n,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=C.circleTangency,O=C.lineTangency,N=C.theta,F=Ah({cx:r,cy:n,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),V=F.circleTangency,$=F.lineTangency,L=F.theta,Z=c?Math.abs(f-h):Math.abs(f-h)-N-L;if(Z<0&&s===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat($.x,",").concat($.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(V.x,",").concat(V.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Z>180),",").concat(+(m>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(O.x,",").concat(O.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},yQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zL=function(e){var r=DN(DN({},yQ),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,f=r.cornerIsExternal,h=r.startAngle,m=r.endAngle,y=r.className;if(s<a||h===m)return null;var _=at("recharts-sector",y),S=s-a,T=ds(l,S,0,!0),b;return T>0&&Math.abs(h-m)<360?b=gQ({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(T,S/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m}):b=qL({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:m}),K.createElement("path",nw({},it(r,!0),{className:_,d:b,role:"img"}))};function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iw.apply(this,arguments)}function MN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(r),!0).forEach(function(n){vQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vQ(t,e,r){return e=xQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xQ(t){var e=_Q(t,"string");return vf(e)=="symbol"?e:e+""}function _Q(t,e){if(vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VN={curveBasisClosed:$8,curveBasisOpen:F8,curveBasis:V8,curveBumpX:T8,curveBumpY:S8,curveLinearClosed:B8,curveLinear:Nm,curveMonotoneX:U8,curveMonotoneY:q8,curveNatural:z8,curveStep:W8,curveStepAfter:G8,curveStepBefore:H8},Ph=function(e){return e.x===+e.x&&e.y===+e.y},gc=function(e){return e.x},yc=function(e){return e.y},bQ=function(e,r){if(Ge(e))return e;var n="curve".concat(Cm(e));return(n==="curveMonotone"||n==="curveBump")&&r?VN["".concat(n).concat(r==="vertical"?"Y":"X")]:VN[n]||Nm},wQ=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=bQ(n,l),m=f?a.filter(function(T){return Ph(T)}):a,y;if(Array.isArray(s)){var _=f?s.filter(function(T){return Ph(T)}):s,S=m.map(function(T,b){return LN(LN({},T),{},{base:_[b]})});return l==="vertical"?y=vh().y(yc).x1(gc).x0(function(T){return T.base.x}):y=vh().x(gc).y1(yc).y0(function(T){return T.base.y}),y.defined(Ph).curve(h),y(S)}return l==="vertical"&&xe(s)?y=vh().y(yc).x1(gc).x0(s):xe(s)?y=vh().x(gc).y1(yc).y0(s):y=XD().x(gc).y(yc),y.defined(Ph).curve(h),y(m)},$N=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?wQ(e):i;return H.createElement("path",iw({},it(e,!1),cp(e),{className:at("recharts-curve",r),d:s,ref:a}))},v_={exports:{}},x_,FN;function EQ(){if(FN)return x_;FN=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return x_=t,x_}var __,BN;function TQ(){if(BN)return __;BN=1;var t=EQ();function e(){}function r(){}return r.resetWarningCache=e,__=function(){function n(s,l,c,f,h,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},__}var UN;function SQ(){return UN||(UN=1,v_.exports=TQ()()),v_.exports}var AQ=SQ();const ut=dt(AQ),{getOwnPropertyNames:PQ,getOwnPropertySymbols:IQ}=Object,{hasOwnProperty:OQ}=Object.prototype;function b_(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Ih(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:a}=i,s=a.get(r),l=a.get(n);if(s&&l)return s===n&&l===r;a.set(r,n),a.set(n,r);const c=t(r,n,i);return a.delete(r),a.delete(n),c}}function CQ(t){return t!=null?t[Symbol.toStringTag]:void 0}function qN(t){return PQ(t).concat(IQ(t))}const kQ=Object.hasOwn||((t,e)=>OQ.call(t,e));function Es(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const NQ="__v",RQ="__o",jQ="_owner",{getOwnPropertyDescriptor:zN,keys:WN}=Object;function DQ(t,e){return t.byteLength===e.byteLength&&Fp(new Uint8Array(t),new Uint8Array(e))}function MQ(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function LQ(t,e){return t.byteLength===e.byteLength&&Fp(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function VQ(t,e){return Es(t.getTime(),e.getTime())}function $Q(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function FQ(t,e){return t===e}function HN(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.entries();let s,l,c=0;for(;(s=a.next())&&!s.done;){const f=e.entries();let h=!1,m=0;for(;(l=f.next())&&!l.done;){if(i[m]){m++;continue}const y=s.value,_=l.value;if(r.equals(y[0],_[0],c,m,t,e,r)&&r.equals(y[1],_[1],y[0],_[0],t,e,r)){h=i[m]=!0;break}m++}if(!h)return!1;c++}return!0}const BQ=Es;function UQ(t,e,r){const n=WN(t);let i=n.length;if(WN(e).length!==i)return!1;for(;i-- >0;)if(!WL(t,e,r,n[i]))return!1;return!0}function vc(t,e,r){const n=qN(t);let i=n.length;if(qN(e).length!==i)return!1;let a,s,l;for(;i-- >0;)if(a=n[i],!WL(t,e,r,a)||(s=zN(t,a),l=zN(e,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function qQ(t,e){return Es(t.valueOf(),e.valueOf())}function zQ(t,e){return t.source===e.source&&t.flags===e.flags}function GN(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.values();let s,l;for(;(s=a.next())&&!s.done;){const c=e.values();let f=!1,h=0;for(;(l=c.next())&&!l.done;){if(!i[h]&&r.equals(s.value,l.value,s.value,l.value,t,e,r)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function Fp(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function WQ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function WL(t,e,r,n){return(n===jQ||n===RQ||n===NQ)&&(t.$$typeof||e.$$typeof)?!0:kQ(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const HQ="[object ArrayBuffer]",GQ="[object Arguments]",KQ="[object Boolean]",YQ="[object DataView]",XQ="[object Date]",QQ="[object Error]",JQ="[object Map]",ZQ="[object Number]",eJ="[object Object]",tJ="[object RegExp]",rJ="[object Set]",nJ="[object String]",iJ={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},aJ="[object URL]",oJ=Object.prototype.toString;function sJ({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:m,areTypedArraysEqual:y,areUrlsEqual:_,unknownTagComparators:S}){return function(b,k,j){if(b===k)return!0;if(b==null||k==null)return!1;const R=typeof b;if(R!==typeof k)return!1;if(R!=="object")return R==="number"?l(b,k,j):R==="function"?a(b,k,j):!1;const M=b.constructor;if(M!==k.constructor)return!1;if(M===Object)return c(b,k,j);if(Array.isArray(b))return e(b,k,j);if(M===Date)return n(b,k,j);if(M===RegExp)return h(b,k,j);if(M===Map)return s(b,k,j);if(M===Set)return m(b,k,j);const P=oJ.call(b);if(P===XQ)return n(b,k,j);if(P===tJ)return h(b,k,j);if(P===JQ)return s(b,k,j);if(P===rJ)return m(b,k,j);if(P===eJ)return typeof b.then!="function"&&typeof k.then!="function"&&c(b,k,j);if(P===aJ)return _(b,k,j);if(P===QQ)return i(b,k,j);if(P===GQ)return c(b,k,j);if(iJ[P])return y(b,k,j);if(P===HQ)return t(b,k,j);if(P===YQ)return r(b,k,j);if(P===KQ||P===ZQ||P===nJ)return f(b,k,j);if(S){let C=S[P];if(!C){const A=CQ(b);A&&(C=S[A])}if(C)return C(b,k,j)}return!1}}function uJ({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:DQ,areArraysEqual:r?vc:MQ,areDataViewsEqual:LQ,areDatesEqual:VQ,areErrorsEqual:$Q,areFunctionsEqual:FQ,areMapsEqual:r?b_(HN,vc):HN,areNumbersEqual:BQ,areObjectsEqual:r?vc:UQ,arePrimitiveWrappersEqual:qQ,areRegExpsEqual:zQ,areSetsEqual:r?b_(GN,vc):GN,areTypedArraysEqual:r?b_(Fp,vc):Fp,areUrlsEqual:WQ,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=Ih(n.areArraysEqual),a=Ih(n.areMapsEqual),s=Ih(n.areObjectsEqual),l=Ih(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return n}function lJ(t){return function(e,r,n,i,a,s,l){return t(e,r,l)}}function cJ({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(l,c){const{cache:f=t?new WeakMap:void 0,meta:h}=r();return e(l,c,{cache:f,equals:n,meta:h,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(l,c){return e(l,c,a)}}const fJ=po();po({strict:!0});po({circular:!0});po({circular:!0,strict:!0});po({createInternalComparator:()=>Es});po({strict:!0,createInternalComparator:()=>Es});po({circular:!0,createInternalComparator:()=>Es});po({circular:!0,createInternalComparator:()=>Es,strict:!0});function po(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,a=uJ(t),s=sJ(a),l=r?r(s):lJ(s);return cJ({circular:e,comparator:s,createState:n,equals:l,strict:i})}function dJ(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function KN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):dJ(i)};requestAnimationFrame(n)}function aw(t){"@babel/helpers - typeof";return aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aw(t)}function hJ(t){return yJ(t)||gJ(t)||mJ(t)||pJ()}function pJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mJ(t,e){if(t){if(typeof t=="string")return YN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YN(t,e)}}function YN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yJ(t){if(Array.isArray(t))return t}function vJ(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,l=hJ(s),c=l[0],f=l.slice(1);if(typeof c=="number"){KN(i.bind(null,f),c);return}i(c),KN(i.bind(null,f));return}aw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function XN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(r),!0).forEach(function(n){HL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HL(t,e,r){return e=xJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xJ(t){var e=_J(t,"string");return xf(e)==="symbol"?e:String(e)}function _J(t,e){if(xf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bJ=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},wJ=function(e){return e},EJ=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Vc=function(e,r){return Object.keys(r).reduce(function(n,i){return QN(QN({},n),{},HL({},i,e(i,r[i])))},{})},JN=function(e,r,n){return e.map(function(i){return"".concat(EJ(i)," ").concat(r,"ms ").concat(n)}).join(",")};function TJ(t,e){return PJ(t)||AJ(t,e)||GL(t,e)||SJ()}function SJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function PJ(t){if(Array.isArray(t))return t}function IJ(t){return kJ(t)||CJ(t)||GL(t)||OJ()}function OJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GL(t,e){if(t){if(typeof t=="string")return ow(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ow(t,e)}}function CJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kJ(t){if(Array.isArray(t))return ow(t)}function ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Bp=1e-4,KL=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},YL=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},ZN=function(e,r){return function(n){var i=KL(e,r);return YL(i,n)}},NJ=function(e,r){return function(n){var i=KL(e,r),a=[].concat(IJ(i.map(function(s,l){return s*l}).slice(1)),[0]);return YL(a,n)}},e2=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),h=TJ(f,4);i=h[0],a=h[1],s=h[2],l=h[3]}}}var m=ZN(i,s),y=ZN(a,l),_=NJ(i,s),S=function(k){return k>1?1:k<0?0:k},T=function(k){for(var j=k>1?1:k,R=j,M=0;M<8;++M){var P=m(R)-j,C=_(R);if(Math.abs(P-j)<Bp||C<Bp)return y(R);R=S(R-P/C)}return y(R)};return T.isStepper=!1,T},RJ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(h,m,y){var _=-(h-m)*n,S=y*a,T=y+(_-S)*l/1e3,b=y*l/1e3+h;return Math.abs(b-m)<Bp&&Math.abs(T)<Bp?[m,0]:[b,T]};return c.isStepper=!0,c.dt=l,c},jJ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return e2(i);case"spring":return RJ();default:if(i.split("(")[0]==="cubic-bezier")return e2(i)}return typeof i=="function"?i:null};function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function t2(t){return LJ(t)||MJ(t)||XL(t)||DJ()}function DJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LJ(t){if(Array.isArray(t))return uw(t)}function r2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(r),!0).forEach(function(n){sw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sw(t,e,r){return e=VJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VJ(t){var e=$J(t,"string");return _f(e)==="symbol"?e:String(e)}function $J(t,e){if(_f(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_f(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FJ(t,e){return qJ(t)||UJ(t,e)||XL(t,e)||BJ()}function BJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XL(t,e){if(t){if(typeof t=="string")return uw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uw(t,e)}}function uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function qJ(t){if(Array.isArray(t))return t}var Up=function(e,r,n){return e+(r-e)*n},lw=function(e){var r=e.from,n=e.to;return r!==n},zJ=function t(e,r,n){var i=Vc(function(a,s){if(lw(s)){var l=e(s.from,s.to,s.velocity),c=FJ(l,2),f=c[0],h=c[1];return mr(mr({},s),{},{from:f,velocity:h})}return s},r);return n<1?Vc(function(a,s){return lw(s)?mr(mr({},s),{},{velocity:Up(s.velocity,i[a].velocity,n),from:Up(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const WJ=(function(t,e,r,n,i){var a=bJ(t,e),s=a.reduce(function(b,k){return mr(mr({},b),{},sw({},k,[t[k],e[k]]))},{}),l=a.reduce(function(b,k){return mr(mr({},b),{},sw({},k,{from:t[k],velocity:0,to:e[k]}))},{}),c=-1,f,h,m=function(){return null},y=function(){return Vc(function(k,j){return j.from},l)},_=function(){return!Object.values(l).filter(lw).length},S=function(k){f||(f=k);var j=k-f,R=j/r.dt;l=zJ(r,l,R),i(mr(mr(mr({},t),e),y())),f=k,_()||(c=requestAnimationFrame(m))},T=function(k){h||(h=k);var j=(k-h)/n,R=Vc(function(P,C){return Up.apply(void 0,t2(C).concat([r(j)]))},s);if(i(mr(mr(mr({},t),e),R)),j<1)c=requestAnimationFrame(m);else{var M=Vc(function(P,C){return Up.apply(void 0,t2(C).concat([r(1)]))},s);i(mr(mr(mr({},t),e),M))}};return m=r.isStepper?S:T,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}var HJ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function GJ(t,e){if(t==null)return{};var r=KJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KJ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function w_(t){return JJ(t)||QJ(t)||XJ(t)||YJ()}function YJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XJ(t,e){if(t){if(typeof t=="string")return cw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cw(t,e)}}function QJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JJ(t){if(Array.isArray(t))return cw(t)}function cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(r),!0).forEach(function(n){Ic(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ic(t,e,r){return e=QL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QL(n.key),n)}}function tZ(t,e,r){return e&&eZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QL(t){var e=rZ(t,"string");return Gu(e)==="symbol"?e:String(e)}function rZ(t,e){if(Gu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fw(t,e)}function fw(t,e){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fw(t,e)}function iZ(t){var e=aZ();return function(){var n=qp(t),i;if(e){var a=qp(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return dw(this,i)}}function dw(t,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hw(t)}function hw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qp(t)}var uo=(function(t){nZ(r,t);var e=iZ(r);function r(n,i){var a;ZJ(this,r),a=e.call(this,n,i);var s=a.props,l=s.isActive,c=s.attributeName,f=s.from,h=s.to,m=s.steps,y=s.children,_=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(hw(a)),a.changeStyle=a.changeStyle.bind(hw(a)),!l||_<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:h}),dw(a);if(m&&m.length)a.state={style:m[0].style};else if(f){if(typeof y=="function")return a.state={style:f},dw(a);a.state={style:c?Ic({},c,f):f}}else a.state={style:{}};return a}return tZ(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,f=a.shouldReAnimate,h=a.to,m=a.from,y=this.state.style;if(l){if(!s){var _={style:c?Ic({},c,h):h};this.state&&y&&(c&&y[c]!==h||!c&&y!==h)&&this.setState(_);return}if(!(fJ(i.to,h)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var T=S||f?m:i.to;if(this.state&&y){var b={style:c?Ic({},c,T):T};(c&&y[c]!==T||!c&&y!==T)&&this.setState(b)}this.runAnimation(Dn(Dn({},this.props),{},{from:T,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,f=i.easing,h=i.begin,m=i.onAnimationEnd,y=i.onAnimationStart,_=WJ(s,l,jJ(f),c,this.changeStyle),S=function(){a.stopJSAnimation=_()};this.manager.start([y,h,S,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,m=f.duration,y=m===void 0?0:m,_=function(T,b,k){if(k===0)return T;var j=b.duration,R=b.easing,M=R===void 0?"ease":R,P=b.style,C=b.properties,A=b.onAnimationEnd,O=k>0?s[k-1]:b,N=C||Object.keys(P);if(typeof M=="function"||M==="spring")return[].concat(w_(T),[a.runJSAnimation.bind(a,{from:O.style,to:P,duration:j,easing:M}),j]);var F=JN(N,j,M),V=Dn(Dn(Dn({},O.style),P),{},{transition:F});return[].concat(w_(T),[V,j,A]).filter(wJ)};return this.manager.start([c].concat(w_(s.reduce(_,[h,Math.max(y,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=vJ());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,y=i.steps,_=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof f=="function"||typeof _=="function"||f==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var T=l?Ic({},l,c):c,b=JN(Object.keys(T),s,f);S.start([h,a,Dn(Dn({},T),{},{transition:b}),s,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=GJ(i,HJ),f=H.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!l||f===0||s<=0)return a;var m=function(_){var S=_.props,T=S.style,b=T===void 0?{}:T,k=S.className,j=H.cloneElement(_,Dn(Dn({},c),{},{style:Dn(Dn({},b),h),className:k}));return j};return f===1?m(H.Children.only(a)):K.createElement("div",null,H.Children.map(a,function(y){return m(y)}))}}]),r})(H.PureComponent);uo.displayName="Animate";uo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};uo.propTypes={from:ut.oneOfType([ut.object,ut.string]),to:ut.oneOfType([ut.object,ut.string]),attributeName:ut.string,duration:ut.number,begin:ut.number,easing:ut.oneOfType([ut.string,ut.func]),steps:ut.arrayOf(ut.shape({duration:ut.number.isRequired,style:ut.object.isRequired,easing:ut.oneOfType([ut.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ut.func]),properties:ut.arrayOf("string"),onAnimationEnd:ut.func})),children:ut.oneOfType([ut.node,ut.func]),isActive:ut.bool,canBegin:ut.bool,onAnimationEnd:ut.func,shouldReAnimate:ut.bool,onAnimationStart:ut.func,onAnimationReStart:ut.func};function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function zp(){return zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zp.apply(this,arguments)}function oZ(t,e){return cZ(t)||lZ(t,e)||uZ(t,e)||sZ()}function sZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uZ(t,e){if(t){if(typeof t=="string")return i2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i2(t,e)}}function i2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function cZ(t){if(Array.isArray(t))return t}function a2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function o2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(r),!0).forEach(function(n){fZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fZ(t,e,r){return e=dZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dZ(t){var e=hZ(t,"string");return bf(e)=="symbol"?e:e+""}function hZ(t,e){if(bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s2=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],y=0,_=4;y<_;y++)m[y]=a[y]>s?s:a[y];h="M".concat(e,",").concat(r+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+c*m[0],",").concat(r)),h+="L ".concat(e+n-c*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+l*m[1])),h+="L ".concat(e+n,",").concat(r+i-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+n-c*m[2],",").concat(r+i)),h+="L ".concat(e+c*m[3],",").concat(r+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-l*m[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var S=Math.min(s,a);h="M ".concat(e,",").concat(r+l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+c*S,",").concat(r,`
            L `).concat(e+n-c*S,",").concat(r,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+n,",").concat(r+l*S,`
            L `).concat(e+n,",").concat(r+i-l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+n-c*S,",").concat(r+i,`
            L `).concat(e+c*S,",").concat(r+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e,",").concat(r+i-l*S," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return h},pZ=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var f=Math.min(a,a+l),h=Math.max(a,a+l),m=Math.min(s,s+c),y=Math.max(s,s+c);return n>=f&&n<=h&&i>=m&&i<=y}return!1},mZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SE=function(e){var r=o2(o2({},mZ),e),n=H.useRef(),i=H.useState(-1),a=oZ(i,2),s=a[0],l=a[1];H.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var M=n.current.getTotalLength();M&&l(M)}catch{}},[]);var c=r.x,f=r.y,h=r.width,m=r.height,y=r.radius,_=r.className,S=r.animationEasing,T=r.animationDuration,b=r.animationBegin,k=r.isAnimationActive,j=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||h===0||m===0)return null;var R=at("recharts-rectangle",_);return j?K.createElement(uo,{canBegin:s>0,from:{width:h,height:m,x:c,y:f},to:{width:h,height:m,x:c,y:f},duration:T,animationEasing:S,isActive:j},function(M){var P=M.width,C=M.height,A=M.x,O=M.y;return K.createElement(uo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:T,isActive:k,easing:S},K.createElement("path",zp({},it(r,!0),{className:R,d:s2(A,O,P,C,y),ref:n})))}):K.createElement("path",zp({},it(r,!0),{className:R,d:s2(c,f,h,m,y)}))};function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pw.apply(this,arguments)}var JL=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=at("recharts-dot",a);return r===+r&&n===+n&&i===+i?H.createElement("circle",pw({},it(e,!1),cp(e),{className:s,cx:r,cy:n,r:i})):null};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}var gZ=["x","y","top","left","width","height","className"];function mw(){return mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mw.apply(this,arguments)}function u2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yZ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u2(Object(r),!0).forEach(function(n){vZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vZ(t,e,r){return e=xZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xZ(t){var e=_Z(t,"string");return wf(e)=="symbol"?e:e+""}function _Z(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bZ(t,e){if(t==null)return{};var r=wZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var EZ=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},TZ=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,m=h===void 0?0:h,y=e.height,_=y===void 0?0:y,S=e.className,T=bZ(e,gZ),b=yZ({x:n,y:a,top:l,left:f,width:m,height:_},T);return!xe(n)||!xe(a)||!xe(m)||!xe(_)||!xe(l)||!xe(f)?null:K.createElement("path",mw({},it(b,!0),{className:at("recharts-cross",S),d:EZ(n,a,m,_,l,f)}))},E_,l2;function SZ(){if(l2)return E_;l2=1;var t=xM(),e=t(Object.getPrototypeOf,Object);return E_=e,E_}var T_,c2;function AZ(){if(c2)return T_;c2=1;var t=ca(),e=SZ(),r=fa(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,l=a.hasOwnProperty,c=s.call(Object);function f(h){if(!r(h)||t(h)!=n)return!1;var m=e(h);if(m===null)return!0;var y=l.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==c}return T_=f,T_}var PZ=AZ();const IZ=dt(PZ);var S_,f2;function OZ(){if(f2)return S_;f2=1;var t=ca(),e=fa(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return S_=n,S_}var CZ=OZ();const kZ=dt(CZ);function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wp.apply(this,arguments)}function NZ(t,e){return MZ(t)||DZ(t,e)||jZ(t,e)||RZ()}function RZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jZ(t,e){if(t){if(typeof t=="string")return d2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d2(t,e)}}function d2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function MZ(t){if(Array.isArray(t))return t}function h2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function p2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(r),!0).forEach(function(n){LZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LZ(t,e,r){return e=VZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VZ(t){var e=$Z(t,"string");return Ef(e)=="symbol"?e:e+""}function $Z(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var m2=function(e,r,n,i,a){var s=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-s/2,",").concat(r+a),l+="L ".concat(e+n-s/2-i,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},FZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BZ=function(e){var r=p2(p2({},FZ),e),n=H.useRef(),i=H.useState(-1),a=NZ(i,2),s=a[0],l=a[1];H.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var R=n.current.getTotalLength();R&&l(R)}catch{}},[]);var c=r.x,f=r.y,h=r.upperWidth,m=r.lowerWidth,y=r.height,_=r.className,S=r.animationEasing,T=r.animationDuration,b=r.animationBegin,k=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||y!==+y||h===0&&m===0||y===0)return null;var j=at("recharts-trapezoid",_);return k?K.createElement(uo,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:f},to:{upperWidth:h,lowerWidth:m,height:y,x:c,y:f},duration:T,animationEasing:S,isActive:k},function(R){var M=R.upperWidth,P=R.lowerWidth,C=R.height,A=R.x,O=R.y;return K.createElement(uo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:T,easing:S},K.createElement("path",Wp({},it(r,!0),{className:j,d:m2(A,O,M,P,C),ref:n})))}):K.createElement("g",null,K.createElement("path",Wp({},it(r,!0),{className:j,d:m2(c,f,h,m,y)})))},UZ=["option","shapeType","propTransformer","activeClassName","isActive"];function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function qZ(t,e){if(t==null)return{};var r=zZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function g2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(r),!0).forEach(function(n){WZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WZ(t,e,r){return e=HZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HZ(t){var e=GZ(t,"string");return Tf(e)=="symbol"?e:e+""}function GZ(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KZ(t,e){return Hp(Hp({},e),t)}function YZ(t,e){return t==="symbols"}function y2(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return K.createElement(SE,r);case"trapezoid":return K.createElement(BZ,r);case"sector":return K.createElement(zL,r);case"symbols":if(YZ(e))return K.createElement(U1,r);break;default:return null}}function XZ(t){return H.isValidElement(t)?t.props:t}function QZ(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?KZ:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,l=t.isActive,c=qZ(t,UZ),f;if(H.isValidElement(e))f=H.cloneElement(e,Hp(Hp({},c),XZ(e)));else if(Ge(e))f=e(c);else if(IZ(e)&&!kZ(e)){var h=i(e,c);f=K.createElement(y2,{shapeType:r,elementProps:h})}else{var m=c;f=K.createElement(y2,{shapeType:r,elementProps:m})}return l?K.createElement(lr,{className:s},f):f}function Km(t,e){return e!=null&&"trapezoids"in t.props}function Ym(t,e){return e!=null&&"sectors"in t.props}function Sf(t,e){return e!=null&&"points"in t.props}function JZ(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function ZZ(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function eee(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function tee(t,e){var r;return Km(t,e)?r=JZ:Ym(t,e)?r=ZZ:Sf(t,e)&&(r=eee),r}function ree(t,e){var r;return Km(t,e)?r="trapezoids":Ym(t,e)?r="sectors":Sf(t,e)&&(r="points"),r}function nee(t,e){if(Km(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ym(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Sf(t,e)?e.payload:{}}function iee(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=ree(r,e),a=nee(r,e),s=n.filter(function(c,f){var h=bE(a,c),m=r.props[i].filter(function(S){var T=tee(r,e);return T(S,e)}),y=r.props[i].indexOf(m[m.length-1]),_=f===y;return h&&_}),l=n.indexOf(s[s.length-1]);return l}var A_,v2;function aee(){if(v2)return A_;v2=1;var t=Math.ceil,e=Math.max;function r(n,i,a,s){for(var l=-1,c=e(t((i-n)/(a||1)),0),f=Array(c);c--;)f[s?c:++l]=n,n+=a;return f}return A_=r,A_}var P_,x2;function ZL(){if(x2)return P_;x2=1;var t=DM(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return P_=n,P_}var I_,_2;function oee(){if(_2)return I_;_2=1;var t=aee(),e=Mm(),r=ZL();function n(i){return function(a,s,l){return l&&typeof l!="number"&&e(a,s,l)&&(s=l=void 0),a=r(a),s===void 0?(s=a,a=0):s=r(s),l=l===void 0?a<s?1:-1:r(l),t(a,s,l,i)}}return I_=n,I_}var O_,b2;function see(){if(b2)return O_;b2=1;var t=oee(),e=t();return O_=e,O_}var uee=see();const Gp=dt(uee);function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function w2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function E2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(r),!0).forEach(function(n){e4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e4(t,e,r){return e=lee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lee(t){var e=cee(t,"string");return Af(e)=="symbol"?e:e+""}function cee(t,e){if(Af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fee=["Webkit","Moz","O","ms"],dee=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=fee.reduce(function(a,s){return E2(E2({},a),{},e4({},s+n,r))},{});return i[e]=r,i};function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function Kp(){return Kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kp.apply(this,arguments)}function T2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function C_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(r),!0).forEach(function(n){nn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r4(n.key),n)}}function pee(t,e,r){return e&&S2(t.prototype,e),r&&S2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mee(t,e,r){return e=Yp(e),gee(t,t4()?Reflect.construct(e,r||[],Yp(t).constructor):e.apply(t,r))}function gee(t,e){if(e&&(Ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yee(t)}function yee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t4=function(){return!!t})()}function Yp(t){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yp(t)}function vee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gw(t,e)}function gw(t,e){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gw(t,e)}function nn(t,e,r){return e=r4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r4(t){var e=xee(t,"string");return Ku(e)=="symbol"?e:e+""}function xee(t,e){if(Ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _ee=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,f=Mc().domain(Gp(0,c)).range([a,a+s-l]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:h}},A2=function(e){return e.changedTouches&&!!e.changedTouches.length},Yu=(function(t){function e(r){var n;return hee(this,e),n=mee(this,e,[r]),nn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),nn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),nn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),nn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),nn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),nn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),nn(n,"handleSlideDragStart",function(i){var a=A2(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return vee(e,t),pee(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,f=l.data,h=f.length-1,m=Math.min(i,a),y=Math.max(i,a),_=e.getIndexInRange(s,m),S=e.getIndexInRange(s,y);return{startIndex:_-_%c,endIndex:S===h?h:S-S%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=Ti(a[n],l,n);return Ge(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,f=c.x,h=c.width,m=c.travellerWidth,y=c.startIndex,_=c.endIndex,S=c.onChange,T=n.pageX-a;T>0?T=Math.min(T,f+h-m-l,f+h-m-s):T<0&&(T=Math.max(T,f-s,f-l));var b=this.getIndex({startX:s+T,endX:l+T});(b.startIndex!==y||b.endIndex!==_)&&S&&S(b),this.setState({startX:s+T,endX:l+T,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=A2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,f=this.state[s],h=this.props,m=h.x,y=h.width,_=h.travellerWidth,S=h.onChange,T=h.gap,b=h.data,k={startX:this.state.startX,endX:this.state.endX},j=n.pageX-a;j>0?j=Math.min(j,m+y-_-f):j<0&&(j=Math.max(j,m-f)),k[s]=f+j;var R=this.getIndex(k),M=R.startIndex,P=R.endIndex,C=function(){var O=b.length-1;return s==="startX"&&(l>c?M%T===0:P%T===0)||l<c&&P===O||s==="endX"&&(l>c?P%T===0:M%T===0)||l>c&&P===O};this.setState(nn(nn({},s,f+j),"brushMoveStartX",n.pageX),function(){S&&C()&&S(R)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],m=l.indexOf(h);if(m!==-1){var y=m+n;if(!(y===-1||y>=l.length)){var _=l[y];i==="startX"&&_>=f||i==="endX"&&_<=c||this.setState(nn({},i,_),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.fill,f=n.stroke;return K.createElement("rect",{stroke:f,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.data,f=n.children,h=n.padding,m=H.Children.only(f);return m?K.cloneElement(m,{x:i,y:a,width:s,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,l=this,c=this.props,f=c.y,h=c.travellerWidth,m=c.height,y=c.traveller,_=c.ariaLabel,S=c.data,T=c.startIndex,b=c.endIndex,k=Math.max(n,this.props.x),j=C_(C_({},it(this.props,!1)),{},{x:k,y:f,width:h,height:m}),R=_||"Min value: ".concat((a=S[T])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=S[b])===null||s===void 0?void 0:s.name);return K.createElement(lr,{tabIndex:0,role:"slider","aria-label":R,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),l.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,j))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,f=a.travellerWidth,h=Math.min(n,i)+f,m=Math.max(Math.abs(i-n)-f,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,f=n.stroke,h=this.state,m=h.startX,y=h.endX,_=5,S={pointerEvents:"none",fill:f};return K.createElement(lr,{className:"recharts-brush-texts"},K.createElement(wp,Kp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-_,y:s+l/2},S),this.getTextOfTick(i)),K.createElement(wp,Kp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+c+_,y:s+l/2},S),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,l=n.x,c=n.y,f=n.width,h=n.height,m=n.alwaysShowText,y=this.state,_=y.startX,S=y.endX,T=y.isTextActive,b=y.isSlideMoving,k=y.isTravellerMoving,j=y.isTravellerFocused;if(!i||!i.length||!xe(l)||!xe(c)||!xe(f)||!xe(h)||f<=0||h<=0)return null;var R=at("recharts-brush",a),M=K.Children.count(s)===1,P=dee("userSelect","none");return K.createElement(lr,{className:R,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(_,S),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(S,"endX"),(T||b||k||j||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,l=n.height,c=n.stroke,f=Math.floor(a+l/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),K.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return K.isValidElement(n)?a=K.cloneElement(n,i):Ge(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,l=n.x,c=n.travellerWidth,f=n.updateId,h=n.startIndex,m=n.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return C_({prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s},a&&a.length?_ee({data:a,width:s,x:l,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var y=i.scale.domain().map(function(_){return i.scale(_)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>i?l=c:s=c}return i>=n[l]?l:s}}])})(H.PureComponent);nn(Yu,"displayName","Brush");nn(Yu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var k_,P2;function bee(){if(P2)return k_;P2=1;var t=Y1();function e(r,n){var i;return t(r,function(a,s,l){return i=n(a,s,l),!i}),!!i}return k_=e,k_}var N_,I2;function wee(){if(I2)return N_;I2=1;var t=dM(),e=co(),r=bee(),n=Hr(),i=Mm();function a(s,l,c){var f=n(s)?t:r;return c&&i(s,l,c)&&(l=void 0),f(s,e(l,3))}return N_=a,N_}var Eee=wee();const Tee=dt(Eee);var xi=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},R_,O2;function See(){if(O2)return R_;O2=1;var t=CM();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return R_=e,R_}var j_,C2;function Aee(){if(C2)return j_;C2=1;var t=See(),e=IM(),r=co();function n(i,a){var s={};return a=r(a,3),e(i,function(l,c,f){t(s,c,a(l,c,f))}),s}return j_=n,j_}var Pee=Aee();const Iee=dt(Pee);var D_,k2;function Oee(){if(k2)return D_;k2=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return D_=t,D_}var M_,N2;function Cee(){if(N2)return M_;N2=1;var t=Y1();function e(r,n){var i=!0;return t(r,function(a,s,l){return i=!!n(a,s,l),i}),i}return M_=e,M_}var L_,R2;function kee(){if(R2)return L_;R2=1;var t=Oee(),e=Cee(),r=co(),n=Hr(),i=Mm();function a(s,l,c){var f=n(s)?t:e;return c&&i(s,l,c)&&(l=void 0),f(s,r(l,3))}return L_=a,L_}var Nee=kee();const n4=dt(Nee);var Ree=["x","y"];function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yw.apply(this,arguments)}function j2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(r),!0).forEach(function(n){jee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jee(t,e,r){return e=Dee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dee(t){var e=Mee(t,"string");return Pf(e)=="symbol"?e:e+""}function Mee(t,e){if(Pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lee(t,e){if(t==null)return{};var r=Vee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $ee(t,e){var r=t.x,n=t.y,i=Lee(t,Ree),a="".concat(r),s=parseInt(a,10),l="".concat(n),c=parseInt(l,10),f="".concat(e.height||i.height),h=parseInt(f,10),m="".concat(e.width||i.width),y=parseInt(m,10);return xc(xc(xc(xc(xc({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function D2(t){return K.createElement(QZ,yw({shapeType:"rectangle",propTransformer:$ee,activeClassName:"recharts-active-bar"},t))}var Fee=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=xe(n)||Hq(n);return a?e(n,i):(a||ps(),r)}},Bee=["value","background"],i4;function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function Uee(t,e){if(t==null)return{};var r=qee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Xp(){return Xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xp.apply(this,arguments)}function M2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(r),!0).forEach(function(n){Ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o4(n.key),n)}}function Wee(t,e,r){return e&&L2(t.prototype,e),r&&L2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hee(t,e,r){return e=Qp(e),Gee(t,a4()?Reflect.construct(e,r||[],Qp(t).constructor):e.apply(t,r))}function Gee(t,e){if(e&&(Xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kee(t)}function Kee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a4=function(){return!!t})()}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qp(t)}function Yee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vw(t,e)}function vw(t,e){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vw(t,e)}function Ya(t,e,r){return e=o4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o4(t){var e=Xee(t,"string");return Xu(e)=="symbol"?e:e+""}function Xee(t,e){if(Xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ta=(function(t){function e(){var r;zee(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Hee(this,e,[].concat(i)),Ya(r,"state",{isAnimationFinished:!1}),Ya(r,"id",Om("recharts-bar-")),Ya(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Ya(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Yee(e,t),Wee(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,f=a.activeBar,h=it(this.props,!1);return n&&n.map(function(m,y){var _=y===c,S=_?f:s,T=zt(zt(zt({},h),m),{},{isActive:_,option:S,index:y,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(lr,Xp({className:"recharts-bar-rectangle"},fp(i.props,m,y),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(y)}),K.createElement(D2,T))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,y=this.state.prevData;return K.createElement(uo,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t,T=a.map(function(b,k){var j=y&&y[k];if(j){var R=lu(j.x,b.x),M=lu(j.y,b.y),P=lu(j.width,b.width),C=lu(j.height,b.height);return zt(zt({},b),{},{x:R(S),y:M(S),width:P(S),height:C(S)})}if(s==="horizontal"){var A=lu(0,b.height),O=A(S);return zt(zt({},b),{},{y:b.y+b.height-O,height:O})}var N=lu(0,b.width),F=N(S);return zt(zt({},b),{},{width:F})});return K.createElement(lr,null,n.renderRectanglesStatically(T))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!bE(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=it(this.props.background,!1);return a.map(function(f,h){f.value;var m=f.background,y=Uee(f,Bee);if(!m)return null;var _=zt(zt(zt(zt(zt({},y),{},{fill:"#eee"},m),c),fp(n.props,f,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return K.createElement(D2,Xp({key:"background-bar-".concat(h),option:n.props.background,isActive:h===l},_))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,f=a.layout,h=a.children,m=zn(h,Gm);if(!m)return null;var y=f==="vertical"?s[0].height/2:s[0].width/2,_=function(b,k){var j=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:j,errorVal:Ti(b,k)}},S={clipPath:n?"url(#clipPath-".concat(i,")"):null};return K.createElement(lr,S,m.map(function(T){return K.cloneElement(T,{key:"error-bar-".concat(i,"-").concat(T.props.dataKey),data:s,xAxis:l,yAxis:c,layout:f,offset:y,dataPointFormatter:_})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,l=n.xAxis,c=n.yAxis,f=n.left,h=n.top,m=n.width,y=n.height,_=n.isAnimationActive,S=n.background,T=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,k=at("recharts-bar",s),j=l&&l.allowDataOverflow,R=c&&c.allowDataOverflow,M=j||R,P=ot(T)?this.id:T;return K.createElement(lr,{className:k},j||R?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(P)},K.createElement("rect",{x:j?f:f-m/2,y:R?h:h-y/2,width:j?m:m*2,height:R?y:y*2}))):null,K.createElement(lr,{className:"recharts-bar-rectangles",clipPath:M?"url(#clipPath-".concat(P,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(M,P),(!_||b)&&is.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(H.PureComponent);i4=ta;Ya(ta,"displayName","Bar");Ya(ta,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Wf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ya(ta,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,m=t.displayedData,y=t.offset,_=fX(n,r);if(!_)return null;var S=e.layout,T=r.type.defaultProps,b=T!==void 0?zt(zt({},T),r.props):r.props,k=b.dataKey,j=b.children,R=b.minPointSize,M=S==="horizontal"?s:a,P=f?M.scale.domain():null,C=xX({numericAxis:M}),A=zn(j,J1),O=m.map(function(N,F){var V,$,L,Z,ee,oe;f?V=dX(f[h+F],P):(V=Ti(N,k),Array.isArray(V)||(V=[C,V]));var se=Fee(R,i4.defaultProps.minPointSize)(V[1],F);if(S==="horizontal"){var Q,ie=[s.scale(V[0]),s.scale(V[1])],ne=ie[0],q=ie[1];$=wN({axis:a,ticks:l,bandSize:i,offset:_.offset,entry:N,index:F}),L=(Q=q??ne)!==null&&Q!==void 0?Q:void 0,Z=_.size;var G=ne-q;if(ee=Number.isNaN(G)?0:G,oe={x:$,y:s.y,width:Z,height:s.height},Math.abs(se)>0&&Math.abs(ee)<Math.abs(se)){var me=Bn(ee||se)*(Math.abs(se)-Math.abs(ee));L-=me,ee+=me}}else{var be=[a.scale(V[0]),a.scale(V[1])],Oe=be[0],je=be[1];if($=Oe,L=wN({axis:s,ticks:c,bandSize:i,offset:_.offset,entry:N,index:F}),Z=je-Oe,ee=_.size,oe={x:a.x,y:L,width:a.width,height:ee},Math.abs(se)>0&&Math.abs(Z)<Math.abs(se)){var We=Bn(Z||se)*(Math.abs(se)-Math.abs(Z));Z+=We}}return zt(zt(zt({},N),{},{x:$,y:L,width:Z,height:ee,value:f?V:V[1],payload:N,background:oe},A&&A[F]&&A[F].props),{},{tooltipPayload:[BL(r,N)],tooltipPosition:{x:$+Z/2,y:L+ee/2}})});return zt({data:O,layout:S},y)});function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function Qee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s4(n.key),n)}}function Jee(t,e,r){return e&&V2(t.prototype,e),r&&V2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(r),!0).forEach(function(n){Xm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xm(t,e,r){return e=s4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s4(t){var e=Zee(t,"string");return If(e)=="symbol"?e:e+""}function Zee(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ete=function(e,r,n,i,a){var s=e.width,l=e.height,c=e.layout,f=e.children,h=Object.keys(r),m={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},y=!!an(f,ta);return h.reduce(function(_,S){var T=r[S],b=T.orientation,k=T.domain,j=T.padding,R=j===void 0?{}:j,M=T.mirror,P=T.reversed,C="".concat(b).concat(M?"Mirror":""),A,O,N,F,V;if(T.type==="number"&&(T.padding==="gap"||T.padding==="no-gap")){var $=k[1]-k[0],L=1/0,Z=T.categoricalDomain.sort(Yq);if(Z.forEach(function(be,Oe){Oe>0&&(L=Math.min((be||0)-(Z[Oe-1]||0),L))}),Number.isFinite(L)){var ee=L/$,oe=T.layout==="vertical"?n.height:n.width;if(T.padding==="gap"&&(A=ee*oe/2),T.padding==="no-gap"){var se=ds(e.barCategoryGap,ee*oe),Q=ee*oe/2;A=Q-se-(Q-se)/oe*se}}}i==="xAxis"?O=[n.left+(R.left||0)+(A||0),n.left+n.width-(R.right||0)-(A||0)]:i==="yAxis"?O=c==="horizontal"?[n.top+n.height-(R.bottom||0),n.top+(R.top||0)]:[n.top+(R.top||0)+(A||0),n.top+n.height-(R.bottom||0)-(A||0)]:O=T.range,P&&(O=[O[1],O[0]]);var ie=lX(T,a,y),ne=ie.scale,q=ie.realScaleType;ne.domain(k).range(O),cX(ne);var G=vX(ne,Mn(Mn({},T),{},{realScaleType:q}));i==="xAxis"?(V=b==="top"&&!M||b==="bottom"&&M,N=n.left,F=m[C]-V*T.height):i==="yAxis"&&(V=b==="left"&&!M||b==="right"&&M,N=m[C]-V*T.width,F=n.top);var me=Mn(Mn(Mn({},T),G),{},{realScaleType:q,x:N,y:F,scale:ne,width:i==="xAxis"?n.width:T.width,height:i==="yAxis"?n.height:T.height});return me.bandSize=Lp(me,G),!T.hide&&i==="xAxis"?m[C]+=(V?-1:1)*me.height:T.hide||(m[C]+=(V?-1:1)*me.width),Mn(Mn({},_),{},Xm({},S,me))},{})},u4=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},tte=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return u4({x:r,y:n},{x:i,y:a})},l4=(function(){function t(e){Qee(this,t),this.scale=e}return Jee(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();Xm(l4,"EPS",1e-4);var AE=function(e){var r=Object.keys(e).reduce(function(n,i){return Mn(Mn({},n),{},Xm({},i,l4.create(e[i])))},{});return Mn(Mn({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return Iee(i,function(c,f){return r[f].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return n4(i,function(a,s){return r[s].isInRange(a)})}})};function rte(t){return(t%180+180)%180}var nte=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=rte(i),s=a*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},V_,F2;function ite(){if(F2)return V_;F2=1;var t=co(),e=zf(),r=jm();function n(i){return function(a,s,l){var c=Object(a);if(!e(a)){var f=t(s,3);a=r(a),s=function(m){return f(c[m],m,c)}}var h=i(a,s,l);return h>-1?c[f?a[h]:h]:void 0}}return V_=n,V_}var $_,B2;function ate(){if(B2)return $_;B2=1;var t=ZL();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return $_=e,$_}var F_,U2;function ote(){if(U2)return F_;U2=1;var t=EM(),e=co(),r=ate(),n=Math.max;function i(a,s,l){var c=a==null?0:a.length;if(!c)return-1;var f=l==null?0:r(l);return f<0&&(f=n(c+f,0)),t(a,e(s,3),f)}return F_=i,F_}var B_,q2;function ste(){if(q2)return B_;q2=1;var t=ite(),e=ote(),r=t(e);return B_=r,B_}var ute=ste();const lte=dt(ute);var cte=$D();const fte=dt(cte);var dte=fte(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),PE=H.createContext(void 0),IE=H.createContext(void 0),c4=H.createContext(void 0),f4=H.createContext({}),d4=H.createContext(void 0),h4=H.createContext(0),p4=H.createContext(0),z2=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,l=e.children,c=e.width,f=e.height,h=dte(a);return K.createElement(PE.Provider,{value:n},K.createElement(IE.Provider,{value:i},K.createElement(f4.Provider,{value:a},K.createElement(c4.Provider,{value:h},K.createElement(d4.Provider,{value:s},K.createElement(h4.Provider,{value:f},K.createElement(p4.Provider,{value:c},l)))))))},hte=function(){return H.useContext(d4)},m4=function(e){var r=H.useContext(PE);r==null&&ps();var n=r[e];return n==null&&ps(),n},pte=function(){var e=H.useContext(PE);return Ga(e)},mte=function(){var e=H.useContext(IE),r=lte(e,function(n){return n4(n.domain,Number.isFinite)});return r||Ga(e)},g4=function(e){var r=H.useContext(IE);r==null&&ps();var n=r[e];return n==null&&ps(),n},gte=function(){var e=H.useContext(c4);return e},yte=function(){return H.useContext(f4)},OE=function(){return H.useContext(p4)},CE=function(){return H.useContext(h4)};function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function vte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v4(n.key),n)}}function _te(t,e,r){return e&&xte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bte(t,e,r){return e=Jp(e),wte(t,y4()?Reflect.construct(e,r||[],Jp(t).constructor):e.apply(t,r))}function wte(t,e){if(e&&(Qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ete(t)}function Ete(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y4=function(){return!!t})()}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jp(t)}function Tte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xw(t,e)}function xw(t,e){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xw(t,e)}function W2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function H2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(r),!0).forEach(function(n){kE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kE(t,e,r){return e=v4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v4(t){var e=Ste(t,"string");return Qu(e)=="symbol"?e:e+""}function Ste(t,e){if(Qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ate(t,e){return Cte(t)||Ote(t,e)||Ite(t,e)||Pte()}function Pte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ite(t,e){if(t){if(typeof t=="string")return G2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G2(t,e)}}function G2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ote(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Cte(t){if(Array.isArray(t))return t}function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_w.apply(this,arguments)}var kte=function(e,r){var n;return K.isValidElement(e)?n=K.cloneElement(e,r):Ge(e)?n=e(r):n=K.createElement("line",_w({},r,{className:"recharts-reference-line-line"})),n},Nte=function(e,r,n,i,a,s,l,c,f){var h=a.x,m=a.y,y=a.width,_=a.height;if(n){var S=f.y,T=e.y.apply(S,{position:s});if(xi(f,"discard")&&!e.y.isInRange(T))return null;var b=[{x:h+y,y:T},{x:h,y:T}];return c==="left"?b.reverse():b}if(r){var k=f.x,j=e.x.apply(k,{position:s});if(xi(f,"discard")&&!e.x.isInRange(j))return null;var R=[{x:j,y:m+_},{x:j,y:m}];return l==="top"?R.reverse():R}if(i){var M=f.segment,P=M.map(function(C){return e.apply(C,{position:s})});return xi(f,"discard")&&Tee(P,function(C){return!e.isInRange(C)})?null:P}return null};function Rte(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,f=hte(),h=m4(i),m=g4(a),y=gte();if(!f||!y)return null;Zi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=AE({x:h.scale,y:m.scale}),S=er(e),T=er(r),b=n&&n.length===2,k=Nte(_,S,T,b,y,t.position,h.orientation,m.orientation,t);if(!k)return null;var j=Ate(k,2),R=j[0],M=R.x,P=R.y,C=j[1],A=C.x,O=C.y,N=xi(t,"hidden")?"url(#".concat(f,")"):void 0,F=H2(H2({clipPath:N},it(t,!0)),{},{x1:M,y1:P,x2:A,y2:O});return K.createElement(lr,{className:at("recharts-reference-line",l)},kte(s,F),Cr.renderCallByParent(t,tte({x1:M,y1:P,x2:A,y2:O})))}var NE=(function(t){function e(){return vte(this,e),bte(this,e,arguments)}return Tte(e,t),_te(e,[{key:"render",value:function(){return K.createElement(Rte,this.props)}}])})(K.Component);kE(NE,"displayName","ReferenceLine");kE(NE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bw.apply(this,arguments)}function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function K2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(r),!0).forEach(function(n){Qm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_4(n.key),n)}}function Mte(t,e,r){return e&&Dte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lte(t,e,r){return e=Zp(e),Vte(t,x4()?Reflect.construct(e,r||[],Zp(t).constructor):e.apply(t,r))}function Vte(t,e){if(e&&(Ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $te(t)}function $te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x4=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zp(t)}function Fte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ww(t,e)}function ww(t,e){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ww(t,e)}function Qm(t,e,r){return e=_4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _4(t){var e=Bte(t,"string");return Ju(e)=="symbol"?e:e+""}function Bte(t,e){if(Ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ute=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=AE({x:i.scale,y:a.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return xi(e,"discard")&&!s.isInRange(l)?null:l},Jm=(function(t){function e(){return jte(this,e),Lte(this,e,arguments)}return Fte(e,t),Mte(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,f=er(i),h=er(a);if(Zi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var m=Ute(this.props);if(!m)return null;var y=m.x,_=m.y,S=this.props,T=S.shape,b=S.className,k=xi(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=Y2(Y2({clipPath:k},it(this.props,!0)),{},{cx:y,cy:_});return K.createElement(lr,{className:at("recharts-reference-dot",b)},e.renderDot(T,j),Cr.renderCallByParent(this.props,{x:y-s,y:_-s,width:2*s,height:2*s}))}}])})(K.Component);Qm(Jm,"displayName","ReferenceDot");Qm(Jm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Qm(Jm,"renderDot",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):Ge(t)?r=t(e):r=K.createElement(JL,bw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ew.apply(this,arguments)}function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function X2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(r),!0).forEach(function(n){Zm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w4(n.key),n)}}function Wte(t,e,r){return e&&zte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hte(t,e,r){return e=em(e),Gte(t,b4()?Reflect.construct(e,r||[],em(t).constructor):e.apply(t,r))}function Gte(t,e){if(e&&(Zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kte(t)}function Kte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b4=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},em(t)}function Yte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tw(t,e)}function Tw(t,e){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Tw(t,e)}function Zm(t,e,r){return e=w4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w4(t){var e=Xte(t,"string");return Zu(e)=="symbol"?e:e+""}function Xte(t,e){if(Zu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qte=function(e,r,n,i,a){var s=a.x1,l=a.x2,c=a.y1,f=a.y2,h=a.xAxis,m=a.yAxis;if(!h||!m)return null;var y=AE({x:h.scale,y:m.scale}),_={x:e?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(c,{position:"start"}):y.y.rangeMin},S={x:r?y.x.apply(l,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(f,{position:"end"}):y.y.rangeMax};return xi(a,"discard")&&(!y.isInRange(_)||!y.isInRange(S))?null:u4(_,S)},eg=(function(t){function e(){return qte(this,e),Hte(this,e,arguments)}return Yte(e,t),Wte(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,l=n.y2,c=n.className,f=n.alwaysShow,h=n.clipPathId;Zi(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=er(i),y=er(a),_=er(s),S=er(l),T=this.props.shape;if(!m&&!y&&!_&&!S&&!T)return null;var b=Qte(m,y,_,S,this.props);if(!b&&!T)return null;var k=xi(this.props,"hidden")?"url(#".concat(h,")"):void 0;return K.createElement(lr,{className:at("recharts-reference-area",c)},e.renderRect(T,Q2(Q2({clipPath:k},it(this.props,!0)),b)),Cr.renderCallByParent(this.props,b))}}])})(K.Component);Zm(eg,"displayName","ReferenceArea");Zm(eg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Zm(eg,"renderRect",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):Ge(t)?r=t(e):r=K.createElement(SE,Ew({},e,{className:"recharts-reference-area-rect"})),r});function E4(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Jte(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return nte(n,r)}function Zte(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,l=t.height;return e===1?{start:n?i:a,end:n?i+s:a+l}:{start:n?i+s:a+l,end:n?i:a}}function tm(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function ere(t,e){return E4(t,e+1)}function tre(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,l=e.end,c=0,f=1,h=s,m=function(){var S=n==null?void 0:n[c];if(S===void 0)return{v:E4(n,f)};var T=c,b,k=function(){return b===void 0&&(b=r(S,T)),b},j=S.coordinate,R=c===0||tm(t,j,k,h,l);R||(c=0,h=s,f+=1),R&&(h=j+t*(k()/2+i),c+=f)},y;f<=a.length;)if(y=m(),y)return y.v;return[]}function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function J2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J2(Object(r),!0).forEach(function(n){rre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rre(t,e,r){return e=nre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nre(t){var e=ire(t,"string");return Of(e)=="symbol"?e:e+""}function ire(t,e){if(Of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function are(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,l=e.start,c=e.end,f=function(y){var _=a[y],S,T=function(){return S===void 0&&(S=r(_,y)),S};if(y===s-1){var b=t*(_.coordinate+t*T()/2-c);a[y]=_=Pr(Pr({},_),{},{tickCoord:b>0?_.coordinate-b*t:_.coordinate})}else a[y]=_=Pr(Pr({},_),{},{tickCoord:_.coordinate});var k=tm(t,_.tickCoord,T,l,c);k&&(c=_.tickCoord-t*(T()/2+i),a[y]=Pr(Pr({},_),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return a}function ore(t,e,r,n,i,a){var s=(n||[]).slice(),l=s.length,c=e.start,f=e.end;if(a){var h=n[l-1],m=r(h,l-1),y=t*(h.coordinate+t*m/2-f);s[l-1]=h=Pr(Pr({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var _=tm(t,h.tickCoord,function(){return m},c,f);_&&(f=h.tickCoord-t*(m/2+i),s[l-1]=Pr(Pr({},h),{},{isShow:!0}))}for(var S=a?l-1:l,T=function(j){var R=s[j],M,P=function(){return M===void 0&&(M=r(R,j)),M};if(j===0){var C=t*(R.coordinate-t*P()/2-c);s[j]=R=Pr(Pr({},R),{},{tickCoord:C<0?R.coordinate-C*t:R.coordinate})}else s[j]=R=Pr(Pr({},R),{},{tickCoord:R.coordinate});var A=tm(t,R.tickCoord,P,c,f);A&&(c=R.tickCoord+t*(P()/2+i),s[j]=Pr(Pr({},R),{},{isShow:!0}))},b=0;b<S;b++)T(b);return s}function RE(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,m=t.angle;if(!i||!i.length||!n)return[];if(xe(c)||Wf.isSsr)return ere(i,typeof c=="number"&&xe(c)?c:0);var y=[],_=l==="top"||l==="bottom"?"width":"height",S=h&&_==="width"?Dc(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},T=function(R,M){var P=Ge(f)?f(R.value,M):R.value;return _==="width"?Jte(Dc(P,{fontSize:e,letterSpacing:r}),S,m):Dc(P,{fontSize:e,letterSpacing:r})[_]},b=i.length>=2?Bn(i[1].coordinate-i[0].coordinate):1,k=Zte(a,b,_);return c==="equidistantPreserveStart"?tre(b,k,T,i,s):(c==="preserveStart"||c==="preserveStartEnd"?y=ore(b,k,T,i,s,c==="preserveStartEnd"):y=are(b,k,T,i,s),y.filter(function(j){return j.isShow}))}var sre=["viewBox"],ure=["viewBox"],lre=["ticks"];function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function xu(){return xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xu.apply(this,arguments)}function Z2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(r),!0).forEach(function(n){jE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U_(t,e){if(t==null)return{};var r=cre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S4(n.key),n)}}function dre(t,e,r){return e&&eR(t.prototype,e),r&&eR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hre(t,e,r){return e=rm(e),pre(t,T4()?Reflect.construct(e,r||[],rm(t).constructor):e.apply(t,r))}function pre(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mre(t)}function mre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T4=function(){return!!t})()}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rm(t)}function gre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sw(t,e)}function Sw(t,e){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sw(t,e)}function jE(t,e,r){return e=S4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S4(t){var e=yre(t,"string");return el(e)=="symbol"?e:e+""}function yre(t,e){if(el(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(el(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vl=(function(t){function e(r){var n;return fre(this,e),n=hre(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return gre(e,t),dre(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=U_(n,sre),l=this.props,c=l.viewBox,f=U_(l,ure);return!Pu(a,c)||!Pu(s,f)||!Pu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,f=i.orientation,h=i.tickSize,m=i.mirror,y=i.tickMargin,_,S,T,b,k,j,R=m?-1:1,M=n.tickSize||h,P=xe(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":_=S=n.coordinate,b=s+ +!m*c,T=b-R*M,j=T-R*y,k=P;break;case"left":T=b=n.coordinate,S=a+ +!m*l,_=S-R*M,k=_-R*y,j=P;break;case"right":T=b=n.coordinate,S=a+ +m*l,_=S+R*M,k=_+R*y,j=P;break;default:_=S=n.coordinate,b=s+ +m*c,T=b+R*M,j=T+R*y,k=P;break}return{line:{x1:_,y1:T,x2:S,y2:b},tick:{x:k,y:j}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.orientation,f=n.mirror,h=n.axisLine,m=Xt(Xt(Xt({},it(this.props,!1)),it(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!f||c==="bottom"&&f);m=Xt(Xt({},m),{},{x1:i,y1:a+y*l,x2:i+s,y2:a+y*l})}else{var _=+(c==="left"&&!f||c==="right"&&f);m=Xt(Xt({},m),{},{x1:i+_*s,y1:a,x2:i+_*s,y2:a+l})}return K.createElement("line",xu({},m,{className:at("recharts-cartesian-axis-line",wn(h,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,l=this.props,c=l.tickLine,f=l.stroke,h=l.tick,m=l.tickFormatter,y=l.unit,_=RE(Xt(Xt({},this.props),{},{ticks:n}),i,a),S=this.getTickTextAnchor(),T=this.getTickVerticalAnchor(),b=it(this.props,!1),k=it(h,!1),j=Xt(Xt({},b),{},{fill:"none"},it(c,!1)),R=_.map(function(M,P){var C=s.getTickLineCoord(M),A=C.line,O=C.tick,N=Xt(Xt(Xt(Xt({textAnchor:S,verticalAnchor:T},b),{},{stroke:"none",fill:f},k),O),{},{index:P,payload:M,visibleTicksCount:_.length,tickFormatter:m});return K.createElement(lr,xu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},fp(s.props,M,P)),c&&K.createElement("line",xu({},j,A,{className:at("recharts-cartesian-axis-tick-line",wn(c,"className"))})),h&&e.renderTickItem(h,N,"".concat(Ge(m)?m(M.value,P):M.value).concat(y||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},R)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var m=this.props,y=m.ticks,_=U_(m,lre),S=y;return Ge(c)&&(S=y&&y.length>0?c(this.props):c(_)),s<=0||l<=0||!S||!S.length?null:K.createElement(lr,{className:at("recharts-cartesian-axis",f),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),Cr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,l=at(i.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(n)?s=K.cloneElement(n,Xt(Xt({},i),{},{className:l})):Ge(n)?s=n(Xt(Xt({},i),{},{className:l})):s=K.createElement(wp,xu({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(H.Component);jE(vl,"displayName","CartesianAxis");jE(vl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var vre=["x1","y1","x2","y2","key"],xre=["offset"];function ms(t){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(t)}function tR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(r),!0).forEach(function(n){_re(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _re(t,e,r){return e=bre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bre(t){var e=wre(t,"string");return ms(e)=="symbol"?e:e+""}function wre(t,e){if(ms(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qo(){return Qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qo.apply(this,arguments)}function rR(t,e){if(t==null)return{};var r=Ere(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ere(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Tre=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,l=e.height,c=e.ry;return K.createElement("rect",{x:i,y:a,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function A4(t,e){var r;if(K.isValidElement(t))r=K.cloneElement(t,e);else if(Ge(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,l=e.key,c=rR(e,vre),f=it(c,!1);f.offset;var h=rR(f,xre);r=K.createElement("line",Qo({},h,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:l}))}return r}function Sre(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var f=kr(kr({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return A4(i,f)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Are(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var f=kr(kr({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return A4(i,f)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Pre(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=l.map(function(y){return Math.round(y+i-i)}).sort(function(y,_){return y-_});i!==h[0]&&h.unshift(0);var m=h.map(function(y,_){var S=!h[_+1],T=S?i+s-y:h[_+1]-y;if(T<=0)return null;var b=_%e.length;return K.createElement("rect",{key:"react-".concat(_),y,x:n,height:T,width:a,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Ire(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,l=t.width,c=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var h=f.map(function(y){return Math.round(y+a-a)}).sort(function(y,_){return y-_});a!==h[0]&&h.unshift(0);var m=h.map(function(y,_){var S=!h[_+1],T=S?a+l-y:h[_+1]-y;if(T<=0)return null;var b=_%n.length;return K.createElement("rect",{key:"react-".concat(_),x:y,y:s,width:T,height:c,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Ore=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return $L(RE(kr(kr(kr({},vl.defaultProps),n),{},{ticks:Qi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},Cre=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return $L(RE(kr(kr(kr({},vl.defaultProps),n),{},{ticks:Qi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},du={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function P4(t){var e,r,n,i,a,s,l=OE(),c=CE(),f=yte(),h=kr(kr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:du.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:du.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:du.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:du.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:du.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:du.verticalFill,x:xe(t.x)?t.x:f.left,y:xe(t.y)?t.y:f.top,width:xe(t.width)?t.width:f.width,height:xe(t.height)?t.height:f.height}),m=h.x,y=h.y,_=h.width,S=h.height,T=h.syncWithTicks,b=h.horizontalValues,k=h.verticalValues,j=pte(),R=mte();if(!xe(_)||_<=0||!xe(S)||S<=0||!xe(m)||m!==+m||!xe(y)||y!==+y)return null;var M=h.verticalCoordinatesGenerator||Ore,P=h.horizontalCoordinatesGenerator||Cre,C=h.horizontalPoints,A=h.verticalPoints;if((!C||!C.length)&&Ge(P)){var O=b&&b.length,N=P({yAxis:R?kr(kr({},R),{},{ticks:O?b:R.ticks}):void 0,width:l,height:c,offset:f},O?!0:T);Zi(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ms(N),"]")),Array.isArray(N)&&(C=N)}if((!A||!A.length)&&Ge(M)){var F=k&&k.length,V=M({xAxis:j?kr(kr({},j),{},{ticks:F?k:j.ticks}):void 0,width:l,height:c,offset:f},F?!0:T);Zi(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ms(V),"]")),Array.isArray(V)&&(A=V)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(Tre,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),K.createElement(Sre,Qo({},h,{offset:f,horizontalPoints:C,xAxis:j,yAxis:R})),K.createElement(Are,Qo({},h,{offset:f,verticalPoints:A,xAxis:j,yAxis:R})),K.createElement(Pre,Qo({},h,{horizontalPoints:C})),K.createElement(Ire,Qo({},h,{verticalPoints:A})))}P4.displayName="CartesianGrid";function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function kre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C4(n.key),n)}}function Rre(t,e,r){return e&&Nre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jre(t,e,r){return e=nm(e),Dre(t,I4()?Reflect.construct(e,r||[],nm(t).constructor):e.apply(t,r))}function Dre(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mre(t)}function Mre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I4=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nm(t)}function Lre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Aw(t,e)}function Aw(t,e){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Aw(t,e)}function O4(t,e,r){return e=C4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C4(t){var e=Vre(t,"string");return tl(e)=="symbol"?e:e+""}function Vre(t,e){if(tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pw.apply(this,arguments)}function $re(t){var e=t.xAxisId,r=OE(),n=CE(),i=m4(e);return i==null?null:H.createElement(vl,Pw({},i,{className:at("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Qi(s,!0)}}))}var tg=(function(t){function e(){return kre(this,e),jre(this,e,arguments)}return Lre(e,t),Rre(e,[{key:"render",value:function(){return H.createElement($re,this.props)}}])})(H.Component);O4(tg,"displayName","XAxis");O4(tg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function Fre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R4(n.key),n)}}function Ure(t,e,r){return e&&Bre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qre(t,e,r){return e=im(e),zre(t,k4()?Reflect.construct(e,r||[],im(t).constructor):e.apply(t,r))}function zre(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wre(t)}function Wre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k4=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},im(t)}function Hre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}function Iw(t,e){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Iw(t,e)}function N4(t,e,r){return e=R4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R4(t){var e=Gre(t,"string");return rl(e)=="symbol"?e:e+""}function Gre(t,e){if(rl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ow(){return Ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ow.apply(this,arguments)}var Kre=function(e){var r=e.yAxisId,n=OE(),i=CE(),a=g4(r);return a==null?null:H.createElement(vl,Ow({},a,{className:at("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Qi(l,!0)}}))},rg=(function(t){function e(){return Fre(this,e),qre(this,e,arguments)}return Hre(e,t),Ure(e,[{key:"render",value:function(){return H.createElement(Kre,this.props)}}])})(H.Component);N4(rg,"displayName","YAxis");N4(rg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function nR(t){return Jre(t)||Qre(t)||Xre(t)||Yre()}function Yre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xre(t,e){if(t){if(typeof t=="string")return Cw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cw(t,e)}}function Qre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jre(t){if(Array.isArray(t))return Cw(t)}function Cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var kw=function(e,r,n,i,a){var s=zn(e,NE),l=zn(e,Jm),c=[].concat(nR(s),nR(l)),f=zn(e,eg),h="".concat(i,"Id"),m=i[0],y=r;if(c.length&&(y=c.reduce(function(T,b){if(b.props[h]===n&&xi(b.props,"extendDomain")&&xe(b.props[m])){var k=b.props[m];return[Math.min(T[0],k),Math.max(T[1],k)]}return T},y)),f.length){var _="".concat(m,"1"),S="".concat(m,"2");y=f.reduce(function(T,b){if(b.props[h]===n&&xi(b.props,"extendDomain")&&xe(b.props[_])&&xe(b.props[S])){var k=b.props[_],j=b.props[S];return[Math.min(T[0],k,j),Math.max(T[1],k,j)]}return T},y)}return a&&a.length&&(y=a.reduce(function(T,b){return xe(b)?[Math.min(T[0],b),Math.max(T[1],b)]:T},y)),y},q_={exports:{}},iR;function Zre(){return iR||(iR=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,m,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new i(h,m||c,y),S=r?r+f:f;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],_]:c._events[S].push(_):(c._events[S]=_,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=r?r+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,_=m.length,S=new Array(_);y<_;y++)S[y]=m[y].fn;return S},l.prototype.listenerCount=function(f){var h=r?r+f:f,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(f,h,m,y,_,S){var T=r?r+f:f;if(!this._events[T])return!1;var b=this._events[T],k=arguments.length,j,R;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),k){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,m),!0;case 4:return b.fn.call(b.context,h,m,y),!0;case 5:return b.fn.call(b.context,h,m,y,_),!0;case 6:return b.fn.call(b.context,h,m,y,_,S),!0}for(R=1,j=new Array(k-1);R<k;R++)j[R-1]=arguments[R];b.fn.apply(b.context,j)}else{var M=b.length,P;for(R=0;R<M;R++)switch(b[R].once&&this.removeListener(f,b[R].fn,void 0,!0),k){case 1:b[R].fn.call(b[R].context);break;case 2:b[R].fn.call(b[R].context,h);break;case 3:b[R].fn.call(b[R].context,h,m);break;case 4:b[R].fn.call(b[R].context,h,m,y);break;default:if(!j)for(P=1,j=new Array(k-1);P<k;P++)j[P-1]=arguments[P];b[R].fn.apply(b[R].context,j)}}return!0},l.prototype.on=function(f,h,m){return a(this,f,h,m,!1)},l.prototype.once=function(f,h,m){return a(this,f,h,m,!0)},l.prototype.removeListener=function(f,h,m,y){var _=r?r+f:f;if(!this._events[_])return this;if(!h)return s(this,_),this;var S=this._events[_];if(S.fn)S.fn===h&&(!y||S.once)&&(!m||S.context===m)&&s(this,_);else{for(var T=0,b=[],k=S.length;T<k;T++)(S[T].fn!==h||y&&!S[T].once||m&&S[T].context!==m)&&b.push(S[T]);b.length?this._events[_]=b.length===1?b[0]:b:s(this,_)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&s(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(q_)),q_.exports}var ene=Zre();const tne=dt(ene);var z_=new tne,W_="recharts.syncMouseEvents";function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function rne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j4(n.key),n)}}function ine(t,e,r){return e&&nne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H_(t,e,r){return e=j4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j4(t){var e=ane(t,"string");return Cf(e)=="symbol"?e:e+""}function ane(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var one=(function(){function t(){rne(this,t),H_(this,"activeIndex",0),H_(this,"coordinateList",[]),H_(this,"layout","horizontal")}return ine(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,l=s===void 0?null:s,c=r.layout,f=c===void 0?null:c,h=r.offset,m=h===void 0?null:h,y=r.mouseHandlerCallback,_=y===void 0?null:y;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=a+c+f,y=s+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])})();function sne(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&xe(n)&&xe(i))return!0}return!1}function une(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function D4(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=xr(e,r,n,i),l=xr(e,r,n,a);return{points:[s,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function lne(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,m=e.angle,y=xr(l,c,f,m),_=xr(l,c,h,m);n=y.x,i=y.y,a=_.x,s=_.y}else return D4(e);return[{x:n,y:i},{x:a,y:s}]}function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function aR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(r),!0).forEach(function(n){cne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cne(t,e,r){return e=fne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fne(t){var e=dne(t,"string");return kf(e)=="symbol"?e:e+""}function dne(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hne(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,y=t.chartName,_=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!_||!a||!s||y!=="ScatterChart"&&i!=="axis")return null;var S,T=$N;if(y==="ScatterChart")S=s,T=TZ;else if(y==="BarChart")S=une(m,s,c,h),T=SE;else if(m==="radial"){var b=D4(s),k=b.cx,j=b.cy,R=b.radius,M=b.startAngle,P=b.endAngle;S={cx:k,cy:j,startAngle:M,endAngle:P,innerRadius:R,outerRadius:R},T=zL}else S={points:lne(m,s,c)},T=$N;var C=Oh(Oh(Oh(Oh({stroke:"#ccc",pointerEvents:"none"},c),S),it(_,!1)),{},{payload:l,payloadIndex:f,className:at("recharts-tooltip-cursor",_.className)});return H.isValidElement(_)?H.cloneElement(_,C):H.createElement(T,C)}var pne=["item"],mne=["children","className","width","height","style","compact","title","desc"];function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_u.apply(this,arguments)}function oR(t,e){return vne(t)||yne(t,e)||L4(t,e)||gne()}function gne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function vne(t){if(Array.isArray(t))return t}function sR(t,e){if(t==null)return{};var r=xne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V4(n.key),n)}}function wne(t,e,r){return e&&bne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ene(t,e,r){return e=am(e),Tne(t,M4()?Reflect.construct(e,r||[],am(t).constructor):e.apply(t,r))}function Tne(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sne(t)}function Sne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M4=function(){return!!t})()}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},am(t)}function Ane(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nw(t,e)}function Nw(t,e){return Nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Nw(t,e)}function il(t){return One(t)||Ine(t)||L4(t)||Pne()}function Pne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L4(t,e){if(t){if(typeof t=="string")return Rw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rw(t,e)}}function Ine(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function One(t){if(Array.isArray(t))return Rw(t)}function Rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(r),!0).forEach(function(n){De(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function De(t,e,r){return e=V4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V4(t){var e=Cne(t,"string");return nl(e)=="symbol"?e:e+""}function Cne(t,e){if(nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kne={xAxis:["bottom","top"],yAxis:["left","right"]},Nne={width:"100%",height:"100%"},$4={x:0,y:0};function Ch(t){return t}var Rne=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},jne=function(e,r,n,i){var a=r.find(function(h){return h&&h.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,l=i.radius;return ae(ae(ae({},i),xr(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,f=i.angle;return ae(ae(ae({},i),xr(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return $4},ng=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var f=c.props.data;return f&&f.length?[].concat(il(l),il(f)):l},[]);return s.length>0?s:e&&e.length&&xe(i)&&xe(a)?e.slice(i,a+1):[]};function F4(t){return t==="number"?[0,"auto"]:void 0}var jw=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,l=ng(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,f){var h,m=(h=f.props.data)!==null&&h!==void 0?h:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var _=m===void 0?l:m;y=_b(_,s.dataKey,i)}else y=m&&m[n]||l[n];return y?[].concat(il(c),[BL(f,y)]):c},[])},lR=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=Rne(a,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=nX(s,l,f,c);if(h>=0&&f){var m=f[h]&&f[h].value,y=jw(e,r,h,m),_=jne(n,l,h,a);return{activeTooltipIndex:h,activeLabel:m,activePayload:y,activeCoordinate:_}}return null},Dne=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,m=e.children,y=e.stackOffset,_=VL(h,a);return n.reduce(function(S,T){var b,k=T.type.defaultProps!==void 0?ae(ae({},T.type.defaultProps),T.props):T.props,j=k.type,R=k.dataKey,M=k.allowDataOverflow,P=k.allowDuplicatedCategory,C=k.scale,A=k.ticks,O=k.includeHidden,N=k[s];if(S[N])return S;var F=ng(e.data,{graphicalItems:i.filter(function(G){var me,be=s in G.props?G.props[s]:(me=G.type.defaultProps)===null||me===void 0?void 0:me[s];return be===N}),dataStartIndex:c,dataEndIndex:f}),V=F.length,$,L,Z;sne(k.domain,M,j)&&($=ew(k.domain,null,M),_&&(j==="number"||C!=="auto")&&(Z=Lc(F,R,"category")));var ee=F4(j);if(!$||$.length===0){var oe,se=(oe=k.domain)!==null&&oe!==void 0?oe:ee;if(R){if($=Lc(F,R,j),j==="category"&&_){var Q=Kq($);P&&Q?(L=$,$=Gp(0,V)):P||($=SN(se,$,T).reduce(function(G,me){return G.indexOf(me)>=0?G:[].concat(il(G),[me])},[]))}else if(j==="category")P?$=$.filter(function(G){return G!==""&&!ot(G)}):$=SN(se,$,T).reduce(function(G,me){return G.indexOf(me)>=0||me===""||ot(me)?G:[].concat(il(G),[me])},[]);else if(j==="number"){var ie=uX(F,i.filter(function(G){var me,be,Oe=s in G.props?G.props[s]:(me=G.type.defaultProps)===null||me===void 0?void 0:me[s],je="hide"in G.props?G.props.hide:(be=G.type.defaultProps)===null||be===void 0?void 0:be.hide;return Oe===N&&(O||!je)}),R,a,h);ie&&($=ie)}_&&(j==="number"||C!=="auto")&&(Z=Lc(F,R,"category"))}else _?$=Gp(0,V):l&&l[N]&&l[N].hasStack&&j==="number"?$=y==="expand"?[0,1]:FL(l[N].stackGroups,c,f):$=LL(F,i.filter(function(G){var me=s in G.props?G.props[s]:G.type.defaultProps[s],be="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return me===N&&(O||!be)}),j,h,!0);if(j==="number")$=kw(m,$,N,a,A),se&&($=ew(se,$,M));else if(j==="category"&&se){var ne=se,q=$.every(function(G){return ne.indexOf(G)>=0});q&&($=ne)}}return ae(ae({},S),{},De({},N,ae(ae({},k),{},{axisType:a,domain:$,categoricalDomain:Z,duplicateDomain:L,originalDomain:(b=k.domain)!==null&&b!==void 0?b:ee,isCategorical:_,layout:h})))},{})},Mne=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,m=e.children,y=ng(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:f}),_=y.length,S=VL(h,a),T=-1;return n.reduce(function(b,k){var j=k.type.defaultProps!==void 0?ae(ae({},k.type.defaultProps),k.props):k.props,R=j[s],M=F4("number");if(!b[R]){T++;var P;return S?P=Gp(0,_):l&&l[R]&&l[R].hasStack?(P=FL(l[R].stackGroups,c,f),P=kw(m,P,R,a)):(P=ew(M,LL(y,n.filter(function(C){var A,O,N=s in C.props?C.props[s]:(A=C.type.defaultProps)===null||A===void 0?void 0:A[s],F="hide"in C.props?C.props.hide:(O=C.type.defaultProps)===null||O===void 0?void 0:O.hide;return N===R&&!F}),"number",h),i.defaultProps.allowDataOverflow),P=kw(m,P,R,a)),ae(ae({},b),{},De({},R,ae(ae({axisType:a},i.defaultProps),{},{hide:!0,orientation:wn(kne,"".concat(a,".").concat(T%2),null),domain:P,originalDomain:M,isCategorical:S,layout:h})))}return b},{})},Lne=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.children,m="".concat(i,"Id"),y=zn(h,a),_={};return y&&y.length?_=Dne(e,{axes:y,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(_=Mne(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:f})),_},Vne=function(e){var r=Ga(e),n=Qi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:X1(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Lp(r,n)}},cR=function(e){var r=e.children,n=e.defaultShowTooltip,i=an(r,Yu),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},$ne=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ji(r&&r.type);return n&&n.indexOf("Bar")>=0})},fR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Fne=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,f=n.width,h=n.height,m=n.children,y=n.margin||{},_=an(m,Yu),S=an(m,Iu),T=Object.keys(c).reduce(function(P,C){var A=c[C],O=A.orientation;return!A.mirror&&!A.hide?ae(ae({},P),{},De({},O,P[O]+A.width)):P},{left:y.left||0,right:y.right||0}),b=Object.keys(s).reduce(function(P,C){var A=s[C],O=A.orientation;return!A.mirror&&!A.hide?ae(ae({},P),{},De({},O,wn(P,"".concat(O))+A.height)):P},{top:y.top||0,bottom:y.bottom||0}),k=ae(ae({},b),T),j=k.bottom;_&&(k.bottom+=_.props.height||Yu.defaultProps.height),S&&r&&(k=oX(k,i,n,r));var R=f-k.left-k.right,M=h-k.top-k.bottom;return ae(ae({brushBottom:j},k),{},{width:Math.max(R,0),height:Math.max(M,0)})},Bne=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Une=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,y=function(k,j){var R=j.graphicalItems,M=j.stackGroups,P=j.offset,C=j.updateId,A=j.dataStartIndex,O=j.dataEndIndex,N=k.barSize,F=k.layout,V=k.barGap,$=k.barCategoryGap,L=k.maxBarSize,Z=fR(F),ee=Z.numericAxisName,oe=Z.cateAxisName,se=$ne(R),Q=[];return R.forEach(function(ie,ne){var q=ng(k.data,{graphicalItems:[ie],dataStartIndex:A,dataEndIndex:O}),G=ie.type.defaultProps!==void 0?ae(ae({},ie.type.defaultProps),ie.props):ie.props,me=G.dataKey,be=G.maxBarSize,Oe=G["".concat(ee,"Id")],je=G["".concat(oe,"Id")],We={},Le=c.reduce(function(Gt,Gr){var Ai=j["".concat(Gr.axisType,"Map")],mo=G["".concat(Gr.axisType,"Id")];Ai&&Ai[mo]||Gr.axisType==="zAxis"||ps();var Sn=Ai[mo];return ae(ae({},Gt),{},De(De({},Gr.axisType,Sn),"".concat(Gr.axisType,"Ticks"),Qi(Sn)))},We),he=Le[oe],Ce=Le["".concat(oe,"Ticks")],Fe=M&&M[Oe]&&M[Oe].hasStack&&_X(ie,M[Oe].stackGroups),ce=Ji(ie.type).indexOf("Bar")>=0,rt=Lp(he,Ce),ze=[],Pt=se&&iX({barSize:N,stackGroups:M,totalSize:Bne(Le,oe)});if(ce){var yt,Rt,Mr=ot(be)?L:be,ht=(yt=(Rt=Lp(he,Ce,!0))!==null&&Rt!==void 0?Rt:Mr)!==null&&yt!==void 0?yt:0;ze=aX({barGap:V,barCategoryGap:$,bandSize:ht!==rt?ht:rt,sizeList:Pt[je],maxBarSize:Mr}),ht!==rt&&(ze=ze.map(function(Gt){return ae(ae({},Gt),{},{position:ae(ae({},Gt.position),{},{offset:Gt.position.offset-ht/2})})}))}var vt=ie&&ie.type&&ie.type.getComposedData;vt&&Q.push({props:ae(ae({},vt(ae(ae({},Le),{},{displayedData:q,props:k,dataKey:me,item:ie,bandSize:rt,barPosition:ze,offset:P,stackedData:Fe,layout:F,dataStartIndex:A,dataEndIndex:O}))),{},De(De(De({key:ie.key||"item-".concat(ne)},ee,Le[ee]),oe,Le[oe]),"animationId",C)),childIndex:o8(ie,k.children),item:ie})}),Q},_=function(k,j){var R=k.props,M=k.dataStartIndex,P=k.dataEndIndex,C=k.updateId;if(!FI({props:R}))return null;var A=R.children,O=R.layout,N=R.stackOffset,F=R.data,V=R.reverseStackOrder,$=fR(O),L=$.numericAxisName,Z=$.cateAxisName,ee=zn(A,n),oe=yX(F,ee,"".concat(L,"Id"),"".concat(Z,"Id"),N,V),se=c.reduce(function(G,me){var be="".concat(me.axisType,"Map");return ae(ae({},G),{},De({},be,Lne(R,ae(ae({},me),{},{graphicalItems:ee,stackGroups:me.axisType===L&&oe,dataStartIndex:M,dataEndIndex:P}))))},{}),Q=Fne(ae(ae({},se),{},{props:R,graphicalItems:ee}),j==null?void 0:j.legendBBox);Object.keys(se).forEach(function(G){se[G]=h(R,se[G],Q,G.replace("Map",""),r)});var ie=se["".concat(Z,"Map")],ne=Vne(ie),q=y(R,ae(ae({},se),{},{dataStartIndex:M,dataEndIndex:P,updateId:C,graphicalItems:ee,stackGroups:oe,offset:Q}));return ae(ae({formattedGraphicalItems:q,graphicalItems:ee,offset:Q,stackGroups:oe},ne),se)},S=(function(b){function k(j){var R,M,P;return _ne(this,k),P=Ene(this,k,[j]),De(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),De(P,"accessibilityManager",new one),De(P,"handleLegendBBoxUpdate",function(C){if(C){var A=P.state,O=A.dataStartIndex,N=A.dataEndIndex,F=A.updateId;P.setState(ae({legendBBox:C},_({props:P.props,dataStartIndex:O,dataEndIndex:N,updateId:F},ae(ae({},P.state),{},{legendBBox:C}))))}}),De(P,"handleReceiveSyncEvent",function(C,A,O){if(P.props.syncId===C){if(O===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(A)}}),De(P,"handleBrushChange",function(C){var A=C.startIndex,O=C.endIndex;if(A!==P.state.dataStartIndex||O!==P.state.dataEndIndex){var N=P.state.updateId;P.setState(function(){return ae({dataStartIndex:A,dataEndIndex:O},_({props:P.props,dataStartIndex:A,dataEndIndex:O,updateId:N},P.state))}),P.triggerSyncEvent({dataStartIndex:A,dataEndIndex:O})}}),De(P,"handleMouseEnter",function(C){var A=P.getMouseInfo(C);if(A){var O=ae(ae({},A),{},{isTooltipActive:!0});P.setState(O),P.triggerSyncEvent(O);var N=P.props.onMouseEnter;Ge(N)&&N(O,C)}}),De(P,"triggeredAfterMouseMove",function(C){var A=P.getMouseInfo(C),O=A?ae(ae({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(O),P.triggerSyncEvent(O);var N=P.props.onMouseMove;Ge(N)&&N(O,C)}),De(P,"handleItemMouseEnter",function(C){P.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),De(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),De(P,"handleMouseMove",function(C){C.persist(),P.throttleTriggeredAfterMouseMove(C)}),De(P,"handleMouseLeave",function(C){P.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};P.setState(A),P.triggerSyncEvent(A);var O=P.props.onMouseLeave;Ge(O)&&O(A,C)}),De(P,"handleOuterEvent",function(C){var A=a8(C),O=wn(P.props,"".concat(A));if(A&&Ge(O)){var N,F;/.*touch.*/i.test(A)?F=P.getMouseInfo(C.changedTouches[0]):F=P.getMouseInfo(C),O((N=F)!==null&&N!==void 0?N:{},C)}}),De(P,"handleClick",function(C){var A=P.getMouseInfo(C);if(A){var O=ae(ae({},A),{},{isTooltipActive:!0});P.setState(O),P.triggerSyncEvent(O);var N=P.props.onClick;Ge(N)&&N(O,C)}}),De(P,"handleMouseDown",function(C){var A=P.props.onMouseDown;if(Ge(A)){var O=P.getMouseInfo(C);A(O,C)}}),De(P,"handleMouseUp",function(C){var A=P.props.onMouseUp;if(Ge(A)){var O=P.getMouseInfo(C);A(O,C)}}),De(P,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),De(P,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&P.handleMouseDown(C.changedTouches[0])}),De(P,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&P.handleMouseUp(C.changedTouches[0])}),De(P,"handleDoubleClick",function(C){var A=P.props.onDoubleClick;if(Ge(A)){var O=P.getMouseInfo(C);A(O,C)}}),De(P,"handleContextMenu",function(C){var A=P.props.onContextMenu;if(Ge(A)){var O=P.getMouseInfo(C);A(O,C)}}),De(P,"triggerSyncEvent",function(C){P.props.syncId!==void 0&&z_.emit(W_,P.props.syncId,C,P.eventEmitterSymbol)}),De(P,"applySyncEvent",function(C){var A=P.props,O=A.layout,N=A.syncMethod,F=P.state.updateId,V=C.dataStartIndex,$=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)P.setState(ae({dataStartIndex:V,dataEndIndex:$},_({props:P.props,dataStartIndex:V,dataEndIndex:$,updateId:F},P.state)));else if(C.activeTooltipIndex!==void 0){var L=C.chartX,Z=C.chartY,ee=C.activeTooltipIndex,oe=P.state,se=oe.offset,Q=oe.tooltipTicks;if(!se)return;if(typeof N=="function")ee=N(Q,C);else if(N==="value"){ee=-1;for(var ie=0;ie<Q.length;ie++)if(Q[ie].value===C.activeLabel){ee=ie;break}}var ne=ae(ae({},se),{},{x:se.left,y:se.top}),q=Math.min(L,ne.x+ne.width),G=Math.min(Z,ne.y+ne.height),me=Q[ee]&&Q[ee].value,be=jw(P.state,P.props.data,ee),Oe=Q[ee]?{x:O==="horizontal"?Q[ee].coordinate:q,y:O==="horizontal"?G:Q[ee].coordinate}:$4;P.setState(ae(ae({},C),{},{activeLabel:me,activeCoordinate:Oe,activePayload:be,activeTooltipIndex:ee}))}else P.setState(C)}),De(P,"renderCursor",function(C){var A,O=P.state,N=O.isTooltipActive,F=O.activeCoordinate,V=O.activePayload,$=O.offset,L=O.activeTooltipIndex,Z=O.tooltipAxisBandSize,ee=P.getTooltipEventType(),oe=(A=C.props.active)!==null&&A!==void 0?A:N,se=P.props.layout,Q=C.key||"_recharts-cursor";return K.createElement(hne,{key:Q,activeCoordinate:F,activePayload:V,activeTooltipIndex:L,chartName:r,element:C,isActive:oe,layout:se,offset:$,tooltipAxisBandSize:Z,tooltipEventType:ee})}),De(P,"renderPolarAxis",function(C,A,O){var N=wn(C,"type.axisType"),F=wn(P.state,"".concat(N,"Map")),V=C.type.defaultProps,$=V!==void 0?ae(ae({},V),C.props):C.props,L=F&&F[$["".concat(N,"Id")]];return H.cloneElement(C,ae(ae({},L),{},{className:at(N,L.className),key:C.key||"".concat(A,"-").concat(O),ticks:Qi(L,!0)}))}),De(P,"renderPolarGrid",function(C){var A=C.props,O=A.radialLines,N=A.polarAngles,F=A.polarRadius,V=P.state,$=V.radiusAxisMap,L=V.angleAxisMap,Z=Ga($),ee=Ga(L),oe=ee.cx,se=ee.cy,Q=ee.innerRadius,ie=ee.outerRadius;return H.cloneElement(C,{polarAngles:Array.isArray(N)?N:Qi(ee,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(F)?F:Qi(Z,!0).map(function(ne){return ne.coordinate}),cx:oe,cy:se,innerRadius:Q,outerRadius:ie,key:C.key||"polar-grid",radialLines:O})}),De(P,"renderLegend",function(){var C=P.state.formattedGraphicalItems,A=P.props,O=A.children,N=A.width,F=A.height,V=P.props.margin||{},$=N-(V.left||0)-(V.right||0),L=DL({children:O,formattedGraphicalItems:C,legendWidth:$,legendContent:f});if(!L)return null;var Z=L.item,ee=sR(L,pne);return H.cloneElement(Z,ae(ae({},ee),{},{chartWidth:N,chartHeight:F,margin:V,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),De(P,"renderTooltip",function(){var C,A=P.props,O=A.children,N=A.accessibilityLayer,F=an(O,fi);if(!F)return null;var V=P.state,$=V.isTooltipActive,L=V.activeCoordinate,Z=V.activePayload,ee=V.activeLabel,oe=V.offset,se=(C=F.props.active)!==null&&C!==void 0?C:$;return H.cloneElement(F,{viewBox:ae(ae({},oe),{},{x:oe.left,y:oe.top}),active:se,label:ee,payload:se?Z:[],coordinate:L,accessibilityLayer:N})}),De(P,"renderBrush",function(C){var A=P.props,O=A.margin,N=A.data,F=P.state,V=F.offset,$=F.dataStartIndex,L=F.dataEndIndex,Z=F.updateId;return H.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Sh(P.handleBrushChange,C.props.onChange),data:N,x:xe(C.props.x)?C.props.x:V.left,y:xe(C.props.y)?C.props.y:V.top+V.height+V.brushBottom-(O.bottom||0),width:xe(C.props.width)?C.props.width:V.width,startIndex:$,endIndex:L,updateId:"brush-".concat(Z)})}),De(P,"renderReferenceElement",function(C,A,O){if(!C)return null;var N=P,F=N.clipPathId,V=P.state,$=V.xAxisMap,L=V.yAxisMap,Z=V.offset,ee=C.type.defaultProps||{},oe=C.props,se=oe.xAxisId,Q=se===void 0?ee.xAxisId:se,ie=oe.yAxisId,ne=ie===void 0?ee.yAxisId:ie;return H.cloneElement(C,{key:C.key||"".concat(A,"-").concat(O),xAxis:$[Q],yAxis:L[ne],viewBox:{x:Z.left,y:Z.top,width:Z.width,height:Z.height},clipPathId:F})}),De(P,"renderActivePoints",function(C){var A=C.item,O=C.activePoint,N=C.basePoint,F=C.childIndex,V=C.isRange,$=[],L=A.props.key,Z=A.item.type.defaultProps!==void 0?ae(ae({},A.item.type.defaultProps),A.item.props):A.item.props,ee=Z.activeDot,oe=Z.dataKey,se=ae(ae({index:F,dataKey:oe,cx:O.x,cy:O.y,r:4,fill:TE(A.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},it(ee,!1)),cp(ee));return $.push(k.renderActiveDot(ee,se,"".concat(L,"-activePoint-").concat(F))),N?$.push(k.renderActiveDot(ee,ae(ae({},se),{},{cx:N.x,cy:N.y}),"".concat(L,"-basePoint-").concat(F))):V&&$.push(null),$}),De(P,"renderGraphicChild",function(C,A,O){var N=P.filterFormatItem(C,A,O);if(!N)return null;var F=P.getTooltipEventType(),V=P.state,$=V.isTooltipActive,L=V.tooltipAxis,Z=V.activeTooltipIndex,ee=V.activeLabel,oe=P.props.children,se=an(oe,fi),Q=N.props,ie=Q.points,ne=Q.isRange,q=Q.baseLine,G=N.item.type.defaultProps!==void 0?ae(ae({},N.item.type.defaultProps),N.item.props):N.item.props,me=G.activeDot,be=G.hide,Oe=G.activeBar,je=G.activeShape,We=!!(!be&&$&&se&&(me||Oe||je)),Le={};F!=="axis"&&se&&se.props.trigger==="click"?Le={onClick:Sh(P.handleItemMouseEnter,C.props.onClick)}:F!=="axis"&&(Le={onMouseLeave:Sh(P.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Sh(P.handleItemMouseEnter,C.props.onMouseEnter)});var he=H.cloneElement(C,ae(ae({},N.props),Le));function Ce(Gr){return typeof L.dataKey=="function"?L.dataKey(Gr.payload):null}if(We)if(Z>=0){var Fe,ce;if(L.dataKey&&!L.allowDuplicatedCategory){var rt=typeof L.dataKey=="function"?Ce:"payload.".concat(L.dataKey.toString());Fe=_b(ie,rt,ee),ce=ne&&q&&_b(q,rt,ee)}else Fe=ie==null?void 0:ie[Z],ce=ne&&q&&q[Z];if(je||Oe){var ze=C.props.activeIndex!==void 0?C.props.activeIndex:Z;return[H.cloneElement(C,ae(ae(ae({},N.props),Le),{},{activeIndex:ze})),null,null]}if(!ot(Fe))return[he].concat(il(P.renderActivePoints({item:N,activePoint:Fe,basePoint:ce,childIndex:Z,isRange:ne})))}else{var Pt,yt=(Pt=P.getItemByXY(P.state.activeCoordinate))!==null&&Pt!==void 0?Pt:{graphicalItem:he},Rt=yt.graphicalItem,Mr=Rt.item,ht=Mr===void 0?C:Mr,vt=Rt.childIndex,Gt=ae(ae(ae({},N.props),Le),{},{activeIndex:vt});return[H.cloneElement(ht,Gt),null,null]}return ne?[he,null,null]:[he,null]}),De(P,"renderCustomized",function(C,A,O){return H.cloneElement(C,ae(ae({key:"recharts-customized-".concat(O)},P.props),P.state))}),De(P,"renderMap",{CartesianGrid:{handler:Ch,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Ch},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Ch},YAxis:{handler:Ch},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((R=j.id)!==null&&R!==void 0?R:Om("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=MM(P.triggeredAfterMouseMove,(M=j.throttleDelay)!==null&&M!==void 0?M:1e3/60),P.state={},P}return Ane(k,b),wne(k,[{key:"componentDidMount",value:function(){var R,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var R=this.props,M=R.children,P=R.data,C=R.height,A=R.layout,O=an(M,fi);if(O){var N=O.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,V=jw(this.state,P,N,F),$=this.state.tooltipTicks[N].coordinate,L=(this.state.offset.top+C)/2,Z=A==="horizontal",ee=Z?{x:$,y:L}:{y:$,x:L},oe=this.state.formattedGraphicalItems.find(function(Q){var ie=Q.item;return ie.type.name==="Scatter"});oe&&(ee=ae(ae({},ee),oe.props.points[N].tooltipPosition),V=oe.props.points[N].tooltipPayload);var se={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:F,activePayload:V,activeCoordinate:ee};this.setState(se),this.renderCursor(O),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(R,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==R.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==R.margin){var P,C;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(R){wb([an(R.children,fi)],[an(this.props.children,fi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var R=an(this.props.children,fi);if(R&&typeof R.props.shared=="boolean"){var M=R.props.shared?"axis":"item";return l.indexOf(M)>=0?M:a}return a}},{key:"getMouseInfo",value:function(R){if(!this.container)return null;var M=this.container,P=M.getBoundingClientRect(),C=GW(P),A={chartX:Math.round(R.pageX-C.left),chartY:Math.round(R.pageY-C.top)},O=P.width/M.offsetWidth||1,N=this.inRange(A.chartX,A.chartY,O);if(!N)return null;var F=this.state,V=F.xAxisMap,$=F.yAxisMap,L=this.getTooltipEventType(),Z=lR(this.state,this.props.data,this.props.layout,N);if(L!=="axis"&&V&&$){var ee=Ga(V).scale,oe=Ga($).scale,se=ee&&ee.invert?ee.invert(A.chartX):null,Q=oe&&oe.invert?oe.invert(A.chartY):null;return ae(ae({},A),{},{xValue:se,yValue:Q},Z)}return Z?ae(ae({},A),Z):null}},{key:"inRange",value:function(R,M){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,A=R/P,O=M/P;if(C==="horizontal"||C==="vertical"){var N=this.state.offset,F=A>=N.left&&A<=N.left+N.width&&O>=N.top&&O<=N.top+N.height;return F?{x:A,y:O}:null}var V=this.state,$=V.angleAxisMap,L=V.radiusAxisMap;if($&&L){var Z=Ga($);return IN({x:A,y:O},Z)}return null}},{key:"parseEventsOfWrapper",value:function(){var R=this.props.children,M=this.getTooltipEventType(),P=an(R,fi),C={};P&&M==="axis"&&(P.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=cp(this.props,this.handleOuterEvent);return ae(ae({},A),C)}},{key:"addListener",value:function(){z_.on(W_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){z_.removeListener(W_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(R,M,P){for(var C=this.state.formattedGraphicalItems,A=0,O=C.length;A<O;A++){var N=C[A];if(N.item===R||N.props.key===R.key||M===Ji(N.item.type)&&P===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var R=this.clipPathId,M=this.state.offset,P=M.left,C=M.top,A=M.height,O=M.width;return K.createElement("defs",null,K.createElement("clipPath",{id:R},K.createElement("rect",{x:P,y:C,height:A,width:O})))}},{key:"getXScales",value:function(){var R=this.state.xAxisMap;return R?Object.entries(R).reduce(function(M,P){var C=oR(P,2),A=C[0],O=C[1];return ae(ae({},M),{},De({},A,O.scale))},{}):null}},{key:"getYScales",value:function(){var R=this.state.yAxisMap;return R?Object.entries(R).reduce(function(M,P){var C=oR(P,2),A=C[0],O=C[1];return ae(ae({},M),{},De({},A,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(R){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[R])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(R){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[R])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(R){var M=this.state,P=M.formattedGraphicalItems,C=M.activeItem;if(P&&P.length)for(var A=0,O=P.length;A<O;A++){var N=P[A],F=N.props,V=N.item,$=V.type.defaultProps!==void 0?ae(ae({},V.type.defaultProps),V.props):V.props,L=Ji(V.type);if(L==="Bar"){var Z=(F.data||[]).find(function(Q){return pZ(R,Q)});if(Z)return{graphicalItem:N,payload:Z}}else if(L==="RadialBar"){var ee=(F.data||[]).find(function(Q){return IN(R,Q)});if(ee)return{graphicalItem:N,payload:ee}}else if(Km(N,C)||Ym(N,C)||Sf(N,C)){var oe=iee({graphicalItem:N,activeTooltipItem:C,itemData:$.data}),se=$.activeIndex===void 0?oe:$.activeIndex;return{graphicalItem:ae(ae({},N),{},{childIndex:se}),payload:Sf(N,C)?$.data[oe]:N.props.data[oe]}}}return null}},{key:"render",value:function(){var R=this;if(!FI(this))return null;var M=this.props,P=M.children,C=M.className,A=M.width,O=M.height,N=M.style,F=M.compact,V=M.title,$=M.desc,L=sR(M,mne),Z=it(L,!1);if(F)return K.createElement(z2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(Tb,_u({},Z,{width:A,height:O,title:V,desc:$}),this.renderClipPath(),UI(P,this.renderMap)));if(this.props.accessibilityLayer){var ee,oe;Z.tabIndex=(ee=this.props.tabIndex)!==null&&ee!==void 0?ee:0,Z.role=(oe=this.props.role)!==null&&oe!==void 0?oe:"application",Z.onKeyDown=function(Q){R.accessibilityManager.keyboardEvent(Q)},Z.onFocus=function(){R.accessibilityManager.focus()}}var se=this.parseEventsOfWrapper();return K.createElement(z2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",_u({className:at("recharts-wrapper",C),style:ae({position:"relative",cursor:"default",width:A,height:O},N)},se,{ref:function(ie){R.container=ie}}),K.createElement(Tb,_u({},Z,{width:A,height:O,title:V,desc:$,style:Nne}),this.renderClipPath(),UI(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(H.Component);De(S,"displayName",r),De(S,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),De(S,"getDerivedStateFromProps",function(b,k){var j=b.dataKey,R=b.data,M=b.children,P=b.width,C=b.height,A=b.layout,O=b.stackOffset,N=b.margin,F=k.dataStartIndex,V=k.dataEndIndex;if(k.updateId===void 0){var $=cR(b);return ae(ae(ae({},$),{},{updateId:0},_(ae(ae({props:b},$),{},{updateId:0}),k)),{},{prevDataKey:j,prevData:R,prevWidth:P,prevHeight:C,prevLayout:A,prevStackOffset:O,prevMargin:N,prevChildren:M})}if(j!==k.prevDataKey||R!==k.prevData||P!==k.prevWidth||C!==k.prevHeight||A!==k.prevLayout||O!==k.prevStackOffset||!Pu(N,k.prevMargin)){var L=cR(b),Z={chartX:k.chartX,chartY:k.chartY,isTooltipActive:k.isTooltipActive},ee=ae(ae({},lR(k,R,A)),{},{updateId:k.updateId+1}),oe=ae(ae(ae({},L),Z),ee);return ae(ae(ae({},oe),_(ae({props:b},oe),k)),{},{prevDataKey:j,prevData:R,prevWidth:P,prevHeight:C,prevLayout:A,prevStackOffset:O,prevMargin:N,prevChildren:M})}if(!wb(M,k.prevChildren)){var se,Q,ie,ne,q=an(M,Yu),G=q&&(se=(Q=q.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&se!==void 0?se:F,me=q&&(ie=(ne=q.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&ie!==void 0?ie:V,be=G!==F||me!==V,Oe=!ot(R),je=Oe&&!be?k.updateId:k.updateId+1;return ae(ae({updateId:je},_(ae(ae({props:b},k),{},{updateId:je,dataStartIndex:G,dataEndIndex:me}),k)),{},{prevChildren:M,dataStartIndex:G,dataEndIndex:me})}return null}),De(S,"renderActiveDot",function(b,k,j){var R;return H.isValidElement(b)?R=H.cloneElement(b,k):Ge(b)?R=b(k):R=K.createElement(JL,k),K.createElement(lr,{className:"recharts-active-dot",key:j},R)});var T=H.forwardRef(function(k,j){return K.createElement(S,_u({},k,{ref:j}))});return T.displayName=S.displayName,T},qne=Une({chartName:"BarChart",GraphicalChild:ta,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:tg},{axisType:"yAxis",AxisComp:rg}],formatAxisMap:ete});function zne({budget:t,currency:e}){const r=t.map(i=>({name:i.name,emoji:i.emoji,min:i.min||0,max:i.max||0,actual:i.actual||0})),n=({active:i,payload:a,label:s})=>!i||!(a!=null&&a.length)?null:v.jsxs("div",{className:"bg-bg-secondary border border-border rounded-[var(--radius-md)] p-3",children:[v.jsx("p",{className:"text-text-primary font-medium text-sm mb-1",children:s}),a.map((l,c)=>v.jsxs("p",{className:"text-xs",style:{color:l.color},children:[l.name,": ",sn(l.value,e)]},c))]});return v.jsx(FW,{width:"100%",height:280,children:v.jsxs(qne,{data:r,margin:{top:10,right:10,left:0,bottom:0},children:[v.jsx(P4,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),v.jsx(tg,{dataKey:"name",stroke:"var(--color-text-muted)",fontSize:11,tickLine:!1,axisLine:!1}),v.jsx(rg,{stroke:"var(--color-text-muted)",fontSize:11,tickLine:!1,axisLine:!1,tickFormatter:i=>sn(i,e)}),v.jsx(fi,{content:v.jsx(n,{})}),v.jsx(ta,{dataKey:"min",name:"Min Budget",fill:"#6A9BCC",opacity:.4,radius:[2,2,0,0]}),v.jsx(ta,{dataKey:"max",name:"Max Budget",fill:"#6A9BCC",opacity:.7,radius:[2,2,0,0]}),v.jsx(ta,{dataKey:"actual",name:"Actual Spent",radius:[4,4,0,0],children:r.map((i,a)=>v.jsx(J1,{fill:i.actual>i.max?"#C15F3C":"#D97757"},a))})]})})}function Wne({category:t,currency:e,travelers:r,perPerson:n}){const{dispatch:i}=rr(),a=n?Math.max(r,1):1,s=t.actual>t.max&&t.max>0;return v.jsxs(Lt,{className:"animate-fade-in",children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-xl",children:t.emoji}),v.jsx(vr,{value:t.name,onSave:l=>i({type:ye.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{name:l}}}),className:"font-medium text-text-primary text-sm"})]}),v.jsx("button",{onClick:()=>i({type:ye.DELETE_BUDGET_CATEGORY,payload:t.id}),className:"text-xs text-text-muted hover:text-danger transition-colors",children:""})]}),v.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-4 text-sm",children:[v.jsxs("div",{children:[v.jsx("span",{className:"text-text-muted text-xs block",children:"Min"}),v.jsx(vr,{value:t.min?String(Math.round(t.min/a)):"",onSave:l=>i({type:ye.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{min:(Number(l)||0)*a}}}),className:"text-text-primary font-mono text-xs",placeholder:"0"})]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-text-muted text-xs block",children:"Max"}),v.jsx(vr,{value:t.max?String(Math.round(t.max/a)):"",onSave:l=>i({type:ye.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{max:(Number(l)||0)*a}}}),className:"text-text-primary font-mono text-xs",placeholder:"0"})]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-text-muted text-xs block",children:"Actual"}),v.jsx(vr,{value:t.actual?String(Math.round(t.actual/a)):"",onSave:l=>i({type:ye.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{actual:(Number(l)||0)*a}}}),className:`font-mono text-xs ${s?"text-danger font-bold":"text-text-primary"}`,placeholder:"0"})]})]}),s&&v.jsxs("p",{className:"text-xs text-danger mt-2 font-medium",children:[" Over budget by ",sn(t.actual-t.max,e)]}),v.jsxs("div",{className:"mt-2 text-xs text-text-muted",children:["Range: ",sn(Math.round(t.min/a),e),"  ",sn(Math.round(t.max/a),e),n&&" per person"]})]})}function Hne({onAdd:t,onCancel:e,categories:r,currency:n}){var m;const[i,a]=H.useState(""),[s,l]=H.useState(""),[c,f]=H.useState(((m=r[0])==null?void 0:m.name)||""),h=y=>{y.preventDefault(),!(!i.trim()||!s)&&(t({description:i.trim(),amount:Number(s),category:c}),a(""),l(""))};return v.jsx(Lt,{children:v.jsxs("form",{onSubmit:h,className:"flex flex-wrap gap-2 items-end",children:[v.jsxs("div",{className:"flex-1 min-w-[160px]",children:[v.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Description"}),v.jsx("input",{value:i,onChange:y=>a(y.target.value),placeholder:"What did you spend on?",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0})]}),v.jsxs("div",{className:"w-28",children:[v.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Amount"}),v.jsx("input",{type:"number",value:s,onChange:y=>l(y.target.value),placeholder:"0",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Category"}),v.jsx("select",{value:c,onChange:y=>f(y.target.value),className:"px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",children:r.map(y=>v.jsxs("option",{value:y.name,children:[y.emoji," ",y.name]},y.id))})]}),v.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),v.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"})]})})}function Gne(){var m;const{activeTrip:t,dispatch:e}=rr(),[r,n]=H.useState(!1),[i,a]=H.useState(!1);if(!t)return null;const s=t,l=s.budget||[],c=s.currency||"PHP",f=H.useMemo(()=>({min:l.reduce((y,_)=>y+(_.min||0),0),max:l.reduce((y,_)=>y+(_.max||0),0),actual:l.reduce((y,_)=>y+(_.actual||0),0)}),[l]),h=r?Math.max(s.travelers,1):1;return v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsxs(Lt,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h2",{className:"font-heading text-lg text-text-primary",children:" Budget"}),v.jsx("button",{onClick:()=>n(!r),className:`px-3 py-1 text-xs rounded-[var(--radius-pill)] border transition-colors
              ${r?"bg-accent text-white border-accent":"border-border text-text-muted hover:text-text-secondary"}`,children:r?"Per Person":"Total"})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-5 text-center",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Min Estimate"}),v.jsx("p",{className:"font-heading text-xl text-text-primary mt-1",children:sn(Math.round(f.min/h),c)})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Max Estimate"}),v.jsx("p",{className:"font-heading text-xl text-text-primary mt-1",children:sn(Math.round(f.max/h),c)})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Spent"}),v.jsx("p",{className:`font-heading text-xl mt-1 ${f.actual>f.max&&f.max>0?"text-danger":"text-accent"}`,children:sn(Math.round(f.actual/h),c)})]})]}),r&&v.jsxs("p",{className:"text-xs text-text-muted text-center mt-2",children:["Showing per person (",s.travelers," travelers)"]})]}),l.length>0&&v.jsx(Lt,{children:v.jsx(zne,{budget:l,currency:c})}),v.jsx("div",{className:"grid sm:grid-cols-2 gap-5",children:l.map(y=>v.jsx(Wne,{category:y,currency:c,travelers:s.travelers,perPerson:r},y.id))}),v.jsx("button",{onClick:()=>e({type:ye.ADD_BUDGET_CATEGORY,payload:{name:"New Category",emoji:""}}),className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add budget category"}),v.jsxs(Lt,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("h3",{className:"font-heading text-sm text-text-primary",children:"Spending Log"}),v.jsx("button",{onClick:()=>a(!0),className:"text-xs text-accent hover:text-accent-hover",children:"+ Log expense"})]}),i&&v.jsx("div",{className:"mb-3",children:v.jsx(Hne,{categories:l,currency:c,onAdd:y=>{e({type:ye.ADD_SPENDING,payload:y}),a(!1)},onCancel:()=>a(!1)})}),((m=s.spendingLog)==null?void 0:m.length)>0?v.jsx("div",{className:"space-y-2",children:s.spendingLog.map(y=>v.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50 last:border-0 group",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-text-primary",children:y.description}),v.jsxs("p",{className:"text-xs text-text-muted",children:[y.date,"  ",y.category]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-sm font-mono text-text-primary",children:sn(y.amount,c)}),v.jsx("button",{onClick:()=>e({type:ye.DELETE_SPENDING,payload:y.id}),className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-xs transition-opacity",children:""})]})]},y.id))}):v.jsx("p",{className:"text-sm text-text-muted italic",children:"No expenses logged yet."})]})]})}const dR=["#D97757","#D4A72C","#788C5D","#6A9BCC","#C15F3C","#E07BA0"];function B4({trigger:t}){const[e,r]=H.useState([]);return H.useEffect(()=>{if(!t)return;const n=Array.from({length:30},(a,s)=>({id:Date.now()+s,left:Math.random()*100,color:dR[Math.floor(Math.random()*dR.length)],delay:Math.random()*.5,size:6+Math.random()*6,duration:2+Math.random()*1}));r(n);const i=setTimeout(()=>r([]),3500);return()=>clearTimeout(i)},[t]),e.length===0?null:v.jsx(v.Fragment,{children:e.map(n=>v.jsx("div",{className:"confetti-piece",style:{left:`${n.left}%`,backgroundColor:n.color,width:n.size,height:n.size,animationDelay:`${n.delay}s`,animationDuration:`${n.duration}s`}},n.id))})}function Kne({todo:t,onToggle:e,onUpdate:r,onDelete:n}){const[i,a]=H.useState(!1),[s,l]=H.useState(t.text),c=()=>{a(!1),s.trim()!==t.text&&r({text:s.trim()})};return v.jsxs("div",{className:`flex items-center gap-3 py-2.5 group transition-opacity ${t.done?"opacity-60":""}`,children:[v.jsx("button",{onClick:e,className:`flex-shrink-0 w-5 h-5 rounded-[var(--radius-sm)] border-2 transition-all flex items-center justify-center
          ${t.done?"bg-success border-success text-white animate-check-pop":"border-border-strong hover:border-accent"}`,children:t.done&&v.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:v.jsx("path",{d:"M2 6l3 3 5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[i?v.jsx("input",{value:s,onChange:f=>l(f.target.value),onBlur:c,onKeyDown:f=>{f.key==="Enter"&&c(),f.key==="Escape"&&(l(t.text),a(!1))},className:"w-full px-2 py-0.5 text-sm bg-bg-input border border-accent/30 rounded-[var(--radius-sm)] text-text-primary outline-none focus:border-accent",autoFocus:!0}):v.jsx("span",{onClick:()=>{l(t.text),a(!0)},className:`text-sm cursor-pointer hover:border-b hover:border-accent/30 transition-colors
              ${t.done?"line-through text-text-muted":"text-text-primary"}`,children:t.text}),v.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:t.dueDate&&v.jsx("span",{className:"text-xs text-text-muted",children:t.dueDate})})]}),t.priority==="high"&&v.jsx("span",{className:"flex-shrink-0 w-2 h-2 rounded-full bg-danger",title:"High priority"}),v.jsx("button",{onClick:n,className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-xs transition-opacity flex-shrink-0",children:""})]})}function Yne({category:t,onAdd:e}){const[r,n]=H.useState(""),[i,a]=H.useState(""),[s,l]=H.useState("normal"),[c,f]=H.useState(!1),h=m=>{m.preventDefault(),r.trim()&&(e({text:r.trim(),category:t,dueDate:i,priority:s}),n(""),a(""),l("normal"),f(!1))};return c?v.jsxs("form",{onSubmit:h,className:"flex gap-2 items-center py-1",children:[v.jsx("input",{value:r,onChange:m=>n(m.target.value),placeholder:"New task...",className:"flex-1 px-2 py-1 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0}),v.jsx("input",{type:"date",value:i,onChange:m=>a(m.target.value),className:"px-2 py-1 text-xs bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary"}),v.jsx("button",{type:"button",onClick:()=>l(m=>m==="high"?"normal":"high"),className:`text-xs px-2 py-1 rounded-[var(--radius-sm)] border transition-colors
          ${s==="high"?"border-danger text-danger bg-danger/10":"border-border text-text-muted"}`,title:"Toggle high priority",children:"!!"}),v.jsx("button",{type:"submit",className:"px-2 py-1 text-xs bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),v.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-xs text-text-muted",children:""})]}):v.jsx("button",{onClick:()=>f(!0),className:"text-xs text-accent hover:text-accent-hover transition-colors py-1",children:"+ Add task"})}function Xne(){const{activeTrip:t,dispatch:e,showToast:r}=rr(),[n,i]=H.useState("all"),[a,s]=H.useState(0);if(!t)return null;const c=t.todos||[],f=H.useMemo(()=>{const M=[...new Set(c.map(P=>P.category))];return B9.forEach(P=>{M.includes(P)||M.push(P)}),M},[c]),h=H.useMemo(()=>{switch(n){case"high":return c.filter(M=>M.priority==="high");case"incomplete":return c.filter(M=>!M.done);case"complete":return c.filter(M=>M.done);default:return c}},[c,n]),m=H.useMemo(()=>{const M={};return f.forEach(P=>{M[P]=[]}),h.forEach(P=>{const C=P.category||"Misc";M[C]||(M[C]=[]),M[C].push(P)}),M},[h,f]),y=c.filter(M=>M.done).length,_=c.length,S=H.useCallback(M=>{e({type:ye.TOGGLE_TODO,payload:M});const P=c.find(C=>C.id===M);P&&!P.done&&y+1===_&&(s(A=>A+1),r("You're all set! Have an amazing trip "))},[e,c,y,_,r]),[T,b]=H.useState(!1),[k,j]=H.useState(""),R=[{id:"all",label:`All (${_})`},{id:"high",label:"High Priority"},{id:"incomplete",label:`Incomplete (${_-y})`},{id:"complete",label:`Complete (${y})`}];return v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsx(B4,{trigger:a}),v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs("h2",{className:"font-heading text-lg text-text-primary",children:[" To-Do  ",y,"/",_," done"]})}),v.jsx("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide",children:R.map(M=>v.jsx("button",{onClick:()=>i(M.id),className:`px-3 py-1.5 text-xs font-medium rounded-[var(--radius-pill)] whitespace-nowrap transition-colors
              ${n===M.id?"bg-accent text-white":"bg-bg-secondary text-text-muted hover:text-text-secondary border border-border"}`,children:M.label},M.id))}),Object.entries(m).map(([M,P])=>{const C=P.filter(O=>O.done).length,A=P.length;return v.jsxs(Lt,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h3",{className:"font-heading text-sm font-semibold text-text-primary",children:M}),v.jsxs("span",{className:"text-xs text-text-muted",children:[C,"/",A]})]}),v.jsx("div",{className:"divide-y divide-border/30",children:P.map(O=>v.jsx(Kne,{todo:O,onToggle:()=>S(O.id),onUpdate:N=>e({type:ye.UPDATE_TODO,payload:{id:O.id,updates:N}}),onDelete:()=>e({type:ye.DELETE_TODO,payload:O.id})},O.id))}),v.jsx(Yne,{category:M,onAdd:O=>e({type:ye.ADD_TODO,payload:O})})]},M)}),T?v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{value:k,onChange:M=>j(M.target.value),placeholder:"Category name",className:"flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",autoFocus:!0,onKeyDown:M=>{M.key==="Enter"&&k.trim()&&(e({type:ye.ADD_TODO,payload:{text:"New task",category:k.trim()}}),j(""),b(!1))}}),v.jsx("button",{onClick:()=>b(!1),className:"text-sm text-text-muted",children:"Cancel"})]}):v.jsx("button",{onClick:()=>b(!0),className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add category"})]})}function Qne({city:t}){const{dispatch:e}=rr(),r=n=>{e({type:ye.UPDATE_CITY,payload:{id:t.id,updates:n}})};return v.jsxs(Lt,{className:"animate-fade-in-up",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx("span",{className:"text-4xl",children:t.flag}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-heading text-xl text-text-primary",children:t.city}),v.jsx("p",{className:"text-sm text-text-muted",children:t.country})]})]}),v.jsxs("div",{className:"space-y-5",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-1",children:" Highlights"}),v.jsx(vr,{value:t.highlights,onSave:n=>r({highlights:n}),className:"text-sm text-text-secondary",placeholder:"What makes this city special?"})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-1",children:" Must-Do"}),v.jsx(vr,{value:t.mustDo,onSave:n=>r({mustDo:n}),className:"text-sm text-text-secondary",placeholder:"Can't-miss activities"})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-1",children:" Weather"}),v.jsx(vr,{value:t.weather,onSave:n=>r({weather:n}),className:"text-sm text-text-secondary",placeholder:"Expected weather during your visit"})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-1",children:" Currency Tip"}),v.jsx(vr,{value:t.currencyTip,onSave:n=>r({currencyTip:n}),className:"text-sm text-text-secondary",placeholder:"Local currency and payment tips"})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-1",children:" Notes"}),v.jsx(vr,{value:t.notes,onSave:n=>r({notes:n}),className:"text-sm text-text-secondary",placeholder:"Your personal notes for this city...",multiline:!0})]})]})]})}function Jne(){const{activeTrip:t}=rr();if(!t)return null;const e=t.cities||[];return v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsxs("h2",{className:"font-heading text-lg text-text-primary",children:[" Cities  ",e.length," destinations"]}),e.length>0?v.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:e.map(r=>v.jsx(Qne,{city:r},r.id))}):v.jsxs(Lt,{className:"text-center py-12",children:[v.jsx("p",{className:"text-4xl mb-3",children:""}),v.jsx("p",{className:"text-text-muted",children:"No city guides yet."}),v.jsx("p",{className:"text-text-muted text-sm mt-1",children:"City info is auto-created when you set up your trip destinations."})]})]})}function Zne({item:t,onToggle:e,onDelete:r}){return v.jsxs("div",{className:"flex items-center gap-3 py-1.5 group",children:[v.jsx("button",{onClick:e,className:`flex-shrink-0 w-4.5 h-4.5 rounded border-2 transition-all flex items-center justify-center
          ${t.packed?"bg-success border-success text-white animate-check-pop":"border-border-strong hover:border-accent"}`,style:{width:18,height:18},children:t.packed&&v.jsx("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",children:v.jsx("path",{d:"M2 6l3 3 5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),v.jsx("span",{className:`flex-1 text-sm ${t.packed?"line-through text-text-muted":"text-text-primary"}`,children:t.name}),v.jsx("button",{onClick:r,className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-xs transition-opacity",children:""})]})}function eie({section:t,onAdd:e}){const[r,n]=H.useState(""),[i,a]=H.useState(!1);if(!i)return v.jsx("button",{onClick:()=>a(!0),className:"text-xs text-accent hover:text-accent-hover transition-colors mt-1",children:"+ Add item"});const s=l=>{l.preventDefault(),r.trim()&&(e({name:r.trim(),section:t}),n(""))};return v.jsxs("form",{onSubmit:s,className:"flex gap-2 mt-2",children:[v.jsx("input",{value:r,onChange:l=>n(l.target.value),placeholder:"Item name...",className:"flex-1 px-2 py-1 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0}),v.jsx("button",{type:"submit",className:"px-2 py-1 text-xs bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),v.jsx("button",{type:"button",onClick:()=>a(!1),className:"text-xs text-text-muted",children:""})]})}function tie(){const{activeTrip:t,dispatch:e,showToast:r}=rr(),[n,i]=H.useState(0),[a,s]=H.useState(!1),[l,c]=H.useState(!1),[f,h]=H.useState("");if(!t)return null;const y=t.packingList||[],_=y.filter(R=>R.packed).length,S=y.length,T=H.useMemo(()=>{const R=[...new Set(y.map(M=>M.section))];return IP.forEach(M=>{R.includes(M)||R.push(M)}),R},[y]),b=H.useMemo(()=>{const R={};return T.forEach(M=>{R[M]=[]}),y.forEach(M=>{const P=M.section||"Misc";R[P]||(R[P]=[]),R[P].push(M)}),R},[y,T]),k=H.useCallback(R=>{e({type:ye.TOGGLE_PACKING_ITEM,payload:R});const M=y.find(P=>P.id===R);M&&!M.packed&&_+1===S&&(i(C=>C+1),r("All packed! You're ready to go "))},[e,y,_,S,r]),j={Documents:"",Clothing:"",Tech:"","Concert Essentials":"",Toiletries:"",Misc:""};return v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsx(B4,{trigger:n}),v.jsx(DD,{isOpen:a,onClose:()=>s(!1),onConfirm:()=>{e({type:ye.RESET_PACKING}),r("Packing list reset")},title:"Reset Packing List?",message:"This will uncheck all packed items. Your items will not be removed.",confirmLabel:"Reset All",danger:!1}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("h2",{className:"font-heading text-lg text-text-primary",children:[" Packing  ",_,"/",S," packed"]}),S>0&&v.jsx("button",{onClick:()=>s(!0),className:"text-xs text-text-muted hover:text-danger transition-colors",children:"Reset all"})]}),v.jsx(yu,{value:_,max:S,colorClass:"bg-accent",height:"h-2.5"}),Object.entries(b).map(([R,M])=>{if(M.length===0&&!IP.includes(R))return null;const P=M.filter(A=>A.packed).length,C=j[R]||"";return v.jsxs(Lt,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("h3",{className:"font-heading text-sm font-semibold text-text-primary",children:[C," ",R]}),v.jsxs("span",{className:"text-xs text-text-muted",children:[P,"/",M.length]})]}),v.jsx("div",{className:"space-y-1",children:M.map(A=>v.jsx(Zne,{item:A,onToggle:()=>k(A.id),onDelete:()=>e({type:ye.DELETE_PACKING_ITEM,payload:A.id})},A.id))}),v.jsx(eie,{section:R,onAdd:A=>e({type:ye.ADD_PACKING_ITEM,payload:A})})]},R)}),l?v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{value:f,onChange:R=>h(R.target.value),placeholder:"Section name",className:"flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",autoFocus:!0,onKeyDown:R=>{R.key==="Enter"&&f.trim()&&(e({type:ye.ADD_PACKING_ITEM,payload:{name:"New item",section:f.trim()}}),h(""),c(!1))}}),v.jsx("button",{onClick:()=>c(!1),className:"text-sm text-text-muted",children:"Cancel"})]}):v.jsx("button",{onClick:()=>c(!0),className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add section"})]})}function rie({targetDate:t}){const e=O1(t);return e.expired?v.jsx("div",{className:"text-center py-4",children:v.jsx("p",{className:"text-3xl font-heading font-bold text-red-500",children:" IT'S SHOWTIME! "})}):v.jsxs("div",{className:"text-center py-6",children:[v.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-red-400 mb-4 font-semibold",children:"Countdown to showtime"}),v.jsx("div",{className:"flex justify-center gap-6",children:[{value:e.days,label:"Days"},{value:e.hours,label:"Hours"},{value:e.minutes,label:"Min"},{value:e.seconds,label:"Sec"}].map((r,n)=>v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:`text-4xl md:text-5xl font-heading font-bold text-white
              ${r.label==="Sec"?"animate-pulse":""}`,children:String(r.value).padStart(2,"0")}),v.jsx("div",{className:"text-xs text-red-400/70 uppercase tracking-wider mt-1",children:r.label})]},n))})]})}function nie(){var a,s,l,c,f,h;const{activeTrip:t}=rr();if(!t)return null;const e=t,r=(a=e.bookings)==null?void 0:a.find(m=>m.category==="concert");if(!r)return v.jsxs(Lt,{className:"text-center py-12",children:[v.jsx("p",{className:"text-4xl mb-3",children:""}),v.jsx("p",{className:"text-text-muted",children:"No concert or event bookings found."}),v.jsx("p",{className:"text-text-muted text-sm mt-1",children:'Add a booking with category "Concert" to unlock this tab.'})]});const n=(s=e.itinerary)==null?void 0:s.find(m=>{var y;return(y=m.activities)==null?void 0:y.some(_=>{var S,T;return((S=_.name)==null?void 0:S.toLowerCase().includes("concert"))||((T=_.name)==null?void 0:T.toLowerCase().includes("mcr"))||_.emoji===""||_.emoji===""})}),i=((l=r.name)==null?void 0:l.toLowerCase().includes("mcr"))||((c=r.name)==null?void 0:c.toLowerCase().includes("my chemical romance"))||((f=r.name)==null?void 0:f.toLowerCase().includes("chemical"));return v.jsx("div",{className:"concert-theme rounded-[var(--radius-xl)] overflow-hidden animate-fade-in",children:v.jsxs("div",{className:"bg-[#141413] rounded-[var(--radius-xl)] border border-[#2A2A28]",children:[v.jsxs("div",{className:"relative p-8 md:p-12 text-center overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-[#141413]"}),v.jsxs("div",{className:"relative z-10",children:[v.jsx("p",{className:"text-red-500 text-sm uppercase tracking-[0.3em] font-semibold mb-3",children:i?" THE BLACK PARADE ":" LIVE EVENT "}),v.jsx("h2",{className:"font-heading text-3xl md:text-4xl font-bold text-white mb-2",children:r.name}),n&&v.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:[up(n.date,"full"),"  Day ",n.dayNumber]})]})]}),v.jsx("div",{className:"px-6 md:px-12",children:v.jsx(rie,{targetDate:(n==null?void 0:n.date)||e.startDate})}),v.jsx("div",{className:"h-px bg-red-900/50 mx-8"}),v.jsxs("div",{className:"p-6 md:p-12 grid md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-1",children:"Venue"}),v.jsx("p",{className:"text-white font-medium",children:i?"Stadium Merdeka, Kuala Lumpur":"Check your booking details"})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-1",children:"Tickets"}),v.jsxs("p",{className:"text-white font-medium",children:[e.travelers," pax  ",r.status==="booked"?" Confirmed":" "+r.status.replace("_"," ")]}),r.confirmationNumber&&v.jsxs("p",{className:"text-gray-500 text-xs font-mono mt-1",children:["Ref: ",r.confirmationNumber]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-1",children:"Status"}),v.jsx("div",{className:`inline-flex px-3 py-1 rounded-[var(--radius-pill)] text-xs font-medium
                ${r.status==="booked"?"bg-green-900/30 text-green-400 border border-green-800/30":"bg-red-900/30 text-red-400 border border-red-800/30"}`,children:r.status==="booked"?" Booked":"Not yet booked"})]})]}),v.jsx("div",{className:"space-y-4",children:v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-2",children:" Concert Tips"}),v.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"text-red-500",children:""}),"Arrive early to get a good spot"]}),v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"text-red-500",children:""}),"Charge your phone to 100% before leaving"]}),v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"text-red-500",children:""}),"Wear comfortable shoes  you'll be standing"]}),v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"text-red-500",children:""}),"Bring earplugs to protect your hearing"]}),v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"text-red-500",children:""}),"Check the venue's bag policy before going"]}),v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"text-red-500",children:""}),"Stay hydrated  bring a sealed water bottle if allowed"]})]})]})})]}),n&&((h=n.activities)==null?void 0:h.length)>0&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"h-px bg-red-900/50 mx-8"}),v.jsxs("div",{className:"p-6 md:p-12",children:[v.jsxs("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-4",children:[" Day ",n.dayNumber," Schedule"]}),v.jsx("div",{className:"space-y-3",children:n.activities.map(m=>v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-sm font-mono text-gray-500 w-12",children:m.time||"--:--"}),v.jsx("span",{className:"text-lg",children:m.emoji}),v.jsxs("div",{children:[v.jsx("p",{className:"text-white text-sm font-medium",children:m.name}),m.notes&&v.jsx("p",{className:"text-gray-500 text-xs",children:m.notes})]})]},m.id))})]})]}),v.jsx("div",{className:"h-1 bg-[#141413]"})]})})}function iie({activeTab:t}){switch(t){case"overview":return v.jsx(kP,{});case"itinerary":return v.jsx(tq,{});case"bookings":return v.jsx(aq,{});case"budget":return v.jsx(Gne,{});case"todo":return v.jsx(Xne,{});case"cities":return v.jsx(Jne,{});case"packing":return v.jsx(tie,{});case"concert":return v.jsx(nie,{});default:return v.jsx(kP,{})}}function aie({onNewTrip:t}){return v.jsx("div",{className:"flex-1 flex items-center justify-center p-8 animate-fade-in-up",children:v.jsxs("div",{className:"text-center max-w-sm",children:[v.jsx("div",{className:"text-7xl mb-6 animate-pulse-warm",children:""}),v.jsx("h2",{className:"font-heading text-2xl font-bold text-text-primary mb-3",children:"No trips yet"}),v.jsx("p",{className:"text-text-muted text-sm leading-relaxed mb-8",children:"Every great adventure starts with a plan. Create your first trip and let Wanderplan help you make it unforgettable."}),v.jsxs("button",{onClick:t,className:`inline-flex items-center gap-2 px-6 py-3
                     bg-accent hover:bg-accent-hover text-text-inverse
                     font-semibold text-sm rounded-[var(--radius-md)]
                     transition-all duration-200 active:scale-[0.98]`,children:[v.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),v.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Plan Your First Trip"]})]})})}function oie({onClick:t}){return v.jsx("button",{onClick:t,className:`fixed top-4 left-4 z-30 p-2.5
                 bg-bg-secondary border border-border
                 rounded-[var(--radius-md)]
                 text-text-secondary hover:text-text-primary
                 transition-colors duration-150
                 md:hidden`,"aria-label":"Open sidebar",children:v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),v.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),v.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})}function U4({message:t="Loading"}){return v.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-4xl mb-4 animate-pulse-warm",children:""}),v.jsx("p",{className:"text-text-muted text-sm animate-pulse",children:t})]})})}function sie({signOutUser:t}){const{state:e,dispatch:r,activeTrip:n,sortedTrips:i,showToast:a,firestoreLoading:s}=I9(),l=O9("(max-width: 767px)"),[c,f]=H.useState(!1),h=H.useCallback(()=>{f(!0),l&&r({type:ye.SET_SIDEBAR,payload:!1})},[l,r]),m=H.useCallback(()=>f(!1),[]),y=H.useCallback(()=>r({type:ye.SET_SIDEBAR,payload:!0}),[r]),_=e.activeTab==="concert";return s?v.jsx(U4,{message:"Loading your trips"}):v.jsx(hR.Provider,{value:{state:e,dispatch:r,activeTrip:n,sortedTrips:i,showToast:a,signOutUser:t},children:v.jsxs("div",{className:"flex h-screen overflow-hidden bg-bg-primary text-text-secondary",children:[v.jsx(V9,{isMobile:l,isOpen:e.sidebarOpen,onNewTrip:h}),l&&v.jsx(oie,{onClick:y}),v.jsx("main",{className:`
            flex-1 flex flex-col overflow-hidden bg-bg-primary
            ${_?"concert-theme":""}
            transition-colors duration-300
          `,children:n?v.jsxs(v.Fragment,{children:[v.jsx($9,{}),v.jsx(U9,{}),v.jsx("div",{id:`panel-${e.activeTab}`,role:"tabpanel",className:"flex-1 overflow-y-auto",children:v.jsx("div",{className:"px-8 py-7 max-w-4xl mx-auto",children:v.jsx(iie,{activeTab:e.activeTab})})})]}):v.jsx(aie,{onNewTrip:h})}),v.jsx(X9,{isOpen:c,onClose:m}),v.jsx(Q9,{message:e.toast.message,type:e.toast.type,visible:e.toast.visible})]})})}function uie(){const{user:t,authLoading:e,signInWithGoogle:r,signOutUser:n}=RD();return e?v.jsx(U4,{message:"Loading"}):t?["valentin.bonite@gmail.com","juliannsibi@gmail.com"].includes(t.email)?v.jsx(sie,{signOutUser:n}):v.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary",children:v.jsxs("div",{className:"text-center max-w-sm px-8",children:[v.jsx("div",{className:"text-5xl mb-5",children:""}),v.jsx("h2",{className:"font-heading text-xl font-bold text-text-primary mb-2",children:"Access restricted"}),v.jsxs("p",{className:"text-text-muted text-sm mb-6 leading-relaxed",children:["This app is private. You signed in as ",v.jsx("span",{className:"text-text-primary font-medium",children:t.email}),", which isn't on the access list."]}),v.jsx("button",{onClick:n,className:"text-sm text-accent hover:underline",children:"Sign out and try another account"})]})}):v.jsx(C9,{onSignIn:r})}iV.createRoot(document.getElementById("root")).render(v.jsx(K.StrictMode,{children:v.jsx(uie,{})}));
