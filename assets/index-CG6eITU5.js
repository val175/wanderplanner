(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ht(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jy={exports:{}},pc={},Ry={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JS;function d$(){if(JS)return He;JS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=p&&z[p]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function _(z,G,ge){this.props=z,this.context=G,this.refs=T,this.updater=ge||x}_.prototype.isReactComponent={},_.prototype.setState=function(z,G){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,G,"setState")},_.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function I(){}I.prototype=_.prototype;function R(z,G,ge){this.props=z,this.context=G,this.refs=T,this.updater=ge||x}var k=R.prototype=new I;k.constructor=R,S(k,_.prototype),k.isPureReactComponent=!0;var D=Array.isArray,O=Object.prototype.hasOwnProperty,j={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function P(z,G,ge){var _e,Ce={},Re=null,We=null;if(G!=null)for(_e in G.ref!==void 0&&(We=G.ref),G.key!==void 0&&(Re=""+G.key),G)O.call(G,_e)&&!A.hasOwnProperty(_e)&&(Ce[_e]=G[_e]);var Le=arguments.length-2;if(Le===1)Ce.children=ge;else if(1<Le){for(var he=Array(Le),Oe=0;Oe<Le;Oe++)he[Oe]=arguments[Oe+2];Ce.children=he}if(z&&z.defaultProps)for(_e in Le=z.defaultProps,Le)Ce[_e]===void 0&&(Ce[_e]=Le[_e]);return{$$typeof:t,type:z,key:Re,ref:We,props:Ce,_owner:j.current}}function N(z,G){return{$$typeof:t,type:z.type,key:G,ref:z.ref,props:z.props,_owner:z._owner}}function B(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function L(z){var G={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ge){return G[ge]})}var V=/\/+/g;function $(z,G){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):G.toString(36)}function Z(z,G,ge,_e,Ce){var Re=typeof z;(Re==="undefined"||Re==="boolean")&&(z=null);var We=!1;if(z===null)We=!0;else switch(Re){case"string":case"number":We=!0;break;case"object":switch(z.$$typeof){case t:case e:We=!0}}if(We)return We=z,Ce=Ce(We),z=_e===""?"."+$(We,0):_e,D(Ce)?(ge="",z!=null&&(ge=z.replace(V,"$&/")+"/"),Z(Ce,G,ge,"",function(Oe){return Oe})):Ce!=null&&(B(Ce)&&(Ce=N(Ce,ge+(!Ce.key||We&&We.key===Ce.key?"":(""+Ce.key).replace(V,"$&/")+"/")+z)),G.push(Ce)),1;if(We=0,_e=_e===""?".":_e+":",D(z))for(var Le=0;Le<z.length;Le++){Re=z[Le];var he=_e+$(Re,Le);We+=Z(Re,G,ge,he,Ce)}else if(he=v(z),typeof he=="function")for(z=he.call(z),Le=0;!(Re=z.next()).done;)Re=Re.value,he=_e+$(Re,Le++),We+=Z(Re,G,ge,he,Ce);else if(Re==="object")throw G=String(z),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return We}function ee(z,G,ge){if(z==null)return z;var _e=[],Ce=0;return Z(z,_e,"","",function(Re){return G.call(ge,Re,Ce++)}),_e}function ae(z){if(z._status===-1){var G=z._result;G=G(),G.then(function(ge){(z._status===0||z._status===-1)&&(z._status=1,z._result=ge)},function(ge){(z._status===0||z._status===-1)&&(z._status=2,z._result=ge)}),z._status===-1&&(z._status=0,z._result=G)}if(z._status===1)return z._result.default;throw z._result}var se={current:null},Q={transition:null},ie={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:Q,ReactCurrentOwner:j};function re(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:ee,forEach:function(z,G,ge){ee(z,function(){G.apply(this,arguments)},ge)},count:function(z){var G=0;return ee(z,function(){G++}),G},toArray:function(z){return ee(z,function(G){return G})||[]},only:function(z){if(!B(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},He.Component=_,He.Fragment=n,He.Profiler=i,He.PureComponent=R,He.StrictMode=r,He.Suspense=c,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,He.act=re,He.cloneElement=function(z,G,ge){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var _e=S({},z.props),Ce=z.key,Re=z.ref,We=z._owner;if(G!=null){if(G.ref!==void 0&&(Re=G.ref,We=j.current),G.key!==void 0&&(Ce=""+G.key),z.type&&z.type.defaultProps)var Le=z.type.defaultProps;for(he in G)O.call(G,he)&&!A.hasOwnProperty(he)&&(_e[he]=G[he]===void 0&&Le!==void 0?Le[he]:G[he])}var he=arguments.length-2;if(he===1)_e.children=ge;else if(1<he){Le=Array(he);for(var Oe=0;Oe<he;Oe++)Le[Oe]=arguments[Oe+2];_e.children=Le}return{$$typeof:t,type:z.type,key:Ce,ref:Re,props:_e,_owner:We}},He.createContext=function(z){return z={$$typeof:s,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},He.createElement=P,He.createFactory=function(z){var G=P.bind(null,z);return G.type=z,G},He.createRef=function(){return{current:null}},He.forwardRef=function(z){return{$$typeof:u,render:z}},He.isValidElement=B,He.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:ae}},He.memo=function(z,G){return{$$typeof:f,type:z,compare:G===void 0?null:G}},He.startTransition=function(z){var G=Q.transition;Q.transition={};try{z()}finally{Q.transition=G}},He.unstable_act=re,He.useCallback=function(z,G){return se.current.useCallback(z,G)},He.useContext=function(z){return se.current.useContext(z)},He.useDebugValue=function(){},He.useDeferredValue=function(z){return se.current.useDeferredValue(z)},He.useEffect=function(z,G){return se.current.useEffect(z,G)},He.useId=function(){return se.current.useId()},He.useImperativeHandle=function(z,G,ge){return se.current.useImperativeHandle(z,G,ge)},He.useInsertionEffect=function(z,G){return se.current.useInsertionEffect(z,G)},He.useLayoutEffect=function(z,G){return se.current.useLayoutEffect(z,G)},He.useMemo=function(z,G){return se.current.useMemo(z,G)},He.useReducer=function(z,G,ge){return se.current.useReducer(z,G,ge)},He.useRef=function(z){return se.current.useRef(z)},He.useState=function(z){return se.current.useState(z)},He.useSyncExternalStore=function(z,G,ge){return se.current.useSyncExternalStore(z,G,ge)},He.useTransition=function(){return se.current.useTransition()},He.version="18.3.1",He}var ZS;function Uw(){return ZS||(ZS=1,Ry.exports=d$()),Ry.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eA;function h$(){if(eA)return pc;eA=1;var t=Uw(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(u,c,f){var h,p={},v=null,x=null;f!==void 0&&(v=""+f),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(x=c.ref);for(h in c)r.call(c,h)&&!o.hasOwnProperty(h)&&(p[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:e,type:u,key:v,ref:x,props:p,_owner:i.current}}return pc.Fragment=n,pc.jsx=s,pc.jsxs=s,pc}var tA;function p$(){return tA||(tA=1,jy.exports=h$()),jy.exports}var g=p$(),q=Uw();const K=ht(q);var yh={},Dy={exports:{}},Un={},My={exports:{}},Ly={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nA;function m$(){return nA||(nA=1,(function(t){function e(Q,ie){var re=Q.length;Q.push(ie);e:for(;0<re;){var z=re-1>>>1,G=Q[z];if(0<i(G,ie))Q[z]=ie,Q[re]=G,re=z;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ie=Q[0],re=Q.pop();if(re!==ie){Q[0]=re;e:for(var z=0,G=Q.length,ge=G>>>1;z<ge;){var _e=2*(z+1)-1,Ce=Q[_e],Re=_e+1,We=Q[Re];if(0>i(Ce,re))Re<G&&0>i(We,Ce)?(Q[z]=We,Q[Re]=re,z=Re):(Q[z]=Ce,Q[_e]=re,z=_e);else if(Re<G&&0>i(We,re))Q[z]=We,Q[Re]=re,z=Re;else break e}}return ie}function i(Q,ie){var re=Q.sortIndex-ie.sortIndex;return re!==0?re:Q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,p=null,v=3,x=!1,S=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(Q){for(var ie=n(f);ie!==null;){if(ie.callback===null)r(f);else if(ie.startTime<=Q)r(f),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=n(f)}}function D(Q){if(T=!1,k(Q),!S)if(n(c)!==null)S=!0,ae(O);else{var ie=n(f);ie!==null&&se(D,ie.startTime-Q)}}function O(Q,ie){S=!1,T&&(T=!1,I(P),P=-1),x=!0;var re=v;try{for(k(ie),p=n(c);p!==null&&(!(p.expirationTime>ie)||Q&&!L());){var z=p.callback;if(typeof z=="function"){p.callback=null,v=p.priorityLevel;var G=z(p.expirationTime<=ie);ie=t.unstable_now(),typeof G=="function"?p.callback=G:p===n(c)&&r(c),k(ie)}else r(c);p=n(c)}if(p!==null)var ge=!0;else{var _e=n(f);_e!==null&&se(D,_e.startTime-ie),ge=!1}return ge}finally{p=null,v=re,x=!1}}var j=!1,A=null,P=-1,N=5,B=-1;function L(){return!(t.unstable_now()-B<N)}function V(){if(A!==null){var Q=t.unstable_now();B=Q;var ie=!0;try{ie=A(!0,Q)}finally{ie?$():(j=!1,A=null)}}else j=!1}var $;if(typeof R=="function")$=function(){R(V)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ee=Z.port2;Z.port1.onmessage=V,$=function(){ee.postMessage(null)}}else $=function(){_(V,0)};function ae(Q){A=Q,j||(j=!0,$())}function se(Q,ie){P=_(function(){Q(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,ae(O))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Q){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var re=v;v=ie;try{return Q()}finally{v=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var re=v;v=Q;try{return ie()}finally{v=re}},t.unstable_scheduleCallback=function(Q,ie,re){var z=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?z+re:z):re=z,Q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=re+G,Q={id:h++,callback:ie,priorityLevel:Q,startTime:re,expirationTime:G,sortIndex:-1},re>z?(Q.sortIndex=re,e(f,Q),n(c)===null&&Q===n(f)&&(T?(I(P),P=-1):T=!0,se(D,re-z))):(Q.sortIndex=G,e(c,Q),S||x||(S=!0,ae(O))),Q},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Q){var ie=v;return function(){var re=v;v=ie;try{return Q.apply(this,arguments)}finally{v=re}}}})(Ly)),Ly}var rA;function g$(){return rA||(rA=1,My.exports=m$()),My.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iA;function y$(){if(iA)return Un;iA=1;var t=Uw(),e=g$();function n(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(a,l){s(a,l),s(a+"Capture",l)}function s(a,l){for(i[a]=l,a=0;a<l.length;a++)r.add(l[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(a){return c.call(p,a)?!0:c.call(h,a)?!1:f.test(a)?p[a]=!0:(h[a]=!0,!1)}function x(a,l,d,y){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return y?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,l,d,y){if(l===null||typeof l>"u"||x(a,l,d,y))return!0;if(y)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function T(a,l,d,y,b,w,M){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=y,this.attributeNamespace=b,this.mustUseProperty=d,this.propertyName=a,this.type=l,this.sanitizeURL=w,this.removeEmptyString=M}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){_[a]=new T(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];_[l]=new T(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){_[a]=new T(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){_[a]=new T(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){_[a]=new T(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){_[a]=new T(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){_[a]=new T(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){_[a]=new T(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){_[a]=new T(a,5,!1,a.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function R(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(I,R);_[l]=new T(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(I,R);_[l]=new T(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(I,R);_[l]=new T(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){_[a]=new T(a,1,!1,a.toLowerCase(),null,!1,!1)}),_.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){_[a]=new T(a,1,!1,a.toLowerCase(),null,!0,!0)});function k(a,l,d,y){var b=_.hasOwnProperty(l)?_[l]:null;(b!==null?b.type!==0:y||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,d,b,y)&&(d=null),y||b===null?v(l)&&(d===null?a.removeAttribute(l):a.setAttribute(l,""+d)):b.mustUseProperty?a[b.propertyName]=d===null?b.type===3?!1:"":d:(l=b.attributeName,y=b.attributeNamespace,d===null?a.removeAttribute(l):(b=b.type,d=b===3||b===4&&d===!0?"":""+d,y?a.setAttributeNS(y,l,d):a.setAttribute(l,d))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),j=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ie(a){return a===null||typeof a!="object"?null:(a=Q&&a[Q]||a["@@iterator"],typeof a=="function"?a:null)}var re=Object.assign,z;function G(a){if(z===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);z=l&&l[1]||""}return`
`+z+a}var ge=!1;function _e(a,l){if(!a||ge)return"";ge=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(te){var y=te}Reflect.construct(a,[],l)}else{try{l.call()}catch(te){y=te}a.call(l.prototype)}else{try{throw Error()}catch(te){y=te}a()}}catch(te){if(te&&y&&typeof te.stack=="string"){for(var b=te.stack.split(`
`),w=y.stack.split(`
`),M=b.length-1,U=w.length-1;1<=M&&0<=U&&b[M]!==w[U];)U--;for(;1<=M&&0<=U;M--,U--)if(b[M]!==w[U]){if(M!==1||U!==1)do if(M--,U--,0>U||b[M]!==w[U]){var W=`
`+b[M].replace(" at new "," at ");return a.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",a.displayName)),W}while(1<=M&&0<=U);break}}}finally{ge=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?G(a):""}function Ce(a){switch(a.tag){case 5:return G(a.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return a=_e(a.type,!1),a;case 11:return a=_e(a.type.render,!1),a;case 1:return a=_e(a.type,!0),a;default:return""}}function Re(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case j:return"Portal";case N:return"Profiler";case P:return"StrictMode";case $:return"Suspense";case Z:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case L:return(a.displayName||"Context")+".Consumer";case B:return(a._context.displayName||"Context")+".Provider";case V:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ee:return l=a.displayName||null,l!==null?l:Re(a.type)||"Memo";case ae:l=a._payload,a=a._init;try{return Re(a(l))}catch{}}return null}function We(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(l);case 8:return l===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Le(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function he(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Oe(a){var l=he(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),y=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,w=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return b.call(this)},set:function(M){y=""+M,w.call(this,M)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return y},setValue:function(M){y=""+M},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Be(a){a._valueTracker||(a._valueTracker=Oe(a))}function ce(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),y="";return a&&(y=he(a)?a.checked?"true":"false":a.value),a=y,a!==d?(l.setValue(a),!0):!1}function rt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function ze(a,l){var d=l.checked;return re({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function Pt(a,l){var d=l.defaultValue==null?"":l.defaultValue,y=l.checked!=null?l.checked:l.defaultChecked;d=Le(l.value!=null?l.value:d),a._wrapperState={initialChecked:y,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function yt(a,l){l=l.checked,l!=null&&k(a,"checked",l,!1)}function Rt(a,l){yt(a,l);var d=Le(l.value),y=l.type;if(d!=null)y==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(y==="submit"||y==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?pt(a,l.type,d):l.hasOwnProperty("defaultValue")&&pt(a,l.type,Le(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function Mn(a,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var y=l.type;if(!(y!=="submit"&&y!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,d||l===a.value||(a.value=l),a.defaultValue=l}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function pt(a,l,d){(l!=="number"||rt(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var vt=Array.isArray;function Kt(a,l,d,y){if(a=a.options,l){l={};for(var b=0;b<d.length;b++)l["$"+d[b]]=!0;for(d=0;d<a.length;d++)b=l.hasOwnProperty("$"+a[d].value),a[d].selected!==b&&(a[d].selected=b),b&&y&&(a[d].defaultSelected=!0)}else{for(d=""+Le(d),l=null,b=0;b<a.length;b++){if(a[b].value===d){a[b].selected=!0,y&&(a[b].defaultSelected=!0);return}l!==null||a[b].disabled||(l=a[b])}l!==null&&(l.selected=!0)}}function Kn(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Ai(a,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(vt(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}a._wrapperState={initialValue:Le(d)}}function ga(a,l){var d=Le(l.value),y=Le(l.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),l.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),y!=null&&(a.defaultValue=""+y)}function Sr(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function Tu(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function As(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?Tu(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var mo,rd=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,y,b){MSApp.execUnsafeLocalFunction(function(){return a(l,d,y,b)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(mo=mo||document.createElement("div"),mo.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=mo.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function ya(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},id=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(a){id.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),go[l]=go[a]})});function yo(a,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||go.hasOwnProperty(a)&&go[a]?(""+l).trim():l+"px"}function Ps(a,l){a=a.style;for(var d in l)if(l.hasOwnProperty(d)){var y=d.indexOf("--")===0,b=yo(d,l[d],y);d==="float"&&(d="cssFloat"),y?a.setProperty(d,b):a[d]=b}}var Su=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ar(a,l){if(l){if(Su[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Is(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vo=null;function Cs(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Pi=null,Ii=null,Dt=null;function Au(a){if(a=Zu(a)){if(typeof Pi!="function")throw Error(n(280));var l=a.stateNode;l&&(l=kd(l),Pi(a.stateNode,a.type,l))}}function xo(a){Ii?Dt?Dt.push(a):Dt=[a]:Ii=a}function bo(){if(Ii){var a=Ii,l=Dt;if(Dt=Ii=null,Au(a),l)for(a=0;a<l.length;a++)Au(l[a])}}function od(a,l){return a(l)}function ad(){}var Hr=!1;function sd(a,l,d){if(Hr)return a(l,d);Hr=!0;try{return od(a,l,d)}finally{Hr=!1,(Ii!==null||Dt!==null)&&(ad(),bo())}}function va(a,l){var d=a.stateNode;if(d===null)return null;var y=kd(d);if(y===null)return null;d=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var _o=!1;if(u)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){_o=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{_o=!1}function ld(a,l,d,y,b,w,M,U,W){var te=Array.prototype.slice.call(arguments,3);try{l.apply(d,te)}catch(de){this.onError(de)}}var Ci=!1,Gr=null,Os=!1,lr=null,ud={onError:function(a){Ci=!0,Gr=a}};function cd(a,l,d,y,b,w,M,U,W){Ci=!1,Gr=null,ld.apply(ud,arguments)}function Pu(a,l,d,y,b,w,M,U,W){if(cd.apply(this,arguments),Ci){if(Ci){var te=Gr;Ci=!1,Gr=null}else throw Error(n(198));Os||(Os=!0,lr=te)}}function Pr(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function Iu(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function fd(a){if(Pr(a)!==a)throw Error(n(188))}function dd(a){var l=a.alternate;if(!l){if(l=Pr(a),l===null)throw Error(n(188));return l!==a?null:a}for(var d=a,y=l;;){var b=d.return;if(b===null)break;var w=b.alternate;if(w===null){if(y=b.return,y!==null){d=y;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===d)return fd(b),a;if(w===y)return fd(b),l;w=w.sibling}throw Error(n(188))}if(d.return!==y.return)d=b,y=w;else{for(var M=!1,U=b.child;U;){if(U===d){M=!0,d=b,y=w;break}if(U===y){M=!0,y=b,d=w;break}U=U.sibling}if(!M){for(U=w.child;U;){if(U===d){M=!0,d=w,y=b;break}if(U===y){M=!0,y=w,d=b;break}U=U.sibling}if(!M)throw Error(n(189))}}if(d.alternate!==y)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?a:l}function hd(a){return a=dd(a),a!==null?xa(a):null}function xa(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=xa(a);if(l!==null)return l;a=a.sibling}return null}var Cu=e.unstable_scheduleCallback,ks=e.unstable_cancelCallback,ba=e.unstable_shouldYield,Oi=e.unstable_requestPaint,_t=e.unstable_now,cg=e.unstable_getCurrentPriorityLevel,Ns=e.unstable_ImmediatePriority,Ou=e.unstable_UserBlockingPriority,_a=e.unstable_NormalPriority,ku=e.unstable_LowPriority,js=e.unstable_IdlePriority,wa=null,Yn=null;function pd(a){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(wa,a,void 0,(a.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:Ea,Kr=Math.log,ur=Math.LN2;function Ea(a){return a>>>=0,a===0?32:31-(Kr(a)/ur|0)|0}var Yr=64,Eo=4194304;function it(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function ki(a,l){var d=a.pendingLanes;if(d===0)return 0;var y=0,b=a.suspendedLanes,w=a.pingedLanes,M=d&268435455;if(M!==0){var U=M&~b;U!==0?y=it(U):(w&=M,w!==0&&(y=it(w)))}else M=d&~b,M!==0?y=it(M):w!==0&&(y=it(w));if(y===0)return 0;if(l!==0&&l!==y&&(l&b)===0&&(b=y&-y,w=l&-l,b>=w||b===16&&(w&4194240)!==0))return l;if((y&4)!==0&&(y|=d&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=y;0<l;)d=31-Xn(l),b=1<<d,y|=a[d],l&=~b;return y}function Ta(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sa(a,l){for(var d=a.suspendedLanes,y=a.pingedLanes,b=a.expirationTimes,w=a.pendingLanes;0<w;){var M=31-Xn(w),U=1<<M,W=b[M];W===-1?((U&d)===0||(U&y)!==0)&&(b[M]=Ta(U,l)):W<=l&&(a.expiredLanes|=U),w&=~U}}function Nu(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function ju(){var a=Yr;return Yr<<=1,(Yr&4194240)===0&&(Yr=64),a}function Ru(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Aa(a,l,d){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-Xn(l),a[l]=d}function fg(a,l){var d=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var y=a.eventTimes;for(a=a.expirationTimes;0<d;){var b=31-Xn(d),w=1<<b;l[b]=0,y[b]=-1,a[b]=-1,d&=~w}}function Du(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var y=31-Xn(d),b=1<<y;b&l|a[y]&l&&(a[y]|=l),d&=~b}}var Qe=0;function Xr(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Mu,Rs,Lu,$u,Vu,Qr=!1,Ds=[],Jr=null,Zr=null,dn=null,Pa=new Map,Ni=new Map,Qn=[],md="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function To(a,l){switch(a){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":Pa.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ni.delete(l.pointerId)}}function Ir(a,l,d,y,b,w){return a===null||a.nativeEvent!==w?(a={blockedOn:l,domEventName:d,eventSystemFlags:y,nativeEvent:w,targetContainers:[b]},l!==null&&(l=Zu(l),l!==null&&Rs(l)),a):(a.eventSystemFlags|=y,l=a.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),a)}function gd(a,l,d,y,b){switch(l){case"focusin":return Jr=Ir(Jr,a,l,d,y,b),!0;case"dragenter":return Zr=Ir(Zr,a,l,d,y,b),!0;case"mouseover":return dn=Ir(dn,a,l,d,y,b),!0;case"pointerover":var w=b.pointerId;return Pa.set(w,Ir(Pa.get(w)||null,a,l,d,y,b)),!0;case"gotpointercapture":return w=b.pointerId,Ni.set(w,Ir(Ni.get(w)||null,a,l,d,y,b)),!0}return!1}function Ms(a){var l=ka(a.target);if(l!==null){var d=Pr(l);if(d!==null){if(l=d.tag,l===13){if(l=Iu(d),l!==null){a.blockedOn=l,Vu(a.priority,function(){Lu(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function mt(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=Ls(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var y=new d.constructor(d.type,d);vo=y,d.target.dispatchEvent(y),vo=null}else return l=Zu(d),l!==null&&Rs(l),a.blockedOn=d,!1;l.shift()}return!0}function yd(a,l,d){mt(a)&&d.delete(l)}function dg(){Qr=!1,Jr!==null&&mt(Jr)&&(Jr=null),Zr!==null&&mt(Zr)&&(Zr=null),dn!==null&&mt(dn)&&(dn=null),Pa.forEach(yd),Ni.forEach(yd)}function So(a,l){a.blockedOn===l&&(a.blockedOn=null,Qr||(Qr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dg)))}function Ao(a){function l(b){return So(b,a)}if(0<Ds.length){So(Ds[0],a);for(var d=1;d<Ds.length;d++){var y=Ds[d];y.blockedOn===a&&(y.blockedOn=null)}}for(Jr!==null&&So(Jr,a),Zr!==null&&So(Zr,a),dn!==null&&So(dn,a),Pa.forEach(l),Ni.forEach(l),d=0;d<Qn.length;d++)y=Qn[d],y.blockedOn===a&&(y.blockedOn=null);for(;0<Qn.length&&(d=Qn[0],d.blockedOn===null);)Ms(d),d.blockedOn===null&&Qn.shift()}var ji=D.ReactCurrentBatchConfig,Ri=!0;function ei(a,l,d,y){var b=Qe,w=ji.transition;ji.transition=null;try{Qe=1,Bu(a,l,d,y)}finally{Qe=b,ji.transition=w}}function vd(a,l,d,y){var b=Qe,w=ji.transition;ji.transition=null;try{Qe=4,Bu(a,l,d,y)}finally{Qe=b,ji.transition=w}}function Bu(a,l,d,y){if(Ri){var b=Ls(a,l,d,y);if(b===null)Eg(a,l,y,ti,d),To(a,y);else if(gd(b,a,l,d,y))y.stopPropagation();else if(To(a,y),l&4&&-1<md.indexOf(a)){for(;b!==null;){var w=Zu(b);if(w!==null&&Mu(w),w=Ls(a,l,d,y),w===null&&Eg(a,l,y,ti,d),w===b)break;b=w}b!==null&&y.stopPropagation()}else Eg(a,l,y,null,d)}}var ti=null;function Ls(a,l,d,y){if(ti=null,a=Cs(y),a=ka(a),a!==null)if(l=Pr(a),l===null)a=null;else if(d=l.tag,d===13){if(a=Iu(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return ti=a,null}function $s(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cg()){case Ns:return 1;case Ou:return 4;case _a:case ku:return 16;case js:return 536870912;default:return 16}default:return 16}}var Jn=null,Vs=null,Di=null;function xd(){if(Di)return Di;var a,l=Vs,d=l.length,y,b="value"in Jn?Jn.value:Jn.textContent,w=b.length;for(a=0;a<d&&l[a]===b[a];a++);var M=d-a;for(y=1;y<=M&&l[d-y]===b[w-y];y++);return Di=b.slice(a,1<y?1-y:void 0)}function Ia(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function ni(){return!0}function Fu(){return!1}function _n(a){function l(d,y,b,w,M){this._reactName=d,this._targetInst=b,this.type=y,this.nativeEvent=w,this.target=M,this.currentTarget=null;for(var U in a)a.hasOwnProperty(U)&&(d=a[U],this[U]=d?d(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ni:Fu,this.isPropagationStopped=Fu,this}return re(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),l}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=_n(ri),Po=re({},ri,{view:0,detail:0}),Bs=_n(Po),Fs,Us,Zn,Oa=re({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ue,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Zn&&(Zn&&a.type==="mousemove"?(Fs=a.screenX-Zn.screenX,Us=a.screenY-Zn.screenY):Us=Fs=0,Zn=a),Fs)},movementY:function(a){return"movementY"in a?a.movementY:Us}}),Uu=_n(Oa),bd=re({},Oa,{dataTransfer:0}),_d=_n(bd),qs=re({},Po,{relatedTarget:0}),hn=_n(qs),wd=re({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Ed=_n(wd),Io=re({},ri,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),m=_n(Io),E=re({},ri,{data:0}),C=_n(E),F={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ve(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=ne[a])?!!l[a]:!1}function Ue(){return ve}var $t=re({},Po,{key:function(a){if(a.key){var l=F[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Ia(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?X[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ue,charCode:function(a){return a.type==="keypress"?Ia(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ia(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ft=_n($t),Ft=re({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),er=_n(Ft),Mi=re({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ue}),ii=_n(Mi),oi=re({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),zs=_n(oi),qu=re({},Oa,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),a3=_n(qu),s3=[9,13,27,32],hg=u&&"CompositionEvent"in window,zu=null;u&&"documentMode"in document&&(zu=document.documentMode);var l3=u&&"TextEvent"in window&&!zu,zE=u&&(!hg||zu&&8<zu&&11>=zu),WE=" ",HE=!1;function GE(a,l){switch(a){case"keyup":return s3.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KE(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ws=!1;function u3(a,l){switch(a){case"compositionend":return KE(l);case"keypress":return l.which!==32?null:(HE=!0,WE);case"textInput":return a=l.data,a===WE&&HE?null:a;default:return null}}function c3(a,l){if(Ws)return a==="compositionend"||!hg&&GE(a,l)?(a=xd(),Di=Vs=Jn=null,Ws=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return zE&&l.locale!=="ko"?null:l.data;default:return null}}var f3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YE(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!f3[a.type]:l==="textarea"}function XE(a,l,d,y){xo(y),l=Id(l,"onChange"),0<l.length&&(d=new Ca("onChange","change",null,d,y),a.push({event:d,listeners:l}))}var Wu=null,Hu=null;function d3(a){pT(a,0)}function Td(a){var l=Xs(a);if(ce(l))return a}function h3(a,l){if(a==="change")return l}var QE=!1;if(u){var pg;if(u){var mg="oninput"in document;if(!mg){var JE=document.createElement("div");JE.setAttribute("oninput","return;"),mg=typeof JE.oninput=="function"}pg=mg}else pg=!1;QE=pg&&(!document.documentMode||9<document.documentMode)}function ZE(){Wu&&(Wu.detachEvent("onpropertychange",eT),Hu=Wu=null)}function eT(a){if(a.propertyName==="value"&&Td(Hu)){var l=[];XE(l,Hu,a,Cs(a)),sd(d3,l)}}function p3(a,l,d){a==="focusin"?(ZE(),Wu=l,Hu=d,Wu.attachEvent("onpropertychange",eT)):a==="focusout"&&ZE()}function m3(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Td(Hu)}function g3(a,l){if(a==="click")return Td(l)}function y3(a,l){if(a==="input"||a==="change")return Td(l)}function v3(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Cr=typeof Object.is=="function"?Object.is:v3;function Gu(a,l){if(Cr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),y=Object.keys(l);if(d.length!==y.length)return!1;for(y=0;y<d.length;y++){var b=d[y];if(!c.call(l,b)||!Cr(a[b],l[b]))return!1}return!0}function tT(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function nT(a,l){var d=tT(a);a=0;for(var y;d;){if(d.nodeType===3){if(y=a+d.textContent.length,a<=l&&y>=l)return{node:d,offset:l-a};a=y}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=tT(d)}}function rT(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?rT(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function iT(){for(var a=window,l=rt();l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=rt(a.document)}return l}function gg(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function x3(a){var l=iT(),d=a.focusedElem,y=a.selectionRange;if(l!==d&&d&&d.ownerDocument&&rT(d.ownerDocument.documentElement,d)){if(y!==null&&gg(d)){if(l=y.start,a=y.end,a===void 0&&(a=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(a,d.value.length);else if(a=(l=d.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var b=d.textContent.length,w=Math.min(y.start,b);y=y.end===void 0?w:Math.min(y.end,b),!a.extend&&w>y&&(b=y,y=w,w=b),b=nT(d,w);var M=nT(d,y);b&&M&&(a.rangeCount!==1||a.anchorNode!==b.node||a.anchorOffset!==b.offset||a.focusNode!==M.node||a.focusOffset!==M.offset)&&(l=l.createRange(),l.setStart(b.node,b.offset),a.removeAllRanges(),w>y?(a.addRange(l),a.extend(M.node,M.offset)):(l.setEnd(M.node,M.offset),a.addRange(l)))}}for(l=[],a=d;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)a=l[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var b3=u&&"documentMode"in document&&11>=document.documentMode,Hs=null,yg=null,Ku=null,vg=!1;function oT(a,l,d){var y=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;vg||Hs==null||Hs!==rt(y)||(y=Hs,"selectionStart"in y&&gg(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Ku&&Gu(Ku,y)||(Ku=y,y=Id(yg,"onSelect"),0<y.length&&(l=new Ca("onSelect","select",null,l,d),a.push({event:l,listeners:y}),l.target=Hs)))}function Sd(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var Gs={animationend:Sd("Animation","AnimationEnd"),animationiteration:Sd("Animation","AnimationIteration"),animationstart:Sd("Animation","AnimationStart"),transitionend:Sd("Transition","TransitionEnd")},xg={},aT={};u&&(aT=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function Ad(a){if(xg[a])return xg[a];if(!Gs[a])return a;var l=Gs[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in aT)return xg[a]=l[d];return a}var sT=Ad("animationend"),lT=Ad("animationiteration"),uT=Ad("animationstart"),cT=Ad("transitionend"),fT=new Map,dT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(a,l){fT.set(a,l),o(l,[a])}for(var bg=0;bg<dT.length;bg++){var _g=dT[bg],_3=_g.toLowerCase(),w3=_g[0].toUpperCase()+_g.slice(1);Co(_3,"on"+w3)}Co(sT,"onAnimationEnd"),Co(lT,"onAnimationIteration"),Co(uT,"onAnimationStart"),Co("dblclick","onDoubleClick"),Co("focusin","onFocus"),Co("focusout","onBlur"),Co(cT,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yu));function hT(a,l,d){var y=a.type||"unknown-event";a.currentTarget=d,Pu(y,l,void 0,a),a.currentTarget=null}function pT(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var y=a[d],b=y.event;y=y.listeners;e:{var w=void 0;if(l)for(var M=y.length-1;0<=M;M--){var U=y[M],W=U.instance,te=U.currentTarget;if(U=U.listener,W!==w&&b.isPropagationStopped())break e;hT(b,U,te),w=W}else for(M=0;M<y.length;M++){if(U=y[M],W=U.instance,te=U.currentTarget,U=U.listener,W!==w&&b.isPropagationStopped())break e;hT(b,U,te),w=W}}}if(Os)throw a=lr,Os=!1,lr=null,a}function wt(a,l){var d=l[Cg];d===void 0&&(d=l[Cg]=new Set);var y=a+"__bubble";d.has(y)||(mT(l,a,2,!1),d.add(y))}function wg(a,l,d){var y=0;l&&(y|=4),mT(d,a,y,l)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function Xu(a){if(!a[Pd]){a[Pd]=!0,r.forEach(function(d){d!=="selectionchange"&&(E3.has(d)||wg(d,!1,a),wg(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Pd]||(l[Pd]=!0,wg("selectionchange",!1,l))}}function mT(a,l,d,y){switch($s(l)){case 1:var b=ei;break;case 4:b=vd;break;default:b=Bu}d=b.bind(null,l,d,a),b=void 0,!_o||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),y?b!==void 0?a.addEventListener(l,d,{capture:!0,passive:b}):a.addEventListener(l,d,!0):b!==void 0?a.addEventListener(l,d,{passive:b}):a.addEventListener(l,d,!1)}function Eg(a,l,d,y,b){var w=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var M=y.tag;if(M===3||M===4){var U=y.stateNode.containerInfo;if(U===b||U.nodeType===8&&U.parentNode===b)break;if(M===4)for(M=y.return;M!==null;){var W=M.tag;if((W===3||W===4)&&(W=M.stateNode.containerInfo,W===b||W.nodeType===8&&W.parentNode===b))return;M=M.return}for(;U!==null;){if(M=ka(U),M===null)return;if(W=M.tag,W===5||W===6){y=w=M;continue e}U=U.parentNode}}y=y.return}sd(function(){var te=w,de=Cs(d),me=[];e:{var ue=fT.get(a);if(ue!==void 0){var be=Ca,Se=a;switch(a){case"keypress":if(Ia(d)===0)break e;case"keydown":case"keyup":be=ft;break;case"focusin":Se="focus",be=hn;break;case"focusout":Se="blur",be=hn;break;case"beforeblur":case"afterblur":be=hn;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=_d;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=ii;break;case sT:case lT:case uT:be=Ed;break;case cT:be=zs;break;case"scroll":be=Bs;break;case"wheel":be=a3;break;case"copy":case"cut":case"paste":be=m;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=er}var Ae=(l&4)!==0,Vt=!Ae&&a==="scroll",Y=Ae?ue!==null?ue+"Capture":null:ue;Ae=[];for(var H=te,J;H!==null;){J=H;var ye=J.stateNode;if(J.tag===5&&ye!==null&&(J=ye,Y!==null&&(ye=va(H,Y),ye!=null&&Ae.push(Qu(H,ye,J)))),Vt)break;H=H.return}0<Ae.length&&(ue=new be(ue,Se,null,d,de),me.push({event:ue,listeners:Ae}))}}if((l&7)===0){e:{if(ue=a==="mouseover"||a==="pointerover",be=a==="mouseout"||a==="pointerout",ue&&d!==vo&&(Se=d.relatedTarget||d.fromElement)&&(ka(Se)||Se[Li]))break e;if((be||ue)&&(ue=de.window===de?de:(ue=de.ownerDocument)?ue.defaultView||ue.parentWindow:window,be?(Se=d.relatedTarget||d.toElement,be=te,Se=Se?ka(Se):null,Se!==null&&(Vt=Pr(Se),Se!==Vt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(be=null,Se=te),be!==Se)){if(Ae=Uu,ye="onMouseLeave",Y="onMouseEnter",H="mouse",(a==="pointerout"||a==="pointerover")&&(Ae=er,ye="onPointerLeave",Y="onPointerEnter",H="pointer"),Vt=be==null?ue:Xs(be),J=Se==null?ue:Xs(Se),ue=new Ae(ye,H+"leave",be,d,de),ue.target=Vt,ue.relatedTarget=J,ye=null,ka(de)===te&&(Ae=new Ae(Y,H+"enter",Se,d,de),Ae.target=J,Ae.relatedTarget=Vt,ye=Ae),Vt=ye,be&&Se)t:{for(Ae=be,Y=Se,H=0,J=Ae;J;J=Ks(J))H++;for(J=0,ye=Y;ye;ye=Ks(ye))J++;for(;0<H-J;)Ae=Ks(Ae),H--;for(;0<J-H;)Y=Ks(Y),J--;for(;H--;){if(Ae===Y||Y!==null&&Ae===Y.alternate)break t;Ae=Ks(Ae),Y=Ks(Y)}Ae=null}else Ae=null;be!==null&&gT(me,ue,be,Ae,!1),Se!==null&&Vt!==null&&gT(me,Vt,Se,Ae,!0)}}e:{if(ue=te?Xs(te):window,be=ue.nodeName&&ue.nodeName.toLowerCase(),be==="select"||be==="input"&&ue.type==="file")var Pe=h3;else if(YE(ue))if(QE)Pe=y3;else{Pe=m3;var Ne=p3}else(be=ue.nodeName)&&be.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Pe=g3);if(Pe&&(Pe=Pe(a,te))){XE(me,Pe,d,de);break e}Ne&&Ne(a,ue,te),a==="focusout"&&(Ne=ue._wrapperState)&&Ne.controlled&&ue.type==="number"&&pt(ue,"number",ue.value)}switch(Ne=te?Xs(te):window,a){case"focusin":(YE(Ne)||Ne.contentEditable==="true")&&(Hs=Ne,yg=te,Ku=null);break;case"focusout":Ku=yg=Hs=null;break;case"mousedown":vg=!0;break;case"contextmenu":case"mouseup":case"dragend":vg=!1,oT(me,d,de);break;case"selectionchange":if(b3)break;case"keydown":case"keyup":oT(me,d,de)}var je;if(hg)e:{switch(a){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Ws?GE(a,d)&&($e="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&($e="onCompositionStart");$e&&(zE&&d.locale!=="ko"&&(Ws||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Ws&&(je=xd()):(Jn=de,Vs="value"in Jn?Jn.value:Jn.textContent,Ws=!0)),Ne=Id(te,$e),0<Ne.length&&($e=new C($e,a,null,d,de),me.push({event:$e,listeners:Ne}),je?$e.data=je:(je=KE(d),je!==null&&($e.data=je)))),(je=l3?u3(a,d):c3(a,d))&&(te=Id(te,"onBeforeInput"),0<te.length&&(de=new C("onBeforeInput","beforeinput",null,d,de),me.push({event:de,listeners:te}),de.data=je))}pT(me,l)})}function Qu(a,l,d){return{instance:a,listener:l,currentTarget:d}}function Id(a,l){for(var d=l+"Capture",y=[];a!==null;){var b=a,w=b.stateNode;b.tag===5&&w!==null&&(b=w,w=va(a,d),w!=null&&y.unshift(Qu(a,w,b)),w=va(a,l),w!=null&&y.push(Qu(a,w,b))),a=a.return}return y}function Ks(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function gT(a,l,d,y,b){for(var w=l._reactName,M=[];d!==null&&d!==y;){var U=d,W=U.alternate,te=U.stateNode;if(W!==null&&W===y)break;U.tag===5&&te!==null&&(U=te,b?(W=va(d,w),W!=null&&M.unshift(Qu(d,W,U))):b||(W=va(d,w),W!=null&&M.push(Qu(d,W,U)))),d=d.return}M.length!==0&&a.push({event:l,listeners:M})}var T3=/\r\n?/g,S3=/\u0000|\uFFFD/g;function yT(a){return(typeof a=="string"?a:""+a).replace(T3,`
`).replace(S3,"")}function Cd(a,l,d){if(l=yT(l),yT(a)!==l&&d)throw Error(n(425))}function Od(){}var Tg=null,Sg=null;function Ag(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Pg=typeof setTimeout=="function"?setTimeout:void 0,A3=typeof clearTimeout=="function"?clearTimeout:void 0,vT=typeof Promise=="function"?Promise:void 0,P3=typeof queueMicrotask=="function"?queueMicrotask:typeof vT<"u"?function(a){return vT.resolve(null).then(a).catch(I3)}:Pg;function I3(a){setTimeout(function(){throw a})}function Ig(a,l){var d=l,y=0;do{var b=d.nextSibling;if(a.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"){if(y===0){a.removeChild(b),Ao(l);return}y--}else d!=="$"&&d!=="$?"&&d!=="$!"||y++;d=b}while(d);Ao(l)}function Oo(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function xT(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}var Ys=Math.random().toString(36).slice(2),ai="__reactFiber$"+Ys,Ju="__reactProps$"+Ys,Li="__reactContainer$"+Ys,Cg="__reactEvents$"+Ys,C3="__reactListeners$"+Ys,O3="__reactHandles$"+Ys;function ka(a){var l=a[ai];if(l)return l;for(var d=a.parentNode;d;){if(l=d[Li]||d[ai]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=xT(a);a!==null;){if(d=a[ai])return d;a=xT(a)}return l}a=d,d=a.parentNode}return null}function Zu(a){return a=a[ai]||a[Li],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Xs(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function kd(a){return a[Ju]||null}var Og=[],Qs=-1;function ko(a){return{current:a}}function Et(a){0>Qs||(a.current=Og[Qs],Og[Qs]=null,Qs--)}function xt(a,l){Qs++,Og[Qs]=a.current,a.current=l}var No={},wn=ko(No),Ln=ko(!1),Na=No;function Js(a,l){var d=a.type.contextTypes;if(!d)return No;var y=a.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===l)return y.__reactInternalMemoizedMaskedChildContext;var b={},w;for(w in d)b[w]=l[w];return y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=b),b}function $n(a){return a=a.childContextTypes,a!=null}function Nd(){Et(Ln),Et(wn)}function bT(a,l,d){if(wn.current!==No)throw Error(n(168));xt(wn,l),xt(Ln,d)}function _T(a,l,d){var y=a.stateNode;if(l=l.childContextTypes,typeof y.getChildContext!="function")return d;y=y.getChildContext();for(var b in y)if(!(b in l))throw Error(n(108,We(a)||"Unknown",b));return re({},d,y)}function jd(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||No,Na=wn.current,xt(wn,a),xt(Ln,Ln.current),!0}function wT(a,l,d){var y=a.stateNode;if(!y)throw Error(n(169));d?(a=_T(a,l,Na),y.__reactInternalMemoizedMergedChildContext=a,Et(Ln),Et(wn),xt(wn,a)):Et(Ln),xt(Ln,d)}var $i=null,Rd=!1,kg=!1;function ET(a){$i===null?$i=[a]:$i.push(a)}function k3(a){Rd=!0,ET(a)}function jo(){if(!kg&&$i!==null){kg=!0;var a=0,l=Qe;try{var d=$i;for(Qe=1;a<d.length;a++){var y=d[a];do y=y(!0);while(y!==null)}$i=null,Rd=!1}catch(b){throw $i!==null&&($i=$i.slice(a+1)),Cu(Ns,jo),b}finally{Qe=l,kg=!1}}return null}var Zs=[],el=0,Dd=null,Md=0,cr=[],fr=0,ja=null,Vi=1,Bi="";function Ra(a,l){Zs[el++]=Md,Zs[el++]=Dd,Dd=a,Md=l}function TT(a,l,d){cr[fr++]=Vi,cr[fr++]=Bi,cr[fr++]=ja,ja=a;var y=Vi;a=Bi;var b=32-Xn(y)-1;y&=~(1<<b),d+=1;var w=32-Xn(l)+b;if(30<w){var M=b-b%5;w=(y&(1<<M)-1).toString(32),y>>=M,b-=M,Vi=1<<32-Xn(l)+b|d<<b|y,Bi=w+a}else Vi=1<<w|d<<b|y,Bi=a}function Ng(a){a.return!==null&&(Ra(a,1),TT(a,1,0))}function jg(a){for(;a===Dd;)Dd=Zs[--el],Zs[el]=null,Md=Zs[--el],Zs[el]=null;for(;a===ja;)ja=cr[--fr],cr[fr]=null,Bi=cr[--fr],cr[fr]=null,Vi=cr[--fr],cr[fr]=null}var tr=null,nr=null,It=!1,Or=null;function ST(a,l){var d=mr(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=a,l=a.deletions,l===null?(a.deletions=[d],a.flags|=16):l.push(d)}function AT(a,l){switch(a.tag){case 5:var d=a.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,tr=a,nr=Oo(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,tr=a,nr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=ja!==null?{id:Vi,overflow:Bi}:null,a.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=mr(18,null,null,0),d.stateNode=l,d.return=a,a.child=d,tr=a,nr=null,!0):!1;default:return!1}}function Rg(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Dg(a){if(It){var l=nr;if(l){var d=l;if(!AT(a,l)){if(Rg(a))throw Error(n(418));l=Oo(d.nextSibling);var y=tr;l&&AT(a,l)?ST(y,d):(a.flags=a.flags&-4097|2,It=!1,tr=a)}}else{if(Rg(a))throw Error(n(418));a.flags=a.flags&-4097|2,It=!1,tr=a}}}function PT(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;tr=a}function Ld(a){if(a!==tr)return!1;if(!It)return PT(a),It=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!Ag(a.type,a.memoizedProps)),l&&(l=nr)){if(Rg(a))throw IT(),Error(n(418));for(;l;)ST(a,l),l=Oo(l.nextSibling)}if(PT(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(l===0){nr=Oo(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}a=a.nextSibling}nr=null}}else nr=tr?Oo(a.stateNode.nextSibling):null;return!0}function IT(){for(var a=nr;a;)a=Oo(a.nextSibling)}function tl(){nr=tr=null,It=!1}function Mg(a){Or===null?Or=[a]:Or.push(a)}var N3=D.ReactCurrentBatchConfig;function ec(a,l,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var y=d.stateNode}if(!y)throw Error(n(147,a));var b=y,w=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(M){var U=b.refs;M===null?delete U[w]:U[w]=M},l._stringRef=w,l)}if(typeof a!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,a))}return a}function $d(a,l){throw a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function CT(a){var l=a._init;return l(a._payload)}function OT(a){function l(Y,H){if(a){var J=Y.deletions;J===null?(Y.deletions=[H],Y.flags|=16):J.push(H)}}function d(Y,H){if(!a)return null;for(;H!==null;)l(Y,H),H=H.sibling;return null}function y(Y,H){for(Y=new Map;H!==null;)H.key!==null?Y.set(H.key,H):Y.set(H.index,H),H=H.sibling;return Y}function b(Y,H){return Y=Fo(Y,H),Y.index=0,Y.sibling=null,Y}function w(Y,H,J){return Y.index=J,a?(J=Y.alternate,J!==null?(J=J.index,J<H?(Y.flags|=2,H):J):(Y.flags|=2,H)):(Y.flags|=1048576,H)}function M(Y){return a&&Y.alternate===null&&(Y.flags|=2),Y}function U(Y,H,J,ye){return H===null||H.tag!==6?(H=Py(J,Y.mode,ye),H.return=Y,H):(H=b(H,J),H.return=Y,H)}function W(Y,H,J,ye){var Pe=J.type;return Pe===A?de(Y,H,J.props.children,ye,J.key):H!==null&&(H.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===ae&&CT(Pe)===H.type)?(ye=b(H,J.props),ye.ref=ec(Y,H,J),ye.return=Y,ye):(ye=lh(J.type,J.key,J.props,null,Y.mode,ye),ye.ref=ec(Y,H,J),ye.return=Y,ye)}function te(Y,H,J,ye){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=Iy(J,Y.mode,ye),H.return=Y,H):(H=b(H,J.children||[]),H.return=Y,H)}function de(Y,H,J,ye,Pe){return H===null||H.tag!==7?(H=Ua(J,Y.mode,ye,Pe),H.return=Y,H):(H=b(H,J),H.return=Y,H)}function me(Y,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Py(""+H,Y.mode,J),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case O:return J=lh(H.type,H.key,H.props,null,Y.mode,J),J.ref=ec(Y,null,H),J.return=Y,J;case j:return H=Iy(H,Y.mode,J),H.return=Y,H;case ae:var ye=H._init;return me(Y,ye(H._payload),J)}if(vt(H)||ie(H))return H=Ua(H,Y.mode,J,null),H.return=Y,H;$d(Y,H)}return null}function ue(Y,H,J,ye){var Pe=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Pe!==null?null:U(Y,H,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case O:return J.key===Pe?W(Y,H,J,ye):null;case j:return J.key===Pe?te(Y,H,J,ye):null;case ae:return Pe=J._init,ue(Y,H,Pe(J._payload),ye)}if(vt(J)||ie(J))return Pe!==null?null:de(Y,H,J,ye,null);$d(Y,J)}return null}function be(Y,H,J,ye,Pe){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return Y=Y.get(J)||null,U(H,Y,""+ye,Pe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case O:return Y=Y.get(ye.key===null?J:ye.key)||null,W(H,Y,ye,Pe);case j:return Y=Y.get(ye.key===null?J:ye.key)||null,te(H,Y,ye,Pe);case ae:var Ne=ye._init;return be(Y,H,J,Ne(ye._payload),Pe)}if(vt(ye)||ie(ye))return Y=Y.get(J)||null,de(H,Y,ye,Pe,null);$d(H,ye)}return null}function Se(Y,H,J,ye){for(var Pe=null,Ne=null,je=H,$e=H=0,sn=null;je!==null&&$e<J.length;$e++){je.index>$e?(sn=je,je=null):sn=je.sibling;var et=ue(Y,je,J[$e],ye);if(et===null){je===null&&(je=sn);break}a&&je&&et.alternate===null&&l(Y,je),H=w(et,H,$e),Ne===null?Pe=et:Ne.sibling=et,Ne=et,je=sn}if($e===J.length)return d(Y,je),It&&Ra(Y,$e),Pe;if(je===null){for(;$e<J.length;$e++)je=me(Y,J[$e],ye),je!==null&&(H=w(je,H,$e),Ne===null?Pe=je:Ne.sibling=je,Ne=je);return It&&Ra(Y,$e),Pe}for(je=y(Y,je);$e<J.length;$e++)sn=be(je,Y,$e,J[$e],ye),sn!==null&&(a&&sn.alternate!==null&&je.delete(sn.key===null?$e:sn.key),H=w(sn,H,$e),Ne===null?Pe=sn:Ne.sibling=sn,Ne=sn);return a&&je.forEach(function(Uo){return l(Y,Uo)}),It&&Ra(Y,$e),Pe}function Ae(Y,H,J,ye){var Pe=ie(J);if(typeof Pe!="function")throw Error(n(150));if(J=Pe.call(J),J==null)throw Error(n(151));for(var Ne=Pe=null,je=H,$e=H=0,sn=null,et=J.next();je!==null&&!et.done;$e++,et=J.next()){je.index>$e?(sn=je,je=null):sn=je.sibling;var Uo=ue(Y,je,et.value,ye);if(Uo===null){je===null&&(je=sn);break}a&&je&&Uo.alternate===null&&l(Y,je),H=w(Uo,H,$e),Ne===null?Pe=Uo:Ne.sibling=Uo,Ne=Uo,je=sn}if(et.done)return d(Y,je),It&&Ra(Y,$e),Pe;if(je===null){for(;!et.done;$e++,et=J.next())et=me(Y,et.value,ye),et!==null&&(H=w(et,H,$e),Ne===null?Pe=et:Ne.sibling=et,Ne=et);return It&&Ra(Y,$e),Pe}for(je=y(Y,je);!et.done;$e++,et=J.next())et=be(je,Y,$e,et.value,ye),et!==null&&(a&&et.alternate!==null&&je.delete(et.key===null?$e:et.key),H=w(et,H,$e),Ne===null?Pe=et:Ne.sibling=et,Ne=et);return a&&je.forEach(function(f$){return l(Y,f$)}),It&&Ra(Y,$e),Pe}function Vt(Y,H,J,ye){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case O:e:{for(var Pe=J.key,Ne=H;Ne!==null;){if(Ne.key===Pe){if(Pe=J.type,Pe===A){if(Ne.tag===7){d(Y,Ne.sibling),H=b(Ne,J.props.children),H.return=Y,Y=H;break e}}else if(Ne.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===ae&&CT(Pe)===Ne.type){d(Y,Ne.sibling),H=b(Ne,J.props),H.ref=ec(Y,Ne,J),H.return=Y,Y=H;break e}d(Y,Ne);break}else l(Y,Ne);Ne=Ne.sibling}J.type===A?(H=Ua(J.props.children,Y.mode,ye,J.key),H.return=Y,Y=H):(ye=lh(J.type,J.key,J.props,null,Y.mode,ye),ye.ref=ec(Y,H,J),ye.return=Y,Y=ye)}return M(Y);case j:e:{for(Ne=J.key;H!==null;){if(H.key===Ne)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){d(Y,H.sibling),H=b(H,J.children||[]),H.return=Y,Y=H;break e}else{d(Y,H);break}else l(Y,H);H=H.sibling}H=Iy(J,Y.mode,ye),H.return=Y,Y=H}return M(Y);case ae:return Ne=J._init,Vt(Y,H,Ne(J._payload),ye)}if(vt(J))return Se(Y,H,J,ye);if(ie(J))return Ae(Y,H,J,ye);$d(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(d(Y,H.sibling),H=b(H,J),H.return=Y,Y=H):(d(Y,H),H=Py(J,Y.mode,ye),H.return=Y,Y=H),M(Y)):d(Y,H)}return Vt}var nl=OT(!0),kT=OT(!1),Vd=ko(null),Bd=null,rl=null,Lg=null;function $g(){Lg=rl=Bd=null}function Vg(a){var l=Vd.current;Et(Vd),a._currentValue=l}function Bg(a,l,d){for(;a!==null;){var y=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),a===d)break;a=a.return}}function il(a,l){Bd=a,Lg=rl=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(Vn=!0),a.firstContext=null)}function dr(a){var l=a._currentValue;if(Lg!==a)if(a={context:a,memoizedValue:l,next:null},rl===null){if(Bd===null)throw Error(n(308));rl=a,Bd.dependencies={lanes:0,firstContext:a}}else rl=rl.next=a;return l}var Da=null;function Fg(a){Da===null?Da=[a]:Da.push(a)}function NT(a,l,d,y){var b=l.interleaved;return b===null?(d.next=d,Fg(l)):(d.next=b.next,b.next=d),l.interleaved=d,Fi(a,y)}function Fi(a,l){a.lanes|=l;var d=a.alternate;for(d!==null&&(d.lanes|=l),d=a,a=a.return;a!==null;)a.childLanes|=l,d=a.alternate,d!==null&&(d.childLanes|=l),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Ro=!1;function Ug(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jT(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ui(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Do(a,l,d){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(Ze&2)!==0){var b=y.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),y.pending=l,Fi(a,d)}return b=y.interleaved,b===null?(l.next=l,Fg(y)):(l.next=b.next,b.next=l),y.interleaved=l,Fi(a,d)}function Fd(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var y=l.lanes;y&=a.pendingLanes,d|=y,l.lanes=d,Du(a,d)}}function RT(a,l){var d=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,d===y)){var b=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var M={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?b=w=M:w=w.next=M,d=d.next}while(d!==null);w===null?b=w=l:w=w.next=l}else b=w=l;d={baseState:y.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:y.shared,effects:y.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}function Ud(a,l,d,y){var b=a.updateQueue;Ro=!1;var w=b.firstBaseUpdate,M=b.lastBaseUpdate,U=b.shared.pending;if(U!==null){b.shared.pending=null;var W=U,te=W.next;W.next=null,M===null?w=te:M.next=te,M=W;var de=a.alternate;de!==null&&(de=de.updateQueue,U=de.lastBaseUpdate,U!==M&&(U===null?de.firstBaseUpdate=te:U.next=te,de.lastBaseUpdate=W))}if(w!==null){var me=b.baseState;M=0,de=te=W=null,U=w;do{var ue=U.lane,be=U.eventTime;if((y&ue)===ue){de!==null&&(de=de.next={eventTime:be,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Se=a,Ae=U;switch(ue=l,be=d,Ae.tag){case 1:if(Se=Ae.payload,typeof Se=="function"){me=Se.call(be,me,ue);break e}me=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ae.payload,ue=typeof Se=="function"?Se.call(be,me,ue):Se,ue==null)break e;me=re({},me,ue);break e;case 2:Ro=!0}}U.callback!==null&&U.lane!==0&&(a.flags|=64,ue=b.effects,ue===null?b.effects=[U]:ue.push(U))}else be={eventTime:be,lane:ue,tag:U.tag,payload:U.payload,callback:U.callback,next:null},de===null?(te=de=be,W=me):de=de.next=be,M|=ue;if(U=U.next,U===null){if(U=b.shared.pending,U===null)break;ue=U,U=ue.next,ue.next=null,b.lastBaseUpdate=ue,b.shared.pending=null}}while(!0);if(de===null&&(W=me),b.baseState=W,b.firstBaseUpdate=te,b.lastBaseUpdate=de,l=b.shared.interleaved,l!==null){b=l;do M|=b.lane,b=b.next;while(b!==l)}else w===null&&(b.shared.lanes=0);$a|=M,a.lanes=M,a.memoizedState=me}}function DT(a,l,d){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var y=a[l],b=y.callback;if(b!==null){if(y.callback=null,y=d,typeof b!="function")throw Error(n(191,b));b.call(y)}}}var tc={},si=ko(tc),nc=ko(tc),rc=ko(tc);function Ma(a){if(a===tc)throw Error(n(174));return a}function qg(a,l){switch(xt(rc,l),xt(nc,a),xt(si,tc),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:As(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=As(l,a)}Et(si),xt(si,l)}function ol(){Et(si),Et(nc),Et(rc)}function MT(a){Ma(rc.current);var l=Ma(si.current),d=As(l,a.type);l!==d&&(xt(nc,a),xt(si,d))}function zg(a){nc.current===a&&(Et(si),Et(nc))}var kt=ko(0);function qd(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Wg=[];function Hg(){for(var a=0;a<Wg.length;a++)Wg[a]._workInProgressVersionPrimary=null;Wg.length=0}var zd=D.ReactCurrentDispatcher,Gg=D.ReactCurrentBatchConfig,La=0,Nt=null,Yt=null,on=null,Wd=!1,ic=!1,oc=0,j3=0;function En(){throw Error(n(321))}function Kg(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Cr(a[d],l[d]))return!1;return!0}function Yg(a,l,d,y,b,w){if(La=w,Nt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,zd.current=a===null||a.memoizedState===null?L3:$3,a=d(y,b),ic){w=0;do{if(ic=!1,oc=0,25<=w)throw Error(n(301));w+=1,on=Yt=null,l.updateQueue=null,zd.current=V3,a=d(y,b)}while(ic)}if(zd.current=Kd,l=Yt!==null&&Yt.next!==null,La=0,on=Yt=Nt=null,Wd=!1,l)throw Error(n(300));return a}function Xg(){var a=oc!==0;return oc=0,a}function li(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Nt.memoizedState=on=a:on=on.next=a,on}function hr(){if(Yt===null){var a=Nt.alternate;a=a!==null?a.memoizedState:null}else a=Yt.next;var l=on===null?Nt.memoizedState:on.next;if(l!==null)on=l,Yt=a;else{if(a===null)throw Error(n(310));Yt=a,a={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},on===null?Nt.memoizedState=on=a:on=on.next=a}return on}function ac(a,l){return typeof l=="function"?l(a):l}function Qg(a){var l=hr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var y=Yt,b=y.baseQueue,w=d.pending;if(w!==null){if(b!==null){var M=b.next;b.next=w.next,w.next=M}y.baseQueue=b=w,d.pending=null}if(b!==null){w=b.next,y=y.baseState;var U=M=null,W=null,te=w;do{var de=te.lane;if((La&de)===de)W!==null&&(W=W.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),y=te.hasEagerState?te.eagerState:a(y,te.action);else{var me={lane:de,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};W===null?(U=W=me,M=y):W=W.next=me,Nt.lanes|=de,$a|=de}te=te.next}while(te!==null&&te!==w);W===null?M=y:W.next=U,Cr(y,l.memoizedState)||(Vn=!0),l.memoizedState=y,l.baseState=M,l.baseQueue=W,d.lastRenderedState=y}if(a=d.interleaved,a!==null){b=a;do w=b.lane,Nt.lanes|=w,$a|=w,b=b.next;while(b!==a)}else b===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Jg(a){var l=hr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var y=d.dispatch,b=d.pending,w=l.memoizedState;if(b!==null){d.pending=null;var M=b=b.next;do w=a(w,M.action),M=M.next;while(M!==b);Cr(w,l.memoizedState)||(Vn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,y]}function LT(){}function $T(a,l){var d=Nt,y=hr(),b=l(),w=!Cr(y.memoizedState,b);if(w&&(y.memoizedState=b,Vn=!0),y=y.queue,Zg(FT.bind(null,d,y,a),[a]),y.getSnapshot!==l||w||on!==null&&on.memoizedState.tag&1){if(d.flags|=2048,sc(9,BT.bind(null,d,y,b,l),void 0,null),an===null)throw Error(n(349));(La&30)!==0||VT(d,l,b)}return b}function VT(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=Nt.updateQueue,l===null?(l={lastEffect:null,stores:null},Nt.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function BT(a,l,d,y){l.value=d,l.getSnapshot=y,UT(l)&&qT(a)}function FT(a,l,d){return d(function(){UT(l)&&qT(a)})}function UT(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Cr(a,d)}catch{return!0}}function qT(a){var l=Fi(a,1);l!==null&&Rr(l,a,1,-1)}function zT(a){var l=li();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:a},l.queue=a,a=a.dispatch=M3.bind(null,Nt,a),[l.memoizedState,a]}function sc(a,l,d,y){return a={tag:a,create:l,destroy:d,deps:y,next:null},l=Nt.updateQueue,l===null?(l={lastEffect:null,stores:null},Nt.updateQueue=l,l.lastEffect=a.next=a):(d=l.lastEffect,d===null?l.lastEffect=a.next=a:(y=d.next,d.next=a,a.next=y,l.lastEffect=a)),a}function WT(){return hr().memoizedState}function Hd(a,l,d,y){var b=li();Nt.flags|=a,b.memoizedState=sc(1|l,d,void 0,y===void 0?null:y)}function Gd(a,l,d,y){var b=hr();y=y===void 0?null:y;var w=void 0;if(Yt!==null){var M=Yt.memoizedState;if(w=M.destroy,y!==null&&Kg(y,M.deps)){b.memoizedState=sc(l,d,w,y);return}}Nt.flags|=a,b.memoizedState=sc(1|l,d,w,y)}function HT(a,l){return Hd(8390656,8,a,l)}function Zg(a,l){return Gd(2048,8,a,l)}function GT(a,l){return Gd(4,2,a,l)}function KT(a,l){return Gd(4,4,a,l)}function YT(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function XT(a,l,d){return d=d!=null?d.concat([a]):null,Gd(4,4,YT.bind(null,l,a),d)}function ey(){}function QT(a,l){var d=hr();l=l===void 0?null:l;var y=d.memoizedState;return y!==null&&l!==null&&Kg(l,y[1])?y[0]:(d.memoizedState=[a,l],a)}function JT(a,l){var d=hr();l=l===void 0?null:l;var y=d.memoizedState;return y!==null&&l!==null&&Kg(l,y[1])?y[0]:(a=a(),d.memoizedState=[a,l],a)}function ZT(a,l,d){return(La&21)===0?(a.baseState&&(a.baseState=!1,Vn=!0),a.memoizedState=d):(Cr(d,l)||(d=ju(),Nt.lanes|=d,$a|=d,a.baseState=!0),l)}function R3(a,l){var d=Qe;Qe=d!==0&&4>d?d:4,a(!0);var y=Gg.transition;Gg.transition={};try{a(!1),l()}finally{Qe=d,Gg.transition=y}}function eS(){return hr().memoizedState}function D3(a,l,d){var y=Vo(a);if(d={lane:y,action:d,hasEagerState:!1,eagerState:null,next:null},tS(a))nS(l,d);else if(d=NT(a,l,d,y),d!==null){var b=Rn();Rr(d,a,y,b),rS(d,l,y)}}function M3(a,l,d){var y=Vo(a),b={lane:y,action:d,hasEagerState:!1,eagerState:null,next:null};if(tS(a))nS(l,b);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var M=l.lastRenderedState,U=w(M,d);if(b.hasEagerState=!0,b.eagerState=U,Cr(U,M)){var W=l.interleaved;W===null?(b.next=b,Fg(l)):(b.next=W.next,W.next=b),l.interleaved=b;return}}catch{}finally{}d=NT(a,l,b,y),d!==null&&(b=Rn(),Rr(d,a,y,b),rS(d,l,y))}}function tS(a){var l=a.alternate;return a===Nt||l!==null&&l===Nt}function nS(a,l){ic=Wd=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function rS(a,l,d){if((d&4194240)!==0){var y=l.lanes;y&=a.pendingLanes,d|=y,l.lanes=d,Du(a,d)}}var Kd={readContext:dr,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},L3={readContext:dr,useCallback:function(a,l){return li().memoizedState=[a,l===void 0?null:l],a},useContext:dr,useEffect:HT,useImperativeHandle:function(a,l,d){return d=d!=null?d.concat([a]):null,Hd(4194308,4,YT.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Hd(4194308,4,a,l)},useInsertionEffect:function(a,l){return Hd(4,2,a,l)},useMemo:function(a,l){var d=li();return l=l===void 0?null:l,a=a(),d.memoizedState=[a,l],a},useReducer:function(a,l,d){var y=li();return l=d!==void 0?d(l):l,y.memoizedState=y.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},y.queue=a,a=a.dispatch=D3.bind(null,Nt,a),[y.memoizedState,a]},useRef:function(a){var l=li();return a={current:a},l.memoizedState=a},useState:zT,useDebugValue:ey,useDeferredValue:function(a){return li().memoizedState=a},useTransition:function(){var a=zT(!1),l=a[0];return a=R3.bind(null,a[1]),li().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,d){var y=Nt,b=li();if(It){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),an===null)throw Error(n(349));(La&30)!==0||VT(y,l,d)}b.memoizedState=d;var w={value:d,getSnapshot:l};return b.queue=w,HT(FT.bind(null,y,w,a),[a]),y.flags|=2048,sc(9,BT.bind(null,y,w,d,l),void 0,null),d},useId:function(){var a=li(),l=an.identifierPrefix;if(It){var d=Bi,y=Vi;d=(y&~(1<<32-Xn(y)-1)).toString(32)+d,l=":"+l+"R"+d,d=oc++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=j3++,l=":"+l+"r"+d.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},$3={readContext:dr,useCallback:QT,useContext:dr,useEffect:Zg,useImperativeHandle:XT,useInsertionEffect:GT,useLayoutEffect:KT,useMemo:JT,useReducer:Qg,useRef:WT,useState:function(){return Qg(ac)},useDebugValue:ey,useDeferredValue:function(a){var l=hr();return ZT(l,Yt.memoizedState,a)},useTransition:function(){var a=Qg(ac)[0],l=hr().memoizedState;return[a,l]},useMutableSource:LT,useSyncExternalStore:$T,useId:eS,unstable_isNewReconciler:!1},V3={readContext:dr,useCallback:QT,useContext:dr,useEffect:Zg,useImperativeHandle:XT,useInsertionEffect:GT,useLayoutEffect:KT,useMemo:JT,useReducer:Jg,useRef:WT,useState:function(){return Jg(ac)},useDebugValue:ey,useDeferredValue:function(a){var l=hr();return Yt===null?l.memoizedState=a:ZT(l,Yt.memoizedState,a)},useTransition:function(){var a=Jg(ac)[0],l=hr().memoizedState;return[a,l]},useMutableSource:LT,useSyncExternalStore:$T,useId:eS,unstable_isNewReconciler:!1};function kr(a,l){if(a&&a.defaultProps){l=re({},l),a=a.defaultProps;for(var d in a)l[d]===void 0&&(l[d]=a[d]);return l}return l}function ty(a,l,d,y){l=a.memoizedState,d=d(y,l),d=d==null?l:re({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Yd={isMounted:function(a){return(a=a._reactInternals)?Pr(a)===a:!1},enqueueSetState:function(a,l,d){a=a._reactInternals;var y=Rn(),b=Vo(a),w=Ui(y,b);w.payload=l,d!=null&&(w.callback=d),l=Do(a,w,b),l!==null&&(Rr(l,a,b,y),Fd(l,a,b))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var y=Rn(),b=Vo(a),w=Ui(y,b);w.tag=1,w.payload=l,d!=null&&(w.callback=d),l=Do(a,w,b),l!==null&&(Rr(l,a,b,y),Fd(l,a,b))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Rn(),y=Vo(a),b=Ui(d,y);b.tag=2,l!=null&&(b.callback=l),l=Do(a,b,y),l!==null&&(Rr(l,a,y,d),Fd(l,a,y))}};function iS(a,l,d,y,b,w,M){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,w,M):l.prototype&&l.prototype.isPureReactComponent?!Gu(d,y)||!Gu(b,w):!0}function oS(a,l,d){var y=!1,b=No,w=l.contextType;return typeof w=="object"&&w!==null?w=dr(w):(b=$n(l)?Na:wn.current,y=l.contextTypes,w=(y=y!=null)?Js(a,b):No),l=new l(d,w),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Yd,a.stateNode=l,l._reactInternals=a,y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=w),l}function aS(a,l,d,y){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,y),l.state!==a&&Yd.enqueueReplaceState(l,l.state,null)}function ny(a,l,d,y){var b=a.stateNode;b.props=d,b.state=a.memoizedState,b.refs={},Ug(a);var w=l.contextType;typeof w=="object"&&w!==null?b.context=dr(w):(w=$n(l)?Na:wn.current,b.context=Js(a,w)),b.state=a.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(ty(a,l,w,d),b.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(l=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),l!==b.state&&Yd.enqueueReplaceState(b,b.state,null),Ud(a,d,b,y),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308)}function al(a,l){try{var d="",y=l;do d+=Ce(y),y=y.return;while(y);var b=d}catch(w){b=`
Error generating stack: `+w.message+`
`+w.stack}return{value:a,source:l,stack:b,digest:null}}function ry(a,l,d){return{value:a,source:null,stack:d??null,digest:l??null}}function iy(a,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var B3=typeof WeakMap=="function"?WeakMap:Map;function sS(a,l,d){d=Ui(-1,d),d.tag=3,d.payload={element:null};var y=l.value;return d.callback=function(){nh||(nh=!0,xy=y),iy(a,l)},d}function lS(a,l,d){d=Ui(-1,d),d.tag=3;var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var b=l.value;d.payload=function(){return y(b)},d.callback=function(){iy(a,l)}}var w=a.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){iy(a,l),typeof y!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var M=l.stack;this.componentDidCatch(l.value,{componentStack:M!==null?M:""})}),d}function uS(a,l,d){var y=a.pingCache;if(y===null){y=a.pingCache=new B3;var b=new Set;y.set(l,b)}else b=y.get(l),b===void 0&&(b=new Set,y.set(l,b));b.has(d)||(b.add(d),a=e$.bind(null,a,l,d),l.then(a,a))}function cS(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function fS(a,l,d,y,b){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Ui(-1,1),l.tag=2,Do(d,l,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=b,a)}var F3=D.ReactCurrentOwner,Vn=!1;function jn(a,l,d,y){l.child=a===null?kT(l,null,d,y):nl(l,a.child,d,y)}function dS(a,l,d,y,b){d=d.render;var w=l.ref;return il(l,b),y=Yg(a,l,d,y,w,b),d=Xg(),a!==null&&!Vn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~b,qi(a,l,b)):(It&&d&&Ng(l),l.flags|=1,jn(a,l,y,b),l.child)}function hS(a,l,d,y,b){if(a===null){var w=d.type;return typeof w=="function"&&!Ay(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=w,pS(a,l,w,y,b)):(a=lh(d.type,null,y,l,l.mode,b),a.ref=l.ref,a.return=l,l.child=a)}if(w=a.child,(a.lanes&b)===0){var M=w.memoizedProps;if(d=d.compare,d=d!==null?d:Gu,d(M,y)&&a.ref===l.ref)return qi(a,l,b)}return l.flags|=1,a=Fo(w,y),a.ref=l.ref,a.return=l,l.child=a}function pS(a,l,d,y,b){if(a!==null){var w=a.memoizedProps;if(Gu(w,y)&&a.ref===l.ref)if(Vn=!1,l.pendingProps=y=w,(a.lanes&b)!==0)(a.flags&131072)!==0&&(Vn=!0);else return l.lanes=a.lanes,qi(a,l,b)}return oy(a,l,d,y,b)}function mS(a,l,d){var y=l.pendingProps,b=y.children,w=a!==null?a.memoizedState:null;if(y.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(ll,rr),rr|=d;else{if((d&1073741824)===0)return a=w!==null?w.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,xt(ll,rr),rr|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=w!==null?w.baseLanes:d,xt(ll,rr),rr|=y}else w!==null?(y=w.baseLanes|d,l.memoizedState=null):y=d,xt(ll,rr),rr|=y;return jn(a,l,b,d),l.child}function gS(a,l){var d=l.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function oy(a,l,d,y,b){var w=$n(d)?Na:wn.current;return w=Js(l,w),il(l,b),d=Yg(a,l,d,y,w,b),y=Xg(),a!==null&&!Vn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~b,qi(a,l,b)):(It&&y&&Ng(l),l.flags|=1,jn(a,l,d,b),l.child)}function yS(a,l,d,y,b){if($n(d)){var w=!0;jd(l)}else w=!1;if(il(l,b),l.stateNode===null)Qd(a,l),oS(l,d,y),ny(l,d,y,b),y=!0;else if(a===null){var M=l.stateNode,U=l.memoizedProps;M.props=U;var W=M.context,te=d.contextType;typeof te=="object"&&te!==null?te=dr(te):(te=$n(d)?Na:wn.current,te=Js(l,te));var de=d.getDerivedStateFromProps,me=typeof de=="function"||typeof M.getSnapshotBeforeUpdate=="function";me||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(U!==y||W!==te)&&aS(l,M,y,te),Ro=!1;var ue=l.memoizedState;M.state=ue,Ud(l,y,M,b),W=l.memoizedState,U!==y||ue!==W||Ln.current||Ro?(typeof de=="function"&&(ty(l,d,de,y),W=l.memoizedState),(U=Ro||iS(l,d,U,y,ue,W,te))?(me||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(l.flags|=4194308)):(typeof M.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=W),M.props=y,M.state=W,M.context=te,y=U):(typeof M.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{M=l.stateNode,jT(a,l),U=l.memoizedProps,te=l.type===l.elementType?U:kr(l.type,U),M.props=te,me=l.pendingProps,ue=M.context,W=d.contextType,typeof W=="object"&&W!==null?W=dr(W):(W=$n(d)?Na:wn.current,W=Js(l,W));var be=d.getDerivedStateFromProps;(de=typeof be=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(U!==me||ue!==W)&&aS(l,M,y,W),Ro=!1,ue=l.memoizedState,M.state=ue,Ud(l,y,M,b);var Se=l.memoizedState;U!==me||ue!==Se||Ln.current||Ro?(typeof be=="function"&&(ty(l,d,be,y),Se=l.memoizedState),(te=Ro||iS(l,d,te,y,ue,Se,W)||!1)?(de||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(y,Se,W),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(y,Se,W)),typeof M.componentDidUpdate=="function"&&(l.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof M.componentDidUpdate!="function"||U===a.memoizedProps&&ue===a.memoizedState||(l.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&ue===a.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=Se),M.props=y,M.state=Se,M.context=W,y=te):(typeof M.componentDidUpdate!="function"||U===a.memoizedProps&&ue===a.memoizedState||(l.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&ue===a.memoizedState||(l.flags|=1024),y=!1)}return ay(a,l,d,y,w,b)}function ay(a,l,d,y,b,w){gS(a,l);var M=(l.flags&128)!==0;if(!y&&!M)return b&&wT(l,d,!1),qi(a,l,w);y=l.stateNode,F3.current=l;var U=M&&typeof d.getDerivedStateFromError!="function"?null:y.render();return l.flags|=1,a!==null&&M?(l.child=nl(l,a.child,null,w),l.child=nl(l,null,U,w)):jn(a,l,U,w),l.memoizedState=y.state,b&&wT(l,d,!0),l.child}function vS(a){var l=a.stateNode;l.pendingContext?bT(a,l.pendingContext,l.pendingContext!==l.context):l.context&&bT(a,l.context,!1),qg(a,l.containerInfo)}function xS(a,l,d,y,b){return tl(),Mg(b),l.flags|=256,jn(a,l,d,y),l.child}var sy={dehydrated:null,treeContext:null,retryLane:0};function ly(a){return{baseLanes:a,cachePool:null,transitions:null}}function bS(a,l,d){var y=l.pendingProps,b=kt.current,w=!1,M=(l.flags&128)!==0,U;if((U=M)||(U=a!==null&&a.memoizedState===null?!1:(b&2)!==0),U?(w=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(b|=1),xt(kt,b&1),a===null)return Dg(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(M=y.children,a=y.fallback,w?(y=l.mode,w=l.child,M={mode:"hidden",children:M},(y&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=M):w=uh(M,y,0,null),a=Ua(a,y,d,null),w.return=l,a.return=l,w.sibling=a,l.child=w,l.child.memoizedState=ly(d),l.memoizedState=sy,a):uy(l,M));if(b=a.memoizedState,b!==null&&(U=b.dehydrated,U!==null))return U3(a,l,M,y,U,b,d);if(w){w=y.fallback,M=l.mode,b=a.child,U=b.sibling;var W={mode:"hidden",children:y.children};return(M&1)===0&&l.child!==b?(y=l.child,y.childLanes=0,y.pendingProps=W,l.deletions=null):(y=Fo(b,W),y.subtreeFlags=b.subtreeFlags&14680064),U!==null?w=Fo(U,w):(w=Ua(w,M,d,null),w.flags|=2),w.return=l,y.return=l,y.sibling=w,l.child=y,y=w,w=l.child,M=a.child.memoizedState,M=M===null?ly(d):{baseLanes:M.baseLanes|d,cachePool:null,transitions:M.transitions},w.memoizedState=M,w.childLanes=a.childLanes&~d,l.memoizedState=sy,y}return w=a.child,a=w.sibling,y=Fo(w,{mode:"visible",children:y.children}),(l.mode&1)===0&&(y.lanes=d),y.return=l,y.sibling=null,a!==null&&(d=l.deletions,d===null?(l.deletions=[a],l.flags|=16):d.push(a)),l.child=y,l.memoizedState=null,y}function uy(a,l){return l=uh({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Xd(a,l,d,y){return y!==null&&Mg(y),nl(l,a.child,null,d),a=uy(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function U3(a,l,d,y,b,w,M){if(d)return l.flags&256?(l.flags&=-257,y=ry(Error(n(422))),Xd(a,l,M,y)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(w=y.fallback,b=l.mode,y=uh({mode:"visible",children:y.children},b,0,null),w=Ua(w,b,M,null),w.flags|=2,y.return=l,w.return=l,y.sibling=w,l.child=y,(l.mode&1)!==0&&nl(l,a.child,null,M),l.child.memoizedState=ly(M),l.memoizedState=sy,w);if((l.mode&1)===0)return Xd(a,l,M,null);if(b.data==="$!"){if(y=b.nextSibling&&b.nextSibling.dataset,y)var U=y.dgst;return y=U,w=Error(n(419)),y=ry(w,y,void 0),Xd(a,l,M,y)}if(U=(M&a.childLanes)!==0,Vn||U){if(y=an,y!==null){switch(M&-M){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(y.suspendedLanes|M))!==0?0:b,b!==0&&b!==w.retryLane&&(w.retryLane=b,Fi(a,b),Rr(y,a,b,-1))}return Sy(),y=ry(Error(n(421))),Xd(a,l,M,y)}return b.data==="$?"?(l.flags|=128,l.child=a.child,l=t$.bind(null,a),b._reactRetry=l,null):(a=w.treeContext,nr=Oo(b.nextSibling),tr=l,It=!0,Or=null,a!==null&&(cr[fr++]=Vi,cr[fr++]=Bi,cr[fr++]=ja,Vi=a.id,Bi=a.overflow,ja=l),l=uy(l,y.children),l.flags|=4096,l)}function _S(a,l,d){a.lanes|=l;var y=a.alternate;y!==null&&(y.lanes|=l),Bg(a.return,l,d)}function cy(a,l,d,y,b){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:d,tailMode:b}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=y,w.tail=d,w.tailMode=b)}function wS(a,l,d){var y=l.pendingProps,b=y.revealOrder,w=y.tail;if(jn(a,l,y.children,d),y=kt.current,(y&2)!==0)y=y&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&_S(a,d,l);else if(a.tag===19)_S(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}if(xt(kt,y),(l.mode&1)===0)l.memoizedState=null;else switch(b){case"forwards":for(d=l.child,b=null;d!==null;)a=d.alternate,a!==null&&qd(a)===null&&(b=d),d=d.sibling;d=b,d===null?(b=l.child,l.child=null):(b=d.sibling,d.sibling=null),cy(l,!1,b,d,w);break;case"backwards":for(d=null,b=l.child,l.child=null;b!==null;){if(a=b.alternate,a!==null&&qd(a)===null){l.child=b;break}a=b.sibling,b.sibling=d,d=b,b=a}cy(l,!0,d,null,w);break;case"together":cy(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Qd(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function qi(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),$a|=l.lanes,(d&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,d=Fo(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=Fo(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function q3(a,l,d){switch(l.tag){case 3:vS(l),tl();break;case 5:MT(l);break;case 1:$n(l.type)&&jd(l);break;case 4:qg(l,l.stateNode.containerInfo);break;case 10:var y=l.type._context,b=l.memoizedProps.value;xt(Vd,y._currentValue),y._currentValue=b;break;case 13:if(y=l.memoizedState,y!==null)return y.dehydrated!==null?(xt(kt,kt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?bS(a,l,d):(xt(kt,kt.current&1),a=qi(a,l,d),a!==null?a.sibling:null);xt(kt,kt.current&1);break;case 19:if(y=(d&l.childLanes)!==0,(a.flags&128)!==0){if(y)return wS(a,l,d);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),xt(kt,kt.current),y)break;return null;case 22:case 23:return l.lanes=0,mS(a,l,d)}return qi(a,l,d)}var ES,fy,TS,SS;ES=function(a,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},fy=function(){},TS=function(a,l,d,y){var b=a.memoizedProps;if(b!==y){a=l.stateNode,Ma(si.current);var w=null;switch(d){case"input":b=ze(a,b),y=ze(a,y),w=[];break;case"select":b=re({},b,{value:void 0}),y=re({},y,{value:void 0}),w=[];break;case"textarea":b=Kn(a,b),y=Kn(a,y),w=[];break;default:typeof b.onClick!="function"&&typeof y.onClick=="function"&&(a.onclick=Od)}Ar(d,y);var M;d=null;for(te in b)if(!y.hasOwnProperty(te)&&b.hasOwnProperty(te)&&b[te]!=null)if(te==="style"){var U=b[te];for(M in U)U.hasOwnProperty(M)&&(d||(d={}),d[M]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(i.hasOwnProperty(te)?w||(w=[]):(w=w||[]).push(te,null));for(te in y){var W=y[te];if(U=b!=null?b[te]:void 0,y.hasOwnProperty(te)&&W!==U&&(W!=null||U!=null))if(te==="style")if(U){for(M in U)!U.hasOwnProperty(M)||W&&W.hasOwnProperty(M)||(d||(d={}),d[M]="");for(M in W)W.hasOwnProperty(M)&&U[M]!==W[M]&&(d||(d={}),d[M]=W[M])}else d||(w||(w=[]),w.push(te,d)),d=W;else te==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,U=U?U.__html:void 0,W!=null&&U!==W&&(w=w||[]).push(te,W)):te==="children"?typeof W!="string"&&typeof W!="number"||(w=w||[]).push(te,""+W):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(i.hasOwnProperty(te)?(W!=null&&te==="onScroll"&&wt("scroll",a),w||U===W||(w=[])):(w=w||[]).push(te,W))}d&&(w=w||[]).push("style",d);var te=w;(l.updateQueue=te)&&(l.flags|=4)}},SS=function(a,l,d,y){d!==y&&(l.flags|=4)};function lc(a,l){if(!It)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function Tn(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,y=0;if(l)for(var b=a.child;b!==null;)d|=b.lanes|b.childLanes,y|=b.subtreeFlags&14680064,y|=b.flags&14680064,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)d|=b.lanes|b.childLanes,y|=b.subtreeFlags,y|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=y,a.childLanes=d,l}function z3(a,l,d){var y=l.pendingProps;switch(jg(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(l),null;case 1:return $n(l.type)&&Nd(),Tn(l),null;case 3:return y=l.stateNode,ol(),Et(Ln),Et(wn),Hg(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(a===null||a.child===null)&&(Ld(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Or!==null&&(wy(Or),Or=null))),fy(a,l),Tn(l),null;case 5:zg(l);var b=Ma(rc.current);if(d=l.type,a!==null&&l.stateNode!=null)TS(a,l,d,y,b),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!y){if(l.stateNode===null)throw Error(n(166));return Tn(l),null}if(a=Ma(si.current),Ld(l)){y=l.stateNode,d=l.type;var w=l.memoizedProps;switch(y[ai]=l,y[Ju]=w,a=(l.mode&1)!==0,d){case"dialog":wt("cancel",y),wt("close",y);break;case"iframe":case"object":case"embed":wt("load",y);break;case"video":case"audio":for(b=0;b<Yu.length;b++)wt(Yu[b],y);break;case"source":wt("error",y);break;case"img":case"image":case"link":wt("error",y),wt("load",y);break;case"details":wt("toggle",y);break;case"input":Pt(y,w),wt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!w.multiple},wt("invalid",y);break;case"textarea":Ai(y,w),wt("invalid",y)}Ar(d,w),b=null;for(var M in w)if(w.hasOwnProperty(M)){var U=w[M];M==="children"?typeof U=="string"?y.textContent!==U&&(w.suppressHydrationWarning!==!0&&Cd(y.textContent,U,a),b=["children",U]):typeof U=="number"&&y.textContent!==""+U&&(w.suppressHydrationWarning!==!0&&Cd(y.textContent,U,a),b=["children",""+U]):i.hasOwnProperty(M)&&U!=null&&M==="onScroll"&&wt("scroll",y)}switch(d){case"input":Be(y),Mn(y,w,!0);break;case"textarea":Be(y),Sr(y);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(y.onclick=Od)}y=b,l.updateQueue=y,y!==null&&(l.flags|=4)}else{M=b.nodeType===9?b:b.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Tu(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=M.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof y.is=="string"?a=M.createElement(d,{is:y.is}):(a=M.createElement(d),d==="select"&&(M=a,y.multiple?M.multiple=!0:y.size&&(M.size=y.size))):a=M.createElementNS(a,d),a[ai]=l,a[Ju]=y,ES(a,l,!1,!1),l.stateNode=a;e:{switch(M=Is(d,y),d){case"dialog":wt("cancel",a),wt("close",a),b=y;break;case"iframe":case"object":case"embed":wt("load",a),b=y;break;case"video":case"audio":for(b=0;b<Yu.length;b++)wt(Yu[b],a);b=y;break;case"source":wt("error",a),b=y;break;case"img":case"image":case"link":wt("error",a),wt("load",a),b=y;break;case"details":wt("toggle",a),b=y;break;case"input":Pt(a,y),b=ze(a,y),wt("invalid",a);break;case"option":b=y;break;case"select":a._wrapperState={wasMultiple:!!y.multiple},b=re({},y,{value:void 0}),wt("invalid",a);break;case"textarea":Ai(a,y),b=Kn(a,y),wt("invalid",a);break;default:b=y}Ar(d,b),U=b;for(w in U)if(U.hasOwnProperty(w)){var W=U[w];w==="style"?Ps(a,W):w==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&rd(a,W)):w==="children"?typeof W=="string"?(d!=="textarea"||W!=="")&&ya(a,W):typeof W=="number"&&ya(a,""+W):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?W!=null&&w==="onScroll"&&wt("scroll",a):W!=null&&k(a,w,W,M))}switch(d){case"input":Be(a),Mn(a,y,!1);break;case"textarea":Be(a),Sr(a);break;case"option":y.value!=null&&a.setAttribute("value",""+Le(y.value));break;case"select":a.multiple=!!y.multiple,w=y.value,w!=null?Kt(a,!!y.multiple,w,!1):y.defaultValue!=null&&Kt(a,!!y.multiple,y.defaultValue,!0);break;default:typeof b.onClick=="function"&&(a.onclick=Od)}switch(d){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Tn(l),null;case 6:if(a&&l.stateNode!=null)SS(a,l,a.memoizedProps,y);else{if(typeof y!="string"&&l.stateNode===null)throw Error(n(166));if(d=Ma(rc.current),Ma(si.current),Ld(l)){if(y=l.stateNode,d=l.memoizedProps,y[ai]=l,(w=y.nodeValue!==d)&&(a=tr,a!==null))switch(a.tag){case 3:Cd(y.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Cd(y.nodeValue,d,(a.mode&1)!==0)}w&&(l.flags|=4)}else y=(d.nodeType===9?d:d.ownerDocument).createTextNode(y),y[ai]=l,l.stateNode=y}return Tn(l),null;case 13:if(Et(kt),y=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(It&&nr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)IT(),tl(),l.flags|=98560,w=!1;else if(w=Ld(l),y!==null&&y.dehydrated!==null){if(a===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[ai]=l}else tl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Tn(l),w=!1}else Or!==null&&(wy(Or),Or=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(y=y!==null,y!==(a!==null&&a.memoizedState!==null)&&y&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(kt.current&1)!==0?Xt===0&&(Xt=3):Sy())),l.updateQueue!==null&&(l.flags|=4),Tn(l),null);case 4:return ol(),fy(a,l),a===null&&Xu(l.stateNode.containerInfo),Tn(l),null;case 10:return Vg(l.type._context),Tn(l),null;case 17:return $n(l.type)&&Nd(),Tn(l),null;case 19:if(Et(kt),w=l.memoizedState,w===null)return Tn(l),null;if(y=(l.flags&128)!==0,M=w.rendering,M===null)if(y)lc(w,!1);else{if(Xt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(M=qd(a),M!==null){for(l.flags|=128,lc(w,!1),y=M.updateQueue,y!==null&&(l.updateQueue=y,l.flags|=4),l.subtreeFlags=0,y=d,d=l.child;d!==null;)w=d,a=y,w.flags&=14680066,M=w.alternate,M===null?(w.childLanes=0,w.lanes=a,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=M.childLanes,w.lanes=M.lanes,w.child=M.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=M.memoizedProps,w.memoizedState=M.memoizedState,w.updateQueue=M.updateQueue,w.type=M.type,a=M.dependencies,w.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return xt(kt,kt.current&1|2),l.child}a=a.sibling}w.tail!==null&&_t()>ul&&(l.flags|=128,y=!0,lc(w,!1),l.lanes=4194304)}else{if(!y)if(a=qd(M),a!==null){if(l.flags|=128,y=!0,d=a.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),lc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!M.alternate&&!It)return Tn(l),null}else 2*_t()-w.renderingStartTime>ul&&d!==1073741824&&(l.flags|=128,y=!0,lc(w,!1),l.lanes=4194304);w.isBackwards?(M.sibling=l.child,l.child=M):(d=w.last,d!==null?d.sibling=M:l.child=M,w.last=M)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=_t(),l.sibling=null,d=kt.current,xt(kt,y?d&1|2:d&1),l):(Tn(l),null);case 22:case 23:return Ty(),y=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==y&&(l.flags|=8192),y&&(l.mode&1)!==0?(rr&1073741824)!==0&&(Tn(l),l.subtreeFlags&6&&(l.flags|=8192)):Tn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function W3(a,l){switch(jg(l),l.tag){case 1:return $n(l.type)&&Nd(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return ol(),Et(Ln),Et(wn),Hg(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return zg(l),null;case 13:if(Et(kt),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));tl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Et(kt),null;case 4:return ol(),null;case 10:return Vg(l.type._context),null;case 22:case 23:return Ty(),null;case 24:return null;default:return null}}var Jd=!1,Sn=!1,H3=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function sl(a,l){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(y){Mt(a,l,y)}else d.current=null}function dy(a,l,d){try{d()}catch(y){Mt(a,l,y)}}var AS=!1;function G3(a,l){if(Tg=Ri,a=iT(),gg(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var y=d.getSelection&&d.getSelection();if(y&&y.rangeCount!==0){d=y.anchorNode;var b=y.anchorOffset,w=y.focusNode;y=y.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var M=0,U=-1,W=-1,te=0,de=0,me=a,ue=null;t:for(;;){for(var be;me!==d||b!==0&&me.nodeType!==3||(U=M+b),me!==w||y!==0&&me.nodeType!==3||(W=M+y),me.nodeType===3&&(M+=me.nodeValue.length),(be=me.firstChild)!==null;)ue=me,me=be;for(;;){if(me===a)break t;if(ue===d&&++te===b&&(U=M),ue===w&&++de===y&&(W=M),(be=me.nextSibling)!==null)break;me=ue,ue=me.parentNode}me=be}d=U===-1||W===-1?null:{start:U,end:W}}else d=null}d=d||{start:0,end:0}}else d=null;for(Sg={focusedElem:a,selectionRange:d},Ri=!1,Ee=l;Ee!==null;)if(l=Ee,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Ee=a;else for(;Ee!==null;){l=Ee;try{var Se=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ae=Se.memoizedProps,Vt=Se.memoizedState,Y=l.stateNode,H=Y.getSnapshotBeforeUpdate(l.elementType===l.type?Ae:kr(l.type,Ae),Vt);Y.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ye){Mt(l,l.return,ye)}if(a=l.sibling,a!==null){a.return=l.return,Ee=a;break}Ee=l.return}return Se=AS,AS=!1,Se}function uc(a,l,d){var y=l.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var b=y=y.next;do{if((b.tag&a)===a){var w=b.destroy;b.destroy=void 0,w!==void 0&&dy(l,d,w)}b=b.next}while(b!==y)}}function Zd(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&a)===a){var y=d.create;d.destroy=y()}d=d.next}while(d!==l)}}function hy(a){var l=a.ref;if(l!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof l=="function"?l(a):l.current=a}}function PS(a){var l=a.alternate;l!==null&&(a.alternate=null,PS(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[ai],delete l[Ju],delete l[Cg],delete l[C3],delete l[O3])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function IS(a){return a.tag===5||a.tag===3||a.tag===4}function CS(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||IS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function py(a,l,d){var y=a.tag;if(y===5||y===6)a=a.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(a,l):d.insertBefore(a,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(a,d)):(l=d,l.appendChild(a)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Od));else if(y!==4&&(a=a.child,a!==null))for(py(a,l,d),a=a.sibling;a!==null;)py(a,l,d),a=a.sibling}function my(a,l,d){var y=a.tag;if(y===5||y===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(y!==4&&(a=a.child,a!==null))for(my(a,l,d),a=a.sibling;a!==null;)my(a,l,d),a=a.sibling}var pn=null,Nr=!1;function Mo(a,l,d){for(d=d.child;d!==null;)OS(a,l,d),d=d.sibling}function OS(a,l,d){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(wa,d)}catch{}switch(d.tag){case 5:Sn||sl(d,l);case 6:var y=pn,b=Nr;pn=null,Mo(a,l,d),pn=y,Nr=b,pn!==null&&(Nr?(a=pn,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):pn.removeChild(d.stateNode));break;case 18:pn!==null&&(Nr?(a=pn,d=d.stateNode,a.nodeType===8?Ig(a.parentNode,d):a.nodeType===1&&Ig(a,d),Ao(a)):Ig(pn,d.stateNode));break;case 4:y=pn,b=Nr,pn=d.stateNode.containerInfo,Nr=!0,Mo(a,l,d),pn=y,Nr=b;break;case 0:case 11:case 14:case 15:if(!Sn&&(y=d.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){b=y=y.next;do{var w=b,M=w.destroy;w=w.tag,M!==void 0&&((w&2)!==0||(w&4)!==0)&&dy(d,l,M),b=b.next}while(b!==y)}Mo(a,l,d);break;case 1:if(!Sn&&(sl(d,l),y=d.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=d.memoizedProps,y.state=d.memoizedState,y.componentWillUnmount()}catch(U){Mt(d,l,U)}Mo(a,l,d);break;case 21:Mo(a,l,d);break;case 22:d.mode&1?(Sn=(y=Sn)||d.memoizedState!==null,Mo(a,l,d),Sn=y):Mo(a,l,d);break;default:Mo(a,l,d)}}function kS(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new H3),l.forEach(function(y){var b=n$.bind(null,a,y);d.has(y)||(d.add(y),y.then(b,b))})}}function jr(a,l){var d=l.deletions;if(d!==null)for(var y=0;y<d.length;y++){var b=d[y];try{var w=a,M=l,U=M;e:for(;U!==null;){switch(U.tag){case 5:pn=U.stateNode,Nr=!1;break e;case 3:pn=U.stateNode.containerInfo,Nr=!0;break e;case 4:pn=U.stateNode.containerInfo,Nr=!0;break e}U=U.return}if(pn===null)throw Error(n(160));OS(w,M,b),pn=null,Nr=!1;var W=b.alternate;W!==null&&(W.return=null),b.return=null}catch(te){Mt(b,l,te)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)NS(l,a),l=l.sibling}function NS(a,l){var d=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(jr(l,a),ui(a),y&4){try{uc(3,a,a.return),Zd(3,a)}catch(Ae){Mt(a,a.return,Ae)}try{uc(5,a,a.return)}catch(Ae){Mt(a,a.return,Ae)}}break;case 1:jr(l,a),ui(a),y&512&&d!==null&&sl(d,d.return);break;case 5:if(jr(l,a),ui(a),y&512&&d!==null&&sl(d,d.return),a.flags&32){var b=a.stateNode;try{ya(b,"")}catch(Ae){Mt(a,a.return,Ae)}}if(y&4&&(b=a.stateNode,b!=null)){var w=a.memoizedProps,M=d!==null?d.memoizedProps:w,U=a.type,W=a.updateQueue;if(a.updateQueue=null,W!==null)try{U==="input"&&w.type==="radio"&&w.name!=null&&yt(b,w),Is(U,M);var te=Is(U,w);for(M=0;M<W.length;M+=2){var de=W[M],me=W[M+1];de==="style"?Ps(b,me):de==="dangerouslySetInnerHTML"?rd(b,me):de==="children"?ya(b,me):k(b,de,me,te)}switch(U){case"input":Rt(b,w);break;case"textarea":ga(b,w);break;case"select":var ue=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!w.multiple;var be=w.value;be!=null?Kt(b,!!w.multiple,be,!1):ue!==!!w.multiple&&(w.defaultValue!=null?Kt(b,!!w.multiple,w.defaultValue,!0):Kt(b,!!w.multiple,w.multiple?[]:"",!1))}b[Ju]=w}catch(Ae){Mt(a,a.return,Ae)}}break;case 6:if(jr(l,a),ui(a),y&4){if(a.stateNode===null)throw Error(n(162));b=a.stateNode,w=a.memoizedProps;try{b.nodeValue=w}catch(Ae){Mt(a,a.return,Ae)}}break;case 3:if(jr(l,a),ui(a),y&4&&d!==null&&d.memoizedState.isDehydrated)try{Ao(l.containerInfo)}catch(Ae){Mt(a,a.return,Ae)}break;case 4:jr(l,a),ui(a);break;case 13:jr(l,a),ui(a),b=a.child,b.flags&8192&&(w=b.memoizedState!==null,b.stateNode.isHidden=w,!w||b.alternate!==null&&b.alternate.memoizedState!==null||(vy=_t())),y&4&&kS(a);break;case 22:if(de=d!==null&&d.memoizedState!==null,a.mode&1?(Sn=(te=Sn)||de,jr(l,a),Sn=te):jr(l,a),ui(a),y&8192){if(te=a.memoizedState!==null,(a.stateNode.isHidden=te)&&!de&&(a.mode&1)!==0)for(Ee=a,de=a.child;de!==null;){for(me=Ee=de;Ee!==null;){switch(ue=Ee,be=ue.child,ue.tag){case 0:case 11:case 14:case 15:uc(4,ue,ue.return);break;case 1:sl(ue,ue.return);var Se=ue.stateNode;if(typeof Se.componentWillUnmount=="function"){y=ue,d=ue.return;try{l=y,Se.props=l.memoizedProps,Se.state=l.memoizedState,Se.componentWillUnmount()}catch(Ae){Mt(y,d,Ae)}}break;case 5:sl(ue,ue.return);break;case 22:if(ue.memoizedState!==null){DS(me);continue}}be!==null?(be.return=ue,Ee=be):DS(me)}de=de.sibling}e:for(de=null,me=a;;){if(me.tag===5){if(de===null){de=me;try{b=me.stateNode,te?(w=b.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(U=me.stateNode,W=me.memoizedProps.style,M=W!=null&&W.hasOwnProperty("display")?W.display:null,U.style.display=yo("display",M))}catch(Ae){Mt(a,a.return,Ae)}}}else if(me.tag===6){if(de===null)try{me.stateNode.nodeValue=te?"":me.memoizedProps}catch(Ae){Mt(a,a.return,Ae)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===a)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===a)break e;for(;me.sibling===null;){if(me.return===null||me.return===a)break e;de===me&&(de=null),me=me.return}de===me&&(de=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:jr(l,a),ui(a),y&4&&kS(a);break;case 21:break;default:jr(l,a),ui(a)}}function ui(a){var l=a.flags;if(l&2){try{e:{for(var d=a.return;d!==null;){if(IS(d)){var y=d;break e}d=d.return}throw Error(n(160))}switch(y.tag){case 5:var b=y.stateNode;y.flags&32&&(ya(b,""),y.flags&=-33);var w=CS(a);my(a,w,b);break;case 3:case 4:var M=y.stateNode.containerInfo,U=CS(a);py(a,U,M);break;default:throw Error(n(161))}}catch(W){Mt(a,a.return,W)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function K3(a,l,d){Ee=a,jS(a)}function jS(a,l,d){for(var y=(a.mode&1)!==0;Ee!==null;){var b=Ee,w=b.child;if(b.tag===22&&y){var M=b.memoizedState!==null||Jd;if(!M){var U=b.alternate,W=U!==null&&U.memoizedState!==null||Sn;U=Jd;var te=Sn;if(Jd=M,(Sn=W)&&!te)for(Ee=b;Ee!==null;)M=Ee,W=M.child,M.tag===22&&M.memoizedState!==null?MS(b):W!==null?(W.return=M,Ee=W):MS(b);for(;w!==null;)Ee=w,jS(w),w=w.sibling;Ee=b,Jd=U,Sn=te}RS(a)}else(b.subtreeFlags&8772)!==0&&w!==null?(w.return=b,Ee=w):RS(a)}}function RS(a){for(;Ee!==null;){var l=Ee;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Sn||Zd(5,l);break;case 1:var y=l.stateNode;if(l.flags&4&&!Sn)if(d===null)y.componentDidMount();else{var b=l.elementType===l.type?d.memoizedProps:kr(l.type,d.memoizedProps);y.componentDidUpdate(b,d.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&DT(l,w,y);break;case 3:var M=l.updateQueue;if(M!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}DT(l,M,d)}break;case 5:var U=l.stateNode;if(d===null&&l.flags&4){d=U;var W=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&d.focus();break;case"img":W.src&&(d.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var te=l.alternate;if(te!==null){var de=te.memoizedState;if(de!==null){var me=de.dehydrated;me!==null&&Ao(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Sn||l.flags&512&&hy(l)}catch(ue){Mt(l,l.return,ue)}}if(l===a){Ee=null;break}if(d=l.sibling,d!==null){d.return=l.return,Ee=d;break}Ee=l.return}}function DS(a){for(;Ee!==null;){var l=Ee;if(l===a){Ee=null;break}var d=l.sibling;if(d!==null){d.return=l.return,Ee=d;break}Ee=l.return}}function MS(a){for(;Ee!==null;){var l=Ee;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Zd(4,l)}catch(W){Mt(l,d,W)}break;case 1:var y=l.stateNode;if(typeof y.componentDidMount=="function"){var b=l.return;try{y.componentDidMount()}catch(W){Mt(l,b,W)}}var w=l.return;try{hy(l)}catch(W){Mt(l,w,W)}break;case 5:var M=l.return;try{hy(l)}catch(W){Mt(l,M,W)}}}catch(W){Mt(l,l.return,W)}if(l===a){Ee=null;break}var U=l.sibling;if(U!==null){U.return=l.return,Ee=U;break}Ee=l.return}}var Y3=Math.ceil,eh=D.ReactCurrentDispatcher,gy=D.ReactCurrentOwner,pr=D.ReactCurrentBatchConfig,Ze=0,an=null,Ut=null,mn=0,rr=0,ll=ko(0),Xt=0,cc=null,$a=0,th=0,yy=0,fc=null,Bn=null,vy=0,ul=1/0,zi=null,nh=!1,xy=null,Lo=null,rh=!1,$o=null,ih=0,dc=0,by=null,oh=-1,ah=0;function Rn(){return(Ze&6)!==0?_t():oh!==-1?oh:oh=_t()}function Vo(a){return(a.mode&1)===0?1:(Ze&2)!==0&&mn!==0?mn&-mn:N3.transition!==null?(ah===0&&(ah=ju()),ah):(a=Qe,a!==0||(a=window.event,a=a===void 0?16:$s(a.type)),a)}function Rr(a,l,d,y){if(50<dc)throw dc=0,by=null,Error(n(185));Aa(a,d,y),((Ze&2)===0||a!==an)&&(a===an&&((Ze&2)===0&&(th|=d),Xt===4&&Bo(a,mn)),Fn(a,y),d===1&&Ze===0&&(l.mode&1)===0&&(ul=_t()+500,Rd&&jo()))}function Fn(a,l){var d=a.callbackNode;Sa(a,l);var y=ki(a,a===an?mn:0);if(y===0)d!==null&&ks(d),a.callbackNode=null,a.callbackPriority=0;else if(l=y&-y,a.callbackPriority!==l){if(d!=null&&ks(d),l===1)a.tag===0?k3($S.bind(null,a)):ET($S.bind(null,a)),P3(function(){(Ze&6)===0&&jo()}),d=null;else{switch(Xr(y)){case 1:d=Ns;break;case 4:d=Ou;break;case 16:d=_a;break;case 536870912:d=js;break;default:d=_a}d=HS(d,LS.bind(null,a))}a.callbackPriority=l,a.callbackNode=d}}function LS(a,l){if(oh=-1,ah=0,(Ze&6)!==0)throw Error(n(327));var d=a.callbackNode;if(cl()&&a.callbackNode!==d)return null;var y=ki(a,a===an?mn:0);if(y===0)return null;if((y&30)!==0||(y&a.expiredLanes)!==0||l)l=sh(a,y);else{l=y;var b=Ze;Ze|=2;var w=BS();(an!==a||mn!==l)&&(zi=null,ul=_t()+500,Ba(a,l));do try{J3();break}catch(U){VS(a,U)}while(!0);$g(),eh.current=w,Ze=b,Ut!==null?l=0:(an=null,mn=0,l=Xt)}if(l!==0){if(l===2&&(b=Nu(a),b!==0&&(y=b,l=_y(a,b))),l===1)throw d=cc,Ba(a,0),Bo(a,y),Fn(a,_t()),d;if(l===6)Bo(a,y);else{if(b=a.current.alternate,(y&30)===0&&!X3(b)&&(l=sh(a,y),l===2&&(w=Nu(a),w!==0&&(y=w,l=_y(a,w))),l===1))throw d=cc,Ba(a,0),Bo(a,y),Fn(a,_t()),d;switch(a.finishedWork=b,a.finishedLanes=y,l){case 0:case 1:throw Error(n(345));case 2:Fa(a,Bn,zi);break;case 3:if(Bo(a,y),(y&130023424)===y&&(l=vy+500-_t(),10<l)){if(ki(a,0)!==0)break;if(b=a.suspendedLanes,(b&y)!==y){Rn(),a.pingedLanes|=a.suspendedLanes&b;break}a.timeoutHandle=Pg(Fa.bind(null,a,Bn,zi),l);break}Fa(a,Bn,zi);break;case 4:if(Bo(a,y),(y&4194240)===y)break;for(l=a.eventTimes,b=-1;0<y;){var M=31-Xn(y);w=1<<M,M=l[M],M>b&&(b=M),y&=~w}if(y=b,y=_t()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*Y3(y/1960))-y,10<y){a.timeoutHandle=Pg(Fa.bind(null,a,Bn,zi),y);break}Fa(a,Bn,zi);break;case 5:Fa(a,Bn,zi);break;default:throw Error(n(329))}}}return Fn(a,_t()),a.callbackNode===d?LS.bind(null,a):null}function _y(a,l){var d=fc;return a.current.memoizedState.isDehydrated&&(Ba(a,l).flags|=256),a=sh(a,l),a!==2&&(l=Bn,Bn=d,l!==null&&wy(l)),a}function wy(a){Bn===null?Bn=a:Bn.push.apply(Bn,a)}function X3(a){for(var l=a;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var y=0;y<d.length;y++){var b=d[y],w=b.getSnapshot;b=b.value;try{if(!Cr(w(),b))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Bo(a,l){for(l&=~yy,l&=~th,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var d=31-Xn(l),y=1<<d;a[d]=-1,l&=~y}}function $S(a){if((Ze&6)!==0)throw Error(n(327));cl();var l=ki(a,0);if((l&1)===0)return Fn(a,_t()),null;var d=sh(a,l);if(a.tag!==0&&d===2){var y=Nu(a);y!==0&&(l=y,d=_y(a,y))}if(d===1)throw d=cc,Ba(a,0),Bo(a,l),Fn(a,_t()),d;if(d===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Fa(a,Bn,zi),Fn(a,_t()),null}function Ey(a,l){var d=Ze;Ze|=1;try{return a(l)}finally{Ze=d,Ze===0&&(ul=_t()+500,Rd&&jo())}}function Va(a){$o!==null&&$o.tag===0&&(Ze&6)===0&&cl();var l=Ze;Ze|=1;var d=pr.transition,y=Qe;try{if(pr.transition=null,Qe=1,a)return a()}finally{Qe=y,pr.transition=d,Ze=l,(Ze&6)===0&&jo()}}function Ty(){rr=ll.current,Et(ll)}function Ba(a,l){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,A3(d)),Ut!==null)for(d=Ut.return;d!==null;){var y=d;switch(jg(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Nd();break;case 3:ol(),Et(Ln),Et(wn),Hg();break;case 5:zg(y);break;case 4:ol();break;case 13:Et(kt);break;case 19:Et(kt);break;case 10:Vg(y.type._context);break;case 22:case 23:Ty()}d=d.return}if(an=a,Ut=a=Fo(a.current,null),mn=rr=l,Xt=0,cc=null,yy=th=$a=0,Bn=fc=null,Da!==null){for(l=0;l<Da.length;l++)if(d=Da[l],y=d.interleaved,y!==null){d.interleaved=null;var b=y.next,w=d.pending;if(w!==null){var M=w.next;w.next=b,y.next=M}d.pending=y}Da=null}return a}function VS(a,l){do{var d=Ut;try{if($g(),zd.current=Kd,Wd){for(var y=Nt.memoizedState;y!==null;){var b=y.queue;b!==null&&(b.pending=null),y=y.next}Wd=!1}if(La=0,on=Yt=Nt=null,ic=!1,oc=0,gy.current=null,d===null||d.return===null){Xt=1,cc=l,Ut=null;break}e:{var w=a,M=d.return,U=d,W=l;if(l=mn,U.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var te=W,de=U,me=de.tag;if((de.mode&1)===0&&(me===0||me===11||me===15)){var ue=de.alternate;ue?(de.updateQueue=ue.updateQueue,de.memoizedState=ue.memoizedState,de.lanes=ue.lanes):(de.updateQueue=null,de.memoizedState=null)}var be=cS(M);if(be!==null){be.flags&=-257,fS(be,M,U,w,l),be.mode&1&&uS(w,te,l),l=be,W=te;var Se=l.updateQueue;if(Se===null){var Ae=new Set;Ae.add(W),l.updateQueue=Ae}else Se.add(W);break e}else{if((l&1)===0){uS(w,te,l),Sy();break e}W=Error(n(426))}}else if(It&&U.mode&1){var Vt=cS(M);if(Vt!==null){(Vt.flags&65536)===0&&(Vt.flags|=256),fS(Vt,M,U,w,l),Mg(al(W,U));break e}}w=W=al(W,U),Xt!==4&&(Xt=2),fc===null?fc=[w]:fc.push(w),w=M;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var Y=sS(w,W,l);RT(w,Y);break e;case 1:U=W;var H=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Lo===null||!Lo.has(J)))){w.flags|=65536,l&=-l,w.lanes|=l;var ye=lS(w,U,l);RT(w,ye);break e}}w=w.return}while(w!==null)}US(d)}catch(Pe){l=Pe,Ut===d&&d!==null&&(Ut=d=d.return);continue}break}while(!0)}function BS(){var a=eh.current;return eh.current=Kd,a===null?Kd:a}function Sy(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),an===null||($a&268435455)===0&&(th&268435455)===0||Bo(an,mn)}function sh(a,l){var d=Ze;Ze|=2;var y=BS();(an!==a||mn!==l)&&(zi=null,Ba(a,l));do try{Q3();break}catch(b){VS(a,b)}while(!0);if($g(),Ze=d,eh.current=y,Ut!==null)throw Error(n(261));return an=null,mn=0,Xt}function Q3(){for(;Ut!==null;)FS(Ut)}function J3(){for(;Ut!==null&&!ba();)FS(Ut)}function FS(a){var l=WS(a.alternate,a,rr);a.memoizedProps=a.pendingProps,l===null?US(a):Ut=l,gy.current=null}function US(a){var l=a;do{var d=l.alternate;if(a=l.return,(l.flags&32768)===0){if(d=z3(d,l,rr),d!==null){Ut=d;return}}else{if(d=W3(d,l),d!==null){d.flags&=32767,Ut=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Xt=6,Ut=null;return}}if(l=l.sibling,l!==null){Ut=l;return}Ut=l=a}while(l!==null);Xt===0&&(Xt=5)}function Fa(a,l,d){var y=Qe,b=pr.transition;try{pr.transition=null,Qe=1,Z3(a,l,d,y)}finally{pr.transition=b,Qe=y}return null}function Z3(a,l,d,y){do cl();while($o!==null);if((Ze&6)!==0)throw Error(n(327));d=a.finishedWork;var b=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var w=d.lanes|d.childLanes;if(fg(a,w),a===an&&(Ut=an=null,mn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||rh||(rh=!0,HS(_a,function(){return cl(),null})),w=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||w){w=pr.transition,pr.transition=null;var M=Qe;Qe=1;var U=Ze;Ze|=4,gy.current=null,G3(a,d),NS(d,a),x3(Sg),Ri=!!Tg,Sg=Tg=null,a.current=d,K3(d),Oi(),Ze=U,Qe=M,pr.transition=w}else a.current=d;if(rh&&(rh=!1,$o=a,ih=b),w=a.pendingLanes,w===0&&(Lo=null),pd(d.stateNode),Fn(a,_t()),l!==null)for(y=a.onRecoverableError,d=0;d<l.length;d++)b=l[d],y(b.value,{componentStack:b.stack,digest:b.digest});if(nh)throw nh=!1,a=xy,xy=null,a;return(ih&1)!==0&&a.tag!==0&&cl(),w=a.pendingLanes,(w&1)!==0?a===by?dc++:(dc=0,by=a):dc=0,jo(),null}function cl(){if($o!==null){var a=Xr(ih),l=pr.transition,d=Qe;try{if(pr.transition=null,Qe=16>a?16:a,$o===null)var y=!1;else{if(a=$o,$o=null,ih=0,(Ze&6)!==0)throw Error(n(331));var b=Ze;for(Ze|=4,Ee=a.current;Ee!==null;){var w=Ee,M=w.child;if((Ee.flags&16)!==0){var U=w.deletions;if(U!==null){for(var W=0;W<U.length;W++){var te=U[W];for(Ee=te;Ee!==null;){var de=Ee;switch(de.tag){case 0:case 11:case 15:uc(8,de,w)}var me=de.child;if(me!==null)me.return=de,Ee=me;else for(;Ee!==null;){de=Ee;var ue=de.sibling,be=de.return;if(PS(de),de===te){Ee=null;break}if(ue!==null){ue.return=be,Ee=ue;break}Ee=be}}}var Se=w.alternate;if(Se!==null){var Ae=Se.child;if(Ae!==null){Se.child=null;do{var Vt=Ae.sibling;Ae.sibling=null,Ae=Vt}while(Ae!==null)}}Ee=w}}if((w.subtreeFlags&2064)!==0&&M!==null)M.return=w,Ee=M;else e:for(;Ee!==null;){if(w=Ee,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:uc(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,Ee=Y;break e}Ee=w.return}}var H=a.current;for(Ee=H;Ee!==null;){M=Ee;var J=M.child;if((M.subtreeFlags&2064)!==0&&J!==null)J.return=M,Ee=J;else e:for(M=H;Ee!==null;){if(U=Ee,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Zd(9,U)}}catch(Pe){Mt(U,U.return,Pe)}if(U===M){Ee=null;break e}var ye=U.sibling;if(ye!==null){ye.return=U.return,Ee=ye;break e}Ee=U.return}}if(Ze=b,jo(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(wa,a)}catch{}y=!0}return y}finally{Qe=d,pr.transition=l}}return!1}function qS(a,l,d){l=al(d,l),l=sS(a,l,1),a=Do(a,l,1),l=Rn(),a!==null&&(Aa(a,1,l),Fn(a,l))}function Mt(a,l,d){if(a.tag===3)qS(a,a,d);else for(;l!==null;){if(l.tag===3){qS(l,a,d);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Lo===null||!Lo.has(y))){a=al(d,a),a=lS(l,a,1),l=Do(l,a,1),a=Rn(),l!==null&&(Aa(l,1,a),Fn(l,a));break}}l=l.return}}function e$(a,l,d){var y=a.pingCache;y!==null&&y.delete(l),l=Rn(),a.pingedLanes|=a.suspendedLanes&d,an===a&&(mn&d)===d&&(Xt===4||Xt===3&&(mn&130023424)===mn&&500>_t()-vy?Ba(a,0):yy|=d),Fn(a,l)}function zS(a,l){l===0&&((a.mode&1)===0?l=1:(l=Eo,Eo<<=1,(Eo&130023424)===0&&(Eo=4194304)));var d=Rn();a=Fi(a,l),a!==null&&(Aa(a,l,d),Fn(a,d))}function t$(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),zS(a,d)}function n$(a,l){var d=0;switch(a.tag){case 13:var y=a.stateNode,b=a.memoizedState;b!==null&&(d=b.retryLane);break;case 19:y=a.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(l),zS(a,d)}var WS;WS=function(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps||Ln.current)Vn=!0;else{if((a.lanes&d)===0&&(l.flags&128)===0)return Vn=!1,q3(a,l,d);Vn=(a.flags&131072)!==0}else Vn=!1,It&&(l.flags&1048576)!==0&&TT(l,Md,l.index);switch(l.lanes=0,l.tag){case 2:var y=l.type;Qd(a,l),a=l.pendingProps;var b=Js(l,wn.current);il(l,d),b=Yg(null,l,y,a,b,d);var w=Xg();return l.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,$n(y)?(w=!0,jd(l)):w=!1,l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Ug(l),b.updater=Yd,l.stateNode=b,b._reactInternals=l,ny(l,y,a,d),l=ay(null,l,y,!0,w,d)):(l.tag=0,It&&w&&Ng(l),jn(null,l,b,d),l=l.child),l;case 16:y=l.elementType;e:{switch(Qd(a,l),a=l.pendingProps,b=y._init,y=b(y._payload),l.type=y,b=l.tag=i$(y),a=kr(y,a),b){case 0:l=oy(null,l,y,a,d);break e;case 1:l=yS(null,l,y,a,d);break e;case 11:l=dS(null,l,y,a,d);break e;case 14:l=hS(null,l,y,kr(y.type,a),d);break e}throw Error(n(306,y,""))}return l;case 0:return y=l.type,b=l.pendingProps,b=l.elementType===y?b:kr(y,b),oy(a,l,y,b,d);case 1:return y=l.type,b=l.pendingProps,b=l.elementType===y?b:kr(y,b),yS(a,l,y,b,d);case 3:e:{if(vS(l),a===null)throw Error(n(387));y=l.pendingProps,w=l.memoizedState,b=w.element,jT(a,l),Ud(l,y,null,d);var M=l.memoizedState;if(y=M.element,w.isDehydrated)if(w={element:y,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){b=al(Error(n(423)),l),l=xS(a,l,y,d,b);break e}else if(y!==b){b=al(Error(n(424)),l),l=xS(a,l,y,d,b);break e}else for(nr=Oo(l.stateNode.containerInfo.firstChild),tr=l,It=!0,Or=null,d=kT(l,null,y,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(tl(),y===b){l=qi(a,l,d);break e}jn(a,l,y,d)}l=l.child}return l;case 5:return MT(l),a===null&&Dg(l),y=l.type,b=l.pendingProps,w=a!==null?a.memoizedProps:null,M=b.children,Ag(y,b)?M=null:w!==null&&Ag(y,w)&&(l.flags|=32),gS(a,l),jn(a,l,M,d),l.child;case 6:return a===null&&Dg(l),null;case 13:return bS(a,l,d);case 4:return qg(l,l.stateNode.containerInfo),y=l.pendingProps,a===null?l.child=nl(l,null,y,d):jn(a,l,y,d),l.child;case 11:return y=l.type,b=l.pendingProps,b=l.elementType===y?b:kr(y,b),dS(a,l,y,b,d);case 7:return jn(a,l,l.pendingProps,d),l.child;case 8:return jn(a,l,l.pendingProps.children,d),l.child;case 12:return jn(a,l,l.pendingProps.children,d),l.child;case 10:e:{if(y=l.type._context,b=l.pendingProps,w=l.memoizedProps,M=b.value,xt(Vd,y._currentValue),y._currentValue=M,w!==null)if(Cr(w.value,M)){if(w.children===b.children&&!Ln.current){l=qi(a,l,d);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var U=w.dependencies;if(U!==null){M=w.child;for(var W=U.firstContext;W!==null;){if(W.context===y){if(w.tag===1){W=Ui(-1,d&-d),W.tag=2;var te=w.updateQueue;if(te!==null){te=te.shared;var de=te.pending;de===null?W.next=W:(W.next=de.next,de.next=W),te.pending=W}}w.lanes|=d,W=w.alternate,W!==null&&(W.lanes|=d),Bg(w.return,d,l),U.lanes|=d;break}W=W.next}}else if(w.tag===10)M=w.type===l.type?null:w.child;else if(w.tag===18){if(M=w.return,M===null)throw Error(n(341));M.lanes|=d,U=M.alternate,U!==null&&(U.lanes|=d),Bg(M,d,l),M=w.sibling}else M=w.child;if(M!==null)M.return=w;else for(M=w;M!==null;){if(M===l){M=null;break}if(w=M.sibling,w!==null){w.return=M.return,M=w;break}M=M.return}w=M}jn(a,l,b.children,d),l=l.child}return l;case 9:return b=l.type,y=l.pendingProps.children,il(l,d),b=dr(b),y=y(b),l.flags|=1,jn(a,l,y,d),l.child;case 14:return y=l.type,b=kr(y,l.pendingProps),b=kr(y.type,b),hS(a,l,y,b,d);case 15:return pS(a,l,l.type,l.pendingProps,d);case 17:return y=l.type,b=l.pendingProps,b=l.elementType===y?b:kr(y,b),Qd(a,l),l.tag=1,$n(y)?(a=!0,jd(l)):a=!1,il(l,d),oS(l,y,b),ny(l,y,b,d),ay(null,l,y,!0,a,d);case 19:return wS(a,l,d);case 22:return mS(a,l,d)}throw Error(n(156,l.tag))};function HS(a,l){return Cu(a,l)}function r$(a,l,d,y){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(a,l,d,y){return new r$(a,l,d,y)}function Ay(a){return a=a.prototype,!(!a||!a.isReactComponent)}function i$(a){if(typeof a=="function")return Ay(a)?1:0;if(a!=null){if(a=a.$$typeof,a===V)return 11;if(a===ee)return 14}return 2}function Fo(a,l){var d=a.alternate;return d===null?(d=mr(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function lh(a,l,d,y,b,w){var M=2;if(y=a,typeof a=="function")Ay(a)&&(M=1);else if(typeof a=="string")M=5;else e:switch(a){case A:return Ua(d.children,b,w,l);case P:M=8,b|=8;break;case N:return a=mr(12,d,l,b|2),a.elementType=N,a.lanes=w,a;case $:return a=mr(13,d,l,b),a.elementType=$,a.lanes=w,a;case Z:return a=mr(19,d,l,b),a.elementType=Z,a.lanes=w,a;case se:return uh(d,b,w,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case B:M=10;break e;case L:M=9;break e;case V:M=11;break e;case ee:M=14;break e;case ae:M=16,y=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return l=mr(M,d,l,b),l.elementType=a,l.type=y,l.lanes=w,l}function Ua(a,l,d,y){return a=mr(7,a,y,l),a.lanes=d,a}function uh(a,l,d,y){return a=mr(22,a,y,l),a.elementType=se,a.lanes=d,a.stateNode={isHidden:!1},a}function Py(a,l,d){return a=mr(6,a,null,l),a.lanes=d,a}function Iy(a,l,d){return l=mr(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function o$(a,l,d,y,b){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ru(0),this.expirationTimes=Ru(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ru(0),this.identifierPrefix=y,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Cy(a,l,d,y,b,w,M,U,W){return a=new o$(a,l,d,U,W),l===1?(l=1,w===!0&&(l|=8)):l=0,w=mr(3,null,null,l),a.current=w,w.stateNode=a,w.memoizedState={element:y,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ug(w),a}function a$(a,l,d){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:y==null?null:""+y,children:a,containerInfo:l,implementation:d}}function GS(a){if(!a)return No;a=a._reactInternals;e:{if(Pr(a)!==a||a.tag!==1)throw Error(n(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if($n(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(a.tag===1){var d=a.type;if($n(d))return _T(a,d,l)}return l}function KS(a,l,d,y,b,w,M,U,W){return a=Cy(d,y,!0,a,b,w,M,U,W),a.context=GS(null),d=a.current,y=Rn(),b=Vo(d),w=Ui(y,b),w.callback=l??null,Do(d,w,b),a.current.lanes=b,Aa(a,b,y),Fn(a,y),a}function ch(a,l,d,y){var b=l.current,w=Rn(),M=Vo(b);return d=GS(d),l.context===null?l.context=d:l.pendingContext=d,l=Ui(w,M),l.payload={element:a},y=y===void 0?null:y,y!==null&&(l.callback=y),a=Do(b,l,M),a!==null&&(Rr(a,b,M,w),Fd(a,b,M)),M}function fh(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function YS(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function Oy(a,l){YS(a,l),(a=a.alternate)&&YS(a,l)}function s$(){return null}var XS=typeof reportError=="function"?reportError:function(a){console.error(a)};function ky(a){this._internalRoot=a}dh.prototype.render=ky.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));ch(a,l,null,null)},dh.prototype.unmount=ky.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Va(function(){ch(null,a,null,null)}),l[Li]=null}};function dh(a){this._internalRoot=a}dh.prototype.unstable_scheduleHydration=function(a){if(a){var l=$u();a={blockedOn:null,target:a,priority:l};for(var d=0;d<Qn.length&&l!==0&&l<Qn[d].priority;d++);Qn.splice(d,0,a),d===0&&Ms(a)}};function Ny(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function hh(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function QS(){}function l$(a,l,d,y,b){if(b){if(typeof y=="function"){var w=y;y=function(){var te=fh(M);w.call(te)}}var M=KS(l,y,a,0,null,!1,!1,"",QS);return a._reactRootContainer=M,a[Li]=M.current,Xu(a.nodeType===8?a.parentNode:a),Va(),M}for(;b=a.lastChild;)a.removeChild(b);if(typeof y=="function"){var U=y;y=function(){var te=fh(W);U.call(te)}}var W=Cy(a,0,!1,null,null,!1,!1,"",QS);return a._reactRootContainer=W,a[Li]=W.current,Xu(a.nodeType===8?a.parentNode:a),Va(function(){ch(l,W,d,y)}),W}function ph(a,l,d,y,b){var w=d._reactRootContainer;if(w){var M=w;if(typeof b=="function"){var U=b;b=function(){var W=fh(M);U.call(W)}}ch(l,M,a,b)}else M=l$(d,l,a,b,y);return fh(M)}Mu=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var d=it(l.pendingLanes);d!==0&&(Du(l,d|1),Fn(l,_t()),(Ze&6)===0&&(ul=_t()+500,jo()))}break;case 13:Va(function(){var y=Fi(a,1);if(y!==null){var b=Rn();Rr(y,a,1,b)}}),Oy(a,1)}},Rs=function(a){if(a.tag===13){var l=Fi(a,134217728);if(l!==null){var d=Rn();Rr(l,a,134217728,d)}Oy(a,134217728)}},Lu=function(a){if(a.tag===13){var l=Vo(a),d=Fi(a,l);if(d!==null){var y=Rn();Rr(d,a,l,y)}Oy(a,l)}},$u=function(){return Qe},Vu=function(a,l){var d=Qe;try{return Qe=a,l()}finally{Qe=d}},Pi=function(a,l,d){switch(l){case"input":if(Rt(a,d),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var y=d[l];if(y!==a&&y.form===a.form){var b=kd(y);if(!b)throw Error(n(90));ce(y),Rt(y,b)}}}break;case"textarea":ga(a,d);break;case"select":l=d.value,l!=null&&Kt(a,!!d.multiple,l,!1)}},od=Ey,ad=Va;var u$={usingClientEntryPoint:!1,Events:[Zu,Xs,kd,xo,bo,Ey]},hc={findFiberByHostInstance:ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c$={bundleType:hc.bundleType,version:hc.version,rendererPackageName:hc.rendererPackageName,rendererConfig:hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=hd(a),a===null?null:a.stateNode},findFiberByHostInstance:hc.findFiberByHostInstance||s$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{wa=mh.inject(c$),Yn=mh}catch{}}return Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u$,Un.createPortal=function(a,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ny(l))throw Error(n(200));return a$(a,l,null,d)},Un.createRoot=function(a,l){if(!Ny(a))throw Error(n(299));var d=!1,y="",b=XS;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),l=Cy(a,1,!1,null,null,d,!1,y,b),a[Li]=l.current,Xu(a.nodeType===8?a.parentNode:a),new ky(l)},Un.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=hd(l),a=a===null?null:a.stateNode,a},Un.flushSync=function(a){return Va(a)},Un.hydrate=function(a,l,d){if(!hh(l))throw Error(n(200));return ph(null,a,l,!0,d)},Un.hydrateRoot=function(a,l,d){if(!Ny(a))throw Error(n(405));var y=d!=null&&d.hydratedSources||null,b=!1,w="",M=XS;if(d!=null&&(d.unstable_strictMode===!0&&(b=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(M=d.onRecoverableError)),l=KS(l,null,a,1,d??null,b,!1,w,M),a[Li]=l.current,Xu(a),y)for(a=0;a<y.length;a++)d=y[a],b=d._getVersion,b=b(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,b]:l.mutableSourceEagerHydrationData.push(d,b);return new dh(l)},Un.render=function(a,l,d){if(!hh(l))throw Error(n(200));return ph(null,a,l,!1,d)},Un.unmountComponentAtNode=function(a){if(!hh(a))throw Error(n(40));return a._reactRootContainer?(Va(function(){ph(null,null,a,!1,function(){a._reactRootContainer=null,a[Li]=null})}),!0):!1},Un.unstable_batchedUpdates=Ey,Un.unstable_renderSubtreeIntoContainer=function(a,l,d,y){if(!hh(d))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return ph(a,l,d,!1,y)},Un.version="18.3.1-next-f1338f8080-20240426",Un}var oA;function E2(){if(oA)return Dy.exports;oA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dy.exports=y$(),Dy.exports}var aA;function v$(){if(aA)return yh;aA=1;var t=E2();return yh.createRoot=t.createRoot,yh.hydrateRoot=t.hydrateRoot,yh}var x$=v$();const b$=ht(x$),T2=q.createContext(null);function Gt(){const t=q.useContext(T2);if(!t)throw new Error("useTripContext must be used within a TripContext.Provider");return t}const _$=()=>{};var sA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},w$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},A2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|u>>4;let v=(u&15)<<2|f>>6,x=f&63;c||(x=64,s||(v=64)),r.push(n[h],n[p],n[v],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(S2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):w$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||p==null)throw new E$;const v=o<<2|u>>4;if(r.push(v),f!==64){const x=u<<4&240|f>>2;if(r.push(x),p!==64){const S=f<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class E$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T$=function(t){const e=S2(t);return A2.encodeByteArray(e,!0)},Gh=function(t){return T$(t).replace(/\./g,"")},P2=function(t){try{return A2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$=()=>S$().__FIREBASE_DEFAULTS__,P$=()=>{if(typeof process>"u"||typeof sA>"u")return;const t=sA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},I$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&P2(t[1]);return e&&JSON.parse(e)},fm=()=>{try{return _$()||A$()||P$()||I$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},I2=t=>{var e,n;return(n=(e=fm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},C$=t=>{const e=I2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},C2=()=>{var t;return(t=fm())==null?void 0:t.config},O2=t=>{var e;return(e=fm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function k2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Gh(JSON.stringify(n)),Gh(JSON.stringify(s)),""].join(".")}const Rc={};function N$(){const t={prod:[],emulator:[]};for(const e of Object.keys(Rc))Rc[e]?t.emulator.push(e):t.prod.push(e);return t}function j$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lA=!1;function N2(t,e){if(typeof window>"u"||typeof document>"u"||!cu(window.location.host)||Rc[t]===e||Rc[t]||lA)return;Rc[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=N$().prod.length>0;function s(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,x){v.setAttribute("width","24"),v.setAttribute("id",x),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{lA=!0,s()},v}function h(v,x){v.setAttribute("id",x),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=j$(r),x=n("text"),S=document.getElementById(x)||document.createElement("span"),T=n("learnmore"),_=document.getElementById(T)||document.createElement("a"),I=n("preprendIcon"),R=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const k=v.element;u(k),h(_,T);const D=f();c(R,I),k.append(R,S,_,D),document.body.appendChild(k)}o?(S.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function R$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function D$(){var e;const t=(e=fm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function V$(){const t=Nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function B$(){return!D$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F$(){try{return typeof indexedDB=="object"}catch{return!1}}function U$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$="FirebaseError";class co extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=q$,Object.setPrototypeOf(this,co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vf.prototype.create)}}class Vf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?z$(o,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new co(i,u,r)}}function z$(t,e){return t.replace(W$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const W$=/\{\$([^}]+)}/g;function H$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ss(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(uA(o)&&uA(s)){if(!ss(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function G$(t,e){const n=new K$(t,e);return n.subscribe.bind(n)}class K${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Y$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$y),i.error===void 0&&(i.error=$y),i.complete===void 0&&(i.complete=$y);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $y(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t){return t&&t._delegate?t._delegate:t}class ls{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new O$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J$(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=za){return this.instances.has(e)}getOptions(e=za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=za){return this.component?this.component.multipleInstances?e:za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q$(t){return t===za?void 0:t}function J$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const eV={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},tV=Ke.INFO,nV={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},rV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=nV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qw{constructor(e){this.name=e,this._logLevel=tV,this._logHandler=rV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const iV=(t,e)=>e.some(n=>t instanceof n);let cA,fA;function oV(){return cA||(cA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aV(){return fA||(fA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j2=new WeakMap,t_=new WeakMap,R2=new WeakMap,Vy=new WeakMap,zw=new WeakMap;function sV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Qo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&j2.set(n,t)}).catch(()=>{}),zw.set(e,t),e}function lV(t){if(t_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});t_.set(t,e)}let n_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return t_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||R2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uV(t){n_=t(n_)}function cV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(By(this),e,...n);return R2.set(r,e.sort?e.sort():[e]),Qo(r)}:aV().includes(t)?function(...e){return t.apply(By(this),e),Qo(j2.get(this))}:function(...e){return Qo(t.apply(By(this),e))}}function fV(t){return typeof t=="function"?cV(t):(t instanceof IDBTransaction&&lV(t),iV(t,oV())?new Proxy(t,n_):t)}function Qo(t){if(t instanceof IDBRequest)return sV(t);if(Vy.has(t))return Vy.get(t);const e=fV(t);return e!==t&&(Vy.set(t,e),zw.set(e,t)),e}const By=t=>zw.get(t);function dV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),u=Qo(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Qo(s.result),c.oldVersion,c.newVersion,Qo(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const hV=["get","getKey","getAll","getAllKeys","count"],pV=["put","add","delete","clear"],Fy=new Map;function dA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fy.get(e))return Fy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hV.includes(n)))return;const o=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return Fy.set(e,o),o}uV(t=>({...t,get:(e,n,r)=>dA(e,n)||t.get(e,n,r),has:(e,n)=>!!dA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const r_="@firebase/app",hA="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new qw("@firebase/app"),yV="@firebase/app-compat",vV="@firebase/analytics-compat",xV="@firebase/analytics",bV="@firebase/app-check-compat",_V="@firebase/app-check",wV="@firebase/auth",EV="@firebase/auth-compat",TV="@firebase/database",SV="@firebase/data-connect",AV="@firebase/database-compat",PV="@firebase/functions",IV="@firebase/functions-compat",CV="@firebase/installations",OV="@firebase/installations-compat",kV="@firebase/messaging",NV="@firebase/messaging-compat",jV="@firebase/performance",RV="@firebase/performance-compat",DV="@firebase/remote-config",MV="@firebase/remote-config-compat",LV="@firebase/storage",$V="@firebase/storage-compat",VV="@firebase/firestore",BV="@firebase/ai",FV="@firebase/firestore-compat",UV="firebase",qV="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="[DEFAULT]",zV={[r_]:"fire-core",[yV]:"fire-core-compat",[xV]:"fire-analytics",[vV]:"fire-analytics-compat",[_V]:"fire-app-check",[bV]:"fire-app-check-compat",[wV]:"fire-auth",[EV]:"fire-auth-compat",[TV]:"fire-rtdb",[SV]:"fire-data-connect",[AV]:"fire-rtdb-compat",[PV]:"fire-fn",[IV]:"fire-fn-compat",[CV]:"fire-iid",[OV]:"fire-iid-compat",[kV]:"fire-fcm",[NV]:"fire-fcm-compat",[jV]:"fire-perf",[RV]:"fire-perf-compat",[DV]:"fire-rc",[MV]:"fire-rc-compat",[LV]:"fire-gcs",[$V]:"fire-gcs-compat",[VV]:"fire-fst",[FV]:"fire-fst-compat",[BV]:"fire-vertex","fire-js":"fire-js",[UV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new Map,WV=new Map,o_=new Map;function pA(t,e){try{t.container.addComponent(e)}catch(n){ro.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rl(t){const e=t.name;if(o_.has(e))return ro.debug(`There were multiple attempts to register component ${e}.`),!1;o_.set(e,t);for(const n of Kh.values())pA(n,t);for(const n of WV.values())pA(n,t);return!0}function Ww(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Lr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jo=new Vf("app","Firebase",HV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=qV;function D2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:i_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Jo.create("bad-app-name",{appName:String(i)});if(n||(n=C2()),!n)throw Jo.create("no-options");const o=Kh.get(i);if(o){if(ss(n,o.options)&&ss(r,o.config))return o;throw Jo.create("duplicate-app",{appName:i})}const s=new Z$(i);for(const c of o_.values())s.addComponent(c);const u=new GV(n,r,s);return Kh.set(i,u),u}function M2(t=i_){const e=Kh.get(t);if(!e&&t===i_&&C2())return D2();if(!e)throw Jo.create("no-app",{appName:t});return e}function Zo(t,e,n){let r=zV[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ro.warn(s.join(" "));return}Rl(new ls(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="firebase-heartbeat-database",YV=1,Wc="firebase-heartbeat-store";let Uy=null;function L2(){return Uy||(Uy=dV(KV,YV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jo.create("idb-open",{originalErrorMessage:t.message})})),Uy}async function XV(t){try{const n=(await L2()).transaction(Wc),r=await n.objectStore(Wc).get($2(t));return await n.done,r}catch(e){if(e instanceof co)ro.warn(e.message);else{const n=Jo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ro.warn(n.message)}}}async function mA(t,e){try{const r=(await L2()).transaction(Wc,"readwrite");await r.objectStore(Wc).put(e,$2(t)),await r.done}catch(n){if(n instanceof co)ro.warn(n.message);else{const r=Jo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ro.warn(r.message)}}}function $2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=1024,JV=30;class ZV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new t5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=gA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>JV){const s=n5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ro.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gA(),{heartbeatsToSend:r,unsentEntries:i}=e5(this._heartbeatsCache.heartbeats),o=Gh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ro.warn(n),""}}}function gA(){return new Date().toISOString().substring(0,10)}function e5(t,e=QV){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),yA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class t5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F$()?U$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function yA(t){return Gh(JSON.stringify({version:2,heartbeats:t})).length}function n5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t){Rl(new ls("platform-logger",e=>new mV(e),"PRIVATE")),Rl(new ls("heartbeat",e=>new ZV(e),"PRIVATE")),Zo(r_,hA,t),Zo(r_,hA,"esm2020"),Zo("fire-js","")}r5("");var vA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,V2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,P){function N(){}N.prototype=P.prototype,A.F=P.prototype,A.prototype=new N,A.prototype.constructor=A,A.D=function(B,L,V){for(var $=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)$[Z-2]=arguments[Z];return P.prototype[L].apply(B,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,P,N){N||(N=0);const B=Array(16);if(typeof P=="string")for(var L=0;L<16;++L)B[L]=P.charCodeAt(N++)|P.charCodeAt(N++)<<8|P.charCodeAt(N++)<<16|P.charCodeAt(N++)<<24;else for(L=0;L<16;++L)B[L]=P[N++]|P[N++]<<8|P[N++]<<16|P[N++]<<24;P=A.g[0],N=A.g[1],L=A.g[2];let V=A.g[3],$;$=P+(V^N&(L^V))+B[0]+3614090360&4294967295,P=N+($<<7&4294967295|$>>>25),$=V+(L^P&(N^L))+B[1]+3905402710&4294967295,V=P+($<<12&4294967295|$>>>20),$=L+(N^V&(P^N))+B[2]+606105819&4294967295,L=V+($<<17&4294967295|$>>>15),$=N+(P^L&(V^P))+B[3]+3250441966&4294967295,N=L+($<<22&4294967295|$>>>10),$=P+(V^N&(L^V))+B[4]+4118548399&4294967295,P=N+($<<7&4294967295|$>>>25),$=V+(L^P&(N^L))+B[5]+1200080426&4294967295,V=P+($<<12&4294967295|$>>>20),$=L+(N^V&(P^N))+B[6]+2821735955&4294967295,L=V+($<<17&4294967295|$>>>15),$=N+(P^L&(V^P))+B[7]+4249261313&4294967295,N=L+($<<22&4294967295|$>>>10),$=P+(V^N&(L^V))+B[8]+1770035416&4294967295,P=N+($<<7&4294967295|$>>>25),$=V+(L^P&(N^L))+B[9]+2336552879&4294967295,V=P+($<<12&4294967295|$>>>20),$=L+(N^V&(P^N))+B[10]+4294925233&4294967295,L=V+($<<17&4294967295|$>>>15),$=N+(P^L&(V^P))+B[11]+2304563134&4294967295,N=L+($<<22&4294967295|$>>>10),$=P+(V^N&(L^V))+B[12]+1804603682&4294967295,P=N+($<<7&4294967295|$>>>25),$=V+(L^P&(N^L))+B[13]+4254626195&4294967295,V=P+($<<12&4294967295|$>>>20),$=L+(N^V&(P^N))+B[14]+2792965006&4294967295,L=V+($<<17&4294967295|$>>>15),$=N+(P^L&(V^P))+B[15]+1236535329&4294967295,N=L+($<<22&4294967295|$>>>10),$=P+(L^V&(N^L))+B[1]+4129170786&4294967295,P=N+($<<5&4294967295|$>>>27),$=V+(N^L&(P^N))+B[6]+3225465664&4294967295,V=P+($<<9&4294967295|$>>>23),$=L+(P^N&(V^P))+B[11]+643717713&4294967295,L=V+($<<14&4294967295|$>>>18),$=N+(V^P&(L^V))+B[0]+3921069994&4294967295,N=L+($<<20&4294967295|$>>>12),$=P+(L^V&(N^L))+B[5]+3593408605&4294967295,P=N+($<<5&4294967295|$>>>27),$=V+(N^L&(P^N))+B[10]+38016083&4294967295,V=P+($<<9&4294967295|$>>>23),$=L+(P^N&(V^P))+B[15]+3634488961&4294967295,L=V+($<<14&4294967295|$>>>18),$=N+(V^P&(L^V))+B[4]+3889429448&4294967295,N=L+($<<20&4294967295|$>>>12),$=P+(L^V&(N^L))+B[9]+568446438&4294967295,P=N+($<<5&4294967295|$>>>27),$=V+(N^L&(P^N))+B[14]+3275163606&4294967295,V=P+($<<9&4294967295|$>>>23),$=L+(P^N&(V^P))+B[3]+4107603335&4294967295,L=V+($<<14&4294967295|$>>>18),$=N+(V^P&(L^V))+B[8]+1163531501&4294967295,N=L+($<<20&4294967295|$>>>12),$=P+(L^V&(N^L))+B[13]+2850285829&4294967295,P=N+($<<5&4294967295|$>>>27),$=V+(N^L&(P^N))+B[2]+4243563512&4294967295,V=P+($<<9&4294967295|$>>>23),$=L+(P^N&(V^P))+B[7]+1735328473&4294967295,L=V+($<<14&4294967295|$>>>18),$=N+(V^P&(L^V))+B[12]+2368359562&4294967295,N=L+($<<20&4294967295|$>>>12),$=P+(N^L^V)+B[5]+4294588738&4294967295,P=N+($<<4&4294967295|$>>>28),$=V+(P^N^L)+B[8]+2272392833&4294967295,V=P+($<<11&4294967295|$>>>21),$=L+(V^P^N)+B[11]+1839030562&4294967295,L=V+($<<16&4294967295|$>>>16),$=N+(L^V^P)+B[14]+4259657740&4294967295,N=L+($<<23&4294967295|$>>>9),$=P+(N^L^V)+B[1]+2763975236&4294967295,P=N+($<<4&4294967295|$>>>28),$=V+(P^N^L)+B[4]+1272893353&4294967295,V=P+($<<11&4294967295|$>>>21),$=L+(V^P^N)+B[7]+4139469664&4294967295,L=V+($<<16&4294967295|$>>>16),$=N+(L^V^P)+B[10]+3200236656&4294967295,N=L+($<<23&4294967295|$>>>9),$=P+(N^L^V)+B[13]+681279174&4294967295,P=N+($<<4&4294967295|$>>>28),$=V+(P^N^L)+B[0]+3936430074&4294967295,V=P+($<<11&4294967295|$>>>21),$=L+(V^P^N)+B[3]+3572445317&4294967295,L=V+($<<16&4294967295|$>>>16),$=N+(L^V^P)+B[6]+76029189&4294967295,N=L+($<<23&4294967295|$>>>9),$=P+(N^L^V)+B[9]+3654602809&4294967295,P=N+($<<4&4294967295|$>>>28),$=V+(P^N^L)+B[12]+3873151461&4294967295,V=P+($<<11&4294967295|$>>>21),$=L+(V^P^N)+B[15]+530742520&4294967295,L=V+($<<16&4294967295|$>>>16),$=N+(L^V^P)+B[2]+3299628645&4294967295,N=L+($<<23&4294967295|$>>>9),$=P+(L^(N|~V))+B[0]+4096336452&4294967295,P=N+($<<6&4294967295|$>>>26),$=V+(N^(P|~L))+B[7]+1126891415&4294967295,V=P+($<<10&4294967295|$>>>22),$=L+(P^(V|~N))+B[14]+2878612391&4294967295,L=V+($<<15&4294967295|$>>>17),$=N+(V^(L|~P))+B[5]+4237533241&4294967295,N=L+($<<21&4294967295|$>>>11),$=P+(L^(N|~V))+B[12]+1700485571&4294967295,P=N+($<<6&4294967295|$>>>26),$=V+(N^(P|~L))+B[3]+2399980690&4294967295,V=P+($<<10&4294967295|$>>>22),$=L+(P^(V|~N))+B[10]+4293915773&4294967295,L=V+($<<15&4294967295|$>>>17),$=N+(V^(L|~P))+B[1]+2240044497&4294967295,N=L+($<<21&4294967295|$>>>11),$=P+(L^(N|~V))+B[8]+1873313359&4294967295,P=N+($<<6&4294967295|$>>>26),$=V+(N^(P|~L))+B[15]+4264355552&4294967295,V=P+($<<10&4294967295|$>>>22),$=L+(P^(V|~N))+B[6]+2734768916&4294967295,L=V+($<<15&4294967295|$>>>17),$=N+(V^(L|~P))+B[13]+1309151649&4294967295,N=L+($<<21&4294967295|$>>>11),$=P+(L^(N|~V))+B[4]+4149444226&4294967295,P=N+($<<6&4294967295|$>>>26),$=V+(N^(P|~L))+B[11]+3174756917&4294967295,V=P+($<<10&4294967295|$>>>22),$=L+(P^(V|~N))+B[2]+718787259&4294967295,L=V+($<<15&4294967295|$>>>17),$=N+(V^(L|~P))+B[9]+3951481745&4294967295,A.g[0]=A.g[0]+P&4294967295,A.g[1]=A.g[1]+(L+($<<21&4294967295|$>>>11))&4294967295,A.g[2]=A.g[2]+L&4294967295,A.g[3]=A.g[3]+V&4294967295}r.prototype.v=function(A,P){P===void 0&&(P=A.length);const N=P-this.blockSize,B=this.C;let L=this.h,V=0;for(;V<P;){if(L==0)for(;V<=N;)i(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<P;)if(B[L++]=A.charCodeAt(V++),L==this.blockSize){i(this,B),L=0;break}}else for(;V<P;)if(B[L++]=A[V++],L==this.blockSize){i(this,B),L=0;break}}this.h=L,this.o+=P},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var P=1;P<A.length-8;++P)A[P]=0;P=this.o*8;for(var N=A.length-8;N<A.length;++N)A[N]=P&255,P/=256;for(this.v(A),A=Array(16),P=0,N=0;N<4;++N)for(let B=0;B<32;B+=8)A[P++]=this.g[N]>>>B&255;return A};function o(A,P){var N=u;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=P(A)}function s(A,P){this.h=P;const N=[];let B=!0;for(let L=A.length-1;L>=0;L--){const V=A[L]|0;B&&V==P||(N[L]=V,B=!1)}this.g=N}var u={};function c(A){return-128<=A&&A<128?o(A,function(P){return new s([P|0],P<0?-1:0)}):new s([A|0],A<0?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return p;if(A<0)return _(f(-A));const P=[];let N=1;for(let B=0;A>=N;B++)P[B]=A/N|0,N*=4294967296;return new s(P,0)}function h(A,P){if(A.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(A.charAt(0)=="-")return _(h(A.substring(1),P));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=f(Math.pow(P,8));let B=p;for(let V=0;V<A.length;V+=8){var L=Math.min(8,A.length-V);const $=parseInt(A.substring(V,V+L),P);L<8?(L=f(Math.pow(P,L)),B=B.j(L).add(f($))):(B=B.j(N),B=B.add(f($)))}return B}var p=c(0),v=c(1),x=c(16777216);t=s.prototype,t.m=function(){if(T(this))return-_(this).m();let A=0,P=1;for(let N=0;N<this.g.length;N++){const B=this.i(N);A+=(B>=0?B:4294967296+B)*P,P*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S(this))return"0";if(T(this))return"-"+_(this).toString(A);const P=f(Math.pow(A,6));var N=this;let B="";for(;;){const L=D(N,P).g;N=I(N,L.j(P));let V=((N.g.length>0?N.g[0]:N.h)>>>0).toString(A);if(N=L,S(N))return V+B;for(;V.length<6;)V="0"+V;B=V+B}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function S(A){if(A.h!=0)return!1;for(let P=0;P<A.g.length;P++)if(A.g[P]!=0)return!1;return!0}function T(A){return A.h==-1}t.l=function(A){return A=I(this,A),T(A)?-1:S(A)?0:1};function _(A){const P=A.g.length,N=[];for(let B=0;B<P;B++)N[B]=~A.g[B];return new s(N,~A.h).add(v)}t.abs=function(){return T(this)?_(this):this},t.add=function(A){const P=Math.max(this.g.length,A.g.length),N=[];let B=0;for(let L=0;L<=P;L++){let V=B+(this.i(L)&65535)+(A.i(L)&65535),$=(V>>>16)+(this.i(L)>>>16)+(A.i(L)>>>16);B=$>>>16,V&=65535,$&=65535,N[L]=$<<16|V}return new s(N,N[N.length-1]&-2147483648?-1:0)};function I(A,P){return A.add(_(P))}t.j=function(A){if(S(this)||S(A))return p;if(T(this))return T(A)?_(this).j(_(A)):_(_(this).j(A));if(T(A))return _(this.j(_(A)));if(this.l(x)<0&&A.l(x)<0)return f(this.m()*A.m());const P=this.g.length+A.g.length,N=[];for(var B=0;B<2*P;B++)N[B]=0;for(B=0;B<this.g.length;B++)for(let L=0;L<A.g.length;L++){const V=this.i(B)>>>16,$=this.i(B)&65535,Z=A.i(L)>>>16,ee=A.i(L)&65535;N[2*B+2*L]+=$*ee,R(N,2*B+2*L),N[2*B+2*L+1]+=V*ee,R(N,2*B+2*L+1),N[2*B+2*L+1]+=$*Z,R(N,2*B+2*L+1),N[2*B+2*L+2]+=V*Z,R(N,2*B+2*L+2)}for(A=0;A<P;A++)N[A]=N[2*A+1]<<16|N[2*A];for(A=P;A<2*P;A++)N[A]=0;return new s(N,0)};function R(A,P){for(;(A[P]&65535)!=A[P];)A[P+1]+=A[P]>>>16,A[P]&=65535,P++}function k(A,P){this.g=A,this.h=P}function D(A,P){if(S(P))throw Error("division by zero");if(S(A))return new k(p,p);if(T(A))return P=D(_(A),P),new k(_(P.g),_(P.h));if(T(P))return P=D(A,_(P)),new k(_(P.g),P.h);if(A.g.length>30){if(T(A)||T(P))throw Error("slowDivide_ only works with positive integers.");for(var N=v,B=P;B.l(A)<=0;)N=O(N),B=O(B);var L=j(N,1),V=j(B,1);for(B=j(B,2),N=j(N,2);!S(B);){var $=V.add(B);$.l(A)<=0&&(L=L.add(N),V=$),B=j(B,1),N=j(N,1)}return P=I(A,L.j(P)),new k(L,P)}for(L=p;A.l(P)>=0;){for(N=Math.max(1,Math.floor(A.m()/P.m())),B=Math.ceil(Math.log(N)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),V=f(N),$=V.j(P);T($)||$.l(A)>0;)N-=B,V=f(N),$=V.j(P);S(V)&&(V=v),L=L.add(V),A=I(A,$)}return new k(L,A)}t.B=function(A){return D(this,A).h},t.and=function(A){const P=Math.max(this.g.length,A.g.length),N=[];for(let B=0;B<P;B++)N[B]=this.i(B)&A.i(B);return new s(N,this.h&A.h)},t.or=function(A){const P=Math.max(this.g.length,A.g.length),N=[];for(let B=0;B<P;B++)N[B]=this.i(B)|A.i(B);return new s(N,this.h|A.h)},t.xor=function(A){const P=Math.max(this.g.length,A.g.length),N=[];for(let B=0;B<P;B++)N[B]=this.i(B)^A.i(B);return new s(N,this.h^A.h)};function O(A){const P=A.g.length+1,N=[];for(let B=0;B<P;B++)N[B]=A.i(B)<<1|A.i(B-1)>>>31;return new s(N,A.h)}function j(A,P){const N=P>>5;P%=32;const B=A.g.length-N,L=[];for(let V=0;V<B;V++)L[V]=P>0?A.i(V+N)>>>P|A.i(V+N+1)<<32-P:A.i(V+N);return new s(L,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,V2=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,ea=s}).apply(typeof vA<"u"?vA:typeof self<"u"?self:typeof window<"u"?window:{});var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B2,Ac,F2,Lh,a_,U2,q2,z2;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof vh=="object"&&vh];for(var E=0;E<m.length;++E){var C=m[E];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(m,E){if(E)e:{var C=r;m=m.split(".");for(var F=0;F<m.length-1;F++){var X=m[F];if(!(X in C))break e;C=C[X]}m=m[m.length-1],F=C[m],E=E(F),E!=F&&E!=null&&e(C,m,{configurable:!0,writable:!0,value:E})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(E){var C=[],F;for(F in E)Object.prototype.hasOwnProperty.call(E,F)&&C.push([F,E[F]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function u(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function c(m,E,C){return m.call.apply(m.bind,arguments)}function f(m,E,C){return f=c,f.apply(null,arguments)}function h(m,E){var C=Array.prototype.slice.call(arguments,1);return function(){var F=C.slice();return F.push.apply(F,arguments),m.apply(this,F)}}function p(m,E){function C(){}C.prototype=E.prototype,m.Z=E.prototype,m.prototype=new C,m.prototype.constructor=m,m.Ob=function(F,X,ne){for(var ve=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ve[Ue-2]=arguments[Ue];return E.prototype[X].apply(F,ve)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function x(m){const E=m.length;if(E>0){const C=Array(E);for(let F=0;F<E;F++)C[F]=m[F];return C}return[]}function S(m,E){for(let F=1;F<arguments.length;F++){const X=arguments[F];var C=typeof X;if(C=C!="object"?C:X?Array.isArray(X)?"array":C:"null",C=="array"||C=="object"&&typeof X.length=="number"){C=m.length||0;const ne=X.length||0;m.length=C+ne;for(let ve=0;ve<ne;ve++)m[C+ve]=X[ve]}else m.push(X)}}class T{constructor(E,C){this.i=E,this.j=C,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function _(m){s.setTimeout(()=>{throw m},0)}function I(){var m=A;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class R{constructor(){this.h=this.g=null}add(E,C){const F=k.get();F.set(E,C),this.h?this.h.next=F:this.g=F,this.h=F}}var k=new T(()=>new D,m=>m.reset());class D{constructor(){this.next=this.g=this.h=null}set(E,C){this.h=E,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let O,j=!1,A=new R,P=()=>{const m=Promise.resolve(void 0);O=()=>{m.then(N)}};function N(){for(var m;m=I();){try{m.h.call(m.g)}catch(C){_(C)}var E=k;E.j(m),E.h<100&&(E.h++,m.next=E.g,E.g=m)}j=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};s.addEventListener("test",C,E),s.removeEventListener("test",C,E)}catch{}return m})();function $(m){return/^[\s\xa0]*$/.test(m)}function Z(m,E){L.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,E)}p(Z,L),Z.prototype.init=function(m,E){const C=this.type=m.type,F=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget,E||(C=="mouseover"?E=m.fromElement:C=="mouseout"&&(E=m.toElement)),this.relatedTarget=E,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),ae=0;function se(m,E,C,F,X){this.listener=m,this.proxy=null,this.src=E,this.type=C,this.capture=!!F,this.ha=X,this.key=++ae,this.da=this.fa=!1}function Q(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ie(m,E,C){for(const F in m)E.call(C,m[F],F,m)}function re(m,E){for(const C in m)E.call(void 0,m[C],C,m)}function z(m){const E={};for(const C in m)E[C]=m[C];return E}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(m,E){let C,F;for(let X=1;X<arguments.length;X++){F=arguments[X];for(C in F)m[C]=F[C];for(let ne=0;ne<G.length;ne++)C=G[ne],Object.prototype.hasOwnProperty.call(F,C)&&(m[C]=F[C])}}function _e(m){this.src=m,this.g={},this.h=0}_e.prototype.add=function(m,E,C,F,X){const ne=m.toString();m=this.g[ne],m||(m=this.g[ne]=[],this.h++);const ve=Re(m,E,F,X);return ve>-1?(E=m[ve],C||(E.fa=!1)):(E=new se(E,this.src,ne,!!F,X),E.fa=C,m.push(E)),E};function Ce(m,E){const C=E.type;if(C in m.g){var F=m.g[C],X=Array.prototype.indexOf.call(F,E,void 0),ne;(ne=X>=0)&&Array.prototype.splice.call(F,X,1),ne&&(Q(E),m.g[C].length==0&&(delete m.g[C],m.h--))}}function Re(m,E,C,F){for(let X=0;X<m.length;++X){const ne=m[X];if(!ne.da&&ne.listener==E&&ne.capture==!!C&&ne.ha==F)return X}return-1}var We="closure_lm_"+(Math.random()*1e6|0),Le={};function he(m,E,C,F,X){if(Array.isArray(E)){for(let ne=0;ne<E.length;ne++)he(m,E[ne],C,F,X);return null}return C=Mn(C),m&&m[ee]?m.J(E,C,u(F)?!!F.capture:!1,X):Oe(m,E,C,!1,F,X)}function Oe(m,E,C,F,X,ne){if(!E)throw Error("Invalid event type");const ve=u(X)?!!X.capture:!!X;let Ue=yt(m);if(Ue||(m[We]=Ue=new _e(m)),C=Ue.add(E,C,F,ve,ne),C.proxy)return C;if(F=Be(),C.proxy=F,F.src=m,F.listener=C,m.addEventListener)V||(X=ve),X===void 0&&(X=!1),m.addEventListener(E.toString(),F,X);else if(m.attachEvent)m.attachEvent(ze(E.toString()),F);else if(m.addListener&&m.removeListener)m.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Be(){function m(C){return E.call(m.src,m.listener,C)}const E=Pt;return m}function ce(m,E,C,F,X){if(Array.isArray(E))for(var ne=0;ne<E.length;ne++)ce(m,E[ne],C,F,X);else F=u(F)?!!F.capture:!!F,C=Mn(C),m&&m[ee]?(m=m.i,ne=String(E).toString(),ne in m.g&&(E=m.g[ne],C=Re(E,C,F,X),C>-1&&(Q(E[C]),Array.prototype.splice.call(E,C,1),E.length==0&&(delete m.g[ne],m.h--)))):m&&(m=yt(m))&&(E=m.g[E.toString()],m=-1,E&&(m=Re(E,C,F,X)),(C=m>-1?E[m]:null)&&rt(C))}function rt(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[ee])Ce(E.i,m);else{var C=m.type,F=m.proxy;E.removeEventListener?E.removeEventListener(C,F,m.capture):E.detachEvent?E.detachEvent(ze(C),F):E.addListener&&E.removeListener&&E.removeListener(F),(C=yt(E))?(Ce(C,m),C.h==0&&(C.src=null,E[We]=null)):Q(m)}}}function ze(m){return m in Le?Le[m]:Le[m]="on"+m}function Pt(m,E){if(m.da)m=!0;else{E=new Z(E,this);const C=m.listener,F=m.ha||m.src;m.fa&&rt(m),m=C.call(F,E)}return m}function yt(m){return m=m[We],m instanceof _e?m:null}var Rt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mn(m){return typeof m=="function"?m:(m[Rt]||(m[Rt]=function(E){return m.handleEvent(E)}),m[Rt])}function pt(){B.call(this),this.i=new _e(this),this.M=this,this.G=null}p(pt,B),pt.prototype[ee]=!0,pt.prototype.removeEventListener=function(m,E,C,F){ce(this,m,E,C,F)};function vt(m,E){var C,F=m.G;if(F)for(C=[];F;F=F.G)C.push(F);if(m=m.M,F=E.type||E,typeof E=="string")E=new L(E,m);else if(E instanceof L)E.target=E.target||m;else{var X=E;E=new L(F,m),ge(E,X)}X=!0;let ne,ve;if(C)for(ve=C.length-1;ve>=0;ve--)ne=E.g=C[ve],X=Kt(ne,F,!0,E)&&X;if(ne=E.g=m,X=Kt(ne,F,!0,E)&&X,X=Kt(ne,F,!1,E)&&X,C)for(ve=0;ve<C.length;ve++)ne=E.g=C[ve],X=Kt(ne,F,!1,E)&&X}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var m=this.i;for(const E in m.g){const C=m.g[E];for(let F=0;F<C.length;F++)Q(C[F]);delete m.g[E],m.h--}}this.G=null},pt.prototype.J=function(m,E,C,F){return this.i.add(String(m),E,!1,C,F)},pt.prototype.K=function(m,E,C,F){return this.i.add(String(m),E,!0,C,F)};function Kt(m,E,C,F){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();let X=!0;for(let ne=0;ne<E.length;++ne){const ve=E[ne];if(ve&&!ve.da&&ve.capture==C){const Ue=ve.listener,$t=ve.ha||ve.src;ve.fa&&Ce(m.i,ve),X=Ue.call($t,F)!==!1&&X}}return X&&!F.defaultPrevented}function Kn(m,E){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:s.setTimeout(m,E||0)}function Ai(m){m.g=Kn(()=>{m.g=null,m.i&&(m.i=!1,Ai(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class ga extends B{constructor(E,C){super(),this.m=E,this.l=C,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ai(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(m){B.call(this),this.h=m,this.g={}}p(Sr,B);var Tu=[];function As(m){ie(m.g,function(E,C){this.g.hasOwnProperty(C)&&rt(E)},m),m.g={}}Sr.prototype.N=function(){Sr.Z.N.call(this),As(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mo=s.JSON.stringify,rd=s.JSON.parse,ya=class{stringify(m){return s.JSON.stringify(m,void 0)}parse(m){return s.JSON.parse(m,void 0)}};function go(){}function id(){}var yo={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ps(){L.call(this,"d")}p(Ps,L);function Su(){L.call(this,"c")}p(Su,L);var Ar={},Is=null;function vo(){return Is=Is||new pt}Ar.Ia="serverreachability";function Cs(m){L.call(this,Ar.Ia,m)}p(Cs,L);function Pi(m){const E=vo();vt(E,new Cs(E))}Ar.STAT_EVENT="statevent";function Ii(m,E){L.call(this,Ar.STAT_EVENT,m),this.stat=E}p(Ii,L);function Dt(m){const E=vo();vt(E,new Ii(E,m))}Ar.Ja="timingevent";function Au(m,E){L.call(this,Ar.Ja,m),this.size=E}p(Au,L);function xo(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){m()},E)}function bo(){this.g=!0}bo.prototype.ua=function(){this.g=!1};function od(m,E,C,F,X,ne){m.info(function(){if(m.g)if(ne){var ve="",Ue=ne.split("&");for(let ft=0;ft<Ue.length;ft++){var $t=Ue[ft].split("=");if($t.length>1){const Ft=$t[0];$t=$t[1];const er=Ft.split("_");ve=er.length>=2&&er[1]=="type"?ve+(Ft+"="+$t+"&"):ve+(Ft+"=redacted&")}}}else ve=null;else ve=ne;return"XMLHTTP REQ ("+F+") [attempt "+X+"]: "+E+`
`+C+`
`+ve})}function ad(m,E,C,F,X,ne,ve){m.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+X+"]: "+E+`
`+C+`
`+ne+" "+ve})}function Hr(m,E,C,F){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+va(m,C)+(F?" "+F:"")})}function sd(m,E){m.info(function(){return"TIMEOUT: "+E})}bo.prototype.info=function(){};function va(m,E){if(!m.g)return E;if(!E)return null;try{const ne=JSON.parse(E);if(ne){for(m=0;m<ne.length;m++)if(Array.isArray(ne[m])){var C=ne[m];if(!(C.length<2)){var F=C[1];if(Array.isArray(F)&&!(F.length<1)){var X=F[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ve=1;ve<F.length;ve++)F[ve]=""}}}}return mo(ne)}catch{return E}}var _o={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ld;function Ci(){}p(Ci,go),Ci.prototype.g=function(){return new XMLHttpRequest},ld=new Ci;function Gr(m){return encodeURIComponent(String(m))}function Os(m){var E=1;m=m.split(":");const C=[];for(;E>0&&m.length;)C.push(m.shift()),E--;return m.length&&C.push(m.join(":")),C}function lr(m,E,C,F){this.j=m,this.i=E,this.l=C,this.S=F||1,this.V=new Sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ud}function ud(){this.i=null,this.g="",this.h=!1}var cd={},Pu={};function Pr(m,E,C){m.M=1,m.A=ki(ur(E)),m.u=C,m.R=!0,Iu(m,null)}function Iu(m,E){m.F=Date.now(),xa(m),m.B=ur(m.A);var C=m.B,F=m.S;Array.isArray(F)||(F=[String(F)]),$u(C.i,"t",F),m.C=0,C=m.j.L,m.h=new ud,m.g=bd(m.j,C?E:null,!m.u),m.P>0&&(m.O=new ga(f(m.Y,m,m.g),m.P)),E=m.V,C=m.g,F=m.ba;var X="readystatechange";Array.isArray(X)||(X&&(Tu[0]=X.toString()),X=Tu);for(let ne=0;ne<X.length;ne++){const ve=he(C,X[ne],F||E.handleEvent,!1,E.h||E);if(!ve)break;E.g[ve.key]=ve}E=m.J?z(m.J):{},m.u?(m.v||(m.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,E)):(m.v="GET",m.g.ea(m.B,m.v,null,E)),Pi(),od(m.i,m.v,m.B,m.l,m.S,m.u)}lr.prototype.ba=function(m){m=m.target;const E=this.O;E&&ei(m)==3?E.j():this.Y(m)},lr.prototype.Y=function(m){try{if(m==this.g)e:{const Ue=ei(this.g),$t=this.g.ya(),ft=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||vd(this.g)))){this.K||Ue!=4||$t==7||($t==8||ft<=0?Pi(3):Pi(2)),ks(this);var E=this.g.ca();this.X=E;var C=fd(this);if(this.o=E==200,ad(this.i,this.v,this.B,this.l,this.S,Ue,E),this.o){if(this.U&&!this.L){t:{if(this.g){var F,X=this.g;if((F=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(F)){var ne=F;break t}}ne=null}if(m=ne)Hr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_t(this,m);else{this.o=!1,this.m=3,Dt(12),Oi(this),ba(this);break e}}if(this.R){m=!0;let Ft;for(;!this.K&&this.C<C.length;)if(Ft=hd(this,C),Ft==Pu){Ue==4&&(this.m=4,Dt(14),m=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==cd){this.m=4,Dt(15),Hr(this.i,this.l,C,"[Invalid Chunk]"),m=!1;break}else Hr(this.i,this.l,Ft,null),_t(this,Ft);if(dd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||C.length!=0||this.h.h||(this.m=1,Dt(16),m=!1),this.o=this.o&&m,!m)Hr(this.i,this.l,C,"[Invalid Chunked Response]"),Oi(this),ba(this);else if(C.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Ca(ve),ve.P=!0,Dt(11))}}else Hr(this.i,this.l,C,null),_t(this,C);Ue==4&&Oi(this),this.o&&!this.K&&(Ue==4?Fs(this.j,this):(this.o=!1,xa(this)))}else Bu(this.g),E==400&&C.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),Oi(this),ba(this)}}}catch{}finally{}};function fd(m){if(!dd(m))return m.g.la();const E=vd(m.g);if(E==="")return"";let C="";const F=E.length,X=ei(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Oi(m),ba(m),"";m.h.i=new s.TextDecoder}for(let ne=0;ne<F;ne++)m.h.h=!0,C+=m.h.i.decode(E[ne],{stream:!(X&&ne==F-1)});return E.length=0,m.h.g+=C,m.C=0,m.h.g}function dd(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function hd(m,E){var C=m.C,F=E.indexOf(`
`,C);return F==-1?Pu:(C=Number(E.substring(C,F)),isNaN(C)?cd:(F+=1,F+C>E.length?Pu:(E=E.slice(F,F+C),m.C=F+C,E)))}lr.prototype.cancel=function(){this.K=!0,Oi(this)};function xa(m){m.T=Date.now()+m.H,Cu(m,m.H)}function Cu(m,E){if(m.D!=null)throw Error("WatchDog timer not null");m.D=xo(f(m.aa,m),E)}function ks(m){m.D&&(s.clearTimeout(m.D),m.D=null)}lr.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(sd(this.i,this.B),this.M!=2&&(Pi(),Dt(17)),Oi(this),this.m=2,ba(this)):Cu(this,this.T-m)};function ba(m){m.j.I==0||m.K||Fs(m.j,m)}function Oi(m){ks(m);var E=m.O;E&&typeof E.dispose=="function"&&E.dispose(),m.O=null,As(m.V),m.g&&(E=m.g,m.g=null,E.abort(),E.dispose())}function _t(m,E){try{var C=m.j;if(C.I!=0&&(C.g==m||ku(C.h,m))){if(!m.L&&ku(C.h,m)&&C.I==3){try{var F=C.Ba.g.parse(E)}catch{F=null}if(Array.isArray(F)&&F.length==3){var X=F;if(X[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<m.F)Bs(C),Jn(C);else break e;ri(C),Dt(18)}}else C.xa=X[1],0<C.xa-C.K&&X[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=xo(f(C.Va,C),6e3));_a(C.h)<=1&&C.ta&&(C.ta=void 0)}else Zn(C,11)}else if((m.L||C.g==m)&&Bs(C),!$(E))for(X=C.Ba.g.parse(E),E=0;E<X.length;E++){let ft=X[E];const Ft=ft[0];if(!(Ft<=C.K))if(C.K=Ft,ft=ft[1],C.I==2)if(ft[0]=="c"){C.M=ft[1],C.ba=ft[2];const er=ft[3];er!=null&&(C.ka=er,C.j.info("VER="+C.ka));const Mi=ft[4];Mi!=null&&(C.za=Mi,C.j.info("SVER="+C.za));const ii=ft[5];ii!=null&&typeof ii=="number"&&ii>0&&(F=1.5*ii,C.O=F,C.j.info("backChannelRequestTimeoutMs_="+F)),F=C;const oi=m.g;if(oi){const zs=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var ne=F.h;ne.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(js(ne,ne.h),ne.h=null))}if(F.G){const qu=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;qu&&(F.wa=qu,it(F.J,F.G,qu))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-m.F,C.j.info("Handshake RTT: "+C.T+"ms")),F=C;var ve=m;if(F.na=Uu(F,F.L?F.ba:null,F.W),ve.L){wa(F.h,ve);var Ue=ve,$t=F.O;$t&&(Ue.H=$t),Ue.D&&(ks(Ue),xa(Ue)),F.g=ve}else _n(F);C.i.length>0&&Di(C)}else ft[0]!="stop"&&ft[0]!="close"||Zn(C,7);else C.I==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?Zn(C,7):$s(C):ft[0]!="noop"&&C.l&&C.l.qa(ft),C.A=0)}}Pi(4)}catch{}}var cg=class{constructor(m,E){this.g=m,this.map=E}};function Ns(m){this.l=m||10,s.PerformanceNavigationTiming?(m=s.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ou(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function _a(m){return m.h?1:m.g?m.g.size:0}function ku(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function js(m,E){m.g?m.g.add(E):m.h=E}function wa(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}Ns.prototype.cancel=function(){if(this.i=Yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Yn(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const C of m.g.values())E=E.concat(C.G);return E}return x(m.i)}var pd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xn(m,E){if(m){m=m.split("&");for(let C=0;C<m.length;C++){const F=m[C].indexOf("=");let X,ne=null;F>=0?(X=m[C].substring(0,F),ne=m[C].substring(F+1)):X=m[C],E(X,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Kr(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;m instanceof Kr?(this.l=m.l,Ea(this,m.j),this.o=m.o,this.g=m.g,Yr(this,m.u),this.h=m.h,Eo(this,Vu(m.i)),this.m=m.m):m&&(E=String(m).match(pd))?(this.l=!1,Ea(this,E[1]||"",!0),this.o=Ta(E[2]||""),this.g=Ta(E[3]||"",!0),Yr(this,E[4]),this.h=Ta(E[5]||"",!0),Eo(this,E[6]||"",!0),this.m=Ta(E[7]||"")):(this.l=!1,this.i=new Qe(null,this.l))}Kr.prototype.toString=function(){const m=[];var E=this.j;E&&m.push(Sa(E,ju,!0),":");var C=this.g;return(C||E=="file")&&(m.push("//"),(E=this.o)&&m.push(Sa(E,ju,!0),"@"),m.push(Gr(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&m.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(Sa(C,C.charAt(0)=="/"?Aa:Ru,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",Sa(C,Du)),m.join("")},Kr.prototype.resolve=function(m){const E=ur(this);let C=!!m.j;C?Ea(E,m.j):C=!!m.o,C?E.o=m.o:C=!!m.g,C?E.g=m.g:C=m.u!=null;var F=m.h;if(C)Yr(E,m.u);else if(C=!!m.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var X=E.h.lastIndexOf("/");X!=-1&&(F=E.h.slice(0,X+1)+F)}if(X=F,X==".."||X==".")F="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){F=X.lastIndexOf("/",0)==0,X=X.split("/");const ne=[];for(let ve=0;ve<X.length;){const Ue=X[ve++];Ue=="."?F&&ve==X.length&&ne.push(""):Ue==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),F&&ve==X.length&&ne.push("")):(ne.push(Ue),F=!0)}F=ne.join("/")}else F=X}return C?E.h=F:C=m.i.toString()!=="",C?Eo(E,Vu(m.i)):C=!!m.m,C&&(E.m=m.m),E};function ur(m){return new Kr(m)}function Ea(m,E,C){m.j=C?Ta(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function Yr(m,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);m.u=E}else m.u=null}function Eo(m,E,C){E instanceof Qe?(m.i=E,Ds(m.i,m.l)):(C||(E=Sa(E,fg)),m.i=new Qe(E,m.l))}function it(m,E,C){m.i.set(E,C)}function ki(m){return it(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Ta(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Sa(m,E,C){return typeof m=="string"?(m=encodeURI(m).replace(E,Nu),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Nu(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var ju=/[#\/\?@]/g,Ru=/[#\?:]/g,Aa=/[#\?]/g,fg=/[#\?@]/g,Du=/#/g;function Qe(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function Xr(m){m.g||(m.g=new Map,m.h=0,m.i&&Xn(m.i,function(E,C){m.add(decodeURIComponent(E.replace(/\+/g," ")),C)}))}t=Qe.prototype,t.add=function(m,E){Xr(this),this.i=null,m=Qr(this,m);let C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(E),this.h+=1,this};function Mu(m,E){Xr(m),E=Qr(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function Rs(m,E){return Xr(m),E=Qr(m,E),m.g.has(E)}t.forEach=function(m,E){Xr(this),this.g.forEach(function(C,F){C.forEach(function(X){m.call(E,X,F,this)},this)},this)};function Lu(m,E){Xr(m);let C=[];if(typeof E=="string")Rs(m,E)&&(C=C.concat(m.g.get(Qr(m,E))));else for(m=Array.from(m.g.values()),E=0;E<m.length;E++)C=C.concat(m[E]);return C}t.set=function(m,E){return Xr(this),this.i=null,m=Qr(this,m),Rs(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},t.get=function(m,E){return m?(m=Lu(this,m),m.length>0?String(m[0]):E):E};function $u(m,E,C){Mu(m,E),C.length>0&&(m.i=null,m.g.set(Qr(m,E),x(C)),m.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(let F=0;F<E.length;F++){var C=E[F];const X=Gr(C);C=Lu(this,C);for(let ne=0;ne<C.length;ne++){let ve=X;C[ne]!==""&&(ve+="="+Gr(C[ne])),m.push(ve)}}return this.i=m.join("&")};function Vu(m){const E=new Qe;return E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),E}function Qr(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function Ds(m,E){E&&!m.j&&(Xr(m),m.i=null,m.g.forEach(function(C,F){const X=F.toLowerCase();F!=X&&(Mu(this,F),$u(this,X,C))},m)),m.j=E}function Jr(m,E){const C=new bo;if(s.Image){const F=new Image;F.onload=h(dn,C,"TestLoadImage: loaded",!0,E,F),F.onerror=h(dn,C,"TestLoadImage: error",!1,E,F),F.onabort=h(dn,C,"TestLoadImage: abort",!1,E,F),F.ontimeout=h(dn,C,"TestLoadImage: timeout",!1,E,F),s.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=m}else E(!1)}function Zr(m,E){const C=new bo,F=new AbortController,X=setTimeout(()=>{F.abort(),dn(C,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:F.signal}).then(ne=>{clearTimeout(X),ne.ok?dn(C,"TestPingServer: ok",!0,E):dn(C,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(X),dn(C,"TestPingServer: error",!1,E)})}function dn(m,E,C,F,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),F(C)}catch{}}function Pa(){this.g=new ya}function Ni(m){this.i=m.Sb||null,this.h=m.ab||!1}p(Ni,go),Ni.prototype.g=function(){return new Qn(this.i,this.h)};function Qn(m,E){pt.call(this),this.H=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Qn,pt),t=Qn.prototype,t.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=E,this.readyState=1,Ir(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(E.body=m),(this.H||s).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,To(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;md(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function md(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?To(this):Ir(this),this.readyState==3&&md(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,To(this))},t.Na=function(m){this.g&&(this.response=m,To(this))},t.ga=function(){this.g&&To(this)};function To(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Ir(m)}t.setRequestHeader=function(m,E){this.A.append(m,E)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var C=E.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=E.next();return m.join(`\r
`)};function Ir(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Qn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function gd(m){let E="";return ie(m,function(C,F){E+=F,E+=":",E+=C,E+=`\r
`}),E}function Ms(m,E,C){e:{for(F in C){var F=!1;break e}F=!0}F||(C=gd(C),typeof m=="string"?C!=null&&Gr(C):it(m,E,C))}function mt(m){pt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(mt,pt);var yd=/^https?$/i,dg=["POST","PUT"];t=mt.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,E,C,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ld.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(ne){So(this,ne);return}if(m=C||"",C=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var X in F)C.set(X,F[X]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ne of F.keys())C.set(ne,F.get(ne));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(C.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=s.FormData&&m instanceof s.FormData,!(Array.prototype.indexOf.call(dg,E,void 0)>=0)||F||X||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ve]of C)this.g.setRequestHeader(ne,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(ne){So(this,ne)}};function So(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.o=5,Ao(m),Ri(m)}function Ao(m){m.A||(m.A=!0,vt(m,"complete"),vt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,vt(this,"complete"),vt(this,"abort"),Ri(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ji(this):this.Xa())},t.Xa=function(){ji(this)};function ji(m){if(m.h&&typeof o<"u"){if(m.v&&ei(m)==4)setTimeout(m.Ca.bind(m),0);else if(vt(m,"readystatechange"),ei(m)==4){m.h=!1;try{const ne=m.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var C;if(!(C=E)){var F;if(F=ne===0){let ve=String(m.D).match(pd)[1]||null;!ve&&s.self&&s.self.location&&(ve=s.self.location.protocol.slice(0,-1)),F=!yd.test(ve?ve.toLowerCase():"")}C=F}if(C)vt(m,"complete"),vt(m,"success");else{m.o=6;try{var X=ei(m)>2?m.g.statusText:""}catch{X=""}m.l=X+" ["+m.ca()+"]",Ao(m)}}finally{Ri(m)}}}}function Ri(m,E){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const C=m.g;m.g=null,E||vt(m,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ei(m){return m.g?m.g.readyState:0}t.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),rd(E)}};function vd(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Bu(m){const E={};m=(m.g&&ei(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<m.length;F++){if($(m[F]))continue;var C=Os(m[F]);const X=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ne=E[X]||[];E[X]=ne,ne.push(C)}re(E,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ti(m,E,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||E}function Ls(m){this.za=0,this.i=[],this.j=new bo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ti("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ti("baseRetryDelayMs",5e3,m),this.Za=ti("retryDelaySeedMs",1e4,m),this.Ta=ti("forwardChannelMaxRetries",2,m),this.va=ti("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Ns(m&&m.concurrentRequestLimit),this.Ba=new Pa,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ls.prototype,t.ka=8,t.I=1,t.connect=function(m,E,C,F){Dt(0),this.W=m,this.H=E||{},C&&F!==void 0&&(this.H.OSID=C,this.H.OAID=F),this.F=this.X,this.J=Uu(this,null,this.W),Di(this)};function $s(m){if(Vs(m),m.I==3){var E=m.V++,C=ur(m.J);if(it(C,"SID",m.M),it(C,"RID",E),it(C,"TYPE","terminate"),ni(m,C),E=new lr(m,m.j,E),E.M=2,E.A=ki(ur(C)),C=!1,s.navigator&&s.navigator.sendBeacon)try{C=s.navigator.sendBeacon(E.A.toString(),"")}catch{}!C&&s.Image&&(new Image().src=E.A,C=!0),C||(E.g=bd(E.j,null),E.g.ea(E.A)),E.F=Date.now(),xa(E)}Oa(m)}function Jn(m){m.g&&(Ca(m),m.g.cancel(),m.g=null)}function Vs(m){Jn(m),m.v&&(s.clearTimeout(m.v),m.v=null),Bs(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&s.clearTimeout(m.m),m.m=null)}function Di(m){if(!Ou(m.h)&&!m.m){m.m=!0;var E=m.Ea;O||P(),j||(O(),j=!0),A.add(E,m),m.D=0}}function xd(m,E){return _a(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=E.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=xo(f(m.Ea,m,E),Us(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const X=new lr(this,this.j,m);let ne=this.o;if(this.U&&(ne?(ne=z(ne),ge(ne,this.U)):ne=this.U),this.u!==null||this.R||(X.J=ne,ne=null),this.S)e:{for(var E=0,C=0;C<this.i.length;C++){t:{var F=this.i[C];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(E+=F,E>4096){E=C;break e}if(E===4096||C===this.i.length-1){E=C+1;break e}}E=1e3}else E=1e3;E=Fu(this,X,E),C=ur(this.J),it(C,"RID",m),it(C,"CVER",22),this.G&&it(C,"X-HTTP-Session-Id",this.G),ni(this,C),ne&&(this.R?E="headers="+Gr(gd(ne))+"&"+E:this.u&&Ms(C,this.u,ne)),js(this.h,X),this.Ra&&it(C,"TYPE","init"),this.S?(it(C,"$req",E),it(C,"SID","null"),X.U=!0,Pr(X,C,null)):Pr(X,C,E),this.I=2}}else this.I==3&&(m?Ia(this,m):this.i.length==0||Ou(this.h)||Ia(this))};function Ia(m,E){var C;E?C=E.l:C=m.V++;const F=ur(m.J);it(F,"SID",m.M),it(F,"RID",C),it(F,"AID",m.K),ni(m,F),m.u&&m.o&&Ms(F,m.u,m.o),C=new lr(m,m.j,C,m.D+1),m.u===null&&(C.J=m.o),E&&(m.i=E.G.concat(m.i)),E=Fu(m,C,1e3),C.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),js(m.h,C),Pr(C,F,E)}function ni(m,E){m.H&&ie(m.H,function(C,F){it(E,F,C)}),m.l&&ie({},function(C,F){it(E,F,C)})}function Fu(m,E,C){C=Math.min(m.i.length,C);const F=m.l?f(m.l.Ka,m.l,m):null;e:{var X=m.i;let Ue=-1;for(;;){const $t=["count="+C];Ue==-1?C>0?(Ue=X[0].g,$t.push("ofs="+Ue)):Ue=0:$t.push("ofs="+Ue);let ft=!0;for(let Ft=0;Ft<C;Ft++){var ne=X[Ft].g;const er=X[Ft].map;if(ne-=Ue,ne<0)Ue=Math.max(0,X[Ft].g-100),ft=!1;else try{ne="req"+ne+"_"||"";try{var ve=er instanceof Map?er:Object.entries(er);for(const[Mi,ii]of ve){let oi=ii;u(ii)&&(oi=mo(ii)),$t.push(ne+Mi+"="+encodeURIComponent(oi))}}catch(Mi){throw $t.push(ne+"type="+encodeURIComponent("_badmap")),Mi}}catch{F&&F(er)}}if(ft){ve=$t.join("&");break e}}ve=void 0}return m=m.i.splice(0,C),E.G=m,ve}function _n(m){if(!m.g&&!m.v){m.Y=1;var E=m.Da;O||P(),j||(O(),j=!0),A.add(E,m),m.A=0}}function ri(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=xo(f(m.Da,m),Us(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,Po(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=xo(f(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Jn(this),Po(this))};function Ca(m){m.B!=null&&(s.clearTimeout(m.B),m.B=null)}function Po(m){m.g=new lr(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var E=ur(m.na);it(E,"RID","rpc"),it(E,"SID",m.M),it(E,"AID",m.K),it(E,"CI",m.F?"0":"1"),!m.F&&m.ia&&it(E,"TO",m.ia),it(E,"TYPE","xmlhttp"),ni(m,E),m.u&&m.o&&Ms(E,m.u,m.o),m.O&&(m.g.H=m.O);var C=m.g;m=m.ba,C.M=1,C.A=ki(ur(E)),C.u=null,C.R=!0,Iu(C,m)}t.Va=function(){this.C!=null&&(this.C=null,Jn(this),ri(this),Dt(19))};function Bs(m){m.C!=null&&(s.clearTimeout(m.C),m.C=null)}function Fs(m,E){var C=null;if(m.g==E){Bs(m),Ca(m),m.g=null;var F=2}else if(ku(m.h,E))C=E.G,wa(m.h,E),F=1;else return;if(m.I!=0){if(E.o)if(F==1){C=E.u?E.u.length:0,E=Date.now()-E.F;var X=m.D;F=vo(),vt(F,new Au(F,C)),Di(m)}else _n(m);else if(X=E.m,X==3||X==0&&E.X>0||!(F==1&&xd(m,E)||F==2&&ri(m)))switch(C&&C.length>0&&(E=m.h,E.i=E.i.concat(C)),X){case 1:Zn(m,5);break;case 4:Zn(m,10);break;case 3:Zn(m,6);break;default:Zn(m,2)}}}function Us(m,E){let C=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(C*=2),C*E}function Zn(m,E){if(m.j.info("Error code "+E),E==2){var C=f(m.bb,m),F=m.Ua;const X=!F;F=new Kr(F||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Ea(F,"https"),ki(F),X?Jr(F.toString(),C):Zr(F.toString(),C)}else Dt(2);m.I=0,m.l&&m.l.pa(E),Oa(m),Vs(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Oa(m){if(m.I=0,m.ja=[],m.l){const E=Yn(m.h);(E.length!=0||m.i.length!=0)&&(S(m.ja,E),S(m.ja,m.i),m.h.i.length=0,x(m.i),m.i.length=0),m.l.oa()}}function Uu(m,E,C){var F=C instanceof Kr?ur(C):new Kr(C);if(F.g!="")E&&(F.g=E+"."+F.g),Yr(F,F.u);else{var X=s.location;F=X.protocol,E=E?E+"."+X.hostname:X.hostname,X=+X.port;const ne=new Kr(null);F&&Ea(ne,F),E&&(ne.g=E),X&&Yr(ne,X),C&&(ne.h=C),F=ne}return C=m.G,E=m.wa,C&&E&&it(F,C,E),it(F,"VER",m.ka),ni(m,F),F}function bd(m,E,C){if(E&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Aa&&!m.ma?new mt(new Ni({ab:C})):new mt(m.ma),E.Fa(m.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _d(){}t=_d.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function qs(){}qs.prototype.g=function(m,E){return new hn(m,E)};function hn(m,E){pt.call(this),this.g=new Ls(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(m?m["X-WebChannel-Client-Profile"]=E.sa:m={"X-WebChannel-Client-Profile":E.sa}),this.g.U=m,(m=E&&E.Qb)&&!$(m)&&(this.g.u=m),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!$(E)&&(this.g.G=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new Io(this)}p(hn,pt),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){$s(this.g)},hn.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.v&&(C={},C.__data__=mo(m),m=C);E.i.push(new cg(E.Ya++,m)),E.I==3&&Di(E)},hn.prototype.N=function(){this.g.l=null,delete this.j,$s(this.g),delete this.g,hn.Z.N.call(this)};function wd(m){Ps.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const C in E){m=C;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}p(wd,Ps);function Ed(){Su.call(this),this.status=1}p(Ed,Su);function Io(m){this.g=m}p(Io,_d),Io.prototype.ra=function(){vt(this.g,"a")},Io.prototype.qa=function(m){vt(this.g,new wd(m))},Io.prototype.pa=function(m){vt(this.g,new Ed)},Io.prototype.oa=function(){vt(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,z2=function(){return new qs},q2=function(){return vo()},U2=Ar,a_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_o.NO_ERROR=0,_o.TIMEOUT=8,_o.HTTP_ERROR=6,Lh=_o,wo.COMPLETE="complete",F2=wo,id.EventType=yo,yo.OPEN="a",yo.CLOSE="b",yo.ERROR="c",yo.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Ac=id,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,B2=mt}).apply(typeof vh<"u"?vh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du="12.9.0";function i5(t){du=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new qw("@firebase/firestore");function ml(){return us.logLevel}function we(t,...e){if(us.logLevel<=Ke.DEBUG){const n=e.map(Hw);us.debug(`Firestore (${du}): ${t}`,...n)}}function io(t,...e){if(us.logLevel<=Ke.ERROR){const n=e.map(Hw);us.error(`Firestore (${du}): ${t}`,...n)}}function cs(t,...e){if(us.logLevel<=Ke.WARN){const n=e.map(Hw);us.warn(`Firestore (${du}): ${t}`,...n)}}function Hw(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,W2(t,r,n)}function W2(t,e,n){let r=`FIRESTORE (${du}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw io(r),new Error(r)}function ct(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||W2(e,i,r)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends co{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(In.UNAUTHENTICATED)))}shutdown(){}}class a5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class s5{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new es;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new es,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=o;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new es)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string",31837,{l:r}),new H2(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class l5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class u5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new l5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const r=o=>{o.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,we("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=f5(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function s_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return qy(i)===qy(o)?Ye(i,o):qy(i)?1:-1}return Ye(t.length,e.length)}const d5=55296,h5=57343;function qy(t){const e=t.charCodeAt(0);return e>=d5&&e<=h5}function Dl(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="__name__";class ci{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=ci.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Ye(e.length,n.length)}static compareSegments(e,n){const r=ci.isNumericId(e),i=ci.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ci.extractNumericId(e).compare(ci.extractNumericId(n)):s_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ea.fromString(e.substring(4,e.length-2))}}class St extends ci{construct(e,n,r){return new St(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new St(n)}static emptyPath(){return new St([])}}const p5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends ci{construct(e,n,r){return new vn(e,n,r)}static isValidIdentifier(e){return p5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bA}static keyField(){return new vn([bA])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ie(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ie(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ie(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new Ie(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(St.fromString(e))}static fromName(e){return new ke(St.fromString(e).popFirst(5))}static empty(){return new ke(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new St(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t,e,n){if(!n)throw new Ie(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function m5(t,e,n,r){if(e===!0&&r===!0)throw new Ie(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _A(t){if(!ke.isDocumentKey(t))throw new Ie(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wA(t){if(ke.isDocumentKey(t))throw new Ie(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function K2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Kw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function ts(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kw(t);throw new Ie(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ff(t,e){if(!K2(t))throw new Ie(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ie(fe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=-62135596800,TA=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*TA);return new At(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<EA)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TA}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ff(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-EA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Wt("string",At._jsonSchemaVersion),seconds:Wt("number"),nanoseconds:Wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new At(0,0))}static max(){return new Fe(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=-1;function g5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new ra(i,ke.empty(),e)}function y5(t){return new ra(t.readTime,t.key,Hc)}class ra{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ra(Fe.min(),ke.empty(),Hc)}static max(){return new ra(Fe.max(),ke.empty(),Hc)}}function v5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==x5)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,r)=>{n(e)}))}static reject(e){return new le(((n,r)=>{r(e)}))}static waitFor(e){return new le(((n,r)=>{let i=0,o=0,s=!1;e.forEach((u=>{++i,u.next((()=>{++o,s&&o===i&&n()}),(c=>r(c)))})),s=!0,o===i&&n()}))}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next((i=>i?le.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new le(((r,i)=>{const o=e.length,s=new Array(o);let u=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next((h=>{s[f]=h,++u,u===o&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new le(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function _5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=-1;function hm(t){return t==null}function Yh(t){return t===0&&1/t==-1/0}function w5(t){return typeof t=="number"&&Number.isInteger(t)&&!Yh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="";function E5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=SA(e)),e=T5(t.get(n),e);return SA(e)}function T5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case Y2:n+="";break;default:n+=o}}return n}function SA(t){return t+Y2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function X2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xh(this.root,e,this.comparator,!0)}}class xh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??yn.RED,this.left=i??yn.EMPTY,this.right=o??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new yn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new PA(this.data.getIterator())}getIteratorFrom(e){return new PA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class PA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new Vr([])}unionWith(e){let n=new nn(vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Dl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Q2("Invalid base64 string: "+o):o}})(e);return new bn(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const S5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=S5.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oa(t){return typeof t=="string"?bn.fromBase64String(t):bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="server_timestamp",Z2="__type__",eR="__previous_value__",tR="__local_write_time__";function Xw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Z2])==null?void 0:r.stringValue)===J2}function pm(t){const e=t.mapValue.fields[eR];return Xw(e)?pm(e):e}function Gc(t){const e=ia(t.mapValue.fields[tR].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n,r,i,o,s,u,c,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h,this.apiKey=p}}const Xh="(default)";class Kc{constructor(e,n){this.projectId=e,this.database=n||Xh}static empty(){return new Kc("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}function P5(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ie(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="__type__",I5="__max__",bh={mapValue:{}},rR="__vector__",Qh="value";function aa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xw(t)?4:O5(t)?9007199254740991:C5(t)?10:11:Me(28295,{value:t})}function bi(t,e){if(t===e)return!0;const n=aa(t);if(n!==aa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gc(t).isEqual(Gc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ia(i.timestampValue),u=ia(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return oa(i.bytesValue).isEqual(oa(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Bt(i.geoPointValue.latitude)===Bt(o.geoPointValue.latitude)&&Bt(i.geoPointValue.longitude)===Bt(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Bt(i.integerValue)===Bt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Bt(i.doubleValue),u=Bt(o.doubleValue);return s===u?Yh(s)===Yh(u):isNaN(s)&&isNaN(u)}return!1})(t,e);case 9:return Dl(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return(function(i,o){const s=i.mapValue.fields||{},u=o.mapValue.fields||{};if(AA(s)!==AA(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!bi(s[c],u[c])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function Yc(t,e){return(t.values||[]).find((n=>bi(n,e)))!==void 0}function Ml(t,e){if(t===e)return 0;const n=aa(t),r=aa(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return(function(o,s){const u=Bt(o.integerValue||o.doubleValue),c=Bt(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(t,e);case 3:return IA(t.timestampValue,e.timestampValue);case 4:return IA(Gc(t),Gc(e));case 5:return s_(t.stringValue,e.stringValue);case 6:return(function(o,s){const u=oa(o),c=oa(s);return u.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){const u=o.split("/"),c=s.split("/");for(let f=0;f<u.length&&f<c.length;f++){const h=Ye(u[f],c[f]);if(h!==0)return h}return Ye(u.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){const u=Ye(Bt(o.latitude),Bt(s.latitude));return u!==0?u:Ye(Bt(o.longitude),Bt(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return CA(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var v,x,S,T;const u=o.fields||{},c=s.fields||{},f=(v=u[Qh])==null?void 0:v.arrayValue,h=(x=c[Qh])==null?void 0:x.arrayValue,p=Ye(((S=f==null?void 0:f.values)==null?void 0:S.length)||0,((T=h==null?void 0:h.values)==null?void 0:T.length)||0);return p!==0?p:CA(f,h)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===bh.mapValue&&s===bh.mapValue)return 0;if(o===bh.mapValue)return 1;if(s===bh.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const v=s_(c[p],h[p]);if(v!==0)return v;const x=Ml(u[c[p]],f[h[p]]);if(x!==0)return x}return Ye(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function IA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=ia(t),r=ia(e),i=Ye(n.seconds,r.seconds);return i!==0?i:Ye(n.nanos,r.nanos)}function CA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ml(n[i],r[i]);if(o)return o}return Ye(n.length,r.length)}function Ll(t){return l_(t)}function l_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ia(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return oa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=l_(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${l_(n.fields[s])}`;return i+"}"})(t.mapValue):Me(61005,{value:t})}function $h(t){switch(aa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pm(t);return e?16+$h(e):16;case 5:return 2*t.stringValue.length;case 6:return oa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+$h(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return vs(r.fields,((o,s)=>{i+=o.length+$h(s)})),i})(t.mapValue);default:throw Me(13486,{value:t})}}function u_(t){return!!t&&"integerValue"in t}function Qw(t){return!!t&&"arrayValue"in t}function OA(t){return!!t&&"nullValue"in t}function kA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vh(t){return!!t&&"mapValue"in t}function C5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[nR])==null?void 0:r.stringValue)===rR}function Dc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return vs(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Dc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dc(t.arrayValue.values[n]);return e}return{...t}}function O5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===I5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.value=e}static empty(){return new xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dc(n)}setAll(e){let n=vn.emptyPath(),r={},i=[];e.forEach(((s,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}s?r[u.lastSegment()]=Dc(s):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vs(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new xr(Dc(this.value))}}function iR(t){const e=[];return vs(t.fields,((n,r)=>{const i=new vn([n]);if(Vh(r)){const o=iR(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)})),new Vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,r,i,o,s,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Cn(e,0,Fe.min(),Fe.min(),Fe.min(),xr.empty(),0)}static newFoundDocument(e,n,r,i){return new Cn(e,1,n,Fe.min(),r,i,0)}static newNoDocument(e,n){return new Cn(e,2,n,Fe.min(),Fe.min(),xr.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Fe.min(),Fe.min(),xr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.position=e,this.inclusive=n}}function NA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ke.comparator(ke.fromName(s.referenceValue),n.key):r=Ml(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function jA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n="asc"){this.field=e,this.dir=n}}function k5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{}class Zt extends oR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new j5(e,n,r):n==="array-contains"?new M5(e,r):n==="in"?new L5(e,r):n==="not-in"?new $5(e,r):n==="array-contains-any"?new V5(e,r):new Zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new R5(e,r):new D5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ml(n,this.value)):n!==null&&aa(this.value)===aa(n)&&this.matchesComparison(Ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends oR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _i(e,n)}matches(e){return aR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aR(t){return t.op==="and"}function sR(t){return N5(t)&&aR(t)}function N5(t){for(const e of t.filters)if(e instanceof _i)return!1;return!0}function c_(t){if(t instanceof Zt)return t.field.canonicalString()+t.op.toString()+Ll(t.value);if(sR(t))return t.filters.map((e=>c_(e))).join(",");{const e=t.filters.map((n=>c_(n))).join(",");return`${t.op}(${e})`}}function lR(t,e){return t instanceof Zt?(function(r,i){return i instanceof Zt&&r.op===i.op&&r.field.isEqual(i.field)&&bi(r.value,i.value)})(t,e):t instanceof _i?(function(r,i){return i instanceof _i&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,s,u)=>o&&lR(s,i.filters[u])),!0):!1})(t,e):void Me(19439)}function uR(t){return t instanceof Zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ll(n.value)}`})(t):t instanceof _i?(function(n){return n.op.toString()+" {"+n.getFilters().map(uR).join(" ,")+"}"})(t):"Filter"}class j5 extends Zt{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class R5 extends Zt{constructor(e,n){super(e,"in",n),this.keys=cR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class D5 extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=cR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function cR(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ke.fromName(r.referenceValue)))}class M5 extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qw(n)&&Yc(n.arrayValue,this.value)}}class L5 extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yc(this.value.arrayValue,n)}}class $5 extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yc(this.value.arrayValue,n)}}class V5 extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Yc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n=null,r=[],i=[],o=null,s=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=u,this.Te=null}}function RA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new B5(t,e,n,r,i,o,s)}function Jw(t){const e=qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>c_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),hm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ll(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ll(r))).join(",")),e.Te=n}return e.Te}function Zw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!k5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jA(t.startAt,e.startAt)&&jA(t.endAt,e.endAt)}function f_(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n=null,r=[],i=[],o=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function F5(t,e,n,r,i,o,s,u){return new mm(t,e,n,r,i,o,s,u)}function e1(t){return new mm(t)}function DA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function U5(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function q5(t){return t.collectionGroup!==null}function Mc(t){const e=qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new nn(vn.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Zh(o,r))})),n.has(vn.keyField().canonicalString())||e.Ie.push(new Zh(vn.keyField(),r))}return e.Ie}function hi(t){const e=qe(t);return e.Ee||(e.Ee=z5(e,Mc(t))),e.Ee}function z5(t,e){if(t.limitType==="F")return RA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Zh(i.field,o)}));const n=t.endAt?new Jh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jh(t.startAt.position,t.startAt.inclusive):null;return RA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function d_(t,e,n){return new mm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gm(t,e){return Zw(hi(t),hi(e))&&t.limitType===e.limitType}function fR(t){return`${Jw(hi(t))}|lt:${t.limitType}`}function gl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>uR(i))).join(", ")}]`),hm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Ll(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Ll(i))).join(",")),`Target(${r})`})(hi(t))}; limitType=${t.limitType})`}function ym(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ke.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of Mc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,u,c){const f=NA(s,u,c);return s.inclusive?f<=0:f<0})(r.startAt,Mc(r),i)||r.endAt&&!(function(s,u,c){const f=NA(s,u,c);return s.inclusive?f>=0:f>0})(r.endAt,Mc(r),i))})(t,e)}function W5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dR(t){return(e,n)=>{let r=!1;for(const i of Mc(t)){const o=H5(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function H5(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):(function(o,s,u){const c=s.data.field(o),f=u.data.field(o);return c!==null&&f!==null?Ml(c,f):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return X2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=new jt(ke.comparator);function oo(){return G5}const hR=new jt(ke.comparator);function Pc(...t){let e=hR;for(const n of t)e=e.insert(n.key,n);return e}function pR(t){let e=hR;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ka(){return Lc()}function mR(){return Lc()}function Lc(){return new xs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const K5=new jt(ke.comparator),Y5=new nn(ke.comparator);function Xe(...t){let e=Y5;for(const n of t)e=e.add(n);return e}const X5=new nn(Ye);function Q5(){return X5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(e)?"-0":e}}function gR(t){return{integerValue:""+t}}function J5(t,e){return w5(e)?gR(e):t1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this._=void 0}}function Z5(t,e,n){return t instanceof Xc?(function(i,o){const s={fields:{[Z2]:{stringValue:J2},[tR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Xw(o)&&(o=pm(o)),o&&(s.fields[eR]=o),{mapValue:s}})(n,e):t instanceof Qc?vR(t,e):t instanceof Jc?xR(t,e):(function(i,o){const s=yR(i,o),u=MA(s)+MA(i.Ae);return u_(s)&&u_(i.Ae)?gR(u):t1(i.serializer,u)})(t,e)}function eB(t,e,n){return t instanceof Qc?vR(t,e):t instanceof Jc?xR(t,e):n}function yR(t,e){return t instanceof ep?(function(r){return u_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Xc extends vm{}class Qc extends vm{constructor(e){super(),this.elements=e}}function vR(t,e){const n=bR(e);for(const r of t.elements)n.some((i=>bi(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Jc extends vm{constructor(e){super(),this.elements=e}}function xR(t,e){let n=bR(e);for(const r of t.elements)n=n.filter((i=>!bi(i,r)));return{arrayValue:{values:n}}}class ep extends vm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function MA(t){return Bt(t.integerValue||t.doubleValue)}function bR(t){return Qw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e,n){this.field=e,this.transform=n}}function nB(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Qc&&i instanceof Qc||r instanceof Jc&&i instanceof Jc?Dl(r.elements,i.elements,bi):r instanceof ep&&i instanceof ep?bi(r.Ae,i.Ae):r instanceof Xc&&i instanceof Xc})(t.transform,e.transform)}class rB{constructor(e,n){this.version=e,this.transformResults=n}}class pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xm{}function _R(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new n1(t.key,pi.none()):new Uf(t.key,t.data,pi.none());{const n=t.data,r=xr.empty();let i=new nn(vn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new bs(t.key,r,new Vr(i.toArray()),pi.none())}}function iB(t,e,n){t instanceof Uf?(function(i,o,s){const u=i.value.clone(),c=$A(i.fieldTransforms,o,s.transformResults);u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):t instanceof bs?(function(i,o,s){if(!Bh(i.precondition,o))return void o.convertToUnknownDocument(s.version);const u=$A(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(wR(i)),c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function $c(t,e,n,r){return t instanceof Uf?(function(o,s,u,c){if(!Bh(o.precondition,s))return u;const f=o.value.clone(),h=VA(o.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof bs?(function(o,s,u,c){if(!Bh(o.precondition,s))return u;const f=VA(o.fieldTransforms,c,s),h=s.data;return h.setAll(wR(o)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(o,s,u){return Bh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u})(t,e,n)}function oB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=yR(r.transform,i||null);o!=null&&(n===null&&(n=xr.empty()),n.set(r.field,o))}return n||null}function LA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Dl(r,i,((o,s)=>nB(o,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uf extends xm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bs extends xm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function wR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function $A(t,e,n){const r=new Map;ct(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,u=e.data.field(o.field);r.set(o.field,eB(s,u,n[i]))}return r}function VA(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Z5(o,s,e))}return r}class n1 extends xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aB extends xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&iB(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$c(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$c(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mR();return this.mutations.forEach((i=>{const o=e.get(i.key),s=o.overlayedDocument;let u=this.applyToLocalView(s,o.mutatedFields);u=n.has(i.key)?null:u;const c=_R(s,u);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Fe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Dl(this.mutations,e.mutations,((n,r)=>LA(n,r)))&&Dl(this.baseMutations,e.baseMutations,((n,r)=>LA(n,r)))}}class r1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return K5})();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new r1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Je;function cB(t){switch(t){case fe.OK:return Me(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function ER(t){if(t===void 0)return io("GRPC error has no .code"),fe.UNKNOWN;switch(t){case qt.OK:return fe.OK;case qt.CANCELLED:return fe.CANCELLED;case qt.UNKNOWN:return fe.UNKNOWN;case qt.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case qt.INTERNAL:return fe.INTERNAL;case qt.UNAVAILABLE:return fe.UNAVAILABLE;case qt.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case qt.NOT_FOUND:return fe.NOT_FOUND;case qt.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case qt.ABORTED:return fe.ABORTED;case qt.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case qt.DATA_LOSS:return fe.DATA_LOSS;default:return Me(39323,{code:t})}}(Je=qt||(qt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=new ea([4294967295,4294967295],0);function BA(t){const e=fB().encode(t),n=new V2;return n.update(e),new Uint8Array(n.digest())}function FA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ea([n,r],0),new ea([i,o],0)]}class i1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ic(`Invalid padding: ${n}`);if(r<0)throw new Ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ic(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ea.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ea.fromNumber(r)));return i.compare(dB)===1&&(i=new ea([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=BA(e),[r,i]=FA(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new i1(o,i,n);return r.forEach((u=>s.insert(u))),s}insert(e){if(this.ge===0)return;const n=BA(e),[r,i]=FA(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,qf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bm(Fe.min(),i,new jt(Ye),oo(),Xe())}}class qf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qf(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class TR{constructor(e,n){this.targetId=e,this.Ce=n}}class SR{constructor(e,n,r=bn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class UA{constructor(){this.ve=0,this.Fe=qA(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),r=Xe();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Me(38017,{changeType:o})}})),new qf(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=qA()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class hB{constructor(e){this.Ge=e,this.ze=new Map,this.je=oo(),this.He=_h(),this.Je=_h(),this.Ze=new jt(Ye)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(f_(o))if(r===0){const s=new ke(o.path);this.et(n,s,Cn.newNoDocument(s,Fe.min()))}else ct(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const u=this.ut(e),c=u?this.ct(u,e,s):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,u;try{s=oa(r).toUint8Array()}catch(c){if(c instanceof Q2)return cs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new i1(s,i,o)}catch(c){return cs(c instanceof Ic?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const s=this.Ge.ht(),u=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,s)=>{const u=this.ot(s);if(u){if(o.current&&f_(u.target)){const c=new ke(u.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Cn.newNoDocument(c,e))}o.Be&&(n.set(s,o.ke()),o.Ke())}}));let r=Xe();this.Je.forEach(((o,s)=>{let u=!0;s.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,s)=>s.setReadTime(e)));const i=new bm(e,n,this.Ze,this.je,r);return this.je=oo(),this.He=_h(),this.Je=_h(),this.Ze=new jt(Ye),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new UA,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new nn(Ye),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new nn(Ye),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new UA),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _h(){return new jt(ke.comparator)}function qA(){return new jt(ke.comparator)}const pB={asc:"ASCENDING",desc:"DESCENDING"},mB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gB={and:"AND",or:"OR"};class yB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function h_(t,e){return t.useProto3Json||hm(e)?e:{value:e}}function tp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vB(t,e){return tp(t,e.toTimestamp())}function mi(t){return ct(!!t,49232),Fe.fromTimestamp((function(n){const r=ia(n);return new At(r.seconds,r.nanos)})(t))}function o1(t,e){return p_(t,e).canonicalString()}function p_(t,e){const n=(function(i){return new St(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function PR(t){const e=St.fromString(t);return ct(NR(e),10190,{key:e.toString()}),e}function m_(t,e){return o1(t.databaseId,e.path)}function zy(t,e){const n=PR(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(CR(n))}function IR(t,e){return o1(t.databaseId,e)}function xB(t){const e=PR(t);return e.length===4?St.emptyPath():CR(e)}function g_(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CR(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function zA(t,e,n){return{name:m_(t,e),fields:n.value.mapValue.fields}}function bB(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Me(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,h){return f.useProto3Json?(ct(h===void 0||typeof h=="string",58123),bn.fromBase64String(h||"")):(ct(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),bn.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&(function(f){const h=f.code===void 0?fe.UNKNOWN:ER(f.code);return new Ie(h,f.message||"")})(s);n=new SR(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zy(t,r.document.name),o=mi(r.document.updateTime),s=r.document.createTime?mi(r.document.createTime):Fe.min(),u=new xr({mapValue:{fields:r.document.fields}}),c=Cn.newFoundDocument(i,o,s,u),f=r.targetIds||[],h=r.removedTargetIds||[];n=new Fh(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zy(t,r.document),o=r.readTime?mi(r.readTime):Fe.min(),s=Cn.newNoDocument(i,o),u=r.removedTargetIds||[];n=new Fh([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zy(t,r.document),o=r.removedTargetIds||[];n=new Fh([],o,i,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new uB(i,o),u=r.targetId;n=new TR(u,s)}}return n}function _B(t,e){let n;if(e instanceof Uf)n={update:zA(t,e.key,e.value)};else if(e instanceof n1)n={delete:m_(t,e.key)};else if(e instanceof bs)n={update:zA(t,e.key,e.data),updateMask:OB(e.fieldMask)};else{if(!(e instanceof aB))return Me(16599,{dt:e.type});n={verify:m_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,s){const u=s.transform;if(u instanceof Xc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Qc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Jc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ep)return{fieldPath:s.field.canonicalString(),increment:u.Ae};throw Me(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:vB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Me(27497)})(t,e.precondition)),n}function wB(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map((n=>(function(i,o){let s=i.updateTime?mi(i.updateTime):mi(o);return s.isEqual(Fe.min())&&(s=mi(o)),new rB(s,i.transformResults||[])})(n,e)))):[]}function EB(t,e){return{documents:[IR(t,e.path)]}}function TB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=IR(t,i);const o=(function(f){if(f.length!==0)return kR(_i.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const s=(function(f){if(f.length!==0)return f.map((h=>(function(v){return{field:yl(v.field),direction:PB(v.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const u=h_(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function SB(t){let e=xB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ct(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){const v=OR(p);return v instanceof _i&&sR(v)?v.getFilters():[v]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map((v=>(function(S){return new Zh(vl(S.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let v;return v=typeof p=="object"?p.value:p,hm(v)?null:v})(n.limit));let c=null;n.startAt&&(c=(function(p){const v=!!p.before,x=p.values||[];return new Jh(x,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const v=!p.before,x=p.values||[];return new Jh(x,v)})(n.endAt)),F5(e,i,s,o,u,"F",c,f)}function AB(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vl(n.unaryFilter.field);return Zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=vl(n.unaryFilter.field);return Zt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=vl(n.unaryFilter.field);return Zt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=vl(n.unaryFilter.field);return Zt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Zt.create(vl(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return _i.create(n.compositeFilter.filters.map((r=>OR(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function PB(t){return pB[t]}function IB(t){return mB[t]}function CB(t){return gB[t]}function yl(t){return{fieldPath:t.canonicalString()}}function vl(t){return vn.fromServerFormat(t.fieldPath)}function kR(t){return t instanceof Zt?(function(n){if(n.op==="=="){if(kA(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NAN"}};if(OA(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kA(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NOT_NAN"}};if(OA(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yl(n.field),op:IB(n.op),value:n.value}}})(t):t instanceof _i?(function(n){const r=n.getFilters().map((i=>kR(i)));return r.length===1?r[0]:{compositeFilter:{op:CB(n.op),filters:r}}})(t):Me(54877,{filter:t})}function OB(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function NR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function jR(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n,r,i,o=Fe.min(),s=Fe.min(),u=bn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e){this.yt=e}}function NB(t){const e=SB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?d_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(){this.Sn=new RB}addToCollectionParentIndex(e,n){return this.Sn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(ra.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(ra.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class RB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nn(St.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nn(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RR=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(RR,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new $l(0)}static ar(){return new $l(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="LruGarbageCollector",DB=1048576;function GA([t,e],[n,r]){const i=Ye(t,n);return i===0?Ye(e,r):i}class MB{constructor(e){this.Pr=e,this.buffer=new nn(GA),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){we(HA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pu(n)?we(HA,"Ignoring IndexedDB error during garbage collection: ",n):await hu(n)}await this.Ar(3e5)}))}}class $B{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(dm.ce);const r=new MB(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(WA)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WA):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,o,s,u,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,u=Date.now(),this.removeTargets(e,r,n)))).next((p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),ml()<=Ke.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${o} targets in `+(c-u)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p}))))}}function VB(t,e){return new $B(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(){this.changes=new xs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&$c(r.mutation,i,Vr.empty(),At.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Xe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Xe()){const i=Ka();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let s=Pc();return o.forEach(((u,c)=>{s=s.insert(u,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=Ka();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Xe())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((s,u)=>{n.set(s,u)}))}))}computeViews(e,n,r,i){let o=oo();const s=Lc(),u=(function(){return Lc()})();return n.forEach(((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof bs)?o=o.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),$c(h.mutation,f,h.mutation.getFieldMask(),At.now())):s.set(f.key,Vr.empty())})),this.recalculateAndSaveOverlays(e,o).next((c=>(c.forEach(((f,h)=>s.set(f,h))),n.forEach(((f,h)=>u.set(f,new FB(h,s.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Lc();let i=new jt(((s,u)=>s-u)),o=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const u of s)u.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||Vr.empty();h=u.applyToLocalView(f,h),r.set(c,h);const p=(i.get(u.batchId)||Xe()).add(c);i=i.insert(u.batchId,p)}))})).next((()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,h=c.value,p=mR();h.forEach((v=>{if(!o.has(v)){const x=_R(n.get(v),r.get(v));x!==null&&p.set(v,x),o=o.add(v)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,p))}return le.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return U5(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):q5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):le.resolve(Ka());let u=Hc,c=o;return s.next((f=>le.forEach(f,((h,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),o.get(h)?le.resolve():this.remoteDocumentCache.getEntry(e,h).next((v=>{c=c.insert(h,v)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,c,f,Xe()))).next((h=>({batchId:u,changes:pR(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((r=>{let i=Pc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Pc();return this.indexManager.getCollectionParents(e,o).next((u=>le.forEach(u,(c=>{const f=(function(p,v){return new mm(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((p,v)=>{s=s.insert(p,v)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((s=>{o.forEach(((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,Cn.newInvalidDocument(h)))}));let u=Pc();return s.forEach(((c,f)=>{const h=o.get(c);h!==void 0&&$c(h.mutation,f,Vr.empty(),At.now()),ym(n,f)&&(u=u.insert(c,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return le.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:mi(i.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:NB(i.bundledQuery),readTime:mi(i.readTime)}})(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(){this.overlays=new jt(ke.comparator),this.Lr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ka();return le.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.bt(e,n,o)})),le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const i=Ka(),o=n.length+1,s=new ke(n.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new jt(((f,h)=>f-h));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=o.get(f.largestBatchId);h===null&&(h=Ka(),o=o.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const u=Ka(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>u.set(f,h))),!(u.size()>=i)););return le.resolve(u)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new lB(n,r));let o=this.Lr.get(n);o===void 0&&(o=Xe(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.kr=new nn(ln.Kr),this.qr=new nn(ln.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new ln(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new ln(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ke(new St([])),r=new ln(n,e),i=new ln(n,e+1),o=[];return this.qr.forEachInRange([r,i],(s=>{this.Wr(s),o.push(s.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ke(new St([])),r=new ln(n,e),i=new ln(n,e+1);let o=Xe();return this.qr.forEachInRange([r,i],(s=>{o=o.add(s.key)})),o}containsKey(e){const n=new ln(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ln{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ke.comparator(e.key,n.key)||Ye(e.Hr,n.Hr)}static Ur(e,n){return Ye(e.Hr,n.Hr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new nn(ln.Kr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new sB(o,n,r,i);this.mutationQueue.push(s);for(const u of i)this.Jr=this.Jr.add(new ln(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return le.resolve(s)}lookupMutationBatch(e,n){return le.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Yw:this.Yn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ln(n,0),i=new ln(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],(s=>{const u=this.Zr(s.Hr);o.push(u)})),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nn(Ye);return n.forEach((i=>{const o=new ln(i,0),s=new ln(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,s],(u=>{r=r.add(u.Hr)}))})),le.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ke.isDocumentKey(o)||(o=o.child(""));const s=new ln(new ke(o),0);let u=new nn(Ye);return this.Jr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.Hr)),!0)}),s),le.resolve(this.Yr(u))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ct(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return le.forEach(n.mutations,(i=>{const o=new ln(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new ln(n,0),i=this.Jr.firstAfterOrEqual(r);return le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e){this.ti=e,this.docs=(function(){return new jt(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=oo();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Cn.newInvalidDocument(i))})),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=oo();const s=n.path,u=new ke(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||v5(y5(h),r)<=0||(i.has(h.key)||ym(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Me(9500)}ni(e,n){return le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new KB(this)}getSize(e){return le.resolve(this.size)}}class KB extends BB{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),le.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e){this.persistence=e,this.ri=new xs((n=>Jw(n)),Zw),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.ii=0,this.si=new a1,this.targetCount=0,this.oi=$l._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),le.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new $l(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.lr(n),le.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ri.forEach(((s,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ri.delete(s),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),le.waitFor(o).next((()=>i))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((s=>{o.push(i.markPotentiallyOrphaned(e,s))})),le.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n){this._i={},this.overlays={},this.ai=new dm(0),this.ui=!1,this.ui=!0,this.ci=new WB,this.referenceDelegate=e(this),this.li=new YB(this),this.indexManager=new jB,this.remoteDocumentCache=(function(i){return new GB(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new kB(n),this.Pi=new qB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new HB(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new XB(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((o=>this.referenceDelegate.Ii(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ei(e,n){return le.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class XB extends b5{constructor(e){super(),this.currentSequenceNumber=e}}class s1{constructor(e){this.persistence=e,this.Ri=new a1,this.Ai=null}static Vi(e){return new s1(e)}get di(){if(this.Ai)return this.Ai;throw Me(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,(r=>{const i=ke.fromPath(r);return this.mi(e,i).next((o=>{o||n.removeEntry(i,Fe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class np{constructor(e,n){this.persistence=e,this.fi=new xs((r=>E5(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=VB(this,n)}static Vi(e,n){return new np(e,n)}Ti(){}Ii(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return le.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((o=>o?le.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,(s=>this.wr(e,s,n).next((u=>{u||(r++,o.removeEntry(s,Fe.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$h(e.data.value)),n}wr(e,n,r){return le.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return le.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=Xe(),i=Xe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new l1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return B$()?8:_5(Nn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.gs(e,n).next((s=>{o.result=s})).next((()=>{if(!o.result)return this.ps(e,n,i,r).next((s=>{o.result=s}))})).next((()=>{if(o.result)return;const s=new QB;return this.ys(e,n,s).next((u=>{if(o.result=u,this.As)return this.ws(e,n,s,u.size)}))})).next((()=>o.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(ml()<=Ke.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",gl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(ml()<=Ke.DEBUG&&we("QueryEngine","Query:",gl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(ml()<=Ke.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",gl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hi(n))):le.resolve())}gs(e,n){if(DA(n))return le.resolve(null);let r=hi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=d_(n,null,"F"),r=hi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const s=Xe(...o);return this.fs.getDocuments(e,s).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.bs(n,u);return this.Ss(n,f,s,c.readTime)?this.gs(e,d_(n,null,"F")):this.Ds(e,f,n,c)}))))})))))}ps(e,n,r,i){return DA(n)||i.isEqual(Fe.min())?le.resolve(null):this.fs.getDocuments(e,r).next((o=>{const s=this.bs(n,o);return this.Ss(n,s,r,i)?le.resolve(null):(ml()<=Ke.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gl(n)),this.Ds(e,s,n,g5(i,Hc)).next((u=>u)))}))}bs(e,n){let r=new nn(dR(e));return n.forEach(((i,o)=>{ym(e,o)&&(r=r.add(o))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,n,r){return ml()<=Ke.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",gl(n)),this.fs.getDocumentsMatchingQuery(e,n,ra.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((s=>{o=o.insert(s.key,s)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="LocalStore",ZB=3e8;class e6{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new jt(Ye),this.Fs=new xs((o=>Jw(o)),Zw),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UB(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function t6(t,e,n,r){return new e6(t,e,n,r)}async function MR(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const s=[],u=[];let c=Xe();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of o){u.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ns:f,removedBatchIds:s,addedBatchIds:u})))}))}))}function n6(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(u,c,f,h){const p=f.batch,v=p.keys();let x=le.resolve();return v.forEach((S=>{x=x.next((()=>h.getEntry(c,S))).next((T=>{const _=f.docVersions.get(S);ct(_!==null,48541),T.version.compareTo(_)<0&&(p.applyToRemoteDocument(T,f),T.isValidDocument()&&(T.setReadTime(f.commitVersion),h.addEntry(T)))}))})),x.next((()=>u.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let c=Xe();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function LR(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function r6(t,e){const n=qe(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const u=[];e.targetChanges.forEach(((h,p)=>{const v=i.get(p);if(!v)return;u.push(n.li.removeMatchingKeys(o,h.removedDocuments,p).next((()=>n.li.addMatchingKeys(o,h.addedDocuments,p))));let x=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?x=x.withResumeToken(bn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,r)),i=i.insert(p,x),(function(T,_,I){return T.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=ZB?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(v,x,h)&&u.push(n.li.updateTargetData(o,x))}));let c=oo(),f=Xe();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})),u.push(i6(o,s,e.documentUpdates).next((h=>{c=h.Bs,f=h.Ls}))),!r.isEqual(Fe.min())){const h=n.li.getLastRemoteSnapshotVersion(o).next((p=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(h)}return le.waitFor(u).next((()=>s.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,c,f))).next((()=>c))})).then((o=>(n.vs=i,o)))}function i6(t,e,n){let r=Xe(),i=Xe();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let s=oo();return n.forEach(((u,c)=>{const f=o.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Fe.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):we(u1,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)})),{Bs:s,Ls:i}}))}function o6(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Yw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function a6(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((o=>o?(i=o,le.resolve(i)):n.li.allocateTargetId(r).next((s=>(i=new Yo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function y_(t,e,n){const r=qe(t),i=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!pu(s))throw s;we(u1,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function KA(t,e,n){const r=qe(t);let i=Fe.min(),o=Xe();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,f,h){const p=qe(c),v=p.Fs.get(h);return v!==void 0?le.resolve(p.vs.get(v)):p.li.getTargetData(f,h)})(r,s,hi(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,u.targetId).next((c=>{o=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:Fe.min(),n?o:Xe()))).next((u=>(s6(r,W5(e),u),{documents:u,ks:o})))))}function s6(t,e,n){let r=t.Ms.get(e)||Fe.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Ms.set(e,r)}class YA{constructor(){this.activeTargetIds=Q5()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l6{constructor(){this.vo=new YA,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new YA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="ConnectivityMonitor";class QA{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){we(XA,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){we(XA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh=null;function v_(){return wh===null?wh=(function(){return 268435456+Math.round(2147483648*Math.random())})():wh++,"0x"+wh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="RestConnection",c6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class f6{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Xh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const s=v_(),u=this.Qo(e,n.toUriEncodedString());we(Wy,`Sending RPC '${e}' ${s}:`,u,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,o);const{host:f}=new URL(u),h=cu(f);return this.zo(e,u,c,r,h).then((p=>(we(Wy,`Received RPC '${e}' ${s}: `,p),p)),(p=>{throw cs(Wy,`RPC '${e}' ${s} failed with error: `,p,"url: ",u,"request:",r),p}))}jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+du})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}Qo(e,n){const r=c6[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection",mc=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class El extends f6{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!El.c_){const e=q2();mc(e,U2.STAT_EVENT,(n=>{n.stat===a_.PROXY?we(An,"STAT_EVENT: detected buffering proxy"):n.stat===a_.NOPROXY&&we(An,"STAT_EVENT: detected no buffering proxy")})),El.c_=!0}}zo(e,n,r,i,o){const s=v_();return new Promise(((u,c)=>{const f=new B2;f.setWithCredentials(!0),f.listenOnce(F2.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Lh.NO_ERROR:const p=f.getResponseJson();we(An,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),u(p);break;case Lh.TIMEOUT:we(An,`RPC '${e}' ${s} timed out`),c(new Ie(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const v=f.getStatus();if(we(An,`RPC '${e}' ${s} failed with status:`,v,"response text:",f.getResponseText()),v>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const T=(function(I){const R=I.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(R)>=0?R:fe.UNKNOWN})(S.status);c(new Ie(T,S.message))}else c(new Ie(fe.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ie(fe.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{we(An,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);we(An,`RPC '${e}' ${s} sending request:`,i),f.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=v_(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=o.join("");we(An,`Creating RPC '${e}' stream ${i}: ${f}`,u);const h=s.createWebChannel(f,u);this.I_(h);let p=!1,v=!1;const x=new d6({Ho:S=>{v?we(An,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(p||(we(An,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),we(An,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Jo:()=>h.close()});return mc(h,Ac.EventType.OPEN,(()=>{v||(we(An,`RPC '${e}' stream ${i} transport opened.`),x.i_())})),mc(h,Ac.EventType.CLOSE,(()=>{v||(v=!0,we(An,`RPC '${e}' stream ${i} transport closed`),x.o_(),this.E_(h))})),mc(h,Ac.EventType.ERROR,(S=>{v||(v=!0,cs(An,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),x.o_(new Ie(fe.UNAVAILABLE,"The operation could not be completed")))})),mc(h,Ac.EventType.MESSAGE,(S=>{var T;if(!v){const _=S.data[0];ct(!!_,16349);const I=_,R=(I==null?void 0:I.error)||((T=I[0])==null?void 0:T.error);if(R){we(An,`RPC '${e}' stream ${i} received error:`,R);const k=R.status;let D=(function(A){const P=qt[A];if(P!==void 0)return ER(P)})(k),O=R.message;k==="NOT_FOUND"&&O.includes("database")&&O.includes("does not exist")&&O.includes(this.databaseId.database)&&cs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),D===void 0&&(D=fe.INTERNAL,O="Unknown error status: "+k+" with message "+R.message),v=!0,x.o_(new Ie(D,O)),h.close()}else we(An,`RPC '${e}' stream ${i} received:`,_),x.__(_)}})),El.u_(),setTimeout((()=>{x.s_()}),0),x}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return z2()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(t){return new El(t)}function Hy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t){return new yB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */El.c_=!1;class $R{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="PersistentStream";class VR{constructor(e,n,r,i,o,s,u,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $R(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(io(n.toString()),io("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ie(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(JA,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(we(JA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class p6 extends VR{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bB(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Fe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Fe.min():s.readTime?mi(s.readTime):Fe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=g_(this.serializer),n.addTarget=(function(o,s){let u;const c=s.target;if(u=f_(c)?{documents:EB(o,c)}:{query:TB(o,c).ft},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=AR(o,s.resumeToken);const f=h_(o,s.expectedCount);f!==null&&(u.expectedCount=f)}else if(s.snapshotVersion.compareTo(Fe.min())>0){u.readTime=tp(o,s.snapshotVersion.toTimestamp());const f=h_(o,s.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=AB(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=g_(this.serializer),n.removeTarget=e,this.K_(n)}}class m6 extends VR{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wB(e.writeResults,e.commitTime),r=mi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=g_(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>_B(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{}class y6 extends g6{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ie(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Wo(e,p_(n,r),i,o,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(fe.UNKNOWN,o.toString())}))}jo(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,u])=>this.connection.jo(e,p_(n,r),i,s,u,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(fe.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function v6(t,e,n,r){return new y6(t,e,n,r)}class x6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(io(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="RemoteStore";class b6{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((s=>{r.enqueueAndForget((async()=>{_s(this)&&(we(fs,"Restarting streams for network reachability change."),await(async function(c){const f=qe(c);f.Ea.add(4),await zf(f),f.Va.set("Unknown"),f.Ea.delete(4),await wm(f)})(this))}))})),this.Va=new x6(r,i)}}async function wm(t){if(_s(t))for(const e of t.Ra)await e(!0)}async function zf(t){for(const e of t.Ra)await e(!1)}function BR(t,e){const n=qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),h1(n)?d1(n):mu(n).O_()&&f1(n,e))}function c1(t,e){const n=qe(t),r=mu(n);n.Ia.delete(e),r.O_()&&FR(n,e),n.Ia.size===0&&(r.O_()?r.L_():_s(n)&&n.Va.set("Unknown"))}function f1(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mu(t).Z_(e)}function FR(t,e){t.da.$e(e),mu(t).X_(e)}function d1(t){t.da=new hB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),mu(t).start(),t.Va.ua()}function h1(t){return _s(t)&&!mu(t).x_()&&t.Ia.size>0}function _s(t){return qe(t).Ea.size===0}function UR(t){t.da=void 0}async function _6(t){t.Va.set("Online")}async function w6(t){t.Ia.forEach(((e,n)=>{f1(t,e)}))}async function E6(t,e){UR(t),h1(t)?(t.Va.ha(e),d1(t)):t.Va.set("Unknown")}async function T6(t,e,n){if(t.Va.set("Online"),e instanceof SR&&e.state===2&&e.cause)try{await(async function(i,o){const s=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.Ia.delete(u),i.da.removeTarget(u))})(t,e)}catch(r){we(fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rp(t,r)}else if(e instanceof Fh?t.da.Xe(e):e instanceof TR?t.da.st(e):t.da.tt(e),!n.isEqual(Fe.min()))try{const r=await LR(t.localStore);n.compareTo(r)>=0&&await(function(o,s){const u=o.da.Tt(s);return u.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.Ia.get(f);h&&o.Ia.set(f,h.withResumeToken(c.resumeToken,s))}})),u.targetMismatches.forEach(((c,f)=>{const h=o.Ia.get(c);if(!h)return;o.Ia.set(c,h.withResumeToken(bn.EMPTY_BYTE_STRING,h.snapshotVersion)),FR(o,c);const p=new Yo(h.target,c,f,h.sequenceNumber);f1(o,p)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){we(fs,"Failed to raise snapshot:",r),await rp(t,r)}}async function rp(t,e,n){if(!pu(e))throw e;t.Ea.add(1),await zf(t),t.Va.set("Offline"),n||(n=()=>LR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(fs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await wm(t)}))}function qR(t,e){return e().catch((n=>rp(t,n,e)))}async function Em(t){const e=qe(t),n=sa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Yw;for(;S6(e);)try{const i=await o6(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,A6(e,i)}catch(i){await rp(e,i)}zR(e)&&WR(e)}function S6(t){return _s(t)&&t.Ta.length<10}function A6(t,e){t.Ta.push(e);const n=sa(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function zR(t){return _s(t)&&!sa(t).x_()&&t.Ta.length>0}function WR(t){sa(t).start()}async function P6(t){sa(t).ra()}async function I6(t){const e=sa(t);for(const n of t.Ta)e.ea(n.mutations)}async function C6(t,e,n){const r=t.Ta.shift(),i=r1.from(r,e,n);await qR(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Em(t)}async function O6(t,e){e&&sa(t).Y_&&await(async function(r,i){if((function(s){return cB(s)&&s!==fe.ABORTED})(i.code)){const o=r.Ta.shift();sa(r).B_(),await qR(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Em(r)}})(t,e),zR(t)&&WR(t)}async function ZA(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),we(fs,"RemoteStore received new credentials");const r=_s(n);n.Ea.add(3),await zf(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wm(n)}async function k6(t,e){const n=qe(t);e?(n.Ea.delete(2),await wm(n)):e||(n.Ea.add(2),await zf(n),n.Va.set("Unknown"))}function mu(t){return t.ma||(t.ma=(function(n,r,i){const o=qe(n);return o.sa(),new p6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:_6.bind(null,t),Yo:w6.bind(null,t),t_:E6.bind(null,t),J_:T6.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),h1(t)?d1(t):t.Va.set("Unknown")):(await t.ma.stop(),UR(t))}))),t.ma}function sa(t){return t.fa||(t.fa=(function(n,r,i){const o=qe(n);return o.sa(),new m6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:P6.bind(null,t),t_:O6.bind(null,t),ta:I6.bind(null,t),na:C6.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Em(t)):(await t.fa.stop(),t.Ta.length>0&&(we(fs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,u=new p1(e,n,s,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m1(t,e){if(io("AsyncQueue",`${e}: ${t}`),pu(t))return new Ie(fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{static emptySet(e){return new Tl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=Pc(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.ga=new jt(ke.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Vl{constructor(e,n,r,i,o,s,u,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach((u=>{s.push({type:0,doc:u})})),new Vl(e,n,Tl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class j6{constructor(){this.queries=tP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=qe(n),o=i.queries;i.queries=tP(),o.forEach(((s,u)=>{for(const c of u.ba)c.onError(r)}))})(this,new Ie(fe.ABORTED,"Firestore shutting down"))}}function tP(){return new xs((t=>fR(t)),gm)}async function R6(t,e){const n=qe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new N6,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const u=m1(s,`Initialization of query '${gl(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&g1(n)}async function D6(t,e){const n=qe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ba.indexOf(e);s>=0&&(o.ba.splice(s,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function M6(t,e){const n=qe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const u of s.ba)u.Fa(i)&&(r=!0);s.wa=i}}r&&g1(n)}function L6(t,e,n){const r=qe(t),i=r.queries.get(e);if(i)for(const o of i.ba)o.onError(n);r.queries.delete(e)}function g1(t){t.Ca.forEach((e=>{e.next()}))}var x_,nP;(nP=x_||(x_={})).Ma="default",nP.Cache="cache";class $6{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==x_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.key=e}}class GR{constructor(e){this.key=e}}class V6{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xe(),this.mutatedKeys=Xe(),this.eu=dR(e),this.tu=new Tl(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new eP,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const v=i.get(h),x=ym(this.query,p)?p:null,S=!!v&&this.mutatedKeys.has(v.key),T=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let _=!1;v&&x?v.data.isEqual(x.data)?S!==T&&(r.track({type:3,doc:x}),_=!0):this.su(v,x)||(r.track({type:2,doc:x}),_=!0,(c&&this.eu(x,c)>0||f&&this.eu(x,f)<0)&&(u=!0)):!v&&x?(r.track({type:0,doc:x}),_=!0):v&&!x&&(r.track({type:1,doc:v}),_=!0,(c||f)&&(u=!0)),_&&(x?(s=s.add(x),o=T?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Ss:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((h,p)=>(function(x,S){const T=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:_})}};return T(x)-T(S)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,f=c!==this.Xa;return this.Xa=c,s.length!==0||f?{snapshot:new Vl(this.query,e.tu,o,s,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eP,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new GR(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new HR(r))})),n}cu(e){this.Za=e.ks,this.Ya=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const y1="SyncEngine";class B6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class F6{constructor(e){this.key=e,this.hu=!1}}class U6{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new xs((u=>fR(u)),gm),this.Iu=new Map,this.Eu=new Set,this.Ru=new jt(ke.comparator),this.Au=new Map,this.Vu=new a1,this.du={},this.mu=new Map,this.fu=$l.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function q6(t,e,n=!0){const r=ZR(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await KR(r,e,n,!0),i}async function z6(t,e){const n=ZR(t);await KR(n,e,!0,!1)}async function KR(t,e,n,r){const i=await a6(t.localStore,hi(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await W6(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&BR(t.remoteStore,i),u}async function W6(t,e,n,r,i){t.pu=(p,v,x)=>(async function(T,_,I,R){let k=_.view.ru(I);k.Ss&&(k=await KA(T.localStore,_.query,!1).then((({documents:A})=>_.view.ru(A,k))));const D=R&&R.targetChanges.get(_.targetId),O=R&&R.targetMismatches.get(_.targetId)!=null,j=_.view.applyChanges(k,T.isPrimaryClient,D,O);return iP(T,_.targetId,j.au),j.snapshot})(t,p,v,x);const o=await KA(t.localStore,e,!0),s=new V6(e,o.ks),u=s.ru(o.documents),c=qf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=s.applyChanges(u,t.isPrimaryClient,c);iP(t,n,f.au);const h=new B6(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function H6(t,e,n){const r=qe(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((s=>!gm(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await y_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&c1(r.remoteStore,i.targetId),b_(r,i.targetId)})).catch(hu)):(b_(r,i.targetId),await y_(r.localStore,i.targetId,!0))}async function G6(t,e){const n=qe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),c1(n.remoteStore,r.targetId))}async function K6(t,e,n){const r=tF(t);try{const i=await(function(s,u){const c=qe(s),f=At.now(),h=u.reduce(((x,S)=>x.add(S.key)),Xe());let p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let S=oo(),T=Xe();return c.xs.getEntries(x,h).next((_=>{S=_,S.forEach(((I,R)=>{R.isValidDocument()||(T=T.add(I))}))})).next((()=>c.localDocuments.getOverlayedDocuments(x,S))).next((_=>{p=_;const I=[];for(const R of u){const k=oB(R,p.get(R.key).overlayedDocument);k!=null&&I.push(new bs(R.key,k,iR(k.value.mapValue),pi.exists(!0)))}return c.mutationQueue.addMutationBatch(x,f,I,u)})).next((_=>{v=_;const I=_.applyToLocalDocumentSet(p,T);return c.documentOverlayCache.saveOverlays(x,_.batchId,I)}))})).then((()=>({batchId:v.batchId,changes:pR(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,u,c){let f=s.du[s.currentUser.toKey()];f||(f=new jt(Ye)),f=f.insert(u,c),s.du[s.currentUser.toKey()]=f})(r,i.batchId,n),await Wf(r,i.changes),await Em(r.remoteStore)}catch(i){const o=m1(i,"Failed to persist write");n.reject(o)}}async function YR(t,e){const n=qe(t);try{const r=await r6(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const s=n.Au.get(o);s&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?ct(s.hu,14607):i.removedDocuments.size>0&&(ct(s.hu,42227),s.hu=!1))})),await Wf(n,r,e)}catch(r){await hu(r)}}function rP(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,s)=>{const u=s.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(s,u){const c=qe(s);c.onlineState=u;let f=!1;c.queries.forEach(((h,p)=>{for(const v of p.ba)v.va(u)&&(f=!0)})),f&&g1(c)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Y6(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new jt(ke.comparator);s=s.insert(o,Cn.newNoDocument(o,Fe.min()));const u=Xe().add(o),c=new bm(Fe.min(),new Map,new jt(Ye),s,u);await YR(r,c),r.Ru=r.Ru.remove(o),r.Au.delete(e),v1(r)}else await y_(r.localStore,e,!1).then((()=>b_(r,e,n))).catch(hu)}async function X6(t,e){const n=qe(t),r=e.batch.batchId;try{const i=await n6(n.localStore,e);QR(n,r,null),XR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wf(n,i)}catch(i){await hu(i)}}async function Q6(t,e,n){const r=qe(t);try{const i=await(function(s,u){const c=qe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,u).next((p=>(ct(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);QR(r,e,n),XR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wf(r,i)}catch(i){await hu(i)}}function XR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function QR(t,e,n){const r=qe(t);let i=r.du[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function b_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||JR(t,r)}))}function JR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(c1(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),v1(t))}function iP(t,e,n){for(const r of n)r instanceof HR?(t.Vu.addReference(r.key,e),J6(t,r)):r instanceof GR?(we(y1,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||JR(t,r.key)):Me(19791,{wu:r})}function J6(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(we(y1,"New document in limbo: "+n),t.Eu.add(r),v1(t))}function v1(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ke(St.fromString(e)),r=t.fu.next();t.Au.set(r,new F6(n)),t.Ru=t.Ru.insert(n,r),BR(t.remoteStore,new Yo(hi(e1(n.path)),r,"TargetPurposeLimboResolution",dm.ce))}}async function Wf(t,e,n){const r=qe(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{s.push(r.pu(c,e,n).then((f=>{var h;if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=l1.Es(c.targetId,f);o.push(p)}})))})),await Promise.all(s),r.Pu.J_(i),await(async function(c,f){const h=qe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>le.forEach(f,(v=>le.forEach(v.Ts,(x=>h.persistence.referenceDelegate.addReference(p,v.targetId,x))).next((()=>le.forEach(v.Is,(x=>h.persistence.referenceDelegate.removeReference(p,v.targetId,x)))))))))}catch(p){if(!pu(p))throw p;we(u1,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const x=h.vs.get(v),S=x.snapshotVersion,T=x.withLastLimboFreeSnapshotVersion(S);h.vs=h.vs.insert(v,T)}}})(r.localStore,o))}async function Z6(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){we(y1,"User change. New user:",e.toKey());const r=await MR(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach((u=>{u.forEach((c=>{c.reject(new Ie(fe.CANCELLED,s))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wf(n,r.Ns)}}function eF(t,e){const n=qe(t),r=n.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let i=Xe();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const u=n.Tu.get(s);i=i.unionWith(u.view.nu)}return i}}function ZR(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y6.bind(null,e),e.Pu.J_=M6.bind(null,e.eventManager),e.Pu.yu=L6.bind(null,e.eventManager),e}function tF(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q6.bind(null,e),e}class ip{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_m(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return t6(this.persistence,new JB,e.initialUser,this.serializer)}Cu(e){return new DR(s1.Vi,this.serializer)}Du(e){return new l6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ip.provider={build:()=>new ip};class nF extends ip{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof np,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new LB(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new DR((r=>np.Vi(r,n)),this.serializer)}}class __{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z6.bind(null,this.syncEngine),await k6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new j6})()}createDatastore(e){const n=_m(e.databaseInfo.databaseId),r=h6(e.databaseInfo);return v6(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,s,u){return new b6(r,i,o,s,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>rP(this.syncEngine,n,0)),(function(){return QA.v()?new QA:new u6})())}createSyncEngine(e,n){return(function(i,o,s,u,c,f,h){const p=new U6(i,o,s,u,c,f);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=qe(i);we(fs,"RemoteStore shutting down."),o.Ea.add(5),await zf(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}__.provider={build:()=>new __};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):io("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="FirestoreClient";class iF{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=In.UNAUTHENTICATED,this.clientId=Gw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async s=>{we(la,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(we(la,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=m1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Gy(t,e){t.asyncQueue.verifyOperationInProgress(),we(la,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await MR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function oP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await oF(t);we(la,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>ZA(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>ZA(e.remoteStore,i))),t._onlineComponents=e}async function oF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(la,"Using user provided OfflineComponentProvider");try{await Gy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;cs("Error using user provided cache. Falling back to memory cache: "+n),await Gy(t,new ip)}}else we(la,"Using default OfflineComponentProvider"),await Gy(t,new nF(void 0));return t._offlineComponents}async function eD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(la,"Using user provided OnlineComponentProvider"),await oP(t,t._uninitializedComponentsProvider._online)):(we(la,"Using default OnlineComponentProvider"),await oP(t,new __))),t._onlineComponents}function aF(t){return eD(t).then((e=>e.syncEngine))}async function aP(t){const e=await eD(t),n=e.eventManager;return n.onListen=q6.bind(null,e.syncEngine),n.onUnlisten=H6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=G6.bind(null,e.syncEngine),n}function sF(t,e,n,r){const i=new rF(r),o=new $6(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>R6(await aP(t),o))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>D6(await aP(t),o)))}}function lF(t,e){const n=new es;return t.asyncQueue.enqueueAndForget((async()=>K6(await aF(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="ComponentProvider",sP=new Map;function cF(t,e,n,r,i){return new A5(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,tD(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="firestore.googleapis.com",lP=!0;class uP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nD,this.ssl=lP}else this.host=e.host,this.ssl=e.ssl??lP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DB)throw new Ie(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tD(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ie(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ie(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ie(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new o5;switch(r.type){case"firstParty":return new u5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=sP.get(n);r&&(we(uF,"Removing Datastore"),sP.delete(n),r.terminate())})(this),Promise.resolve()}}function fF(t,e,n,r={}){var f;t=ts(t,Tm);const i=cu(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(k2(`https://${u}`),N2("Firestore",!0)),o.host!==nD&&o.host!==u&&cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:u,ssl:i,emulatorOptions:r};if(!ss(c,s)&&(t._setSettings(c),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=In.MOCK_USER;else{h=k$(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ie(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new In(v)}t._authCredentials=new a5(new H2(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sm(this.firestore,e,this._query)}}class en{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ff(n,en._jsonSchema))return new en(e,r||null,new ke(St.fromString(n.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:Wt("string",en._jsonSchemaVersion),referencePath:Wt("string")};class ta extends Sm{constructor(e,n,r){super(e,n,e1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new ke(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function dF(t,e,...n){if(t=Hn(t),G2("collection","path",e),t instanceof Tm){const r=St.fromString(e,...n);return wA(r),new ta(t,null,r)}{if(!(t instanceof en||t instanceof ta))throw new Ie(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return wA(r),new ta(t.firestore,null,r)}}function Vc(t,e,...n){if(t=Hn(t),arguments.length===1&&(e=Gw.newId()),G2("doc","path",e),t instanceof Tm){const r=St.fromString(e,...n);return _A(r),new en(t,null,new ke(r))}{if(!(t instanceof en||t instanceof ta))throw new Ie(fe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return _A(r),new en(t.firestore,t instanceof ta?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="AsyncQueue";class fP{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $R(this,"async_queue_retry"),this._c=()=>{const r=Hy();r&&we(cP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Hy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!pu(e))throw e;we(cP,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,io("INTERNAL UNHANDLED ERROR: ",dP(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=p1.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Me(47125,{Pc:dP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function dP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Zc extends Tm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new fP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fP(e),this._firestoreClient=void 0,await e}}}function hF(t,e){const n=typeof t=="object"?t:M2(),r=typeof t=="string"?t:Xh,i=Ww(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=C$("firestore");o&&fF(i,...o)}return i}function rD(t){if(t._terminated)throw new Ie(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pF(t),t._firestoreClient}function pF(t){var r,i,o,s;const e=t._freezeSettings(),n=cF(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new iF(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this._byteString=e}static fromBase64String(e){try{return new br(bn.fromBase64String(e))}catch(n){throw new Ie(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new br(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:br._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ff(e,br._jsonSchema))return br.fromBase64String(e.bytes)}}br._jsonSchemaVersion="firestore/bytes/1.0",br._jsonSchema={type:Wt("string",br._jsonSchemaVersion),bytes:Wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gi._jsonSchemaVersion}}static fromJSON(e){if(Ff(e,gi._jsonSchema))return new gi(e.latitude,e.longitude)}}gi._jsonSchemaVersion="firestore/geoPoint/1.0",gi._jsonSchema={type:Wt("string",gi._jsonSchemaVersion),latitude:Wt("number"),longitude:Wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ff(e,Ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ur(e.vectorValues);throw new Ie(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ur._jsonSchemaVersion="firestore/vectorValue/1.0",Ur._jsonSchema={type:Wt("string",Ur._jsonSchemaVersion),vectorValues:Wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF=/^__.*__$/;class gF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uf(e,this.data,n,this.fieldTransforms)}}function oD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{dataSource:t})}}class b1{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new b1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return op(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(oD(this.dataSource)&&mF.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class yF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_m(e)}createContext(e,n,r,i=!1){return new b1({dataSource:e,methodName:n,targetDoc:r,path:vn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vF(t){const e=t._freezeSettings(),n=_m(t._databaseId);return new yF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xF(t,e,n,r,i,o={}){const s=t.createContext(o.merge||o.mergeFields?2:0,e,n,i);uD("Data must be an object, but it was:",s,r);const u=sD(r,s);let c,f;if(o.merge)c=new Vr(s.fieldMask),f=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const v=w1(e,p,n);if(!s.contains(v))throw new Ie(fe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);wF(h,v)||h.push(v)}c=new Vr(h),f=s.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=s.fieldTransforms;return new gF(new xr(u),c,f)}class _1 extends x1{_toFieldTransform(e){return new tB(e.path,new Xc)}isEqual(e){return e instanceof _1}}function aD(t,e){if(lD(t=Hn(t)))return uD("Unsupported field value:",e,t),sD(t,e);if(t instanceof x1)return(function(r,i){if(!oD(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const o=[];let s=0;for(const u of r){let c=aD(u,i.childContextForArray(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return J5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=At.fromDate(r);return{timestampValue:tp(i.serializer,o)}}if(r instanceof At){const o=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tp(i.serializer,o)}}if(r instanceof gi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof br)return{bytesValue:AR(i.serializer,r._byteString)};if(r instanceof en){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:o1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ur)return(function(s,u){const c=s instanceof Ur?s.toArray():s;return{mapValue:{fields:{[nR]:{stringValue:rR},[Qh]:{arrayValue:{values:c.map((h=>{if(typeof h!="number")throw u.createError("VectorValues must only contain numeric values.");return t1(u.serializer,h)}))}}}}}})(r,i);if(jR(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Kw(r)}`)})(t,e)}function sD(t,e){const n={};return X2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(t,((r,i)=>{const o=aD(i,e.childContextForField(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function lD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof gi||t instanceof br||t instanceof en||t instanceof x1||t instanceof Ur||jR(t))}function uD(t,e,n){if(!lD(n)||!K2(n)){const r=Kw(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function w1(t,e,n){if((e=Hn(e))instanceof iD)return e._internalPath;if(typeof e=="string")return _F(t,e);throw op("Field path arguments must be of type string or ",t,!1,void 0,n)}const bF=new RegExp("[~\\*/\\[\\]]");function _F(t,e,n){if(e.search(bF)>=0)throw op(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iD(...e.split("."))._internalPath}catch{throw op(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function op(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Ie(fe.INVALID_ARGUMENT,u+t+c)}function wF(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{convertValue(e,n="none"){switch(aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vs(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Qh].arrayValue)==null?void 0:i.values)==null?void 0:o.map((s=>Bt(s.doubleValue)));return new Ur(n)}convertGeoPoint(e){return new gi(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gc(e));default:return null}}convertTimestamp(e){const n=ia(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=St.fromString(e);ct(NR(r),9688,{name:e});const i=new Kc(r.get(1),r.get(3)),o=new ke(r.popFirst(5));return i.isEqual(n)||io(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD extends EF{constructor(e){super(),this.firestore=e}convertBytes(e){return new br(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function w_(){return new _1("serverTimestamp")}const hP="@firebase/firestore",pP="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(w1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TF extends fD{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function AF(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ns extends fD{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(w1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ns._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",ns._jsonSchema={type:Wt("string",ns._jsonSchemaVersion),bundleSource:Wt("string","DocumentSnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class Uh extends ns{data(e={}){return super.data(e)}}class Sl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Uh(this._firestore,this._userDataWriter,r.key,r,new Cc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((u=>{const c=new Uh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Cc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const c=new Uh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Cc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return u.type!==0&&(f=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:PF(u.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sl._jsonSchemaVersion="firestore/querySnapshot/1.0",Sl._jsonSchema={type:Wt("string",Sl._jsonSchemaVersion),bundleSource:Wt("string","QuerySnapshot"),bundleName:Wt("string"),bundle:Wt("string")};function ef(t,e,n){t=ts(t,en);const r=ts(t.firestore,Zc),i=AF(t.converter,e),o=vF(r);return hD(r,[xF(o,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,pi.none())])}function IF(t){return hD(ts(t.firestore,Zc),[new n1(t._key,pi.none())])}function dD(t,...e){var f,h,p;t=Hn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||mP(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(mP(e[r])){const v=e[r];e[r]=(f=v.next)==null?void 0:f.bind(v),e[r+1]=(h=v.error)==null?void 0:h.bind(v),e[r+2]=(p=v.complete)==null?void 0:p.bind(v)}let o,s,u;if(t instanceof en)s=ts(t.firestore,Zc),u=e1(t._key.path),o={next:v=>{e[r]&&e[r](CF(s,t,v))},error:e[r+1],complete:e[r+2]};else{const v=ts(t,Sm);s=ts(v.firestore,Zc),u=v._query;const x=new cD(s);o={next:S=>{e[r]&&e[r](new Sl(s,x,v,S))},error:e[r+1],complete:e[r+2]},SF(t._query)}const c=rD(s);return sF(c,u,i,o)}function hD(t,e){const n=rD(t);return lF(n,e)}function CF(t,e,n){const r=n.docs.get(e._key),i=new cD(t);return new ns(t,i,e._key,r,new Cc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){i5(fu),Rl(new ls("firestore",((r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),u=new Zc(new s5(r.getProvider("auth-internal")),new c5(s,r.getProvider("app-check-internal")),P5(s,i),s);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Zo(hP,pP,e),Zo(hP,pP,"esm2020")})();var OF="firebase",kF="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zo(OF,kF,"app");function pD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NF=pD,mD=new Vf("auth","Firebase",pD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=new qw("@firebase/auth");function jF(t,...e){ap.logLevel<=Ke.WARN&&ap.warn(`Auth (${fu}): ${t}`,...e)}function qh(t,...e){ap.logLevel<=Ke.ERROR&&ap.error(`Auth (${fu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t,...e){throw T1(t,...e)}function qr(t,...e){return T1(t,...e)}function E1(t,e,n){const r={...NF(),[e]:n};return new Vf("auth","Firebase",r).create(e,{appName:t.name})}function rs(t){return E1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&wi(t,"argument-error"),E1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function T1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mD.create(t,...e)}function Ve(t,e,...n){if(!t)throw T1(e,...n)}function Ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qh(e),new Error(e)}function ao(t,e){t||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function DF(){return gP()==="http:"||gP()==="https:"}function gP(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DF()||L$()||"connection"in navigator)?navigator.onLine:!0}function LF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ao(n>e,"Short delay should be less than long delay!"),this.isMobile=R$()||$$()}get(){return MF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t,e){ao(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BF=new Hf(3e4,6e4);function A1(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gu(t,e,n,r,i={}){return yD(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const u=Bf({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...o};return M$()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&cu(t.emulatorConfig.host)&&(f.credentials="include"),gD.fetch()(await vD(t,t.config.apiHost,n,u),f)})}async function yD(t,e,n){t._canInitEmulator=!1;const r={...$F,...e};try{const i=new UF(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Eh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const u=o.ok?s.errorMessage:s.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Eh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Eh(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw E1(t,h,f);wi(t,h)}}catch(i){if(i instanceof co)throw i;wi(t,"network-request-failed",{message:String(i)})}}async function FF(t,e,n,r,i={}){const o=await gu(t,e,n,r,i);return"mfaPendingCredential"in o&&wi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function vD(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?S1(t.config,i):`${t.config.apiScheme}://${i}`;return VF.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class UF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qr(this.auth,"network-request-failed")),BF.get())})}}function Eh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qF(t,e){return gu(t,"POST","/v1/accounts:delete",e)}async function sp(t,e){return gu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zF(t,e=!1){const n=Hn(t),r=await n.getIdToken(e),i=P1(r);Ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Bc(Ky(i.auth_time)),issuedAtTime:Bc(Ky(i.iat)),expirationTime:Bc(Ky(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ky(t){return Number(t)*1e3}function P1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qh("JWT malformed, contained fewer than 3 sections"),null;try{const i=P2(n);return i?JSON.parse(i):(qh("Failed to decode base64 JWT payload"),null)}catch(i){return qh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yP(t){const e=P1(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof co&&WF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function WF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bc(this.lastLoginAt),this.creationTime=Bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lp(t){var p;const e=t.auth,n=await t.getIdToken(),r=await tf(t,sp(e,{idToken:n}));Ve(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(p=i.providerUserInfo)!=null&&p.length?xD(i.providerUserInfo):[],s=KF(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),f=u?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new T_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function GF(t){const e=Hn(t);await lp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YF(t,e){const n=await yD(t,{},async()=>{const r=Bf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await vD(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&cu(t.emulatorConfig.host)&&(c.credentials="include"),gD.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XF(t,e){return gu(t,"POST","/v2/accounts:revokeToken",A1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=yP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await YF(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Al;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ve(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ve(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Br{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new HF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new T_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await tf(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zF(this,e)}reload(){return GF(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Br({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lr(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await tf(this,qF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,f=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:x,providerData:S,stsTokenManager:T}=n;Ve(p&&T,e,"internal-error");const _=Al.fromJSON(this.name,T);Ve(typeof p=="string",e,"internal-error"),qo(r,e.name),qo(i,e.name),Ve(typeof v=="boolean",e,"internal-error"),Ve(typeof x=="boolean",e,"internal-error"),qo(o,e.name),qo(s,e.name),qo(u,e.name),qo(c,e.name),qo(f,e.name),qo(h,e.name);const I=new Br({uid:p,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:x,photoURL:s,phoneNumber:o,tenantId:u,stsTokenManager:_,createdAt:f,lastLoginAt:h});return S&&Array.isArray(S)&&(I.providerData=S.map(R=>({...R}))),c&&(I._redirectEventId=c),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Al;i.updateFromServerResponse(n);const o=new Br({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await lp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ve(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?xD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Al;u.updateFromIdToken(r);const c=new Br({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new T_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=new Map;function Yi(t){ao(t instanceof Function,"Expected a class definition");let e=vP.get(t);return e?(ao(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bD.type="NONE";const xP=bD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t,e,n){return`firebase:${t}:${e}:${n}`}class Pl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=zh(this.userKey,i.apiKey,o),this.fullPersistenceKey=zh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sp(this.auth,{idToken:e}).catch(()=>{});return n?Br._fromGetAccountInfoResponse(this.auth,n,e):null}return Br._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pl(Yi(xP),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Yi(xP);const s=zh(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const h=await f._get(s);if(h){let p;if(typeof h=="string"){const v=await sp(e,{idToken:h}).catch(()=>{});if(!v)break;p=await Br._fromGetAccountInfoResponse(e,v,h)}else p=Br._fromJSON(e,h);f!==o&&(u=p),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Pl(o,e,r):(o=c[0],u&&await o._set(s,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(s)}catch{}})),new Pl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_D(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AD(e))return"Blackberry";if(PD(e))return"Webos";if(wD(e))return"Safari";if((e.includes("chrome/")||ED(e))&&!e.includes("edge/"))return"Chrome";if(SD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _D(t=Nn()){return/firefox\//i.test(t)}function wD(t=Nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ED(t=Nn()){return/crios\//i.test(t)}function TD(t=Nn()){return/iemobile/i.test(t)}function SD(t=Nn()){return/android/i.test(t)}function AD(t=Nn()){return/blackberry/i.test(t)}function PD(t=Nn()){return/webos/i.test(t)}function I1(t=Nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QF(t=Nn()){var e;return I1(t)&&!!((e=window.navigator)!=null&&e.standalone)}function JF(){return V$()&&document.documentMode===10}function ID(t=Nn()){return I1(t)||SD(t)||PD(t)||AD(t)||/windows phone/i.test(t)||TD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t,e=[]){let n;switch(t){case"Browser":n=bP(Nn());break;case"Worker":n=`${bP(Nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,u)=>{try{const c=e(o);s(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(t,e={}){return gu(t,"GET","/v2/passwordPolicy",A1(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=6;class nU{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??tU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _P(this),this.idTokenSubscription=new _P(this),this.beforeStateQueue=new ZF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Pl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sp(this,{idToken:e}),r=await Br._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Lr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,u=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lr(this.app))return Promise.reject(rs(this));const n=e?Hn(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lr(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lr(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eU(this),n=new nU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await XF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yi(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await Pl.create(this,[Yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(u,this,"internal-error"),u.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&jF(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Am(t){return Hn(t)}class _P{constructor(e){this.auth=e,this.observer=null,this.addObserver=G$(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iU(t){C1=t}function oU(t){return C1.loadJS(t)}function aU(){return C1.gapiScript}function sU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(t,e){const n=Ww(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ss(o,e??{}))return i;wi(i,"already-initialized")}return n.initialize({options:e})}function uU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cU(t,e,n){const r=Am(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=OD(e),{host:s,port:u}=fU(e),c=u===null?"":`:${u}`,f={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(ss(f,r.config.emulator)&&ss(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,cu(s)?(k2(`${o}//${s}${c}`),N2("Auth",!0)):dU()}function OD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fU(t){const e=OD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:wP(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:wP(s)}}}function wP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,n){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t,e){return FF(t,"POST","/v1/accounts:signInWithIdp",A1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU="http://localhost";class ds extends kD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new ds(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Il(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Il(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Il(e,n)}buildRequest(){const e={requestUri:hU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends O1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends Gf{constructor(){super("facebook.com")}static credential(e){return ds._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wo.credential(e.oauthAccessToken)}catch{return null}}}Wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Gf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ds._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends Gf{constructor(){super("github.com")}static credential(e){return ds._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ho.credential(e.oauthAccessToken)}catch{return null}}}Ho.GITHUB_SIGN_IN_METHOD="github.com";Ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Gf{constructor(){super("twitter.com")}static credential(e,n){return ds._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Go.credential(n,r)}catch{return null}}}Go.TWITTER_SIGN_IN_METHOD="twitter.com";Go.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Br._fromIdTokenResponse(e,r,i),s=EP(r);return new Bl({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=EP(r);return new Bl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function EP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up extends co{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,up.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new up(e,n,r,i)}}function ND(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?up._fromErrorAndOperation(t,o,e,r):o})}async function pU(t,e,n=!1){const r=await tf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mU(t,e,n=!1){const{auth:r}=t;if(Lr(r.app))return Promise.reject(rs(r));const i="reauthenticate";try{const o=await tf(t,ND(r,i,e,t),n);Ve(o.idToken,r,"internal-error");const s=P1(o.idToken);Ve(s,r,"internal-error");const{sub:u}=s;return Ve(t.uid===u,r,"user-mismatch"),Bl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&wi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU(t,e,n=!1){if(Lr(t.app))return Promise.reject(rs(t));const r="signIn",i=await ND(t,r,e),o=await Bl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function yU(t,e,n,r){return Hn(t).onIdTokenChanged(e,n,r)}function vU(t,e,n){return Hn(t).beforeAuthStateChanged(e,n)}function xU(t,e,n,r){return Hn(t).onAuthStateChanged(e,n,r)}function bU(t){return Hn(t).signOut()}const cp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cp,"1"),this.storage.removeItem(cp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=1e3,wU=10;class RD extends jD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ID(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);JF()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_U)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RD.type="LOCAL";const EU=RD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD extends jD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}DD.type="SESSION";const MD=DD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Pm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(s).map(async f=>f(n.origin,o)),c=await TU(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((u,c)=>{const f=k1("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function AU(t){yi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function PU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function CU(){return LD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="firebaseLocalStorageDb",OU=1,fp="firebaseLocalStorage",VD="fbase_key";class Kf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Im(t,e){return t.transaction([fp],e?"readwrite":"readonly").objectStore(fp)}function kU(){const t=indexedDB.deleteDatabase($D);return new Kf(t).toPromise()}function S_(){const t=indexedDB.open($D,OU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fp,{keyPath:VD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fp)?e(r):(r.close(),await kU(),e(await S_()))})})}async function TP(t,e,n){const r=Im(t,!0).put({[VD]:e,value:n});return new Kf(r).toPromise()}async function NU(t,e){const n=Im(t,!1).get(e),r=await new Kf(n).toPromise();return r===void 0?null:r.value}function SP(t,e){const n=Im(t,!0).delete(e);return new Kf(n).toPromise()}const jU=800,RU=3;class BD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await S_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>RU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pm._getInstance(CU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await PU(),!this.activeServiceWorker)return;this.sender=new SU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await S_();return await TP(e,cp,"1"),await SP(e,cp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>TP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>NU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Im(i,!1).getAll();return new Kf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BD.type="LOCAL";const DU=BD;new Hf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t,e){return e?Yi(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1 extends kD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Il(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Il(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Il(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MU(t){return gU(t.auth,new N1(t),t.bypassAuthState)}function LU(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),mU(n,new N1(t),t.bypassAuthState)}async function $U(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),pU(n,new N1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MU;case"linkViaPopup":case"linkViaRedirect":return $U;case"reauthViaPopup":case"reauthViaRedirect":return LU;default:wi(this.auth,"internal-error")}}resolve(e){ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=new Hf(2e3,1e4);async function BU(t,e,n){if(Lr(t.app))return Promise.reject(qr(t,"operation-not-supported-in-this-environment"));const r=Am(t);RF(t,e,O1);const i=FD(r,n);return new Ya(r,"signInViaPopup",e,i).executeNotNull()}class Ya extends UD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){ao(this.filter.length===1,"Popup operations only handle one event");const e=k1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VU.get())};e()}}Ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU="pendingRedirect",Wh=new Map;class UU extends UD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wh.get(this.auth._key());if(!e){try{const r=await qU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wh.set(this.auth._key(),e)}return this.bypassAuthState||Wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qU(t,e){const n=HU(e),r=WU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function zU(t,e){Wh.set(t._key(),e)}function WU(t){return Yi(t._redirectPersistence)}function HU(t){return zh(FU,t.config.apiKey,t.name)}async function GU(t,e,n=!1){if(Lr(t.app))return Promise.reject(rs(t));const r=Am(t),i=FD(r,e),s=await new UU(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=600*1e3;class YU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qD(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(qr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KU&&this.cachedEventUids.clear(),this.cachedEventUids.has(AP(e))}saveEventToCache(e){this.cachedEventUids.add(AP(e)),this.lastProcessedEventTime=Date.now()}}function AP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QU(t,e={}){return gu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZU=/^https?/;async function e9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QU(t);for(const n of e)try{if(t9(n))return}catch{}wi(t,"unauthorized-domain")}function t9(t){const e=E_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!ZU.test(n))return!1;if(JU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=new Hf(3e4,6e4);function PP(){const t=yi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function r9(t){return new Promise((e,n)=>{var i,o,s;function r(){PP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PP(),n(qr(t,"network-request-failed"))},timeout:n9.get()})}if((o=(i=yi().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=yi().gapi)!=null&&s.load)r();else{const u=sU("iframefcb");return yi()[u]=()=>{gapi.load?r():n(qr(t,"network-request-failed"))},oU(`${aU()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Hh=null,e})}let Hh=null;function i9(t){return Hh=Hh||r9(t),Hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9=new Hf(5e3,15e3),a9="__/auth/iframe",s9="emulator/auth/iframe",l9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c9(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?S1(e,s9):`https://${t.config.authDomain}/${a9}`,r={apiKey:e.apiKey,appName:t.name,v:fu},i=u9.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Bf(r).slice(1)}`}async function f9(t){const e=await i9(t),n=yi().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:c9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=qr(t,"network-request-failed"),u=yi().setTimeout(()=>{o(s)},o9.get());function c(){yi().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h9=500,p9=600,m9="_blank",g9="http://localhost";class IP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y9(t,e,n,r=h9,i=p9){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...d9,width:r.toString(),height:i.toString(),top:o,left:s},f=Nn().toLowerCase();n&&(u=ED(f)?m9:n),_D(f)&&(e=e||g9,c.scrollbars="yes");const h=Object.entries(c).reduce((v,[x,S])=>`${v}${x}=${S},`,"");if(QF(f)&&u!=="_self")return v9(e||"",u),new IP(null);const p=window.open(e||"",u,h);Ve(p,t,"popup-blocked");try{p.focus()}catch{}return new IP(p)}function v9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9="__/auth/handler",b9="emulator/auth/handler",_9=encodeURIComponent("fac");async function CP(t,e,n,r,i,o){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fu,eventId:i};if(e instanceof O1){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",H$(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))s[h]=p}if(e instanceof Gf){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),f=c?`#${_9}=${encodeURIComponent(c)}`:"";return`${w9(t)}?${Bf(u).slice(1)}${f}`}function w9({config:t}){return t.emulator?S1(t,b9):`https://${t.authDomain}/${x9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="webStorageSupport";class E9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MD,this._completeRedirectFn=GU,this._overrideRedirectResult=zU}async _openPopup(e,n,r,i){var s;ao((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await CP(e,n,r,E_(),i);return y9(e,o,k1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await CP(e,n,r,E_(),i);return AU(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ao(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await f9(e),r=new YU(e);return n.register("authEvent",i=>(Ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yy,{type:Yy},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[Yy];o!==void 0&&n(!!o),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=e9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ID()||wD()||I1()}}const T9=E9;var OP="@firebase/auth",kP="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P9(t){Rl(new ls("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=r.options;Ve(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CD(t)},f=new rU(r,i,o,c);return uU(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rl(new ls("auth-internal",e=>{const n=Am(e.getProvider("auth").getImmediate());return(r=>new S9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zo(OP,kP,A9(t)),Zo(OP,kP,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=300,C9=O2("authIdTokenMaxAge")||I9;let NP=null;const O9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>C9)return;const i=n==null?void 0:n.token;NP!==i&&(NP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function k9(t=M2()){const e=Ww(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lU(t,{popupRedirectResolver:T9,persistence:[DU,EU,MD]}),r=O2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=O9(o.toString());vU(n,s,()=>s(n.currentUser)),yU(n,u=>s(u))}}const i=I2("auth");return i&&cU(n,`http://${i}`),n}function N9(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}iU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=qr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",N9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P9("Browser");const j9={apiKey:"AIzaSyCLnLTVNRck2Ezz1z3VTTNobarWy7l_TMs",authDomain:"wanderplanner-dbee7.firebaseapp.com",projectId:"wanderplanner-dbee7",storageBucket:"wanderplanner-dbee7.firebasestorage.app",messagingSenderId:"151242477554",appId:"1:151242477554:web:f8a46861d6c46390dee56b"},zD=D2(j9),Xy=k9(zD),xl=hF(zD),R9=new Gi,Qy=Vc(xl,"trips","__profiles__"),A_="wanderplan_profiles",WD=q.createContext(null);function jP(){try{const t=localStorage.getItem(A_);if(t)return JSON.parse(t)}catch{}return[]}function D9({children:t}){const[e,n]=q.useState(jP),r=q.useRef(!1),i=q.useRef(!1);q.useEffect(()=>dD(Qy,f=>{if(f.exists()){const h=f.data().profiles||[];i.current=!0,n(h);try{localStorage.setItem(A_,JSON.stringify(h))}catch{}}else{const h=jP();h.length>0?(i.current=!0,ef(Qy,{profiles:h}).catch(console.error)):i.current=!0}r.current=!0},f=>{console.warn("[Wanderplan] Profiles listener error:",f),r.current=!0}),[]),q.useEffect(()=>{if(i.current){i.current=!1;return}if(r.current){ef(Qy,{profiles:e}).catch(console.error);try{localStorage.setItem(A_,JSON.stringify(e))}catch{}}},[e]);const o=q.useCallback(c=>{const f={id:Date.now().toString(36)+Math.random().toString(36).slice(2,6),name:c.name.trim(),photo:c.photo||null};return n(h=>[...h,f]),f},[]),s=q.useCallback((c,f)=>{n(h=>h.map(p=>p.id===c?{...p,...f}:p))},[]),u=q.useCallback(c=>{n(f=>f.filter(h=>h.id!==c))},[]);return g.jsx(WD.Provider,{value:{profiles:e,addProfile:o,updateProfile:s,deleteProfile:u},children:t})}function ca(){const t=q.useContext(WD);if(!t)throw new Error("useProfiles must be used within ProfileProvider");return t}function HD(){const[t,e]=q.useState(null),[n,r]=q.useState(!0);return q.useEffect(()=>xU(Xy,u=>{e(u||!1),r(!1)}),[]),{user:t,authLoading:n,signInWithGoogle:async()=>{await BU(Xy,R9)},signOutUser:async()=>{await bU(Xy)}}}const dp=[{code:"PHP",symbol:"",name:"Philippine Peso"},{code:"USD",symbol:"$",name:"US Dollar"},{code:"SGD",symbol:"S$",name:"Singapore Dollar"},{code:"THB",symbol:"",name:"Thai Baht"},{code:"MYR",symbol:"RM",name:"Malaysian Ringgit"},{code:"EUR",symbol:"",name:"Euro"},{code:"GBP",symbol:"",name:"British Pound"},{code:"JPY",symbol:"",name:"Japanese Yen"},{code:"KRW",symbol:"",name:"Korean Won"},{code:"IDR",symbol:"Rp",name:"Indonesian Rupiah"}];function M9(t){const e=dp.find(n=>n.code===t);return e?e.symbol:t}function Wi(){return Date.now().toString(36)+Math.random().toString(36).slice(2,8)}function Fl(t,e="medium"){if(!t)return"";const n=new Date(t+"T00:00:00");if(isNaN(n.getTime()))return t;switch(e){case"short":return n.toLocaleDateString("en-US",{month:"short",day:"numeric"});case"medium":return n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});case"long":return n.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});case"full":return n.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});case"weekday":return n.toLocaleDateString("en-US",{weekday:"short"});default:return n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}}function j1(t,e){if(!t||!e)return"";const n=new Date(t+"T00:00:00"),r=new Date(e+"T00:00:00"),i=n.toLocaleDateString("en-US",{month:"short"}),o=r.toLocaleDateString("en-US",{month:"short"});return i===o?`${i} ${n.getDate()}${r.getDate()}, ${r.getFullYear()}`:`${i} ${n.getDate()}  ${o} ${r.getDate()}, ${r.getFullYear()}`}function sr(t,e="PHP"){return t==null||isNaN(t)?"":`${M9(e)}${Number(t).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`}function L9(t,e){if(!t||!e)return 0;const n=new Date(t+"T00:00:00"),r=new Date(e+"T00:00:00");return Math.round((r-n)/(1e3*60*60*24))+1}function $9(t){if(!t)return null;const e=new Date,r=new Date(t+"T00:00:00")-e;return Math.ceil(r/(1e3*60*60*24))}function V9(t){return JSON.parse(JSON.stringify(t))}function B9(t,e,n){return t===1?e:n||e+"s"}const pe={SET_ACTIVE_TRIP:"SET_ACTIVE_TRIP",ADD_TRIP:"ADD_TRIP",UPDATE_TRIP:"UPDATE_TRIP",DELETE_TRIP:"DELETE_TRIP",DUPLICATE_TRIP:"DUPLICATE_TRIP",RENAME_TRIP:"RENAME_TRIP",SET_TAB:"SET_TAB",TOGGLE_SIDEBAR:"TOGGLE_SIDEBAR",SET_SIDEBAR:"SET_SIDEBAR",SHOW_TOAST:"SHOW_TOAST",HIDE_TOAST:"HIDE_TOAST",TOGGLE_DARK_MODE:"TOGGLE_DARK_MODE",ADD_DAY:"ADD_DAY",REMOVE_DAY:"REMOVE_DAY",UPDATE_DAY:"UPDATE_DAY",REORDER_DAYS:"REORDER_DAYS",ADD_ACTIVITY:"ADD_ACTIVITY",UPDATE_ACTIVITY:"UPDATE_ACTIVITY",DELETE_ACTIVITY:"DELETE_ACTIVITY",REORDER_ACTIVITIES:"REORDER_ACTIVITIES",ADD_BOOKING:"ADD_BOOKING",UPDATE_BOOKING:"UPDATE_BOOKING",DELETE_BOOKING:"DELETE_BOOKING",CYCLE_BOOKING_STATUS:"CYCLE_BOOKING_STATUS",SET_BOOKING_STATUS:"SET_BOOKING_STATUS",UPDATE_BUDGET_CATEGORY:"UPDATE_BUDGET_CATEGORY",ADD_BUDGET_CATEGORY:"ADD_BUDGET_CATEGORY",DELETE_BUDGET_CATEGORY:"DELETE_BUDGET_CATEGORY",ADD_SPENDING:"ADD_SPENDING",DELETE_SPENDING:"DELETE_SPENDING",ADD_TODO:"ADD_TODO",TOGGLE_TODO:"TOGGLE_TODO",UPDATE_TODO:"UPDATE_TODO",DELETE_TODO:"DELETE_TODO",ADD_PACKING_ITEM:"ADD_PACKING_ITEM",TOGGLE_PACKING_ITEM:"TOGGLE_PACKING_ITEM",DELETE_PACKING_ITEM:"DELETE_PACKING_ITEM",RESET_PACKING:"RESET_PACKING",UPDATE_CITY:"UPDATE_CITY",ADD_CITY:"ADD_CITY",DELETE_CITY:"DELETE_CITY",UPDATE_NOTES:"UPDATE_NOTES",SET_TRIPS_FROM_FIRESTORE:"SET_TRIPS_FROM_FIRESTORE"},Jy=["not_started","in_progress","booked"];function tt(t,e,n){const r={...t.trips},i=r[e];return i?(r[e]=typeof n=="function"?n(i):{...i,...n},{...t,trips:r}):t}function F9(t,e){const{type:n,payload:r}=e,i=t.activeTripId;switch(n){case pe.SET_ACTIVE_TRIP:return{...t,activeTripId:r,activeTab:"overview"};case pe.ADD_TRIP:{const o={...t.trips,[r.id]:r};return{...t,trips:o,activeTripId:r.id,activeTab:"overview"}}case pe.UPDATE_TRIP:return tt(t,r.id,r.updates);case pe.DELETE_TRIP:{const o={...t.trips};delete o[r];const s=Object.keys(o);return{...t,trips:o,activeTripId:s.length>0?s[0]:null,activeTab:"overview"}}case pe.DUPLICATE_TRIP:{const o=t.trips[r];if(!o)return t;const s=Wi(),u=V9(o);return u.id=s,u.name=o.name+" (Copy)",u.createdAt=new Date().toISOString(),{...t,trips:{...t.trips,[s]:u},activeTripId:s}}case pe.RENAME_TRIP:return tt(t,r.id,{name:r.name});case pe.SET_TAB:return{...t,activeTab:r};case pe.TOGGLE_SIDEBAR:return{...t,sidebarOpen:!t.sidebarOpen};case pe.SET_SIDEBAR:return{...t,sidebarOpen:r};case pe.SHOW_TOAST:return{...t,toast:{message:r.message,type:r.type||"success",visible:!0}};case pe.HIDE_TOAST:return{...t,toast:{...t.toast,visible:!1}};case pe.TOGGLE_DARK_MODE:return{...t,darkMode:!t.darkMode};case pe.ADD_DAY:return tt(t,i,o=>({...o,itinerary:[...o.itinerary,{id:Wi(),date:r.date||"",dayNumber:o.itinerary.length+1,location:r.location||"",emoji:r.emoji||"",activities:[],notes:""}]}));case pe.REMOVE_DAY:return tt(t,i,o=>({...o,itinerary:o.itinerary.filter(s=>s.id!==r).map((s,u)=>({...s,dayNumber:u+1}))}));case pe.UPDATE_DAY:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>s.id===r.dayId?{...s,...r.updates}:s)}));case pe.REORDER_DAYS:return tt(t,i,o=>{const s=[...o.itinerary],[u]=s.splice(r.fromIndex,1);return s.splice(r.toIndex,0,u),{...o,itinerary:s.map((c,f)=>({...c,dayNumber:f+1}))}});case pe.ADD_ACTIVITY:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>s.id===r.dayId?{...s,activities:[...s.activities,{id:Wi(),time:"",name:"",emoji:"",notes:"",...r.activity}]}:s)}));case pe.UPDATE_ACTIVITY:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>s.id===r.dayId?{...s,activities:s.activities.map(u=>u.id===r.activityId?{...u,...r.updates}:u)}:s)}));case pe.DELETE_ACTIVITY:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>s.id===r.dayId?{...s,activities:s.activities.filter(u=>u.id!==r.activityId)}:s)}));case pe.REORDER_ACTIVITIES:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>{if(s.id!==r.dayId)return s;const u=[...s.activities],[c]=u.splice(r.fromIndex,1);return u.splice(r.toIndex,0,c),{...s,activities:u}})}));case pe.ADD_BOOKING:return tt(t,i,o=>({...o,bookings:[{id:Wi(),status:"not_started",priority:!1,amountPaid:0,confirmationNumber:"",currency:o.currency,...r},...o.bookings]}));case pe.UPDATE_BOOKING:return tt(t,i,o=>({...o,bookings:o.bookings.map(s=>s.id===r.id?{...s,...r.updates}:s)}));case pe.DELETE_BOOKING:return tt(t,i,o=>({...o,bookings:o.bookings.filter(s=>s.id!==r)}));case pe.CYCLE_BOOKING_STATUS:return tt(t,i,o=>({...o,bookings:o.bookings.map(s=>{if(s.id!==r)return s;const u=Jy.indexOf(s.status),c=Jy[(u+1)%Jy.length];return{...s,status:c}})}));case pe.SET_BOOKING_STATUS:return tt(t,i,o=>({...o,bookings:o.bookings.map(s=>s.id===r.id?{...s,status:r.status}:s)}));case pe.UPDATE_BUDGET_CATEGORY:return tt(t,i,o=>({...o,budget:o.budget.map(s=>s.id===r.id?{...s,...r.updates}:s)}));case pe.ADD_BUDGET_CATEGORY:return tt(t,i,o=>({...o,budget:[...o.budget,{id:Wi(),name:r.name||"New Category",emoji:r.emoji||"",min:0,max:0,actual:0}]}));case pe.DELETE_BUDGET_CATEGORY:return tt(t,i,o=>({...o,budget:o.budget.filter(s=>s.id!==r)}));case pe.ADD_SPENDING:return tt(t,i,o=>{const s={id:Wi(),date:new Date().toISOString().slice(0,10),...r},u=o.budget.map(c=>c.name===r.category?{...c,actual:(c.actual||0)+(r.amount||0)}:c);return{...o,spendingLog:[...o.spendingLog,s],budget:u}});case pe.DELETE_SPENDING:return tt(t,i,o=>{const s=o.spendingLog.find(c=>c.id===r);if(!s)return{...o,spendingLog:o.spendingLog.filter(c=>c.id!==r)};const u=o.budget.map(c=>c.name===s.category?{...c,actual:Math.max(0,(c.actual||0)-(s.amount||0))}:c);return{...o,spendingLog:o.spendingLog.filter(c=>c.id!==r),budget:u}});case pe.ADD_TODO:return tt(t,i,o=>({...o,todos:[...o.todos,{id:Wi(),done:!1,priority:"normal",dueDate:"",category:"Misc",...r}]}));case pe.TOGGLE_TODO:return tt(t,i,o=>({...o,todos:o.todos.map(s=>s.id===r?{...s,done:!s.done}:s)}));case pe.UPDATE_TODO:return tt(t,i,o=>({...o,todos:o.todos.map(s=>s.id===r.id?{...s,...r.updates}:s)}));case pe.DELETE_TODO:return tt(t,i,o=>({...o,todos:o.todos.filter(s=>s.id!==r)}));case pe.ADD_PACKING_ITEM:return tt(t,i,o=>({...o,packingList:[...o.packingList,{id:Wi(),packed:!1,section:"Misc",...r}]}));case pe.TOGGLE_PACKING_ITEM:return tt(t,i,o=>({...o,packingList:o.packingList.map(s=>s.id===r?{...s,packed:!s.packed}:s)}));case pe.DELETE_PACKING_ITEM:return tt(t,i,o=>({...o,packingList:o.packingList.filter(s=>s.id!==r)}));case pe.RESET_PACKING:return tt(t,i,o=>({...o,packingList:o.packingList.map(s=>({...s,packed:!1}))}));case pe.UPDATE_CITY:return tt(t,i,o=>({...o,cities:o.cities.map(s=>s.id===r.id?{...s,...r.updates}:s)}));case pe.ADD_CITY:return tt(t,i,o=>({...o,cities:[...o.cities||[],{id:Wi(),city:r.city||"New City",country:r.country||"",flag:r.flag||"",highlights:"",mustDo:"",weather:"",currencyTip:"",notes:""}]}));case pe.DELETE_CITY:return tt(t,i,o=>({...o,cities:o.cities.filter(s=>s.id!==r)}));case pe.UPDATE_NOTES:return tt(t,i,{notes:r});case pe.SET_TRIPS_FROM_FIRESTORE:{const o=r,s=Object.keys(o),u=t.activeTripId,c=u&&o[u]?u:s.length>0?s[0]:null;return{...t,trips:o,activeTripId:c}}default:return t}}const RP={id:"sea-adventure-2026",name:"Val & Partner's SEA Adventure",emoji:"",destinations:[{city:"Cebu",country:"Philippines",flag:""},{city:"Singapore",country:"Singapore",flag:""},{city:"Koh Samui",country:"Thailand",flag:""},{city:"Kuala Lumpur",country:"Malaysia",flag:""},{city:"Cebu",country:"Philippines",flag:""}],startDate:"2026-11-14",endDate:"2026-11-22",travelers:2,currency:"PHP",createdAt:"2025-01-01T00:00:00.000Z",itinerary:[{id:"day-1",date:"2026-11-14",dayNumber:1,location:"Cebu  Singapore",emoji:"",activities:[{id:"a1",time:"06:00",name:"Depart Cebu (Mactan)",emoji:"",notes:"Early morning flight"},{id:"a2",time:"12:00",name:"Arrive Singapore Changi",emoji:"",notes:"Collect bags, get EZ-Link card at airport"},{id:"a3",time:"14:00",name:"Check in to hotel",emoji:"",notes:"Near Marina Bay area"},{id:"a4",time:"16:00",name:"Gardens by the Bay",emoji:"",notes:"Cloud Forest + Flower Dome"},{id:"a5",time:"19:00",name:"Dinner at Lau Pa Sat",emoji:"",notes:"Hawker centre, try satay street"}],notes:"Travel day  take it easy in the evening"},{id:"day-2",date:"2026-11-15",dayNumber:2,location:"Singapore",emoji:"",activities:[{id:"a6",time:"09:00",name:"Marina Bay Sands area",emoji:"",notes:"ArtScience Museum, Merlion"},{id:"a7",time:"12:00",name:"Lunch at Maxwell Food Centre",emoji:"",notes:"Tian Tian chicken rice"},{id:"a8",time:"14:00",name:"Chinatown & Little India",emoji:"",notes:"Walking tour, temples, spice market"},{id:"a9",time:"17:00",name:"Orchard Road shopping",emoji:"",notes:"ION Orchard, Takashimaya"},{id:"a10",time:"20:00",name:"Spectra Light Show",emoji:"",notes:"Free show at Marina Bay, 8pm & 9pm"}],notes:"Full Singapore day  wear comfy shoes"},{id:"day-3",date:"2026-11-16",dayNumber:3,location:"Singapore  Koh Samui",emoji:"",activities:[{id:"a11",time:"08:00",name:"Breakfast at hotel",emoji:"",notes:""},{id:"a12",time:"10:00",name:"Last-minute Singapore shopping",emoji:"",notes:""},{id:"a13",time:"14:00",name:"Fly Singapore  Koh Samui",emoji:"",notes:"Afternoon flight"},{id:"a14",time:"17:00",name:"Check in Karma Resort",emoji:"",notes:"Beachfront resort"},{id:"a15",time:"19:00",name:"Beach sunset dinner",emoji:"",notes:"Fresh seafood on the beach"}],notes:"Transit day  Singapore to Thailand"},{id:"day-4",date:"2026-11-17",dayNumber:4,location:"Koh Samui",emoji:"",activities:[{id:"a16",time:"08:00",name:"Beach morning & swim",emoji:"",notes:"Chaweng Beach"},{id:"a17",time:"11:00",name:"Four Seasons Day Pass",emoji:"",notes:"Pool, beach, spa  day pass for 2"},{id:"a18",time:"15:00",name:"Explore Fisherman's Village",emoji:"",notes:"Bophut area, cute shops and cafs"},{id:"a19",time:"19:00",name:"Thai dinner on the beach",emoji:"",notes:"Pad Thai, green curry, mango sticky rice"}],notes:"Relaxation day  Four Seasons is the highlight!"},{id:"day-5",date:"2026-11-18",dayNumber:5,location:"Koh Samui",emoji:"",activities:[{id:"a20",time:"09:00",name:"Island tour",emoji:"",notes:"Na Muang Waterfall, Big Buddha, Secret Garden"},{id:"a21",time:"13:00",name:"Lunch at local spot",emoji:"",notes:""},{id:"a22",time:"15:00",name:"Snorkeling trip",emoji:"",notes:"Ang Thong National Marine Park or local reef"},{id:"a23",time:"19:00",name:"Night market",emoji:"",notes:"Lamai or Chaweng night market"}],notes:"Adventure day  bring waterproof phone case"},{id:"day-6",date:"2026-11-19",dayNumber:6,location:"Koh Samui  Kuala Lumpur",emoji:"",activities:[{id:"a24",time:"08:00",name:"Last beach morning",emoji:"",notes:""},{id:"a25",time:"11:00",name:"Check out Karma Resort",emoji:"",notes:""},{id:"a26",time:"13:00",name:"Fly Koh Samui  Kuala Lumpur",emoji:"",notes:"Afternoon flight"},{id:"a27",time:"17:00",name:"Check in KL hotel near Stadium Merdeka",emoji:"",notes:"Walking distance to concert venue!"},{id:"a28",time:"19:00",name:"Jalan Alor street food",emoji:"",notes:"Must-try: satay, char kway teow, durian"}],notes:"Transit day  Thailand to Malaysia"},{id:"day-7",date:"2026-11-20",dayNumber:7,location:"Kuala Lumpur",emoji:"",activities:[{id:"a29",time:"10:00",name:"Petronas Twin Towers + KLCC",emoji:"",notes:"Book skybridge tickets in advance"},{id:"a30",time:"13:00",name:"Lunch at Nasi Kandar",emoji:"",notes:""},{id:"a31",time:"15:00",name:"Pre-concert prep & rest",emoji:"",notes:"Charge phones, pick outfits, eat early"},{id:"a32",time:"17:00",name:" MCR CONCERT @ Stadium Merdeka",emoji:"",notes:"Gates open ~5pm, show ~8pm. THE main event!"}],notes:" CONCERT DAY! My Chemical Romance at Stadium Merdeka!"},{id:"day-8",date:"2026-11-21",dayNumber:8,location:"Kuala Lumpur",emoji:"",activities:[{id:"a33",time:"10:00",name:"Sleep in (post-concert recovery)",emoji:"",notes:""},{id:"a34",time:"12:00",name:"Batu Caves",emoji:"",notes:"272 colorful steps, Hindu temple"},{id:"a35",time:"15:00",name:"Central Market & Petaling Street",emoji:"",notes:"Souvenirs, batik, street art"},{id:"a36",time:"18:00",name:"Dinner at Pavilion KL",emoji:"",notes:""},{id:"a37",time:"20:00",name:"KL Tower night view",emoji:"",notes:"Amazing city views at night"}],notes:"Recovery day after the concert  take it chill"},{id:"day-9",date:"2026-11-22",dayNumber:9,location:"Kuala Lumpur  Cebu",emoji:"",activities:[{id:"a38",time:"08:00",name:"Pack & check out",emoji:"",notes:""},{id:"a39",time:"10:00",name:"Last KL breakfast  roti canai",emoji:"",notes:""},{id:"a40",time:"13:00",name:"Fly Kuala Lumpur  Cebu",emoji:"",notes:"Afternoon flight home"},{id:"a41",time:"18:00",name:"Arrive home ",emoji:"",notes:"End of an amazing trip!"}],notes:"Homeward bound  what a trip! "}],bookings:[{id:"b1",name:"Cebu  Singapore flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b2",name:"Singapore  Koh Samui flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b3",name:"Koh Samui  Kuala Lumpur flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b4",name:"Kuala Lumpur  Cebu flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b5",name:"Singapore hotel, 2 nights",category:"hotel",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-01",priority:!1,currency:"PHP"},{id:"b6",name:"Karma Resort, Koh Samui, 3 nights",category:"hotel",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-01",priority:!1,currency:"PHP"},{id:"b7",name:"KL hotel near Stadium Merdeka, 3 nights",category:"hotel",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-01",priority:!1,currency:"PHP"},{id:"b8",name:"Four Seasons day pass, 2 pax",category:"experience",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-15",priority:!1,currency:"PHP"},{id:"b9",name:"MCR Concert tickets, 2 pax",category:"concert",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"",priority:!0,currency:"PHP"}],todos:[{id:"t1",text:"Apply for Malaysia e-NTL",category:"Admin",done:!1,dueDate:"2026-10-01",priority:"high"},{id:"t2",text:"Check Thailand visa requirements",category:"Admin",done:!1,dueDate:"2026-10-01",priority:"high"},{id:"t3",text:"Get travel insurance for 2 people",category:"Admin",done:!1,dueDate:"2026-10-15",priority:"high"},{id:"t4",text:"Notify bank about international transactions",category:"Finances",done:!1,dueDate:"2026-11-01",priority:"normal"},{id:"t5",text:"Download offline maps: Singapore, Koh Samui, KL",category:"Tech",done:!1,dueDate:"2026-11-10",priority:"normal"},{id:"t6",text:"Exchange/load PHP to SGD, THB, MYR",category:"Finances",done:!1,dueDate:"2026-11-10",priority:"normal"},{id:"t7",text:"Check baggage allowance for all flights",category:"Admin",done:!1,dueDate:"2026-09-15",priority:"normal"},{id:"t8",text:"Research Four Seasons day pass booking process",category:"Admin",done:!1,dueDate:"2026-10-01",priority:"normal"},{id:"t9",text:"Buy portable charger / power bank",category:"Tech",done:!1,dueDate:"2026-11-01",priority:"normal"},{id:"t10",text:"Set up roaming or buy local SIMs plan",category:"Tech",done:!1,dueDate:"2026-11-10",priority:"normal"}],budget:[{id:"bg1",name:"Flights",emoji:"",min:44200,max:55600,actual:0},{id:"bg2",name:"Accommodation",emoji:"",min:39e3,max:71e3,actual:0},{id:"bg3",name:"Four Seasons Day Pass",emoji:"",min:11200,max:16800,actual:0},{id:"bg4",name:"MCR Concert Tickets",emoji:"",min:15e3,max:3e4,actual:0},{id:"bg5",name:"Other Expenses",emoji:"",min:47e3,max:61e3,actual:0}],spendingLog:[],packingList:[{id:"p1",name:"Passports (2)",section:"Documents",packed:!1},{id:"p2",name:"Travel insurance printouts",section:"Documents",packed:!1},{id:"p3",name:"Flight confirmations (printed)",section:"Documents",packed:!1},{id:"p4",name:"Hotel confirmations",section:"Documents",packed:!1},{id:"p5",name:"MCR concert tickets / QR codes",section:"Documents",packed:!1},{id:"p6",name:"Malaysia e-NTL printout",section:"Documents",packed:!1},{id:"p7",name:"T-shirts (6)",section:"Clothing",packed:!1},{id:"p8",name:"Shorts (3)",section:"Clothing",packed:!1},{id:"p9",name:"Light pants (2)",section:"Clothing",packed:!1},{id:"p10",name:"Swimwear (2)",section:"Clothing",packed:!1},{id:"p11",name:"Comfortable walking shoes",section:"Clothing",packed:!1},{id:"p12",name:"Flip flops / sandals",section:"Clothing",packed:!1},{id:"p13",name:"Light rain jacket",section:"Clothing",packed:!1},{id:"p14",name:"Underwear & socks",section:"Clothing",packed:!1},{id:"p15",name:"Sleepwear",section:"Clothing",packed:!1},{id:"p16",name:"Phone + charger",section:"Tech",packed:!1},{id:"p17",name:"Power bank (20,000mAh)",section:"Tech",packed:!1},{id:"p18",name:"Universal travel adapter",section:"Tech",packed:!1},{id:"p19",name:"Camera + SD cards",section:"Tech",packed:!1},{id:"p20",name:"Earphones / AirPods",section:"Tech",packed:!1},{id:"p21",name:"MCR concert outfit ",section:"Concert Essentials",packed:!1},{id:"p22",name:"Comfortable concert shoes",section:"Concert Essentials",packed:!1},{id:"p23",name:"Small crossbody bag",section:"Concert Essentials",packed:!1},{id:"p24",name:"Earplugs (for hearing protection)",section:"Concert Essentials",packed:!1},{id:"p25",name:"Sunscreen SPF 50",section:"Toiletries",packed:!1},{id:"p26",name:"Insect repellent",section:"Toiletries",packed:!1},{id:"p27",name:"Basic first aid kit",section:"Toiletries",packed:!1},{id:"p28",name:"Toothbrush & toothpaste",section:"Toiletries",packed:!1},{id:"p29",name:"Deodorant",section:"Toiletries",packed:!1},{id:"p30",name:"Medication / vitamins",section:"Toiletries",packed:!1},{id:"p31",name:"Daypack / small backpack",section:"Misc",packed:!1},{id:"p32",name:"Reusable water bottle",section:"Misc",packed:!1},{id:"p33",name:"Packing cubes",section:"Misc",packed:!1},{id:"p34",name:"Neck pillow for flights",section:"Misc",packed:!1},{id:"p35",name:"Snacks for travel days",section:"Misc",packed:!1}],cities:[{id:"c1",city:"Singapore",country:"Singapore",flag:"",highlights:"Marina Bay, Gardens by the Bay, hawker food culture",mustDo:"Eat at a hawker centre, see the Supertree light show",weather:"Hot & humid year-round, 27-32C. Rain possible anytime.",currencyTip:"SGD. Cashless-friendly, cards accepted everywhere.",notes:""},{id:"c2",city:"Koh Samui",country:"Thailand",flag:"",highlights:"Beautiful beaches, luxury resorts, island vibes",mustDo:"Visit Big Buddha, snorkel at Ang Thong, Four Seasons day pass",weather:"November is end of monsoon season. Expect some rain, 26-30C.",currencyTip:"THB. Cash is king for street food and markets.",notes:""},{id:"c3",city:"Kuala Lumpur",country:"Malaysia",flag:"",highlights:"Petronas Towers, Batu Caves, incredible food scene",mustDo:"Jalan Alor street food, Petronas Towers skybridge, MCR concert!",weather:"Hot & humid, 27-33C. Afternoon thunderstorms common.",currencyTip:"MYR. Very affordable. Cards widely accepted in malls.",notes:""}],notes:"This trip is our big Southeast Asia adventure  the MCR concert in KL is the anchor event. Build the rest of the trip around it!"};function U9(t={}){return{id:t.id||Date.now().toString(36)+Math.random().toString(36).slice(2,8),name:t.name||"New Trip",emoji:t.emoji||"",destinations:t.destinations||[],startDate:t.startDate||"",endDate:t.endDate||"",travelers:t.travelers||1,currency:t.currency||"PHP",createdAt:new Date().toISOString(),itinerary:[],bookings:[],todos:[],budget:t.budget||[],spendingLog:[],packingList:[],cities:[],notes:"",...t}}const Oc="trips",hp="wanderplan_data",DP="wanderplan_migrated";function q9(){let t=!1;try{const e=localStorage.getItem(hp);e&&(t=JSON.parse(e).darkMode||!1)}catch{}return{trips:{},activeTripId:null,activeTab:"overview",sidebarOpen:!1,darkMode:t,toast:{message:"",type:"success",visible:!1}}}async function z9(){if(localStorage.getItem(DP))return!1;try{const t=localStorage.getItem(hp);if(!t)return!1;const e=JSON.parse(t);if(!e.trips||Object.keys(e.trips).length===0)return!1;const n=Object.values(e.trips);return await Promise.all(n.map(r=>ef(Vc(xl,Oc,r.id),{...r,_updatedAt:w_()}))),localStorage.setItem(DP,"true"),console.log(`[Wanderplan] Migrated ${n.length} trip(s) from localStorage  Firestore`),!0}catch(t){return console.warn("[Wanderplan] Migration failed:",t),!1}}function W9(){const[t,e]=q.useReducer(F9,null,q9),[n,r]=q.useState(!0),i=q.useRef({}),o=q.useRef(!1);q.useEffect(()=>{const f=dF(xl,Oc);return dD(f,async p=>{const v={};if(p.forEach(S=>{const{_updatedAt:T,..._}=S.data();v[S.id]=_}),Object.keys(i.current).length===0&&Object.keys(v).length===0){if(await z9())return;await ef(Vc(xl,Oc,RP.id),{...RP,_updatedAt:w_()});return}o.current=!0,i.current=v,e({type:pe.SET_TRIPS_FROM_FIRESTORE,payload:v}),r(!1)},p=>{console.error("[Wanderplan] Firestore listener error:",p),r(!1)})},[]),q.useEffect(()=>{if(o.current){o.current=!1;return}const f=t.trips,h=i.current;Object.keys(f).forEach(p=>{f[p]!==h[p]&&ef(Vc(xl,Oc,p),{...f[p],_updatedAt:w_()}).catch(console.error)}),Object.keys(h).forEach(p=>{f[p]||IF(Vc(xl,Oc,p)).catch(console.error)}),i.current=f},[t.trips]),q.useEffect(()=>{document.documentElement.classList.toggle("dark",t.darkMode);try{const f=localStorage.getItem(hp),h=f?JSON.parse(f):{};localStorage.setItem(hp,JSON.stringify({...h,darkMode:t.darkMode}))}catch{}},[t.darkMode]),q.useEffect(()=>{if(t.toast.visible){const f=setTimeout(()=>e({type:pe.HIDE_TOAST}),3e3);return()=>clearTimeout(f)}},[t.toast.visible]);const s=t.activeTripId?t.trips[t.activeTripId]:null,u=Object.values(t.trips).sort((f,h)=>f.startDate?h.startDate?new Date(f.startDate)-new Date(h.startDate):-1:1),c=q.useCallback((f,h="success")=>{e({type:pe.SHOW_TOAST,payload:{message:f,type:h}})},[]);return{state:t,dispatch:e,activeTrip:s,sortedTrips:u,showToast:c,firestoreLoading:n}}function H9(t){const[e,n]=q.useState(()=>typeof window<"u"?window.matchMedia(t).matches:!1);return q.useEffect(()=>{const r=window.matchMedia(t),i=o=>n(o.matches);return r.addEventListener("change",i),n(r.matches),()=>r.removeEventListener("change",i)},[t]),e}function G9({onSignIn:t}){const[e,n]=q.useState(!1),[r,i]=q.useState(null),o=async()=>{n(!0),i(null);try{await t()}catch{i("Sign-in failed. Please try again."),n(!1)}};return g.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary animate-fade-in",children:g.jsxs("div",{className:"text-center max-w-sm px-8",children:[g.jsx("div",{className:"text-6xl mb-5 animate-pulse-warm",children:""}),g.jsx("h1",{className:"font-heading text-3xl font-bold text-text-primary mb-2",children:"Wanderplan"}),g.jsx("p",{className:"text-text-muted text-sm mb-10 leading-relaxed",children:"Every trip, perfectly planned."}),g.jsxs("button",{onClick:o,disabled:e,className:`inline-flex items-center gap-3 px-6 py-3
                     bg-bg-secondary border border-border
                     rounded-[var(--radius-md)]
                     text-text-primary font-medium text-sm
                     hover:bg-bg-hover hover:border-border-strong
                     transition-all duration-200 active:scale-[0.98]
                     disabled:opacity-50 disabled:cursor-not-allowed
                     shadow-sm w-full justify-center`,children:[g.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24","aria-hidden":"true",children:[g.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),g.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),g.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),g.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e?"Signing in":"Continue with Google"]}),r&&g.jsx("p",{className:"mt-4 text-sm text-red-500",children:r}),g.jsx("p",{className:"mt-8 text-xs text-text-muted leading-relaxed",children:"Your trips sync across all your devices in real time."})]})})}function Cm(t){var v,x,S,T,_,I;if(!t)return 0;const e={bookings:.4,todos:.35,packing:.25},n=((v=t.bookings)==null?void 0:v.length)||0,r=((x=t.bookings)==null?void 0:x.filter(R=>R.status==="booked").length)||0,i=n>0?r/n:0,o=((S=t.todos)==null?void 0:S.length)||0,s=((T=t.todos)==null?void 0:T.filter(R=>R.done).length)||0,u=o>0?s/o:0,c=((_=t.packingList)==null?void 0:_.length)||0,f=((I=t.packingList)==null?void 0:I.filter(R=>R.packed).length)||0,h=c>0?f/c:0,p=Math.round((i*e.bookings+u*e.todos+h*e.packing)*100);return Math.min(100,Math.max(0,p))}function K9(t){var e,n,r,i,o,s;return t?{bookings:{done:((e=t.bookings)==null?void 0:e.filter(u=>u.status==="booked").length)||0,total:((n=t.bookings)==null?void 0:n.length)||0},todos:{done:((r=t.todos)==null?void 0:r.filter(u=>u.done).length)||0,total:((i=t.todos)==null?void 0:i.length)||0},packing:{done:((o=t.packingList)==null?void 0:o.filter(u=>u.packed).length)||0,total:((s=t.packingList)==null?void 0:s.length)||0}}:{bookings:{done:0,total:0},todos:{done:0,total:0},packing:{done:0,total:0}}}function R1({value:t=0,size:e=64,strokeWidth:n=5,className:r="",showLabel:i=!0,labelClassName:o="",pulse:s=!1,onClick:u=null,tooltip:c=null}){const[f,h]=q.useState(0),p=(e-n)/2,v=2*Math.PI*p,x=v-f/100*v;q.useEffect(()=>{const _=setTimeout(()=>h(t),100);return()=>clearTimeout(_)},[t]);const S=_=>_>=80?"var(--color-success)":_>=50?"var(--color-accent)":_>=25?"var(--color-warning)":"var(--color-text-muted)",T=g.jsxs("div",{className:`relative inline-flex items-center justify-center ${r}`,title:c||void 0,children:[s&&g.jsx("span",{className:"absolute inset-0 rounded-full animate-ping opacity-20",style:{background:"var(--color-accent)"}}),g.jsxs("svg",{width:e,height:e,className:"-rotate-90",children:[g.jsx("circle",{cx:e/2,cy:e/2,r:p,fill:"none",stroke:"var(--color-border)",strokeWidth:n}),g.jsx("circle",{cx:e/2,cy:e/2,r:p,fill:"none",stroke:S(f),strokeWidth:n,strokeDasharray:v,strokeDashoffset:x,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.8s ease-out, stroke 0.3s ease"}})]}),i&&g.jsxs("span",{className:`absolute text-text-primary font-semibold ${o}`,style:{fontSize:e*.22},children:[Math.round(f),"%"]})]});return u?g.jsx("button",{type:"button",onClick:u,className:`rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-accent/50
                   hover:opacity-80 active:scale-95 transition-all duration-150 cursor-pointer`,title:c||void 0,"aria-label":c||`Trip readiness: ${t}%`,children:T}):T}function Y9(t,e){if(!t||!e)return"upcoming";const n=new Date;n.setHours(0,0,0,0);const r=new Date(t+"T00:00:00"),i=new Date(e+"T00:00:00");return n>i?"completed":n>=r&&n<=i?"ongoing":"upcoming"}const X9={upcoming:{label:"Upcoming",className:"bg-info/10 text-info"},ongoing:{label:"Ongoing",className:"bg-success/10 text-success"},completed:{label:"Completed",className:"bg-text-muted/10 text-text-muted"}};function Q9({startDate:t,endDate:e,className:n=""}){const r=Y9(t,e),i=X9[r];return g.jsx("span",{className:`
      inline-flex items-center px-2.5 py-0.5 text-xs font-medium
      rounded-[var(--radius-pill)] ${i.className} ${n}
    `,children:i.label})}function D1({isOpen:t,onClose:e,children:n,className:r="",maxWidth:i="max-w-xl"}){return q.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),t?g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[g.jsx("div",{className:"absolute inset-0 bg-text-primary/30 backdrop-blur-sm animate-fade-in",onClick:e}),g.jsx("div",{className:`
        relative z-10 w-full ${i}
        bg-bg-primary border border-border rounded-[var(--radius-xl)]
        max-h-[90vh] overflow-y-auto
        animate-scale-in
        ${r}
      `,children:n})]}):null}function GD({isOpen:t,onClose:e,onConfirm:n,title:r,message:i,confirmLabel:o="Delete",danger:s=!0}){return g.jsx(D1,{isOpen:t,onClose:e,maxWidth:"max-w-sm",children:g.jsxs("div",{className:"p-6",children:[g.jsx("h3",{className:"font-heading text-xl text-text-primary mb-2",children:r}),g.jsx("p",{className:"text-text-secondary text-sm mb-6",children:i}),g.jsxs("div",{className:"flex gap-3 justify-end",children:[g.jsx("button",{onClick:e,className:`px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary
                       bg-bg-secondary border border-border rounded-[var(--radius-md)]
                       hover:bg-bg-hover transition-colors`,children:"Cancel"}),g.jsx("button",{onClick:()=>{n(),e()},className:`px-4 py-2 text-sm font-medium rounded-[var(--radius-md)] transition-colors
              ${s?"bg-danger text-white hover:bg-danger/90":"bg-accent text-white hover:bg-accent-hover"}`,children:o})]})]})})}function J9({tripId:t,tripName:e,onClose:n}){const{dispatch:r,showToast:i}=Gt(),o=q.useRef(null),[s,u]=q.useState(!1);q.useEffect(()=>{function x(T){s||o.current&&!o.current.contains(T.target)&&n()}function S(T){T.key==="Escape"&&(s?u(!1):n())}return document.addEventListener("mousedown",x),document.addEventListener("keydown",S),()=>{document.removeEventListener("mousedown",x),document.removeEventListener("keydown",S)}},[n,s]);const c=x=>{x.stopPropagation();const S=window.prompt("Rename trip:",e);S&&S.trim()&&S.trim()!==e&&(r({type:pe.RENAME_TRIP,payload:{id:t,name:S.trim()}}),i("Trip renamed")),n()},f=x=>{x.stopPropagation(),r({type:pe.DUPLICATE_TRIP,payload:t}),i("Trip duplicated"),n()},h=x=>{x.stopPropagation(),u(!0)},p=()=>{r({type:pe.DELETE_TRIP,payload:t}),i("Trip deleted","info"),u(!1),n()},v=[{label:"Rename",icon:g.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),g.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),onClick:c},{label:"Duplicate",icon:g.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),g.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),onClick:f},{label:"Delete",icon:g.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("polyline",{points:"3 6 5 6 21 6"}),g.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),g.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),g.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),onClick:h,danger:!0}];return g.jsxs(g.Fragment,{children:[g.jsx("div",{ref:o,className:`absolute right-2 top-8 z-50 w-40
                   bg-bg-input border border-border rounded-[var(--radius-md)]
                   animate-scale-in overflow-hidden`,onClick:x=>x.stopPropagation(),children:v.map(x=>g.jsxs("button",{onClick:x.onClick,className:`w-full flex items-center gap-2.5 px-3 py-2 text-sm text-left
                        transition-colors duration-100
                        ${x.danger?"text-danger hover:bg-danger/10":"text-text-secondary hover:bg-bg-hover hover:text-text-primary"}`,children:[g.jsx("span",{className:"shrink-0",children:x.icon}),x.label]},x.label))}),g.jsx(GD,{isOpen:s,onClose:()=>u(!1),onConfirm:p,title:"Delete trip?",message:`Are you sure you want to delete "${e}"? This action cannot be undone.`,confirmLabel:"Delete",danger:!0})]})}function Z9({trip:t,isActive:e,isMobile:n}){const{dispatch:r}=Gt(),[i,o]=q.useState(!1),[s,u]=q.useState(!1),c=Cm(t),f=j1(t.startDate,t.endDate),h=3,p=t.destinations&&t.destinations.length>0?[...new Set(t.destinations.map(_=>_.flag||(_.country?_.country.slice(0,2):"")))].filter(Boolean):[],v=p.slice(0,h),x=p.length-h,S=()=>{r({type:pe.SET_ACTIVE_TRIP,payload:t.id}),n&&r({type:pe.SET_SIDEBAR,payload:!1})},T=_=>{_.stopPropagation(),o(I=>!I)};return g.jsxs("div",{className:`
        group relative flex items-start gap-3 px-3 py-3.5
        rounded-[var(--radius-md)] cursor-pointer
        transition-all duration-150
        ${e?"bg-accent-muted border border-accent/40":"border border-transparent hover:bg-bg-hover hover:border-border"}
      `,onClick:S,onMouseEnter:()=>u(!0),onMouseLeave:()=>{u(!1),i||o(!1)},children:[g.jsx("span",{className:"text-2xl leading-none mt-0.5 shrink-0",role:"img","aria-label":"trip icon",children:t.emoji||""}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-start justify-between gap-1.5",children:[g.jsx("h3",{className:`text-sm font-medium truncate leading-snug ${e?"text-text-primary":"text-text-secondary"}`,children:t.name}),g.jsx("button",{onClick:T,className:`shrink-0 p-0.5 rounded-[var(--radius-sm)]
                        text-text-muted hover:text-text-primary hover:bg-bg-secondary
                        transition-all duration-150
                        ${s||i?"opacity-100":"opacity-0"}
                      `,"aria-label":"Trip options",children:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:[g.jsx("circle",{cx:"12",cy:"6",r:"1.5"}),g.jsx("circle",{cx:"12",cy:"12",r:"1.5"}),g.jsx("circle",{cx:"12",cy:"18",r:"1.5"})]})})]}),p.length>0&&g.jsxs("div",{className:"flex items-center gap-0.5 mt-0.5",children:[v.map((_,I)=>g.jsx("span",{className:"text-sm leading-none",children:_},I)),x>0&&g.jsxs("span",{className:`text-[10px] text-text-muted font-medium px-1 py-0.5
                               bg-bg-secondary rounded-[var(--radius-sm)] leading-none ml-0.5`,children:["+",x]})]}),g.jsxs("div",{className:"flex items-center gap-2 mt-1.5 flex-wrap",children:[f&&g.jsx("span",{className:"text-xs text-text-muted whitespace-nowrap",children:f}),t.startDate&&t.endDate&&g.jsx(Q9,{startDate:t.startDate,endDate:t.endDate})]})]}),g.jsx("div",{className:"shrink-0 mt-1",children:g.jsx(R1,{value:c,size:36,strokeWidth:3,showLabel:!0,labelClassName:"!text-[9px]"})}),i&&g.jsx(J9,{tripId:t.id,tripName:t.name,onClose:()=>o(!1)})]})}function eq({count:t,onSignOut:e}){return g.jsxs("div",{className:"px-5 py-4 border-t border-border-strong flex items-center justify-between",children:[g.jsxs("p",{className:"text-xs text-text-muted",children:[t," ",B9(t,"trip")," planned"]}),e&&g.jsx("button",{onClick:e,className:"text-xs text-text-muted hover:text-text-secondary transition-colors",title:"Sign out",children:"Sign out"})]})}function Ul({profile:t,size:e=28,className:n="",ring:r=!1}){var s,u,c;const i=((c=(u=(s=t==null?void 0:t.name)==null?void 0:s.trim())==null?void 0:u[0])==null?void 0:c.toUpperCase())||"?",o={width:e,height:e,fontSize:e*.38};return g.jsx("div",{className:`
        rounded-full overflow-hidden shrink-0 flex items-center justify-center
        bg-accent/20 text-accent font-semibold select-none
        ${r?"ring-2 ring-bg-card":""}
        ${n}
      `,style:o,title:t==null?void 0:t.name,children:t!=null&&t.photo?g.jsx("img",{src:t.photo,alt:t.name,className:"w-full h-full object-cover"}):g.jsx("span",{style:{fontSize:e*.38},children:i})})}function KD(t,e=200){return new Promise(n=>{const r=new FileReader;r.onload=i=>{const o=new Image;o.onload=()=>{const s=document.createElement("canvas"),u=Math.min(e/o.width,e/o.height,1);s.width=o.width*u,s.height=o.height*u,s.getContext("2d").drawImage(o,0,0,s.width,s.height),n(s.toDataURL("image/jpeg",.85))},o.src=i.target.result},r.readAsDataURL(t)})}function tq({profile:t,onDelete:e}){const{updateProfile:n}=ca(),r=q.useRef(),[i,o]=q.useState(!1),[s,u]=q.useState(t.name),c=async h=>{var x;const p=(x=h.target.files)==null?void 0:x[0];if(!p)return;const v=await KD(p);n(t.id,{photo:v})},f=()=>{s.trim()&&n(t.id,{name:s.trim()}),o(!1)};return g.jsxs("div",{className:"flex items-center gap-3 py-2.5 px-1 group",children:[g.jsxs("button",{type:"button",onClick:()=>{var h;return(h=r.current)==null?void 0:h.click()},className:"relative shrink-0 hover:opacity-80 transition-opacity",title:"Change photo",children:[g.jsx(Ul,{profile:t,size:40}),g.jsx("span",{className:`absolute inset-0 flex items-center justify-center rounded-full
                         bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity text-white text-[10px] font-medium`,children:"edit"}),g.jsx("input",{ref:r,type:"file",accept:"image/*",className:"hidden",onChange:c})]}),g.jsx("div",{className:"flex-1 min-w-0",children:i?g.jsx("input",{autoFocus:!0,value:s,onChange:h=>u(h.target.value),onBlur:f,onKeyDown:h=>{h.key==="Enter"&&f(),h.key==="Escape"&&(u(t.name),o(!1))},className:"w-full px-2 py-1 text-sm bg-bg-input border border-accent/40 rounded-[var(--radius-sm)] text-text-primary outline-none focus:ring-1 focus:ring-accent/20"}):g.jsx("span",{className:"text-sm text-text-primary cursor-pointer hover:text-accent transition-colors",onClick:()=>o(!0),children:t.name})}),g.jsx("button",{type:"button",onClick:()=>e(t.id),className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger transition-all p-1",children:g.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("polyline",{points:"3 6 5 6 21 6"}),g.jsx("path",{d:"M19 6l-1 14H6L5 6"}),g.jsx("path",{d:"M10 11v6M14 11v6"}),g.jsx("path",{d:"M9 6V4h6v2"})]})})]})}function nq({onDone:t}){const{addProfile:e}=ca(),[n,r]=q.useState(""),[i,o]=q.useState(null),s=q.useRef(),u=async f=>{var v;const h=(v=f.target.files)==null?void 0:v[0];if(!h)return;const p=await KD(h);o(p)},c=()=>{n.trim()&&(e({name:n,photo:i}),t())};return g.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[g.jsx("p",{className:"text-xs font-medium text-text-muted uppercase tracking-widest mb-3",children:"Add traveler"}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("button",{type:"button",onClick:()=>{var f;return(f=s.current)==null?void 0:f.click()},className:"shrink-0 w-10 h-10 rounded-full border-2 border-dashed border-border hover:border-accent/50 flex items-center justify-center text-text-muted hover:text-accent transition-colors overflow-hidden",title:"Upload photo",children:[i?g.jsx("img",{src:i,alt:"",className:"w-full h-full object-cover"}):g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),g.jsx("polyline",{points:"17 8 12 3 7 8"}),g.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),g.jsx("input",{ref:s,type:"file",accept:"image/*",className:"hidden",onChange:u})]}),g.jsx("input",{autoFocus:!0,value:n,onChange:f=>r(f.target.value),onKeyDown:f=>{f.key==="Enter"&&c()},placeholder:"Traveler name",className:"flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-md)] text-text-primary placeholder:text-text-muted focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"}),g.jsx("button",{type:"button",onClick:c,disabled:!n.trim(),className:"px-3 py-2 text-sm bg-accent text-white rounded-[var(--radius-md)] hover:bg-accent-hover disabled:opacity-40 disabled:cursor-not-allowed transition-colors shrink-0",children:"Add"})]})]})}function MP({isOpen:t,onClose:e}){const{profiles:n,deleteProfile:r}=ca(),[i,o]=q.useState(!1);return g.jsx(D1,{isOpen:t,onClose:e,maxWidth:"max-w-sm",children:g.jsxs("div",{className:"px-6 pt-6 pb-6",children:[g.jsxs("div",{className:"flex items-center justify-between mb-5",children:[g.jsx("h2",{className:"font-heading text-lg font-bold text-text-primary",children:"Travelers"}),g.jsx("button",{onClick:e,className:"p-1.5 rounded-[var(--radius-sm)] text-text-muted hover:text-text-primary hover:bg-bg-hover transition-colors",children:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),g.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),n.length===0&&!i?g.jsx("p",{className:"text-sm text-text-muted text-center py-6",children:"No traveler profiles yet."}):g.jsx("div",{className:"divide-y divide-border",children:n.map(s=>g.jsx(tq,{profile:s,onDelete:r},s.id))}),i?g.jsx(nq,{onDone:()=>o(!1)}):g.jsxs("button",{type:"button",onClick:()=>o(!0),className:"mt-4 w-full flex items-center justify-center gap-2 px-4 py-2.5 border border-dashed border-border-strong rounded-[var(--radius-md)] text-sm text-text-muted font-medium hover:text-accent hover:border-accent/40 hover:bg-accent-muted/20 transition-colors",children:[g.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),g.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Traveler"]})]})})}function rq({isMobile:t,isOpen:e,onNewTrip:n}){const{state:r,dispatch:i,sortedTrips:o}=Gt(),{signOutUser:s}=HD(),[u,c]=q.useState(!1),f=()=>{n&&n()},h=()=>{i({type:pe.TOGGLE_DARK_MODE})},p=()=>{i({type:pe.SET_SIDEBAR,payload:!1})},v=g.jsxs("aside",{className:"flex flex-col h-full w-[var(--sidebar-width)] bg-bg-sidebar border-r border-border",children:[g.jsxs("div",{className:"px-5 pt-6 pb-4",children:[g.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[g.jsx("h1",{className:"font-heading text-xl font-bold tracking-tight text-text-primary",children:"Wanderplan"}),g.jsxs("div",{className:"flex items-center gap-0.5",children:[g.jsx("button",{onClick:()=>c(!0),className:"p-1.5 rounded-[var(--radius-md)] text-text-muted hover:text-text-secondary transition-colors","aria-label":"Manage traveler profiles",title:"Traveler profiles",children:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"9",cy:"7",r:"4"}),g.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),g.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),g.jsx("button",{onClick:h,className:"p-1.5 rounded-[var(--radius-md)] text-text-muted hover:text-text-secondary transition-colors","aria-label":r.darkMode?"Switch to light mode":"Switch to dark mode",children:r.darkMode?g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"5"}),g.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),g.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),g.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),g.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),g.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),g.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),g.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),g.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):g.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})]})]}),g.jsx("p",{className:"text-xs text-text-muted leading-relaxed",children:"Every trip, perfectly planned."})]}),g.jsx("div",{className:"px-4 pb-4",children:g.jsxs("button",{onClick:f,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5
                     bg-accent hover:bg-accent-hover text-text-inverse
                     font-medium text-sm rounded-[var(--radius-md)]
                     transition-all duration-200 active:scale-[0.98]`,children:[g.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),g.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New Trip"]})}),g.jsx("div",{className:"mx-4 mb-2 border-t border-border"}),g.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-2 space-y-0.5 scrollbar-hide",children:o.length===0?g.jsxs("div",{className:"px-3 py-8 text-center",children:[g.jsx("p",{className:"text-xs text-text-muted",children:"No trips yet."}),g.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Create one to get started!"})]}):o.map(x=>g.jsx(Z9,{trip:x,isActive:x.id===r.activeTripId,isMobile:t},x.id))}),g.jsx(eq,{count:o.length,onSignOut:s})]});return t?g.jsxs(g.Fragment,{children:[u&&g.jsx(MP,{isOpen:!0,onClose:()=>c(!1)}),e&&g.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 transition-opacity duration-300",onClick:p,"aria-hidden":"true"}),g.jsx("div",{className:`fixed inset-y-0 left-0 z-50 transition-transform duration-300 ease-out
          ${e?"translate-x-0":"-translate-x-full"}`,children:g.jsxs("div",{className:"relative h-full",children:[v,g.jsx("button",{onClick:p,className:`absolute top-4 right-3 p-1.5 rounded-[var(--radius-sm)]
                       text-text-muted hover:text-text-primary hover:bg-bg-hover
                       transition-colors`,"aria-label":"Close sidebar",children:g.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),g.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})})]}):g.jsxs(g.Fragment,{children:[v,u&&g.jsx(MP,{isOpen:!0,onClose:()=>c(!1)})]})}var YD=E2();function Zy(t){if(!t)return{days:0,hours:0,minutes:0,seconds:0,expired:!0,total:0};const e=new Date,r=new Date(t+"T00:00:00")-e;return r<=0?{days:0,hours:0,minutes:0,seconds:0,expired:!0,total:0}:{days:Math.floor(r/(1e3*60*60*24)),hours:Math.floor(r/(1e3*60*60)%24),minutes:Math.floor(r/(1e3*60)%60),seconds:Math.floor(r/1e3%60),expired:!1,total:r}}function M1(t){const[e,n]=q.useState(()=>Zy(t));return q.useEffect(()=>{if(!t)return;n(Zy(t));const r=setInterval(()=>{n(Zy(t))},1e3);return()=>clearInterval(r)},[t]),e}function iq({trip:t,travelerProfiles:e,dispatch:n}){const{profiles:r}=ca(),[i,o]=q.useState(!1),[s,u]=q.useState({top:0,left:0}),c=q.useRef(null),f=q.useRef(null),h=x=>{const S=t.travelerIds||[],T=S.includes(x)?S.filter(_=>_!==x):[...S,x];n({type:pe.UPDATE_TRIP,payload:{id:t.id,updates:{travelerIds:T,travelers:Math.max(T.length,1)}}})},p=()=>{if(c.current){const x=c.current.getBoundingClientRect();u({top:x.bottom+6,left:x.left})}o(x=>!x)};q.useEffect(()=>{if(!i)return;const x=S=>{c.current&&!c.current.contains(S.target)&&f.current&&!f.current.contains(S.target)&&o(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[i]),q.useEffect(()=>{if(!i)return;const x=()=>o(!1);return window.addEventListener("scroll",x,!0),window.addEventListener("resize",x),()=>{window.removeEventListener("scroll",x,!0),window.removeEventListener("resize",x)}},[i]);const v=t.travelers||1;return g.jsxs(g.Fragment,{children:[g.jsxs("button",{ref:c,onClick:p,className:"inline-flex items-center gap-1.5 rounded-[var(--radius-sm)] hover:bg-bg-hover px-1.5 py-0.5 -mx-1.5 transition-colors group",title:"Edit travelers",children:[e.length>0?g.jsxs(g.Fragment,{children:[e.map((x,S)=>g.jsx("span",{style:{marginLeft:S===0?0:-8},className:"inline-flex",children:g.jsx(Ul,{profile:x,size:26,ring:!0})},x.id)),g.jsx("span",{className:"ml-1 text-sm text-text-muted",children:e.map(x=>x.name.split(" ")[0]).join(" & ")})]}):g.jsxs(g.Fragment,{children:[g.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-text-muted",children:[g.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"9",cy:"7",r:"4"}),g.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),g.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),g.jsxs("span",{className:"text-sm text-text-muted",children:[v," ",v===1?"traveler":"travelers"]})]}),g.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-text-muted opacity-0 group-hover:opacity-60 transition-opacity shrink-0",children:g.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),i&&YD.createPortal(g.jsx("div",{ref:f,style:{position:"fixed",top:s.top,left:s.left,zIndex:9999},className:"bg-bg-card border border-border rounded-[var(--radius-lg)] shadow-xl p-2 min-w-[180px]",children:r.length===0?g.jsx("p",{className:"text-xs text-text-muted px-2 py-1.5",children:"No profiles yet  add travelers from the sidebar."}):g.jsx("div",{className:"space-y-0.5",children:r.map(x=>{const S=(t.travelerIds||[]).includes(x.id);return g.jsxs("button",{onClick:()=>h(x.id),className:`w-full flex items-center gap-2.5 px-2.5 py-1.5 rounded-[var(--radius-md)] text-sm transition-colors
                      ${S?"bg-accent/10 text-text-primary":"hover:bg-bg-hover text-text-secondary"}`,children:[g.jsx(Ul,{profile:x,size:24}),g.jsx("span",{className:"flex-1 text-left font-medium",children:x.name}),S&&g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-accent shrink-0",children:g.jsx("polyline",{points:"20 6 9 17 4 12"})})]},x.id)})})}),document.body)]})}function oq({targetDate:t,emoji:e}){const n=M1(t);return!t||n.expired?null:g.jsxs("span",{className:"inline-flex items-center gap-1.5 text-sm text-text-muted",children:[g.jsx("span",{children:e}),g.jsx("span",{className:"font-heading font-semibold text-text-primary",children:n.days}),g.jsx("span",{className:"text-xs",children:"days"})]})}function aq({value:t,onSave:e}){const[n,r]=q.useState(!1),[i,o]=q.useState(t),[s,u]=q.useState(!1),c=q.useRef(null);q.useEffect(()=>{n||o(t)},[t,n]);const f=()=>{o(t),r(!0),setTimeout(()=>{var x,S;(x=c.current)==null||x.focus(),(S=c.current)==null||S.select()},0)},h=()=>{const x=i.trim();x&&x!==t?e(x):o(t),r(!1)},p=()=>{o(t),r(!1)},v=x=>{x.key==="Enter"&&(x.preventDefault(),h()),x.key==="Escape"&&p()};return n?g.jsx("input",{ref:c,value:i,onChange:x=>o(x.target.value),onBlur:h,onKeyDown:v,className:`font-heading text-2xl md:text-3xl font-bold text-text-primary leading-tight
                   bg-transparent border-b-2 border-accent outline-none w-full min-w-0`,style:{fontFamily:"var(--font-heading)"},"aria-label":"Edit trip name"}):g.jsxs("button",{onClick:f,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:"group flex items-center gap-2 min-w-0 max-w-full text-left","aria-label":`Trip name: ${t}. Click to edit.`,children:[g.jsx("h1",{className:`font-heading text-2xl md:text-3xl font-bold text-text-primary
                       leading-tight truncate transition-all duration-150
                       ${s?"underline decoration-border-strong underline-offset-4":""}`,children:t}),g.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`shrink-0 text-text-muted transition-opacity duration-150 mt-1
                    ${s?"opacity-100":"opacity-0"}`,"aria-hidden":"true",children:[g.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),g.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})]})}function sq(){return g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-text-muted mx-0.5 shrink-0 opacity-60",children:g.jsx("polyline",{points:"9 18 15 12 9 6"})})}function lq({destinations:t}){var o;const[e,n]=q.useState(!1);if(!(t!=null&&t.length))return null;const r=t.length,i=({dests:s})=>g.jsx("div",{className:"flex items-center flex-wrap gap-x-0.5 gap-y-1",children:s.map((u,c)=>g.jsxs("span",{className:"flex items-center",children:[c>0&&g.jsx(sq,{}),g.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-text-secondary whitespace-nowrap",children:[g.jsx("span",{children:u.flag}),g.jsx("span",{children:u.city})]})]},c))});return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"sm:hidden",children:e?g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx(i,{dests:t}),g.jsx("button",{onClick:()=>n(!1),className:"text-xs text-text-muted hover:text-text-secondary transition-colors self-start mt-0.5",children:" collapse"})]}):g.jsxs("button",{onClick:()=>n(!0),className:`inline-flex items-center gap-1.5 text-sm text-text-secondary
                       px-2.5 py-0.5 rounded-full border border-border hover:border-border-strong
                       hover:bg-bg-hover transition-colors duration-150`,children:[g.jsxs("span",{className:"text-base leading-none",children:[(o=t[0])==null?void 0:o.flag,r>1?"":""]}),g.jsxs("span",{className:"font-medium",children:[r," ",r===1?"city":"cities"]}),g.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-text-muted",children:g.jsx("polyline",{points:"6 9 12 15 18 9"})})]})}),g.jsx("div",{className:"hidden sm:block",children:g.jsx(i,{dests:t})})]})}function uq(){const{activeTrip:t,dispatch:e}=Gt(),{profiles:n}=ca(),r=q.useMemo(()=>Cm(t),[t]);if(!t)return null;const i=t,o=j1(i.startDate,i.endDate);i.travelers;const s=i.destinations||[],u=(i.travelerIds||[]).map(f=>n.find(h=>h.id===f)).filter(Boolean),c=f=>{f&&e({type:pe.RENAME_TRIP,payload:{id:i.id,name:f}})};return g.jsx("header",{className:"animate-fade-in border-b border-border",children:g.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-8 pt-5 pb-4",children:g.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[g.jsx("span",{className:"text-4xl sm:text-[44px] leading-none shrink-0 mt-0.5",role:"img","aria-label":"Trip emoji",children:i.emoji}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx(aq,{value:i.name,onSave:c}),g.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 mt-1.5",children:[o&&g.jsxs("span",{className:"inline-flex items-center gap-1.5 text-sm text-text-muted",children:[g.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0",children:[g.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),g.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),g.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),g.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),o]}),g.jsx(iq,{trip:i,travelerProfiles:u,dispatch:e}),i.startDate&&g.jsx(oq,{targetDate:i.startDate,emoji:""})]}),s.length>0&&g.jsx("div",{className:"mt-2",children:g.jsx(lq,{destinations:s})})]}),g.jsxs("div",{className:"shrink-0 flex flex-col items-center gap-1 mt-0.5",children:[g.jsx(R1,{value:r,size:68,strokeWidth:5,labelClassName:"text-sm"}),g.jsx("span",{className:"text-[10px] text-text-muted font-medium tracking-wide uppercase",children:"Ready"})]})]})})})}const cq=[{id:"overview",label:"Overview",emoji:""},{id:"itinerary",label:"Itinerary",emoji:""},{id:"bookings",label:"Bookings",emoji:""},{id:"budget",label:"Budget",emoji:""},{id:"todo",label:"To-Do",emoji:""},{id:"cities",label:"Cities",emoji:""},{id:"packing",label:"Packing",emoji:""},{id:"concert",label:"Concert",emoji:"",conditional:!0}],nf=[{id:"flight",label:"Flight",emoji:""},{id:"hotel",label:"Hotel",emoji:""},{id:"experience",label:"Experience",emoji:""},{id:"concert",label:"Concert",emoji:""},{id:"transport",label:"Transport",emoji:""},{id:"custom",label:"Custom",emoji:""}],fq=["Admin","Finances","Tech","Health","Misc"],LP=["Documents","Clothing","Tech","Concert Essentials","Toiletries","Misc"];function dq(){var j,A;const{state:t,activeTrip:e,dispatch:n}=Gt(),r=t.activeTab,i=q.useRef(null),o=q.useRef(null),s=q.useRef(null),u=q.useRef({}),[c,f]=q.useState(!1),[h,p]=q.useState(!1),[v,x]=q.useState([]),[S,T]=q.useState(!1),_=((j=e==null?void 0:e.bookings)==null?void 0:j.some(P=>P.category==="concert"))||!1,I=cq.filter(P=>P.conditional&&P.id==="concert"?_:!0),R=P=>{n({type:pe.SET_TAB,payload:P}),T(!1)},k=q.useCallback(()=>{const P=i.current;P&&(f(P.scrollLeft>4),p(P.scrollLeft+P.clientWidth<P.scrollWidth-4))},[]);q.useEffect(()=>{const P=i.current;if(!P)return;s.current&&s.current.disconnect();const N=new Set;return s.current=new IntersectionObserver(B=>{B.forEach(L=>{const V=L.target.dataset.tabId;V&&(L.intersectionRatio<.9?N.add(V):N.delete(V))}),x(I.filter(L=>N.has(L.id)))},{root:P,threshold:.9}),Object.values(u.current).forEach(B=>{B&&s.current.observe(B)}),()=>{var B;return(B=s.current)==null?void 0:B.disconnect()}},[I.length,_]),q.useEffect(()=>{const P=i.current;if(P)return k(),P.addEventListener("scroll",k,{passive:!0}),window.addEventListener("resize",k,{passive:!0}),()=>{P.removeEventListener("scroll",k),window.removeEventListener("resize",k)}},[k]),q.useEffect(()=>{if(o.current&&i.current){const P=i.current,N=o.current,B=P.getBoundingClientRect(),L=N.getBoundingClientRect();(L.left<B.left||L.right>B.right)&&N.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},[r]),q.useEffect(()=>{if(!S)return;const P=N=>{N.target.closest("[data-more-menu]")||T(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[S]);const D=v.length>0,O=v.some(P=>P.id===r);return g.jsx("nav",{className:"border-b border-border bg-bg-primary/80 backdrop-blur-sm sticky top-0 z-20",children:g.jsxs("div",{className:"relative flex items-stretch",children:[c&&g.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-8 z-10 pointer-events-none",style:{background:"linear-gradient(to right, var(--color-bg-primary), transparent)"},"aria-hidden":"true"}),g.jsxs("div",{ref:i,className:"flex overflow-x-auto scrollbar-hide flex-1",style:{scrollSnapType:"x mandatory"},role:"tablist","aria-label":"Trip sections",children:[g.jsx("div",{className:"w-4 md:w-8 shrink-0"}),I.map(P=>{const N=r===P.id;return v.some(B=>B.id===P.id),g.jsxs("button",{ref:B=>{u.current[P.id]=B,N&&(o.current=B)},"data-tab-id":P.id,role:"tab","aria-selected":N,"aria-controls":`panel-${P.id}`,onClick:()=>R(P.id),style:{scrollSnapAlign:"start"},className:`
                  relative flex items-center gap-1.5 px-3.5 py-3.5 text-sm font-medium
                  whitespace-nowrap transition-colors duration-150
                  shrink-0
                  ${N?"text-accent":"text-text-muted hover:text-text-secondary"}
                `,children:[g.jsx("span",{className:"text-base leading-none",children:P.emoji}),g.jsx("span",{className:"hidden sm:inline",children:P.label}),N&&g.jsx("span",{className:"absolute bottom-0 left-1.5 right-1.5 h-[2.5px] bg-accent rounded-full","aria-hidden":"true"})]},P.id)}),g.jsx("div",{className:"w-4 md:w-8 shrink-0"})]}),h&&g.jsx("div",{className:"absolute right-0 top-0 bottom-0 pointer-events-none z-10",style:{width:D?"80px":"32px",background:"linear-gradient(to left, var(--color-bg-primary) 40%, transparent)"},"aria-hidden":"true"}),D&&g.jsxs("div",{className:"relative shrink-0 flex items-center pr-3 pl-1 z-20","data-more-menu":!0,children:[g.jsxs("button",{onClick:()=>T(P=>!P),className:`
                flex items-center gap-1 px-2.5 py-1.5 text-xs font-medium rounded-[var(--radius-sm)]
                transition-colors duration-150
                ${O?"text-accent bg-accent/10":"text-text-muted hover:text-text-secondary hover:bg-bg-secondary"}
              `,"aria-haspopup":"true","aria-expanded":S,children:[O?g.jsx("span",{children:(A=v.find(P=>P.id===r))==null?void 0:A.emoji}):g.jsx("span",{children:"More"}),g.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform duration-150 ${S?"rotate-180":""}`,children:g.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),S&&g.jsx("div",{className:"absolute top-full right-0 mt-1 min-w-[140px] bg-bg-primary border border-border rounded-[var(--radius-md)] shadow-lg py-1 z-50",children:v.map(P=>{const N=r===P.id;return g.jsxs("button",{onClick:()=>R(P.id),className:`
                        w-full flex items-center gap-2.5 px-3 py-2 text-sm text-left
                        transition-colors duration-100
                        ${N?"text-accent bg-accent/8 font-medium":"text-text-secondary hover:bg-bg-secondary"}
                      `,children:[g.jsx("span",{children:P.emoji}),g.jsx("span",{children:P.label}),N&&g.jsx("span",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-accent"})]},P.id)})})]})]})})}const pp=[{city:"Bangkok",country:"Thailand",iso:"TH"},{city:"Phuket",country:"Thailand",iso:"TH"},{city:"Chiang Mai",country:"Thailand",iso:"TH"},{city:"Koh Samui",country:"Thailand",iso:"TH"},{city:"Krabi",country:"Thailand",iso:"TH"},{city:"Pattaya",country:"Thailand",iso:"TH"},{city:"Singapore",country:"Singapore",iso:"SG"},{city:"Bali",country:"Indonesia",iso:"ID"},{city:"Jakarta",country:"Indonesia",iso:"ID"},{city:"Yogyakarta",country:"Indonesia",iso:"ID"},{city:"Lombok",country:"Indonesia",iso:"ID"},{city:"Komodo",country:"Indonesia",iso:"ID"},{city:"Kuala Lumpur",country:"Malaysia",iso:"MY"},{city:"Penang",country:"Malaysia",iso:"MY"},{city:"Langkawi",country:"Malaysia",iso:"MY"},{city:"Kota Kinabalu",country:"Malaysia",iso:"MY"},{city:"Ho Chi Minh City",country:"Vietnam",iso:"VN"},{city:"Hanoi",country:"Vietnam",iso:"VN"},{city:"Da Nang",country:"Vietnam",iso:"VN"},{city:"Hoi An",country:"Vietnam",iso:"VN"},{city:"Ha Long Bay",country:"Vietnam",iso:"VN"},{city:"Siem Reap",country:"Cambodia",iso:"KH"},{city:"Phnom Penh",country:"Cambodia",iso:"KH"},{city:"Luang Prabang",country:"Laos",iso:"LA"},{city:"Vientiane",country:"Laos",iso:"LA"},{city:"Yangon",country:"Myanmar",iso:"MM"},{city:"Mandalay",country:"Myanmar",iso:"MM"},{city:"Manila",country:"Philippines",iso:"PH"},{city:"Cebu",country:"Philippines",iso:"PH"},{city:"Boracay",country:"Philippines",iso:"PH"},{city:"Palawan",country:"Philippines",iso:"PH"},{city:"Davao",country:"Philippines",iso:"PH"},{city:"Siargao",country:"Philippines",iso:"PH"},{city:"Tokyo",country:"Japan",iso:"JP"},{city:"Osaka",country:"Japan",iso:"JP"},{city:"Kyoto",country:"Japan",iso:"JP"},{city:"Hiroshima",country:"Japan",iso:"JP"},{city:"Nara",country:"Japan",iso:"JP"},{city:"Sapporo",country:"Japan",iso:"JP"},{city:"Fukuoka",country:"Japan",iso:"JP"},{city:"Seoul",country:"South Korea",iso:"KR"},{city:"Busan",country:"South Korea",iso:"KR"},{city:"Jeju",country:"South Korea",iso:"KR"},{city:"Taipei",country:"Taiwan",iso:"TW"},{city:"Tainan",country:"Taiwan",iso:"TW"},{city:"Hong Kong",country:"Hong Kong",iso:"HK"},{city:"Macau",country:"Macau",iso:"MO"},{city:"Beijing",country:"China",iso:"CN"},{city:"Shanghai",country:"China",iso:"CN"},{city:"Chengdu",country:"China",iso:"CN"},{city:"Xi'an",country:"China",iso:"CN"},{city:"Guilin",country:"China",iso:"CN"},{city:"Mumbai",country:"India",iso:"IN"},{city:"New Delhi",country:"India",iso:"IN"},{city:"Agra",country:"India",iso:"IN"},{city:"Jaipur",country:"India",iso:"IN"},{city:"Goa",country:"India",iso:"IN"},{city:"Kerala",country:"India",iso:"IN"},{city:"Varanasi",country:"India",iso:"IN"},{city:"Colombo",country:"Sri Lanka",iso:"LK"},{city:"Kandy",country:"Sri Lanka",iso:"LK"},{city:"Kathmandu",country:"Nepal",iso:"NP"},{city:"Pokhara",country:"Nepal",iso:"NP"},{city:"Dhaka",country:"Bangladesh",iso:"BD"},{city:"Maldives",country:"Maldives",iso:"MV"},{city:"Dubai",country:"UAE",iso:"AE"},{city:"Abu Dhabi",country:"UAE",iso:"AE"},{city:"Doha",country:"Qatar",iso:"QA"},{city:"Istanbul",country:"Turkey",iso:"TR"},{city:"Cappadocia",country:"Turkey",iso:"TR"},{city:"Antalya",country:"Turkey",iso:"TR"},{city:"Bodrum",country:"Turkey",iso:"TR"},{city:"Tel Aviv",country:"Israel",iso:"IL"},{city:"Jerusalem",country:"Israel",iso:"IL"},{city:"Amman",country:"Jordan",iso:"JO"},{city:"Petra",country:"Jordan",iso:"JO"},{city:"Muscat",country:"Oman",iso:"OM"},{city:"Riyadh",country:"Saudi Arabia",iso:"SA"},{city:"Beirut",country:"Lebanon",iso:"LB"},{city:"Paris",country:"France",iso:"FR"},{city:"Nice",country:"France",iso:"FR"},{city:"Lyon",country:"France",iso:"FR"},{city:"Marseille",country:"France",iso:"FR"},{city:"London",country:"UK",iso:"GB"},{city:"Edinburgh",country:"UK",iso:"GB"},{city:"Manchester",country:"UK",iso:"GB"},{city:"Dublin",country:"Ireland",iso:"IE"},{city:"Amsterdam",country:"Netherlands",iso:"NL"},{city:"Brussels",country:"Belgium",iso:"BE"},{city:"Berlin",country:"Germany",iso:"DE"},{city:"Munich",country:"Germany",iso:"DE"},{city:"Hamburg",country:"Germany",iso:"DE"},{city:"Frankfurt",country:"Germany",iso:"DE"},{city:"Vienna",country:"Austria",iso:"AT"},{city:"Salzburg",country:"Austria",iso:"AT"},{city:"Zurich",country:"Switzerland",iso:"CH"},{city:"Geneva",country:"Switzerland",iso:"CH"},{city:"Interlaken",country:"Switzerland",iso:"CH"},{city:"Grindelwald",country:"Switzerland",iso:"CH"},{city:"Zermatt",country:"Switzerland",iso:"CH"},{city:"Lucerne",country:"Switzerland",iso:"CH"},{city:"Bern",country:"Switzerland",iso:"CH"},{city:"Rome",country:"Italy",iso:"IT"},{city:"Milan",country:"Italy",iso:"IT"},{city:"Venice",country:"Italy",iso:"IT"},{city:"Florence",country:"Italy",iso:"IT"},{city:"Naples",country:"Italy",iso:"IT"},{city:"Amalfi Coast",country:"Italy",iso:"IT"},{city:"Sicily",country:"Italy",iso:"IT"},{city:"Barcelona",country:"Spain",iso:"ES"},{city:"Madrid",country:"Spain",iso:"ES"},{city:"Seville",country:"Spain",iso:"ES"},{city:"Valencia",country:"Spain",iso:"ES"},{city:"Ibiza",country:"Spain",iso:"ES"},{city:"Mallorca",country:"Spain",iso:"ES"},{city:"Lisbon",country:"Portugal",iso:"PT"},{city:"Porto",country:"Portugal",iso:"PT"},{city:"Algarve",country:"Portugal",iso:"PT"},{city:"Athens",country:"Greece",iso:"GR"},{city:"Santorini",country:"Greece",iso:"GR"},{city:"Mykonos",country:"Greece",iso:"GR"},{city:"Crete",country:"Greece",iso:"GR"},{city:"Rhodes",country:"Greece",iso:"GR"},{city:"Corfu",country:"Greece",iso:"GR"},{city:"Copenhagen",country:"Denmark",iso:"DK"},{city:"Stockholm",country:"Sweden",iso:"SE"},{city:"Oslo",country:"Norway",iso:"NO"},{city:"Helsinki",country:"Finland",iso:"FI"},{city:"Reykjavik",country:"Iceland",iso:"IS"},{city:"Prague",country:"Czech Republic",iso:"CZ"},{city:"Budapest",country:"Hungary",iso:"HU"},{city:"Warsaw",country:"Poland",iso:"PL"},{city:"Krakow",country:"Poland",iso:"PL"},{city:"Tallinn",country:"Estonia",iso:"EE"},{city:"Riga",country:"Latvia",iso:"LV"},{city:"Vilnius",country:"Lithuania",iso:"LT"},{city:"Dubrovnik",country:"Croatia",iso:"HR"},{city:"Split",country:"Croatia",iso:"HR"},{city:"Zagreb",country:"Croatia",iso:"HR"},{city:"Ljubljana",country:"Slovenia",iso:"SI"},{city:"Bratislava",country:"Slovakia",iso:"SK"},{city:"Bucharest",country:"Romania",iso:"RO"},{city:"Sofia",country:"Bulgaria",iso:"BG"},{city:"Sarajevo",country:"Bosnia",iso:"BA"},{city:"Moscow",country:"Russia",iso:"RU"},{city:"St. Petersburg",country:"Russia",iso:"RU"},{city:"New York",country:"USA",iso:"US"},{city:"Los Angeles",country:"USA",iso:"US"},{city:"Chicago",country:"USA",iso:"US"},{city:"San Francisco",country:"USA",iso:"US"},{city:"Miami",country:"USA",iso:"US"},{city:"Las Vegas",country:"USA",iso:"US"},{city:"New Orleans",country:"USA",iso:"US"},{city:"Washington DC",country:"USA",iso:"US"},{city:"Boston",country:"USA",iso:"US"},{city:"Seattle",country:"USA",iso:"US"},{city:"Hawaii",country:"USA",iso:"US"},{city:"Toronto",country:"Canada",iso:"CA"},{city:"Vancouver",country:"Canada",iso:"CA"},{city:"Montreal",country:"Canada",iso:"CA"},{city:"Quebec City",country:"Canada",iso:"CA"},{city:"Mexico City",country:"Mexico",iso:"MX"},{city:"Cancn",country:"Mexico",iso:"MX"},{city:"Tulum",country:"Mexico",iso:"MX"},{city:"Oaxaca",country:"Mexico",iso:"MX"},{city:"Guadalajara",country:"Mexico",iso:"MX"},{city:"Havana",country:"Cuba",iso:"CU"},{city:"San Jos",country:"Costa Rica",iso:"CR"},{city:"Cartagena",country:"Colombia",iso:"CO"},{city:"Bogot",country:"Colombia",iso:"CO"},{city:"Medelln",country:"Colombia",iso:"CO"},{city:"Panama City",country:"Panama",iso:"PA"},{city:"Rio de Janeiro",country:"Brazil",iso:"BR"},{city:"So Paulo",country:"Brazil",iso:"BR"},{city:"Salvador",country:"Brazil",iso:"BR"},{city:"Buenos Aires",country:"Argentina",iso:"AR"},{city:"Patagonia",country:"Argentina",iso:"AR"},{city:"Mendoza",country:"Argentina",iso:"AR"},{city:"Lima",country:"Peru",iso:"PE"},{city:"Cusco",country:"Peru",iso:"PE"},{city:"Machu Picchu",country:"Peru",iso:"PE"},{city:"Santiago",country:"Chile",iso:"CL"},{city:"Valparaso",country:"Chile",iso:"CL"},{city:"Quito",country:"Ecuador",iso:"EC"},{city:"Galpagos",country:"Ecuador",iso:"EC"},{city:"Montevideo",country:"Uruguay",iso:"UY"},{city:"La Paz",country:"Bolivia",iso:"BO"},{city:"Cairo",country:"Egypt",iso:"EG"},{city:"Luxor",country:"Egypt",iso:"EG"},{city:"Sharm el-Sheikh",country:"Egypt",iso:"EG"},{city:"Marrakech",country:"Morocco",iso:"MA"},{city:"Casablanca",country:"Morocco",iso:"MA"},{city:"Fes",country:"Morocco",iso:"MA"},{city:"Cape Town",country:"South Africa",iso:"ZA"},{city:"Johannesburg",country:"South Africa",iso:"ZA"},{city:"Nairobi",country:"Kenya",iso:"KE"},{city:"Zanzibar",country:"Tanzania",iso:"TZ"},{city:"Serengeti",country:"Tanzania",iso:"TZ"},{city:"Accra",country:"Ghana",iso:"GH"},{city:"Lagos",country:"Nigeria",iso:"NG"},{city:"Addis Ababa",country:"Ethiopia",iso:"ET"},{city:"Sydney",country:"Australia",iso:"AU"},{city:"Melbourne",country:"Australia",iso:"AU"},{city:"Brisbane",country:"Australia",iso:"AU"},{city:"Perth",country:"Australia",iso:"AU"},{city:"Cairns",country:"Australia",iso:"AU"},{city:"Auckland",country:"New Zealand",iso:"NZ"},{city:"Queenstown",country:"New Zealand",iso:"NZ"},{city:"Christchurch",country:"New Zealand",iso:"NZ"},{city:"Suva",country:"Fiji",iso:"FJ"},{city:"Nadi",country:"Fiji",iso:"FJ"},{city:"Papeete",country:"French Polynesia",iso:"PF"},{city:"Bora Bora",country:"French Polynesia",iso:"PF"}];function L1(t){return!t||t.length!==2?"":String.fromCodePoint(127462+t.toUpperCase().charCodeAt(0)-65,127462+t.toUpperCase().charCodeAt(1)-65)}function $P(t){return L1(t.iso)}const XD=Object.fromEntries(pp.map(t=>[t.country,L1(t.iso)]));function $1(t,e,n){const r=t.trim(),i=e.trim(),o=pp.find(u=>u.city.toLowerCase()===r.toLowerCase());if(o)return{city:r,country:o.country,flag:L1(o.iso)};const s=XD[i]||n||"";return{city:r,country:i,flag:s}}function QD({value:t,country:e="",flag:n="",onChange:r,placeholder:i="City",className:o="",autoFocus:s=!1}){const[u,c]=q.useState(t||""),[f,h]=q.useState(!1),[p,v]=q.useState({top:0,left:0}),x=q.useRef(null);q.useEffect(()=>{t===""?c(""):t&&t!==u&&c(t)},[t]),q.useLayoutEffect(()=>{if(!f||!x.current)return;const k=()=>{if(!x.current)return;const D=x.current.getBoundingClientRect();v({top:D.bottom+4,left:D.left})};return k(),window.addEventListener("scroll",k,!0),window.addEventListener("resize",k),()=>{window.removeEventListener("scroll",k,!0),window.removeEventListener("resize",k)}},[f]);const S=q.useMemo(()=>{if(!u.trim())return[];const k=u.toLowerCase(),D=pp.filter(j=>j.city.toLowerCase().startsWith(k)),O=pp.filter(j=>!j.city.toLowerCase().startsWith(k)&&(j.city.toLowerCase().includes(k)||j.country.toLowerCase().startsWith(k)));return[...D,...O].slice(0,8)},[u]),T=k=>{const D=$P(k);c(k.city),h(!1),r({city:k.city,country:k.country,flag:D})},_=k=>{const D=k.target.value;c(D),h(!0),r({city:D,country:e,flag:n})},I=()=>{setTimeout(()=>{if(h(!1),u.trim()){const k=$1(u,e,n);(k.flag!==n||k.country!==e)&&(c(k.city),r(k))}},150)},R=k=>{if(k.key==="Escape"){h(!1);return}k.key==="Enter"&&S.length>0&&(k.preventDefault(),T(S[0])),k.key==="ArrowDown"&&S.length>0&&(k.preventDefault(),h(!0))};return g.jsxs("div",{className:"relative flex-1",children:[g.jsx("input",{ref:x,type:"text",value:u,onChange:_,onFocus:()=>u.trim().length>0&&h(!0),onBlur:I,onKeyDown:R,placeholder:i,autoComplete:"off",autoFocus:s,className:`w-full px-3 py-2 bg-bg-input border border-border rounded-[var(--radius-sm)]
                   text-text-primary placeholder:text-text-muted text-sm
                   focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors
                   ${o}`}),f&&S.length>0&&YD.createPortal(g.jsx("ul",{style:{position:"fixed",top:p.top,left:p.left,minWidth:"260px",width:"max-content",maxWidth:"340px"},className:`z-[9999] bg-bg-primary border border-border rounded-[var(--radius-md)]
                     shadow-xl max-h-52 overflow-y-auto`,children:S.map((k,D)=>g.jsx("li",{children:g.jsxs("button",{type:"button",onClick:()=>T(k),className:`w-full flex items-center gap-3 px-3 py-2.5 text-left
                           hover:bg-bg-hover transition-colors`,children:[g.jsx("span",{className:"text-lg flex-shrink-0 w-7 text-center",children:$P(k)}),g.jsxs("span",{className:"flex flex-col min-w-0",children:[g.jsx("span",{className:"text-sm font-semibold text-text-primary leading-tight",children:k.city}),g.jsx("span",{className:"text-xs text-text-muted leading-tight mt-0.5",children:k.country})]})]})},D))}),document.body)]})}const hq=["","","","","","","","","","","","","","","","","","","",""],pq=[{emoji:"",label:"Flight"},{emoji:"",label:"Hotel"},{emoji:"",label:"Food"},{emoji:"",label:"Sightseeing"},{emoji:"",label:"Activity"},{emoji:"",label:"Shopping"},{emoji:"",label:"Music"},{emoji:"",label:"Transport"},{emoji:"",label:"Beach"},{emoji:"",label:"Temple"},{emoji:"",label:"Nightlife"},{emoji:"",label:"Photo"},{emoji:"",label:"Spa"},{emoji:"",label:"Walk"},{emoji:"",label:"Show"},{emoji:"",label:"Other"}],JD=4,VP=[{name:"Flights",emoji:""},{name:"Accommodation",emoji:""},{name:"Food & Dining",emoji:""},{name:"Activities",emoji:""},{name:"Transport",emoji:""},{name:"Shopping",emoji:""},{name:"Other",emoji:""}];function mq({currentStep:t}){return g.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:Array.from({length:JD},(e,n)=>{const r=n+1,i=r===t,o=r<t;return g.jsxs("div",{className:"flex items-center gap-2",children:[n>0&&g.jsx("div",{className:`w-8 h-[2px] rounded-full transition-colors duration-300 ${o?"bg-accent":"bg-border"}`}),g.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold transition-all duration-300
              ${i?"bg-accent text-text-inverse ring-4 ring-accent/20":o?"bg-accent text-text-inverse":"bg-bg-secondary text-text-muted border border-border"}`,children:o?g.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("polyline",{points:"20 6 9 17 4 12"})}):r})]},r)})})}function gq({form:t,setForm:e}){const[n,r]=q.useState(""),{profiles:i}=ca(),o=u=>{const c=u.match(new RegExp("\\p{Emoji}","u"));c?(e(f=>({...f,emoji:c[0]})),r(c[0])):r(u)},s=u=>{e(c=>{const f=c.travelerIds||[],h=f.includes(u)?f.filter(p=>p!==u):[...f,u];return{...c,travelerIds:h,travelers:Math.max(h.length,1)}})};return g.jsxs("div",{className:"space-y-5 animate-fade-in",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Name your adventure"}),g.jsx("p",{className:"text-sm text-text-muted",children:"What should we call this trip?"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Trip Name"}),g.jsx("input",{type:"text",value:t.name,onChange:u=>e(c=>({...c,name:u.target.value})),placeholder:"e.g. Summer in Europe",className:`w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)]
                     text-text-primary placeholder:text-text-muted
                     focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors`,autoFocus:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Trip Emoji"}),g.jsx("div",{className:"grid grid-cols-10 gap-1.5 mb-2",children:hq.map(u=>g.jsx("button",{type:"button",onClick:()=>{e(c=>({...c,emoji:u})),r("")},className:`w-9 h-9 flex items-center justify-center text-lg rounded-[var(--radius-sm)] transition-all duration-150
                ${t.emoji===u&&!n?"bg-accent/15 ring-2 ring-accent scale-110":"bg-bg-secondary hover:bg-bg-hover"}`,children:u},u))}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-2xl w-9 h-9 flex items-center justify-center border border-border rounded-[var(--radius-sm)] bg-bg-secondary",children:t.emoji}),g.jsx("input",{type:"text",value:n,onChange:u=>o(u.target.value),placeholder:"Or type any emoji",className:`flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-md)]
                       text-text-primary placeholder:text-text-muted
                       focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors`})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Travelers"}),i.length>0?g.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(u=>{const c=(t.travelerIds||[]).includes(u.id);return g.jsxs("button",{type:"button",onClick:()=>s(u.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-[var(--radius-pill)] border text-sm transition-all duration-150
                    ${c?"bg-accent/10 border-accent/40 text-text-primary":"bg-bg-secondary border-border text-text-muted hover:border-accent/30 hover:text-text-secondary"}`,children:[g.jsx(Ul,{profile:u,size:22}),g.jsx("span",{className:"font-medium",children:u.name}),c&&g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-accent",children:g.jsx("polyline",{points:"20 6 9 17 4 12"})})]},u.id)})}):g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{type:"button",onClick:()=>e(u=>({...u,travelers:Math.max(1,u.travelers-1)})),disabled:t.travelers<=1,className:"w-9 h-9 flex items-center justify-center rounded-[var(--radius-md)] bg-bg-secondary border border-border text-text-secondary hover:bg-bg-hover disabled:opacity-30 disabled:cursor-not-allowed transition-colors text-lg font-medium",children:"-"}),g.jsx("span",{className:"w-10 text-center text-lg font-heading font-bold text-text-primary",children:t.travelers}),g.jsx("button",{type:"button",onClick:()=>e(u=>({...u,travelers:Math.min(20,u.travelers+1)})),disabled:t.travelers>=20,className:"w-9 h-9 flex items-center justify-center rounded-[var(--radius-md)] bg-bg-secondary border border-border text-text-secondary hover:bg-bg-hover disabled:opacity-30 disabled:cursor-not-allowed transition-colors text-lg font-medium",children:"+"}),g.jsx("span",{className:"text-sm text-text-muted",children:t.travelers===1?"traveler":"travelers"})]}),i.length>0&&(t.travelerIds||[]).length===0&&g.jsx("p",{className:"text-xs text-text-muted mt-1.5",children:"Select who's coming on this trip"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Start Date"}),g.jsx("input",{type:"date",value:t.startDate,onChange:u=>e(c=>({...c,startDate:u.target.value})),className:"w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)] text-text-primary focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"End Date"}),g.jsx("input",{type:"date",value:t.endDate,min:t.startDate||void 0,onChange:u=>e(c=>({...c,endDate:u.target.value})),className:"w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)] text-text-primary focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]})]})]})}function yq({form:t,setForm:e}){const n=()=>{e(s=>({...s,destinations:[...s.destinations,{city:"",country:"",flag:""}]}))},r=(s,u)=>{e(c=>{const f=[...c.destinations];return f[s]={...f[s],...u},{...c,destinations:f}})},i=(s,u)=>{const c=XD[u.trim()]||t.destinations[s].flag||"";r(s,{country:u,flag:c})},o=s=>{t.destinations.length<=1||e(u=>({...u,destinations:u.destinations.filter((c,f)=>f!==s)}))};return g.jsxs("div",{className:"space-y-5 animate-fade-in",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Where are you going?"}),g.jsx("p",{className:"text-sm text-text-muted",children:"Add your destinations in order of visit."})]}),g.jsx("div",{className:"space-y-3",children:t.destinations.map((s,u)=>g.jsxs("div",{className:"flex items-start gap-2 p-3 bg-bg-secondary border border-border rounded-[var(--radius-md)]",children:[g.jsx("div",{className:"w-6 h-6 rounded-full bg-accent/10 text-accent flex items-center justify-center text-xs font-semibold shrink-0 mt-2",children:u+1}),g.jsx("span",{className:"text-xl flex-shrink-0 mt-1.5 w-7 text-center",children:s.flag||g.jsx("span",{className:"text-text-muted text-sm",children:""})}),g.jsx(QD,{value:s.city,country:s.country,flag:s.flag,onChange:c=>r(u,c)}),g.jsx("input",{type:"text",value:s.country,onChange:c=>i(u,c.target.value),placeholder:"Country",className:`flex-1 px-3 py-2 bg-bg-input border border-border rounded-[var(--radius-sm)]
                         text-text-primary placeholder:text-text-muted text-sm
                         focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors`}),g.jsx("button",{type:"button",onClick:()=>o(u),disabled:t.destinations.length<=1,className:"p-1.5 rounded-[var(--radius-sm)] text-text-muted hover:text-danger hover:bg-danger/10 disabled:opacity-0 disabled:pointer-events-none transition-all shrink-0 mt-0.5",children:g.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),g.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},u))}),g.jsxs("button",{type:"button",onClick:n,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 border border-dashed border-border-strong rounded-[var(--radius-md)] text-sm text-text-muted font-medium hover:text-accent hover:border-accent/40 hover:bg-accent-muted/20 transition-colors",children:[g.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),g.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Destination"]})]})}function vq({form:t,setForm:e}){const n=(u,c,f)=>{e(h=>{const p=[...h.budgetCategories];return p[u]={...p[u],[c]:Number(f)||0},{...h,budgetCategories:p}})},r=t.budgetCategories.reduce((u,c)=>u+(c.min||0),0),i=t.budgetCategories.reduce((u,c)=>u+(c.max||0),0),o=dp.find(u=>u.code===t.currency),s=o?o.symbol:t.currency;return g.jsxs("div",{className:"space-y-5 animate-fade-in",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Set your budget"}),g.jsx("p",{className:"text-sm text-text-muted",children:"Optional. You can always add this later."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Currency"}),g.jsx("select",{value:t.currency,onChange:u=>e(c=>({...c,currency:u.target.value})),className:"w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)] text-text-primary focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors appearance-none cursor-pointer",children:dp.map(u=>g.jsxs("option",{value:u.code,children:[u.symbol," ",u.code,"  ",u.name]},u.code))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Budget Categories"}),g.jsx("div",{className:"space-y-2",children:t.budgetCategories.map((u,c)=>g.jsxs("div",{className:"p-2.5 bg-bg-secondary border border-border rounded-[var(--radius-sm)]",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("span",{className:"text-base w-6 text-center",children:u.emoji}),g.jsx("span",{className:"text-sm text-text-secondary font-medium",children:u.name})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:items-center sm:gap-2",children:[g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-xs text-text-muted",children:s}),g.jsx("input",{type:"number",min:"0",value:u.min||"",onChange:f=>n(c,"min",f.target.value),placeholder:"Min",className:"w-full pl-7 pr-2 py-1.5 bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary text-sm text-right focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-xs text-text-muted",children:s}),g.jsx("input",{type:"number",min:"0",value:u.max||"",onChange:f=>n(c,"max",f.target.value),placeholder:"Max",className:"w-full pl-7 pr-2 py-1.5 bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary text-sm text-right focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]}),u.max>0&&g.jsx("div",{className:"col-span-2 sm:flex-1",children:g.jsx("input",{type:"range",min:"0",max:Math.max(u.max*2,1e5),step:"1000",value:u.max,onChange:f=>n(c,"max",f.target.value),className:"w-full accent-[var(--color-accent)] h-1.5 rounded-full cursor-pointer"})})]})]},c))})]}),(r>0||i>0)&&g.jsxs("div",{className:"flex justify-between items-center px-3 py-2.5 bg-accent-muted/30 rounded-[var(--radius-md)] border border-accent/10",children:[g.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Estimated Total"}),g.jsxs("span",{className:"text-sm font-heading font-semibold text-accent",children:[s,r.toLocaleString(),"  ",s,i.toLocaleString()]})]})]})}function xq({form:t}){const{profiles:e}=ca(),n=dp.find(c=>c.code===t.currency),r=n?n.symbol:t.currency,i=t.budgetCategories.reduce((c,f)=>c+(f.min||0),0),o=t.budgetCategories.reduce((c,f)=>c+(f.max||0),0),s=t.destinations.filter(c=>c.city.trim()),u=e.filter(c=>(t.travelerIds||[]).includes(c.id));return g.jsxs("div",{className:"space-y-5 animate-fade-in",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Review your trip"}),g.jsx("p",{className:"text-sm text-text-muted",children:"Everything look good? You can edit details later."})]}),g.jsxs("div",{className:"bg-bg-secondary border border-border rounded-[var(--radius-lg)] overflow-hidden",children:[g.jsx("div",{className:"px-5 py-4 border-b border-border",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"text-4xl",children:t.emoji}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-heading text-lg font-bold text-text-primary",children:t.name||"Untitled Trip"}),u.length>0?g.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[u.map(c=>g.jsx(Ul,{profile:c,size:22,ring:!0},c.id)),g.jsx("span",{className:"text-xs text-text-muted ml-1",children:u.map(c=>c.name).join(", ")})]}):g.jsxs("p",{className:"text-sm text-text-muted",children:[t.travelers," ",t.travelers===1?"traveler":"travelers"]})]})]})}),g.jsxs("div",{className:"px-5 py-4 space-y-4",children:[(t.startDate||t.endDate)&&g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider font-medium mb-1",children:"Dates"}),g.jsxs("p",{className:"text-sm text-text-primary",children:[t.startDate?Fl(t.startDate):"TBD","  ",t.endDate?Fl(t.endDate):"TBD"]})]}),s.length>0&&g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider font-medium mb-1.5",children:"Destinations"}),g.jsx("div",{className:"flex flex-wrap gap-1.5",children:s.map((c,f)=>g.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 text-xs bg-bg-hover rounded-[var(--radius-pill)] text-text-secondary",children:[c.flag||""," ",c.city,c.country?`, ${c.country}`:""]},f))})]}),(i>0||o>0)&&g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider font-medium mb-1",children:"Budget"}),g.jsxs("p",{className:"text-sm text-text-primary",children:[r,i.toLocaleString(),"  ",r,o.toLocaleString()," ",t.currency]})]})]})]})]})}function bq({isOpen:t,onClose:e}){const{dispatch:n,showToast:r}=Gt(),[i,o]=q.useState(1),[s,u]=q.useState(()=>c());function c(){return{name:"",emoji:"",travelers:1,travelerIds:[],startDate:"",endDate:"",destinations:[{city:"",country:"",flag:""}],currency:"PHP",budgetCategories:VP.map(v=>({...v,min:0,max:0}))}}const f=()=>{o(1),u(c()),e()},h=q.useMemo(()=>i===1?s.name.trim().length>0:i===2?s.destinations.some(v=>v.city.trim().length>0):!0,[i,s]),p=()=>{const v=s.destinations.filter(I=>I.city.trim()).map(I=>$1(I.city,I.country,I.flag)),x=new Map;v.forEach(I=>{const R=I.city.toLowerCase();x.has(R)||x.set(R,{id:Date.now().toString(36)+Math.random().toString(36).slice(2,8)+x.size,city:I.city,country:I.country,flag:I.flag||"",highlights:"",mustDo:"",weather:"",currencyTip:"",notes:""})});const S=Array.from(x.values()),T=s.budgetCategories.filter(I=>I.min>0||I.max>0).map(I=>({id:Date.now().toString(36)+Math.random().toString(36).slice(2,8),name:I.name,emoji:I.emoji,min:I.min,max:I.max,actual:0})),_=U9({name:s.name.trim()||"New Trip",emoji:s.emoji,travelers:s.travelers,travelerIds:s.travelerIds||[],startDate:s.startDate,endDate:s.endDate,destinations:v,cities:S,currency:s.currency,budget:T});n({type:pe.ADD_TRIP,payload:_}),r(`"${_.name}" created! Let's plan this trip. `),f()};return g.jsxs(D1,{isOpen:t,onClose:f,maxWidth:"max-w-lg",children:[g.jsxs("div",{className:"px-6 pt-6 pb-2",children:[g.jsx("button",{type:"button",onClick:f,className:"absolute top-4 right-4 p-1.5 rounded-[var(--radius-sm)] text-text-muted hover:text-text-primary hover:bg-bg-hover transition-colors z-10",children:g.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),g.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),g.jsx(mq,{currentStep:i}),g.jsxs("div",{className:"min-h-[320px]",children:[i===1&&g.jsx(gq,{form:s,setForm:u}),i===2&&g.jsx(yq,{form:s,setForm:u}),i===3&&g.jsx(vq,{form:s,setForm:u}),i===4&&g.jsx(xq,{form:s})]})]}),g.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-border mt-2",children:[g.jsx("div",{children:i>1&&g.jsxs("button",{type:"button",onClick:()=>o(v=>v-1),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary hover:bg-bg-hover rounded-[var(--radius-md)] transition-colors",children:[g.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back"]})}),g.jsxs("div",{className:"flex items-center gap-2",children:[i===3&&g.jsx("button",{type:"button",onClick:()=>{u(v=>({...v,budgetCategories:VP.map(x=>({...x,min:0,max:0}))})),o(4)},className:"px-4 py-2 text-sm font-medium text-text-muted hover:text-text-secondary hover:bg-bg-hover rounded-[var(--radius-md)] transition-colors",children:"Skip"}),i<JD?g.jsxs("button",{type:"button",onClick:()=>o(v=>v+1),disabled:!h,className:"flex items-center gap-1.5 px-5 py-2 text-sm font-medium bg-accent hover:bg-accent-hover text-text-inverse rounded-[var(--radius-md)] disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200",children:["Next",g.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("polyline",{points:"9 18 15 12 9 6"})})]}):g.jsxs("button",{type:"button",onClick:p,className:"flex items-center gap-2 px-6 py-2.5 text-sm font-semibold bg-accent hover:bg-accent-hover text-text-inverse rounded-[var(--radius-md)] transition-all duration-200 active:scale-[0.98]",children:[g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),g.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Create Trip"]})]})]})]})}function _q({message:t,type:e="success",visible:n}){if(!t)return null;const r={success:"bg-success/10 text-success border-success/20",error:"bg-danger/10 text-danger border-danger/20",info:"bg-info/10 text-info border-info/20",warning:"bg-warning/10 text-warning border-warning/20"};return g.jsx("div",{className:`
      fixed bottom-6 left-1/2 -translate-x-1/2 z-[60]
      px-5 py-3 rounded-[var(--radius-lg)] border
      font-medium text-sm
      ${r[e]||r.success}
      ${n?"animate-toast-in":"animate-toast-out pointer-events-none"}
    `,children:t})}const wq="https://wanderplan-ai.valentin-bonite.workers.dev/ai";function Eq(t){var I,R,k,D,O,j,A;if(!t)return`You are Wanda, a friendly AI travel assistant built into Wanderplan, a trip planning app.
Help users plan trips, suggest activities, recommend restaurants, give packing advice, and optimize itineraries.
Be concise, warm, and practical. Use emojis sparingly. The user hasn't selected a trip yet, so give general travel advice.`;const e=((I=t.cities)==null?void 0:I.map(P=>`${P.flag} ${P.city}, ${P.country}`).join("  "))||"Not specified",n=t.travelers||1,r=t.startDate||"TBD",i=t.endDate||"TBD",o=((R=t.itinerary)==null?void 0:R.length)||0;(k=t.itinerary)!=null&&k.reduce((P,N)=>{var B;return P+(((B=N.activities)==null?void 0:B.length)||0)},0);const s=(D=t.budget)!=null&&D.length?t.budget.map(P=>`${P.emoji||""} ${P.name}: ${P.max} budget (${P.actual||0} spent)`).join(", "):"No budget set",u=((O=t.budget)==null?void 0:O.reduce((P,N)=>P+(N.max||0),0))||0,c=((j=t.budget)==null?void 0:j.reduce((P,N)=>P+(N.actual||0),0))||0,f=t.bookings||[],h=f.filter(P=>P.status==="booked").length,p=f.filter(P=>P.status!=="booked").length,v=t.todos||[],x=v.filter(P=>P.done).length,S=t.packingList||[],T=S.filter(P=>P.packed).length,_=((A=t.itinerary)==null?void 0:A.slice(0,5).map(P=>{var N;return`Day ${P.dayNumber} (${P.location||"location TBD"}): ${((N=P.activities)==null?void 0:N.map(B=>B.name).join(", "))||"no activities yet"}`}).join(`
`))||"No itinerary yet";return`You are Wanda, a friendly AI travel assistant built into Wanderplan.
You are helping plan this specific trip:

 TRIP: "${t.name||"Unnamed Trip"}" ${t.emoji||""}
 Route: ${e}
 Dates: ${r}  ${i} (${o} days planned)
 Travelers: ${n}

 BUDGET:
${s}
Total: ${u} budget, ${c} spent, ${u-c} remaining

 BOOKINGS: ${h} confirmed, ${p} pending
 TODOS: ${x}/${v.length} done
 PACKING: ${T}/${S.length} packed

 ITINERARY PREVIEW:
${_}

Your role:
- Give specific, actionable advice tailored to THIS trip's cities, budget, and timeline
- Be concise  2-4 sentences per response unless the user asks for a detailed list
- Use emojis sparingly (1-2 per response max)
- When suggesting activities, consider the budget remaining (${u-c})
- If the user asks to "optimize" or "improve" something, give concrete suggestions
- Be warm and conversational, like a knowledgeable travel-savvy friend`}async function Tq(t,e,n){var c,f,h,p,v,x;const i={contents:[...e.map(S=>({role:S.role,parts:[{text:S.text}]})),{role:"user",parts:[{text:n}]}],systemInstruction:{parts:[{text:t}]},generationConfig:{temperature:.8,maxOutputTokens:512}},o=await fetch(wq,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok){const S=await o.json().catch(()=>({}));throw new Error(((c=S==null?void 0:S.error)==null?void 0:c.message)||`Gemini API error ${o.status}`)}const u=(x=(v=(p=(h=(f=(await o.json()).candidates)==null?void 0:f[0])==null?void 0:h.content)==null?void 0:p.parts)==null?void 0:v[0])==null?void 0:x.text;if(!u)throw new Error("No response from Gemini");return u}const BP=[{label:" Optimize itinerary",text:"Can you review my itinerary and suggest any improvements or optimizations?"},{label:" Restaurant tips",text:"What are the best restaurants or food experiences I should try on this trip?"},{label:" Packing advice",text:"Based on my destinations and dates, what should I make sure to pack?"},{label:" Budget check",text:"How is my budget looking? Any tips to save money or where to splurge?"},{label:" Hidden gems",text:"What are some lesser-known hidden gems or local tips for my destinations?"},{label:" Day plan",text:"Can you suggest a perfect day itinerary for one of my destinations?"}];function Sq({msg:t}){const e=t.role==="user";return g.jsxs("div",{className:`flex ${e?"justify-end":"justify-start"} mb-3`,children:[!e&&g.jsx("div",{className:"w-7 h-7 rounded-full bg-accent/10 border border-accent/20 flex items-center justify-center text-sm flex-shrink-0 mr-2 mt-0.5",children:""}),g.jsx("div",{className:`
          max-w-[85%] px-3.5 py-2.5 rounded-2xl text-sm leading-relaxed
          ${e?"bg-accent text-text-inverse rounded-tr-sm":"bg-bg-secondary border border-border text-text-primary rounded-tl-sm"}
        `,children:t.text})]})}function Aq(){return g.jsxs("div",{className:"flex justify-start mb-3",children:[g.jsx("div",{className:"w-7 h-7 rounded-full bg-accent/10 border border-accent/20 flex items-center justify-center text-sm flex-shrink-0 mr-2 mt-0.5",children:""}),g.jsxs("div",{className:"bg-bg-secondary border border-border px-4 py-3 rounded-2xl rounded-tl-sm flex items-center gap-1.5",children:[g.jsx("span",{className:"w-1.5 h-1.5 bg-text-muted rounded-full animate-bounce",style:{animationDelay:"0ms"}}),g.jsx("span",{className:"w-1.5 h-1.5 bg-text-muted rounded-full animate-bounce",style:{animationDelay:"150ms"}}),g.jsx("span",{className:"w-1.5 h-1.5 bg-text-muted rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})}function Pq(){const{activeTrip:t}=Gt(),[e,n]=q.useState(!1),[r,i]=q.useState([]),[o,s]=q.useState(""),[u,c]=q.useState(!1),[f,h]=q.useState(null),[p,v]=q.useState(!0),[x,S]=q.useState(!1),T=q.useRef(null),_=q.useRef(null);q.useEffect(()=>{const A=setTimeout(()=>S(!0),200);return()=>clearTimeout(A)},[]),q.useEffect(()=>{var A;(A=T.current)==null||A.scrollIntoView({behavior:"smooth"})},[r,u]),q.useEffect(()=>{e&&setTimeout(()=>{var A;return(A=_.current)==null?void 0:A.focus()},150)},[e]);const I=Eq(t);async function R(A){const P=(A||o).trim();if(!P||u)return;s(""),h(null),v(!1);const N={role:"user",text:P},B=[...r,N];i(B),c(!0);try{const V=await Tq(I,r,P);i($=>[...$,{role:"model",text:V}])}catch(L){h(L.message||"Something went wrong. Try again."),i(V=>V.slice(0,-1))}finally{c(!1)}}function k(A){R(A.text)}function D(A){A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),R())}function O(){i([]),h(null),v(!0)}const j=r.length>0;return g.jsxs(g.Fragment,{children:[x&&g.jsxs("button",{onClick:()=>n(A=>!A),className:`
            fixed bottom-6 right-6 z-40
            flex items-center gap-2 px-4 py-2.5
            rounded-full shadow-lg border border-border
            text-sm font-semibold
            transition-all duration-200 active:scale-95
            animate-bounce-in
            ${e?"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary":"bg-accent hover:bg-accent-hover text-text-inverse"}
          `,title:e?"Close Wanda":"Ask Wanda AI","aria-label":e?"Close AI assistant":"Open AI assistant",children:[g.jsx("span",{className:"text-base leading-none",children:e?"":""}),g.jsx("span",{children:e?"Close":"Ask Wanda"})]}),g.jsxs("div",{className:`
          fixed bottom-20 right-6 z-40
          w-[min(380px,calc(100vw-3rem))]
          bg-bg-primary border border-border rounded-[var(--radius-lg)]
          shadow-2xl flex flex-col
          transition-all duration-300 ease-out
          ${e?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 translate-y-4 pointer-events-none"}
        `,style:{maxHeight:"min(560px, calc(100dvh - 8rem))"},children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border flex-shrink-0",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-lg",children:""}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-text-primary leading-tight",children:"Wanda"}),g.jsx("p",{className:"text-[10px] text-text-muted leading-tight",children:t?`Knows your ${t.name} trip`:"AI travel assistant"})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[j&&g.jsx("button",{onClick:O,className:"text-xs text-text-muted hover:text-text-secondary transition-colors px-2 py-1 rounded hover:bg-bg-secondary",title:"Clear chat",children:"Clear"}),g.jsx("div",{className:"w-2 h-2 rounded-full bg-success animate-pulse",title:"Connected"})]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 min-h-0",children:[!j&&p&&g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-text-muted text-center mb-4 leading-relaxed",children:t?`I know your ${t.emoji||""} ${t.name} trip. Ask me anything!`:"Your AI travel companion. Ask me anything about travel planning!"}),g.jsx("div",{className:"flex flex-wrap gap-1.5",children:BP.map(A=>g.jsx("button",{onClick:()=>k(A),className:`text-xs px-2.5 py-1.5 rounded-full border border-border bg-bg-secondary
                               hover:bg-bg-tertiary hover:border-accent/40 text-text-secondary
                               transition-all duration-150 active:scale-95`,children:A.label},A.label))})]}),r.map((A,P)=>g.jsx(Sq,{msg:A},P)),u&&g.jsx(Aq,{}),f&&g.jsx("div",{className:"text-xs text-center text-red-400 bg-red-400/10 border border-red-400/20 rounded-lg px-3 py-2 mb-2",children:f}),g.jsx("div",{ref:T})]}),j&&!u&&g.jsx("div",{className:"px-4 pb-2 flex gap-1.5 overflow-x-auto flex-shrink-0 scrollbar-none",children:BP.slice(0,3).map(A=>g.jsx("button",{onClick:()=>k(A),className:`text-[11px] px-2.5 py-1 rounded-full border border-border bg-bg-secondary
                           hover:bg-bg-tertiary text-text-muted whitespace-nowrap
                           transition-all duration-150 active:scale-95 flex-shrink-0`,children:A.label},A.label))}),g.jsxs("div",{className:"px-3 pb-3 pt-1 flex-shrink-0 border-t border-border mt-auto",children:[g.jsxs("div",{className:"flex items-end gap-2 mt-2",children:[g.jsx("textarea",{ref:_,value:o,onChange:A=>s(A.target.value),onKeyDown:D,placeholder:"Ask about your trip",rows:1,className:`
                flex-1 resize-none rounded-[var(--radius-md)] border border-border
                bg-bg-secondary text-text-primary placeholder:text-text-muted
                px-3 py-2 text-sm leading-relaxed
                focus:outline-none focus:border-accent/50 focus:ring-1 focus:ring-accent/20
                transition-all duration-150
                scrollbar-none overflow-hidden
              `,style:{minHeight:"38px",maxHeight:"120px"},onInput:A=>{A.target.style.height="auto",A.target.style.height=Math.min(A.target.scrollHeight,120)+"px"},disabled:u}),g.jsx("button",{onClick:()=>R(),disabled:!o.trim()||u,className:`
                w-9 h-9 flex-shrink-0 rounded-[var(--radius-md)]
                bg-accent hover:bg-accent-hover text-text-inverse
                flex items-center justify-center
                disabled:opacity-40 disabled:cursor-not-allowed
                transition-all duration-150 active:scale-95
              `,"aria-label":"Send message",children:g.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),g.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})})]}),g.jsx("p",{className:"text-[10px] text-text-muted text-center mt-1.5 opacity-60",children:"Powered by Gemini 2.0 Flash  Enter to send"})]})]}),e&&g.jsx("div",{className:"fixed inset-0 z-30 md:hidden",onClick:()=>n(!1)})]})}function Ot({children:t,className:e="",hover:n=!1,onClick:r,padding:i="p-5"}){return g.jsx("div",{onClick:r,className:`
        bg-[var(--color-bg-card)] border border-border rounded-[14px]
        ${n?"hover:border-border-strong cursor-pointer":""}
        transition-colors duration-200
        ${i}
        ${e}
      `,children:t})}function Cl({value:t=0,max:e=100,className:n="",colorClass:r="bg-accent",height:i="h-2",showLabel:o=!1,label:s=""}){const u=e>0?Math.min(100,Math.round(t/e*100)):0;return g.jsxs("div",{className:n,children:[(o||s)&&g.jsxs("div",{className:"flex justify-between items-center mb-1.5 text-sm",children:[g.jsx("span",{className:"text-text-secondary",children:s}),g.jsxs("span",{className:"text-text-muted font-medium",children:[t,"/",e]})]}),g.jsx("div",{className:`w-full bg-border rounded-full overflow-hidden ${i}`,children:g.jsx("div",{className:`${i} ${r} rounded-full transition-all duration-700 ease-out`,style:{width:`${u}%`}})})]})}function Iq(t=""){let e=0;for(let n=0;n<t.length;n++)e=e*31+t.charCodeAt(n)&4294967295;return Math.abs(e)%360}function Cq(t=[],e=!1){if(!t.length)return e?"linear-gradient(135deg, #2a2017 0%, #1a1510 100%)":"linear-gradient(135deg, #f5ede0 0%, #ead5c0 100%)";const n=t.map(s=>Iq(s.city+s.country)),r=n[0],i=n[Math.floor(n.length/2)]??(r+40)%360,o=n[n.length-1]??(r+80)%360;return e?`linear-gradient(135deg,
      hsl(${r},35%,14%) 0%,
      hsl(${i},30%,12%) 50%,
      hsl(${o},25%,10%) 100%)`:`linear-gradient(135deg,
    hsl(${r},55%,88%) 0%,
    hsl(${i},50%,84%) 50%,
    hsl(${o},45%,80%) 100%)`}function Oq(t){return t===0?{emoji:"",label:"Clear sky"}:t<=2?{emoji:"",label:"Partly cloudy"}:t===3?{emoji:"",label:"Overcast"}:t<=49?{emoji:"",label:"Foggy"}:t<=59?{emoji:"",label:"Drizzle"}:t<=69?{emoji:"",label:"Rain"}:t<=79?{emoji:"",label:"Snow"}:t<=84?{emoji:"",label:"Showers"}:t<=99?{emoji:"",label:"Thunderstorm"}:{emoji:"",label:"Unknown"}}function kq({destinations:t}){const[e,n]=q.useState(null),[r,i]=q.useState("loading"),o=t==null?void 0:t[0];if(q.useEffect(()=>{if(!o){i("error");return}let c=!1;i("loading"),n(null);async function f(){var h;try{const v=await(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(o.city)}&count=1&language=en&format=json`)).json();if(!((h=v.results)!=null&&h.length))throw new Error("City not found");const{latitude:x,longitude:S}=v.results[0],I=(await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${x}&longitude=${S}&current=temperature_2m,apparent_temperature,relative_humidity_2m,weathercode&temperature_unit=celsius&timezone=auto`)).json()).current;c||(n({temp:Math.round(I.temperature_2m),feelsLike:Math.round(I.apparent_temperature),humidity:I.relative_humidity_2m,wmo:I.weathercode,city:o.city,flag:o.flag}),i("ok"))}catch{c||i("error")}}return f(),()=>{c=!0}},[o==null?void 0:o.city]),r==="error"||!o)return null;if(r==="loading")return g.jsxs("div",{className:"flex items-center gap-3 animate-pulse",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-bg-hover shrink-0"}),g.jsxs("div",{className:"space-y-2 flex-1",children:[g.jsx("div",{className:"h-3 bg-bg-hover rounded w-24"}),g.jsx("div",{className:"h-2 bg-bg-hover rounded w-16"})]})]});const{emoji:s,label:u}=Oq(e.wmo);return g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"text-4xl leading-none shrink-0",children:s}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-baseline gap-1.5",children:[g.jsxs("span",{className:"text-2xl font-heading font-bold text-text-primary",children:[e.temp,"C"]}),g.jsxs("span",{className:"text-sm text-text-muted",children:["feels ",e.feelsLike,""]})]}),g.jsxs("div",{className:"text-xs text-text-muted mt-0.5",children:[u,"  ",e.humidity,"% humidity  ",e.flag," ",e.city]})]})]})}function Nq({targetDate:t}){const e=M1(t);if(!t||e.expired)return null;const n=Math.floor(e.days/7),r=e.days%7;return g.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n>0&&g.jsxs("span",{className:"text-sm text-text-secondary",children:[g.jsx("strong",{className:"font-heading font-bold text-xl text-text-primary",children:n})," ",n===1?"wk":"wks"]}),(r>0||n===0)&&g.jsxs("span",{className:"text-sm text-text-secondary",children:[g.jsx("strong",{className:"font-heading font-bold text-xl text-text-primary",children:r})," ",r===1?"day":"days"]}),g.jsx("span",{className:"text-sm text-text-muted",children:"to departure "})]})}function jq({trip:t,travelerProfiles:e}){const n=document.documentElement.classList.contains("dark"),r=q.useMemo(()=>Cq(t.destinations,n),[t.destinations,n]),i=j1(t.startDate,t.endDate),o=(t.destinations||[]).filter((s,u,c)=>c.findIndex(f=>f.city===s.city&&f.country===s.country)===u);return g.jsxs("div",{className:"relative rounded-[var(--radius-xl)] overflow-hidden border border-border",style:{background:r},children:[g.jsx("div",{className:"absolute inset-0 opacity-[0.04] pointer-events-none",style:{backgroundImage:"radial-gradient(circle, currentColor 1px, transparent 1px)",backgroundSize:"20px 20px"}}),g.jsxs("div",{className:"relative z-10 px-6 pt-6 pb-5 sm:px-8 sm:pt-7 sm:pb-6",children:[g.jsxs("div",{className:"flex items-start gap-4 min-w-0",children:[g.jsx("span",{className:"text-5xl leading-none shrink-0 mt-0.5 select-none",children:t.emoji}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsx("h2",{className:"font-heading text-2xl sm:text-[28px] font-bold text-text-primary leading-tight",children:t.name}),i&&g.jsxs("p",{className:"text-sm text-text-secondary mt-1 flex items-center gap-1.5",children:[g.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 opacity-50",children:[g.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),g.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),g.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),g.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),i]})]})]}),e.length>0&&g.jsxs("div",{className:"mt-5 flex items-center gap-3",children:[g.jsx("div",{className:"flex",style:{"--overlap":"-10px"},children:e.map((s,u)=>g.jsx("div",{style:{marginLeft:u===0?0:-10,zIndex:e.length-u},className:"relative",children:g.jsx(Ul,{profile:s,size:40,ring:!0,className:"shadow-sm"})},s.id))}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-text-primary",children:e.map(s=>s.name.split(" ")[0]).join(" & ")}),g.jsxs("p",{className:"text-xs text-text-muted",children:["Shared trip  ",e.length," ",e.length===1?"traveler":"travelers"]})]})]}),g.jsxs("div",{className:"mt-5 flex flex-wrap items-end justify-between gap-3",children:[g.jsx("div",{className:"flex flex-wrap gap-1.5",children:o.map((s,u)=>g.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1
                           rounded-full text-sm font-medium text-text-primary
                           bg-white/25 border border-white/20 backdrop-blur-sm`,children:[s.flag," ",s.city]},u))}),t.startDate&&g.jsx(Nq,{targetDate:t.startDate})]})]})]})}function Rq({trip:t}){var c,f,h,p;const e=L9(t.startDate,t.endDate),n=(t.destinations||[]).filter((v,x,S)=>S.findIndex(T=>T.city===v.city)===x).length,r=((c=t.bookings)==null?void 0:c.filter(v=>v.category==="flight").length)||0,i=((f=t.bookings)==null?void 0:f.filter(v=>v.status==="booked").length)||0,o=((h=t.bookings)==null?void 0:h.length)||0,s=((p=t.bookings)==null?void 0:p.filter(v=>["experience","concert"].includes(v.category)).length)||0,u=[{icon:"",value:e,label:"Days"},{icon:"",value:n,label:"Cities"},{icon:"",value:r,label:"Flights"},{icon:"",value:s,label:"Experiences"},...o>0?[{icon:"",value:`${i}/${o}`,label:"Confirmed"}]:[]];return g.jsx(Ot,{padding:"py-4 px-5",children:g.jsx("div",{className:"flex items-center flex-wrap gap-5",children:u.map((v,x)=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-xl leading-none",children:v.icon}),g.jsxs("div",{children:[g.jsx("div",{className:"font-heading font-bold text-lg leading-none text-text-primary",children:v.value}),g.jsx("div",{className:"text-[11px] text-text-muted uppercase tracking-wide mt-0.5",children:v.label})]}),x<u.length-1&&g.jsx("div",{className:"w-px h-7 bg-border ml-2 shrink-0 hidden sm:block"})]},x))})})}const Ga="high",gc="med";function Dq(t){var h,p,v,x,S,T;const e=[],n=new Date;n.setHours(0,0,0,0),(t.todos||[]).filter(_=>_.done?!1:_.priority==="high"?!0:_.dueDate?Math.ceil((new Date(_.dueDate+"T00:00:00")-n)/864e5)<=14:!1).slice(0,3).forEach(_=>{const I=_.dueDate?Math.ceil((new Date(_.dueDate+"T00:00:00")-n)/864e5):null,R=I!==null&&I<0;e.push({id:`todo-${_.id}`,urgency:_.priority==="high"||R?Ga:gc,icon:R?"":_.priority==="high"?"":"",title:_.text,subtitle:R?`Overdue by ${Math.abs(I)} day${Math.abs(I)!==1?"s":""}`:I!==null?`Due in ${I} day${I!==1?"s":""}`:_.category,tab:"To-Do"})}),(t.bookings||[]).filter(_=>_.status==="booked"?!1:_.priority?!0:_.bookByDate?Math.ceil((new Date(_.bookByDate+"T00:00:00")-n)/864e5)<=21:!1).slice(0,3).forEach(_=>{const I=_.bookByDate?Math.ceil((new Date(_.bookByDate+"T00:00:00")-n)/864e5):null,R=I!==null&&I<0,k={flight:"",hotel:"",concert:"",experience:""}[_.category]||"";e.push({id:`booking-${_.id}`,urgency:_.priority||R?Ga:gc,icon:k,title:_.name,subtitle:_.status==="researching"?"Not yet booked":_.status==="pending"?"Pending confirmation":R?`Book-by passed ${Math.abs(I)}d ago`:I!==null?`Book by: ${Fl(_.bookByDate,"short")}`:"Unconfirmed",tab:"Bookings"})}),!(t.bookings||[]).some(_=>_.category==="flight")&&(((h=t.destinations)==null?void 0:h.length)||0)>1&&e.push({id:"missing-flights",urgency:gc,icon:"",title:"No flights added yet",subtitle:`${(((p=t.destinations)==null?void 0:p.length)||0)-1} route${(((v=t.destinations)==null?void 0:v.length)||0)>2?"s":""} to book`,tab:"Bookings"}),!(t.bookings||[]).some(_=>_.category==="hotel")&&(((x=t.destinations)==null?void 0:x.length)||0)>0&&e.push({id:"missing-hotels",urgency:gc,icon:"",title:"No accommodation added",subtitle:"Add hotels or rentals",tab:"Bookings"});const u=((S=t.packingList)==null?void 0:S.length)||0,c=((T=t.packingList)==null?void 0:T.filter(_=>_.packed).length)||0,f=$9(t.startDate);return u>0&&c===0&&f!==null&&f<=30&&e.push({id:"packing-notstarted",urgency:f<=7?Ga:gc,icon:"",title:"Packing not started",subtitle:`${u} items  ${f} day${f!==1?"s":""} to go`,tab:"Packing"}),e.sort((_,I)=>_.urgency===Ga?-1:I.urgency===Ga?1:0).slice(0,5)}function Mq({trip:t,onTabSwitch:e}){const n=q.useMemo(()=>Dq(t),[t]),r=n.filter(i=>i.urgency===Ga).length;return n.length===0?g.jsx(Ot,{children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"text-2xl",children:""}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-text-primary text-sm",children:"Nothing urgent right now"}),g.jsx("p",{className:"text-xs text-text-muted mt-0.5",children:"All key items are on track!"})]})]})}):g.jsxs(Ot,{padding:"p-0",className:"overflow-hidden",children:[g.jsxs("div",{className:"px-5 pt-4 pb-3 border-b border-border flex items-center gap-2",children:[g.jsx("span",{className:"text-base",children:""}),g.jsx("h3",{className:"font-heading font-semibold text-text-primary text-sm uppercase tracking-wider",children:"Needs Attention"}),g.jsx("span",{className:`ml-auto text-xs font-semibold px-2 py-0.5 rounded-full
          ${r>0?"bg-danger/10 text-danger":"bg-warning/10 text-warning"}`,children:r>0?`${r} urgent`:`${n.length} items`})]}),g.jsx("div",{className:"divide-y divide-border",children:n.map(i=>g.jsxs("button",{type:"button",onClick:()=>e==null?void 0:e(i.tab),className:`w-full flex items-center gap-3 px-5 py-3.5 text-left
                       hover:bg-bg-hover transition-colors duration-150 group`,children:[g.jsx("div",{className:`w-1 h-8 rounded-full shrink-0
              ${i.urgency===Ga?"bg-danger":"bg-warning"}`}),g.jsx("span",{className:"text-xl shrink-0 leading-none",children:i.icon}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-sm font-medium text-text-primary truncate",children:i.title}),g.jsx("p",{className:"text-xs text-text-muted mt-0.5",children:i.subtitle})]}),g.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-text-muted shrink-0 opacity-0 group-hover:opacity-60 transition-opacity",children:g.jsx("polyline",{points:"9 18 15 12 9 6"})})]},i.id))})]})}function Lq(t,e){return!t||!e?{icon:"",label:"Flight"}:t.country!==e.country?{icon:"",label:"Flight"}:{icon:"",label:"Ground"}}function $q({trip:t}){const e=t.destinations||[];if(e.length<2)return null;const n=q.useMemo(()=>{const r={};return(t.itinerary||[]).forEach(i=>{const o=(i.location||"").toLowerCase();e.forEach(s=>{!r[s.city]&&o.includes(s.city.toLowerCase())&&(r[s.city]=i.date)})}),r},[t.itinerary,e]);return g.jsxs(Ot,{padding:"p-0",className:"overflow-hidden",children:[g.jsxs("div",{className:"px-5 pt-4 pb-3 border-b border-border flex items-center gap-2",children:[g.jsx("span",{className:"text-base",children:""}),g.jsx("h3",{className:"font-heading font-semibold text-text-primary text-sm uppercase tracking-wider",children:"Route"})]}),g.jsx("div",{className:"px-5 py-5 overflow-x-auto scrollbar-hide",children:g.jsx("div",{className:"flex items-start min-w-max",children:e.map((r,i)=>{const o=i===e.length-1,s=i===0,u=o?null:Lq(r,e[i+1]),c=n[r.city];return g.jsxs("div",{className:"flex items-start",children:[g.jsxs("div",{className:"flex flex-col items-center text-center w-[72px]",children:[g.jsx("div",{className:"text-[10px] text-text-muted font-medium mb-2 h-3.5 leading-none",children:c?Fl(c,"short"):""}),g.jsx("div",{className:`
                    w-10 h-10 rounded-full flex items-center justify-center text-lg
                    border-2 shadow-sm
                    ${s?"border-accent bg-accent/10":o?"border-success bg-success/10":"border-border-strong bg-bg-secondary"}
                  `,children:r.flag}),g.jsx("p",{className:"text-xs font-semibold text-text-primary mt-2 leading-tight",children:r.city}),g.jsx("p",{className:"text-[10px] text-text-muted leading-tight",children:r.country})]}),!o&&g.jsxs("div",{className:"flex flex-col items-center pt-3.5 mx-1 w-14",children:[g.jsx("div",{className:"text-sm leading-none mb-2",children:u.icon}),g.jsx("div",{className:"w-full h-0.5 border-t-2 border-dashed border-border-strong"}),g.jsx("div",{className:"text-[9px] text-text-muted mt-1 font-medium uppercase tracking-wide",children:u.label})]})]},i)})})})]})}function Vq({trip:t}){const e=Cm(t),n=K9(t),r=e===0,i=e===100?"You're 100% ready. Go enjoy the world. ":e>=75?"Almost there! Just a few more things.":e>=50?"Making good progress. Keep it up!":e>0?"Let's get this trip planned! ":"Add bookings, to-dos, and packing items.",o=n.bookings.total+n.todos.total+n.packing.total>0?`${n.bookings.total} bookings  ${n.todos.total} to-dos  ${n.packing.total} packing items`:"Add items to track readiness";return g.jsx(Ot,{children:g.jsxs("div",{className:"flex items-center gap-5",children:[g.jsx(R1,{value:e,size:88,strokeWidth:7,pulse:r,tooltip:o}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h3",{className:"font-heading text-base text-text-primary mb-0.5",children:"Trip Readiness"}),g.jsx("p",{className:"text-xs text-text-muted mb-3",children:i}),g.jsxs("div",{className:"space-y-1.5",children:[g.jsx(Cl,{value:n.bookings.done,max:n.bookings.total,label:"Bookings",showLabel:!0,colorClass:"bg-info",height:"h-1.5"}),g.jsx(Cl,{value:n.todos.done,max:n.todos.total,label:"To-Dos",showLabel:!0,colorClass:"bg-accent",height:"h-1.5"}),g.jsx(Cl,{value:n.packing.done,max:n.packing.total,label:"Packing",showLabel:!0,colorClass:"bg-success",height:"h-1.5"})]})]})]})})}function Bq({trip:t}){var o,s,u;const e=((o=t.budget)==null?void 0:o.reduce((c,f)=>c+(f.min||0),0))||0,n=((s=t.budget)==null?void 0:s.reduce((c,f)=>c+(f.max||0),0))||0,r=((u=t.budget)==null?void 0:u.reduce((c,f)=>c+(f.actual||0),0))||0;if(n===0)return null;const i=r>n;return g.jsxs(Ot,{children:[g.jsx("h3",{className:"font-heading text-sm text-text-muted uppercase tracking-wider mb-3",children:" Budget"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-text-secondary",children:"Estimated"}),g.jsxs("span",{className:"text-text-primary font-medium",children:[sr(e,t.currency),"  ",sr(n,t.currency)]})]}),r>0&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-text-secondary",children:"Spent so far"}),g.jsxs("span",{className:`font-semibold ${i?"text-danger":"text-success"}`,children:[sr(r,t.currency),i&&" "]})]}),g.jsx(Cl,{value:r,max:n,colorClass:i?"bg-danger":"bg-accent",height:"h-2"})]})]})]})}const Fq=[{emoji:"",title:"Add a Booking",description:"Log flights, hotels, or activities.",tab:"Bookings",accentClass:"bg-info/10 border-info/20 text-info"},{emoji:"",title:"Create a To-Do",description:"Track tasks like visas and vaccines.",tab:"To-Do",accentClass:"bg-accent/10 border-accent/20 text-accent"},{emoji:"",title:"Start Packing",description:"Build your packing checklist.",tab:"Packing",accentClass:"bg-success/10 border-success/20 text-success"}];function Uq({onTabSwitch:t}){return g.jsxs("div",{children:[g.jsx("h3",{className:"font-heading text-sm text-text-muted uppercase tracking-wider mb-3",children:"Quick Start  get your trip ready"}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:Fq.map(e=>g.jsxs("button",{type:"button",onClick:()=>t==null?void 0:t(e.tab),className:`group text-left p-4 rounded-[var(--radius-lg)] border
              ${e.accentClass} hover:scale-[1.02] active:scale-[0.99] transition-all duration-150`,children:[g.jsx("div",{className:"text-2xl mb-2",children:e.emoji}),g.jsx("div",{className:"font-semibold text-sm text-text-primary mb-0.5",children:e.title}),g.jsx("div",{className:"text-xs text-text-muted",children:e.description})]},e.tab))})]})}function FP({onTabSwitch:t}){var u;const{activeTrip:e}=Gt(),{profiles:n}=ca();if(!e)return null;const r=e,o=Cm(r)===0,s=(r.travelerIds||[]).map(c=>n.find(f=>f.id===c)).filter(Boolean);return g.jsxs("div",{className:"space-y-5 animate-fade-in",children:[g.jsx(jq,{trip:r,travelerProfiles:s}),g.jsx(Rq,{trip:r}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-5",children:[g.jsx(Mq,{trip:r,onTabSwitch:t}),g.jsxs("div",{className:"space-y-5",children:[g.jsx($q,{trip:r}),(((u=r.destinations)==null?void 0:u.length)||0)>0&&g.jsxs(Ot,{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g.jsx("span",{children:""}),g.jsx("h3",{className:"font-heading text-sm text-text-muted uppercase tracking-wider",children:"Current Weather"})]}),g.jsx(kq,{destinations:r.destinations}),g.jsx("p",{className:"text-[10px] text-text-muted mt-3 opacity-50",children:"Live at first destination  Open-Meteo"})]})]})]}),o&&g.jsx(Uq,{onTabSwitch:t}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-5",children:[g.jsx(Vq,{trip:r}),g.jsx(Bq,{trip:r})]})]})}function zn({value:t,onSave:e,tag:n="span",className:r="",inputClassName:i="",placeholder:o="Click to edit...",multiline:s=!1}){const[u,c]=q.useState(!1),[f,h]=q.useState(t),p=q.useRef(null);q.useEffect(()=>{var S,T;u&&p.current&&(p.current.focus(),(T=(S=p.current).select)==null||T.call(S))},[u]),q.useEffect(()=>{h(t)},[t]);const v=()=>{c(!1);const S=(f==null?void 0:f.trim())??"";S!==t&&e(S)},x=S=>{S.key==="Enter"&&!s&&(S.preventDefault(),v()),S.key==="Escape"&&(h(t),c(!1))};if(u){const S=s?"textarea":"input";return g.jsx(S,{ref:p,value:f,onChange:T=>h(T.target.value),onBlur:v,onKeyDown:x,placeholder:o,className:`
          bg-bg-input border border-accent/30 rounded-[var(--radius-sm)]
          px-2 py-1 outline-none focus:border-accent focus:ring-1 focus:ring-accent/20
          text-text-primary font-body
          ${s?"min-h-[80px] resize-y w-full":""}
          ${i}
        `,rows:s?3:void 0})}return g.jsx(n,{onClick:()=>{h(t),c(!0)},className:`
        cursor-pointer border-b border-transparent
        hover:border-accent/30 transition-colors duration-150
        ${t?"":"text-text-muted italic"}
        ${r}
      `,title:"Click to edit",children:t||o})}function qq(t){const[e,n]=t.split(":").map(Number);return`${e%12||12}:${String(n).padStart(2,"0")} ${e<12?"AM":"PM"}`}function zq(t){return{"":"border-l-info","":"border-l-info","":"border-l-info","":"border-l-success","":"border-l-success","":"border-l-warning","":"border-l-warning","":"border-l-warning","":"border-l-warning","":"border-l-warning","":"border-l-accent","":"border-l-accent","":"border-l-accent","":"border-l-accent","":"border-l-accent","":"border-l-[var(--color-text-muted)]","":"border-l-[var(--color-text-muted)]","":"border-l-[var(--color-text-muted)]"}[t]||"border-l-border"}function Wq({fromTime:t,toTime:e}){if(!t||!e)return null;const n=u=>{const[c,f]=u.split(":").map(Number);return c*60+f},r=n(e)-n(t);if(r<90)return null;const i=Math.floor(r/60),o=r%60,s=o===0?`${i}h free`:`${i}h ${o}m free`;return g.jsxs("div",{className:"flex items-center gap-2 py-1 px-2 select-none pointer-events-none",children:[g.jsx("div",{className:"flex-1 h-px bg-border"}),g.jsxs("span",{className:"text-[10px] text-text-muted tracking-wide",children:[" ",s," "]}),g.jsx("div",{className:"flex-1 h-px bg-border"})]})}function Hq({activity:t,dayId:e,index:n,onUpdate:r,onDelete:i,onReorder:o}){const[s,u]=q.useState(!1),c=zq(t.emoji);return g.jsxs("div",{draggable:!0,onDragStart:f=>{f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("activityIndex",String(n))},onDragOver:f=>{f.preventDefault(),u(!0)},onDragLeave:()=>u(!1),onDrop:f=>{f.preventDefault(),u(!1);const h=Number(f.dataTransfer.getData("activityIndex"));h!==n&&o(h,n)},className:`flex items-start gap-2 group py-2 pl-2 rounded transition-all cursor-default
        border-l-2 ${c}
        ${s?"bg-bg-hover":""}`,children:[g.jsx("span",{className:"flex-shrink-0 cursor-grab active:cursor-grabbing opacity-0 group-hover:opacity-30 mt-1 text-text-muted select-none text-base",children:""}),g.jsx("div",{className:"flex-shrink-0 w-[4.5rem] pt-0.5 text-right relative",children:t.time?g.jsxs("label",{className:"text-xs text-text-muted font-mono tabular-nums cursor-pointer hover:text-text-secondary transition-colors select-none",children:[qq(t.time),g.jsx("input",{type:"time",value:t.time,onChange:f=>r({time:f.target.value}),className:"absolute opacity-0 w-0 h-0 pointer-events-none"})]}):g.jsxs("label",{className:"text-xs text-text-muted opacity-0 group-hover:opacity-40 cursor-pointer transition-opacity select-none",children:["time",g.jsx("input",{type:"time",value:"",onChange:f=>r({time:f.target.value}),className:"absolute opacity-0 w-0 h-0 pointer-events-none"})]})}),g.jsx("span",{className:"text-lg flex-shrink-0 mt-0.5",children:t.emoji}),g.jsx("div",{className:"flex-1 min-w-0",children:g.jsxs("div",{className:"flex items-baseline gap-1.5 flex-wrap",children:[g.jsx(zn,{value:t.name,onSave:f=>r({name:f}),className:"text-text-primary font-medium text-sm leading-snug",placeholder:"Activity name"}),(t.notes||t.notes==="")&&g.jsxs(g.Fragment,{children:[t.notes&&g.jsx("span",{className:"text-text-muted text-xs select-none",children:""}),g.jsx(zn,{value:t.notes||"",onSave:f=>r({notes:f}),className:"text-xs text-text-muted leading-relaxed",placeholder:"Add notes",multiline:!0})]})]})}),g.jsx("button",{onClick:i,className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-sm transition-opacity p-1 flex-shrink-0",children:""})]})}function Gq({onAdd:t,onCancel:e}){const[n,r]=q.useState(""),[i,o]=q.useState(""),[s,u]=q.useState(""),[c,f]=q.useState(""),[h,p]=q.useState(!1),v=x=>{x.preventDefault(),n.trim()&&(t({name:n.trim(),time:i,emoji:s,notes:c.trim()}),r(""),o(""),u(""),f(""))};return g.jsxs("form",{onSubmit:v,className:"mt-3 p-3 bg-bg-primary rounded-[var(--radius-md)] border border-border",children:[g.jsxs("div",{className:"flex gap-2 items-start",children:[g.jsx("input",{type:"time",value:i,onChange:x=>o(x.target.value),className:"w-24 px-2 py-1.5 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary"}),g.jsxs("div",{className:"relative",children:[g.jsx("button",{type:"button",onClick:()=>p(!h),className:"text-xl p-1.5 border border-border rounded-[var(--radius-sm)] hover:bg-bg-hover",children:s}),h&&g.jsx("div",{className:"absolute top-full left-0 mt-1 p-2 bg-bg-secondary border border-border rounded-[var(--radius-md)] grid grid-cols-4 gap-1 z-10",children:pq.map(x=>g.jsx("button",{type:"button",onClick:()=>{u(x.emoji),p(!1)},className:"text-lg p-1 hover:bg-bg-hover rounded",title:x.label,children:x.emoji},x.emoji))})]}),g.jsx("input",{value:n,onChange:x=>r(x.target.value),placeholder:"Activity name",className:"flex-1 px-3 py-1.5 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted"})]}),g.jsx("input",{value:c,onChange:x=>f(x.target.value),placeholder:"Notes (optional)",className:"w-full mt-2 px-3 py-1.5 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted"}),g.jsxs("div",{className:"flex gap-2 mt-2 justify-end",children:[g.jsx("button",{type:"button",onClick:e,className:"px-3 py-1 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"}),g.jsx("button",{type:"submit",className:"px-3 py-1 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"})]})]})}function Kq({day:t,dayIndex:e,isConcertDay:n,onReorderDay:r}){var R,k;const{dispatch:i}=Gt(),[o,s]=q.useState(!0),[u,c]=q.useState(!1),[f,h]=q.useState(!1),[p,v]=q.useState(t.notes||""),[x,S]=q.useState(!1),T=n?"border-concert-red/30 bg-concert-dark/5 dark:bg-concert-dark/30":"",_=t.location?`https://www.google.com/maps/search/${encodeURIComponent(t.location)}`:null,I=()=>{i({type:pe.UPDATE_DAY,payload:{dayId:t.id,updates:{notes:p}}}),h(!1)};return g.jsxs("div",{className:`relative animate-fade-in transition-all ${x?"border-t-2 border-accent":""}`,draggable:!0,onDragStart:D=>{D.dataTransfer.effectAllowed="move",D.dataTransfer.setData("dayIndex",String(e))},onDragOver:D=>{D.preventDefault(),S(!0)},onDragLeave:()=>S(!1),onDrop:D=>{D.preventDefault(),S(!1);const O=Number(D.dataTransfer.getData("dayIndex"));O!==e&&r(O,e)},children:[g.jsx("div",{className:"absolute left-5 top-0 bottom-0 w-px bg-border hidden md:block"}),g.jsx("div",{className:`absolute left-3 top-6 w-5 h-5 rounded-full border-2 hidden md:block z-10
        ${n?"border-concert-red bg-concert-red/20":"border-accent bg-accent/20"}`}),g.jsxs(Ot,{className:`md:ml-12 ${T}`,children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"hidden md:block cursor-grab active:cursor-grabbing text-text-muted opacity-30 hover:opacity-60 select-none",title:"Drag to reorder",children:""}),g.jsxs("div",{className:"flex items-center gap-3 flex-1 cursor-pointer",onClick:()=>s(!o),children:[g.jsx("span",{className:"text-2xl",children:t.emoji}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[g.jsxs("span",{className:`font-heading font-semibold ${n?"text-concert-red":"text-text-primary"}`,children:["Day ",t.dayNumber]}),g.jsx("span",{className:"text-text-muted text-sm",children:""}),g.jsx("span",{className:"text-sm text-text-secondary",children:Fl(t.date,"long")})]}),g.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[g.jsx(zn,{value:t.location,onSave:D=>i({type:pe.UPDATE_DAY,payload:{dayId:t.id,updates:{location:D}}}),className:"text-sm text-text-muted",placeholder:"Location"}),_&&g.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",onClick:D=>D.stopPropagation(),className:"text-sm hover:opacity-70 transition-opacity flex-shrink-0",title:"View on Google Maps",children:""})]})]})]}),g.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[g.jsx("span",{className:"text-xs text-text-muted",children:((R=t.activities)==null?void 0:R.length)||0}),g.jsx("button",{onClick:D=>{D.stopPropagation(),i({type:pe.REMOVE_DAY,payload:t.id})},className:"text-xs text-text-muted hover:text-danger transition-colors px-1",children:""}),g.jsx("span",{className:`text-text-muted cursor-pointer transition-transform ${o?"rotate-180":""}`,onClick:()=>s(!o),children:""})]})]}),o&&g.jsxs("div",{className:"mt-3 border-t border-border pt-3",children:[((k=t.activities)==null?void 0:k.length)>0?g.jsx("div",{className:"divide-y divide-border/50",children:t.activities.map((D,O)=>{var j;return g.jsxs("div",{children:[g.jsx(Wq,{fromTime:(j=t.activities[O-1])==null?void 0:j.time,toTime:D.time}),g.jsx(Hq,{activity:D,dayId:t.id,index:O,onUpdate:A=>i({type:pe.UPDATE_ACTIVITY,payload:{dayId:t.id,activityId:D.id,updates:A}}),onDelete:()=>i({type:pe.DELETE_ACTIVITY,payload:{dayId:t.id,activityId:D.id}}),onReorder:(A,P)=>i({type:pe.REORDER_ACTIVITIES,payload:{dayId:t.id,fromIndex:A,toIndex:P}})})]},D.id)})}):g.jsx("p",{className:"text-sm text-text-muted italic py-2",children:"No activities yet"}),g.jsx("div",{className:"mt-3 pt-2 border-t border-border/50",children:f?g.jsxs("div",{children:[g.jsx("textarea",{value:p,onChange:D=>v(D.target.value),onKeyDown:D=>{D.key==="Escape"&&(v(t.notes||""),h(!1))},placeholder:"Day notes",rows:2,autoFocus:!0,className:"w-full px-3 py-2 text-xs bg-bg-input border border-accent rounded-[var(--radius-sm)] text-text-primary resize-none focus:outline-none"}),g.jsxs("div",{className:"flex gap-2 mt-1 justify-end",children:[g.jsx("button",{onClick:()=>{v(t.notes||""),h(!1)},className:"text-xs text-text-muted",children:"Cancel"}),g.jsx("button",{onClick:I,className:"text-xs text-accent font-medium",children:"Save"})]})]}):g.jsx("button",{onClick:()=>{v(t.notes||""),h(!0)},className:"text-xs text-text-muted hover:text-text-secondary transition-colors text-left w-full",children:t.notes?g.jsxs("span",{children:[" ",g.jsx("span",{className:"italic",children:t.notes})]}):g.jsx("span",{className:"opacity-50",children:"+ Add day notes"})})}),u?g.jsx(Gq,{onAdd:D=>{i({type:pe.ADD_ACTIVITY,payload:{dayId:t.id,activity:D}}),c(!1)},onCancel:()=>c(!1)}):g.jsx("button",{onClick:()=>c(!0),className:"mt-2 text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add activity"})]})]})]})}function Yq(){var i,o,s,u;const{activeTrip:t,dispatch:e}=Gt();if(!t)return null;const n=t,r=(i=n.bookings)==null?void 0:i.find(c=>c.category==="concert");return g.jsxs("div",{className:"space-y-6 animate-fade-in",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"font-heading text-xl text-text-primary",children:[" Itinerary  ",((o=n.itinerary)==null?void 0:o.length)||0," days"]}),(((s=n.itinerary)==null?void 0:s.length)||0)>1&&g.jsx("p",{className:"text-xs text-text-muted mt-0.5",children:"Drag  to reorder days or activities"})]}),g.jsx("button",{onClick:()=>{var h;const c=(h=n.itinerary)==null?void 0:h[n.itinerary.length-1];let f="";if(c!=null&&c.date){const p=new Date(c.date+"T00:00:00");p.setDate(p.getDate()+1),f=p.toISOString().slice(0,10)}e({type:pe.ADD_DAY,payload:{date:f,location:"",emoji:""}})},className:"px-3 py-1.5 text-sm bg-accent text-white rounded-[var(--radius-md)] hover:bg-accent-hover transition-colors",children:"+ Add Day"})]}),g.jsx("div",{className:"relative space-y-5",children:(u=n.itinerary)==null?void 0:u.map((c,f)=>{var p;const h=r&&((p=c.activities)==null?void 0:p.some(v=>{var x,S;return((x=v.name)==null?void 0:x.toLowerCase().includes("mcr"))||((S=v.name)==null?void 0:S.toLowerCase().includes("concert"))||v.emoji===""||v.emoji===""}));return g.jsx(Kq,{day:c,dayIndex:f,isConcertDay:h,onReorderDay:(v,x)=>e({type:pe.REORDER_DAYS,payload:{fromIndex:v,toIndex:x}})},c.id)})}),(!n.itinerary||n.itinerary.length===0)&&g.jsxs(Ot,{className:"text-center py-12",children:[g.jsx("p",{className:"text-4xl mb-3",children:""}),g.jsx("p",{className:"text-text-muted",children:"No itinerary yet. Add your first day!"})]})]})}const ev=[{value:"not_started",label:"Not Started",colors:"bg-text-muted/10 text-text-muted border-text-muted/20"},{value:"in_progress",label:"In Progress",colors:"bg-warning/10 text-warning border-warning/20"},{value:"booked",label:"Booked ",colors:"bg-success/10 text-success border-success/20"}];function Xq({status:t,bookingId:e}){const{dispatch:n,showToast:r}=Gt(),i=ev.find(s=>s.value===t)||ev[0],o=s=>{const u=s.target.value;n({type:pe.SET_BOOKING_STATUS,payload:{id:e,status:u}}),u==="booked"&&r("Booked!  One less thing to worry about.")};return g.jsxs("div",{className:"relative inline-block",children:[g.jsx("select",{value:t,onChange:o,className:`appearance-none cursor-pointer pl-2.5 pr-6 py-1 text-xs font-medium rounded-[var(--radius-pill)]
          border transition-all hover:opacity-80 ${i.colors}`,children:ev.map(s=>g.jsx("option",{value:s.value,children:s.label},s.value))}),g.jsx("span",{className:"pointer-events-none absolute right-1.5 top-1/2 -translate-y-1/2 text-[10px] opacity-60",children:""})]})}function Qq({booking:t,currency:e}){const{dispatch:n}=Gt(),r=nf.find(i=>i.id===t.category)||nf[5];return g.jsxs(Ot,{hover:!0,className:"animate-fade-in",children:[g.jsxs("div",{className:"flex items-start justify-between gap-3",children:[g.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[g.jsx("span",{className:"text-2xl flex-shrink-0",children:r.emoji}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[g.jsx(zn,{value:t.name,onSave:i=>n({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{name:i}}}),className:"font-medium text-text-primary text-sm"}),t.priority&&g.jsx("span",{className:"text-xs",title:"Priority",children:""})]}),g.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[g.jsx("span",{className:"text-xs px-2 py-0.5 bg-bg-hover rounded-[var(--radius-pill)] text-text-muted",children:r.label}),g.jsx(Xq,{status:t.status,bookingId:t.id})]})]})]}),g.jsx("button",{onClick:()=>n({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{priority:!t.priority}}}),className:`text-lg flex-shrink-0 transition-transform hover:scale-110 ${t.priority?"":"opacity-30 hover:opacity-60"}`,title:"Toggle priority",children:""})]}),g.jsxs("div",{className:"mt-3 pt-3 border-t border-border/50 grid grid-cols-2 sm:grid-cols-3 gap-4 text-sm",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-text-muted text-xs block",children:"Confirmation #"}),g.jsx(zn,{value:t.confirmationNumber,onSave:i=>n({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{confirmationNumber:i}}}),className:"font-mono text-text-primary text-xs",placeholder:""})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-text-muted text-xs block",children:"Amount Paid"}),g.jsx(zn,{value:t.amountPaid?String(t.amountPaid):"",onSave:i=>n({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{amountPaid:Number(i)||0}}}),className:"text-text-primary text-xs",placeholder:sr(0,e)})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-text-muted text-xs block",children:"Book By"}),g.jsx(zn,{value:t.bookByDate,onSave:i=>n({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{bookByDate:i}}}),className:"text-text-primary text-xs",placeholder:""})]})]}),g.jsx("div",{className:"mt-2 text-right",children:g.jsx("button",{onClick:()=>n({type:pe.DELETE_BOOKING,payload:t.id}),className:"text-xs text-text-muted hover:text-danger transition-colors",children:"Remove"})})]})}function Jq({onAdd:t,onCancel:e}){const[n,r]=q.useState(""),[i,o]=q.useState("custom"),s=u=>{u.preventDefault(),n.trim()&&(t({name:n.trim(),category:i}),r(""),o("custom"))};return g.jsx(Ot,{children:g.jsxs("form",{onSubmit:s,className:"flex flex-wrap gap-2 items-end",children:[g.jsxs("div",{className:"flex-1 min-w-[200px]",children:[g.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Booking name"}),g.jsx("input",{value:n,onChange:u=>r(u.target.value),placeholder:"e.g., Singapore Hotel",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Category"}),g.jsx("select",{value:i,onChange:u=>o(u.target.value),className:"px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",children:nf.map(u=>g.jsxs("option",{value:u.id,children:[u.emoji," ",u.label]},u.id))})]}),g.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),g.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"})]})})}function Zq(){var x,S;const{activeTrip:t,dispatch:e,showToast:n}=Gt(),[r,i]=q.useState("all"),[o,s]=q.useState(!1);if(!t)return null;const u=t,c=((x=u.bookings)==null?void 0:x.filter(T=>T.status==="booked").length)||0,f=((S=u.bookings)==null?void 0:S.length)||0,h=q.useMemo(()=>{let T=[...u.bookings||[]];return r!=="all"&&(T=T.filter(_=>_.category===r)),T.sort((_,I)=>_.status==="booked"&&I.status!=="booked"?1:I.status==="booked"&&_.status!=="booked"||_.priority&&!I.priority?-1:I.priority&&!_.priority?1:0)},[u.bookings,r]),p=[{id:"all",label:"All"},...nf.filter(T=>{var _;return(_=u.bookings)==null?void 0:_.some(I=>I.category===T.id)}).map(T=>({id:T.id,label:T.label}))],v=()=>{var _;const T=(_=u.bookings)==null?void 0:_.map(I=>{const R=nf.find(k=>k.id===I.category);return`${(R==null?void 0:R.emoji)||""} ${I.name}  ${I.status==="booked"?" Booked":" "+I.status.replace("_"," ")}${I.confirmationNumber?` (#${I.confirmationNumber})`:""}`}).join(`
`);navigator.clipboard.writeText(` ${u.name}  Bookings

${T}`),n("Bookings copied to clipboard! ")};return g.jsxs("div",{className:"space-y-6 animate-fade-in",children:[g.jsxs(Ot,{children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("h2",{className:"font-heading text-lg text-text-primary",children:" Bookings"}),g.jsxs("span",{className:"text-sm text-text-muted",children:[c," of ",f," confirmed"]})]}),g.jsx(Cl,{value:c,max:f,colorClass:"bg-success",height:"h-2"})]}),g.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[g.jsx("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide",children:p.map(T=>g.jsx("button",{onClick:()=>i(T.id),className:`px-3 py-1.5 text-xs font-medium rounded-[var(--radius-pill)] whitespace-nowrap transition-colors
                ${r===T.id?"bg-accent text-white":"bg-bg-secondary text-text-muted hover:text-text-secondary border border-border"}`,children:T.label},T.id))}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:v,className:"px-3 py-1.5 text-xs text-text-muted hover:text-text-secondary border border-border rounded-[var(--radius-sm)] hover:bg-bg-hover transition-colors",children:" Export"}),g.jsx("button",{onClick:()=>s(!0),className:"px-3 py-1.5 text-xs bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover transition-colors",children:"+ Add Booking"})]})]}),o&&g.jsx(Jq,{onAdd:T=>{e({type:pe.ADD_BOOKING,payload:T}),s(!1)},onCancel:()=>s(!1)}),g.jsx("div",{className:"space-y-4",children:h.map(T=>g.jsx(Qq,{booking:T,currency:u.currency},T.id))}),h.length===0&&g.jsxs(Ot,{className:"text-center py-8",children:[g.jsx("p",{className:"text-3xl mb-2",children:""}),g.jsxs("p",{className:"text-text-muted text-sm",children:["No bookings ",r!=="all"?"in this category":"yet","."]})]})]})}function ZD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ZD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function at(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ZD(t))&&(r&&(r+=" "),r+=e);return r}var tv,UP;function Gn(){if(UP)return tv;UP=1;var t=Array.isArray;return tv=t,tv}var nv,qP;function eM(){if(qP)return nv;qP=1;var t=typeof gh=="object"&&gh&&gh.Object===Object&&gh;return nv=t,nv}var rv,zP;function Si(){if(zP)return rv;zP=1;var t=eM(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return rv=n,rv}var iv,WP;function Yf(){if(WP)return iv;WP=1;var t=Si(),e=t.Symbol;return iv=e,iv}var ov,HP;function e8(){if(HP)return ov;HP=1;var t=Yf(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(s){var u=n.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=r.call(s);return f&&(u?s[i]=c:delete s[i]),h}return ov=o,ov}var av,GP;function t8(){if(GP)return av;GP=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return av=n,av}var sv,KP;function fo(){if(KP)return sv;KP=1;var t=Yf(),e=e8(),n=t8(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?i:r:o&&o in Object(u)?e(u):n(u)}return sv=s,sv}var lv,YP;function ho(){if(YP)return lv;YP=1;function t(e){return e!=null&&typeof e=="object"}return lv=t,lv}var uv,XP;function yu(){if(XP)return uv;XP=1;var t=fo(),e=ho(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return uv=r,uv}var cv,QP;function V1(){if(QP)return cv;QP=1;var t=Gn(),e=yu(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(t(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return cv=i,cv}var fv,JP;function fa(){if(JP)return fv;JP=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return fv=t,fv}var dv,ZP;function B1(){if(ZP)return dv;ZP=1;var t=fo(),e=fa(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(u){if(!e(u))return!1;var c=t(u);return c==r||c==i||c==n||c==o}return dv=s,dv}var hv,eI;function n8(){if(eI)return hv;eI=1;var t=Si(),e=t["__core-js_shared__"];return hv=e,hv}var pv,tI;function r8(){if(tI)return pv;tI=1;var t=n8(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return pv=n,pv}var mv,nI;function tM(){if(nI)return mv;nI=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return mv=n,mv}var gv,rI;function i8(){if(rI)return gv;rI=1;var t=B1(),e=r8(),n=fa(),r=tM(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(v){if(!n(v)||e(v))return!1;var x=t(v)?h:o;return x.test(r(v))}return gv=p,gv}var yv,iI;function o8(){if(iI)return yv;iI=1;function t(e,n){return e==null?void 0:e[n]}return yv=t,yv}var vv,oI;function ws(){if(oI)return vv;oI=1;var t=i8(),e=o8();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return vv=n,vv}var xv,aI;function Om(){if(aI)return xv;aI=1;var t=ws(),e=t(Object,"create");return xv=e,xv}var bv,sI;function a8(){if(sI)return bv;sI=1;var t=Om();function e(){this.__data__=t?t(null):{},this.size=0}return bv=e,bv}var _v,lI;function s8(){if(lI)return _v;lI=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return _v=t,_v}var wv,uI;function l8(){if(uI)return wv;uI=1;var t=Om(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(t){var u=s[o];return u===e?void 0:u}return r.call(s,o)?s[o]:void 0}return wv=i,wv}var Ev,cI;function u8(){if(cI)return Ev;cI=1;var t=Om(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return Ev=r,Ev}var Tv,fI;function c8(){if(fI)return Tv;fI=1;var t=Om(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return Tv=n,Tv}var Sv,dI;function f8(){if(dI)return Sv;dI=1;var t=a8(),e=s8(),n=l8(),r=u8(),i=c8();function o(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Sv=o,Sv}var Av,hI;function d8(){if(hI)return Av;hI=1;function t(){this.__data__=[],this.size=0}return Av=t,Av}var Pv,pI;function F1(){if(pI)return Pv;pI=1;function t(e,n){return e===n||e!==e&&n!==n}return Pv=t,Pv}var Iv,mI;function km(){if(mI)return Iv;mI=1;var t=F1();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Iv=e,Iv}var Cv,gI;function h8(){if(gI)return Cv;gI=1;var t=km(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var u=o.length-1;return s==u?o.pop():n.call(o,s,1),--this.size,!0}return Cv=r,Cv}var Ov,yI;function p8(){if(yI)return Ov;yI=1;var t=km();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Ov=e,Ov}var kv,vI;function m8(){if(vI)return kv;vI=1;var t=km();function e(n){return t(this.__data__,n)>-1}return kv=e,kv}var Nv,xI;function g8(){if(xI)return Nv;xI=1;var t=km();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return Nv=e,Nv}var jv,bI;function Nm(){if(bI)return jv;bI=1;var t=d8(),e=h8(),n=p8(),r=m8(),i=g8();function o(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,jv=o,jv}var Rv,_I;function U1(){if(_I)return Rv;_I=1;var t=ws(),e=Si(),n=t(e,"Map");return Rv=n,Rv}var Dv,wI;function y8(){if(wI)return Dv;wI=1;var t=f8(),e=Nm(),n=U1();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Dv=r,Dv}var Mv,EI;function v8(){if(EI)return Mv;EI=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Mv=t,Mv}var Lv,TI;function jm(){if(TI)return Lv;TI=1;var t=v8();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Lv=e,Lv}var $v,SI;function x8(){if(SI)return $v;SI=1;var t=jm();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return $v=e,$v}var Vv,AI;function b8(){if(AI)return Vv;AI=1;var t=jm();function e(n){return t(this,n).get(n)}return Vv=e,Vv}var Bv,PI;function _8(){if(PI)return Bv;PI=1;var t=jm();function e(n){return t(this,n).has(n)}return Bv=e,Bv}var Fv,II;function w8(){if(II)return Fv;II=1;var t=jm();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Fv=e,Fv}var Uv,CI;function q1(){if(CI)return Uv;CI=1;var t=y8(),e=x8(),n=b8(),r=_8(),i=w8();function o(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Uv=o,Uv}var qv,OI;function nM(){if(OI)return qv;OI=1;var t=q1(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,u=i?i.apply(this,s):s[0],c=o.cache;if(c.has(u))return c.get(u);var f=r.apply(this,s);return o.cache=c.set(u,f)||c,f};return o.cache=new(n.Cache||t),o}return n.Cache=t,qv=n,qv}var zv,kI;function E8(){if(kI)return zv;kI=1;var t=nM(),e=500;function n(r){var i=t(r,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return zv=n,zv}var Wv,NI;function T8(){if(NI)return Wv;NI=1;var t=E8(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,u,c,f){o.push(c?f.replace(n,"$1"):u||s)}),o});return Wv=r,Wv}var Hv,jI;function z1(){if(jI)return Hv;jI=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return Hv=t,Hv}var Gv,RI;function S8(){if(RI)return Gv;RI=1;var t=Yf(),e=z1(),n=Gn(),r=yu(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(u){if(typeof u=="string")return u;if(n(u))return e(u,s)+"";if(r(u))return o?o.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return Gv=s,Gv}var Kv,DI;function rM(){if(DI)return Kv;DI=1;var t=S8();function e(n){return n==null?"":t(n)}return Kv=e,Kv}var Yv,MI;function iM(){if(MI)return Yv;MI=1;var t=Gn(),e=V1(),n=T8(),r=rM();function i(o,s){return t(o)?o:e(o,s)?[o]:n(r(o))}return Yv=i,Yv}var Xv,LI;function Rm(){if(LI)return Xv;LI=1;var t=yu();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Xv=e,Xv}var Qv,$I;function W1(){if($I)return Qv;$I=1;var t=iM(),e=Rm();function n(r,i){i=t(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[e(i[o++])];return o&&o==s?r:void 0}return Qv=n,Qv}var Jv,VI;function oM(){if(VI)return Jv;VI=1;var t=W1();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return Jv=e,Jv}var A8=oM();const wr=ht(A8);var Zv,BI;function P8(){if(BI)return Zv;BI=1;function t(e){return e==null}return Zv=t,Zv}var I8=P8();const st=ht(I8);var ex,FI;function C8(){if(FI)return ex;FI=1;var t=fo(),e=Gn(),n=ho(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return ex=i,ex}var O8=C8();const hs=ht(O8);var k8=B1();const Ge=ht(k8);var N8=fa();const vu=ht(N8);var tx={exports:{}},lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UI;function j8(){if(UI)return lt;UI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function T(_){if(typeof _=="object"&&_!==null){var I=_.$$typeof;switch(I){case t:switch(_=_.type,_){case n:case i:case r:case f:case h:return _;default:switch(_=_&&_.$$typeof,_){case u:case s:case c:case v:case p:case o:return _;default:return I}}case e:return I}}}return lt.ContextConsumer=s,lt.ContextProvider=o,lt.Element=t,lt.ForwardRef=c,lt.Fragment=n,lt.Lazy=v,lt.Memo=p,lt.Portal=e,lt.Profiler=i,lt.StrictMode=r,lt.Suspense=f,lt.SuspenseList=h,lt.isAsyncMode=function(){return!1},lt.isConcurrentMode=function(){return!1},lt.isContextConsumer=function(_){return T(_)===s},lt.isContextProvider=function(_){return T(_)===o},lt.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},lt.isForwardRef=function(_){return T(_)===c},lt.isFragment=function(_){return T(_)===n},lt.isLazy=function(_){return T(_)===v},lt.isMemo=function(_){return T(_)===p},lt.isPortal=function(_){return T(_)===e},lt.isProfiler=function(_){return T(_)===i},lt.isStrictMode=function(_){return T(_)===r},lt.isSuspense=function(_){return T(_)===f},lt.isSuspenseList=function(_){return T(_)===h},lt.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===i||_===r||_===f||_===h||_===x||typeof _=="object"&&_!==null&&(_.$$typeof===v||_.$$typeof===p||_.$$typeof===o||_.$$typeof===s||_.$$typeof===c||_.$$typeof===S||_.getModuleId!==void 0)},lt.typeOf=T,lt}var qI;function R8(){return qI||(qI=1,tx.exports=j8()),tx.exports}var D8=R8(),nx,zI;function aM(){if(zI)return nx;zI=1;var t=fo(),e=ho(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return nx=r,nx}var rx,WI;function M8(){if(WI)return rx;WI=1;var t=aM();function e(n){return t(n)&&n!=+n}return rx=e,rx}var L8=M8();const Xf=ht(L8);var $8=aM();const V8=ht($8);var Fr=function(e){return e===0?0:e>0?1:-1},Xa=function(e){return hs(e)&&e.indexOf("%")===e.length-1},xe=function(e){return V8(e)&&!Xf(e)},B8=function(e){return st(e)},tn=function(e){return xe(e)||hs(e)},F8=0,Dm=function(e){var n=++F8;return"".concat(e||"").concat(n)},ps=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(e)&&!hs(e))return r;var o;if(Xa(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Xf(o)&&(o=r),i&&o>n&&(o=n),o},Ko=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},U8=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},fl=function(e,n){return xe(e)&&xe(n)?function(r){return e+r*(n-e)}:function(){return n}};function P_(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):wr(r,e))===n})}var q8=function(e,n){return xe(e)&&xe(n)?e-n:hs(e)&&hs(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Ol(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function I_(t){"@babel/helpers - typeof";return I_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I_(t)}var z8=["viewBox","children"],W8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],HI=["points","pathLength"],ix={svg:z8,polygon:HI,polyline:HI},H1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],mp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(q.isValidElement(e)&&(r=e.props),!vu(r))return null;var i={};return Object.keys(r).forEach(function(o){H1.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},H8=function(e,n,r){return function(i){return e(n,r,i),null}},gp=function(e,n,r){if(!vu(e)||I_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];H1.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=H8(s,n,r))}),i},G8=["children"],K8=["children"];function GI(t,e){if(t==null)return{};var n=Y8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Y8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var KI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Zi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},YI=null,ox=null,G1=function t(e){if(e===YI&&Array.isArray(ox))return ox;var n=[];return q.Children.forEach(e,function(r){st(r)||(D8.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),ox=n,YI=e,n};function zr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Zi(i)}):r=[Zi(e)],G1(t).forEach(function(i){var o=wr(i,"type.displayName")||wr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function or(t,e){var n=zr(t,e);return n&&n[0]}var XI=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!xe(r)||r<=0||!xe(i)||i<=0)},X8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Q8=function(e){return e&&e.type&&hs(e.type)&&X8.indexOf(e.type)>=0},J8=function(e,n,r,i){var o,s=(o=ix==null?void 0:ix[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Ge(e)&&(i&&s.includes(n)||W8.includes(n))||r&&H1.includes(n)},ot=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(q.isValidElement(e)&&(i=e.props),!vu(i))return null;var o={};return Object.keys(i).forEach(function(s){var u;J8((u=i)===null||u===void 0?void 0:u[s],s,n,r)&&(o[s]=i[s])}),o},C_=function t(e,n){if(e===n)return!0;var r=q.Children.count(e);if(r!==q.Children.count(n))return!1;if(r===0)return!0;if(r===1)return QI(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!QI(o,s))return!1}return!0},QI=function(e,n){if(st(e)&&st(n))return!0;if(!st(e)&&!st(n)){var r=e.props||{},i=r.children,o=GI(r,G8),s=n.props||{},u=s.children,c=GI(s,K8);return i&&u?Ol(o,c)&&C_(i,u):!i&&!u?Ol(o,c):!1}return!1},JI=function(e,n){var r=[],i={};return G1(e).forEach(function(o,s){if(Q8(o))r.push(o);else if(o){var u=Zi(o.type),c=n[u]||{},f=c.handler,h=c.once;if(f&&(!h||!i[u])){var p=f(o,u,s);r.push(p),i[u]=!0}}}),r},Z8=function(e){var n=e&&e.type;return n&&KI[n]?KI[n]:null},ez=function(e,n){return G1(n).indexOf(e)},tz=["children","width","height","viewBox","className","style","title","desc"];function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(this,arguments)}function nz(t,e){if(t==null)return{};var n=rz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function k_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,u=t.title,c=t.desc,f=nz(t,tz),h=i||{width:n,height:r,x:0,y:0},p=at("recharts-surface",o);return K.createElement("svg",O_({},ot(f,!0,"svg"),{className:p,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),K.createElement("title",null,u),K.createElement("desc",null,c),e)}var iz=["children","className"];function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(this,arguments)}function oz(t,e){if(t==null)return{};var n=az(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function az(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cn=K.forwardRef(function(t,e){var n=t.children,r=t.className,i=oz(t,iz),o=at("recharts-layer",r);return K.createElement("g",N_({className:o},ot(i,!0),{ref:e}),n)}),eo=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},ax,ZI;function sz(){if(ZI)return ax;ZI=1;function t(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+n];return s}return ax=t,ax}var sx,eC;function lz(){if(eC)return sx;eC=1;var t=sz();function e(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:t(n,r,i)}return sx=e,sx}var lx,tC;function sM(){if(tC)return lx;tC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",u=RegExp("["+s+t+i+o+"]");function c(f){return u.test(f)}return lx=c,lx}var ux,nC;function uz(){if(nC)return ux;nC=1;function t(e){return e.split("")}return ux=t,ux}var cx,rC;function cz(){if(rC)return cx;rC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="["+t+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+c+")",h="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",S=f+"?",T="["+o+"]?",_="(?:"+x+"(?:"+[h,p,v].join("|")+")"+T+S+")*",I=T+S+_,R="(?:"+[h+u+"?",u,p,v,s].join("|")+")",k=RegExp(c+"(?="+c+")|"+R+I,"g");function D(O){return O.match(k)||[]}return cx=D,cx}var fx,iC;function fz(){if(iC)return fx;iC=1;var t=uz(),e=sM(),n=cz();function r(i){return e(i)?n(i):t(i)}return fx=r,fx}var dx,oC;function dz(){if(oC)return dx;oC=1;var t=lz(),e=sM(),n=fz(),r=rM();function i(o){return function(s){s=r(s);var u=e(s)?n(s):void 0,c=u?u[0]:s.charAt(0),f=u?t(u,1).join(""):s.slice(1);return c[o]()+f}}return dx=i,dx}var hx,aC;function hz(){if(aC)return hx;aC=1;var t=dz(),e=t("toUpperCase");return hx=e,hx}var pz=hz();const Mm=ht(pz);function bt(t){return function(){return t}}const lM=Math.cos,yp=Math.sin,Wr=Math.sqrt,vp=Math.PI,Lm=2*vp,j_=Math.PI,R_=2*j_,Wa=1e-6,mz=R_-Wa;function uM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function gz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return uM;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class yz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?uM:gz(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,u=this._y1,c=r-e,f=i-n,h=s-e,p=u-n,v=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Wa)if(!(Math.abs(p*c-f*h)>Wa)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-s,S=i-u,T=c*c+f*f,_=x*x+S*S,I=Math.sqrt(T),R=Math.sqrt(v),k=o*Math.tan((j_-Math.acos((T+v-_)/(2*I*R)))/2),D=k/R,O=k/I;Math.abs(D-1)>Wa&&this._append`L${e+D*h},${n+D*p}`,this._append`A${o},${o},0,0,${+(p*x>h*S)},${this._x1=e+O*c},${this._y1=n+O*f}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),f=e+u,h=n+c,p=1^s,v=s?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Wa||Math.abs(this._y1-h)>Wa)&&this._append`L${f},${h}`,r&&(v<0&&(v=v%R_+R_),v>mz?this._append`A${r},${r},0,1,${p},${e-u},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:v>Wa&&this._append`A${r},${r},0,${+(v>=j_)},${p},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function K1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new yz(e)}function Y1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cM(t){this._context=t}cM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function $m(t){return new cM(t)}function fM(t){return t[0]}function dM(t){return t[1]}function hM(t,e){var n=bt(!0),r=null,i=$m,o=null,s=K1(u);t=typeof t=="function"?t:t===void 0?fM:bt(t),e=typeof e=="function"?e:e===void 0?dM:bt(e);function u(c){var f,h=(c=Y1(c)).length,p,v=!1,x;for(r==null&&(o=i(x=s())),f=0;f<=h;++f)!(f<h&&n(p=c[f],f,c))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+t(p,f,c),+e(p,f,c));if(x)return o=null,x+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:bt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:bt(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:bt(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),u):r},u}function Th(t,e,n){var r=null,i=bt(!0),o=null,s=$m,u=null,c=K1(f);t=typeof t=="function"?t:t===void 0?fM:bt(+t),e=typeof e=="function"?e:bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?dM:bt(+n);function f(p){var v,x,S,T=(p=Y1(p)).length,_,I=!1,R,k=new Array(T),D=new Array(T);for(o==null&&(u=s(R=c())),v=0;v<=T;++v){if(!(v<T&&i(_=p[v],v,p))===I)if(I=!I)x=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=v-1;S>=x;--S)u.point(k[S],D[S]);u.lineEnd(),u.areaEnd()}I&&(k[v]=+t(_,v,p),D[v]=+e(_,v,p),u.point(r?+r(_,v,p):k[v],n?+n(_,v,p):D[v]))}if(R)return u=null,R+""||null}function h(){return hM().defined(i).curve(s).context(o)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:bt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:bt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:bt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:bt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:bt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:bt(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:bt(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,o!=null&&(u=s(o)),f):s},f.context=function(p){return arguments.length?(p==null?o=u=null:u=s(o=p),f):o},f}class pM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function vz(t){return new pM(t,!0)}function xz(t){return new pM(t,!1)}const X1={draw(t,e){const n=Wr(e/vp);t.moveTo(n,0),t.arc(0,0,n,0,Lm)}},bz={draw(t,e){const n=Wr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},mM=Wr(1/3),_z=mM*2,wz={draw(t,e){const n=Wr(e/_z),r=n*mM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Ez={draw(t,e){const n=Wr(e),r=-n/2;t.rect(r,r,n,n)}},Tz=.8908130915292852,gM=yp(vp/10)/yp(7*vp/10),Sz=yp(Lm/10)*gM,Az=-lM(Lm/10)*gM,Pz={draw(t,e){const n=Wr(e*Tz),r=Sz*n,i=Az*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Lm*o/5,u=lM(s),c=yp(s);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},px=Wr(3),Iz={draw(t,e){const n=-Wr(e/(px*3));t.moveTo(0,n*2),t.lineTo(-px*n,-n),t.lineTo(px*n,-n),t.closePath()}},gr=-.5,yr=Wr(3)/2,D_=1/Wr(12),Cz=(D_/2+1)*3,Oz={draw(t,e){const n=Wr(e/Cz),r=n/2,i=n*D_,o=r,s=n*D_+n,u=-o,c=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(u,c),t.lineTo(gr*r-yr*i,yr*r+gr*i),t.lineTo(gr*o-yr*s,yr*o+gr*s),t.lineTo(gr*u-yr*c,yr*u+gr*c),t.lineTo(gr*r+yr*i,gr*i-yr*r),t.lineTo(gr*o+yr*s,gr*s-yr*o),t.lineTo(gr*u+yr*c,gr*c-yr*u),t.closePath()}};function kz(t,e){let n=null,r=K1(i);t=typeof t=="function"?t:bt(t||X1),e=typeof e=="function"?e:bt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:bt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:bt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function xp(){}function bp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function yM(t){this._context=t}yM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Nz(t){return new yM(t)}function vM(t){this._context=t}vM.prototype={areaStart:xp,areaEnd:xp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:bp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jz(t){return new vM(t)}function xM(t){this._context=t}xM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:bp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Rz(t){return new xM(t)}function bM(t){this._context=t}bM.prototype={areaStart:xp,areaEnd:xp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Dz(t){return new bM(t)}function sC(t){return t<0?-1:1}function lC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),u=(o*i+s*r)/(r+i);return(sC(o)+sC(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(u))||0}function uC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function mx(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,s-u*n,o,s)}function _p(t){this._context=t}_p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mx(this,this._t0,uC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,mx(this,uC(this,n=lC(this,t,e)),n);break;default:mx(this,this._t0,n=lC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function _M(t){this._context=new wM(t)}(_M.prototype=Object.create(_p.prototype)).point=function(t,e){_p.prototype.point.call(this,e,t)};function wM(t){this._context=t}wM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Mz(t){return new _p(t)}function Lz(t){return new _M(t)}function EM(t){this._context=t}EM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=cC(t),i=cC(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function cC(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function $z(t){return new EM(t)}function Vm(t,e){this._context=t,this._t=e}Vm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Vz(t){return new Vm(t,.5)}function Bz(t){return new Vm(t,0)}function Fz(t){return new Vm(t,1)}function ql(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,u=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function M_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Uz(t,e){return t[e]}function qz(t){const e=[];return e.key=t,e}function zz(){var t=bt([]),e=M_,n=ql,r=Uz;function i(o){var s=Array.from(t.apply(this,arguments),qz),u,c=s.length,f=-1,h;for(const p of o)for(u=0,++f;u<c;++u)(s[u][f]=[0,+r(p,s[u].key,f,o)]).data=p;for(u=0,h=Y1(e(s));u<c;++u)s[h[u]].index=u;return n(s,h),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:bt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:bt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?M_:typeof o=="function"?o:bt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??ql,i):n},i}function Wz(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}ql(t,e)}}function Hz(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,u=0;s<i;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}ql(t,e)}}function Gz(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],p=h[r][1]||0,v=h[r-1][1]||0,x=(p-v)/2,S=0;S<u;++S){var T=t[e[S]],_=T[r][1]||0,I=T[r-1][1]||0;x+=_-I}c+=p,f+=x*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,ql(t,e)}}function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}var Kz=["type","size","sizeType"];function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(this,arguments)}function fC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fC(Object(n),!0).forEach(function(r){Yz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yz(t,e,n){return e=Xz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xz(t){var e=Qz(t,"string");return rf(e)=="symbol"?e:e+""}function Qz(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jz(t,e){if(t==null)return{};var n=Zz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var TM={symbolCircle:X1,symbolCross:bz,symbolDiamond:wz,symbolSquare:Ez,symbolStar:Pz,symbolTriangle:Iz,symbolWye:Oz},e7=Math.PI/180,t7=function(e){var n="symbol".concat(Mm(e));return TM[n]||X1},n7=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*e7;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},r7=function(e,n){TM["symbol".concat(Mm(e))]=n},Q1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,u=s===void 0?"area":s,c=Jz(e,Kz),f=dC(dC({},c),{},{type:r,size:o,sizeType:u}),h=function(){var _=t7(r),I=kz().type(_).size(n7(o,u,r));return I()},p=f.className,v=f.cx,x=f.cy,S=ot(f,!0);return v===+v&&x===+x&&o===+o?K.createElement("path",L_({},S,{className:at("recharts-symbols",p),transform:"translate(".concat(v,", ").concat(x,")"),d:h()})):null};Q1.registerSymbol=r7;function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(this,arguments)}function hC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(n),!0).forEach(function(r){of(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AM(r.key),r)}}function s7(t,e,n){return e&&a7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l7(t,e,n){return e=wp(e),u7(t,SM()?Reflect.construct(e,n||[],wp(t).constructor):e.apply(t,n))}function u7(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c7(t)}function c7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SM=function(){return!!t})()}function wp(t){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wp(t)}function f7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function of(t,e,n){return e=AM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AM(t){var e=d7(t,"string");return zl(e)=="symbol"?e:e+""}function d7(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vr=32,J1=(function(t){function e(){return o7(this,e),l7(this,e,arguments)}return f7(e,t),s7(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=vr/2,s=vr/6,u=vr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:vr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(vr,"M").concat(2*u,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return K.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(vr/8,"h").concat(vr,"v").concat(vr*3/4,"h").concat(-vr,"z"),className:"recharts-legend-icon"});if(K.isValidElement(r.legendIcon)){var f=i7({},r);return delete f.legendIcon,K.cloneElement(r.legendIcon,f)}return K.createElement(Q1,{fill:c,cx:o,cy:o,size:vr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,u=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:vr,height:vr},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(x,S){var T=x.formatter||c,_=at(of(of({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",x.inactive));if(x.type==="none")return null;var I=Ge(x.value)?null:x.value;eo(!Ge(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var R=x.inactive?f:x.color;return K.createElement("li",$_({className:_,style:p,key:"legend-item-".concat(S)},gp(r.props,x,S)),K.createElement(k_,{width:s,height:s,viewBox:h,style:v},r.renderIcon(x)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:R}},T?T(I,x,S):I))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(q.PureComponent);of(J1,"displayName","Legend");of(J1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var gx,pC;function h7(){if(pC)return gx;pC=1;var t=Nm();function e(){this.__data__=new t,this.size=0}return gx=e,gx}var yx,mC;function p7(){if(mC)return yx;mC=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return yx=t,yx}var vx,gC;function m7(){if(gC)return vx;gC=1;function t(e){return this.__data__.get(e)}return vx=t,vx}var xx,yC;function g7(){if(yC)return xx;yC=1;function t(e){return this.__data__.has(e)}return xx=t,xx}var bx,vC;function y7(){if(vC)return bx;vC=1;var t=Nm(),e=U1(),n=q1(),r=200;function i(o,s){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<r-1)return c.push([o,s]),this.size=++u.size,this;u=this.__data__=new n(c)}return u.set(o,s),this.size=u.size,this}return bx=i,bx}var _x,xC;function PM(){if(xC)return _x;xC=1;var t=Nm(),e=h7(),n=p7(),r=m7(),i=g7(),o=y7();function s(u){var c=this.__data__=new t(u);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,_x=s,_x}var wx,bC;function v7(){if(bC)return wx;bC=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return wx=e,wx}var Ex,_C;function x7(){if(_C)return Ex;_C=1;function t(e){return this.__data__.has(e)}return Ex=t,Ex}var Tx,wC;function IM(){if(wC)return Tx;wC=1;var t=q1(),e=v7(),n=x7();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Tx=r,Tx}var Sx,EC;function CM(){if(EC)return Sx;EC=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Sx=t,Sx}var Ax,TC;function OM(){if(TC)return Ax;TC=1;function t(e,n){return e.has(n)}return Ax=t,Ax}var Px,SC;function kM(){if(SC)return Px;SC=1;var t=IM(),e=CM(),n=OM(),r=1,i=2;function o(s,u,c,f,h,p){var v=c&r,x=s.length,S=u.length;if(x!=S&&!(v&&S>x))return!1;var T=p.get(s),_=p.get(u);if(T&&_)return T==u&&_==s;var I=-1,R=!0,k=c&i?new t:void 0;for(p.set(s,u),p.set(u,s);++I<x;){var D=s[I],O=u[I];if(f)var j=v?f(O,D,I,u,s,p):f(D,O,I,s,u,p);if(j!==void 0){if(j)continue;R=!1;break}if(k){if(!e(u,function(A,P){if(!n(k,P)&&(D===A||h(D,A,c,f,p)))return k.push(P)})){R=!1;break}}else if(!(D===O||h(D,O,c,f,p))){R=!1;break}}return p.delete(s),p.delete(u),R}return Px=o,Px}var Ix,AC;function b7(){if(AC)return Ix;AC=1;var t=Si(),e=t.Uint8Array;return Ix=e,Ix}var Cx,PC;function _7(){if(PC)return Cx;PC=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return Cx=t,Cx}var Ox,IC;function Z1(){if(IC)return Ox;IC=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return Ox=t,Ox}var kx,CC;function w7(){if(CC)return kx;CC=1;var t=Yf(),e=b7(),n=F1(),r=kM(),i=_7(),o=Z1(),s=1,u=2,c="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",v="[object Number]",x="[object RegExp]",S="[object Set]",T="[object String]",_="[object Symbol]",I="[object ArrayBuffer]",R="[object DataView]",k=t?t.prototype:void 0,D=k?k.valueOf:void 0;function O(j,A,P,N,B,L,V){switch(P){case R:if(j.byteLength!=A.byteLength||j.byteOffset!=A.byteOffset)return!1;j=j.buffer,A=A.buffer;case I:return!(j.byteLength!=A.byteLength||!L(new e(j),new e(A)));case c:case f:case v:return n(+j,+A);case h:return j.name==A.name&&j.message==A.message;case x:case T:return j==A+"";case p:var $=i;case S:var Z=N&s;if($||($=o),j.size!=A.size&&!Z)return!1;var ee=V.get(j);if(ee)return ee==A;N|=u,V.set(j,A);var ae=r($(j),$(A),N,B,L,V);return V.delete(j),ae;case _:if(D)return D.call(j)==D.call(A)}return!1}return kx=O,kx}var Nx,OC;function NM(){if(OC)return Nx;OC=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return Nx=t,Nx}var jx,kC;function E7(){if(kC)return jx;kC=1;var t=NM(),e=Gn();function n(r,i,o){var s=i(r);return e(r)?s:t(s,o(r))}return jx=n,jx}var Rx,NC;function T7(){if(NC)return Rx;NC=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,s=[];++r<i;){var u=e[r];n(u,r,e)&&(s[o++]=u)}return s}return Rx=t,Rx}var Dx,jC;function S7(){if(jC)return Dx;jC=1;function t(){return[]}return Dx=t,Dx}var Mx,RC;function A7(){if(RC)return Mx;RC=1;var t=T7(),e=S7(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(u){return r.call(s,u)}))}:e;return Mx=o,Mx}var Lx,DC;function P7(){if(DC)return Lx;DC=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return Lx=t,Lx}var $x,MC;function I7(){if(MC)return $x;MC=1;var t=fo(),e=ho(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return $x=r,$x}var Vx,LC;function eE(){if(LC)return Vx;LC=1;var t=I7(),e=ho(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return Vx=o,Vx}var kc={exports:{}},Bx,$C;function C7(){if($C)return Bx;$C=1;function t(){return!1}return Bx=t,Bx}kc.exports;var VC;function jM(){return VC||(VC=1,(function(t,e){var n=Si(),r=C7(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,u=s?n.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||r;t.exports=f})(kc,kc.exports)),kc.exports}var Fx,BC;function tE(){if(BC)return Fx;BC=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return Fx=n,Fx}var Ux,FC;function nE(){if(FC)return Ux;FC=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Ux=e,Ux}var qx,UC;function O7(){if(UC)return qx;UC=1;var t=fo(),e=nE(),n=ho(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",v="[object RegExp]",x="[object Set]",S="[object String]",T="[object WeakMap]",_="[object ArrayBuffer]",I="[object DataView]",R="[object Float32Array]",k="[object Float64Array]",D="[object Int8Array]",O="[object Int16Array]",j="[object Int32Array]",A="[object Uint8Array]",P="[object Uint8ClampedArray]",N="[object Uint16Array]",B="[object Uint32Array]",L={};L[R]=L[k]=L[D]=L[O]=L[j]=L[A]=L[P]=L[N]=L[B]=!0,L[r]=L[i]=L[_]=L[o]=L[I]=L[s]=L[u]=L[c]=L[f]=L[h]=L[p]=L[v]=L[x]=L[S]=L[T]=!1;function V($){return n($)&&e($.length)&&!!L[t($)]}return qx=V,qx}var zx,qC;function RM(){if(qC)return zx;qC=1;function t(e){return function(n){return e(n)}}return zx=t,zx}var Nc={exports:{}};Nc.exports;var zC;function k7(){return zC||(zC=1,(function(t,e){var n=eM(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,u=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=u})(Nc,Nc.exports)),Nc.exports}var Wx,WC;function DM(){if(WC)return Wx;WC=1;var t=O7(),e=RM(),n=k7(),r=n&&n.isTypedArray,i=r?e(r):t;return Wx=i,Wx}var Hx,HC;function N7(){if(HC)return Hx;HC=1;var t=P7(),e=eE(),n=Gn(),r=jM(),i=tE(),o=DM(),s=Object.prototype,u=s.hasOwnProperty;function c(f,h){var p=n(f),v=!p&&e(f),x=!p&&!v&&r(f),S=!p&&!v&&!x&&o(f),T=p||v||x||S,_=T?t(f.length,String):[],I=_.length;for(var R in f)(h||u.call(f,R))&&!(T&&(R=="length"||x&&(R=="offset"||R=="parent")||S&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||i(R,I)))&&_.push(R);return _}return Hx=c,Hx}var Gx,GC;function j7(){if(GC)return Gx;GC=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return Gx=e,Gx}var Kx,KC;function MM(){if(KC)return Kx;KC=1;function t(e,n){return function(r){return e(n(r))}}return Kx=t,Kx}var Yx,YC;function R7(){if(YC)return Yx;YC=1;var t=MM(),e=t(Object.keys,Object);return Yx=e,Yx}var Xx,XC;function D7(){if(XC)return Xx;XC=1;var t=j7(),e=R7(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var u in Object(o))r.call(o,u)&&u!="constructor"&&s.push(u);return s}return Xx=i,Xx}var Qx,QC;function Qf(){if(QC)return Qx;QC=1;var t=B1(),e=nE();function n(r){return r!=null&&e(r.length)&&!t(r)}return Qx=n,Qx}var Jx,JC;function Bm(){if(JC)return Jx;JC=1;var t=N7(),e=D7(),n=Qf();function r(i){return n(i)?t(i):e(i)}return Jx=r,Jx}var Zx,ZC;function M7(){if(ZC)return Zx;ZC=1;var t=E7(),e=A7(),n=Bm();function r(i){return t(i,n,e)}return Zx=r,Zx}var e0,eO;function L7(){if(eO)return e0;eO=1;var t=M7(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,u,c,f,h){var p=u&e,v=t(o),x=v.length,S=t(s),T=S.length;if(x!=T&&!p)return!1;for(var _=x;_--;){var I=v[_];if(!(p?I in s:r.call(s,I)))return!1}var R=h.get(o),k=h.get(s);if(R&&k)return R==s&&k==o;var D=!0;h.set(o,s),h.set(s,o);for(var O=p;++_<x;){I=v[_];var j=o[I],A=s[I];if(c)var P=p?c(A,j,I,s,o,h):c(j,A,I,o,s,h);if(!(P===void 0?j===A||f(j,A,u,c,h):P)){D=!1;break}O||(O=I=="constructor")}if(D&&!O){var N=o.constructor,B=s.constructor;N!=B&&"constructor"in o&&"constructor"in s&&!(typeof N=="function"&&N instanceof N&&typeof B=="function"&&B instanceof B)&&(D=!1)}return h.delete(o),h.delete(s),D}return e0=i,e0}var t0,tO;function $7(){if(tO)return t0;tO=1;var t=ws(),e=Si(),n=t(e,"DataView");return t0=n,t0}var n0,nO;function V7(){if(nO)return n0;nO=1;var t=ws(),e=Si(),n=t(e,"Promise");return n0=n,n0}var r0,rO;function LM(){if(rO)return r0;rO=1;var t=ws(),e=Si(),n=t(e,"Set");return r0=n,r0}var i0,iO;function B7(){if(iO)return i0;iO=1;var t=ws(),e=Si(),n=t(e,"WeakMap");return i0=n,i0}var o0,oO;function F7(){if(oO)return o0;oO=1;var t=$7(),e=U1(),n=V7(),r=LM(),i=B7(),o=fo(),s=tM(),u="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",v="[object DataView]",x=s(t),S=s(e),T=s(n),_=s(r),I=s(i),R=o;return(t&&R(new t(new ArrayBuffer(1)))!=v||e&&R(new e)!=u||n&&R(n.resolve())!=f||r&&R(new r)!=h||i&&R(new i)!=p)&&(R=function(k){var D=o(k),O=D==c?k.constructor:void 0,j=O?s(O):"";if(j)switch(j){case x:return v;case S:return u;case T:return f;case _:return h;case I:return p}return D}),o0=R,o0}var a0,aO;function U7(){if(aO)return a0;aO=1;var t=PM(),e=kM(),n=w7(),r=L7(),i=F7(),o=Gn(),s=jM(),u=DM(),c=1,f="[object Arguments]",h="[object Array]",p="[object Object]",v=Object.prototype,x=v.hasOwnProperty;function S(T,_,I,R,k,D){var O=o(T),j=o(_),A=O?h:i(T),P=j?h:i(_);A=A==f?p:A,P=P==f?p:P;var N=A==p,B=P==p,L=A==P;if(L&&s(T)){if(!s(_))return!1;O=!0,N=!1}if(L&&!N)return D||(D=new t),O||u(T)?e(T,_,I,R,k,D):n(T,_,A,I,R,k,D);if(!(I&c)){var V=N&&x.call(T,"__wrapped__"),$=B&&x.call(_,"__wrapped__");if(V||$){var Z=V?T.value():T,ee=$?_.value():_;return D||(D=new t),k(Z,ee,I,R,D)}}return L?(D||(D=new t),r(T,_,I,R,k,D)):!1}return a0=S,a0}var s0,sO;function rE(){if(sO)return s0;sO=1;var t=U7(),e=ho();function n(r,i,o,s,u){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,s,n,u)}return s0=n,s0}var l0,lO;function q7(){if(lO)return l0;lO=1;var t=PM(),e=rE(),n=1,r=2;function i(o,s,u,c){var f=u.length,h=f,p=!c;if(o==null)return!h;for(o=Object(o);f--;){var v=u[f];if(p&&v[2]?v[1]!==o[v[0]]:!(v[0]in o))return!1}for(;++f<h;){v=u[f];var x=v[0],S=o[x],T=v[1];if(p&&v[2]){if(S===void 0&&!(x in o))return!1}else{var _=new t;if(c)var I=c(S,T,x,o,s,_);if(!(I===void 0?e(T,S,n|r,c,_):I))return!1}}return!0}return l0=i,l0}var u0,uO;function $M(){if(uO)return u0;uO=1;var t=fa();function e(n){return n===n&&!t(n)}return u0=e,u0}var c0,cO;function z7(){if(cO)return c0;cO=1;var t=$M(),e=Bm();function n(r){for(var i=e(r),o=i.length;o--;){var s=i[o],u=r[s];i[o]=[s,u,t(u)]}return i}return c0=n,c0}var f0,fO;function VM(){if(fO)return f0;fO=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return f0=t,f0}var d0,dO;function W7(){if(dO)return d0;dO=1;var t=q7(),e=z7(),n=VM();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return d0=r,d0}var h0,hO;function H7(){if(hO)return h0;hO=1;function t(e,n){return e!=null&&n in Object(e)}return h0=t,h0}var p0,pO;function G7(){if(pO)return p0;pO=1;var t=iM(),e=eE(),n=Gn(),r=tE(),i=nE(),o=Rm();function s(u,c,f){c=t(c,u);for(var h=-1,p=c.length,v=!1;++h<p;){var x=o(c[h]);if(!(v=u!=null&&f(u,x)))break;u=u[x]}return v||++h!=p?v:(p=u==null?0:u.length,!!p&&i(p)&&r(x,p)&&(n(u)||e(u)))}return p0=s,p0}var m0,mO;function K7(){if(mO)return m0;mO=1;var t=H7(),e=G7();function n(r,i){return r!=null&&e(r,i,t)}return m0=n,m0}var g0,gO;function Y7(){if(gO)return g0;gO=1;var t=rE(),e=oM(),n=K7(),r=V1(),i=$M(),o=VM(),s=Rm(),u=1,c=2;function f(h,p){return r(h)&&i(p)?o(s(h),p):function(v){var x=e(v,h);return x===void 0&&x===p?n(v,h):t(p,x,u|c)}}return g0=f,g0}var y0,yO;function xu(){if(yO)return y0;yO=1;function t(e){return e}return y0=t,y0}var v0,vO;function X7(){if(vO)return v0;vO=1;function t(e){return function(n){return n==null?void 0:n[e]}}return v0=t,v0}var x0,xO;function Q7(){if(xO)return x0;xO=1;var t=W1();function e(n){return function(r){return t(r,n)}}return x0=e,x0}var b0,bO;function J7(){if(bO)return b0;bO=1;var t=X7(),e=Q7(),n=V1(),r=Rm();function i(o){return n(o)?t(r(o)):e(o)}return b0=i,b0}var _0,_O;function da(){if(_O)return _0;_O=1;var t=W7(),e=Y7(),n=xu(),r=Gn(),i=J7();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return _0=o,_0}var w0,wO;function BM(){if(wO)return w0;wO=1;function t(e,n,r,i){for(var o=e.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(e[s],s,e))return s;return-1}return w0=t,w0}var E0,EO;function Z7(){if(EO)return E0;EO=1;function t(e){return e!==e}return E0=t,E0}var T0,TO;function eW(){if(TO)return T0;TO=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return T0=t,T0}var S0,SO;function tW(){if(SO)return S0;SO=1;var t=BM(),e=Z7(),n=eW();function r(i,o,s){return o===o?n(i,o,s):t(i,e,s)}return S0=r,S0}var A0,AO;function nW(){if(AO)return A0;AO=1;var t=tW();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return A0=e,A0}var P0,PO;function rW(){if(PO)return P0;PO=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return P0=t,P0}var I0,IO;function iW(){if(IO)return I0;IO=1;function t(){}return I0=t,I0}var C0,CO;function oW(){if(CO)return C0;CO=1;var t=LM(),e=iW(),n=Z1(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return C0=i,C0}var O0,OO;function aW(){if(OO)return O0;OO=1;var t=IM(),e=nW(),n=rW(),r=OM(),i=oW(),o=Z1(),s=200;function u(c,f,h){var p=-1,v=e,x=c.length,S=!0,T=[],_=T;if(h)S=!1,v=n;else if(x>=s){var I=f?null:i(c);if(I)return o(I);S=!1,v=r,_=new t}else _=f?[]:T;e:for(;++p<x;){var R=c[p],k=f?f(R):R;if(R=h||R!==0?R:0,S&&k===k){for(var D=_.length;D--;)if(_[D]===k)continue e;f&&_.push(k),T.push(R)}else v(_,k,h)||(_!==T&&_.push(k),T.push(R))}return T}return O0=u,O0}var k0,kO;function sW(){if(kO)return k0;kO=1;var t=da(),e=aW();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return k0=n,k0}var lW=sW();const NO=ht(lW);function FM(t,e,n){return e===!0?NO(t,n):Ge(e)?NO(t,e):t}function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}var uW=["ref"];function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(r){Fm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qM(r.key),r)}}function fW(t,e,n){return e&&RO(t.prototype,e),n&&RO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dW(t,e,n){return e=Ep(e),hW(t,UM()?Reflect.construct(e,n||[],Ep(t).constructor):e.apply(t,n))}function hW(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pW(t)}function pW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UM=function(){return!!t})()}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ep(t)}function mW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(t,e)}function Fm(t,e,n){return e=qM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qM(t){var e=gW(t,"string");return Wl(e)=="symbol"?e:e+""}function gW(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yW(t,e){if(t==null)return{};var n=vW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xW(t){return t.value}function bW(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var n=yW(e,uW);return K.createElement(J1,n)}var DO=1,kl=(function(t){function e(){var n;cW(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=dW(this,e,[].concat(i)),Fm(n,"lastBoundingBox",{width:-1,height:-1}),n}return mW(e,t),fW(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>DO||Math.abs(i.height-this.lastBoundingBox.height)>DO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Hi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,u=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,p,v;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var x=this.getBBoxSnapshot();p={left:((f||0)-x.width)/2}}else p=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var S=this.getBBoxSnapshot();v={top:((h||0)-S.height)/2}}else v=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Hi(Hi({},p),v)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,u=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,p=Hi(Hi({position:"absolute",width:s||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return K.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(x){r.wrapperNode=x}},bW(o,Hi(Hi({},this.props),{},{payload:FM(h,f,xW)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Hi(Hi({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&xe(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])})(q.PureComponent);Fm(kl,"displayName","Legend");Fm(kl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var N0,MO;function _W(){if(MO)return N0;MO=1;var t=Yf(),e=eE(),n=Gn(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return N0=i,N0}var j0,LO;function zM(){if(LO)return j0;LO=1;var t=NM(),e=_W();function n(r,i,o,s,u){var c=-1,f=r.length;for(o||(o=e),u||(u=[]);++c<f;){var h=r[c];i>0&&o(h)?i>1?n(h,i-1,o,s,u):t(u,h):s||(u[u.length]=h)}return u}return j0=n,j0}var R0,$O;function wW(){if($O)return R0;$O=1;function t(e){return function(n,r,i){for(var o=-1,s=Object(n),u=i(n),c=u.length;c--;){var f=u[e?c:++o];if(r(s[f],f,s)===!1)break}return n}}return R0=t,R0}var D0,VO;function EW(){if(VO)return D0;VO=1;var t=wW(),e=t();return D0=e,D0}var M0,BO;function WM(){if(BO)return M0;BO=1;var t=EW(),e=Bm();function n(r,i){return r&&t(r,i,e)}return M0=n,M0}var L0,FO;function TW(){if(FO)return L0;FO=1;var t=Qf();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var s=i.length,u=r?s:-1,c=Object(i);(r?u--:++u<s)&&o(c[u],u,c)!==!1;);return i}}return L0=e,L0}var $0,UO;function iE(){if(UO)return $0;UO=1;var t=WM(),e=TW(),n=e(t);return $0=n,$0}var V0,qO;function HM(){if(qO)return V0;qO=1;var t=iE(),e=Qf();function n(r,i){var o=-1,s=e(r)?Array(r.length):[];return t(r,function(u,c,f){s[++o]=i(u,c,f)}),s}return V0=n,V0}var B0,zO;function SW(){if(zO)return B0;zO=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return B0=t,B0}var F0,WO;function AW(){if(WO)return F0;WO=1;var t=yu();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,u=t(n),c=r!==void 0,f=r===null,h=r===r,p=t(r);if(!f&&!p&&!u&&n>r||u&&c&&h&&!f&&!p||o&&c&&h||!i&&h||!s)return 1;if(!o&&!u&&!p&&n<r||p&&i&&s&&!o&&!u||f&&i&&s||!c&&s||!h)return-1}return 0}return F0=e,F0}var U0,HO;function PW(){if(HO)return U0;HO=1;var t=AW();function e(n,r,i){for(var o=-1,s=n.criteria,u=r.criteria,c=s.length,f=i.length;++o<c;){var h=t(s[o],u[o]);if(h){if(o>=f)return h;var p=i[o];return h*(p=="desc"?-1:1)}}return n.index-r.index}return U0=e,U0}var q0,GO;function IW(){if(GO)return q0;GO=1;var t=z1(),e=W1(),n=da(),r=HM(),i=SW(),o=RM(),s=PW(),u=xu(),c=Gn();function f(h,p,v){p.length?p=t(p,function(T){return c(T)?function(_){return e(_,T.length===1?T[0]:T)}:T}):p=[u];var x=-1;p=t(p,o(n));var S=r(h,function(T,_,I){var R=t(p,function(k){return k(T)});return{criteria:R,index:++x,value:T}});return i(S,function(T,_){return s(T,_,v)})}return q0=f,q0}var z0,KO;function CW(){if(KO)return z0;KO=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return z0=t,z0}var W0,YO;function OW(){if(YO)return W0;YO=1;var t=CW(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,u=-1,c=e(s.length-i,0),f=Array(c);++u<c;)f[u]=s[i+u];u=-1;for(var h=Array(i+1);++u<i;)h[u]=s[u];return h[i]=o(f),t(r,this,h)}}return W0=n,W0}var H0,XO;function kW(){if(XO)return H0;XO=1;function t(e){return function(){return e}}return H0=t,H0}var G0,QO;function GM(){if(QO)return G0;QO=1;var t=ws(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return G0=e,G0}var K0,JO;function NW(){if(JO)return K0;JO=1;var t=kW(),e=GM(),n=xu(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return K0=r,K0}var Y0,ZO;function jW(){if(ZO)return Y0;ZO=1;var t=800,e=16,n=Date.now;function r(i){var o=0,s=0;return function(){var u=n(),c=e-(u-s);if(s=u,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Y0=r,Y0}var X0,ek;function RW(){if(ek)return X0;ek=1;var t=NW(),e=jW(),n=e(t);return X0=n,X0}var Q0,tk;function DW(){if(tk)return Q0;tk=1;var t=xu(),e=OW(),n=RW();function r(i,o){return n(e(i,o,t),i+"")}return Q0=r,Q0}var J0,nk;function Um(){if(nk)return J0;nk=1;var t=F1(),e=Qf(),n=tE(),r=fa();function i(o,s,u){if(!r(u))return!1;var c=typeof s;return(c=="number"?e(u)&&n(s,u.length):c=="string"&&s in u)?t(u[s],o):!1}return J0=i,J0}var Z0,rk;function MW(){if(rk)return Z0;rk=1;var t=zM(),e=IW(),n=DW(),r=Um(),i=n(function(o,s){if(o==null)return[];var u=s.length;return u>1&&r(o,s[0],s[1])?s=[]:u>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(o,t(s,1),[])});return Z0=i,Z0}var LW=MW();const oE=ht(LW);function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(this,arguments)}function $W(t,e){return UW(t)||FW(t,e)||BW(t,e)||VW()}function VW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BW(t,e){if(t){if(typeof t=="string")return ik(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ik(t,e)}}function ik(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function UW(t){if(Array.isArray(t))return t}function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){qW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qW(t,e,n){return e=zW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zW(t){var e=WW(t,"string");return af(e)=="symbol"?e:e+""}function WW(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HW(t){return Array.isArray(t)&&tn(t[0])&&tn(t[1])?t.join(" ~ "):t}var GW=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,u=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,p=e.formatter,v=e.itemSorter,x=e.wrapperClassName,S=e.labelClassName,T=e.label,_=e.labelFormatter,I=e.accessibilityLayer,R=I===void 0?!1:I,k=function(){if(h&&h.length){var V={padding:0,margin:0},$=(v?oE(h,v):h).map(function(Z,ee){if(Z.type==="none")return null;var ae=eb({display:"block",paddingTop:4,paddingBottom:4,color:Z.color||"#000"},u),se=Z.formatter||p||HW,Q=Z.value,ie=Z.name,re=Q,z=ie;if(se&&re!=null&&z!=null){var G=se(Q,ie,Z,ee,h);if(Array.isArray(G)){var ge=$W(G,2);re=ge[0],z=ge[1]}else re=G}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:ae},tn(z)?K.createElement("span",{className:"recharts-tooltip-item-name"},z):null,tn(z)?K.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,K.createElement("span",{className:"recharts-tooltip-item-value"},re),K.createElement("span",{className:"recharts-tooltip-item-unit"},Z.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:V},$)}return null},D=eb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),O=eb({margin:0},f),j=!st(T),A=j?T:"",P=at("recharts-default-tooltip",x),N=at("recharts-tooltip-label",S);j&&_&&h!==void 0&&h!==null&&(A=_(T,h));var B=R?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",F_({className:P,style:D},B),K.createElement("p",{className:N,style:O},K.isValidElement(A)?A:"".concat(A)),k())};function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function Sh(t,e,n){return e=KW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KW(t){var e=YW(t,"string");return sf(e)=="symbol"?e:e+""}function YW(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yc="recharts-tooltip-wrapper",XW={visibility:"hidden"};function QW(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return at(yc,Sh(Sh(Sh(Sh({},"".concat(yc,"-right"),xe(n)&&e&&xe(e.x)&&n>=e.x),"".concat(yc,"-left"),xe(n)&&e&&xe(e.x)&&n<e.x),"".concat(yc,"-bottom"),xe(r)&&e&&xe(e.y)&&r>=e.y),"".concat(yc,"-top"),xe(r)&&e&&xe(e.y)&&r<e.y))}function ak(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(o&&xe(o[r]))return o[r];var h=n[r]-u-i,p=n[r]+i;if(e[r])return s[r]?h:p;if(s[r]){var v=h,x=c[r];return v<x?Math.max(p,c[r]):Math.max(h,c[r])}var S=p+u,T=c[r]+f;return S>T?Math.max(h,c[r]):Math.max(p,c[r])}function JW(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function ZW(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,f,h,p;return s.height>0&&s.width>0&&n?(h=ak({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=ak({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=JW({translateX:h,translateY:p,useTranslate3d:u})):f=XW,{cssProperties:f,cssClasses:QW({translateX:h,translateY:p,coordinate:n})}}function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){q_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YM(r.key),r)}}function nH(t,e,n){return e&&tH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rH(t,e,n){return e=Tp(e),iH(t,KM()?Reflect.construct(e,n||[],Tp(t).constructor):e.apply(t,n))}function iH(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oH(t)}function oH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KM=function(){return!!t})()}function Tp(t){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tp(t)}function aH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U_(t,e)}function U_(t,e){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U_(t,e)}function q_(t,e,n){return e=YM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YM(t){var e=sH(t,"string");return Hl(e)=="symbol"?e:e+""}function sH(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uk=1,lH=(function(t){function e(){var n;eH(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=rH(this,e,[].concat(i)),q_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),q_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var u,c,f,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(f=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),n}return aH(e,t),nH(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>uk||Math.abs(r.height-this.state.lastBoundingBox.height)>uk)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,p=i.hasPayload,v=i.isAnimationActive,x=i.offset,S=i.position,T=i.reverseDirection,_=i.useTranslate3d,I=i.viewBox,R=i.wrapperStyle,k=ZW({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:x,position:S,reverseDirection:T,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:I}),D=k.cssClasses,O=k.cssProperties,j=lk(lk({transition:v&&o?"transform ".concat(u,"ms ").concat(c):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},R);return K.createElement("div",{tabIndex:-1,className:D,style:j,ref:function(P){r.wrapperNode=P}},f)}}])})(q.PureComponent),uH=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Jf={isSsr:uH()};function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){aE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QM(r.key),r)}}function dH(t,e,n){return e&&fH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hH(t,e,n){return e=Sp(e),pH(t,XM()?Reflect.construct(e,n||[],Sp(t).constructor):e.apply(t,n))}function pH(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mH(t)}function mH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XM=function(){return!!t})()}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sp(t)}function gH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z_(t,e)}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z_(t,e)}function aE(t,e,n){return e=QM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QM(t){var e=yH(t,"string");return Gl(e)=="symbol"?e:e+""}function yH(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vH(t){return t.dataKey}function xH(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(GW,e)}var fi=(function(t){function e(){return cH(this,e),hH(this,e,arguments)}return gH(e,t),dH(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,p=i.filterNull,v=i.isAnimationActive,x=i.offset,S=i.payload,T=i.payloadUniqBy,_=i.position,I=i.reverseDirection,R=i.useTranslate3d,k=i.viewBox,D=i.wrapperStyle,O=S??[];p&&O.length&&(O=FM(S.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),T,vH));var j=O.length>0;return K.createElement(lH,{allowEscapeViewBox:s,animationDuration:u,animationEasing:c,isAnimationActive:v,active:o,coordinate:h,hasPayload:j,offset:x,position:_,reverseDirection:I,useTranslate3d:R,viewBox:k,wrapperStyle:D},xH(f,fk(fk({},this.props),{},{payload:O})))}}])})(q.PureComponent);aE(fi,"displayName","Tooltip");aE(fi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Jf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var tb,dk;function bH(){if(dk)return tb;dk=1;var t=Si(),e=function(){return t.Date.now()};return tb=e,tb}var nb,hk;function _H(){if(hk)return nb;hk=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return nb=e,nb}var rb,pk;function wH(){if(pk)return rb;pk=1;var t=_H(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return rb=n,rb}var ib,mk;function JM(){if(mk)return ib;mk=1;var t=wH(),e=fa(),n=yu(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=o.test(f);return p||s.test(f)?u(f.slice(2),p?2:8):i.test(f)?r:+f}return ib=c,ib}var ob,gk;function EH(){if(gk)return ob;gk=1;var t=fa(),e=bH(),n=JM(),r="Expected a function",i=Math.max,o=Math.min;function s(u,c,f){var h,p,v,x,S,T,_=0,I=!1,R=!1,k=!0;if(typeof u!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(I=!!f.leading,R="maxWait"in f,v=R?i(n(f.maxWait)||0,c):v,k="trailing"in f?!!f.trailing:k);function D($){var Z=h,ee=p;return h=p=void 0,_=$,x=u.apply(ee,Z),x}function O($){return _=$,S=setTimeout(P,c),I?D($):x}function j($){var Z=$-T,ee=$-_,ae=c-Z;return R?o(ae,v-ee):ae}function A($){var Z=$-T,ee=$-_;return T===void 0||Z>=c||Z<0||R&&ee>=v}function P(){var $=e();if(A($))return N($);S=setTimeout(P,j($))}function N($){return S=void 0,k&&h?D($):(h=p=void 0,x)}function B(){S!==void 0&&clearTimeout(S),_=0,h=T=p=S=void 0}function L(){return S===void 0?x:N(e())}function V(){var $=e(),Z=A($);if(h=arguments,p=this,T=$,Z){if(S===void 0)return O(T);if(R)return clearTimeout(S),S=setTimeout(P,c),D(T)}return S===void 0&&(S=setTimeout(P,c)),x}return V.cancel=B,V.flush=L,V}return ob=s,ob}var ab,yk;function TH(){if(yk)return ab;yk=1;var t=EH(),e=fa(),n="Expected a function";function r(i,o,s){var u=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(u="leading"in s?!!s.leading:u,c="trailing"in s?!!s.trailing:c),t(i,o,{leading:u,maxWait:o,trailing:c})}return ab=r,ab}var SH=TH();const ZM=ht(SH);function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ah(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){AH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AH(t,e,n){return e=PH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PH(t){var e=IH(t,"string");return lf(e)=="symbol"?e:e+""}function IH(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CH(t,e){return jH(t)||NH(t,e)||kH(t,e)||OH()}function OH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kH(t,e){if(t){if(typeof t=="string")return xk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xk(t,e)}}function xk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function jH(t){if(Array.isArray(t))return t}var RH=q.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,u=t.height,c=u===void 0?"100%":u,f=t.minWidth,h=f===void 0?0:f,p=t.minHeight,v=t.maxHeight,x=t.children,S=t.debounce,T=S===void 0?0:S,_=t.id,I=t.className,R=t.onResize,k=t.style,D=k===void 0?{}:k,O=q.useRef(null),j=q.useRef();j.current=R,q.useImperativeHandle(e,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var A=q.useState({containerWidth:i.width,containerHeight:i.height}),P=CH(A,2),N=P[0],B=P[1],L=q.useCallback(function($,Z){B(function(ee){var ae=Math.round($),se=Math.round(Z);return ee.containerWidth===ae&&ee.containerHeight===se?ee:{containerWidth:ae,containerHeight:se}})},[]);q.useEffect(function(){var $=function(ie){var re,z=ie[0].contentRect,G=z.width,ge=z.height;L(G,ge),(re=j.current)===null||re===void 0||re.call(j,G,ge)};T>0&&($=ZM($,T,{trailing:!0,leading:!1}));var Z=new ResizeObserver($),ee=O.current.getBoundingClientRect(),ae=ee.width,se=ee.height;return L(ae,se),Z.observe(O.current),function(){Z.disconnect()}},[L,T]);var V=q.useMemo(function(){var $=N.containerWidth,Z=N.containerHeight;if($<0||Z<0)return null;eo(Xa(s)||Xa(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),eo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ee=Xa(s)?$:s,ae=Xa(c)?Z:c;n&&n>0&&(ee?ae=ee/n:ae&&(ee=ae*n),v&&ae>v&&(ae=v)),eo(ee>0||ae>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,ae,s,c,h,p,n);var se=!Array.isArray(x)&&Zi(x.type).endsWith("Chart");return K.Children.map(x,function(Q){return K.isValidElement(Q)?q.cloneElement(Q,Ah({width:ee,height:ae},se?{style:Ah({height:"100%",width:"100%",maxHeight:ae,maxWidth:ee},Q.props.style)}:{})):Q})},[n,x,c,v,p,h,N,s]);return K.createElement("div",{id:_?"".concat(_):void 0,className:at("recharts-responsive-container",I),style:Ah(Ah({},D),{},{width:s,height:c,minWidth:h,minHeight:p,maxHeight:v}),ref:O},V)}),sE=function(e){return null};sE.displayName="Cell";function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(r){DH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DH(t,e,n){return e=MH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MH(t){var e=LH(t,"string");return uf(e)=="symbol"?e:e+""}function LH(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dl={widthCache:{},cacheCount:0},$H=2e3,VH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_k="recharts_measurement_span";function BH(t){var e=W_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Fc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Jf.isSsr)return{width:0,height:0};var r=BH(n),i=JSON.stringify({text:e,copyStyle:r});if(dl.widthCache[i])return dl.widthCache[i];try{var o=document.getElementById(_k);o||(o=document.createElement("span"),o.setAttribute("id",_k),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=W_(W_({},VH),r);Object.assign(o.style,s),o.textContent="".concat(e);var u=o.getBoundingClientRect(),c={width:u.width,height:u.height};return dl.widthCache[i]=c,++dl.cacheCount>$H&&(dl.cacheCount=0,dl.widthCache={}),c}catch{return{width:0,height:0}}},FH=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function Ap(t,e){return WH(t)||zH(t,e)||qH(t,e)||UH()}function UH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qH(t,e){if(t){if(typeof t=="string")return wk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wk(t,e)}}function wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function WH(t){if(Array.isArray(t))return t}function HH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ek(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KH(r.key),r)}}function GH(t,e,n){return e&&Ek(t.prototype,e),n&&Ek(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KH(t){var e=YH(t,"string");return cf(e)=="symbol"?e:e+""}function YH(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Sk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,QH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},JH=Object.keys(eL),bl="NaN";function ZH(t,e){return t*eL[e]}var Ph=(function(){function t(e,n){HH(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!XH.test(n)&&(this.num=NaN,this.unit=""),JH.includes(n)&&(this.num=ZH(e,n),this.unit="px")}return GH(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=QH.exec(n))!==null&&r!==void 0?r:[],o=Ap(i,3),s=o[1],u=o[2];return new t(parseFloat(s),u??"")}}])})();function tL(t){if(t.includes(bl))return bl;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Tk.exec(e))!==null&&n!==void 0?n:[],i=Ap(r,4),o=i[1],s=i[2],u=i[3],c=Ph.parse(o??""),f=Ph.parse(u??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return bl;e=e.replace(Tk,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,v=(p=Sk.exec(e))!==null&&p!==void 0?p:[],x=Ap(v,4),S=x[1],T=x[2],_=x[3],I=Ph.parse(S??""),R=Ph.parse(_??""),k=T==="+"?I.add(R):I.subtract(R);if(k.isNaN())return bl;e=e.replace(Sk,k.toString())}return e}var Ak=/\(([^()]*)\)/;function eG(t){for(var e=t;e.includes("(");){var n=Ak.exec(e),r=Ap(n,2),i=r[1];e=e.replace(Ak,tL(i))}return e}function tG(t){var e=t.replace(/\s+/g,"");return e=eG(e),e=tL(e),e}function nG(t){try{return tG(t)}catch{return bl}}function sb(t){var e=nG(t.slice(5,-1));return e===bl?"":e}var rG=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],iG=["dx","dy","angle","className","breakAll"];function H_(){return H_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H_.apply(this,arguments)}function Pk(t,e){if(t==null)return{};var n=oG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ik(t,e){return uG(t)||lG(t,e)||sG(t,e)||aG()}function aG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sG(t,e){if(t){if(typeof t=="string")return Ck(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ck(t,e)}}function Ck(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function uG(t){if(Array.isArray(t))return t}var nL=/[ \f\n\r\t\v\u2028\u2029]+/,rL=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];st(n)||(r?o=n.toString().split(""):o=n.toString().split(nL));var s=o.map(function(c){return{word:c,width:Fc(c,i).width}}),u=r?0:Fc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},cG=function(e,n,r,i,o){var s=e.maxLines,u=e.children,c=e.style,f=e.breakAll,h=xe(s),p=u,v=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee.reduce(function(ae,se){var Q=se.word,ie=se.width,re=ae[ae.length-1];if(re&&(i==null||o||re.width+ie+r<Number(i)))re.words.push(Q),re.width+=ie+r;else{var z={words:[Q],width:ie};ae.push(z)}return ae},[])},x=v(n),S=function(ee){return ee.reduce(function(ae,se){return ae.width>se.width?ae:se})};if(!h)return x;for(var T="",_=function(ee){var ae=p.slice(0,ee),se=rL({breakAll:f,style:c,children:ae+T}).wordsWithComputedWidth,Q=v(se),ie=Q.length>s||S(Q).width>Number(i);return[ie,Q]},I=0,R=p.length-1,k=0,D;I<=R&&k<=p.length-1;){var O=Math.floor((I+R)/2),j=O-1,A=_(j),P=Ik(A,2),N=P[0],B=P[1],L=_(O),V=Ik(L,1),$=V[0];if(!N&&!$&&(I=O+1),N&&$&&(R=O-1),!N&&$){D=B;break}k++}return D||x},Ok=function(e){var n=st(e)?[]:e.toString().split(nL);return[{words:n}]},fG=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,u=e.maxLines;if((n||r)&&!Jf.isSsr){var c,f,h=rL({breakAll:s,children:i,style:o});if(h){var p=h.wordsWithComputedWidth,v=h.spaceWidth;c=p,f=v}else return Ok(i);return cG({breakAll:s,children:i,maxLines:u,style:o},c,f,n,r)}return Ok(i)},kk="#808080",Pp=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,u=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,p=h===void 0?!1:h,v=e.textAnchor,x=v===void 0?"start":v,S=e.verticalAnchor,T=S===void 0?"end":S,_=e.fill,I=_===void 0?kk:_,R=Pk(e,rG),k=q.useMemo(function(){return fG({breakAll:R.breakAll,children:R.children,maxLines:R.maxLines,scaleToFit:p,style:R.style,width:R.width})},[R.breakAll,R.children,R.maxLines,p,R.style,R.width]),D=R.dx,O=R.dy,j=R.angle,A=R.className,P=R.breakAll,N=Pk(R,iG);if(!tn(r)||!tn(o))return null;var B=r+(xe(D)?D:0),L=o+(xe(O)?O:0),V;switch(T){case"start":V=sb("calc(".concat(f,")"));break;case"middle":V=sb("calc(".concat((k.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:V=sb("calc(".concat(k.length-1," * -").concat(u,")"));break}var $=[];if(p){var Z=k[0].width,ee=R.width;$.push("scale(".concat((xe(ee)?ee/Z:1)/Z,")"))}return j&&$.push("rotate(".concat(j,", ").concat(B,", ").concat(L,")")),$.length&&(N.transform=$.join(" ")),K.createElement("text",H_({},ot(N,!0),{x:B,y:L,className:at("recharts-text",A),textAnchor:x,fill:I.includes("url")?kk:I}),k.map(function(ae,se){var Q=ae.words.join(P?"":" ");return K.createElement("tspan",{x:B,dy:se===0?V:u,key:"".concat(Q,"-").concat(se)},Q)}))};function na(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dG(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lE(t){let e,n,r;t.length!==2?(e=na,n=(u,c)=>na(t(u),c),r=(u,c)=>t(u)-c):(e=t===na||t===dG?t:hG,n=t,r=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<0?f=p+1:h=p}while(f<h)}return f}function o(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function s(u,c,f=0,h=u.length){const p=i(u,c,f,h-1);return p>f&&r(u[p-1],c)>-r(u[p],c)?p-1:p}return{left:i,center:s,right:o}}function hG(){return 0}function iL(t){return t===null?NaN:+t}function*pG(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const mG=lE(na),Zf=mG.right;lE(iL).center;class Nk extends Map{constructor(e,n=vG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(jk(this,e))}has(e){return super.has(jk(this,e))}set(e,n){return super.set(gG(this,e),n)}delete(e){return super.delete(yG(this,e))}}function jk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function gG({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function yG({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function vG(t){return t!==null&&typeof t=="object"?t.valueOf():t}function xG(t=na){if(t===na)return oL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function oL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const bG=Math.sqrt(50),_G=Math.sqrt(10),wG=Math.sqrt(2);function Ip(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=bG?10:o>=_G?5:o>=wG?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=n&&n<2?Ip(t,e,n*2):[u,c,f]}function G_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Ip(e,t,n):Ip(t,e,n);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(r)if(s<0)for(let f=0;f<u;++f)c[f]=(o-f)/-s;else for(let f=0;f<u;++f)c[f]=(o-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function K_(t,e,n){return e=+e,t=+t,n=+n,Ip(t,e,n)[2]}function Y_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?K_(e,t,n):K_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Rk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Dk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function aL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?oL:xG(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),x=Math.max(n,Math.floor(e-f*p/c+v)),S=Math.min(r,Math.floor(e+(c-f)*p/c+v));aL(t,e,x,S,i)}const o=t[e];let s=n,u=r;for(vc(t,n,e),i(t[r],o)>0&&vc(t,n,r);s<u;){for(vc(t,s,u),++s,--u;i(t[s],o)<0;)++s;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?vc(t,n,u):(++u,vc(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function vc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function EG(t,e,n){if(t=Float64Array.from(pG(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Dk(t);if(e>=1)return Rk(t);var r,i=(r-1)*e,o=Math.floor(i),s=Rk(aL(t,o).subarray(0,o+1)),u=Dk(t.subarray(o+1));return s+(u-s)*(i-o)}}function TG(t,e,n=iL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return s+(u-s)*(i-o)}}function SG(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Tr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function po(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const X_=Symbol("implicit");function uE(){var t=new Nk,e=[],n=[],r=X_;function i(o){let s=t.get(o);if(s===void 0){if(r!==X_)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Nk;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return uE(e,n).unknown(r)},Tr.apply(i,arguments),i}function ff(){var t=uE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var v=e().length,x=i<r,S=x?i:r,T=x?r:i;o=(T-S)/Math.max(1,v-c+f*2),u&&(o=Math.floor(o)),S+=(T-S-o*(v-c))*h,s=o*(1-c),u&&(S=Math.round(S),s=Math.round(s));var _=SG(v).map(function(I){return S+o*I});return n(x?_.reverse():_)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(v){return arguments.length?(u=!!v,p()):u},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),p()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),p()):h},t.copy=function(){return ff(e(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},Tr.apply(p(),arguments)}function sL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return sL(e())},t}function Uc(){return sL(ff.apply(null,arguments).paddingInner(1))}function cE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function lL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ed(){}var df=.7,Cp=1/df,Nl="\\s*([+-]?\\d+)\\s*",hf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AG=/^#([0-9a-f]{3,8})$/,PG=new RegExp(`^rgb\\(${Nl},${Nl},${Nl}\\)$`),IG=new RegExp(`^rgb\\(${vi},${vi},${vi}\\)$`),CG=new RegExp(`^rgba\\(${Nl},${Nl},${Nl},${hf}\\)$`),OG=new RegExp(`^rgba\\(${vi},${vi},${vi},${hf}\\)$`),kG=new RegExp(`^hsl\\(${hf},${vi},${vi}\\)$`),NG=new RegExp(`^hsla\\(${hf},${vi},${vi},${hf}\\)$`),Mk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cE(ed,pf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Lk,formatHex:Lk,formatHex8:jG,formatHsl:RG,formatRgb:$k,toString:$k});function Lk(){return this.rgb().formatHex()}function jG(){return this.rgb().formatHex8()}function RG(){return uL(this).formatHsl()}function $k(){return this.rgb().formatRgb()}function pf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=AG.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Vk(e):n===3?new Wn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ih(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ih(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=PG.exec(t))?new Wn(e[1],e[2],e[3],1):(e=IG.exec(t))?new Wn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=CG.exec(t))?Ih(e[1],e[2],e[3],e[4]):(e=OG.exec(t))?Ih(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=kG.exec(t))?Uk(e[1],e[2]/100,e[3]/100,1):(e=NG.exec(t))?Uk(e[1],e[2]/100,e[3]/100,e[4]):Mk.hasOwnProperty(t)?Vk(Mk[t]):t==="transparent"?new Wn(NaN,NaN,NaN,0):null}function Vk(t){return new Wn(t>>16&255,t>>8&255,t&255,1)}function Ih(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wn(t,e,n,r)}function DG(t){return t instanceof ed||(t=pf(t)),t?(t=t.rgb(),new Wn(t.r,t.g,t.b,t.opacity)):new Wn}function Q_(t,e,n,r){return arguments.length===1?DG(t):new Wn(t,e,n,r??1)}function Wn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cE(Wn,Q_,lL(ed,{brighter(t){return t=t==null?Cp:Math.pow(Cp,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?df:Math.pow(df,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wn(is(this.r),is(this.g),is(this.b),Op(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bk,formatHex:Bk,formatHex8:MG,formatRgb:Fk,toString:Fk}));function Bk(){return`#${Qa(this.r)}${Qa(this.g)}${Qa(this.b)}`}function MG(){return`#${Qa(this.r)}${Qa(this.g)}${Qa(this.b)}${Qa((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fk(){const t=Op(this.opacity);return`${t===1?"rgb(":"rgba("}${is(this.r)}, ${is(this.g)}, ${is(this.b)}${t===1?")":`, ${t})`}`}function Op(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function is(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qa(t){return t=is(t),(t<16?"0":"")+t.toString(16)}function Uk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $r(t,e,n,r)}function uL(t){if(t instanceof $r)return new $r(t.h,t.s,t.l,t.opacity);if(t instanceof ed||(t=pf(t)),!t)return new $r;if(t instanceof $r)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,u=o-i,c=(o+i)/2;return u?(e===o?s=(n-r)/u+(n<r)*6:n===o?s=(r-e)/u+2:s=(e-n)/u+4,u/=c<.5?o+i:2-o-i,s*=60):u=c>0&&c<1?0:s,new $r(s,u,c,t.opacity)}function LG(t,e,n,r){return arguments.length===1?uL(t):new $r(t,e,n,r??1)}function $r(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cE($r,LG,lL(ed,{brighter(t){return t=t==null?Cp:Math.pow(Cp,t),new $r(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?df:Math.pow(df,t),new $r(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wn(lb(t>=240?t-240:t+120,i,r),lb(t,i,r),lb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new $r(qk(this.h),Ch(this.s),Ch(this.l),Op(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Op(this.opacity);return`${t===1?"hsl(":"hsla("}${qk(this.h)}, ${Ch(this.s)*100}%, ${Ch(this.l)*100}%${t===1?")":`, ${t})`}`}}));function qk(t){return t=(t||0)%360,t<0?t+360:t}function Ch(t){return Math.max(0,Math.min(1,t||0))}function lb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const fE=t=>()=>t;function $G(t,e){return function(n){return t+n*e}}function VG(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function BG(t){return(t=+t)==1?cL:function(e,n){return n-e?VG(e,n,t):fE(isNaN(e)?n:e)}}function cL(t,e){var n=e-t;return n?$G(t,n):fE(isNaN(t)?e:t)}const zk=(function t(e){var n=BG(e);function r(i,o){var s=n((i=Q_(i)).r,(o=Q_(o)).r),u=n(i.g,o.g),c=n(i.b,o.b),f=cL(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function FG(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function UG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function qG(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=bu(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(u){for(s=0;s<r;++s)o[s]=i[s](u);return o}}function zG(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function kp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function WG(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=bu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var J_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ub=new RegExp(J_.source,"g");function HG(t){return function(){return t}}function GG(t){return function(e){return t(e)+""}}function KG(t,e){var n=J_.lastIndex=ub.lastIndex=0,r,i,o,s=-1,u=[],c=[];for(t=t+"",e=e+"";(r=J_.exec(t))&&(i=ub.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[s]?u[s]+=o:u[++s]=o),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:kp(r,i)})),n=ub.lastIndex;return n<e.length&&(o=e.slice(n),u[s]?u[s]+=o:u[++s]=o),u.length<2?c[0]?GG(c[0].x):HG(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)u[(p=c[h]).i]=p.x(f);return u.join("")})}function bu(t,e){var n=typeof e,r;return e==null||n==="boolean"?fE(e):(n==="number"?kp:n==="string"?(r=pf(e))?(e=r,zk):KG:e instanceof pf?zk:e instanceof Date?zG:UG(e)?FG:Array.isArray(e)?qG:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?WG:kp)(t,e)}function dE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function YG(t,e){e===void 0&&(e=t,t=bu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[u](s-u)}}function XG(t){return function(){return t}}function Np(t){return+t}var Wk=[0,1];function Dn(t){return t}function Z_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:XG(isNaN(e)?NaN:.5)}function QG(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function JG(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Z_(i,r),o=n(s,o)):(r=Z_(r,i),o=n(o,s)),function(u){return o(r(u))}}function ZG(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Z_(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(u){var c=Zf(t,u,1,r)-1;return o[c](i[c](u))}}function td(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function qm(){var t=Wk,e=Wk,n=bu,r,i,o,s=Dn,u,c,f;function h(){var v=Math.min(t.length,e.length);return s!==Dn&&(s=QG(t[0],t[v-1])),u=v>2?ZG:JG,c=f=null,p}function p(v){return v==null||isNaN(v=+v)?o:(c||(c=u(t.map(r),e,n)))(r(s(v)))}return p.invert=function(v){return s(i((f||(f=u(e,t.map(r),kp)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,Np),h()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),n=dE,h()},p.clamp=function(v){return arguments.length?(s=v?!0:Dn,h()):s!==Dn},p.interpolate=function(v){return arguments.length?(n=v,h()):n},p.unknown=function(v){return arguments.length?(o=v,p):o},function(v,x){return r=v,i=x,h()}}function hE(){return qm()(Dn,Dn)}function eK(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jp(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Kl(t){return t=jp(Math.abs(t)),t?t[1]:NaN}function tK(t,e){return function(n,r){for(var i=n.length,o=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[s=(s+1)%t.length];return o.reverse().join(e)}}function nK(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var rK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mf(t){if(!(e=rK.exec(t)))throw new Error("invalid format: "+t);var e;return new pE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}mf.prototype=pE.prototype;function pE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iK(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Rp;function oK(t,e){var n=jp(t,e);if(!n)return Rp=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(Rp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+jp(t,Math.max(0,e+o-1))[0]}function Hk(t,e){var n=jp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Gk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:eK,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Hk(t*100,e),r:Hk,s:oK,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Kk(t){return t}var Yk=Array.prototype.map,Xk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aK(t){var e=t.grouping===void 0||t.thousands===void 0?Kk:tK(Yk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Kk:nK(Yk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p,v){p=mf(p);var x=p.fill,S=p.align,T=p.sign,_=p.symbol,I=p.zero,R=p.width,k=p.comma,D=p.precision,O=p.trim,j=p.type;j==="n"?(k=!0,j="g"):Gk[j]||(D===void 0&&(D=12),O=!0,j="g"),(I||x==="0"&&S==="=")&&(I=!0,x="0",S="=");var A=(v&&v.prefix!==void 0?v.prefix:"")+(_==="$"?n:_==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),P=(_==="$"?r:/[%p]/.test(j)?s:"")+(v&&v.suffix!==void 0?v.suffix:""),N=Gk[j],B=/[defgprs%]/.test(j);D=D===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function L(V){var $=A,Z=P,ee,ae,se;if(j==="c")Z=N(V)+Z,V="";else{V=+V;var Q=V<0||1/V<0;if(V=isNaN(V)?c:N(Math.abs(V),D),O&&(V=iK(V)),Q&&+V==0&&T!=="+"&&(Q=!1),$=(Q?T==="("?T:u:T==="-"||T==="("?"":T)+$,Z=(j==="s"&&!isNaN(V)&&Rp!==void 0?Xk[8+Rp/3]:"")+Z+(Q&&T==="("?")":""),B){for(ee=-1,ae=V.length;++ee<ae;)if(se=V.charCodeAt(ee),48>se||se>57){Z=(se===46?i+V.slice(ee+1):V.slice(ee))+Z,V=V.slice(0,ee);break}}}k&&!I&&(V=e(V,1/0));var ie=$.length+V.length+Z.length,re=ie<R?new Array(R-ie+1).join(x):"";switch(k&&I&&(V=e(re+V,re.length?R-Z.length:1/0),re=""),S){case"<":V=$+V+Z+re;break;case"=":V=$+re+V+Z;break;case"^":V=re.slice(0,ie=re.length>>1)+$+V+Z+re.slice(ie);break;default:V=re+$+V+Z;break}return o(V)}return L.toString=function(){return p+""},L}function h(p,v){var x=Math.max(-8,Math.min(8,Math.floor(Kl(v)/3)))*3,S=Math.pow(10,-x),T=f((p=mf(p),p.type="f",p),{suffix:Xk[8+x/3]});return function(_){return T(S*_)}}return{format:f,formatPrefix:h}}var Oh,mE,fL;sK({thousands:",",grouping:[3],currency:["$",""]});function sK(t){return Oh=aK(t),mE=Oh.format,fL=Oh.formatPrefix,Oh}function lK(t){return Math.max(0,-Kl(Math.abs(t)))}function uK(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kl(e)/3)))*3-Kl(Math.abs(t)))}function cK(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Kl(e)-Kl(t))+1}function dL(t,e,n,r){var i=Y_(t,e,n),o;switch(r=mf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=uK(i,s))&&(r.precision=o),fL(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=cK(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=lK(i))&&(r.precision=o-(r.type==="%")*2);break}}return mE(r)}function ha(t){var e=t.domain;return t.ticks=function(n){var r=e();return G_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return dL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],u=r[o],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=o,o=f);h-- >0;){if(f=K_(s,u,n),f===c)return r[i]=s,r[o]=u,e(r);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function Dp(){var t=hE();return t.copy=function(){return td(t,Dp())},Tr.apply(t,arguments),ha(t)}function hL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Np),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return hL(t).unknown(e)},t=arguments.length?Array.from(t,Np):[0,1],ha(n)}function pL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Qk(t){return Math.log(t)}function Jk(t){return Math.exp(t)}function fK(t){return-Math.log(-t)}function dK(t){return-Math.exp(-t)}function hK(t){return isFinite(t)?+("1e"+t):t<0?0:t}function pK(t){return t===10?hK:t===Math.E?Math.exp:e=>Math.pow(t,e)}function mK(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Zk(t){return(e,n)=>-t(-e,n)}function gE(t){const e=t(Qk,Jk),n=e.domain;let r=10,i,o;function s(){return i=mK(r),o=pK(r),n()[0]<0?(i=Zk(i),o=Zk(o),t(fK,dK)):t(Qk,Jk),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const c=n();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let v=i(f),x=i(h),S,T;const _=u==null?10:+u;let I=[];if(!(r%1)&&x-v<_){if(v=Math.floor(v),x=Math.ceil(x),f>0){for(;v<=x;++v)for(S=1;S<r;++S)if(T=v<0?S/o(-v):S*o(v),!(T<f)){if(T>h)break;I.push(T)}}else for(;v<=x;++v)for(S=r-1;S>=1;--S)if(T=v>0?S/o(-v):S*o(v),!(T<f)){if(T>h)break;I.push(T)}I.length*2<_&&(I=G_(f,h,_))}else I=G_(v,x,Math.min(x-v,_)).map(o);return p?I.reverse():I},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=mf(c)).precision==null&&(c.trim=!0),c=mE(c)),u===1/0)return c;const f=Math.max(1,r*u/e.ticks().length);return h=>{let p=h/o(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?c(h):""}},e.nice=()=>n(pL(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function mL(){const t=gE(qm()).domain([1,10]);return t.copy=()=>td(t,mL()).base(t.base()),Tr.apply(t,arguments),t}function eN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function tN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function yE(t){var e=1,n=t(eN(e),tN(e));return n.constant=function(r){return arguments.length?t(eN(e=+r),tN(e)):e},ha(n)}function gL(){var t=yE(qm());return t.copy=function(){return td(t,gL()).constant(t.constant())},Tr.apply(t,arguments)}function nN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function gK(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function yK(t){return t<0?-t*t:t*t}function vE(t){var e=t(Dn,Dn),n=1;function r(){return n===1?t(Dn,Dn):n===.5?t(gK,yK):t(nN(n),nN(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ha(e)}function xE(){var t=vE(qm());return t.copy=function(){return td(t,xE()).exponent(t.exponent())},Tr.apply(t,arguments),t}function vK(){return xE.apply(null,arguments).exponent(.5)}function rN(t){return Math.sign(t)*t*t}function xK(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function yL(){var t=hE(),e=[0,1],n=!1,r;function i(o){var s=xK(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(rN(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Np)).map(rN)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return yL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Tr.apply(i,arguments),ha(i)}function vL(){var t=[],e=[],n=[],r;function i(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=TG(t,s/u);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Zf(n,s)]}return o.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(na),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return vL().domain(t).range(e).unknown(r)},Tr.apply(o,arguments)}function xL(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[Zf(r,c,0,n)]:o}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return xL().domain([t,e]).range(i).unknown(o)},Tr.apply(ha(s),arguments)}function bL(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Zf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return bL().domain(t).range(e).unknown(n)},Tr.apply(i,arguments)}const cb=new Date,fb=new Date;function rn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),u=i.ceil(o);return o-s<u-o?s:u},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,u)=>{const c=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<s)||!(u>0))return c;let f;do c.push(f=new Date(+o)),e(o,u),t(o);while(f<o&&o<s);return c},i.filter=o=>rn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!o(s););else for(;--u>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(cb.setTime(+o),fb.setTime(+s),t(cb),t(fb),Math.floor(n(cb,fb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Mp=rn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Mp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?rn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Mp);Mp.range;const Xi=1e3,_r=Xi*60,Qi=_r*60,so=Qi*24,bE=so*7,iN=so*30,db=so*365,Ja=rn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Xi)},(t,e)=>(e-t)/Xi,t=>t.getUTCSeconds());Ja.range;const _E=rn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xi)},(t,e)=>{t.setTime(+t+e*_r)},(t,e)=>(e-t)/_r,t=>t.getMinutes());_E.range;const wE=rn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*_r)},(t,e)=>(e-t)/_r,t=>t.getUTCMinutes());wE.range;const EE=rn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xi-t.getMinutes()*_r)},(t,e)=>{t.setTime(+t+e*Qi)},(t,e)=>(e-t)/Qi,t=>t.getHours());EE.range;const TE=rn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Qi)},(t,e)=>(e-t)/Qi,t=>t.getUTCHours());TE.range;const nd=rn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_r)/so,t=>t.getDate()-1);nd.range;const zm=rn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/so,t=>t.getUTCDate()-1);zm.range;const _L=rn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/so,t=>Math.floor(t/so));_L.range;function Es(t){return rn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*_r)/bE)}const Wm=Es(0),Lp=Es(1),bK=Es(2),_K=Es(3),Yl=Es(4),wK=Es(5),EK=Es(6);Wm.range;Lp.range;bK.range;_K.range;Yl.range;wK.range;EK.range;function Ts(t){return rn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/bE)}const Hm=Ts(0),$p=Ts(1),TK=Ts(2),SK=Ts(3),Xl=Ts(4),AK=Ts(5),PK=Ts(6);Hm.range;$p.range;TK.range;SK.range;Xl.range;AK.range;PK.range;const SE=rn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());SE.range;const AE=rn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());AE.range;const lo=rn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());lo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:rn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});lo.range;const uo=rn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());uo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:rn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});uo.range;function wL(t,e,n,r,i,o){const s=[[Ja,1,Xi],[Ja,5,5*Xi],[Ja,15,15*Xi],[Ja,30,30*Xi],[o,1,_r],[o,5,5*_r],[o,15,15*_r],[o,30,30*_r],[i,1,Qi],[i,3,3*Qi],[i,6,6*Qi],[i,12,12*Qi],[r,1,so],[r,2,2*so],[n,1,bE],[e,1,iN],[e,3,3*iN],[t,1,db]];function u(f,h,p){const v=h<f;v&&([f,h]=[h,f]);const x=p&&typeof p.range=="function"?p:c(f,h,p),S=x?x.range(f,+h+1):[];return v?S.reverse():S}function c(f,h,p){const v=Math.abs(h-f)/p,x=lE(([,,_])=>_).right(s,v);if(x===s.length)return t.every(Y_(f/db,h/db,p));if(x===0)return Mp.every(Math.max(Y_(f,h,p),1));const[S,T]=s[v/s[x-1][2]<s[x][2]/v?x-1:x];return S.every(T)}return[u,c]}const[IK,CK]=wL(uo,AE,Hm,_L,TE,wE),[OK,kK]=wL(lo,SE,Wm,nd,EE,_E);function hb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function pb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function NK(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=bc(i),h=_c(i),p=bc(o),v=_c(o),x=bc(s),S=_c(s),T=bc(u),_=_c(u),I=bc(c),R=_c(c),k={a:se,A:Q,b:ie,B:re,c:null,d:cN,e:cN,f:tY,g:fY,G:hY,H:JK,I:ZK,j:eY,L:EL,m:nY,M:rY,p:z,q:G,Q:hN,s:pN,S:iY,u:oY,U:aY,V:sY,w:lY,W:uY,x:null,X:null,y:cY,Y:dY,Z:pY,"%":dN},D={a:ge,A:_e,b:Ce,B:Re,c:null,d:fN,e:fN,f:vY,g:IY,G:OY,H:mY,I:gY,j:yY,L:SL,m:xY,M:bY,p:We,q:Le,Q:hN,s:pN,S:_Y,u:wY,U:EY,V:TY,w:SY,W:AY,x:null,X:null,y:PY,Y:CY,Z:kY,"%":dN},O={a:B,A:L,b:V,B:$,c:Z,d:lN,e:lN,f:KK,g:sN,G:aN,H:uN,I:uN,j:zK,L:GK,m:qK,M:WK,p:N,q:UK,Q:XK,s:QK,S:HK,u:LK,U:$K,V:VK,w:MK,W:BK,x:ee,X:ae,y:sN,Y:aN,Z:FK,"%":YK};k.x=j(n,k),k.X=j(r,k),k.c=j(e,k),D.x=j(n,D),D.X=j(r,D),D.c=j(e,D);function j(he,Oe){return function(Be){var ce=[],rt=-1,ze=0,Pt=he.length,yt,Rt,Mn;for(Be instanceof Date||(Be=new Date(+Be));++rt<Pt;)he.charCodeAt(rt)===37&&(ce.push(he.slice(ze,rt)),(Rt=oN[yt=he.charAt(++rt)])!=null?yt=he.charAt(++rt):Rt=yt==="e"?" ":"0",(Mn=Oe[yt])&&(yt=Mn(Be,Rt)),ce.push(yt),ze=rt+1);return ce.push(he.slice(ze,rt)),ce.join("")}}function A(he,Oe){return function(Be){var ce=xc(1900,void 0,1),rt=P(ce,he,Be+="",0),ze,Pt;if(rt!=Be.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(Oe&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(ze=pb(xc(ce.y,0,1)),Pt=ze.getUTCDay(),ze=Pt>4||Pt===0?$p.ceil(ze):$p(ze),ze=zm.offset(ze,(ce.V-1)*7),ce.y=ze.getUTCFullYear(),ce.m=ze.getUTCMonth(),ce.d=ze.getUTCDate()+(ce.w+6)%7):(ze=hb(xc(ce.y,0,1)),Pt=ze.getDay(),ze=Pt>4||Pt===0?Lp.ceil(ze):Lp(ze),ze=nd.offset(ze,(ce.V-1)*7),ce.y=ze.getFullYear(),ce.m=ze.getMonth(),ce.d=ze.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Pt="Z"in ce?pb(xc(ce.y,0,1)).getUTCDay():hb(xc(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Pt+5)%7:ce.w+ce.U*7-(Pt+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,pb(ce)):hb(ce)}}function P(he,Oe,Be,ce){for(var rt=0,ze=Oe.length,Pt=Be.length,yt,Rt;rt<ze;){if(ce>=Pt)return-1;if(yt=Oe.charCodeAt(rt++),yt===37){if(yt=Oe.charAt(rt++),Rt=O[yt in oN?Oe.charAt(rt++):yt],!Rt||(ce=Rt(he,Be,ce))<0)return-1}else if(yt!=Be.charCodeAt(ce++))return-1}return ce}function N(he,Oe,Be){var ce=f.exec(Oe.slice(Be));return ce?(he.p=h.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function B(he,Oe,Be){var ce=x.exec(Oe.slice(Be));return ce?(he.w=S.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function L(he,Oe,Be){var ce=p.exec(Oe.slice(Be));return ce?(he.w=v.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function V(he,Oe,Be){var ce=I.exec(Oe.slice(Be));return ce?(he.m=R.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function $(he,Oe,Be){var ce=T.exec(Oe.slice(Be));return ce?(he.m=_.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function Z(he,Oe,Be){return P(he,e,Oe,Be)}function ee(he,Oe,Be){return P(he,n,Oe,Be)}function ae(he,Oe,Be){return P(he,r,Oe,Be)}function se(he){return s[he.getDay()]}function Q(he){return o[he.getDay()]}function ie(he){return c[he.getMonth()]}function re(he){return u[he.getMonth()]}function z(he){return i[+(he.getHours()>=12)]}function G(he){return 1+~~(he.getMonth()/3)}function ge(he){return s[he.getUTCDay()]}function _e(he){return o[he.getUTCDay()]}function Ce(he){return c[he.getUTCMonth()]}function Re(he){return u[he.getUTCMonth()]}function We(he){return i[+(he.getUTCHours()>=12)]}function Le(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Oe=j(he+="",k);return Oe.toString=function(){return he},Oe},parse:function(he){var Oe=A(he+="",!1);return Oe.toString=function(){return he},Oe},utcFormat:function(he){var Oe=j(he+="",D);return Oe.toString=function(){return he},Oe},utcParse:function(he){var Oe=A(he+="",!0);return Oe.toString=function(){return he},Oe}}}var oN={"-":"",_:" ",0:"0"},fn=/^\s*\d+/,jK=/^%/,RK=/[\\^$*+?|[\]().{}]/g;function nt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function DK(t){return t.replace(RK,"\\$&")}function bc(t){return new RegExp("^(?:"+t.map(DK).join("|")+")","i")}function _c(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function MK(t,e,n){var r=fn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function LK(t,e,n){var r=fn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function $K(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function VK(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function BK(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function aN(t,e,n){var r=fn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function sN(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function FK(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function UK(t,e,n){var r=fn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function qK(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function lN(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function zK(t,e,n){var r=fn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function uN(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function WK(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function HK(t,e,n){var r=fn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function GK(t,e,n){var r=fn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function KK(t,e,n){var r=fn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function YK(t,e,n){var r=jK.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function XK(t,e,n){var r=fn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function QK(t,e,n){var r=fn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function cN(t,e){return nt(t.getDate(),e,2)}function JK(t,e){return nt(t.getHours(),e,2)}function ZK(t,e){return nt(t.getHours()%12||12,e,2)}function eY(t,e){return nt(1+nd.count(lo(t),t),e,3)}function EL(t,e){return nt(t.getMilliseconds(),e,3)}function tY(t,e){return EL(t,e)+"000"}function nY(t,e){return nt(t.getMonth()+1,e,2)}function rY(t,e){return nt(t.getMinutes(),e,2)}function iY(t,e){return nt(t.getSeconds(),e,2)}function oY(t){var e=t.getDay();return e===0?7:e}function aY(t,e){return nt(Wm.count(lo(t)-1,t),e,2)}function TL(t){var e=t.getDay();return e>=4||e===0?Yl(t):Yl.ceil(t)}function sY(t,e){return t=TL(t),nt(Yl.count(lo(t),t)+(lo(t).getDay()===4),e,2)}function lY(t){return t.getDay()}function uY(t,e){return nt(Lp.count(lo(t)-1,t),e,2)}function cY(t,e){return nt(t.getFullYear()%100,e,2)}function fY(t,e){return t=TL(t),nt(t.getFullYear()%100,e,2)}function dY(t,e){return nt(t.getFullYear()%1e4,e,4)}function hY(t,e){var n=t.getDay();return t=n>=4||n===0?Yl(t):Yl.ceil(t),nt(t.getFullYear()%1e4,e,4)}function pY(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+nt(e/60|0,"0",2)+nt(e%60,"0",2)}function fN(t,e){return nt(t.getUTCDate(),e,2)}function mY(t,e){return nt(t.getUTCHours(),e,2)}function gY(t,e){return nt(t.getUTCHours()%12||12,e,2)}function yY(t,e){return nt(1+zm.count(uo(t),t),e,3)}function SL(t,e){return nt(t.getUTCMilliseconds(),e,3)}function vY(t,e){return SL(t,e)+"000"}function xY(t,e){return nt(t.getUTCMonth()+1,e,2)}function bY(t,e){return nt(t.getUTCMinutes(),e,2)}function _Y(t,e){return nt(t.getUTCSeconds(),e,2)}function wY(t){var e=t.getUTCDay();return e===0?7:e}function EY(t,e){return nt(Hm.count(uo(t)-1,t),e,2)}function AL(t){var e=t.getUTCDay();return e>=4||e===0?Xl(t):Xl.ceil(t)}function TY(t,e){return t=AL(t),nt(Xl.count(uo(t),t)+(uo(t).getUTCDay()===4),e,2)}function SY(t){return t.getUTCDay()}function AY(t,e){return nt($p.count(uo(t)-1,t),e,2)}function PY(t,e){return nt(t.getUTCFullYear()%100,e,2)}function IY(t,e){return t=AL(t),nt(t.getUTCFullYear()%100,e,2)}function CY(t,e){return nt(t.getUTCFullYear()%1e4,e,4)}function OY(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Xl(t):Xl.ceil(t),nt(t.getUTCFullYear()%1e4,e,4)}function kY(){return"+0000"}function dN(){return"%"}function hN(t){return+t}function pN(t){return Math.floor(+t/1e3)}var hl,PL,IL;NY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function NY(t){return hl=NK(t),PL=hl.format,hl.parse,IL=hl.utcFormat,hl.utcParse,hl}function jY(t){return new Date(t)}function RY(t){return t instanceof Date?+t:+new Date(+t)}function PE(t,e,n,r,i,o,s,u,c,f){var h=hE(),p=h.invert,v=h.domain,x=f(".%L"),S=f(":%S"),T=f("%I:%M"),_=f("%I %p"),I=f("%a %d"),R=f("%b %d"),k=f("%B"),D=f("%Y");function O(j){return(c(j)<j?x:u(j)<j?S:s(j)<j?T:o(j)<j?_:r(j)<j?i(j)<j?I:R:n(j)<j?k:D)(j)}return h.invert=function(j){return new Date(p(j))},h.domain=function(j){return arguments.length?v(Array.from(j,RY)):v().map(jY)},h.ticks=function(j){var A=v();return t(A[0],A[A.length-1],j??10)},h.tickFormat=function(j,A){return A==null?O:f(A)},h.nice=function(j){var A=v();return(!j||typeof j.range!="function")&&(j=e(A[0],A[A.length-1],j??10)),j?v(pL(A,j)):h},h.copy=function(){return td(h,PE(t,e,n,r,i,o,s,u,c,f))},h}function DY(){return Tr.apply(PE(OK,kK,lo,SE,Wm,nd,EE,_E,Ja,PL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function MY(){return Tr.apply(PE(IK,CK,uo,AE,Hm,zm,TE,wE,Ja,IL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gm(){var t=0,e=1,n,r,i,o,s=Dn,u=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(o(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(v){var x,S;return arguments.length?([x,S]=v,s=p(x,S),f):[s(0),s(1)]}}return f.range=h(bu),f.rangeRound=h(dE),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function pa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function CL(){var t=ha(Gm()(Dn));return t.copy=function(){return pa(t,CL())},po.apply(t,arguments)}function OL(){var t=gE(Gm()).domain([1,10]);return t.copy=function(){return pa(t,OL()).base(t.base())},po.apply(t,arguments)}function kL(){var t=yE(Gm());return t.copy=function(){return pa(t,kL()).constant(t.constant())},po.apply(t,arguments)}function IE(){var t=vE(Gm());return t.copy=function(){return pa(t,IE()).exponent(t.exponent())},po.apply(t,arguments)}function LY(){return IE.apply(null,arguments).exponent(.5)}function NL(){var t=[],e=Dn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Zf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(na),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>EG(t,o/r))},n.copy=function(){return NL(e).domain(t)},po.apply(n,arguments)}function Km(){var t=0,e=.5,n=1,r=1,i,o,s,u,c,f=Dn,h,p=!1,v;function x(T){return isNaN(T=+T)?v:(T=.5+((T=+h(T))-o)*(r*T<r*o?u:c),f(p?Math.max(0,Math.min(1,T)):T))}x.domain=function(T){return arguments.length?([t,e,n]=T,i=h(t=+t),o=h(e=+e),s=h(n=+n),u=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,x):[t,e,n]},x.clamp=function(T){return arguments.length?(p=!!T,x):p},x.interpolator=function(T){return arguments.length?(f=T,x):f};function S(T){return function(_){var I,R,k;return arguments.length?([I,R,k]=_,f=YG(T,[I,R,k]),x):[f(0),f(.5),f(1)]}}return x.range=S(bu),x.rangeRound=S(dE),x.unknown=function(T){return arguments.length?(v=T,x):v},function(T){return h=T,i=T(t),o=T(e),s=T(n),u=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,x}}function jL(){var t=ha(Km()(Dn));return t.copy=function(){return pa(t,jL())},po.apply(t,arguments)}function RL(){var t=gE(Km()).domain([.1,1,10]);return t.copy=function(){return pa(t,RL()).base(t.base())},po.apply(t,arguments)}function DL(){var t=yE(Km());return t.copy=function(){return pa(t,DL()).constant(t.constant())},po.apply(t,arguments)}function CE(){var t=vE(Km());return t.copy=function(){return pa(t,CE()).exponent(t.exponent())},po.apply(t,arguments)}function $Y(){return CE.apply(null,arguments).exponent(.5)}const mN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ff,scaleDiverging:jL,scaleDivergingLog:RL,scaleDivergingPow:CE,scaleDivergingSqrt:$Y,scaleDivergingSymlog:DL,scaleIdentity:hL,scaleImplicit:X_,scaleLinear:Dp,scaleLog:mL,scaleOrdinal:uE,scalePoint:Uc,scalePow:xE,scaleQuantile:vL,scaleQuantize:xL,scaleRadial:yL,scaleSequential:CL,scaleSequentialLog:OL,scaleSequentialPow:IE,scaleSequentialQuantile:NL,scaleSequentialSqrt:LY,scaleSequentialSymlog:kL,scaleSqrt:vK,scaleSymlog:gL,scaleThreshold:bL,scaleTime:DY,scaleUtc:MY,tickFormat:dL},Symbol.toStringTag,{value:"Module"}));var mb,gN;function ML(){if(gN)return mb;gN=1;var t=yu();function e(n,r,i){for(var o=-1,s=n.length;++o<s;){var u=n[o],c=r(u);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=u}return h}return mb=e,mb}var gb,yN;function VY(){if(yN)return gb;yN=1;function t(e,n){return e>n}return gb=t,gb}var yb,vN;function BY(){if(vN)return yb;vN=1;var t=ML(),e=VY(),n=xu();function r(i){return i&&i.length?t(i,n,e):void 0}return yb=r,yb}var FY=BY();const Ym=ht(FY);var vb,xN;function UY(){if(xN)return vb;xN=1;function t(e,n){return e<n}return vb=t,vb}var xb,bN;function qY(){if(bN)return xb;bN=1;var t=ML(),e=UY(),n=xu();function r(i){return i&&i.length?t(i,n,e):void 0}return xb=r,xb}var zY=qY();const Xm=ht(zY);var bb,_N;function WY(){if(_N)return bb;_N=1;var t=z1(),e=da(),n=HM(),r=Gn();function i(o,s){var u=r(o)?t:n;return u(o,e(s,3))}return bb=i,bb}var _b,wN;function HY(){if(wN)return _b;wN=1;var t=zM(),e=WY();function n(r,i){return t(e(r,i),1)}return _b=n,_b}var GY=HY();const KY=ht(GY);var wb,EN;function YY(){if(EN)return wb;EN=1;var t=rE();function e(n,r){return t(n,r)}return wb=e,wb}var XY=YY();const OE=ht(XY);var _u=1e9,QY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},NE,Ct=!0,Er="[DecimalError] ",os=Er+"Invalid argument: ",kE=Er+"Exponent out of range: ",wu=Math.floor,Ha=Math.pow,JY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ar,un=1e7,Tt=7,LL=9007199254740991,Vp=wu(LL/Tt),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Tt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(t){return to(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,n=e.constructor;return gt(to(e,new n(t),0,1),n.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return Ht(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ar))throw Error(Er+"NaN");if(n.s<1)throw Error(Er+(n.s?"NaN":"-Infinity"));return n.eq(ar)?new r(0):(Ct=!1,e=to(gf(n,o),gf(t,o),o),Ct=!0,gt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?BL(e,t):$L(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Er+"NaN");return n.s?(Ct=!1,e=to(n,t,0,1).times(t),Ct=!0,n.minus(e)):gt(new r(n),i)};Te.naturalExponential=Te.exp=function(){return VL(this)};Te.naturalLogarithm=Te.ln=function(){return gf(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$L(e,t):BL(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(os+t);if(e=Ht(i)+1,r=i.d.length-1,n=r*Tt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Te.squareRoot=Te.sqrt=function(){var t,e,n,r,i,o,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Er+"NaN")}for(t=Ht(u),Ct=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=di(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=wu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(o=r,r=o.plus(to(u,o,s+2)).times(.5),di(o.d).slice(0,s)===(e=di(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(gt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;s+=4}return Ct=!0,gt(r,n)};Te.times=Te.mul=function(t){var e,n,r,i,o,s,u,c,f,h=this,p=h.constructor,v=h.d,x=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=v.length,f=x.length,c<f&&(o=v,v=x,x=o,s=c,c=f,f=s),o=[],s=c+f,r=s;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)u=o[i]+x[r]*v[i-r-1]+e,o[i--]=u%un|0,e=u/un|0;o[i]=(o[i]+e)%un|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ct?gt(t,p.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ei(t,0,_u),e===void 0?e=r.rounding:Ei(e,0,8),gt(n,t+Ht(n)+1,e))};Te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ms(r,!0):(Ei(t,0,_u),e===void 0?e=i.rounding:Ei(e,0,8),r=gt(new i(r),t+1,e),n=ms(r,!0,t+1)),n};Te.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?ms(i):(Ei(t,0,_u),e===void 0?e=o.rounding:Ei(e,0,8),r=gt(new o(i),t+Ht(i)+1,e),n=ms(r.abs(),!1,t+Ht(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return gt(new e(t),Ht(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,n,r,i,o,s,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(ar);if(u=new c(u),!u.s){if(t.s<1)throw Error(Er+"Infinity");return u}if(u.eq(ar))return u;if(r=c.precision,t.eq(ar))return gt(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=u.s,s){if((n=h<0?-h:h)<=LL){for(i=new c(ar),e=Math.ceil(r/Tt+4),Ct=!1;n%2&&(i=i.times(u),SN(i.d,e)),n=wu(n/2),n!==0;)u=u.times(u),SN(u.d,e);return Ct=!0,t.s<0?new c(ar).div(i):gt(i,r)}}else if(o<0)throw Error(Er+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Ct=!1,i=t.times(gf(u,r+f)),Ct=!0,i=VL(i),i.s=o,i};Te.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Ht(i),r=ms(i,n<=o.toExpNeg||n>=o.toExpPos)):(Ei(t,1,_u),e===void 0?e=o.rounding:Ei(e,0,8),i=gt(new o(i),t,e),n=Ht(i),r=ms(i,t<=n||n<=o.toExpNeg,t)),r};Te.toSignificantDigits=Te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ei(t,1,_u),e===void 0?e=r.rounding:Ei(e,0,8)),gt(new r(n),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ht(t),n=t.constructor;return ms(t,e<=n.toExpNeg||e>=n.toExpPos)};function $L(t,e){var n,r,i,o,s,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Ct?gt(e,p):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),o=s-i,o){for(o<0?(r=c,o=-o,u=f.length):(r=f,i=s,u=c.length),s=Math.ceil(p/Tt),u=s>u?s+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=c.length,o=f.length,u-o<0&&(o=u,r=f,f=c,c=r),n=0;o;)n=(c[--o]=c[o]+f[o]+n)/un|0,c[o]%=un;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Ct?gt(e,p):e}function Ei(t,e,n){if(t!==~~t||t<e||t>n)throw Error(os+t)}function di(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Tt-r.length,n&&(o+=zo(n)),o+=r;s=t[e],r=s+"",n=Tt-r.length,n&&(o+=zo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var to=(function(){function t(r,i){var o,s=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+s,r[u]=o%un|0,s=o/un|0;return s&&r.unshift(s),r}function e(r,i,o,s){var u,c;if(o!=s)c=o>s?1:-1;else for(u=c=0;u<o;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*un+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var u,c,f,h,p,v,x,S,T,_,I,R,k,D,O,j,A,P,N=r.constructor,B=r.s==i.s?1:-1,L=r.d,V=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(Er+"Division by zero");for(c=r.e-i.e,A=V.length,O=L.length,x=new N(B),S=x.d=[],f=0;V[f]==(L[f]||0);)++f;if(V[f]>(L[f]||0)&&--c,o==null?R=o=N.precision:s?R=o+(Ht(r)-Ht(i))+1:R=o,R<0)return new N(0);if(R=R/Tt+2|0,f=0,A==1)for(h=0,V=V[0],R++;(f<O||h)&&R--;f++)k=h*un+(L[f]||0),S[f]=k/V|0,h=k%V|0;else{for(h=un/(V[0]+1)|0,h>1&&(V=t(V,h),L=t(L,h),A=V.length,O=L.length),D=A,T=L.slice(0,A),_=T.length;_<A;)T[_++]=0;P=V.slice(),P.unshift(0),j=V[0],V[1]>=un/2&&++j;do h=0,u=e(V,T,A,_),u<0?(I=T[0],A!=_&&(I=I*un+(T[1]||0)),h=I/j|0,h>1?(h>=un&&(h=un-1),p=t(V,h),v=p.length,_=T.length,u=e(p,T,v,_),u==1&&(h--,n(p,A<v?P:V,v))):(h==0&&(u=h=1),p=V.slice()),v=p.length,v<_&&p.unshift(0),n(T,p,_),u==-1&&(_=T.length,u=e(V,T,A,_),u<1&&(h++,n(T,A<_?P:V,_))),_=T.length):u===0&&(h++,T=[0]),S[f++]=h,u&&T[0]?T[_++]=L[D]||0:(T=[L[D]],_=1);while((D++<O||T[0]!==void 0)&&R--)}return S[0]||S.shift(),x.e=c,gt(x,s?o+Ht(x)+1:o)}})();function VL(t,e){var n,r,i,o,s,u,c=0,f=0,h=t.constructor,p=h.precision;if(Ht(t)>16)throw Error(kE+Ht(t));if(!t.s)return new h(ar);for(Ct=!1,u=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(Ha(2,f))/Math.LN10*2+5|0,u+=r,n=i=o=new h(ar),h.precision=u;;){if(i=gt(i.times(t),u),n=n.times(++c),s=o.plus(to(i,n,u)),di(s.d).slice(0,u)===di(o.d).slice(0,u)){for(;f--;)o=gt(o.times(o),u);return h.precision=p,e==null?(Ct=!0,gt(o,p)):o}o=s}}function Ht(t){for(var e=t.e*Tt,n=t.d[0];n>=10;n/=10)e++;return e}function Eb(t,e,n){if(e>t.LN10.sd())throw Ct=!0,n&&(t.precision=n),Error(Er+"LN10 precision limit exceeded");return gt(new t(t.LN10),e)}function zo(t){for(var e="";t--;)e+="0";return e}function gf(t,e){var n,r,i,o,s,u,c,f,h,p=1,v=10,x=t,S=x.d,T=x.constructor,_=T.precision;if(x.s<1)throw Error(Er+(x.s?"NaN":"-Infinity"));if(x.eq(ar))return new T(0);if(e==null?(Ct=!1,f=_):f=e,x.eq(10))return e==null&&(Ct=!0),Eb(T,f);if(f+=v,T.precision=f,n=di(S),r=n.charAt(0),o=Ht(x),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=di(x.d),r=n.charAt(0),p++;o=Ht(x),r>1?(x=new T("0."+n),o++):x=new T(r+"."+n.slice(1))}else return c=Eb(T,f+2,_).times(o+""),x=gf(new T(r+"."+n.slice(1)),f-v).plus(c),T.precision=_,e==null?(Ct=!0,gt(x,_)):x;for(u=s=x=to(x.minus(ar),x.plus(ar),f),h=gt(x.times(x),f),i=3;;){if(s=gt(s.times(h),f),c=u.plus(to(s,new T(i),f)),di(c.d).slice(0,f)===di(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(Eb(T,f+2,_).times(o+""))),u=to(u,new T(p),f),T.precision=_,e==null?(Ct=!0,gt(u,_)):u;u=c,i+=2}}function TN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=wu(n/Tt),t.d=[],r=(n+1)%Tt,n<0&&(r+=Tt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Tt;r<i;)t.d.push(+e.slice(r,r+=Tt));e=e.slice(r),r=Tt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ct&&(t.e>Vp||t.e<-Vp))throw Error(kE+n)}else t.s=0,t.e=0,t.d=[0];return t}function gt(t,e,n){var r,i,o,s,u,c,f,h,p=t.d;for(s=1,o=p[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Tt,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/Tt),o=p.length,h>=o)return t;for(f=o=p[h],s=1;o>=10;o/=10)s++;r%=Tt,i=r-Tt+s}if(n!==void 0&&(o=Ha(10,s-i-1),u=f/o%10|0,c=e<0||p[h+1]!==void 0||f%o,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?f/Ha(10,s-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(o=Ht(t),p.length=1,e=e-o-1,p[0]=Ha(10,(Tt-e%Tt)%Tt),t.e=wu(-e/Tt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,o=1,h--):(p.length=h+1,o=Ha(10,Tt-r),p[h]=i>0?(f/Ha(10,s-i)%Ha(10,i)|0)*o:0),c)for(;;)if(h==0){(p[0]+=o)==un&&(p[0]=1,++t.e);break}else{if(p[h]+=o,p[h]!=un)break;p[h--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(Ct&&(t.e>Vp||t.e<-Vp))throw Error(kE+Ht(t));return t}function BL(t,e){var n,r,i,o,s,u,c,f,h,p,v=t.constructor,x=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Ct?gt(e,x):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,u=p.length):(n=p,r=f,u=c.length),i=Math.max(Math.ceil(x/Tt),u)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}s=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=un-1;--c[o],c[i]+=un}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Ct?gt(e,x):e):new v(0)}function ms(t,e,n){var r,i=Ht(t),o=di(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+zo(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+zo(-i-1)+o,n&&(r=n-s)>0&&(o+=zo(r))):i>=s?(o+=zo(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+zo(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=zo(r))),t.s<0?"-"+o:o}function SN(t,e){if(t.length>e)return t.length=e,!0}function FL(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(os+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return TN(s,o.toString())}else if(typeof o!="string")throw Error(os+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,JY.test(o))TN(s,o);else throw Error(os+o)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=FL,i.config=i.set=ZY,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ZY(t){if(!t||typeof t!="object")throw Error(Er+"Object expected");var e,n,r,i=["precision",1,_u,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(wu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(os+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(os+n+": "+r);return this}var NE=FL(QY);ar=new NE(1);const dt=NE;function eX(t){return iX(t)||rX(t)||nX(t)||tX()}function tX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nX(t,e){if(t){if(typeof t=="string")return ew(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ew(t,e)}}function rX(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function iX(t){if(Array.isArray(t))return ew(t)}function ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var oX=function(e){return e},UL={},qL=function(e){return e===UL},AN=function(e){return function n(){return arguments.length===0||arguments.length===1&&qL(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},aX=function t(e,n){return e===1?n:AN(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(u){return u!==UL}).length;return s>=e?n.apply(void 0,i):t(e-s,AN(function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];var h=i.map(function(p){return qL(p)?c.shift():p});return n.apply(void 0,eX(h).concat(c))}))})},Qm=function(e){return aX(e.length,e)},tw=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},sX=Qm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),lX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return oX;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(u,c){return c(u)},o.apply(void 0,arguments))}},nw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},zL=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(u,c){return u===n[c]})||(n=o,r=e.apply(void 0,o)),r}};function uX(t){var e;return t===0?e=1:e=Math.floor(new dt(t).abs().log(10).toNumber())+1,e}function cX(t,e,n){for(var r=new dt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var fX=Qm(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),dX=Qm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),hX=Qm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Jm={rangeStep:cX,getDigitCount:uX,interpolateNumber:fX,uninterpolateNumber:dX,uninterpolateTruncation:hX};function rw(t){return gX(t)||mX(t)||WL(t)||pX()}function pX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mX(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function gX(t){if(Array.isArray(t))return iw(t)}function yf(t,e){return xX(t)||vX(t,e)||WL(t,e)||yX()}function yX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WL(t,e){if(t){if(typeof t=="string")return iw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iw(t,e)}}function iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vX(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),u;!(r=(u=s.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,o=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function xX(t){if(Array.isArray(t))return t}function HL(t){var e=yf(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function GL(t,e,n){if(t.lte(0))return new dt(0);var r=Jm.getDigitCount(t.toNumber()),i=new dt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,u=new dt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),c=u.mul(i);return e?c:new dt(Math.ceil(c))}function bX(t,e,n){var r=1,i=new dt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new dt(10).pow(Jm.getDigitCount(t)-1),i=new dt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new dt(Math.floor(t)))}else t===0?i=new dt(Math.floor((e-1)/2)):n||(i=new dt(Math.floor(t)));var s=Math.floor((e-1)/2),u=lX(sX(function(c){return i.add(new dt(c-s).mul(r)).toNumber()}),tw);return u(0,e)}function KL(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new dt(0),tickMin:new dt(0),tickMax:new dt(0)};var o=GL(new dt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new dt(0):(s=new dt(t).add(e).div(2),s=s.sub(new dt(s).mod(o)));var u=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new dt(e).sub(s).div(o).toNumber()),f=u+c+1;return f>n?KL(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,u=e>0?u:u+(n-f)),{step:o,tickMin:s.sub(new dt(u).mul(o)),tickMax:s.add(new dt(c).mul(o))})}function _X(t){var e=yf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),u=HL([n,r]),c=yf(u,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var p=h===1/0?[f].concat(rw(tw(0,i-1).map(function(){return 1/0}))):[].concat(rw(tw(0,i-1).map(function(){return-1/0})),[h]);return n>r?nw(p):p}if(f===h)return bX(f,i,o);var v=KL(f,h,s,o),x=v.step,S=v.tickMin,T=v.tickMax,_=Jm.rangeStep(S,T.add(new dt(.1).mul(x)),x);return n>r?nw(_):_}function wX(t,e){var n=yf(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=HL([r,i]),u=yf(s,2),c=u[0],f=u[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var h=Math.max(e,2),p=GL(new dt(f).sub(c).div(h-1),o,0),v=[].concat(rw(Jm.rangeStep(new dt(c),new dt(f).sub(new dt(.99).mul(p)),p)),[f]);return r>i?nw(v):v}var EX=zL(_X),TX=zL(wX),SX="Invariant failed";function gs(t,e){throw new Error(SX)}var AX=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function Bp(){return Bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bp.apply(this,arguments)}function PX(t,e){return kX(t)||OX(t,e)||CX(t,e)||IX()}function IX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CX(t,e){if(t){if(typeof t=="string")return PN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PN(t,e)}}function PN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function kX(t){if(Array.isArray(t))return t}function NX(t,e){if(t==null)return{};var n=jX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QL(r.key),r)}}function MX(t,e,n){return e&&DX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LX(t,e,n){return e=Fp(e),$X(t,YL()?Reflect.construct(e,n||[],Fp(t).constructor):e.apply(t,n))}function $X(t,e){if(e&&(Ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VX(t)}function VX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YL=function(){return!!t})()}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fp(t)}function BX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ow(t,e)}function ow(t,e){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ow(t,e)}function XL(t,e,n){return e=QL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QL(t){var e=FX(t,"string");return Ql(e)=="symbol"?e:e+""}function FX(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zm=(function(t){function e(){return RX(this,e),LX(this,e,arguments)}return BX(e,t),MX(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,u=r.dataKey,c=r.data,f=r.dataPointFormatter,h=r.xAxis,p=r.yAxis,v=NX(r,AX),x=ot(v,!1);this.props.direction==="x"&&h.type!=="number"&&gs();var S=c.map(function(T){var _=f(T,u),I=_.x,R=_.y,k=_.value,D=_.errorVal;if(!D)return null;var O=[],j,A;if(Array.isArray(D)){var P=PX(D,2);j=P[0],A=P[1]}else j=A=D;if(o==="vertical"){var N=h.scale,B=R+i,L=B+s,V=B-s,$=N(k-j),Z=N(k+A);O.push({x1:Z,y1:L,x2:Z,y2:V}),O.push({x1:$,y1:B,x2:Z,y2:B}),O.push({x1:$,y1:L,x2:$,y2:V})}else if(o==="horizontal"){var ee=p.scale,ae=I+i,se=ae-s,Q=ae+s,ie=ee(k-j),re=ee(k+A);O.push({x1:se,y1:re,x2:Q,y2:re}),O.push({x1:ae,y1:ie,x2:ae,y2:re}),O.push({x1:se,y1:ie,x2:Q,y2:ie})}return K.createElement(cn,Bp({className:"recharts-errorBar",key:"bar-".concat(O.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},x),O.map(function(z){return K.createElement("line",Bp({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return K.createElement(cn,{className:"recharts-errorBars"},S)}}])})(K.Component);XL(Zm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});XL(Zm,"displayName","ErrorBar");function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function IN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(n),!0).forEach(function(r){UX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UX(t,e,n){return e=qX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qX(t){var e=zX(t,"string");return vf(e)=="symbol"?e:e+""}function zX(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JL=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=or(n,kl);if(!s)return null;var u=kl.defaultProps,c=u!==void 0?qa(qa({},u),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:o==="children"?f=(r||[]).reduce(function(h,p){var v=p.item,x=p.props,S=x.sectors||x.data||[];return h.concat(S.map(function(T){return{type:s.props.iconType||v.props.legendType,value:T.name,color:T.fill,payload:T}}))},[]):f=(r||[]).map(function(h){var p=h.item,v=p.type.defaultProps,x=v!==void 0?qa(qa({},v),p.props):{},S=x.dataKey,T=x.name,_=x.legendType,I=x.hide;return{inactive:I,dataKey:S,type:c.iconType||_||"square",color:jE(p),value:T||S,payload:x}}),qa(qa(qa({},c),kl.getWithHeight(s,i)),{},{payload:f,item:s})};function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function CN(t){return KX(t)||GX(t)||HX(t)||WX()}function WX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HX(t,e){if(t){if(typeof t=="string")return aw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aw(t,e)}}function GX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KX(t){if(Array.isArray(t))return aw(t)}function aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ON(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(n),!0).forEach(function(r){jl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jl(t,e,n){return e=YX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YX(t){var e=XX(t,"string");return xf(e)=="symbol"?e:e+""}function XX(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ti(t,e,n){return st(t)||st(e)?n:tn(e)?wr(t,e,n):Ge(e)?e(t):n}function qc(t,e,n,r){var i=KY(t,function(u){return Ti(u,e)});if(n==="number"){var o=i.filter(function(u){return xe(u)||parseFloat(u)});return o.length?[Xm(o),Ym(o)]:[1/0,-1/0]}var s=r?i.filter(function(u){return!st(u)}):i;return s.map(function(u){return tn(u)||u instanceof Date?u:""})}var QX=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,f=0;f<u;f++){var h=f>0?i[f-1].coordinate:i[u-1].coordinate,p=i[f].coordinate,v=f>=u-1?i[0].coordinate:i[f+1].coordinate,x=void 0;if(Fr(p-h)!==Fr(v-p)){var S=[];if(Fr(v-p)===Fr(c[1]-c[0])){x=v;var T=p+c[1]-c[0];S[0]=Math.min(T,(T+h)/2),S[1]=Math.max(T,(T+h)/2)}else{x=h;var _=v+c[1]-c[0];S[0]=Math.min(p,(_+p)/2),S[1]=Math.max(p,(_+p)/2)}var I=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(e>I[0]&&e<=I[1]||e>=S[0]&&e<=S[1]){s=i[f].index;break}}else{var R=Math.min(h,v),k=Math.max(h,v);if(e>(R+p)/2&&e<=(k+p)/2){s=i[f].index;break}}}else for(var D=0;D<u;D++)if(D===0&&e<=(r[D].coordinate+r[D+1].coordinate)/2||D>0&&D<u-1&&e>(r[D].coordinate+r[D-1].coordinate)/2&&e<=(r[D].coordinate+r[D+1].coordinate)/2||D===u-1&&e>(r[D].coordinate+r[D-1].coordinate)/2){s=r[D].index;break}return s},jE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Lt(Lt({},e.type.defaultProps),e.props):e.props,s=o.stroke,u=o.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:u;break;default:c=u;break}return c},JX=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},u=Object.keys(o),c=0,f=u.length;c<f;c++)for(var h=o[u[c]].stackGroups,p=Object.keys(h),v=0,x=p.length;v<x;v++){var S=h[p[v]],T=S.items,_=S.cateAxisId,I=T.filter(function(A){return Zi(A.type).indexOf("Bar")>=0});if(I&&I.length){var R=I[0].type.defaultProps,k=R!==void 0?Lt(Lt({},R),I[0].props):I[0].props,D=k.barSize,O=k[_];s[O]||(s[O]=[]);var j=st(D)?n:D;s[O].push({item:I[0],stackList:I.slice(1),barSize:st(j)?void 0:ps(j,r,0)})}}return s},ZX=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,u=e.maxBarSize,c=s.length;if(c<1)return null;var f=ps(n,i,0,!0),h,p=[];if(s[0].barSize===+s[0].barSize){var v=!1,x=i/c,S=s.reduce(function(D,O){return D+O.barSize||0},0);S+=(c-1)*f,S>=i&&(S-=(c-1)*f,f=0),S>=i&&x>0&&(v=!0,x*=.9,S=c*x);var T=(i-S)/2>>0,_={offset:T-f,size:0};h=s.reduce(function(D,O){var j={item:O.item,position:{offset:_.offset+_.size+f,size:v?x:O.barSize}},A=[].concat(CN(D),[j]);return _=A[A.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(P){A.push({item:P,position:_})}),A},p)}else{var I=ps(r,i,0,!0);i-2*I-(c-1)*f<=0&&(f=0);var R=(i-2*I-(c-1)*f)/c;R>1&&(R>>=0);var k=u===+u?Math.min(R,u):R;h=s.reduce(function(D,O,j){var A=[].concat(CN(D),[{item:O.item,position:{offset:I+(R+f)*j+(R-k)/2,size:k}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(P){A.push({item:P,position:A[A.length-1].position})}),A},p)}return h},eQ=function(e,n,r,i){var o=r.children,s=r.width,u=r.margin,c=s-(u.left||0)-(u.right||0),f=JL({children:o,legendWidth:c});if(f){var h=i||{},p=h.width,v=h.height,x=f.align,S=f.verticalAlign,T=f.layout;if((T==="vertical"||T==="horizontal"&&S==="middle")&&x!=="center"&&xe(e[x]))return Lt(Lt({},e),{},jl({},x,e[x]+(p||0)));if((T==="horizontal"||T==="vertical"&&x==="center")&&S!=="middle"&&xe(e[S]))return Lt(Lt({},e),{},jl({},S,e[S]+(v||0)))}return e},tQ=function(e,n,r){return st(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},ZL=function(e,n,r,i,o){var s=n.props.children,u=zr(s,Zm).filter(function(f){return tQ(i,o,f.props.direction)});if(u&&u.length){var c=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var p=Ti(h,r);if(st(p))return f;var v=Array.isArray(p)?[Xm(p),Ym(p)]:[p,p],x=c.reduce(function(S,T){var _=Ti(h,T,0),I=v[0]-Math.abs(Array.isArray(_)?_[0]:_),R=v[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(I,S[0]),Math.max(R,S[1])]},[1/0,-1/0]);return[Math.min(x[0],f[0]),Math.max(x[1],f[1])]},[1/0,-1/0])}return null},nQ=function(e,n,r,i,o){var s=n.map(function(u){return ZL(e,u,r,o,i)}).filter(function(u){return!st(u)});return s&&s.length?s.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},e4=function(e,n,r,i,o){var s=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&ZL(e,c,f,i)||qc(e,f,r,o)});if(r==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var u={};return s.reduce(function(c,f){for(var h=0,p=f.length;h<p;h++)u[f[h]]||(u[f[h]]=!0,c.push(f[h]));return c},[])},t4=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},n4=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var o,s,u=e.map(function(c){return c.coordinate===n&&(o=!0),c.coordinate===r&&(s=!0),c.coordinate});return o||u.push(n),s||u.push(r),u},Ji=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,u=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?Fr(u[0]-u[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(p){var v=o?o.indexOf(p):p;return{coordinate:i(v)+f,value:p,offset:f}});return h.filter(function(p){return!Xf(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,v){return{coordinate:i(p)+f,value:p,index:v,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,v){return{coordinate:i(p)+f,value:o?o[p]:p,index:v,offset:f}})},Tb=new WeakMap,kh=function(e,n){if(typeof n!="function")return e;Tb.has(e)||Tb.set(e,new WeakMap);var r=Tb.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},rQ=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,u=e.axisType;if(i==="auto")return s==="radial"&&u==="radiusAxis"?{scale:ff(),realScaleType:"band"}:s==="radial"&&u==="angleAxis"?{scale:Dp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Uc(),realScaleType:"point"}:o==="category"?{scale:ff(),realScaleType:"band"}:{scale:Dp(),realScaleType:"linear"};if(hs(i)){var c="scale".concat(Mm(i));return{scale:(mN[c]||Uc)(),realScaleType:mN[c]?c:"point"}}return Ge(i)?{scale:i}:{scale:Uc(),realScaleType:"point"}},kN=1e-4,iQ=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-kN,s=Math.max(i[0],i[1])+kN,u=e(n[0]),c=e(n[r-1]);(u<o||u>s||c<o||c>s)&&e.domain([n[0],n[r-1]])}},oQ=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},aQ=function(e,n){if(!n||n.length!==2||!xe(n[0])||!xe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!xe(e[0])||e[0]<r)&&(o[0]=r),(!xe(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},sQ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,u=0;u<n;++u){var c=Xf(e[u][r][1])?e[u][r][0]:e[u][r][1];c>=0?(e[u][r][0]=o,e[u][r][1]=o+c,o=e[u][r][1]):(e[u][r][0]=s,e[u][r][1]=s+c,s=e[u][r][1])}},lQ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var u=Xf(e[s][r][1])?e[s][r][0]:e[s][r][1];u>=0?(e[s][r][0]=o,e[s][r][1]=o+u,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},uQ={sign:sQ,expand:Wz,none:ql,silhouette:Hz,wiggle:Gz,positive:lQ},cQ=function(e,n,r){var i=n.map(function(u){return u.props.dataKey}),o=uQ[r],s=zz().keys(i).value(function(u,c){return+Ti(u,c,0)}).order(M_).offset(o);return s(e)},fQ=function(e,n,r,i,o,s){if(!e)return null;var u=s?n.reverse():n,c={},f=u.reduce(function(p,v){var x,S=(x=v.type)!==null&&x!==void 0&&x.defaultProps?Lt(Lt({},v.type.defaultProps),v.props):v.props,T=S.stackId,_=S.hide;if(_)return p;var I=S[r],R=p[I]||{hasStack:!1,stackGroups:{}};if(tn(T)){var k=R.stackGroups[T]||{numericAxisId:r,cateAxisId:i,items:[]};k.items.push(v),R.hasStack=!0,R.stackGroups[T]=k}else R.stackGroups[Dm("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[v]};return Lt(Lt({},p),{},jl({},I,R))},c),h={};return Object.keys(f).reduce(function(p,v){var x=f[v];if(x.hasStack){var S={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(T,_){var I=x.stackGroups[_];return Lt(Lt({},T),{},jl({},_,{numericAxisId:r,cateAxisId:i,items:I.items,stackedData:cQ(e,I.items,o)}))},S)}return Lt(Lt({},p),{},jl({},v,x))},h)},dQ=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,u=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=EX(f,o,u);return e.domain([Xm(h),Ym(h)]),{niceTicks:h}}if(o&&i==="number"){var p=e.domain(),v=TX(p,o,u);return{niceTicks:v}}return null},NN=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,u=e.index;if(n.type==="category")return r[u]?r[u].coordinate+i:null;var c=Ti(s,n.dataKey,n.domain[u]);return st(c)?null:n.scale(c)-o/2+i},hQ=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},pQ=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Lt(Lt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(tn(o)){var s=n[o];if(s){var u=s.items.indexOf(e);return u>=0?s.stackedData[u]:null}}return null},mQ=function(e){return e.reduce(function(n,r){return[Xm(r.concat([n[0]]).filter(xe)),Ym(r.concat([n[1]]).filter(xe))]},[1/0,-1/0])},r4=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],u=s.stackedData,c=u.reduce(function(f,h){var p=mQ(h.slice(n,r+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},jN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sw=function(e,n,r){if(Ge(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(xe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(jN.test(e[0])){var o=+jN.exec(e[0])[1];i[0]=n[0]-o}else Ge(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(xe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(RN.test(e[1])){var s=+RN.exec(e[1])[1];i[1]=n[1]+s}else Ge(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Up=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=oE(n,function(p){return p.coordinate}),s=1/0,u=1,c=o.length;u<c;u++){var f=o[u],h=o[u-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},DN=function(e,n,r){return!e||!e.length||OE(e,wr(r,"type.defaultProps.domain"))?n:e},i4=function(e,n){var r=e.type.defaultProps?Lt(Lt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,u=r.formatter,c=r.tooltipType,f=r.chartType,h=r.hide;return Lt(Lt({},ot(e,!1)),{},{dataKey:i,unit:s,formatter:u,name:o||i,color:jE(e),value:Ti(n,i),type:c,payload:n,chartType:f,hide:h})};function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function MN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(n),!0).forEach(function(r){gQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gQ(t,e,n){return e=yQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yQ(t){var e=vQ(t,"string");return bf(e)=="symbol"?e:e+""}function vQ(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qp=Math.PI/180,xQ=function(e){return e*180/Math.PI},xn=function(e,n,r,i){return{x:e+Math.cos(-qp*i)*r,y:n+Math.sin(-qp*i)*r}},bQ=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},_Q=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,u=bQ({x:r,y:i},{x:o,y:s});if(u<=0)return{radius:u};var c=(r-o)/u,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:u,angle:xQ(f),angleInRadian:f}},wQ=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},EQ=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),u=Math.min(o,s);return e+u*360},$N=function(e,n){var r=e.x,i=e.y,o=_Q({x:r,y:i},n),s=o.radius,u=o.angle,c=n.innerRadius,f=n.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=wQ(n),p=h.startAngle,v=h.endAngle,x=u,S;if(p<=v){for(;x>v;)x-=360;for(;x<p;)x+=360;S=x>=p&&x<=v}else{for(;x>p;)x-=360;for(;x<v;)x+=360;S=x>=v&&x<=p}return S?LN(LN({},n),{},{radius:s,angle:EQ(x,n)}):null};function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}var TQ=["offset"];function SQ(t){return CQ(t)||IQ(t)||PQ(t)||AQ()}function AQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PQ(t,e){if(t){if(typeof t=="string")return lw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lw(t,e)}}function IQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CQ(t){if(Array.isArray(t))return lw(t)}function lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OQ(t,e){if(t==null)return{};var n=kQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function VN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VN(Object(n),!0).forEach(function(r){NQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NQ(t,e,n){return e=jQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jQ(t){var e=RQ(t,"string");return _f(e)=="symbol"?e:e+""}function RQ(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wf.apply(this,arguments)}var DQ=function(e){var n=e.value,r=e.formatter,i=st(e.children)?n:e.children;return Ge(r)?r(i):i},MQ=function(e,n){var r=Fr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},LQ=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,u=e.className,c=o,f=c.cx,h=c.cy,p=c.innerRadius,v=c.outerRadius,x=c.startAngle,S=c.endAngle,T=c.clockWise,_=(p+v)/2,I=MQ(x,S),R=I>=0?1:-1,k,D;i==="insideStart"?(k=x+R*s,D=T):i==="insideEnd"?(k=S-R*s,D=!T):i==="end"&&(k=S+R*s,D=T),D=I<=0?D:!D;var O=xn(f,h,_,k),j=xn(f,h,_,k+(D?1:-1)*359),A="M".concat(O.x,",").concat(O.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(D?0:1,`,
    `).concat(j.x,",").concat(j.y),P=st(e.id)?Dm("recharts-radial-line-"):e.id;return K.createElement("text",wf({},r,{dominantBaseline:"central",className:at("recharts-radial-bar-label",u)}),K.createElement("defs",null,K.createElement("path",{id:P,d:A})),K.createElement("textPath",{xlinkHref:"#".concat(P)},n))},$Q=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,u=o.cy,c=o.innerRadius,f=o.outerRadius,h=o.startAngle,p=o.endAngle,v=(h+p)/2;if(i==="outside"){var x=xn(s,u,f+r,v),S=x.x,T=x.y;return{x:S,y:T,textAnchor:S>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"end"};var _=(c+f)/2,I=xn(s,u,_,v),R=I.x,k=I.y;return{x:R,y:k,textAnchor:"middle",verticalAnchor:"middle"}},VQ=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,u=s.x,c=s.y,f=s.width,h=s.height,p=h>=0?1:-1,v=p*i,x=p>0?"end":"start",S=p>0?"start":"end",T=f>=0?1:-1,_=T*i,I=T>0?"end":"start",R=T>0?"start":"end";if(o==="top"){var k={x:u+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:x};return Jt(Jt({},k),r?{height:Math.max(c-r.y,0),width:f}:{})}if(o==="bottom"){var D={x:u+f/2,y:c+h+v,textAnchor:"middle",verticalAnchor:S};return Jt(Jt({},D),r?{height:Math.max(r.y+r.height-(c+h),0),width:f}:{})}if(o==="left"){var O={x:u-_,y:c+h/2,textAnchor:I,verticalAnchor:"middle"};return Jt(Jt({},O),r?{width:Math.max(O.x-r.x,0),height:h}:{})}if(o==="right"){var j={x:u+f+_,y:c+h/2,textAnchor:R,verticalAnchor:"middle"};return Jt(Jt({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:h}:{})}var A=r?{width:f,height:h}:{};return o==="insideLeft"?Jt({x:u+_,y:c+h/2,textAnchor:R,verticalAnchor:"middle"},A):o==="insideRight"?Jt({x:u+f-_,y:c+h/2,textAnchor:I,verticalAnchor:"middle"},A):o==="insideTop"?Jt({x:u+f/2,y:c+v,textAnchor:"middle",verticalAnchor:S},A):o==="insideBottom"?Jt({x:u+f/2,y:c+h-v,textAnchor:"middle",verticalAnchor:x},A):o==="insideTopLeft"?Jt({x:u+_,y:c+v,textAnchor:R,verticalAnchor:S},A):o==="insideTopRight"?Jt({x:u+f-_,y:c+v,textAnchor:I,verticalAnchor:S},A):o==="insideBottomLeft"?Jt({x:u+_,y:c+h-v,textAnchor:R,verticalAnchor:x},A):o==="insideBottomRight"?Jt({x:u+f-_,y:c+h-v,textAnchor:I,verticalAnchor:x},A):vu(o)&&(xe(o.x)||Xa(o.x))&&(xe(o.y)||Xa(o.y))?Jt({x:u+ps(o.x,f),y:c+ps(o.y,h),textAnchor:"end",verticalAnchor:"end"},A):Jt({x:u+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},A)},BQ=function(e){return"cx"in e&&xe(e.cx)};function On(t){var e=t.offset,n=e===void 0?5:e,r=OQ(t,TQ),i=Jt({offset:n},r),o=i.viewBox,s=i.position,u=i.value,c=i.children,f=i.content,h=i.className,p=h===void 0?"":h,v=i.textBreakAll;if(!o||st(u)&&st(c)&&!q.isValidElement(f)&&!Ge(f))return null;if(q.isValidElement(f))return q.cloneElement(f,i);var x;if(Ge(f)){if(x=q.createElement(f,i),q.isValidElement(x))return x}else x=DQ(i);var S=BQ(o),T=ot(i,!0);if(S&&(s==="insideStart"||s==="insideEnd"||s==="end"))return LQ(i,x,T);var _=S?$Q(i):VQ(i);return K.createElement(Pp,wf({className:at("recharts-label",p)},T,_,{breakAll:v}),x)}On.displayName="Label";var o4=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,u=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,p=e.x,v=e.y,x=e.top,S=e.left,T=e.width,_=e.height,I=e.clockWise,R=e.labelViewBox;if(R)return R;if(xe(T)&&xe(_)){if(xe(p)&&xe(v))return{x:p,y:v,width:T,height:_};if(xe(x)&&xe(S))return{x,y:S,width:T,height:_}}return xe(p)&&xe(v)?{x:p,y:v,width:0,height:0}:xe(n)&&xe(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||u||0,clockWise:I}:e.viewBox?e.viewBox:{}},FQ=function(e,n){return e?e===!0?K.createElement(On,{key:"label-implicit",viewBox:n}):tn(e)?K.createElement(On,{key:"label-implicit",viewBox:n,value:e}):q.isValidElement(e)?e.type===On?q.cloneElement(e,{key:"label-implicit",viewBox:n}):K.createElement(On,{key:"label-implicit",content:e,viewBox:n}):Ge(e)?K.createElement(On,{key:"label-implicit",content:e,viewBox:n}):vu(e)?K.createElement(On,wf({viewBox:n},e,{key:"label-implicit"})):null:null},UQ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=o4(e),s=zr(i,On).map(function(c,f){return q.cloneElement(c,{viewBox:n||o,key:"label-".concat(f)})});if(!r)return s;var u=FQ(e.label,n||o);return[u].concat(SQ(s))};On.parseViewBox=o4;On.renderCallByParent=UQ;var Sb,BN;function qQ(){if(BN)return Sb;BN=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Sb=t,Sb}var zQ=qQ();const WQ=ht(zQ);function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}var HQ=["valueAccessor"],GQ=["data","dataKey","clockWise","id","textBreakAll"];function KQ(t){return JQ(t)||QQ(t)||XQ(t)||YQ()}function YQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XQ(t,e){if(t){if(typeof t=="string")return uw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uw(t,e)}}function QQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JQ(t){if(Array.isArray(t))return uw(t)}function uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zp(){return zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zp.apply(this,arguments)}function FN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(n),!0).forEach(function(r){ZQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZQ(t,e,n){return e=eJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eJ(t){var e=tJ(t,"string");return Ef(e)=="symbol"?e:e+""}function tJ(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qN(t,e){if(t==null)return{};var n=nJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rJ=function(e){return Array.isArray(e.value)?WQ(e.value):e.value};function as(t){var e=t.valueAccessor,n=e===void 0?rJ:e,r=qN(t,HQ),i=r.data,o=r.dataKey,s=r.clockWise,u=r.id,c=r.textBreakAll,f=qN(r,GQ);return!i||!i.length?null:K.createElement(cn,{className:"recharts-label-list"},i.map(function(h,p){var v=st(o)?n(h,p):Ti(h&&h.payload,o),x=st(u)?{}:{id:"".concat(u,"-").concat(p)};return K.createElement(On,zp({},ot(h,!0),f,x,{parentViewBox:h.parentViewBox,value:v,textBreakAll:c,viewBox:On.parseViewBox(st(s)?h:UN(UN({},h),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}as.displayName="LabelList";function iJ(t,e){return t?t===!0?K.createElement(as,{key:"labelList-implicit",data:e}):K.isValidElement(t)||Ge(t)?K.createElement(as,{key:"labelList-implicit",data:e,content:t}):vu(t)?K.createElement(as,zp({data:e},t,{key:"labelList-implicit"})):null:null}function oJ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=zr(r,as).map(function(s,u){return q.cloneElement(s,{data:e,key:"labelList-".concat(u)})});if(!n)return i;var o=iJ(t.label,e);return[o].concat(KQ(i))}as.renderCallByParent=oJ;function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(this,arguments)}function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){aJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aJ(t,e,n){return e=sJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sJ(t){var e=lJ(t,"string");return Tf(e)=="symbol"?e:e+""}function lJ(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uJ=function(e,n){var r=Fr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Nh=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,u=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(u?1:-1)+i,p=Math.asin(c/h)/qp,v=f?o:o+s*p,x=xn(n,r,h,v),S=xn(n,r,i,v),T=f?o-s*p:o,_=xn(n,r,h*Math.cos(p*qp),T);return{center:x,circleTangency:S,lineTangency:_,theta:p}},a4=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,u=e.endAngle,c=uJ(s,u),f=s+c,h=xn(n,r,o,s),p=xn(n,r,o,f),v="M ".concat(h.x,",").concat(h.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var x=xn(n,r,i,s),S=xn(n,r,i,f);v+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else v+="L ".concat(n,",").concat(r," Z");return v},cJ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,p=Fr(h-f),v=Nh({cx:n,cy:r,radius:o,angle:f,sign:p,cornerRadius:s,cornerIsExternal:c}),x=v.circleTangency,S=v.lineTangency,T=v.theta,_=Nh({cx:n,cy:r,radius:o,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:c}),I=_.circleTangency,R=_.lineTangency,k=_.theta,D=c?Math.abs(f-h):Math.abs(f-h)-T-k;if(D<0)return u?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):a4({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h});var O="M ".concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(D>180),",").concat(+(p<0),",").concat(I.x,",").concat(I.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(R.x,",").concat(R.y,`
  `);if(i>0){var j=Nh({cx:n,cy:r,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=j.circleTangency,P=j.lineTangency,N=j.theta,B=Nh({cx:n,cy:r,radius:i,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),L=B.circleTangency,V=B.lineTangency,$=B.theta,Z=c?Math.abs(f-h):Math.abs(f-h)-N-$;if(Z<0&&s===0)return"".concat(O,"L").concat(n,",").concat(r,"Z");O+="L".concat(V.x,",").concat(V.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Z>180),",").concat(+(p>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,"Z")}else O+="L".concat(n,",").concat(r,"Z");return O},fJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},s4=function(e){var n=WN(WN({},fJ),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,u=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,h=n.startAngle,p=n.endAngle,v=n.className;if(s<o||h===p)return null;var x=at("recharts-sector",v),S=s-o,T=ps(u,S,0,!0),_;return T>0&&Math.abs(h-p)<360?_=cJ({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(T,S/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:p}):_=a4({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:h,endAngle:p}),K.createElement("path",cw({},ot(n,!0),{className:x,d:_,role:"img"}))};function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(this,arguments)}function HN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HN(Object(n),!0).forEach(function(r){dJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dJ(t,e,n){return e=hJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hJ(t){var e=pJ(t,"string");return Sf(e)=="symbol"?e:e+""}function pJ(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KN={curveBasisClosed:jz,curveBasisOpen:Rz,curveBasis:Nz,curveBumpX:vz,curveBumpY:xz,curveLinearClosed:Dz,curveLinear:$m,curveMonotoneX:Mz,curveMonotoneY:Lz,curveNatural:$z,curveStep:Vz,curveStepAfter:Fz,curveStepBefore:Bz},jh=function(e){return e.x===+e.x&&e.y===+e.y},wc=function(e){return e.x},Ec=function(e){return e.y},mJ=function(e,n){if(Ge(e))return e;var r="curve".concat(Mm(e));return(r==="curveMonotone"||r==="curveBump")&&n?KN["".concat(r).concat(n==="vertical"?"Y":"X")]:KN[r]||$m},gJ=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,u=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=mJ(r,u),p=f?o.filter(function(T){return jh(T)}):o,v;if(Array.isArray(s)){var x=f?s.filter(function(T){return jh(T)}):s,S=p.map(function(T,_){return GN(GN({},T),{},{base:x[_]})});return u==="vertical"?v=Th().y(Ec).x1(wc).x0(function(T){return T.base.x}):v=Th().x(wc).y1(Ec).y0(function(T){return T.base.y}),v.defined(jh).curve(h),v(S)}return u==="vertical"&&xe(s)?v=Th().y(Ec).x1(wc).x0(s):xe(s)?v=Th().x(wc).y1(Ec).y0(s):v=hM().x(wc).y(Ec),v.defined(jh).curve(h),v(p)},YN=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?gJ(e):i;return q.createElement("path",fw({},ot(e,!1),mp(e),{className:at("recharts-curve",n),d:s,ref:o}))},Ab={exports:{}},Pb,XN;function yJ(){if(XN)return Pb;XN=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Pb=t,Pb}var Ib,QN;function vJ(){if(QN)return Ib;QN=1;var t=yJ();function e(){}function n(){}return n.resetWarningCache=e,Ib=function(){function r(s,u,c,f,h,p){if(p!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},Ib}var JN;function xJ(){return JN||(JN=1,Ab.exports=vJ()()),Ab.exports}var bJ=xJ();const ut=ht(bJ),{getOwnPropertyNames:_J,getOwnPropertySymbols:wJ}=Object,{hasOwnProperty:EJ}=Object.prototype;function Cb(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Rh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),u=o.get(r);if(s&&u)return s===r&&u===n;o.set(n,r),o.set(r,n);const c=t(n,r,i);return o.delete(n),o.delete(r),c}}function TJ(t){return t!=null?t[Symbol.toStringTag]:void 0}function ZN(t){return _J(t).concat(wJ(t))}const SJ=Object.hasOwn||((t,e)=>EJ.call(t,e));function Ss(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const AJ="__v",PJ="__o",IJ="_owner",{getOwnPropertyDescriptor:ej,keys:tj}=Object;function CJ(t,e){return t.byteLength===e.byteLength&&Wp(new Uint8Array(t),new Uint8Array(e))}function OJ(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function kJ(t,e){return t.byteLength===e.byteLength&&Wp(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function NJ(t,e){return Ss(t.getTime(),e.getTime())}function jJ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function RJ(t,e){return t===e}function nj(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,u,c=0;for(;(s=o.next())&&!s.done;){const f=e.entries();let h=!1,p=0;for(;(u=f.next())&&!u.done;){if(i[p]){p++;continue}const v=s.value,x=u.value;if(n.equals(v[0],x[0],c,p,t,e,n)&&n.equals(v[1],x[1],v[0],x[0],t,e,n)){h=i[p]=!0;break}p++}if(!h)return!1;c++}return!0}const DJ=Ss;function MJ(t,e,n){const r=tj(t);let i=r.length;if(tj(e).length!==i)return!1;for(;i-- >0;)if(!l4(t,e,n,r[i]))return!1;return!0}function Tc(t,e,n){const r=ZN(t);let i=r.length;if(ZN(e).length!==i)return!1;let o,s,u;for(;i-- >0;)if(o=r[i],!l4(t,e,n,o)||(s=ej(t,o),u=ej(e,o),(s||u)&&(!s||!u||s.configurable!==u.configurable||s.enumerable!==u.enumerable||s.writable!==u.writable)))return!1;return!0}function LJ(t,e){return Ss(t.valueOf(),e.valueOf())}function $J(t,e){return t.source===e.source&&t.flags===e.flags}function rj(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,u;for(;(s=o.next())&&!s.done;){const c=e.values();let f=!1,h=0;for(;(u=c.next())&&!u.done;){if(!i[h]&&n.equals(s.value,u.value,s.value,u.value,t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function Wp(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function VJ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function l4(t,e,n,r){return(r===IJ||r===PJ||r===AJ)&&(t.$$typeof||e.$$typeof)?!0:SJ(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const BJ="[object ArrayBuffer]",FJ="[object Arguments]",UJ="[object Boolean]",qJ="[object DataView]",zJ="[object Date]",WJ="[object Error]",HJ="[object Map]",GJ="[object Number]",KJ="[object Object]",YJ="[object RegExp]",XJ="[object Set]",QJ="[object String]",JJ={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},ZJ="[object URL]",eZ=Object.prototype.toString;function tZ({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:u,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:p,areTypedArraysEqual:v,areUrlsEqual:x,unknownTagComparators:S}){return function(_,I,R){if(_===I)return!0;if(_==null||I==null)return!1;const k=typeof _;if(k!==typeof I)return!1;if(k!=="object")return k==="number"?u(_,I,R):k==="function"?o(_,I,R):!1;const D=_.constructor;if(D!==I.constructor)return!1;if(D===Object)return c(_,I,R);if(Array.isArray(_))return e(_,I,R);if(D===Date)return r(_,I,R);if(D===RegExp)return h(_,I,R);if(D===Map)return s(_,I,R);if(D===Set)return p(_,I,R);const O=eZ.call(_);if(O===zJ)return r(_,I,R);if(O===YJ)return h(_,I,R);if(O===HJ)return s(_,I,R);if(O===XJ)return p(_,I,R);if(O===KJ)return typeof _.then!="function"&&typeof I.then!="function"&&c(_,I,R);if(O===ZJ)return x(_,I,R);if(O===WJ)return i(_,I,R);if(O===FJ)return c(_,I,R);if(JJ[O])return v(_,I,R);if(O===BJ)return t(_,I,R);if(O===qJ)return n(_,I,R);if(O===UJ||O===GJ||O===QJ)return f(_,I,R);if(S){let j=S[O];if(!j){const A=TJ(_);A&&(j=S[A])}if(j)return j(_,I,R)}return!1}}function nZ({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:CJ,areArraysEqual:n?Tc:OJ,areDataViewsEqual:kJ,areDatesEqual:NJ,areErrorsEqual:jJ,areFunctionsEqual:RJ,areMapsEqual:n?Cb(nj,Tc):nj,areNumbersEqual:DJ,areObjectsEqual:n?Tc:MJ,arePrimitiveWrappersEqual:LJ,areRegExpsEqual:$J,areSetsEqual:n?Cb(rj,Tc):rj,areTypedArraysEqual:n?Cb(Wp,Tc):Wp,areUrlsEqual:VJ,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Rh(r.areArraysEqual),o=Rh(r.areMapsEqual),s=Rh(r.areObjectsEqual),u=Rh(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:u})}return r}function rZ(t){return function(e,n,r,i,o,s,u){return t(e,n,u)}}function iZ({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(u,c){const{cache:f=t?new WeakMap:void 0,meta:h}=n();return e(u,c,{cache:f,equals:r,meta:h,strict:i})};if(t)return function(u,c){return e(u,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(u,c){return e(u,c,o)}}const oZ=ma();ma({strict:!0});ma({circular:!0});ma({circular:!0,strict:!0});ma({createInternalComparator:()=>Ss});ma({strict:!0,createInternalComparator:()=>Ss});ma({circular:!0,createInternalComparator:()=>Ss});ma({circular:!0,createInternalComparator:()=>Ss,strict:!0});function ma(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=nZ(t),s=tZ(o),u=n?n(s):rZ(s);return iZ({circular:e,comparator:s,createState:r,equals:u,strict:i})}function aZ(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function ij(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):aZ(i)};requestAnimationFrame(r)}function dw(t){"@babel/helpers - typeof";return dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dw(t)}function sZ(t){return fZ(t)||cZ(t)||uZ(t)||lZ()}function lZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uZ(t,e){if(t){if(typeof t=="string")return oj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oj(t,e)}}function oj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fZ(t){if(Array.isArray(t))return t}function dZ(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,u=sZ(s),c=u[0],f=u.slice(1);if(typeof c=="number"){ij(i.bind(null,f),c);return}i(c),ij(i.bind(null,f));return}dw(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aj(Object(n),!0).forEach(function(r){u4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u4(t,e,n){return e=hZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hZ(t){var e=pZ(t,"string");return Af(e)==="symbol"?e:String(e)}function pZ(t,e){if(Af(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Af(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mZ=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},gZ=function(e){return e},yZ=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},zc=function(e,n){return Object.keys(n).reduce(function(r,i){return sj(sj({},r),{},u4({},i,e(i,n[i])))},{})},lj=function(e,n,r){return e.map(function(i){return"".concat(yZ(i)," ").concat(n,"ms ").concat(r)}).join(",")};function vZ(t,e){return _Z(t)||bZ(t,e)||c4(t,e)||xZ()}function xZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function _Z(t){if(Array.isArray(t))return t}function wZ(t){return SZ(t)||TZ(t)||c4(t)||EZ()}function EZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c4(t,e){if(t){if(typeof t=="string")return hw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hw(t,e)}}function TZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SZ(t){if(Array.isArray(t))return hw(t)}function hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hp=1e-4,f4=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},d4=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},uj=function(e,n){return function(r){var i=f4(e,n);return d4(i,r)}},AZ=function(e,n){return function(r){var i=f4(e,n),o=[].concat(wZ(i.map(function(s,u){return s*u}).slice(1)),[0]);return d4(o,r)}},cj=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,u=1;break;case"ease":i=.25,o=.1,s=.25,u=1;break;case"ease-in":i=.42,o=0,s=1,u=1;break;case"ease-out":i=.42,o=0,s=.58,u=1;break;case"ease-in-out":i=0,o=0,s=.58,u=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),h=vZ(f,4);i=h[0],o=h[1],s=h[2],u=h[3]}}}var p=uj(i,s),v=uj(o,u),x=AZ(i,s),S=function(I){return I>1?1:I<0?0:I},T=function(I){for(var R=I>1?1:I,k=R,D=0;D<8;++D){var O=p(k)-R,j=x(k);if(Math.abs(O-R)<Hp||j<Hp)return v(k);k=S(k-O/j)}return v(k)};return T.isStepper=!1,T},PZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,u=s===void 0?17:s,c=function(h,p,v){var x=-(h-p)*r,S=v*o,T=v+(x-S)*u/1e3,_=v*u/1e3+h;return Math.abs(_-p)<Hp&&Math.abs(T)<Hp?[p,0]:[_,T]};return c.isStepper=!0,c.dt=u,c},IZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cj(i);case"spring":return PZ();default:if(i.split("(")[0]==="cubic-bezier")return cj(i)}return typeof i=="function"?i:null};function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function fj(t){return kZ(t)||OZ(t)||h4(t)||CZ()}function CZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kZ(t){if(Array.isArray(t))return mw(t)}function dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dj(Object(n),!0).forEach(function(r){pw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pw(t,e,n){return e=NZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NZ(t){var e=jZ(t,"string");return Pf(e)==="symbol"?e:String(e)}function jZ(t,e){if(Pf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RZ(t,e){return LZ(t)||MZ(t,e)||h4(t,e)||DZ()}function DZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h4(t,e){if(t){if(typeof t=="string")return mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mw(t,e)}}function mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function LZ(t){if(Array.isArray(t))return t}var Gp=function(e,n,r){return e+(n-e)*r},gw=function(e){var n=e.from,r=e.to;return n!==r},$Z=function t(e,n,r){var i=zc(function(o,s){if(gw(s)){var u=e(s.from,s.to,s.velocity),c=RZ(u,2),f=c[0],h=c[1];return gn(gn({},s),{},{from:f,velocity:h})}return s},n);return r<1?zc(function(o,s){return gw(s)?gn(gn({},s),{},{velocity:Gp(s.velocity,i[o].velocity,r),from:Gp(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const VZ=(function(t,e,n,r,i){var o=mZ(t,e),s=o.reduce(function(_,I){return gn(gn({},_),{},pw({},I,[t[I],e[I]]))},{}),u=o.reduce(function(_,I){return gn(gn({},_),{},pw({},I,{from:t[I],velocity:0,to:e[I]}))},{}),c=-1,f,h,p=function(){return null},v=function(){return zc(function(I,R){return R.from},u)},x=function(){return!Object.values(u).filter(gw).length},S=function(I){f||(f=I);var R=I-f,k=R/n.dt;u=$Z(n,u,k),i(gn(gn(gn({},t),e),v())),f=I,x()||(c=requestAnimationFrame(p))},T=function(I){h||(h=I);var R=(I-h)/r,k=zc(function(O,j){return Gp.apply(void 0,fj(j).concat([n(R)]))},s);if(i(gn(gn(gn({},t),e),k)),R<1)c=requestAnimationFrame(p);else{var D=zc(function(O,j){return Gp.apply(void 0,fj(j).concat([n(1)]))},s);i(gn(gn(gn({},t),e),D))}};return p=n.isStepper?S:T,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}});function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}var BZ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function FZ(t,e){if(t==null)return{};var n=UZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ob(t){return HZ(t)||WZ(t)||zZ(t)||qZ()}function qZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zZ(t,e){if(t){if(typeof t=="string")return yw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yw(t,e)}}function WZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HZ(t){if(Array.isArray(t))return yw(t)}function yw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hj(Object(n),!0).forEach(function(r){jc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jc(t,e,n){return e=p4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p4(r.key),r)}}function YZ(t,e,n){return e&&KZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function p4(t){var e=XZ(t,"string");return Jl(e)==="symbol"?e:String(e)}function XZ(t,e){if(Jl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vw(t,e)}function vw(t,e){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vw(t,e)}function JZ(t){var e=ZZ();return function(){var r=Kp(t),i;if(e){var o=Kp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return xw(this,i)}}function xw(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bw(t)}function bw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kp(t)}var ua=(function(t){QZ(n,t);var e=JZ(n);function n(r,i){var o;GZ(this,n),o=e.call(this,r,i);var s=o.props,u=s.isActive,c=s.attributeName,f=s.from,h=s.to,p=s.steps,v=s.children,x=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(bw(o)),o.changeStyle=o.changeStyle.bind(bw(o)),!u||x<=0)return o.state={style:{}},typeof v=="function"&&(o.state={style:h}),xw(o);if(p&&p.length)o.state={style:p[0].style};else if(f){if(typeof v=="function")return o.state={style:f},xw(o);o.state={style:c?jc({},c,f):f}}else o.state={style:{}};return o}return YZ(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,u=o.canBegin,c=o.attributeName,f=o.shouldReAnimate,h=o.to,p=o.from,v=this.state.style;if(u){if(!s){var x={style:c?jc({},c,h):h};this.state&&v&&(c&&v[c]!==h||!c&&v!==h)&&this.setState(x);return}if(!(oZ(i.to,h)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var T=S||f?p:i.to;if(this.state&&v){var _={style:c?jc({},c,T):T};(c&&v[c]!==T||!c&&v!==T)&&this.setState(_)}this.runAnimation(Dr(Dr({},this.props),{},{from:T,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,u=i.to,c=i.duration,f=i.easing,h=i.begin,p=i.onAnimationEnd,v=i.onAnimationStart,x=VZ(s,u,IZ(f),c,this.changeStyle),S=function(){o.stopJSAnimation=x()};this.manager.start([v,h,S,c,p])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,u=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,p=f.duration,v=p===void 0?0:p,x=function(T,_,I){if(I===0)return T;var R=_.duration,k=_.easing,D=k===void 0?"ease":k,O=_.style,j=_.properties,A=_.onAnimationEnd,P=I>0?s[I-1]:_,N=j||Object.keys(O);if(typeof D=="function"||D==="spring")return[].concat(Ob(T),[o.runJSAnimation.bind(o,{from:P.style,to:O,duration:R,easing:D}),R]);var B=lj(N,R,D),L=Dr(Dr(Dr({},P.style),O),{},{transition:B});return[].concat(Ob(T),[L,R,A]).filter(gZ)};return this.manager.start([c].concat(Ob(s.reduce(x,[h,Math.max(v,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=dZ());var o=i.begin,s=i.duration,u=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,p=i.onAnimationEnd,v=i.steps,x=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof f=="function"||typeof x=="function"||f==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var T=u?jc({},u,c):c,_=lj(Object.keys(T),s,f);S.start([h,o,Dr(Dr({},T),{},{transition:_}),s,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=FZ(i,BZ),f=q.Children.count(o),h=this.state.style;if(typeof o=="function")return o(h);if(!u||f===0||s<=0)return o;var p=function(x){var S=x.props,T=S.style,_=T===void 0?{}:T,I=S.className,R=q.cloneElement(x,Dr(Dr({},c),{},{style:Dr(Dr({},_),h),className:I}));return R};return f===1?p(q.Children.only(o)):K.createElement("div",null,q.Children.map(o,function(v){return p(v)}))}}]),n})(q.PureComponent);ua.displayName="Animate";ua.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ua.propTypes={from:ut.oneOfType([ut.object,ut.string]),to:ut.oneOfType([ut.object,ut.string]),attributeName:ut.string,duration:ut.number,begin:ut.number,easing:ut.oneOfType([ut.string,ut.func]),steps:ut.arrayOf(ut.shape({duration:ut.number.isRequired,style:ut.object.isRequired,easing:ut.oneOfType([ut.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ut.func]),properties:ut.arrayOf("string"),onAnimationEnd:ut.func})),children:ut.oneOfType([ut.node,ut.func]),isActive:ut.bool,canBegin:ut.bool,onAnimationEnd:ut.func,shouldReAnimate:ut.bool,onAnimationStart:ut.func,onAnimationReStart:ut.func};function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function Yp(){return Yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yp.apply(this,arguments)}function eee(t,e){return iee(t)||ree(t,e)||nee(t,e)||tee()}function tee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nee(t,e){if(t){if(typeof t=="string")return pj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pj(t,e)}}function pj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ree(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function iee(t){if(Array.isArray(t))return t}function mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mj(Object(n),!0).forEach(function(r){oee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oee(t,e,n){return e=aee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aee(t){var e=see(t,"string");return If(e)=="symbol"?e:e+""}function see(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yj=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),u=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,h;if(s>0&&o instanceof Array){for(var p=[0,0,0,0],v=0,x=4;v<x;v++)p[v]=o[v]>s?s:o[v];h="M".concat(e,",").concat(n+u*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(n)),h+="L ".concat(e+r-c*p[1],",").concat(n),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+u*p[1])),h+="L ".concat(e+r,",").concat(n+i-u*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+r-c*p[2],",").concat(n+i)),h+="L ".concat(e+c*p[3],",").concat(n+i),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-u*p[3])),h+="Z"}else if(s>0&&o===+o&&o>0){var S=Math.min(s,o);h="M ".concat(e,",").concat(n+u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+c*S,",").concat(n,`
            L `).concat(e+r-c*S,",").concat(n,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+r,",").concat(n+u*S,`
            L `).concat(e+r,",").concat(n+i-u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+r-c*S,",").concat(n+i,`
            L `).concat(e+c*S,",").concat(n+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e,",").concat(n+i-u*S," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},lee=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,u=n.width,c=n.height;if(Math.abs(u)>0&&Math.abs(c)>0){var f=Math.min(o,o+u),h=Math.max(o,o+u),p=Math.min(s,s+c),v=Math.max(s,s+c);return r>=f&&r<=h&&i>=p&&i<=v}return!1},uee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RE=function(e){var n=gj(gj({},uee),e),r=q.useRef(),i=q.useState(-1),o=eee(i,2),s=o[0],u=o[1];q.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var D=r.current.getTotalLength();D&&u(D)}catch{}},[]);var c=n.x,f=n.y,h=n.width,p=n.height,v=n.radius,x=n.className,S=n.animationEasing,T=n.animationDuration,_=n.animationBegin,I=n.isAnimationActive,R=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||h===0||p===0)return null;var k=at("recharts-rectangle",x);return R?K.createElement(ua,{canBegin:s>0,from:{width:h,height:p,x:c,y:f},to:{width:h,height:p,x:c,y:f},duration:T,animationEasing:S,isActive:R},function(D){var O=D.width,j=D.height,A=D.x,P=D.y;return K.createElement(ua,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:T,isActive:I,easing:S},K.createElement("path",Yp({},ot(n,!0),{className:k,d:yj(A,P,O,j,v),ref:r})))}):K.createElement("path",Yp({},ot(n,!0),{className:k,d:yj(c,f,h,p,v)}))};function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(this,arguments)}var m4=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=at("recharts-dot",o);return n===+n&&r===+r&&i===+i?q.createElement("circle",_w({},ot(e,!1),mp(e),{className:s,cx:n,cy:r,r:i})):null};function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}var cee=["x","y","top","left","width","height","className"];function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(this,arguments)}function vj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vj(Object(n),!0).forEach(function(r){dee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dee(t,e,n){return e=hee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hee(t){var e=pee(t,"string");return Cf(e)=="symbol"?e:e+""}function pee(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mee(t,e){if(t==null)return{};var n=gee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yee=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},vee=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,u=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,p=h===void 0?0:h,v=e.height,x=v===void 0?0:v,S=e.className,T=mee(e,cee),_=fee({x:r,y:o,top:u,left:f,width:p,height:x},T);return!xe(r)||!xe(o)||!xe(p)||!xe(x)||!xe(u)||!xe(f)?null:K.createElement("path",ww({},ot(_,!0),{className:at("recharts-cross",S),d:yee(r,o,p,x,u,f)}))},kb,xj;function xee(){if(xj)return kb;xj=1;var t=MM(),e=t(Object.getPrototypeOf,Object);return kb=e,kb}var Nb,bj;function bee(){if(bj)return Nb;bj=1;var t=fo(),e=xee(),n=ho(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,u=o.hasOwnProperty,c=s.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var p=e(h);if(p===null)return!0;var v=u.call(p,"constructor")&&p.constructor;return typeof v=="function"&&v instanceof v&&s.call(v)==c}return Nb=f,Nb}var _ee=bee();const wee=ht(_ee);var jb,_j;function Eee(){if(_j)return jb;_j=1;var t=fo(),e=ho(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return jb=r,jb}var Tee=Eee();const See=ht(Tee);function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function Xp(){return Xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xp.apply(this,arguments)}function Aee(t,e){return Oee(t)||Cee(t,e)||Iee(t,e)||Pee()}function Pee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iee(t,e){if(t){if(typeof t=="string")return wj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wj(t,e)}}function wj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Oee(t){if(Array.isArray(t))return t}function Ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ej(Object(n),!0).forEach(function(r){kee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kee(t,e,n){return e=Nee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nee(t){var e=jee(t,"string");return Of(e)=="symbol"?e:e+""}function jee(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sj=function(e,n,r,i,o){var s=r-i,u;return u="M ".concat(e,",").concat(n),u+="L ".concat(e+r,",").concat(n),u+="L ".concat(e+r-s/2,",").concat(n+o),u+="L ".concat(e+r-s/2-i,",").concat(n+o),u+="L ".concat(e,",").concat(n," Z"),u},Ree={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dee=function(e){var n=Tj(Tj({},Ree),e),r=q.useRef(),i=q.useState(-1),o=Aee(i,2),s=o[0],u=o[1];q.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&u(k)}catch{}},[]);var c=n.x,f=n.y,h=n.upperWidth,p=n.lowerWidth,v=n.height,x=n.className,S=n.animationEasing,T=n.animationDuration,_=n.animationBegin,I=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||v!==+v||h===0&&p===0||v===0)return null;var R=at("recharts-trapezoid",x);return I?K.createElement(ua,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:v,x:c,y:f},to:{upperWidth:h,lowerWidth:p,height:v,x:c,y:f},duration:T,animationEasing:S,isActive:I},function(k){var D=k.upperWidth,O=k.lowerWidth,j=k.height,A=k.x,P=k.y;return K.createElement(ua,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:T,easing:S},K.createElement("path",Xp({},ot(n,!0),{className:R,d:Sj(A,P,D,O,j),ref:r})))}):K.createElement("g",null,K.createElement("path",Xp({},ot(n,!0),{className:R,d:Sj(c,f,h,p,v)})))},Mee=["option","shapeType","propTransformer","activeClassName","isActive"];function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function Lee(t,e){if(t==null)return{};var n=$ee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(n),!0).forEach(function(r){Vee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vee(t,e,n){return e=Bee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bee(t){var e=Fee(t,"string");return kf(e)=="symbol"?e:e+""}function Fee(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uee(t,e){return Qp(Qp({},e),t)}function qee(t,e){return t==="symbols"}function Pj(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return K.createElement(RE,n);case"trapezoid":return K.createElement(Dee,n);case"sector":return K.createElement(s4,n);case"symbols":if(qee(e))return K.createElement(Q1,n);break;default:return null}}function zee(t){return q.isValidElement(t)?t.props:t}function Wee(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Uee:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,u=t.isActive,c=Lee(t,Mee),f;if(q.isValidElement(e))f=q.cloneElement(e,Qp(Qp({},c),zee(e)));else if(Ge(e))f=e(c);else if(wee(e)&&!See(e)){var h=i(e,c);f=K.createElement(Pj,{shapeType:n,elementProps:h})}else{var p=c;f=K.createElement(Pj,{shapeType:n,elementProps:p})}return u?K.createElement(cn,{className:s},f):f}function eg(t,e){return e!=null&&"trapezoids"in t.props}function tg(t,e){return e!=null&&"sectors"in t.props}function Nf(t,e){return e!=null&&"points"in t.props}function Hee(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Gee(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Kee(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Yee(t,e){var n;return eg(t,e)?n=Hee:tg(t,e)?n=Gee:Nf(t,e)&&(n=Kee),n}function Xee(t,e){var n;return eg(t,e)?n="trapezoids":tg(t,e)?n="sectors":Nf(t,e)&&(n="points"),n}function Qee(t,e){if(eg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(tg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Nf(t,e)?e.payload:{}}function Jee(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Xee(n,e),o=Qee(n,e),s=r.filter(function(c,f){var h=OE(o,c),p=n.props[i].filter(function(S){var T=Yee(n,e);return T(S,e)}),v=n.props[i].indexOf(p[p.length-1]),x=f===v;return h&&x}),u=r.indexOf(s[s.length-1]);return u}var Rb,Ij;function Zee(){if(Ij)return Rb;Ij=1;var t=Math.ceil,e=Math.max;function n(r,i,o,s){for(var u=-1,c=e(t((i-r)/(o||1)),0),f=Array(c);c--;)f[s?c:++u]=r,r+=o;return f}return Rb=n,Rb}var Db,Cj;function g4(){if(Cj)return Db;Cj=1;var t=JM(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return Db=r,Db}var Mb,Oj;function ete(){if(Oj)return Mb;Oj=1;var t=Zee(),e=Um(),n=g4();function r(i){return function(o,s,u){return u&&typeof u!="number"&&e(o,s,u)&&(s=u=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),u=u===void 0?o<s?1:-1:n(u),t(o,s,u,i)}}return Mb=r,Mb}var Lb,kj;function tte(){if(kj)return Lb;kj=1;var t=ete(),e=t();return Lb=e,Lb}var nte=tte();const Jp=ht(nte);function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function Nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nj(Object(n),!0).forEach(function(r){y4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y4(t,e,n){return e=rte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rte(t){var e=ite(t,"string");return jf(e)=="symbol"?e:e+""}function ite(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ote=["Webkit","Moz","O","ms"],ate=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=ote.reduce(function(o,s){return jj(jj({},o),{},y4({},s+r,n))},{});return i[e]=n,i};function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function Zp(){return Zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zp.apply(this,arguments)}function Rj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $b(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rj(Object(n),!0).forEach(function(r){ir(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ste(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x4(r.key),r)}}function lte(t,e,n){return e&&Dj(t.prototype,e),n&&Dj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ute(t,e,n){return e=em(e),cte(t,v4()?Reflect.construct(e,n||[],em(t).constructor):e.apply(t,n))}function cte(t,e){if(e&&(Zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fte(t)}function fte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v4=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},em(t)}function dte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ew(t,e)}function Ew(t,e){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ew(t,e)}function ir(t,e,n){return e=x4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x4(t){var e=hte(t,"string");return Zl(e)=="symbol"?e:e+""}function hte(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pte=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,u=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=Uc().domain(Jp(0,c)).range([o,o+s-u]),h=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:h}},Mj=function(e){return e.changedTouches&&!!e.changedTouches.length},eu=(function(t){function e(n){var r;return ste(this,e),r=ute(this,e,[n]),ir(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ir(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ir(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,u=i.startIndex;s==null||s({endIndex:o,startIndex:u})}),r.detachDragEndListener()}),ir(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ir(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ir(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ir(r,"handleSlideDragStart",function(i){var o=Mj(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return dte(e,t),lte(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,u=this.props,c=u.gap,f=u.data,h=f.length-1,p=Math.min(i,o),v=Math.max(i,o),x=e.getIndexInRange(s,p),S=e.getIndexInRange(s,v);return{startIndex:x-x%c,endIndex:S===h?h:S-S%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,u=i.dataKey,c=Ti(o[r],u,r);return Ge(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,u=i.endX,c=this.props,f=c.x,h=c.width,p=c.travellerWidth,v=c.startIndex,x=c.endIndex,S=c.onChange,T=r.pageX-o;T>0?T=Math.min(T,f+h-p-u,f+h-p-s):T<0&&(T=Math.max(T,f-s,f-u));var _=this.getIndex({startX:s+T,endX:u+T});(_.startIndex!==v||_.endIndex!==x)&&S&&S(_),this.setState({startX:s+T,endX:u+T,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=Mj(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,u=i.endX,c=i.startX,f=this.state[s],h=this.props,p=h.x,v=h.width,x=h.travellerWidth,S=h.onChange,T=h.gap,_=h.data,I={startX:this.state.startX,endX:this.state.endX},R=r.pageX-o;R>0?R=Math.min(R,p+v-x-f):R<0&&(R=Math.max(R,p-f)),I[s]=f+R;var k=this.getIndex(I),D=k.startIndex,O=k.endIndex,j=function(){var P=_.length-1;return s==="startX"&&(u>c?D%T===0:O%T===0)||u<c&&O===P||s==="endX"&&(u>c?O%T===0:D%T===0)||u>c&&O===P};this.setState(ir(ir({},s,f+R),"brushMoveStartX",r.pageX),function(){S&&j()&&S(k)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,u=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],p=u.indexOf(h);if(p!==-1){var v=p+r;if(!(v===-1||v>=u.length)){var x=u[v];i==="startX"&&x>=f||i==="endX"&&x<=c||this.setState(ir({},i,x),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,u=r.height,c=r.fill,f=r.stroke;return K.createElement("rect",{stroke:f,fill:c,x:i,y:o,width:s,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,u=r.height,c=r.data,f=r.children,h=r.padding,p=q.Children.only(f);return p?K.cloneElement(p,{x:i,y:o,width:s,height:u,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,u=this,c=this.props,f=c.y,h=c.travellerWidth,p=c.height,v=c.traveller,x=c.ariaLabel,S=c.data,T=c.startIndex,_=c.endIndex,I=Math.max(r,this.props.x),R=$b($b({},ot(this.props,!1)),{},{x:I,y:f,width:h,height:p}),k=x||"Min value: ".concat((o=S[T])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=S[_])===null||s===void 0?void 0:s.name);return K.createElement(cn,{tabIndex:0,role:"slider","aria-label":k,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),u.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,R))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,u=o.height,c=o.stroke,f=o.travellerWidth,h=Math.min(r,i)+f,p=Math.max(Math.abs(i-r)-f,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:p,height:u})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,u=r.height,c=r.travellerWidth,f=r.stroke,h=this.state,p=h.startX,v=h.endX,x=5,S={pointerEvents:"none",fill:f};return K.createElement(cn,{className:"recharts-brush-texts"},K.createElement(Pp,Zp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,v)-x,y:s+u/2},S),this.getTextOfTick(i)),K.createElement(Pp,Zp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,v)+c+x,y:s+u/2},S),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,u=r.x,c=r.y,f=r.width,h=r.height,p=r.alwaysShowText,v=this.state,x=v.startX,S=v.endX,T=v.isTextActive,_=v.isSlideMoving,I=v.isTravellerMoving,R=v.isTravellerFocused;if(!i||!i.length||!xe(u)||!xe(c)||!xe(f)||!xe(h)||f<=0||h<=0)return null;var k=at("recharts-brush",o),D=K.Children.count(s)===1,O=ate("userSelect","none");return K.createElement(cn,{className:k,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(x,S),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(S,"endX"),(T||_||I||R||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,u=r.height,c=r.stroke,f=Math.floor(o+u/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:o,width:s,height:u,fill:c,stroke:"none"}),K.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return K.isValidElement(r)?o=K.cloneElement(r,i):Ge(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,u=r.x,c=r.travellerWidth,f=r.updateId,h=r.startIndex,p=r.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return $b({prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s},o&&o.length?pte({data:o,width:s,x:u,travellerWidth:c,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||u!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([u,u+s-c]);var v=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,u=o-1;u-s>1;){var c=Math.floor((s+u)/2);r[c]>i?u=c:s=c}return i>=r[u]?u:s}}])})(q.PureComponent);ir(eu,"displayName","Brush");ir(eu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Vb,Lj;function mte(){if(Lj)return Vb;Lj=1;var t=iE();function e(n,r){var i;return t(n,function(o,s,u){return i=r(o,s,u),!i}),!!i}return Vb=e,Vb}var Bb,$j;function gte(){if($j)return Bb;$j=1;var t=CM(),e=da(),n=mte(),r=Gn(),i=Um();function o(s,u,c){var f=r(s)?t:n;return c&&i(s,u,c)&&(u=void 0),f(s,e(u,3))}return Bb=o,Bb}var yte=gte();const vte=ht(yte);var xi=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},Fb,Vj;function xte(){if(Vj)return Fb;Vj=1;var t=GM();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Fb=e,Fb}var Ub,Bj;function bte(){if(Bj)return Ub;Bj=1;var t=xte(),e=WM(),n=da();function r(i,o){var s={};return o=n(o,3),e(i,function(u,c,f){t(s,c,o(u,c,f))}),s}return Ub=r,Ub}var _te=bte();const wte=ht(_te);var qb,Fj;function Ete(){if(Fj)return qb;Fj=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return qb=t,qb}var zb,Uj;function Tte(){if(Uj)return zb;Uj=1;var t=iE();function e(n,r){var i=!0;return t(n,function(o,s,u){return i=!!r(o,s,u),i}),i}return zb=e,zb}var Wb,qj;function Ste(){if(qj)return Wb;qj=1;var t=Ete(),e=Tte(),n=da(),r=Gn(),i=Um();function o(s,u,c){var f=r(s)?t:e;return c&&i(s,u,c)&&(u=void 0),f(s,n(u,3))}return Wb=o,Wb}var Ate=Ste();const b4=ht(Ate);var Pte=["x","y"];function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tw.apply(this,arguments)}function zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zj(Object(n),!0).forEach(function(r){Ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ite(t,e,n){return e=Cte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cte(t){var e=Ote(t,"string");return Rf(e)=="symbol"?e:e+""}function Ote(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kte(t,e){if(t==null)return{};var n=Nte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jte(t,e){var n=t.x,r=t.y,i=kte(t,Pte),o="".concat(n),s=parseInt(o,10),u="".concat(r),c=parseInt(u,10),f="".concat(e.height||i.height),h=parseInt(f,10),p="".concat(e.width||i.width),v=parseInt(p,10);return Sc(Sc(Sc(Sc(Sc({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:v,name:e.name,radius:e.radius})}function Wj(t){return K.createElement(Wee,Tw({shapeType:"rectangle",propTransformer:jte,activeClassName:"recharts-active-bar"},t))}var Rte=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=xe(r)||B8(r);return o?e(r,i):(o||gs(),n)}},Dte=["value","background"],_4;function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function Mte(t,e){if(t==null)return{};var n=Lte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tm.apply(this,arguments)}function Hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hj(Object(n),!0).forEach(function(r){Xo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E4(r.key),r)}}function Vte(t,e,n){return e&&Gj(t.prototype,e),n&&Gj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bte(t,e,n){return e=nm(e),Fte(t,w4()?Reflect.construct(e,n||[],nm(t).constructor):e.apply(t,n))}function Fte(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ute(t)}function Ute(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w4=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nm(t)}function qte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sw(t,e)}function Sw(t,e){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sw(t,e)}function Xo(t,e,n){return e=E4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E4(t){var e=zte(t,"string");return tu(e)=="symbol"?e:e+""}function zte(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var no=(function(t){function e(){var n;$te(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Bte(this,e,[].concat(i)),Xo(n,"state",{isAnimationFinished:!1}),Xo(n,"id",Dm("recharts-bar-")),Xo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Xo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return qte(e,t),Vte(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,u=o.dataKey,c=o.activeIndex,f=o.activeBar,h=ot(this.props,!1);return r&&r.map(function(p,v){var x=v===c,S=x?f:s,T=zt(zt(zt({},h),p),{},{isActive:x,option:S,index:v,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(cn,tm({className:"recharts-bar-rectangle"},gp(i.props,p,v),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(v)}),K.createElement(Wj,T))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,u=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,v=this.state.prevData;return K.createElement(ua,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var S=x.t,T=o.map(function(_,I){var R=v&&v[I];if(R){var k=fl(R.x,_.x),D=fl(R.y,_.y),O=fl(R.width,_.width),j=fl(R.height,_.height);return zt(zt({},_),{},{x:k(S),y:D(S),width:O(S),height:j(S)})}if(s==="horizontal"){var A=fl(0,_.height),P=A(S);return zt(zt({},_),{},{y:_.y+_.height-P,height:P})}var N=fl(0,_.width),B=N(S);return zt(zt({},_),{},{width:B})});return K.createElement(cn,null,r.renderRectanglesStatically(T))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!OE(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,u=i.activeIndex,c=ot(this.props.background,!1);return o.map(function(f,h){f.value;var p=f.background,v=Mte(f,Dte);if(!p)return null;var x=zt(zt(zt(zt(zt({},v),{},{fill:"#eee"},p),c),gp(r.props,f,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return K.createElement(Wj,tm({key:"background-bar-".concat(h),option:r.props.background,isActive:h===u},x))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,u=o.xAxis,c=o.yAxis,f=o.layout,h=o.children,p=zr(h,Zm);if(!p)return null;var v=f==="vertical"?s[0].height/2:s[0].width/2,x=function(_,I){var R=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:R,errorVal:Ti(_,I)}},S={clipPath:r?"url(#clipPath-".concat(i,")"):null};return K.createElement(cn,S,p.map(function(T){return K.cloneElement(T,{key:"error-bar-".concat(i,"-").concat(T.props.dataKey),data:s,xAxis:u,yAxis:c,layout:f,offset:v,dataPointFormatter:x})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,u=r.xAxis,c=r.yAxis,f=r.left,h=r.top,p=r.width,v=r.height,x=r.isAnimationActive,S=r.background,T=r.id;if(i||!o||!o.length)return null;var _=this.state.isAnimationFinished,I=at("recharts-bar",s),R=u&&u.allowDataOverflow,k=c&&c.allowDataOverflow,D=R||k,O=st(T)?this.id:T;return K.createElement(cn,{className:I},R||k?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(O)},K.createElement("rect",{x:R?f:f-p/2,y:k?h:h-v/2,width:R?p:p*2,height:k?v:v*2}))):null,K.createElement(cn,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(O,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,O),(!x||_)&&as.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(q.PureComponent);_4=no;Xo(no,"displayName","Bar");Xo(no,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Jf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xo(no,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,u=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,p=t.displayedData,v=t.offset,x=oQ(r,n);if(!x)return null;var S=e.layout,T=n.type.defaultProps,_=T!==void 0?zt(zt({},T),n.props):n.props,I=_.dataKey,R=_.children,k=_.minPointSize,D=S==="horizontal"?s:o,O=f?D.scale.domain():null,j=hQ({numericAxis:D}),A=zr(R,sE),P=p.map(function(N,B){var L,V,$,Z,ee,ae;f?L=aQ(f[h+B],O):(L=Ti(N,I),Array.isArray(L)||(L=[j,L]));var se=Rte(k,_4.defaultProps.minPointSize)(L[1],B);if(S==="horizontal"){var Q,ie=[s.scale(L[0]),s.scale(L[1])],re=ie[0],z=ie[1];V=NN({axis:o,ticks:u,bandSize:i,offset:x.offset,entry:N,index:B}),$=(Q=z??re)!==null&&Q!==void 0?Q:void 0,Z=x.size;var G=re-z;if(ee=Number.isNaN(G)?0:G,ae={x:V,y:s.y,width:Z,height:s.height},Math.abs(se)>0&&Math.abs(ee)<Math.abs(se)){var ge=Fr(ee||se)*(Math.abs(se)-Math.abs(ee));$-=ge,ee+=ge}}else{var _e=[o.scale(L[0]),o.scale(L[1])],Ce=_e[0],Re=_e[1];if(V=Ce,$=NN({axis:s,ticks:c,bandSize:i,offset:x.offset,entry:N,index:B}),Z=Re-Ce,ee=x.size,ae={x:o.x,y:$,width:o.width,height:ee},Math.abs(se)>0&&Math.abs(Z)<Math.abs(se)){var We=Fr(Z||se)*(Math.abs(se)-Math.abs(Z));Z+=We}}return zt(zt(zt({},N),{},{x:V,y:$,width:Z,height:ee,value:f?L:L[1],payload:N,background:ae},A&&A[B]&&A[B].props),{},{tooltipPayload:[i4(n,N)],tooltipPosition:{x:V+Z/2,y:$+ee/2}})});return zt({data:P,layout:S},v)});function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function Wte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T4(r.key),r)}}function Hte(t,e,n){return e&&Kj(t.prototype,e),n&&Kj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yj(Object(n),!0).forEach(function(r){ng(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ng(t,e,n){return e=T4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T4(t){var e=Gte(t,"string");return Df(e)=="symbol"?e:e+""}function Gte(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kte=function(e,n,r,i,o){var s=e.width,u=e.height,c=e.layout,f=e.children,h=Object.keys(n),p={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},v=!!or(f,no);return h.reduce(function(x,S){var T=n[S],_=T.orientation,I=T.domain,R=T.padding,k=R===void 0?{}:R,D=T.mirror,O=T.reversed,j="".concat(_).concat(D?"Mirror":""),A,P,N,B,L;if(T.type==="number"&&(T.padding==="gap"||T.padding==="no-gap")){var V=I[1]-I[0],$=1/0,Z=T.categoricalDomain.sort(q8);if(Z.forEach(function(_e,Ce){Ce>0&&($=Math.min((_e||0)-(Z[Ce-1]||0),$))}),Number.isFinite($)){var ee=$/V,ae=T.layout==="vertical"?r.height:r.width;if(T.padding==="gap"&&(A=ee*ae/2),T.padding==="no-gap"){var se=ps(e.barCategoryGap,ee*ae),Q=ee*ae/2;A=Q-se-(Q-se)/ae*se}}}i==="xAxis"?P=[r.left+(k.left||0)+(A||0),r.left+r.width-(k.right||0)-(A||0)]:i==="yAxis"?P=c==="horizontal"?[r.top+r.height-(k.bottom||0),r.top+(k.top||0)]:[r.top+(k.top||0)+(A||0),r.top+r.height-(k.bottom||0)-(A||0)]:P=T.range,O&&(P=[P[1],P[0]]);var ie=rQ(T,o,v),re=ie.scale,z=ie.realScaleType;re.domain(I).range(P),iQ(re);var G=dQ(re,Mr(Mr({},T),{},{realScaleType:z}));i==="xAxis"?(L=_==="top"&&!D||_==="bottom"&&D,N=r.left,B=p[j]-L*T.height):i==="yAxis"&&(L=_==="left"&&!D||_==="right"&&D,N=p[j]-L*T.width,B=r.top);var ge=Mr(Mr(Mr({},T),G),{},{realScaleType:z,x:N,y:B,scale:re,width:i==="xAxis"?r.width:T.width,height:i==="yAxis"?r.height:T.height});return ge.bandSize=Up(ge,G),!T.hide&&i==="xAxis"?p[j]+=(L?-1:1)*ge.height:T.hide||(p[j]+=(L?-1:1)*ge.width),Mr(Mr({},x),{},ng({},S,ge))},{})},S4=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},Yte=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return S4({x:n,y:r},{x:i,y:o})},A4=(function(){function t(e){Wte(this,t),this.scale=e}return Hte(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();ng(A4,"EPS",1e-4);var DE=function(e){var n=Object.keys(e).reduce(function(r,i){return Mr(Mr({},r),{},ng({},i,A4.create(e[i])))},{});return Mr(Mr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,u=o.position;return wte(i,function(c,f){return n[f].apply(c,{bandAware:s,position:u})})},isInRange:function(i){return b4(i,function(o,s){return n[s].isInRange(o)})}})};function Xte(t){return(t%180+180)%180}var Qte=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Xte(i),s=o*Math.PI/180,u=Math.atan(r/n),c=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},Hb,Xj;function Jte(){if(Xj)return Hb;Xj=1;var t=da(),e=Qf(),n=Bm();function r(i){return function(o,s,u){var c=Object(o);if(!e(o)){var f=t(s,3);o=n(o),s=function(p){return f(c[p],p,c)}}var h=i(o,s,u);return h>-1?c[f?o[h]:h]:void 0}}return Hb=r,Hb}var Gb,Qj;function Zte(){if(Qj)return Gb;Qj=1;var t=g4();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return Gb=e,Gb}var Kb,Jj;function ene(){if(Jj)return Kb;Jj=1;var t=BM(),e=da(),n=Zte(),r=Math.max;function i(o,s,u){var c=o==null?0:o.length;if(!c)return-1;var f=u==null?0:n(u);return f<0&&(f=r(c+f,0)),t(o,e(s,3),f)}return Kb=i,Kb}var Yb,Zj;function tne(){if(Zj)return Yb;Zj=1;var t=Jte(),e=ene(),n=t(e);return Yb=n,Yb}var nne=tne();const rne=ht(nne);var ine=nM();const one=ht(ine);var ane=one(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),ME=q.createContext(void 0),LE=q.createContext(void 0),P4=q.createContext(void 0),I4=q.createContext({}),C4=q.createContext(void 0),O4=q.createContext(0),k4=q.createContext(0),e2=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,u=e.children,c=e.width,f=e.height,h=ane(o);return K.createElement(ME.Provider,{value:r},K.createElement(LE.Provider,{value:i},K.createElement(I4.Provider,{value:o},K.createElement(P4.Provider,{value:h},K.createElement(C4.Provider,{value:s},K.createElement(O4.Provider,{value:f},K.createElement(k4.Provider,{value:c},u)))))))},sne=function(){return q.useContext(C4)},N4=function(e){var n=q.useContext(ME);n==null&&gs();var r=n[e];return r==null&&gs(),r},lne=function(){var e=q.useContext(ME);return Ko(e)},une=function(){var e=q.useContext(LE),n=rne(e,function(r){return b4(r.domain,Number.isFinite)});return n||Ko(e)},j4=function(e){var n=q.useContext(LE);n==null&&gs();var r=n[e];return r==null&&gs(),r},cne=function(){var e=q.useContext(P4);return e},fne=function(){return q.useContext(I4)},$E=function(){return q.useContext(k4)},VE=function(){return q.useContext(O4)};function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function dne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D4(r.key),r)}}function pne(t,e,n){return e&&hne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mne(t,e,n){return e=rm(e),gne(t,R4()?Reflect.construct(e,n||[],rm(t).constructor):e.apply(t,n))}function gne(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yne(t)}function yne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R4=function(){return!!t})()}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rm(t)}function vne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Aw(t,e)}function Aw(t,e){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Aw(t,e)}function t2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(n),!0).forEach(function(r){BE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BE(t,e,n){return e=D4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D4(t){var e=xne(t,"string");return nu(e)=="symbol"?e:e+""}function xne(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bne(t,e){return Tne(t)||Ene(t,e)||wne(t,e)||_ne()}function _ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wne(t,e){if(t){if(typeof t=="string")return r2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r2(t,e)}}function r2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ene(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Tne(t){if(Array.isArray(t))return t}function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pw.apply(this,arguments)}var Sne=function(e,n){var r;return K.isValidElement(e)?r=K.cloneElement(e,n):Ge(e)?r=e(n):r=K.createElement("line",Pw({},n,{className:"recharts-reference-line-line"})),r},Ane=function(e,n,r,i,o,s,u,c,f){var h=o.x,p=o.y,v=o.width,x=o.height;if(r){var S=f.y,T=e.y.apply(S,{position:s});if(xi(f,"discard")&&!e.y.isInRange(T))return null;var _=[{x:h+v,y:T},{x:h,y:T}];return c==="left"?_.reverse():_}if(n){var I=f.x,R=e.x.apply(I,{position:s});if(xi(f,"discard")&&!e.x.isInRange(R))return null;var k=[{x:R,y:p+x},{x:R,y:p}];return u==="top"?k.reverse():k}if(i){var D=f.segment,O=D.map(function(j){return e.apply(j,{position:s})});return xi(f,"discard")&&vte(O,function(j){return!e.isInRange(j)})?null:O}return null};function Pne(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,u=t.className,c=t.alwaysShow,f=sne(),h=N4(i),p=j4(o),v=cne();if(!f||!v)return null;eo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=DE({x:h.scale,y:p.scale}),S=tn(e),T=tn(n),_=r&&r.length===2,I=Ane(x,S,T,_,v,t.position,h.orientation,p.orientation,t);if(!I)return null;var R=bne(I,2),k=R[0],D=k.x,O=k.y,j=R[1],A=j.x,P=j.y,N=xi(t,"hidden")?"url(#".concat(f,")"):void 0,B=n2(n2({clipPath:N},ot(t,!0)),{},{x1:D,y1:O,x2:A,y2:P});return K.createElement(cn,{className:at("recharts-reference-line",u)},Sne(s,B),On.renderCallByParent(t,Yte({x1:D,y1:O,x2:A,y2:P})))}var FE=(function(t){function e(){return dne(this,e),mne(this,e,arguments)}return vne(e,t),pne(e,[{key:"render",value:function(){return K.createElement(Pne,this.props)}}])})(K.Component);BE(FE,"displayName","ReferenceLine");BE(FE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iw.apply(this,arguments)}function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function i2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i2(Object(n),!0).forEach(function(r){rg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ine(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L4(r.key),r)}}function One(t,e,n){return e&&Cne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kne(t,e,n){return e=im(e),Nne(t,M4()?Reflect.construct(e,n||[],im(t).constructor):e.apply(t,n))}function Nne(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jne(t)}function jne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M4=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},im(t)}function Rne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cw(t,e)}function Cw(t,e){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cw(t,e)}function rg(t,e,n){return e=L4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L4(t){var e=Dne(t,"string");return ru(e)=="symbol"?e:e+""}function Dne(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mne=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=DE({x:i.scale,y:o.scale}),u=s.apply({x:n,y:r},{bandAware:!0});return xi(e,"discard")&&!s.isInRange(u)?null:u},ig=(function(t){function e(){return Ine(this,e),kne(this,e,arguments)}return Rne(e,t),One(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,u=r.alwaysShow,c=r.clipPathId,f=tn(i),h=tn(o);if(eo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var p=Mne(this.props);if(!p)return null;var v=p.x,x=p.y,S=this.props,T=S.shape,_=S.className,I=xi(this.props,"hidden")?"url(#".concat(c,")"):void 0,R=o2(o2({clipPath:I},ot(this.props,!0)),{},{cx:v,cy:x});return K.createElement(cn,{className:at("recharts-reference-dot",_)},e.renderDot(T,R),On.renderCallByParent(this.props,{x:v-s,y:x-s,width:2*s,height:2*s}))}}])})(K.Component);rg(ig,"displayName","ReferenceDot");rg(ig,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});rg(ig,"renderDot",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):Ge(t)?n=t(e):n=K.createElement(m4,Iw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Ow(){return Ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ow.apply(this,arguments)}function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function a2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(n),!0).forEach(function(r){og(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V4(r.key),r)}}function Vne(t,e,n){return e&&$ne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bne(t,e,n){return e=om(e),Fne(t,$4()?Reflect.construct(e,n||[],om(t).constructor):e.apply(t,n))}function Fne(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Une(t)}function Une(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($4=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},om(t)}function qne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kw(t,e)}function kw(t,e){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kw(t,e)}function og(t,e,n){return e=V4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V4(t){var e=zne(t,"string");return iu(e)=="symbol"?e:e+""}function zne(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wne=function(e,n,r,i,o){var s=o.x1,u=o.x2,c=o.y1,f=o.y2,h=o.xAxis,p=o.yAxis;if(!h||!p)return null;var v=DE({x:h.scale,y:p.scale}),x={x:e?v.x.apply(s,{position:"start"}):v.x.rangeMin,y:r?v.y.apply(c,{position:"start"}):v.y.rangeMin},S={x:n?v.x.apply(u,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(f,{position:"end"}):v.y.rangeMax};return xi(o,"discard")&&(!v.isInRange(x)||!v.isInRange(S))?null:S4(x,S)},ag=(function(t){function e(){return Lne(this,e),Bne(this,e,arguments)}return qne(e,t),Vne(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,u=r.y2,c=r.className,f=r.alwaysShow,h=r.clipPathId;eo(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=tn(i),v=tn(o),x=tn(s),S=tn(u),T=this.props.shape;if(!p&&!v&&!x&&!S&&!T)return null;var _=Wne(p,v,x,S,this.props);if(!_&&!T)return null;var I=xi(this.props,"hidden")?"url(#".concat(h,")"):void 0;return K.createElement(cn,{className:at("recharts-reference-area",c)},e.renderRect(T,s2(s2({clipPath:I},ot(this.props,!0)),_)),On.renderCallByParent(this.props,_))}}])})(K.Component);og(ag,"displayName","ReferenceArea");og(ag,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});og(ag,"renderRect",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):Ge(t)?n=t(e):n=K.createElement(RE,Ow({},e,{className:"recharts-reference-area-rect"})),n});function B4(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Hne(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Qte(r,n)}function Gne(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,u=t.height;return e===1?{start:r?i:o,end:r?i+s:o+u}:{start:r?i+s:o+u,end:r?i:o}}function am(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Kne(t,e){return B4(t,e+1)}function Yne(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,u=e.end,c=0,f=1,h=s,p=function(){var S=r==null?void 0:r[c];if(S===void 0)return{v:B4(r,f)};var T=c,_,I=function(){return _===void 0&&(_=n(S,T)),_},R=S.coordinate,k=c===0||am(t,R,I,h,u);k||(c=0,h=s,f+=1),k&&(h=R+t*(I()/2+i),c+=f)},v;f<=o.length;)if(v=p(),v)return v.v;return[]}function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function l2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(n),!0).forEach(function(r){Xne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xne(t,e,n){return e=Qne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qne(t){var e=Jne(t,"string");return Mf(e)=="symbol"?e:e+""}function Jne(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zne(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,u=e.start,c=e.end,f=function(v){var x=o[v],S,T=function(){return S===void 0&&(S=n(x,v)),S};if(v===s-1){var _=t*(x.coordinate+t*T()/2-c);o[v]=x=Pn(Pn({},x),{},{tickCoord:_>0?x.coordinate-_*t:x.coordinate})}else o[v]=x=Pn(Pn({},x),{},{tickCoord:x.coordinate});var I=am(t,x.tickCoord,T,u,c);I&&(c=x.tickCoord-t*(T()/2+i),o[v]=Pn(Pn({},x),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return o}function ere(t,e,n,r,i,o){var s=(r||[]).slice(),u=s.length,c=e.start,f=e.end;if(o){var h=r[u-1],p=n(h,u-1),v=t*(h.coordinate+t*p/2-f);s[u-1]=h=Pn(Pn({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate});var x=am(t,h.tickCoord,function(){return p},c,f);x&&(f=h.tickCoord-t*(p/2+i),s[u-1]=Pn(Pn({},h),{},{isShow:!0}))}for(var S=o?u-1:u,T=function(R){var k=s[R],D,O=function(){return D===void 0&&(D=n(k,R)),D};if(R===0){var j=t*(k.coordinate-t*O()/2-c);s[R]=k=Pn(Pn({},k),{},{tickCoord:j<0?k.coordinate-j*t:k.coordinate})}else s[R]=k=Pn(Pn({},k),{},{tickCoord:k.coordinate});var A=am(t,k.tickCoord,O,c,f);A&&(c=k.tickCoord+t*(O()/2+i),s[R]=Pn(Pn({},k),{},{isShow:!0}))},_=0;_<S;_++)T(_);return s}function UE(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,u=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,p=t.angle;if(!i||!i.length||!r)return[];if(xe(c)||Jf.isSsr)return Kne(i,typeof c=="number"&&xe(c)?c:0);var v=[],x=u==="top"||u==="bottom"?"width":"height",S=h&&x==="width"?Fc(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},T=function(k,D){var O=Ge(f)?f(k.value,D):k.value;return x==="width"?Hne(Fc(O,{fontSize:e,letterSpacing:n}),S,p):Fc(O,{fontSize:e,letterSpacing:n})[x]},_=i.length>=2?Fr(i[1].coordinate-i[0].coordinate):1,I=Gne(o,_,x);return c==="equidistantPreserveStart"?Yne(_,I,T,i,s):(c==="preserveStart"||c==="preserveStartEnd"?v=ere(_,I,T,i,s,c==="preserveStartEnd"):v=Zne(_,I,T,i,s),v.filter(function(R){return R.isShow}))}var tre=["viewBox"],nre=["viewBox"],rre=["ticks"];function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function _l(){return _l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_l.apply(this,arguments)}function u2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u2(Object(n),!0).forEach(function(r){qE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xb(t,e){if(t==null)return{};var n=ire(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ire(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ore(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U4(r.key),r)}}function are(t,e,n){return e&&c2(t.prototype,e),n&&c2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sre(t,e,n){return e=sm(e),lre(t,F4()?Reflect.construct(e,n||[],sm(t).constructor):e.apply(t,n))}function lre(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ure(t)}function ure(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F4=function(){return!!t})()}function sm(t){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sm(t)}function cre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nw(t,e)}function Nw(t,e){return Nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Nw(t,e)}function qE(t,e,n){return e=U4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U4(t){var e=fre(t,"string");return ou(e)=="symbol"?e:e+""}function fre(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Eu=(function(t){function e(n){var r;return ore(this,e),r=sre(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return cre(e,t),are(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Xb(r,tre),u=this.props,c=u.viewBox,f=Xb(u,nre);return!Ol(o,c)||!Ol(s,f)||!Ol(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,u=i.width,c=i.height,f=i.orientation,h=i.tickSize,p=i.mirror,v=i.tickMargin,x,S,T,_,I,R,k=p?-1:1,D=r.tickSize||h,O=xe(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":x=S=r.coordinate,_=s+ +!p*c,T=_-k*D,R=T-k*v,I=O;break;case"left":T=_=r.coordinate,S=o+ +!p*u,x=S-k*D,I=x-k*v,R=O;break;case"right":T=_=r.coordinate,S=o+ +p*u,x=S+k*D,I=x+k*v,R=O;break;default:x=S=r.coordinate,_=s+ +p*c,T=_+k*D,R=T+k*v,I=O;break}return{line:{x1:x,y1:T,x2:S,y2:_},tick:{x:I,y:R}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,u=r.height,c=r.orientation,f=r.mirror,h=r.axisLine,p=Qt(Qt(Qt({},ot(this.props,!1)),ot(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var v=+(c==="top"&&!f||c==="bottom"&&f);p=Qt(Qt({},p),{},{x1:i,y1:o+v*u,x2:i+s,y2:o+v*u})}else{var x=+(c==="left"&&!f||c==="right"&&f);p=Qt(Qt({},p),{},{x1:i+x*s,y1:o,x2:i+x*s,y2:o+u})}return K.createElement("line",_l({},p,{className:at("recharts-cartesian-axis-line",wr(h,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,u=this.props,c=u.tickLine,f=u.stroke,h=u.tick,p=u.tickFormatter,v=u.unit,x=UE(Qt(Qt({},this.props),{},{ticks:r}),i,o),S=this.getTickTextAnchor(),T=this.getTickVerticalAnchor(),_=ot(this.props,!1),I=ot(h,!1),R=Qt(Qt({},_),{},{fill:"none"},ot(c,!1)),k=x.map(function(D,O){var j=s.getTickLineCoord(D),A=j.line,P=j.tick,N=Qt(Qt(Qt(Qt({textAnchor:S,verticalAnchor:T},_),{},{stroke:"none",fill:f},I),P),{},{index:O,payload:D,visibleTicksCount:x.length,tickFormatter:p});return K.createElement(cn,_l({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},gp(s.props,D,O)),c&&K.createElement("line",_l({},R,A,{className:at("recharts-cartesian-axis-tick-line",wr(c,"className"))})),h&&e.renderTickItem(h,N,"".concat(Ge(p)?p(D.value,O):D.value).concat(v||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,u=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var p=this.props,v=p.ticks,x=Xb(p,rre),S=v;return Ge(c)&&(S=v&&v.length>0?c(this.props):c(x)),s<=0||u<=0||!S||!S.length?null:K.createElement(cn,{className:at("recharts-cartesian-axis",f),ref:function(_){r.layerReference=_}},o&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),On.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,u=at(i.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(r)?s=K.cloneElement(r,Qt(Qt({},i),{},{className:u})):Ge(r)?s=r(Qt(Qt({},i),{},{className:u})):s=K.createElement(Pp,_l({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])})(q.Component);qE(Eu,"displayName","CartesianAxis");qE(Eu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var dre=["x1","y1","x2","y2","key"],hre=["offset"];function ys(t){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ys(t)}function f2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(n),!0).forEach(function(r){pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pre(t,e,n){return e=mre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mre(t){var e=gre(t,"string");return ys(e)=="symbol"?e:e+""}function gre(t,e){if(ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Za.apply(this,arguments)}function d2(t,e){if(t==null)return{};var n=yre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var vre=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,u=e.height,c=e.ry;return K.createElement("rect",{x:i,y:o,ry:c,width:s,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function q4(t,e){var n;if(K.isValidElement(t))n=K.cloneElement(t,e);else if(Ge(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,u=e.key,c=d2(e,dre),f=ot(c,!1);f.offset;var h=d2(f,hre);n=K.createElement("line",Za({},h,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:u}))}return n}function xre(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(u,c){var f=kn(kn({},t),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(c),index:c});return q4(i,f)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function bre(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(u,c){var f=kn(kn({},t),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(c),index:c});return q4(i,f)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function _re(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,u=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=u.map(function(v){return Math.round(v+i-i)}).sort(function(v,x){return v-x});i!==h[0]&&h.unshift(0);var p=h.map(function(v,x){var S=!h[x+1],T=S?i+s-v:h[x+1]-v;if(T<=0)return null;var _=x%e.length;return K.createElement("rect",{key:"react-".concat(x),y:v,x:r,height:T,width:o,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function wre(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,u=t.width,c=t.height,f=t.verticalPoints;if(!n||!r||!r.length)return null;var h=f.map(function(v){return Math.round(v+o-o)}).sort(function(v,x){return v-x});o!==h[0]&&h.unshift(0);var p=h.map(function(v,x){var S=!h[x+1],T=S?o+u-v:h[x+1]-v;if(T<=0)return null;var _=x%r.length;return K.createElement("rect",{key:"react-".concat(x),x:v,y:s,width:T,height:c,stroke:"none",fill:r[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Ere=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return n4(UE(kn(kn(kn({},Eu.defaultProps),r),{},{ticks:Ji(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},Tre=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return n4(UE(kn(kn(kn({},Eu.defaultProps),r),{},{ticks:Ji(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},pl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function z4(t){var e,n,r,i,o,s,u=$E(),c=VE(),f=fne(),h=kn(kn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:pl.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:pl.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:pl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:pl.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:pl.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:pl.verticalFill,x:xe(t.x)?t.x:f.left,y:xe(t.y)?t.y:f.top,width:xe(t.width)?t.width:f.width,height:xe(t.height)?t.height:f.height}),p=h.x,v=h.y,x=h.width,S=h.height,T=h.syncWithTicks,_=h.horizontalValues,I=h.verticalValues,R=lne(),k=une();if(!xe(x)||x<=0||!xe(S)||S<=0||!xe(p)||p!==+p||!xe(v)||v!==+v)return null;var D=h.verticalCoordinatesGenerator||Ere,O=h.horizontalCoordinatesGenerator||Tre,j=h.horizontalPoints,A=h.verticalPoints;if((!j||!j.length)&&Ge(O)){var P=_&&_.length,N=O({yAxis:k?kn(kn({},k),{},{ticks:P?_:k.ticks}):void 0,width:u,height:c,offset:f},P?!0:T);eo(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ys(N),"]")),Array.isArray(N)&&(j=N)}if((!A||!A.length)&&Ge(D)){var B=I&&I.length,L=D({xAxis:R?kn(kn({},R),{},{ticks:B?I:R.ticks}):void 0,width:u,height:c,offset:f},B?!0:T);eo(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ys(L),"]")),Array.isArray(L)&&(A=L)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(vre,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),K.createElement(xre,Za({},h,{offset:f,horizontalPoints:j,xAxis:R,yAxis:k})),K.createElement(bre,Za({},h,{offset:f,verticalPoints:A,xAxis:R,yAxis:k})),K.createElement(_re,Za({},h,{horizontalPoints:j})),K.createElement(wre,Za({},h,{verticalPoints:A})))}z4.displayName="CartesianGrid";function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function Sre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Are(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G4(r.key),r)}}function Pre(t,e,n){return e&&Are(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ire(t,e,n){return e=lm(e),Cre(t,W4()?Reflect.construct(e,n||[],lm(t).constructor):e.apply(t,n))}function Cre(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ore(t)}function Ore(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W4=function(){return!!t})()}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lm(t)}function kre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jw(t,e)}function jw(t,e){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jw(t,e)}function H4(t,e,n){return e=G4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G4(t){var e=Nre(t,"string");return au(e)=="symbol"?e:e+""}function Nre(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rw.apply(this,arguments)}function jre(t){var e=t.xAxisId,n=$E(),r=VE(),i=N4(e);return i==null?null:q.createElement(Eu,Rw({},i,{className:at("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ji(s,!0)}}))}var sg=(function(t){function e(){return Sre(this,e),Ire(this,e,arguments)}return kre(e,t),Pre(e,[{key:"render",value:function(){return q.createElement(jre,this.props)}}])})(q.Component);H4(sg,"displayName","XAxis");H4(sg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function Rre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X4(r.key),r)}}function Mre(t,e,n){return e&&Dre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lre(t,e,n){return e=um(e),$re(t,K4()?Reflect.construct(e,n||[],um(t).constructor):e.apply(t,n))}function $re(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vre(t)}function Vre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K4=function(){return!!t})()}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},um(t)}function Bre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dw(t,e)}function Dw(t,e){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dw(t,e)}function Y4(t,e,n){return e=X4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X4(t){var e=Fre(t,"string");return su(e)=="symbol"?e:e+""}function Fre(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mw.apply(this,arguments)}var Ure=function(e){var n=e.yAxisId,r=$E(),i=VE(),o=j4(n);return o==null?null:q.createElement(Eu,Mw({},o,{className:at("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(u){return Ji(u,!0)}}))},lg=(function(t){function e(){return Rre(this,e),Lre(this,e,arguments)}return Bre(e,t),Mre(e,[{key:"render",value:function(){return q.createElement(Ure,this.props)}}])})(q.Component);Y4(lg,"displayName","YAxis");Y4(lg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function h2(t){return Hre(t)||Wre(t)||zre(t)||qre()}function qre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zre(t,e){if(t){if(typeof t=="string")return Lw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lw(t,e)}}function Wre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hre(t){if(Array.isArray(t))return Lw(t)}function Lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $w=function(e,n,r,i,o){var s=zr(e,FE),u=zr(e,ig),c=[].concat(h2(s),h2(u)),f=zr(e,ag),h="".concat(i,"Id"),p=i[0],v=n;if(c.length&&(v=c.reduce(function(T,_){if(_.props[h]===r&&xi(_.props,"extendDomain")&&xe(_.props[p])){var I=_.props[p];return[Math.min(T[0],I),Math.max(T[1],I)]}return T},v)),f.length){var x="".concat(p,"1"),S="".concat(p,"2");v=f.reduce(function(T,_){if(_.props[h]===r&&xi(_.props,"extendDomain")&&xe(_.props[x])&&xe(_.props[S])){var I=_.props[x],R=_.props[S];return[Math.min(T[0],I,R),Math.max(T[1],I,R)]}return T},v)}return o&&o.length&&(v=o.reduce(function(T,_){return xe(_)?[Math.min(T[0],_),Math.max(T[1],_)]:T},v)),v},Qb={exports:{}},p2;function Gre(){return p2||(p2=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,p||c,v),S=n?n+f:f;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],x]:c._events[S].push(x):(c._events[S]=x,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,x=p.length,S=new Array(x);v<x;v++)S[v]=p[v].fn;return S},u.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,h,p,v,x,S){var T=n?n+f:f;if(!this._events[T])return!1;var _=this._events[T],I=arguments.length,R,k;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),I){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,p),!0;case 4:return _.fn.call(_.context,h,p,v),!0;case 5:return _.fn.call(_.context,h,p,v,x),!0;case 6:return _.fn.call(_.context,h,p,v,x,S),!0}for(k=1,R=new Array(I-1);k<I;k++)R[k-1]=arguments[k];_.fn.apply(_.context,R)}else{var D=_.length,O;for(k=0;k<D;k++)switch(_[k].once&&this.removeListener(f,_[k].fn,void 0,!0),I){case 1:_[k].fn.call(_[k].context);break;case 2:_[k].fn.call(_[k].context,h);break;case 3:_[k].fn.call(_[k].context,h,p);break;case 4:_[k].fn.call(_[k].context,h,p,v);break;default:if(!R)for(O=1,R=new Array(I-1);O<I;O++)R[O-1]=arguments[O];_[k].fn.apply(_[k].context,R)}}return!0},u.prototype.on=function(f,h,p){return o(this,f,h,p,!1)},u.prototype.once=function(f,h,p){return o(this,f,h,p,!0)},u.prototype.removeListener=function(f,h,p,v){var x=n?n+f:f;if(!this._events[x])return this;if(!h)return s(this,x),this;var S=this._events[x];if(S.fn)S.fn===h&&(!v||S.once)&&(!p||S.context===p)&&s(this,x);else{for(var T=0,_=[],I=S.length;T<I;T++)(S[T].fn!==h||v&&!S[T].once||p&&S[T].context!==p)&&_.push(S[T]);_.length?this._events[x]=_.length===1?_[0]:_:s(this,x)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(Qb)),Qb.exports}var Kre=Gre();const Yre=ht(Kre);var Jb=new Yre,Zb="recharts.syncMouseEvents";function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function Xre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q4(r.key),r)}}function Jre(t,e,n){return e&&Qre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e_(t,e,n){return e=Q4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q4(t){var e=Zre(t,"string");return Lf(e)=="symbol"?e:e+""}function Zre(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eie=(function(){function t(){Xre(this,t),e_(this,"activeIndex",0),e_(this,"coordinateList",[]),e_(this,"layout","horizontal")}return Jre(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,u=s===void 0?null:s,c=n.layout,f=c===void 0?null:c,h=n.offset,p=h===void 0?null:h,v=n.mouseHandlerCallback,x=v===void 0?null:v;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,u=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=o+c+f,v=s+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:p,pageY:v})}}}])})();function tie(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&xe(r)&&xe(i))return!0}return!1}function nie(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function J4(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=xn(e,n,r,i),u=xn(e,n,r,o);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function rie(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,p=e.angle,v=xn(u,c,f,p),x=xn(u,c,h,p);r=v.x,i=v.y,o=x.x,s=x.y}else return J4(e);return[{x:r,y:i},{x:o,y:s}]}function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function m2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(n),!0).forEach(function(r){iie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iie(t,e,n){return e=oie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oie(t){var e=aie(t,"string");return $f(e)=="symbol"?e:e+""}function aie(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sie(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,u=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,p=t.layout,v=t.chartName,x=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!x||!o||!s||v!=="ScatterChart"&&i!=="axis")return null;var S,T=YN;if(v==="ScatterChart")S=s,T=vee;else if(v==="BarChart")S=nie(p,s,c,h),T=RE;else if(p==="radial"){var _=J4(s),I=_.cx,R=_.cy,k=_.radius,D=_.startAngle,O=_.endAngle;S={cx:I,cy:R,startAngle:D,endAngle:O,innerRadius:k,outerRadius:k},T=s4}else S={points:rie(p,s,c)},T=YN;var j=Dh(Dh(Dh(Dh({stroke:"#ccc",pointerEvents:"none"},c),S),ot(x,!1)),{},{payload:u,payloadIndex:f,className:at("recharts-tooltip-cursor",x.className)});return q.isValidElement(x)?q.cloneElement(x,j):q.createElement(T,j)}var lie=["item"],uie=["children","className","width","height","style","compact","title","desc"];function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(this,arguments)}function g2(t,e){return die(t)||fie(t,e)||e3(t,e)||cie()}function cie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function die(t){if(Array.isArray(t))return t}function y2(t,e){if(t==null)return{};var n=hie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t3(r.key),r)}}function gie(t,e,n){return e&&mie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yie(t,e,n){return e=cm(e),vie(t,Z4()?Reflect.construct(e,n||[],cm(t).constructor):e.apply(t,n))}function vie(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xie(t)}function xie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z4=function(){return!!t})()}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cm(t)}function bie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vw(t,e)}function Vw(t,e){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vw(t,e)}function uu(t){return Eie(t)||wie(t)||e3(t)||_ie()}function _ie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e3(t,e){if(t){if(typeof t=="string")return Bw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bw(t,e)}}function wie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eie(t){if(Array.isArray(t))return Bw(t)}function Bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(n),!0).forEach(function(r){De(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function De(t,e,n){return e=t3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t3(t){var e=Tie(t,"string");return lu(e)=="symbol"?e:e+""}function Tie(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sie={xAxis:["bottom","top"],yAxis:["left","right"]},Aie={width:"100%",height:"100%"},n3={x:0,y:0};function Mh(t){return t}var Pie=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Iie=function(e,n,r,i){var o=n.find(function(h){return h&&h.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,u=i.radius;return oe(oe(oe({},i),xn(i.cx,i.cy,u,s)),{},{angle:s,radius:u})}var c=o.coordinate,f=i.angle;return oe(oe(oe({},i),xn(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return n3},ug=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(u,c){var f=c.props.data;return f&&f.length?[].concat(uu(u),uu(f)):u},[]);return s.length>0?s:e&&e.length&&xe(i)&&xe(o)?e.slice(i,o+1):[]};function r3(t){return t==="number"?[0,"auto"]:void 0}var Fw=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,u=ug(n,e);return r<0||!o||!o.length||r>=u.length?null:o.reduce(function(c,f){var h,p=(h=f.props.data)!==null&&h!==void 0?h:n;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(s.dataKey&&!s.allowDuplicatedCategory){var x=p===void 0?u:p;v=P_(x,s.dataKey,i)}else v=p&&p[r]||u[r];return v?[].concat(uu(c),[i4(f,v)]):c},[])},x2=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=Pie(o,r),u=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=QX(s,u,f,c);if(h>=0&&f){var p=f[h]&&f[h].value,v=Fw(e,n,h,p),x=Iie(r,u,h,o);return{activeTooltipIndex:h,activeLabel:p,activePayload:v,activeCoordinate:x}}return null},Cie=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,p=e.children,v=e.stackOffset,x=t4(h,o);return r.reduce(function(S,T){var _,I=T.type.defaultProps!==void 0?oe(oe({},T.type.defaultProps),T.props):T.props,R=I.type,k=I.dataKey,D=I.allowDataOverflow,O=I.allowDuplicatedCategory,j=I.scale,A=I.ticks,P=I.includeHidden,N=I[s];if(S[N])return S;var B=ug(e.data,{graphicalItems:i.filter(function(G){var ge,_e=s in G.props?G.props[s]:(ge=G.type.defaultProps)===null||ge===void 0?void 0:ge[s];return _e===N}),dataStartIndex:c,dataEndIndex:f}),L=B.length,V,$,Z;tie(I.domain,D,R)&&(V=sw(I.domain,null,D),x&&(R==="number"||j!=="auto")&&(Z=qc(B,k,"category")));var ee=r3(R);if(!V||V.length===0){var ae,se=(ae=I.domain)!==null&&ae!==void 0?ae:ee;if(k){if(V=qc(B,k,R),R==="category"&&x){var Q=U8(V);O&&Q?($=V,V=Jp(0,L)):O||(V=DN(se,V,T).reduce(function(G,ge){return G.indexOf(ge)>=0?G:[].concat(uu(G),[ge])},[]))}else if(R==="category")O?V=V.filter(function(G){return G!==""&&!st(G)}):V=DN(se,V,T).reduce(function(G,ge){return G.indexOf(ge)>=0||ge===""||st(ge)?G:[].concat(uu(G),[ge])},[]);else if(R==="number"){var ie=nQ(B,i.filter(function(G){var ge,_e,Ce=s in G.props?G.props[s]:(ge=G.type.defaultProps)===null||ge===void 0?void 0:ge[s],Re="hide"in G.props?G.props.hide:(_e=G.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return Ce===N&&(P||!Re)}),k,o,h);ie&&(V=ie)}x&&(R==="number"||j!=="auto")&&(Z=qc(B,k,"category"))}else x?V=Jp(0,L):u&&u[N]&&u[N].hasStack&&R==="number"?V=v==="expand"?[0,1]:r4(u[N].stackGroups,c,f):V=e4(B,i.filter(function(G){var ge=s in G.props?G.props[s]:G.type.defaultProps[s],_e="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ge===N&&(P||!_e)}),R,h,!0);if(R==="number")V=$w(p,V,N,o,A),se&&(V=sw(se,V,D));else if(R==="category"&&se){var re=se,z=V.every(function(G){return re.indexOf(G)>=0});z&&(V=re)}}return oe(oe({},S),{},De({},N,oe(oe({},I),{},{axisType:o,domain:V,categoricalDomain:Z,duplicateDomain:$,originalDomain:(_=I.domain)!==null&&_!==void 0?_:ee,isCategorical:x,layout:h})))},{})},Oie=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,p=e.children,v=ug(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),x=v.length,S=t4(h,o),T=-1;return r.reduce(function(_,I){var R=I.type.defaultProps!==void 0?oe(oe({},I.type.defaultProps),I.props):I.props,k=R[s],D=r3("number");if(!_[k]){T++;var O;return S?O=Jp(0,x):u&&u[k]&&u[k].hasStack?(O=r4(u[k].stackGroups,c,f),O=$w(p,O,k,o)):(O=sw(D,e4(v,r.filter(function(j){var A,P,N=s in j.props?j.props[s]:(A=j.type.defaultProps)===null||A===void 0?void 0:A[s],B="hide"in j.props?j.props.hide:(P=j.type.defaultProps)===null||P===void 0?void 0:P.hide;return N===k&&!B}),"number",h),i.defaultProps.allowDataOverflow),O=$w(p,O,k,o)),oe(oe({},_),{},De({},k,oe(oe({axisType:o},i.defaultProps),{},{hide:!0,orientation:wr(Sie,"".concat(o,".").concat(T%2),null),domain:O,originalDomain:D,isCategorical:S,layout:h})))}return _},{})},kie=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.children,p="".concat(i,"Id"),v=zr(h,o),x={};return v&&v.length?x=Cie(e,{axes:v,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(x=Oie(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:f})),x},Nie=function(e){var n=Ko(e),r=Ji(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:oE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Up(n,r)}},b2=function(e){var n=e.children,r=e.defaultShowTooltip,i=or(n,eu),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},jie=function(e){return!e||!e.length?!1:e.some(function(n){var r=Zi(n&&n.type);return r&&r.indexOf("Bar")>=0})},_2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Rie=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,u=e.yAxisMap,c=u===void 0?{}:u,f=r.width,h=r.height,p=r.children,v=r.margin||{},x=or(p,eu),S=or(p,kl),T=Object.keys(c).reduce(function(O,j){var A=c[j],P=A.orientation;return!A.mirror&&!A.hide?oe(oe({},O),{},De({},P,O[P]+A.width)):O},{left:v.left||0,right:v.right||0}),_=Object.keys(s).reduce(function(O,j){var A=s[j],P=A.orientation;return!A.mirror&&!A.hide?oe(oe({},O),{},De({},P,wr(O,"".concat(P))+A.height)):O},{top:v.top||0,bottom:v.bottom||0}),I=oe(oe({},_),T),R=I.bottom;x&&(I.bottom+=x.props.height||eu.defaultProps.height),S&&n&&(I=eQ(I,i,r,n));var k=f-I.left-I.right,D=h-I.top-I.bottom;return oe(oe({brushBottom:R},I),{},{width:Math.max(k,0),height:Math.max(D,0)})},Die=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Mie=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,p=e.defaultProps,v=function(I,R){var k=R.graphicalItems,D=R.stackGroups,O=R.offset,j=R.updateId,A=R.dataStartIndex,P=R.dataEndIndex,N=I.barSize,B=I.layout,L=I.barGap,V=I.barCategoryGap,$=I.maxBarSize,Z=_2(B),ee=Z.numericAxisName,ae=Z.cateAxisName,se=jie(k),Q=[];return k.forEach(function(ie,re){var z=ug(I.data,{graphicalItems:[ie],dataStartIndex:A,dataEndIndex:P}),G=ie.type.defaultProps!==void 0?oe(oe({},ie.type.defaultProps),ie.props):ie.props,ge=G.dataKey,_e=G.maxBarSize,Ce=G["".concat(ee,"Id")],Re=G["".concat(ae,"Id")],We={},Le=c.reduce(function(Kt,Kn){var Ai=R["".concat(Kn.axisType,"Map")],ga=G["".concat(Kn.axisType,"Id")];Ai&&Ai[ga]||Kn.axisType==="zAxis"||gs();var Sr=Ai[ga];return oe(oe({},Kt),{},De(De({},Kn.axisType,Sr),"".concat(Kn.axisType,"Ticks"),Ji(Sr)))},We),he=Le[ae],Oe=Le["".concat(ae,"Ticks")],Be=D&&D[Ce]&&D[Ce].hasStack&&pQ(ie,D[Ce].stackGroups),ce=Zi(ie.type).indexOf("Bar")>=0,rt=Up(he,Oe),ze=[],Pt=se&&JX({barSize:N,stackGroups:D,totalSize:Die(Le,ae)});if(ce){var yt,Rt,Mn=st(_e)?$:_e,pt=(yt=(Rt=Up(he,Oe,!0))!==null&&Rt!==void 0?Rt:Mn)!==null&&yt!==void 0?yt:0;ze=ZX({barGap:L,barCategoryGap:V,bandSize:pt!==rt?pt:rt,sizeList:Pt[Re],maxBarSize:Mn}),pt!==rt&&(ze=ze.map(function(Kt){return oe(oe({},Kt),{},{position:oe(oe({},Kt.position),{},{offset:Kt.position.offset-pt/2})})}))}var vt=ie&&ie.type&&ie.type.getComposedData;vt&&Q.push({props:oe(oe({},vt(oe(oe({},Le),{},{displayedData:z,props:I,dataKey:ge,item:ie,bandSize:rt,barPosition:ze,offset:O,stackedData:Be,layout:B,dataStartIndex:A,dataEndIndex:P}))),{},De(De(De({key:ie.key||"item-".concat(re)},ee,Le[ee]),ae,Le[ae]),"animationId",j)),childIndex:ez(ie,I.children),item:ie})}),Q},x=function(I,R){var k=I.props,D=I.dataStartIndex,O=I.dataEndIndex,j=I.updateId;if(!XI({props:k}))return null;var A=k.children,P=k.layout,N=k.stackOffset,B=k.data,L=k.reverseStackOrder,V=_2(P),$=V.numericAxisName,Z=V.cateAxisName,ee=zr(A,r),ae=fQ(B,ee,"".concat($,"Id"),"".concat(Z,"Id"),N,L),se=c.reduce(function(G,ge){var _e="".concat(ge.axisType,"Map");return oe(oe({},G),{},De({},_e,kie(k,oe(oe({},ge),{},{graphicalItems:ee,stackGroups:ge.axisType===$&&ae,dataStartIndex:D,dataEndIndex:O}))))},{}),Q=Rie(oe(oe({},se),{},{props:k,graphicalItems:ee}),R==null?void 0:R.legendBBox);Object.keys(se).forEach(function(G){se[G]=h(k,se[G],Q,G.replace("Map",""),n)});var ie=se["".concat(Z,"Map")],re=Nie(ie),z=v(k,oe(oe({},se),{},{dataStartIndex:D,dataEndIndex:O,updateId:j,graphicalItems:ee,stackGroups:ae,offset:Q}));return oe(oe({formattedGraphicalItems:z,graphicalItems:ee,offset:Q,stackGroups:ae},re),se)},S=(function(_){function I(R){var k,D,O;return pie(this,I),O=yie(this,I,[R]),De(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),De(O,"accessibilityManager",new eie),De(O,"handleLegendBBoxUpdate",function(j){if(j){var A=O.state,P=A.dataStartIndex,N=A.dataEndIndex,B=A.updateId;O.setState(oe({legendBBox:j},x({props:O.props,dataStartIndex:P,dataEndIndex:N,updateId:B},oe(oe({},O.state),{},{legendBBox:j}))))}}),De(O,"handleReceiveSyncEvent",function(j,A,P){if(O.props.syncId===j){if(P===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(A)}}),De(O,"handleBrushChange",function(j){var A=j.startIndex,P=j.endIndex;if(A!==O.state.dataStartIndex||P!==O.state.dataEndIndex){var N=O.state.updateId;O.setState(function(){return oe({dataStartIndex:A,dataEndIndex:P},x({props:O.props,dataStartIndex:A,dataEndIndex:P,updateId:N},O.state))}),O.triggerSyncEvent({dataStartIndex:A,dataEndIndex:P})}}),De(O,"handleMouseEnter",function(j){var A=O.getMouseInfo(j);if(A){var P=oe(oe({},A),{},{isTooltipActive:!0});O.setState(P),O.triggerSyncEvent(P);var N=O.props.onMouseEnter;Ge(N)&&N(P,j)}}),De(O,"triggeredAfterMouseMove",function(j){var A=O.getMouseInfo(j),P=A?oe(oe({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(P),O.triggerSyncEvent(P);var N=O.props.onMouseMove;Ge(N)&&N(P,j)}),De(O,"handleItemMouseEnter",function(j){O.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),De(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),De(O,"handleMouseMove",function(j){j.persist(),O.throttleTriggeredAfterMouseMove(j)}),De(O,"handleMouseLeave",function(j){O.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};O.setState(A),O.triggerSyncEvent(A);var P=O.props.onMouseLeave;Ge(P)&&P(A,j)}),De(O,"handleOuterEvent",function(j){var A=Z8(j),P=wr(O.props,"".concat(A));if(A&&Ge(P)){var N,B;/.*touch.*/i.test(A)?B=O.getMouseInfo(j.changedTouches[0]):B=O.getMouseInfo(j),P((N=B)!==null&&N!==void 0?N:{},j)}}),De(O,"handleClick",function(j){var A=O.getMouseInfo(j);if(A){var P=oe(oe({},A),{},{isTooltipActive:!0});O.setState(P),O.triggerSyncEvent(P);var N=O.props.onClick;Ge(N)&&N(P,j)}}),De(O,"handleMouseDown",function(j){var A=O.props.onMouseDown;if(Ge(A)){var P=O.getMouseInfo(j);A(P,j)}}),De(O,"handleMouseUp",function(j){var A=O.props.onMouseUp;if(Ge(A)){var P=O.getMouseInfo(j);A(P,j)}}),De(O,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),De(O,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&O.handleMouseDown(j.changedTouches[0])}),De(O,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&O.handleMouseUp(j.changedTouches[0])}),De(O,"handleDoubleClick",function(j){var A=O.props.onDoubleClick;if(Ge(A)){var P=O.getMouseInfo(j);A(P,j)}}),De(O,"handleContextMenu",function(j){var A=O.props.onContextMenu;if(Ge(A)){var P=O.getMouseInfo(j);A(P,j)}}),De(O,"triggerSyncEvent",function(j){O.props.syncId!==void 0&&Jb.emit(Zb,O.props.syncId,j,O.eventEmitterSymbol)}),De(O,"applySyncEvent",function(j){var A=O.props,P=A.layout,N=A.syncMethod,B=O.state.updateId,L=j.dataStartIndex,V=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)O.setState(oe({dataStartIndex:L,dataEndIndex:V},x({props:O.props,dataStartIndex:L,dataEndIndex:V,updateId:B},O.state)));else if(j.activeTooltipIndex!==void 0){var $=j.chartX,Z=j.chartY,ee=j.activeTooltipIndex,ae=O.state,se=ae.offset,Q=ae.tooltipTicks;if(!se)return;if(typeof N=="function")ee=N(Q,j);else if(N==="value"){ee=-1;for(var ie=0;ie<Q.length;ie++)if(Q[ie].value===j.activeLabel){ee=ie;break}}var re=oe(oe({},se),{},{x:se.left,y:se.top}),z=Math.min($,re.x+re.width),G=Math.min(Z,re.y+re.height),ge=Q[ee]&&Q[ee].value,_e=Fw(O.state,O.props.data,ee),Ce=Q[ee]?{x:P==="horizontal"?Q[ee].coordinate:z,y:P==="horizontal"?G:Q[ee].coordinate}:n3;O.setState(oe(oe({},j),{},{activeLabel:ge,activeCoordinate:Ce,activePayload:_e,activeTooltipIndex:ee}))}else O.setState(j)}),De(O,"renderCursor",function(j){var A,P=O.state,N=P.isTooltipActive,B=P.activeCoordinate,L=P.activePayload,V=P.offset,$=P.activeTooltipIndex,Z=P.tooltipAxisBandSize,ee=O.getTooltipEventType(),ae=(A=j.props.active)!==null&&A!==void 0?A:N,se=O.props.layout,Q=j.key||"_recharts-cursor";return K.createElement(sie,{key:Q,activeCoordinate:B,activePayload:L,activeTooltipIndex:$,chartName:n,element:j,isActive:ae,layout:se,offset:V,tooltipAxisBandSize:Z,tooltipEventType:ee})}),De(O,"renderPolarAxis",function(j,A,P){var N=wr(j,"type.axisType"),B=wr(O.state,"".concat(N,"Map")),L=j.type.defaultProps,V=L!==void 0?oe(oe({},L),j.props):j.props,$=B&&B[V["".concat(N,"Id")]];return q.cloneElement(j,oe(oe({},$),{},{className:at(N,$.className),key:j.key||"".concat(A,"-").concat(P),ticks:Ji($,!0)}))}),De(O,"renderPolarGrid",function(j){var A=j.props,P=A.radialLines,N=A.polarAngles,B=A.polarRadius,L=O.state,V=L.radiusAxisMap,$=L.angleAxisMap,Z=Ko(V),ee=Ko($),ae=ee.cx,se=ee.cy,Q=ee.innerRadius,ie=ee.outerRadius;return q.cloneElement(j,{polarAngles:Array.isArray(N)?N:Ji(ee,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(B)?B:Ji(Z,!0).map(function(re){return re.coordinate}),cx:ae,cy:se,innerRadius:Q,outerRadius:ie,key:j.key||"polar-grid",radialLines:P})}),De(O,"renderLegend",function(){var j=O.state.formattedGraphicalItems,A=O.props,P=A.children,N=A.width,B=A.height,L=O.props.margin||{},V=N-(L.left||0)-(L.right||0),$=JL({children:P,formattedGraphicalItems:j,legendWidth:V,legendContent:f});if(!$)return null;var Z=$.item,ee=y2($,lie);return q.cloneElement(Z,oe(oe({},ee),{},{chartWidth:N,chartHeight:B,margin:L,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),De(O,"renderTooltip",function(){var j,A=O.props,P=A.children,N=A.accessibilityLayer,B=or(P,fi);if(!B)return null;var L=O.state,V=L.isTooltipActive,$=L.activeCoordinate,Z=L.activePayload,ee=L.activeLabel,ae=L.offset,se=(j=B.props.active)!==null&&j!==void 0?j:V;return q.cloneElement(B,{viewBox:oe(oe({},ae),{},{x:ae.left,y:ae.top}),active:se,label:ee,payload:se?Z:[],coordinate:$,accessibilityLayer:N})}),De(O,"renderBrush",function(j){var A=O.props,P=A.margin,N=A.data,B=O.state,L=B.offset,V=B.dataStartIndex,$=B.dataEndIndex,Z=B.updateId;return q.cloneElement(j,{key:j.key||"_recharts-brush",onChange:kh(O.handleBrushChange,j.props.onChange),data:N,x:xe(j.props.x)?j.props.x:L.left,y:xe(j.props.y)?j.props.y:L.top+L.height+L.brushBottom-(P.bottom||0),width:xe(j.props.width)?j.props.width:L.width,startIndex:V,endIndex:$,updateId:"brush-".concat(Z)})}),De(O,"renderReferenceElement",function(j,A,P){if(!j)return null;var N=O,B=N.clipPathId,L=O.state,V=L.xAxisMap,$=L.yAxisMap,Z=L.offset,ee=j.type.defaultProps||{},ae=j.props,se=ae.xAxisId,Q=se===void 0?ee.xAxisId:se,ie=ae.yAxisId,re=ie===void 0?ee.yAxisId:ie;return q.cloneElement(j,{key:j.key||"".concat(A,"-").concat(P),xAxis:V[Q],yAxis:$[re],viewBox:{x:Z.left,y:Z.top,width:Z.width,height:Z.height},clipPathId:B})}),De(O,"renderActivePoints",function(j){var A=j.item,P=j.activePoint,N=j.basePoint,B=j.childIndex,L=j.isRange,V=[],$=A.props.key,Z=A.item.type.defaultProps!==void 0?oe(oe({},A.item.type.defaultProps),A.item.props):A.item.props,ee=Z.activeDot,ae=Z.dataKey,se=oe(oe({index:B,dataKey:ae,cx:P.x,cy:P.y,r:4,fill:jE(A.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},ot(ee,!1)),mp(ee));return V.push(I.renderActiveDot(ee,se,"".concat($,"-activePoint-").concat(B))),N?V.push(I.renderActiveDot(ee,oe(oe({},se),{},{cx:N.x,cy:N.y}),"".concat($,"-basePoint-").concat(B))):L&&V.push(null),V}),De(O,"renderGraphicChild",function(j,A,P){var N=O.filterFormatItem(j,A,P);if(!N)return null;var B=O.getTooltipEventType(),L=O.state,V=L.isTooltipActive,$=L.tooltipAxis,Z=L.activeTooltipIndex,ee=L.activeLabel,ae=O.props.children,se=or(ae,fi),Q=N.props,ie=Q.points,re=Q.isRange,z=Q.baseLine,G=N.item.type.defaultProps!==void 0?oe(oe({},N.item.type.defaultProps),N.item.props):N.item.props,ge=G.activeDot,_e=G.hide,Ce=G.activeBar,Re=G.activeShape,We=!!(!_e&&V&&se&&(ge||Ce||Re)),Le={};B!=="axis"&&se&&se.props.trigger==="click"?Le={onClick:kh(O.handleItemMouseEnter,j.props.onClick)}:B!=="axis"&&(Le={onMouseLeave:kh(O.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:kh(O.handleItemMouseEnter,j.props.onMouseEnter)});var he=q.cloneElement(j,oe(oe({},N.props),Le));function Oe(Kn){return typeof $.dataKey=="function"?$.dataKey(Kn.payload):null}if(We)if(Z>=0){var Be,ce;if($.dataKey&&!$.allowDuplicatedCategory){var rt=typeof $.dataKey=="function"?Oe:"payload.".concat($.dataKey.toString());Be=P_(ie,rt,ee),ce=re&&z&&P_(z,rt,ee)}else Be=ie==null?void 0:ie[Z],ce=re&&z&&z[Z];if(Re||Ce){var ze=j.props.activeIndex!==void 0?j.props.activeIndex:Z;return[q.cloneElement(j,oe(oe(oe({},N.props),Le),{},{activeIndex:ze})),null,null]}if(!st(Be))return[he].concat(uu(O.renderActivePoints({item:N,activePoint:Be,basePoint:ce,childIndex:Z,isRange:re})))}else{var Pt,yt=(Pt=O.getItemByXY(O.state.activeCoordinate))!==null&&Pt!==void 0?Pt:{graphicalItem:he},Rt=yt.graphicalItem,Mn=Rt.item,pt=Mn===void 0?j:Mn,vt=Rt.childIndex,Kt=oe(oe(oe({},N.props),Le),{},{activeIndex:vt});return[q.cloneElement(pt,Kt),null,null]}return re?[he,null,null]:[he,null]}),De(O,"renderCustomized",function(j,A,P){return q.cloneElement(j,oe(oe({key:"recharts-customized-".concat(P)},O.props),O.state))}),De(O,"renderMap",{CartesianGrid:{handler:Mh,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:Mh},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:Mh},YAxis:{handler:Mh},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((k=R.id)!==null&&k!==void 0?k:Dm("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=ZM(O.triggeredAfterMouseMove,(D=R.throttleDelay)!==null&&D!==void 0?D:1e3/60),O.state={},O}return bie(I,_),gie(I,[{key:"componentDidMount",value:function(){var k,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,D=k.children,O=k.data,j=k.height,A=k.layout,P=or(D,fi);if(P){var N=P.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,L=Fw(this.state,O,N,B),V=this.state.tooltipTicks[N].coordinate,$=(this.state.offset.top+j)/2,Z=A==="horizontal",ee=Z?{x:V,y:$}:{y:V,x:$},ae=this.state.formattedGraphicalItems.find(function(Q){var ie=Q.item;return ie.type.name==="Scatter"});ae&&(ee=oe(oe({},ee),ae.props.points[N].tooltipPosition),L=ae.props.points[N].tooltipPayload);var se={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:B,activePayload:L,activeCoordinate:ee};this.setState(se),this.renderCursor(P),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var O,j;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(k){C_([or(k.children,fi)],[or(this.props.children,fi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=or(this.props.children,fi);if(k&&typeof k.props.shared=="boolean"){var D=k.props.shared?"axis":"item";return u.indexOf(D)>=0?D:o}return o}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var D=this.container,O=D.getBoundingClientRect(),j=FH(O),A={chartX:Math.round(k.pageX-j.left),chartY:Math.round(k.pageY-j.top)},P=O.width/D.offsetWidth||1,N=this.inRange(A.chartX,A.chartY,P);if(!N)return null;var B=this.state,L=B.xAxisMap,V=B.yAxisMap,$=this.getTooltipEventType(),Z=x2(this.state,this.props.data,this.props.layout,N);if($!=="axis"&&L&&V){var ee=Ko(L).scale,ae=Ko(V).scale,se=ee&&ee.invert?ee.invert(A.chartX):null,Q=ae&&ae.invert?ae.invert(A.chartY):null;return oe(oe({},A),{},{xValue:se,yValue:Q},Z)}return Z?oe(oe({},A),Z):null}},{key:"inRange",value:function(k,D){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,A=k/O,P=D/O;if(j==="horizontal"||j==="vertical"){var N=this.state.offset,B=A>=N.left&&A<=N.left+N.width&&P>=N.top&&P<=N.top+N.height;return B?{x:A,y:P}:null}var L=this.state,V=L.angleAxisMap,$=L.radiusAxisMap;if(V&&$){var Z=Ko(V);return $N({x:A,y:P},Z)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,D=this.getTooltipEventType(),O=or(k,fi),j={};O&&D==="axis"&&(O.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=mp(this.props,this.handleOuterEvent);return oe(oe({},A),j)}},{key:"addListener",value:function(){Jb.on(Zb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Jb.removeListener(Zb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,D,O){for(var j=this.state.formattedGraphicalItems,A=0,P=j.length;A<P;A++){var N=j[A];if(N.item===k||N.props.key===k.key||D===Zi(N.item.type)&&O===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,D=this.state.offset,O=D.left,j=D.top,A=D.height,P=D.width;return K.createElement("defs",null,K.createElement("clipPath",{id:k},K.createElement("rect",{x:O,y:j,height:A,width:P})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function(D,O){var j=g2(O,2),A=j[0],P=j[1];return oe(oe({},D),{},De({},A,P.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function(D,O){var j=g2(O,2),A=j[0],P=j[1];return oe(oe({},D),{},De({},A,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[k])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(k){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[k])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(k){var D=this.state,O=D.formattedGraphicalItems,j=D.activeItem;if(O&&O.length)for(var A=0,P=O.length;A<P;A++){var N=O[A],B=N.props,L=N.item,V=L.type.defaultProps!==void 0?oe(oe({},L.type.defaultProps),L.props):L.props,$=Zi(L.type);if($==="Bar"){var Z=(B.data||[]).find(function(Q){return lee(k,Q)});if(Z)return{graphicalItem:N,payload:Z}}else if($==="RadialBar"){var ee=(B.data||[]).find(function(Q){return $N(k,Q)});if(ee)return{graphicalItem:N,payload:ee}}else if(eg(N,j)||tg(N,j)||Nf(N,j)){var ae=Jee({graphicalItem:N,activeTooltipItem:j,itemData:V.data}),se=V.activeIndex===void 0?ae:V.activeIndex;return{graphicalItem:oe(oe({},N),{},{childIndex:se}),payload:Nf(N,j)?V.data[ae]:N.props.data[ae]}}}return null}},{key:"render",value:function(){var k=this;if(!XI(this))return null;var D=this.props,O=D.children,j=D.className,A=D.width,P=D.height,N=D.style,B=D.compact,L=D.title,V=D.desc,$=y2(D,uie),Z=ot($,!1);if(B)return K.createElement(e2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(k_,wl({},Z,{width:A,height:P,title:L,desc:V}),this.renderClipPath(),JI(O,this.renderMap)));if(this.props.accessibilityLayer){var ee,ae;Z.tabIndex=(ee=this.props.tabIndex)!==null&&ee!==void 0?ee:0,Z.role=(ae=this.props.role)!==null&&ae!==void 0?ae:"application",Z.onKeyDown=function(Q){k.accessibilityManager.keyboardEvent(Q)},Z.onFocus=function(){k.accessibilityManager.focus()}}var se=this.parseEventsOfWrapper();return K.createElement(e2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",wl({className:at("recharts-wrapper",j),style:oe({position:"relative",cursor:"default",width:A,height:P},N)},se,{ref:function(ie){k.container=ie}}),K.createElement(k_,wl({},Z,{width:A,height:P,title:L,desc:V,style:Aie}),this.renderClipPath(),JI(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(q.Component);De(S,"displayName",n),De(S,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),De(S,"getDerivedStateFromProps",function(_,I){var R=_.dataKey,k=_.data,D=_.children,O=_.width,j=_.height,A=_.layout,P=_.stackOffset,N=_.margin,B=I.dataStartIndex,L=I.dataEndIndex;if(I.updateId===void 0){var V=b2(_);return oe(oe(oe({},V),{},{updateId:0},x(oe(oe({props:_},V),{},{updateId:0}),I)),{},{prevDataKey:R,prevData:k,prevWidth:O,prevHeight:j,prevLayout:A,prevStackOffset:P,prevMargin:N,prevChildren:D})}if(R!==I.prevDataKey||k!==I.prevData||O!==I.prevWidth||j!==I.prevHeight||A!==I.prevLayout||P!==I.prevStackOffset||!Ol(N,I.prevMargin)){var $=b2(_),Z={chartX:I.chartX,chartY:I.chartY,isTooltipActive:I.isTooltipActive},ee=oe(oe({},x2(I,k,A)),{},{updateId:I.updateId+1}),ae=oe(oe(oe({},$),Z),ee);return oe(oe(oe({},ae),x(oe({props:_},ae),I)),{},{prevDataKey:R,prevData:k,prevWidth:O,prevHeight:j,prevLayout:A,prevStackOffset:P,prevMargin:N,prevChildren:D})}if(!C_(D,I.prevChildren)){var se,Q,ie,re,z=or(D,eu),G=z&&(se=(Q=z.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&se!==void 0?se:B,ge=z&&(ie=(re=z.props)===null||re===void 0?void 0:re.endIndex)!==null&&ie!==void 0?ie:L,_e=G!==B||ge!==L,Ce=!st(k),Re=Ce&&!_e?I.updateId:I.updateId+1;return oe(oe({updateId:Re},x(oe(oe({props:_},I),{},{updateId:Re,dataStartIndex:G,dataEndIndex:ge}),I)),{},{prevChildren:D,dataStartIndex:G,dataEndIndex:ge})}return null}),De(S,"renderActiveDot",function(_,I,R){var k;return q.isValidElement(_)?k=q.cloneElement(_,I):Ge(_)?k=_(I):k=K.createElement(m4,I),K.createElement(cn,{className:"recharts-active-dot",key:R},k)});var T=q.forwardRef(function(I,R){return K.createElement(S,wl({},I,{ref:R}))});return T.displayName=S.displayName,T},Lie=Mie({chartName:"BarChart",GraphicalChild:no,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:sg},{axisType:"yAxis",AxisComp:lg}],formatAxisMap:Kte});function $ie({budget:t,currency:e}){const n=t.map(i=>({name:i.name,emoji:i.emoji,min:i.min||0,max:i.max||0,actual:i.actual||0})),r=({active:i,payload:o,label:s})=>!i||!(o!=null&&o.length)?null:g.jsxs("div",{className:"bg-bg-secondary border border-border rounded-[var(--radius-md)] p-3",children:[g.jsx("p",{className:"text-text-primary font-medium text-sm mb-1",children:s}),o.map((u,c)=>g.jsxs("p",{className:"text-xs",style:{color:u.color},children:[u.name,": ",sr(u.value,e)]},c))]});return g.jsx(RH,{width:"100%",height:280,children:g.jsxs(Lie,{data:n,margin:{top:10,right:10,left:0,bottom:0},children:[g.jsx(z4,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),g.jsx(sg,{dataKey:"name",stroke:"var(--color-text-muted)",fontSize:11,tickLine:!1,axisLine:!1}),g.jsx(lg,{stroke:"var(--color-text-muted)",fontSize:11,tickLine:!1,axisLine:!1,tickFormatter:i=>sr(i,e)}),g.jsx(fi,{content:g.jsx(r,{})}),g.jsx(no,{dataKey:"min",name:"Min Budget",fill:"#6A9BCC",opacity:.4,radius:[2,2,0,0]}),g.jsx(no,{dataKey:"max",name:"Max Budget",fill:"#6A9BCC",opacity:.7,radius:[2,2,0,0]}),g.jsx(no,{dataKey:"actual",name:"Actual Spent",radius:[4,4,0,0],children:n.map((i,o)=>g.jsx(sE,{fill:i.actual>i.max?"#C15F3C":"#D97757"},o))})]})})}function Vie({category:t,currency:e,travelers:n,perPerson:r}){const{dispatch:i}=Gt(),o=r?Math.max(n,1):1,s=t.actual>t.max&&t.max>0;return g.jsxs(Ot,{className:"animate-fade-in",children:[g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-xl",children:t.emoji}),g.jsx(zn,{value:t.name,onSave:u=>i({type:pe.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{name:u}}}),className:"font-medium text-text-primary text-sm"})]}),g.jsx("button",{onClick:()=>i({type:pe.DELETE_BUDGET_CATEGORY,payload:t.id}),className:"text-xs text-text-muted hover:text-danger transition-colors",children:""})]}),g.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-4 text-sm",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-text-muted text-xs block",children:"Min"}),g.jsx(zn,{value:t.min?String(Math.round(t.min/o)):"",onSave:u=>i({type:pe.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{min:(Number(u)||0)*o}}}),className:"text-text-primary font-mono text-xs",placeholder:"0"})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-text-muted text-xs block",children:"Max"}),g.jsx(zn,{value:t.max?String(Math.round(t.max/o)):"",onSave:u=>i({type:pe.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{max:(Number(u)||0)*o}}}),className:"text-text-primary font-mono text-xs",placeholder:"0"})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-text-muted text-xs block",children:"Actual"}),g.jsx(zn,{value:t.actual?String(Math.round(t.actual/o)):"",onSave:u=>i({type:pe.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{actual:(Number(u)||0)*o}}}),className:`font-mono text-xs ${s?"text-danger font-bold":"text-text-primary"}`,placeholder:"0"})]})]}),s&&g.jsxs("p",{className:"text-xs text-danger mt-2 font-medium",children:[" Over budget by ",sr(t.actual-t.max,e)]}),g.jsxs("div",{className:"mt-2 text-xs text-text-muted",children:["Range: ",sr(Math.round(t.min/o),e),"  ",sr(Math.round(t.max/o),e),r&&" per person"]})]})}function Bie({onAdd:t,onCancel:e,categories:n,currency:r}){var p;const[i,o]=q.useState(""),[s,u]=q.useState(""),[c,f]=q.useState(((p=n[0])==null?void 0:p.name)||""),h=v=>{v.preventDefault(),!(!i.trim()||!s)&&(t({description:i.trim(),amount:Number(s),category:c}),o(""),u(""))};return g.jsx(Ot,{children:g.jsxs("form",{onSubmit:h,className:"flex flex-wrap gap-2 items-end",children:[g.jsxs("div",{className:"flex-1 min-w-[160px]",children:[g.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Description"}),g.jsx("input",{value:i,onChange:v=>o(v.target.value),placeholder:"What did you spend on?",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0})]}),g.jsxs("div",{className:"w-28",children:[g.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Amount"}),g.jsx("input",{type:"number",value:s,onChange:v=>u(v.target.value),placeholder:"0",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Category"}),g.jsx("select",{value:c,onChange:v=>f(v.target.value),className:"px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",children:n.map(v=>g.jsxs("option",{value:v.name,children:[v.emoji," ",v.name]},v.id))})]}),g.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),g.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"})]})})}function Fie(){var p;const{activeTrip:t,dispatch:e}=Gt(),[n,r]=q.useState(!1),[i,o]=q.useState(!1);if(!t)return null;const s=t,u=s.budget||[],c=s.currency||"PHP",f=q.useMemo(()=>({min:u.reduce((v,x)=>v+(x.min||0),0),max:u.reduce((v,x)=>v+(x.max||0),0),actual:u.reduce((v,x)=>v+(x.actual||0),0)}),[u]),h=n?Math.max(s.travelers,1):1;return g.jsxs("div",{className:"space-y-6 animate-fade-in",children:[g.jsxs(Ot,{children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"font-heading text-lg text-text-primary",children:" Budget"}),g.jsx("button",{onClick:()=>r(!n),className:`px-3 py-1 text-xs rounded-[var(--radius-pill)] border transition-colors
              ${n?"bg-accent text-white border-accent":"border-border text-text-muted hover:text-text-secondary"}`,children:n?"Per Person":"Total"})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-5 text-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Min Estimate"}),g.jsx("p",{className:"font-heading text-xl text-text-primary mt-1",children:sr(Math.round(f.min/h),c)})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Max Estimate"}),g.jsx("p",{className:"font-heading text-xl text-text-primary mt-1",children:sr(Math.round(f.max/h),c)})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Spent"}),g.jsx("p",{className:`font-heading text-xl mt-1 ${f.actual>f.max&&f.max>0?"text-danger":"text-accent"}`,children:sr(Math.round(f.actual/h),c)})]})]}),n&&g.jsxs("p",{className:"text-xs text-text-muted text-center mt-2",children:["Showing per person (",s.travelers," travelers)"]})]}),u.length>0&&g.jsx(Ot,{children:g.jsx($ie,{budget:u,currency:c})}),g.jsx("div",{className:"grid sm:grid-cols-2 gap-5",children:u.map(v=>g.jsx(Vie,{category:v,currency:c,travelers:s.travelers,perPerson:n},v.id))}),g.jsx("button",{onClick:()=>e({type:pe.ADD_BUDGET_CATEGORY,payload:{name:"New Category",emoji:""}}),className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add budget category"}),g.jsxs(Ot,{children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"font-heading text-sm text-text-primary",children:"Spending Log"}),g.jsx("button",{onClick:()=>o(!0),className:"text-xs text-accent hover:text-accent-hover",children:"+ Log expense"})]}),i&&g.jsx("div",{className:"mb-3",children:g.jsx(Bie,{categories:u,currency:c,onAdd:v=>{e({type:pe.ADD_SPENDING,payload:v}),o(!1)},onCancel:()=>o(!1)})}),((p=s.spendingLog)==null?void 0:p.length)>0?g.jsx("div",{className:"space-y-2",children:s.spendingLog.map(v=>g.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50 last:border-0 group",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-text-primary",children:v.description}),g.jsxs("p",{className:"text-xs text-text-muted",children:[v.date,"  ",v.category]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm font-mono text-text-primary",children:sr(v.amount,c)}),g.jsx("button",{onClick:()=>e({type:pe.DELETE_SPENDING,payload:v.id}),className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-xs transition-opacity",children:""})]})]},v.id))}):g.jsx("p",{className:"text-sm text-text-muted italic",children:"No expenses logged yet."})]})]})}const w2=["#D97757","#D4A72C","#788C5D","#6A9BCC","#C15F3C","#E07BA0"];function i3({trigger:t}){const[e,n]=q.useState([]);return q.useEffect(()=>{if(!t)return;const r=Array.from({length:30},(o,s)=>({id:Date.now()+s,left:Math.random()*100,color:w2[Math.floor(Math.random()*w2.length)],delay:Math.random()*.5,size:6+Math.random()*6,duration:2+Math.random()*1}));n(r);const i=setTimeout(()=>n([]),3500);return()=>clearTimeout(i)},[t]),e.length===0?null:g.jsx(g.Fragment,{children:e.map(r=>g.jsx("div",{className:"confetti-piece",style:{left:`${r.left}%`,backgroundColor:r.color,width:r.size,height:r.size,animationDelay:`${r.delay}s`,animationDuration:`${r.duration}s`}},r.id))})}function Uie({todo:t,onToggle:e,onUpdate:n,onDelete:r}){const[i,o]=q.useState(!1),[s,u]=q.useState(t.text),c=()=>{o(!1),s.trim()!==t.text&&n({text:s.trim()})};return g.jsxs("div",{className:`flex items-center gap-3 py-2.5 group transition-opacity ${t.done?"opacity-60":""}`,children:[g.jsx("button",{onClick:e,className:`flex-shrink-0 w-5 h-5 rounded-[var(--radius-sm)] border-2 transition-all flex items-center justify-center
          ${t.done?"bg-success border-success text-white animate-check-pop":"border-border-strong hover:border-accent"}`,children:t.done&&g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:g.jsx("path",{d:"M2 6l3 3 5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[i?g.jsx("input",{value:s,onChange:f=>u(f.target.value),onBlur:c,onKeyDown:f=>{f.key==="Enter"&&c(),f.key==="Escape"&&(u(t.text),o(!1))},className:"w-full px-2 py-0.5 text-sm bg-bg-input border border-accent/30 rounded-[var(--radius-sm)] text-text-primary outline-none focus:border-accent",autoFocus:!0}):g.jsx("span",{onClick:()=>{u(t.text),o(!0)},className:`text-sm cursor-pointer hover:border-b hover:border-accent/30 transition-colors
              ${t.done?"line-through text-text-muted":"text-text-primary"}`,children:t.text}),g.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:t.dueDate&&g.jsx("span",{className:"text-xs text-text-muted",children:t.dueDate})})]}),t.priority==="high"&&g.jsx("span",{className:"flex-shrink-0 w-2 h-2 rounded-full bg-danger",title:"High priority"}),g.jsx("button",{onClick:r,className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-xs transition-opacity flex-shrink-0",children:""})]})}function qie({category:t,onAdd:e}){const[n,r]=q.useState(""),[i,o]=q.useState(""),[s,u]=q.useState("normal"),[c,f]=q.useState(!1),h=p=>{p.preventDefault(),n.trim()&&(e({text:n.trim(),category:t,dueDate:i,priority:s}),r(""),o(""),u("normal"),f(!1))};return c?g.jsxs("form",{onSubmit:h,className:"flex gap-2 items-center py-1",children:[g.jsx("input",{value:n,onChange:p=>r(p.target.value),placeholder:"New task...",className:"flex-1 px-2 py-1 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0}),g.jsx("input",{type:"date",value:i,onChange:p=>o(p.target.value),className:"px-2 py-1 text-xs bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary"}),g.jsx("button",{type:"button",onClick:()=>u(p=>p==="high"?"normal":"high"),className:`text-xs px-2 py-1 rounded-[var(--radius-sm)] border transition-colors
          ${s==="high"?"border-danger text-danger bg-danger/10":"border-border text-text-muted"}`,title:"Toggle high priority",children:"!!"}),g.jsx("button",{type:"submit",className:"px-2 py-1 text-xs bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),g.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-xs text-text-muted",children:""})]}):g.jsx("button",{onClick:()=>f(!0),className:"text-xs text-accent hover:text-accent-hover transition-colors py-1",children:"+ Add task"})}function zie(){const{activeTrip:t,dispatch:e,showToast:n}=Gt(),[r,i]=q.useState("all"),[o,s]=q.useState(0);if(!t)return null;const c=t.todos||[],f=q.useMemo(()=>{const D=[...new Set(c.map(O=>O.category))];return fq.forEach(O=>{D.includes(O)||D.push(O)}),D},[c]),h=q.useMemo(()=>{switch(r){case"high":return c.filter(D=>D.priority==="high");case"incomplete":return c.filter(D=>!D.done);case"complete":return c.filter(D=>D.done);default:return c}},[c,r]),p=q.useMemo(()=>{const D={};return f.forEach(O=>{D[O]=[]}),h.forEach(O=>{const j=O.category||"Misc";D[j]||(D[j]=[]),D[j].push(O)}),D},[h,f]),v=c.filter(D=>D.done).length,x=c.length,S=q.useCallback(D=>{e({type:pe.TOGGLE_TODO,payload:D});const O=c.find(j=>j.id===D);O&&!O.done&&v+1===x&&(s(A=>A+1),n("You're all set! Have an amazing trip "))},[e,c,v,x,n]),[T,_]=q.useState(!1),[I,R]=q.useState(""),k=[{id:"all",label:`All (${x})`},{id:"high",label:"High Priority"},{id:"incomplete",label:`Incomplete (${x-v})`},{id:"complete",label:`Complete (${v})`}];return g.jsxs("div",{className:"space-y-6 animate-fade-in",children:[g.jsx(i3,{trigger:o}),g.jsx("div",{className:"flex items-center justify-between",children:g.jsxs("h2",{className:"font-heading text-lg text-text-primary",children:[" To-Do  ",v,"/",x," done"]})}),g.jsx("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide",children:k.map(D=>g.jsx("button",{onClick:()=>i(D.id),className:`px-3 py-1.5 text-xs font-medium rounded-[var(--radius-pill)] whitespace-nowrap transition-colors
              ${r===D.id?"bg-accent text-white":"bg-bg-secondary text-text-muted hover:text-text-secondary border border-border"}`,children:D.label},D.id))}),Object.entries(p).map(([D,O])=>{const j=O.filter(P=>P.done).length,A=O.length;return g.jsxs(Ot,{children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h3",{className:"font-heading text-sm font-semibold text-text-primary",children:D}),g.jsxs("span",{className:"text-xs text-text-muted",children:[j,"/",A]})]}),g.jsx("div",{className:"divide-y divide-border/30",children:O.map(P=>g.jsx(Uie,{todo:P,onToggle:()=>S(P.id),onUpdate:N=>e({type:pe.UPDATE_TODO,payload:{id:P.id,updates:N}}),onDelete:()=>e({type:pe.DELETE_TODO,payload:P.id})},P.id))}),g.jsx(qie,{category:D,onAdd:P=>e({type:pe.ADD_TODO,payload:P})})]},D)}),T?g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{value:I,onChange:D=>R(D.target.value),placeholder:"Category name",className:"flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",autoFocus:!0,onKeyDown:D=>{D.key==="Enter"&&I.trim()&&(e({type:pe.ADD_TODO,payload:{text:"New task",category:I.trim()}}),R(""),_(!1))}}),g.jsx("button",{onClick:()=>_(!1),className:"text-sm text-text-muted",children:"Cancel"})]}):g.jsx("button",{onClick:()=>_(!0),className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add category"})]})}function Wie({city:t}){const{dispatch:e}=Gt(),n=r=>{e({type:pe.UPDATE_CITY,payload:{id:t.id,updates:r}})};return g.jsxs(Ot,{className:"animate-fade-in-up",children:[g.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[g.jsx("span",{className:"text-4xl flex-shrink-0",children:t.flag}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx(zn,{value:t.city,onSave:r=>n({city:r}),className:"font-heading text-xl text-text-primary font-bold",placeholder:"City name"}),g.jsx(zn,{value:t.country,onSave:r=>n({country:r}),tag:"div",className:"text-sm text-text-muted mt-1",placeholder:"Country"})]}),g.jsx("button",{onClick:()=>e({type:pe.DELETE_CITY,payload:t.id}),className:"text-xs text-text-muted hover:text-danger transition-colors flex-shrink-0",title:"Remove city",children:""})]}),g.jsx("div",{className:"divide-y divide-border",children:[{label:" Highlights",field:"highlights",placeholder:"What makes this city special?"},{label:" Must-Do",field:"mustDo",placeholder:"Can't-miss activities"},{label:" Weather",field:"weather",placeholder:"Expected weather during your visit"},{label:" Currency",field:"currencyTip",placeholder:"Local currency and payment tips"},{label:" Notes",field:"notes",placeholder:"Your personal notes for this city",multiline:!0}].map(({label:r,field:i,placeholder:o,multiline:s})=>g.jsxs("div",{className:"py-4",children:[g.jsx("h4",{className:"text-[10px] font-semibold text-text-muted uppercase tracking-widest mb-2",children:r}),g.jsx(zn,{value:t[i],onSave:u=>n({[i]:u}),className:"text-sm text-text-secondary leading-relaxed",placeholder:o,multiline:s})]},i))})]})}function Hie({onAdd:t,onCancel:e}){const[n,r]=q.useState({city:"",country:"",flag:""}),i=o=>{if(o.preventDefault(),!n.city.trim())return;const s=$1(n.city,n.country,n.flag);t(s)};return g.jsx(Ot,{children:g.jsx("form",{onSubmit:i,children:g.jsxs("div",{className:"flex flex-wrap gap-2 items-end",children:[g.jsx("div",{className:"flex items-center justify-center w-10 h-10 text-2xl mt-auto mb-0.5",children:n.flag||g.jsx("span",{className:"text-text-muted text-base",children:""})}),g.jsxs("div",{className:"flex-1 min-w-[160px]",children:[g.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"City"}),g.jsx(QD,{value:n.city,country:n.country,flag:n.flag,onChange:o=>r(s=>({...s,...o})),placeholder:"e.g., Bangkok",autoFocus:!0})]}),g.jsxs("div",{className:"flex-1 min-w-[140px]",children:[g.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Country"}),g.jsx("input",{value:n.country,onChange:o=>r(s=>({...s,country:o.target.value})),placeholder:"e.g., Thailand",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]}),g.jsxs("div",{className:"flex gap-2 items-end",children:[g.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover transition-colors",children:"Add"}),g.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm text-text-muted hover:text-text-secondary transition-colors",children:"Cancel"})]})]})})})}function Gie(){const{activeTrip:t,dispatch:e}=Gt(),[n,r]=q.useState(!1);if(!t)return null;const i=t.cities||[];return g.jsxs("div",{className:"space-y-6 animate-fade-in",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h2",{className:"font-heading text-lg text-text-primary",children:[" Cities  ",i.length," destinations"]}),g.jsx("button",{onClick:()=>r(!0),className:"px-3 py-1.5 text-sm bg-accent text-white rounded-[var(--radius-md)] hover:bg-accent-hover transition-colors",children:"+ Add City"})]}),n&&g.jsx(Hie,{onAdd:o=>{e({type:pe.ADD_CITY,payload:o}),r(!1)},onCancel:()=>r(!1)}),i.length>0?g.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:i.map(o=>g.jsx(Wie,{city:o},o.id))}):g.jsxs(Ot,{className:"text-center py-12",children:[g.jsx("p",{className:"text-4xl mb-3",children:""}),g.jsx("p",{className:"text-text-muted",children:"No city guides yet."}),g.jsx("p",{className:"text-text-muted text-sm mt-1",children:'Click "+ Add City" or add destinations when creating a trip.'})]})]})}function Kie({item:t,onToggle:e,onDelete:n}){return g.jsxs("div",{className:"flex items-center gap-3 py-1.5 group",children:[g.jsx("button",{onClick:e,className:`flex-shrink-0 w-4.5 h-4.5 rounded border-2 transition-all flex items-center justify-center
          ${t.packed?"bg-success border-success text-white animate-check-pop":"border-border-strong hover:border-accent"}`,style:{width:18,height:18},children:t.packed&&g.jsx("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",children:g.jsx("path",{d:"M2 6l3 3 5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),g.jsx("span",{className:`flex-1 text-sm ${t.packed?"line-through text-text-muted":"text-text-primary"}`,children:t.name}),g.jsx("button",{onClick:n,className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-xs transition-opacity",children:""})]})}function Yie({section:t,onAdd:e}){const[n,r]=q.useState(""),[i,o]=q.useState(!1);if(!i)return g.jsx("button",{onClick:()=>o(!0),className:"text-xs text-accent hover:text-accent-hover transition-colors mt-1",children:"+ Add item"});const s=u=>{u.preventDefault(),n.trim()&&(e({name:n.trim(),section:t}),r(""))};return g.jsxs("form",{onSubmit:s,className:"flex gap-2 mt-2",children:[g.jsx("input",{value:n,onChange:u=>r(u.target.value),placeholder:"Item name...",className:"flex-1 px-2 py-1 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0}),g.jsx("button",{type:"submit",className:"px-2 py-1 text-xs bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),g.jsx("button",{type:"button",onClick:()=>o(!1),className:"text-xs text-text-muted",children:""})]})}function Xie(){const{activeTrip:t,dispatch:e,showToast:n}=Gt(),[r,i]=q.useState(0),[o,s]=q.useState(!1),[u,c]=q.useState(!1),[f,h]=q.useState("");if(!t)return null;const v=t.packingList||[],x=v.filter(k=>k.packed).length,S=v.length,T=q.useMemo(()=>{const k=[...new Set(v.map(D=>D.section))];return LP.forEach(D=>{k.includes(D)||k.push(D)}),k},[v]),_=q.useMemo(()=>{const k={};return T.forEach(D=>{k[D]=[]}),v.forEach(D=>{const O=D.section||"Misc";k[O]||(k[O]=[]),k[O].push(D)}),k},[v,T]),I=q.useCallback(k=>{e({type:pe.TOGGLE_PACKING_ITEM,payload:k});const D=v.find(O=>O.id===k);D&&!D.packed&&x+1===S&&(i(j=>j+1),n("All packed! You're ready to go "))},[e,v,x,S,n]),R={Documents:"",Clothing:"",Tech:"","Concert Essentials":"",Toiletries:"",Misc:""};return g.jsxs("div",{className:"space-y-6 animate-fade-in",children:[g.jsx(i3,{trigger:r}),g.jsx(GD,{isOpen:o,onClose:()=>s(!1),onConfirm:()=>{e({type:pe.RESET_PACKING}),n("Packing list reset")},title:"Reset Packing List?",message:"This will uncheck all packed items. Your items will not be removed.",confirmLabel:"Reset All",danger:!1}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h2",{className:"font-heading text-lg text-text-primary",children:[" Packing  ",x,"/",S," packed"]}),S>0&&g.jsx("button",{onClick:()=>s(!0),className:"text-xs text-text-muted hover:text-danger transition-colors",children:"Reset all"})]}),g.jsx(Cl,{value:x,max:S,colorClass:"bg-accent",height:"h-2.5"}),Object.entries(_).map(([k,D])=>{if(D.length===0&&!LP.includes(k))return null;const O=D.filter(A=>A.packed).length,j=R[k]||"";return g.jsxs(Ot,{children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"font-heading text-sm font-semibold text-text-primary",children:[j," ",k]}),g.jsxs("span",{className:"text-xs text-text-muted",children:[O,"/",D.length]})]}),g.jsx("div",{className:"space-y-1",children:D.map(A=>g.jsx(Kie,{item:A,onToggle:()=>I(A.id),onDelete:()=>e({type:pe.DELETE_PACKING_ITEM,payload:A.id})},A.id))}),g.jsx(Yie,{section:k,onAdd:A=>e({type:pe.ADD_PACKING_ITEM,payload:A})})]},k)}),u?g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{value:f,onChange:k=>h(k.target.value),placeholder:"Section name",className:"flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",autoFocus:!0,onKeyDown:k=>{k.key==="Enter"&&f.trim()&&(e({type:pe.ADD_PACKING_ITEM,payload:{name:"New item",section:f.trim()}}),h(""),c(!1))}}),g.jsx("button",{onClick:()=>c(!1),className:"text-sm text-text-muted",children:"Cancel"})]}):g.jsx("button",{onClick:()=>c(!0),className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add section"})]})}function Qie({targetDate:t}){const e=M1(t);return e.expired?g.jsx("div",{className:"text-center py-4",children:g.jsx("p",{className:"text-3xl font-heading font-bold text-red-500",children:" IT'S SHOWTIME! "})}):g.jsxs("div",{className:"text-center py-6",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-red-400 mb-4 font-semibold",children:"Countdown to showtime"}),g.jsx("div",{className:"flex justify-center gap-6",children:[{value:e.days,label:"Days"},{value:e.hours,label:"Hours"},{value:e.minutes,label:"Min"},{value:e.seconds,label:"Sec"}].map((n,r)=>g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:`text-4xl md:text-5xl font-heading font-bold text-white
              ${n.label==="Sec"?"animate-pulse":""}`,children:String(n.value).padStart(2,"0")}),g.jsx("div",{className:"text-xs text-red-400/70 uppercase tracking-wider mt-1",children:n.label})]},r))})]})}function Jie(){var o,s,u,c,f,h;const{activeTrip:t}=Gt();if(!t)return null;const e=t,n=(o=e.bookings)==null?void 0:o.find(p=>p.category==="concert");if(!n)return g.jsxs(Ot,{className:"text-center py-12",children:[g.jsx("p",{className:"text-4xl mb-3",children:""}),g.jsx("p",{className:"text-text-muted",children:"No concert or event bookings found."}),g.jsx("p",{className:"text-text-muted text-sm mt-1",children:'Add a booking with category "Concert" to unlock this tab.'})]});const r=(s=e.itinerary)==null?void 0:s.find(p=>{var v;return(v=p.activities)==null?void 0:v.some(x=>{var S,T;return((S=x.name)==null?void 0:S.toLowerCase().includes("concert"))||((T=x.name)==null?void 0:T.toLowerCase().includes("mcr"))||x.emoji===""||x.emoji===""})}),i=((u=n.name)==null?void 0:u.toLowerCase().includes("mcr"))||((c=n.name)==null?void 0:c.toLowerCase().includes("my chemical romance"))||((f=n.name)==null?void 0:f.toLowerCase().includes("chemical"));return g.jsx("div",{className:"concert-theme rounded-[var(--radius-xl)] overflow-hidden animate-fade-in",children:g.jsxs("div",{className:"bg-[#141413] rounded-[var(--radius-xl)] border border-[#2A2A28]",children:[g.jsxs("div",{className:"relative p-8 md:p-12 text-center overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-[#141413]"}),g.jsxs("div",{className:"relative z-10",children:[g.jsx("p",{className:"text-red-500 text-sm uppercase tracking-[0.3em] font-semibold mb-3",children:i?" THE BLACK PARADE ":" LIVE EVENT "}),g.jsx("h2",{className:"font-heading text-3xl md:text-4xl font-bold text-white mb-2",children:n.name}),r&&g.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:[Fl(r.date,"full"),"  Day ",r.dayNumber]})]})]}),g.jsx("div",{className:"px-6 md:px-12",children:g.jsx(Qie,{targetDate:(r==null?void 0:r.date)||e.startDate})}),g.jsx("div",{className:"h-px bg-red-900/50 mx-8"}),g.jsxs("div",{className:"p-6 md:p-12 grid md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-1",children:"Venue"}),g.jsx("p",{className:"text-white font-medium",children:i?"Stadium Merdeka, Kuala Lumpur":"Check your booking details"})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-1",children:"Tickets"}),g.jsxs("p",{className:"text-white font-medium",children:[e.travelers," pax  ",n.status==="booked"?" Confirmed":" "+n.status.replace("_"," ")]}),n.confirmationNumber&&g.jsxs("p",{className:"text-gray-500 text-xs font-mono mt-1",children:["Ref: ",n.confirmationNumber]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-1",children:"Status"}),g.jsx("div",{className:`inline-flex px-3 py-1 rounded-[var(--radius-pill)] text-xs font-medium
                ${n.status==="booked"?"bg-green-900/30 text-green-400 border border-green-800/30":"bg-red-900/30 text-red-400 border border-red-800/30"}`,children:n.status==="booked"?" Booked":"Not yet booked"})]})]}),g.jsx("div",{className:"space-y-4",children:g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-2",children:" Concert Tips"}),g.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-red-500",children:""}),"Arrive early to get a good spot"]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-red-500",children:""}),"Charge your phone to 100% before leaving"]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-red-500",children:""}),"Wear comfortable shoes  you'll be standing"]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-red-500",children:""}),"Bring earplugs to protect your hearing"]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-red-500",children:""}),"Check the venue's bag policy before going"]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-red-500",children:""}),"Stay hydrated  bring a sealed water bottle if allowed"]})]})]})})]}),r&&((h=r.activities)==null?void 0:h.length)>0&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"h-px bg-red-900/50 mx-8"}),g.jsxs("div",{className:"p-6 md:p-12",children:[g.jsxs("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-4",children:[" Day ",r.dayNumber," Schedule"]}),g.jsx("div",{className:"space-y-3",children:r.activities.map(p=>g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"text-sm font-mono text-gray-500 w-12",children:p.time||"--:--"}),g.jsx("span",{className:"text-lg",children:p.emoji}),g.jsxs("div",{children:[g.jsx("p",{className:"text-white text-sm font-medium",children:p.name}),p.notes&&g.jsx("p",{className:"text-gray-500 text-xs",children:p.notes})]})]},p.id))})]})]}),g.jsx("div",{className:"h-1 bg-[#141413]"})]})})}function Zie({activeTab:t,onTabSwitch:e}){switch(t){case"overview":return g.jsx(FP,{onTabSwitch:e});case"itinerary":return g.jsx(Yq,{});case"bookings":return g.jsx(Zq,{});case"budget":return g.jsx(Fie,{});case"todo":return g.jsx(zie,{});case"cities":return g.jsx(Gie,{});case"packing":return g.jsx(Xie,{});case"concert":return g.jsx(Jie,{});default:return g.jsx(FP,{onTabSwitch:e})}}function eoe({onNewTrip:t}){return g.jsx("div",{className:"flex-1 flex items-center justify-center p-8 animate-fade-in-up",children:g.jsxs("div",{className:"text-center max-w-sm",children:[g.jsx("div",{className:"text-7xl mb-6 animate-pulse-warm",children:""}),g.jsx("h2",{className:"font-heading text-2xl font-bold text-text-primary mb-3",children:"No trips yet"}),g.jsx("p",{className:"text-text-muted text-sm leading-relaxed mb-8",children:"Every great adventure starts with a plan. Create your first trip and let Wanderplan help you make it unforgettable."}),g.jsxs("button",{onClick:t,className:`inline-flex items-center gap-2 px-6 py-3
                     bg-accent hover:bg-accent-hover text-text-inverse
                     font-semibold text-sm rounded-[var(--radius-md)]
                     transition-all duration-200 active:scale-[0.98]`,children:[g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),g.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Plan Your First Trip"]})]})})}function toe({onClick:t}){return g.jsx("button",{onClick:t,className:`fixed top-4 left-4 z-30 p-2.5
                 bg-bg-secondary border border-border
                 rounded-[var(--radius-md)]
                 text-text-secondary hover:text-text-primary
                 transition-colors duration-150
                 md:hidden`,"aria-label":"Open sidebar",children:g.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),g.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),g.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})}function o3({message:t="Loading"}){return g.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-4xl mb-4 animate-pulse-warm",children:""}),g.jsx("p",{className:"text-text-muted text-sm animate-pulse",children:t})]})})}function noe({signOutUser:t}){const{state:e,dispatch:n,activeTrip:r,sortedTrips:i,showToast:o,firestoreLoading:s}=W9(),u=H9("(max-width: 767px)"),[c,f]=q.useState(!1),h=q.useCallback(()=>{f(!0),u&&n({type:pe.SET_SIDEBAR,payload:!1})},[u,n]),p=q.useCallback(()=>f(!1),[]),v=q.useCallback(()=>n({type:pe.SET_SIDEBAR,payload:!0}),[n]),x={Overview:"overview",Itinerary:"itinerary",Bookings:"bookings",Budget:"budget","To-Do":"todo",Cities:"cities",Packing:"packing"},S=q.useCallback(_=>{const I=x[_];I&&n({type:pe.SET_TAB,payload:I})},[n]),T=e.activeTab==="concert";return s?g.jsx(o3,{message:"Loading your trips"}):g.jsx(T2.Provider,{value:{state:e,dispatch:n,activeTrip:r,sortedTrips:i,showToast:o,signOutUser:t},children:g.jsxs("div",{className:"flex h-screen overflow-hidden bg-bg-primary text-text-secondary",children:[g.jsx(rq,{isMobile:u,isOpen:e.sidebarOpen,onNewTrip:h}),u&&g.jsx(toe,{onClick:v}),g.jsx("main",{className:`
            flex-1 flex flex-col overflow-hidden bg-bg-primary
            ${T?"concert-theme":""}
            transition-colors duration-300
          `,children:r?g.jsxs(g.Fragment,{children:[g.jsx(uq,{}),g.jsx(dq,{}),g.jsx("div",{id:`panel-${e.activeTab}`,role:"tabpanel",className:"flex-1 overflow-y-auto",children:g.jsx("div",{className:"px-8 py-7 max-w-4xl mx-auto",children:g.jsx(Zie,{activeTab:e.activeTab,onTabSwitch:S})})})]}):g.jsx(eoe,{onNewTrip:h})}),g.jsx(bq,{isOpen:c,onClose:p}),g.jsx(Pq,{}),g.jsx(_q,{message:e.toast.message,type:e.toast.type,visible:e.toast.visible})]})})}function roe(){const{user:t,authLoading:e,signInWithGoogle:n,signOutUser:r}=HD();return e?g.jsx(o3,{message:"Loading"}):t?["valentin.bonite@gmail.com","juliannsibi@gmail.com"].includes(t.email)?g.jsx(D9,{children:g.jsx(noe,{signOutUser:r})}):g.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary",children:g.jsxs("div",{className:"text-center max-w-sm px-8",children:[g.jsx("div",{className:"text-5xl mb-5",children:""}),g.jsx("h2",{className:"font-heading text-xl font-bold text-text-primary mb-2",children:"Access restricted"}),g.jsxs("p",{className:"text-text-muted text-sm mb-6 leading-relaxed",children:["This app is private. You signed in as ",g.jsx("span",{className:"text-text-primary font-medium",children:t.email}),", which isn't on the access list."]}),g.jsx("button",{onClick:r,className:"text-sm text-accent hover:underline",children:"Sign out and try another account"})]})}):g.jsx(G9,{onSignIn:n})}b$.createRoot(document.getElementById("root")).render(g.jsx(K.StrictMode,{children:g.jsx(roe,{})}));
