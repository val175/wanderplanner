(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ht(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Py={exports:{}},lc={},Cy={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS;function t$(){if(WS)return He;WS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function _(q,G,ge){this.props=q,this.context=G,this.refs=E,this.updater=ge||b}_.prototype.isReactComponent={},_.prototype.setState=function(q,G){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,G,"setState")},_.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function P(){}P.prototype=_.prototype;function j(q,G,ge){this.props=q,this.context=G,this.refs=E,this.updater=ge||b}var R=j.prototype=new P;R.constructor=j,S(R,_.prototype),R.isPureReactComponent=!0;var D=Array.isArray,k=Object.prototype.hasOwnProperty,N={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function I(q,G,ge){var _e,Ce={},Re=null,We=null;if(G!=null)for(_e in G.ref!==void 0&&(We=G.ref),G.key!==void 0&&(Re=""+G.key),G)k.call(G,_e)&&!A.hasOwnProperty(_e)&&(Ce[_e]=G[_e]);var Le=arguments.length-2;if(Le===1)Ce.children=ge;else if(1<Le){for(var he=Array(Le),Oe=0;Oe<Le;Oe++)he[Oe]=arguments[Oe+2];Ce.children=he}if(q&&q.defaultProps)for(_e in Le=q.defaultProps,Le)Ce[_e]===void 0&&(Ce[_e]=Le[_e]);return{$$typeof:t,type:q,key:Re,ref:We,props:Ce,_owner:N.current}}function C(q,G){return{$$typeof:t,type:q.type,key:G,ref:q.ref,props:q.props,_owner:q._owner}}function V(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function $(q){var G={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ge){return G[ge]})}var B=/\/+/g;function L(q,G){return typeof q=="object"&&q!==null&&q.key!=null?$(""+q.key):G.toString(36)}function Q(q,G,ge,_e,Ce){var Re=typeof q;(Re==="undefined"||Re==="boolean")&&(q=null);var We=!1;if(q===null)We=!0;else switch(Re){case"string":case"number":We=!0;break;case"object":switch(q.$$typeof){case t:case e:We=!0}}if(We)return We=q,Ce=Ce(We),q=_e===""?"."+L(We,0):_e,D(Ce)?(ge="",q!=null&&(ge=q.replace(B,"$&/")+"/"),Q(Ce,G,ge,"",function(Oe){return Oe})):Ce!=null&&(V(Ce)&&(Ce=C(Ce,ge+(!Ce.key||We&&We.key===Ce.key?"":(""+Ce.key).replace(B,"$&/")+"/")+q)),G.push(Ce)),1;if(We=0,_e=_e===""?".":_e+":",D(q))for(var Le=0;Le<q.length;Le++){Re=q[Le];var he=_e+L(Re,Le);We+=Q(Re,G,ge,he,Ce)}else if(he=y(q),typeof he=="function")for(q=he.call(q),Le=0;!(Re=q.next()).done;)Re=Re.value,he=_e+L(Re,Le++),We+=Q(Re,G,ge,he,Ce);else if(Re==="object")throw G=String(q),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return We}function ee(q,G,ge){if(q==null)return q;var _e=[],Ce=0;return Q(q,_e,"","",function(Re){return G.call(ge,Re,Ce++)}),_e}function ae(q){if(q._status===-1){var G=q._result;G=G(),G.then(function(ge){(q._status===0||q._status===-1)&&(q._status=1,q._result=ge)},function(ge){(q._status===0||q._status===-1)&&(q._status=2,q._result=ge)}),q._status===-1&&(q._status=0,q._result=G)}if(q._status===1)return q._result.default;throw q._result}var se={current:null},J={transition:null},ie={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:J,ReactCurrentOwner:N};function re(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:ee,forEach:function(q,G,ge){ee(q,function(){G.apply(this,arguments)},ge)},count:function(q){var G=0;return ee(q,function(){G++}),G},toArray:function(q){return ee(q,function(G){return G})||[]},only:function(q){if(!V(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},He.Component=_,He.Fragment=n,He.Profiler=i,He.PureComponent=j,He.StrictMode=r,He.Suspense=c,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,He.act=re,He.cloneElement=function(q,G,ge){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var _e=S({},q.props),Ce=q.key,Re=q.ref,We=q._owner;if(G!=null){if(G.ref!==void 0&&(Re=G.ref,We=N.current),G.key!==void 0&&(Ce=""+G.key),q.type&&q.type.defaultProps)var Le=q.type.defaultProps;for(he in G)k.call(G,he)&&!A.hasOwnProperty(he)&&(_e[he]=G[he]===void 0&&Le!==void 0?Le[he]:G[he])}var he=arguments.length-2;if(he===1)_e.children=ge;else if(1<he){Le=Array(he);for(var Oe=0;Oe<he;Oe++)Le[Oe]=arguments[Oe+2];_e.children=Le}return{$$typeof:t,type:q.type,key:Ce,ref:Re,props:_e,_owner:We}},He.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:o,_context:q},q.Consumer=q},He.createElement=I,He.createFactory=function(q){var G=I.bind(null,q);return G.type=q,G},He.createRef=function(){return{current:null}},He.forwardRef=function(q){return{$$typeof:l,render:q}},He.isValidElement=V,He.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:ae}},He.memo=function(q,G){return{$$typeof:f,type:q,compare:G===void 0?null:G}},He.startTransition=function(q){var G=J.transition;J.transition={};try{q()}finally{J.transition=G}},He.unstable_act=re,He.useCallback=function(q,G){return se.current.useCallback(q,G)},He.useContext=function(q){return se.current.useContext(q)},He.useDebugValue=function(){},He.useDeferredValue=function(q){return se.current.useDeferredValue(q)},He.useEffect=function(q,G){return se.current.useEffect(q,G)},He.useId=function(){return se.current.useId()},He.useImperativeHandle=function(q,G,ge){return se.current.useImperativeHandle(q,G,ge)},He.useInsertionEffect=function(q,G){return se.current.useInsertionEffect(q,G)},He.useLayoutEffect=function(q,G){return se.current.useLayoutEffect(q,G)},He.useMemo=function(q,G){return se.current.useMemo(q,G)},He.useReducer=function(q,G,ge){return se.current.useReducer(q,G,ge)},He.useRef=function(q){return se.current.useRef(q)},He.useState=function(q){return se.current.useState(q)},He.useSyncExternalStore=function(q,G,ge){return se.current.useSyncExternalStore(q,G,ge)},He.useTransition=function(){return se.current.useTransition()},He.version="18.3.1",He}var HS;function Mw(){return HS||(HS=1,Cy.exports=t$()),Cy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GS;function n$(){if(GS)return lc;GS=1;var t=Mw(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,f){var h,m={},y=null,b=null;f!==void 0&&(y=""+f),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(b=c.ref);for(h in c)r.call(c,h)&&!o.hasOwnProperty(h)&&(m[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)m[h]===void 0&&(m[h]=c[h]);return{$$typeof:e,type:l,key:y,ref:b,props:m,_owner:i.current}}return lc.Fragment=n,lc.jsx=s,lc.jsxs=s,lc}var KS;function r$(){return KS||(KS=1,Py.exports=n$()),Py.exports}var v=r$(),z=Mw();const K=ht(z);var ch={},Oy={exports:{}},qn={},ky={exports:{}},Ny={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YS;function i$(){return YS||(YS=1,(function(t){function e(J,ie){var re=J.length;J.push(ie);e:for(;0<re;){var q=re-1>>>1,G=J[q];if(0<i(G,ie))J[q]=ie,J[re]=G,re=q;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ie=J[0],re=J.pop();if(re!==ie){J[0]=re;e:for(var q=0,G=J.length,ge=G>>>1;q<ge;){var _e=2*(q+1)-1,Ce=J[_e],Re=_e+1,We=J[Re];if(0>i(Ce,re))Re<G&&0>i(We,Ce)?(J[q]=We,J[Re]=re,q=Re):(J[q]=Ce,J[_e]=re,q=_e);else if(Re<G&&0>i(We,re))J[q]=We,J[Re]=re,q=Re;else break e}}return ie}function i(J,ie){var re=J.sortIndex-ie.sortIndex;return re!==0?re:J.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],f=[],h=1,m=null,y=3,b=!1,S=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(J){for(var ie=n(f);ie!==null;){if(ie.callback===null)r(f);else if(ie.startTime<=J)r(f),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=n(f)}}function D(J){if(E=!1,R(J),!S)if(n(c)!==null)S=!0,ae(k);else{var ie=n(f);ie!==null&&se(D,ie.startTime-J)}}function k(J,ie){S=!1,E&&(E=!1,P(I),I=-1),b=!0;var re=y;try{for(R(ie),m=n(c);m!==null&&(!(m.expirationTime>ie)||J&&!$());){var q=m.callback;if(typeof q=="function"){m.callback=null,y=m.priorityLevel;var G=q(m.expirationTime<=ie);ie=t.unstable_now(),typeof G=="function"?m.callback=G:m===n(c)&&r(c),R(ie)}else r(c);m=n(c)}if(m!==null)var ge=!0;else{var _e=n(f);_e!==null&&se(D,_e.startTime-ie),ge=!1}return ge}finally{m=null,y=re,b=!1}}var N=!1,A=null,I=-1,C=5,V=-1;function $(){return!(t.unstable_now()-V<C)}function B(){if(A!==null){var J=t.unstable_now();V=J;var ie=!0;try{ie=A(!0,J)}finally{ie?L():(N=!1,A=null)}}else N=!1}var L;if(typeof j=="function")L=function(){j(B)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ee=Q.port2;Q.port1.onmessage=B,L=function(){ee.postMessage(null)}}else L=function(){_(B,0)};function ae(J){A=J,N||(N=!0,L())}function se(J,ie){I=_(function(){J(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){S||b||(S=!0,ae(k))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(J){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var re=y;y=ie;try{return J()}finally{y=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,ie){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var re=y;y=J;try{return ie()}finally{y=re}},t.unstable_scheduleCallback=function(J,ie,re){var q=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?q+re:q):re=q,J){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=re+G,J={id:h++,callback:ie,priorityLevel:J,startTime:re,expirationTime:G,sortIndex:-1},re>q?(J.sortIndex=re,e(f,J),n(c)===null&&J===n(f)&&(E?(P(I),I=-1):E=!0,se(D,re-q))):(J.sortIndex=G,e(c,J),S||b||(S=!0,ae(k))),J},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(J){var ie=y;return function(){var re=y;y=ie;try{return J.apply(this,arguments)}finally{y=re}}}})(Ny)),Ny}var XS;function o$(){return XS||(XS=1,ky.exports=i$()),ky.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS;function a$(){if(QS)return qn;QS=1;var t=Mw(),e=o$();function n(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(a,u){s(a,u),s(a+"Capture",u)}function s(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function y(a){return c.call(m,a)?!0:c.call(h,a)?!1:f.test(a)?m[a]=!0:(h[a]=!0,!1)}function b(a,u,d,g){if(d!==null&&d.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,u,d,g){if(u===null||typeof u>"u"||b(a,u,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function E(a,u,d,g,x,w,M){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=a,this.type=u,this.sanitizeURL=w,this.removeEmptyString=M}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){_[a]=new E(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];_[u]=new E(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){_[a]=new E(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){_[a]=new E(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){_[a]=new E(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){_[a]=new E(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){_[a]=new E(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){_[a]=new E(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){_[a]=new E(a,5,!1,a.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function j(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(P,j);_[u]=new E(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(P,j);_[u]=new E(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(P,j);_[u]=new E(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){_[a]=new E(a,1,!1,a.toLowerCase(),null,!1,!1)}),_.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){_[a]=new E(a,1,!1,a.toLowerCase(),null,!0,!0)});function R(a,u,d,g){var x=_.hasOwnProperty(u)?_[u]:null;(x!==null?x.type!==0:g||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(S(u,d,x,g)&&(d=null),g||x===null?y(u)&&(d===null?a.removeAttribute(u):a.setAttribute(u,""+d)):x.mustUseProperty?a[x.propertyName]=d===null?x.type===3?!1:"":d:(u=x.attributeName,g=x.attributeNamespace,d===null?a.removeAttribute(u):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,g?a.setAttributeNS(g,u,d):a.setAttribute(u,d))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),N=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),$=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),J=Symbol.iterator;function ie(a){return a===null||typeof a!="object"?null:(a=J&&a[J]||a["@@iterator"],typeof a=="function"?a:null)}var re=Object.assign,q;function G(a){if(q===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);q=u&&u[1]||""}return`
`+q+a}var ge=!1;function _e(a,u){if(!a||ge)return"";ge=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(te){var g=te}Reflect.construct(a,[],u)}else{try{u.call()}catch(te){g=te}a.call(u.prototype)}else{try{throw Error()}catch(te){g=te}a()}}catch(te){if(te&&g&&typeof te.stack=="string"){for(var x=te.stack.split(`
`),w=g.stack.split(`
`),M=x.length-1,U=w.length-1;1<=M&&0<=U&&x[M]!==w[U];)U--;for(;1<=M&&0<=U;M--,U--)if(x[M]!==w[U]){if(M!==1||U!==1)do if(M--,U--,0>U||x[M]!==w[U]){var W=`
`+x[M].replace(" at new "," at ");return a.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",a.displayName)),W}while(1<=M&&0<=U);break}}}finally{ge=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?G(a):""}function Ce(a){switch(a.tag){case 5:return G(a.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return a=_e(a.type,!1),a;case 11:return a=_e(a.type.render,!1),a;case 1:return a=_e(a.type,!0),a;default:return""}}function Re(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case N:return"Portal";case C:return"Profiler";case I:return"StrictMode";case L:return"Suspense";case Q:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case $:return(a.displayName||"Context")+".Consumer";case V:return(a._context.displayName||"Context")+".Provider";case B:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ee:return u=a.displayName||null,u!==null?u:Re(a.type)||"Memo";case ae:u=a._payload,a=a._init;try{return Re(a(u))}catch{}}return null}function We(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(u);case 8:return u===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Le(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function he(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Oe(a){var u=he(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),g=""+a[u];if(!a.hasOwnProperty(u)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,w=d.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return x.call(this)},set:function(M){g=""+M,w.call(this,M)}}),Object.defineProperty(a,u,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(M){g=""+M},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Be(a){a._valueTracker||(a._valueTracker=Oe(a))}function ce(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var d=u.getValue(),g="";return a&&(g=he(a)?a.checked?"true":"false":a.value),a=g,a!==d?(u.setValue(a),!0):!1}function rt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function ze(a,u){var d=u.checked;return re({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function It(a,u){var d=u.defaultValue==null?"":u.defaultValue,g=u.checked!=null?u.checked:u.defaultChecked;d=Le(u.value!=null?u.value:d),a._wrapperState={initialChecked:g,initialValue:d,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function yt(a,u){u=u.checked,u!=null&&R(a,"checked",u,!1)}function Rt(a,u){yt(a,u);var d=Le(u.value),g=u.type;if(d!=null)g==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?pt(a,u.type,d):u.hasOwnProperty("defaultValue")&&pt(a,u.type,Le(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function Ln(a,u,d){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var g=u.type;if(!(g!=="submit"&&g!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,d||u===a.value||(a.value=u),a.defaultValue=u}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function pt(a,u,d){(u!=="number"||rt(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var vt=Array.isArray;function Kt(a,u,d,g){if(a=a.options,u){u={};for(var x=0;x<d.length;x++)u["$"+d[x]]=!0;for(d=0;d<a.length;d++)x=u.hasOwnProperty("$"+a[d].value),a[d].selected!==x&&(a[d].selected=x),x&&g&&(a[d].defaultSelected=!0)}else{for(d=""+Le(d),u=null,x=0;x<a.length;x++){if(a[x].value===d){a[x].selected=!0,g&&(a[x].defaultSelected=!0);return}u!==null||a[x].disabled||(u=a[x])}u!==null&&(u.selected=!0)}}function Kn(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Ai(a,u){var d=u.value;if(d==null){if(d=u.children,u=u.defaultValue,d!=null){if(u!=null)throw Error(n(92));if(vt(d)){if(1<d.length)throw Error(n(93));d=d[0]}u=d}u==null&&(u=""),d=u}a._wrapperState={initialValue:Le(d)}}function ma(a,u){var d=Le(u.value),g=Le(u.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),u.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),g!=null&&(a.defaultValue=""+g)}function Sr(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function xl(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Es(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?xl(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var mo,Xf=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,d,g,x){MSApp.execUnsafeLocalFunction(function(){return a(u,d,g,x)})}:a})(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(mo=mo||document.createElement("div"),mo.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=mo.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function ga(a,u){if(u){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=u;return}}a.textContent=u}var go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qf=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(a){Qf.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),go[u]=go[a]})});function yo(a,u,d){return u==null||typeof u=="boolean"||u===""?"":d||typeof u!="number"||u===0||go.hasOwnProperty(a)&&go[a]?(""+u).trim():u+"px"}function Ss(a,u){a=a.style;for(var d in u)if(u.hasOwnProperty(d)){var g=d.indexOf("--")===0,x=yo(d,u[d],g);d==="float"&&(d="cssFloat"),g?a.setProperty(d,x):a[d]=x}}var bl=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ar(a,u){if(u){if(bl[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function As(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vo=null;function Is(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ii=null,Pi=null,Dt=null;function _l(a){if(a=Kl(a)){if(typeof Ii!="function")throw Error(n(280));var u=a.stateNode;u&&(u=Ed(u),Ii(a.stateNode,a.type,u))}}function xo(a){Pi?Dt?Dt.push(a):Dt=[a]:Pi=a}function bo(){if(Pi){var a=Pi,u=Dt;if(Dt=Pi=null,_l(a),u)for(a=0;a<u.length;a++)_l(u[a])}}function Jf(a,u){return a(u)}function Zf(){}var Hr=!1;function ed(a,u,d){if(Hr)return a(u,d);Hr=!0;try{return Jf(a,u,d)}finally{Hr=!1,(Pi!==null||Dt!==null)&&(Zf(),bo())}}function ya(a,u){var d=a.stateNode;if(d===null)return null;var g=Ed(d);if(g===null)return null;d=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(n(231,u,typeof d));return d}var _o=!1;if(l)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){_o=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{_o=!1}function td(a,u,d,g,x,w,M,U,W){var te=Array.prototype.slice.call(arguments,3);try{u.apply(d,te)}catch(de){this.onError(de)}}var Ci=!1,Gr=null,Ps=!1,ur=null,nd={onError:function(a){Ci=!0,Gr=a}};function rd(a,u,d,g,x,w,M,U,W){Ci=!1,Gr=null,td.apply(nd,arguments)}function wl(a,u,d,g,x,w,M,U,W){if(rd.apply(this,arguments),Ci){if(Ci){var te=Gr;Ci=!1,Gr=null}else throw Error(n(198));Ps||(Ps=!0,ur=te)}}function Ir(a){var u=a,d=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(d=u.return),a=u.return;while(a)}return u.tag===3?d:null}function Tl(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function id(a){if(Ir(a)!==a)throw Error(n(188))}function od(a){var u=a.alternate;if(!u){if(u=Ir(a),u===null)throw Error(n(188));return u!==a?null:a}for(var d=a,g=u;;){var x=d.return;if(x===null)break;var w=x.alternate;if(w===null){if(g=x.return,g!==null){d=g;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===d)return id(x),a;if(w===g)return id(x),u;w=w.sibling}throw Error(n(188))}if(d.return!==g.return)d=x,g=w;else{for(var M=!1,U=x.child;U;){if(U===d){M=!0,d=x,g=w;break}if(U===g){M=!0,g=x,d=w;break}U=U.sibling}if(!M){for(U=w.child;U;){if(U===d){M=!0,d=w,g=x;break}if(U===g){M=!0,g=w,d=x;break}U=U.sibling}if(!M)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?a:u}function ad(a){return a=od(a),a!==null?va(a):null}function va(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=va(a);if(u!==null)return u;a=a.sibling}return null}var El=e.unstable_scheduleCallback,Cs=e.unstable_cancelCallback,xa=e.unstable_shouldYield,Oi=e.unstable_requestPaint,_t=e.unstable_now,og=e.unstable_getCurrentPriorityLevel,Os=e.unstable_ImmediatePriority,Sl=e.unstable_UserBlockingPriority,ba=e.unstable_NormalPriority,Al=e.unstable_LowPriority,ks=e.unstable_IdlePriority,_a=null,Yn=null;function sd(a){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(_a,a,void 0,(a.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:wa,Kr=Math.log,lr=Math.LN2;function wa(a){return a>>>=0,a===0?32:31-(Kr(a)/lr|0)|0}var Yr=64,To=4194304;function it(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function ki(a,u){var d=a.pendingLanes;if(d===0)return 0;var g=0,x=a.suspendedLanes,w=a.pingedLanes,M=d&268435455;if(M!==0){var U=M&~x;U!==0?g=it(U):(w&=M,w!==0&&(g=it(w)))}else M=d&~x,M!==0?g=it(M):w!==0&&(g=it(w));if(g===0)return 0;if(u!==0&&u!==g&&(u&x)===0&&(x=g&-g,w=u&-u,x>=w||x===16&&(w&4194240)!==0))return u;if((g&4)!==0&&(g|=d&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=g;0<u;)d=31-Xn(u),x=1<<d,g|=a[d],u&=~x;return g}function Ta(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ea(a,u){for(var d=a.suspendedLanes,g=a.pingedLanes,x=a.expirationTimes,w=a.pendingLanes;0<w;){var M=31-Xn(w),U=1<<M,W=x[M];W===-1?((U&d)===0||(U&g)!==0)&&(x[M]=Ta(U,u)):W<=u&&(a.expiredLanes|=U),w&=~U}}function Il(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Pl(){var a=Yr;return Yr<<=1,(Yr&4194240)===0&&(Yr=64),a}function Cl(a){for(var u=[],d=0;31>d;d++)u.push(a);return u}function Sa(a,u,d){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-Xn(u),a[u]=d}function ag(a,u){var d=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<d;){var x=31-Xn(d),w=1<<x;u[x]=0,g[x]=-1,a[x]=-1,d&=~w}}function Ol(a,u){var d=a.entangledLanes|=u;for(a=a.entanglements;d;){var g=31-Xn(d),x=1<<g;x&u|a[g]&u&&(a[g]|=u),d&=~x}}var Qe=0;function Xr(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var kl,Ns,Nl,jl,Rl,Qr=!1,js=[],Jr=null,Zr=null,hn=null,Aa=new Map,Ni=new Map,Qn=[],ud="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eo(a,u){switch(a){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":Aa.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ni.delete(u.pointerId)}}function Pr(a,u,d,g,x,w){return a===null||a.nativeEvent!==w?(a={blockedOn:u,domEventName:d,eventSystemFlags:g,nativeEvent:w,targetContainers:[x]},u!==null&&(u=Kl(u),u!==null&&Ns(u)),a):(a.eventSystemFlags|=g,u=a.targetContainers,x!==null&&u.indexOf(x)===-1&&u.push(x),a)}function ld(a,u,d,g,x){switch(u){case"focusin":return Jr=Pr(Jr,a,u,d,g,x),!0;case"dragenter":return Zr=Pr(Zr,a,u,d,g,x),!0;case"mouseover":return hn=Pr(hn,a,u,d,g,x),!0;case"pointerover":var w=x.pointerId;return Aa.set(w,Pr(Aa.get(w)||null,a,u,d,g,x)),!0;case"gotpointercapture":return w=x.pointerId,Ni.set(w,Pr(Ni.get(w)||null,a,u,d,g,x)),!0}return!1}function Rs(a){var u=Oa(a.target);if(u!==null){var d=Ir(u);if(d!==null){if(u=d.tag,u===13){if(u=Tl(d),u!==null){a.blockedOn=u,Rl(a.priority,function(){Nl(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function mt(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var d=Ds(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);vo=g,d.target.dispatchEvent(g),vo=null}else return u=Kl(d),u!==null&&Ns(u),a.blockedOn=d,!1;u.shift()}return!0}function cd(a,u,d){mt(a)&&d.delete(u)}function sg(){Qr=!1,Jr!==null&&mt(Jr)&&(Jr=null),Zr!==null&&mt(Zr)&&(Zr=null),hn!==null&&mt(hn)&&(hn=null),Aa.forEach(cd),Ni.forEach(cd)}function So(a,u){a.blockedOn===u&&(a.blockedOn=null,Qr||(Qr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sg)))}function Ao(a){function u(x){return So(x,a)}if(0<js.length){So(js[0],a);for(var d=1;d<js.length;d++){var g=js[d];g.blockedOn===a&&(g.blockedOn=null)}}for(Jr!==null&&So(Jr,a),Zr!==null&&So(Zr,a),hn!==null&&So(hn,a),Aa.forEach(u),Ni.forEach(u),d=0;d<Qn.length;d++)g=Qn[d],g.blockedOn===a&&(g.blockedOn=null);for(;0<Qn.length&&(d=Qn[0],d.blockedOn===null);)Rs(d),d.blockedOn===null&&Qn.shift()}var ji=D.ReactCurrentBatchConfig,Ri=!0;function ei(a,u,d,g){var x=Qe,w=ji.transition;ji.transition=null;try{Qe=1,Dl(a,u,d,g)}finally{Qe=x,ji.transition=w}}function fd(a,u,d,g){var x=Qe,w=ji.transition;ji.transition=null;try{Qe=4,Dl(a,u,d,g)}finally{Qe=x,ji.transition=w}}function Dl(a,u,d,g){if(Ri){var x=Ds(a,u,d,g);if(x===null)vg(a,u,g,ti,d),Eo(a,g);else if(ld(x,a,u,d,g))g.stopPropagation();else if(Eo(a,g),u&4&&-1<ud.indexOf(a)){for(;x!==null;){var w=Kl(x);if(w!==null&&kl(w),w=Ds(a,u,d,g),w===null&&vg(a,u,g,ti,d),w===x)break;x=w}x!==null&&g.stopPropagation()}else vg(a,u,g,null,d)}}var ti=null;function Ds(a,u,d,g){if(ti=null,a=Is(g),a=Oa(a),a!==null)if(u=Ir(a),u===null)a=null;else if(d=u.tag,d===13){if(a=Tl(u),a!==null)return a;a=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return ti=a,null}function Ms(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(og()){case Os:return 1;case Sl:return 4;case ba:case Al:return 16;case ks:return 536870912;default:return 16}default:return 16}}var Jn=null,Ls=null,Di=null;function dd(){if(Di)return Di;var a,u=Ls,d=u.length,g,x="value"in Jn?Jn.value:Jn.textContent,w=x.length;for(a=0;a<d&&u[a]===x[a];a++);var M=d-a;for(g=1;g<=M&&u[d-g]===x[w-g];g++);return Di=x.slice(a,1<g?1-g:void 0)}function Ia(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function ni(){return!0}function Ml(){return!1}function wn(a){function u(d,g,x,w,M){this._reactName=d,this._targetInst=x,this.type=g,this.nativeEvent=w,this.target=M,this.currentTarget=null;for(var U in a)a.hasOwnProperty(U)&&(d=a[U],this[U]=d?d(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ni:Ml,this.isPropagationStopped=Ml,this}return re(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),u}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=wn(ri),Io=re({},ri,{view:0,detail:0}),$s=wn(Io),Vs,Bs,Zn,Ca=re({},Io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ue,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Zn&&(Zn&&a.type==="mousemove"?(Vs=a.screenX-Zn.screenX,Bs=a.screenY-Zn.screenY):Bs=Vs=0,Zn=a),Vs)},movementY:function(a){return"movementY"in a?a.movementY:Bs}}),Ll=wn(Ca),hd=re({},Ca,{dataTransfer:0}),pd=wn(hd),Fs=re({},Io,{relatedTarget:0}),pn=wn(Fs),md=re({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),gd=wn(md),Po=re({},ri,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),p=wn(Po),T=re({},ri,{data:0}),O=wn(T),F={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ve(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=ne[a])?!!u[a]:!1}function Ue(){return ve}var $t=re({},Io,{key:function(a){if(a.key){var u=F[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Ia(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?X[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ue,charCode:function(a){return a.type==="keypress"?Ia(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ia(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ft=wn($t),Ft=re({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),er=wn(Ft),Mi=re({},Io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ue}),ii=wn(Mi),oi=re({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),Us=wn(oi),$l=re({},Ca,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Y4=wn($l),X4=[9,13,27,32],ug=l&&"CompositionEvent"in window,Vl=null;l&&"documentMode"in document&&(Vl=document.documentMode);var Q4=l&&"TextEvent"in window&&!Vl,LT=l&&(!ug||Vl&&8<Vl&&11>=Vl),$T=" ",VT=!1;function BT(a,u){switch(a){case"keyup":return X4.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FT(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var qs=!1;function J4(a,u){switch(a){case"compositionend":return FT(u);case"keypress":return u.which!==32?null:(VT=!0,$T);case"textInput":return a=u.data,a===$T&&VT?null:a;default:return null}}function Z4(a,u){if(qs)return a==="compositionend"||!ug&&BT(a,u)?(a=dd(),Di=Ls=Jn=null,qs=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return LT&&u.locale!=="ko"?null:u.data;default:return null}}var e3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UT(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!e3[a.type]:u==="textarea"}function qT(a,u,d,g){xo(g),u=_d(u,"onChange"),0<u.length&&(d=new Pa("onChange","change",null,d,g),a.push({event:d,listeners:u}))}var Bl=null,Fl=null;function t3(a){sE(a,0)}function yd(a){var u=Ks(a);if(ce(u))return a}function n3(a,u){if(a==="change")return u}var zT=!1;if(l){var lg;if(l){var cg="oninput"in document;if(!cg){var WT=document.createElement("div");WT.setAttribute("oninput","return;"),cg=typeof WT.oninput=="function"}lg=cg}else lg=!1;zT=lg&&(!document.documentMode||9<document.documentMode)}function HT(){Bl&&(Bl.detachEvent("onpropertychange",GT),Fl=Bl=null)}function GT(a){if(a.propertyName==="value"&&yd(Fl)){var u=[];qT(u,Fl,a,Is(a)),ed(t3,u)}}function r3(a,u,d){a==="focusin"?(HT(),Bl=u,Fl=d,Bl.attachEvent("onpropertychange",GT)):a==="focusout"&&HT()}function i3(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return yd(Fl)}function o3(a,u){if(a==="click")return yd(u)}function a3(a,u){if(a==="input"||a==="change")return yd(u)}function s3(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var Cr=typeof Object.is=="function"?Object.is:s3;function Ul(a,u){if(Cr(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var d=Object.keys(a),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var x=d[g];if(!c.call(u,x)||!Cr(a[x],u[x]))return!1}return!0}function KT(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function YT(a,u){var d=KT(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=u&&g>=u)return{node:d,offset:u-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=KT(d)}}function XT(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?XT(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function QT(){for(var a=window,u=rt();u instanceof a.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)a=u.contentWindow;else break;u=rt(a.document)}return u}function fg(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function u3(a){var u=QT(),d=a.focusedElem,g=a.selectionRange;if(u!==d&&d&&d.ownerDocument&&XT(d.ownerDocument.documentElement,d)){if(g!==null&&fg(d)){if(u=g.start,a=g.end,a===void 0&&(a=u),"selectionStart"in d)d.selectionStart=u,d.selectionEnd=Math.min(a,d.value.length);else if(a=(u=d.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var x=d.textContent.length,w=Math.min(g.start,x);g=g.end===void 0?w:Math.min(g.end,x),!a.extend&&w>g&&(x=g,g=w,w=x),x=YT(d,w);var M=YT(d,g);x&&M&&(a.rangeCount!==1||a.anchorNode!==x.node||a.anchorOffset!==x.offset||a.focusNode!==M.node||a.focusOffset!==M.offset)&&(u=u.createRange(),u.setStart(x.node,x.offset),a.removeAllRanges(),w>g?(a.addRange(u),a.extend(M.node,M.offset)):(u.setEnd(M.node,M.offset),a.addRange(u)))}}for(u=[],a=d;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<u.length;d++)a=u[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var l3=l&&"documentMode"in document&&11>=document.documentMode,zs=null,dg=null,ql=null,hg=!1;function JT(a,u,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;hg||zs==null||zs!==rt(g)||(g=zs,"selectionStart"in g&&fg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ql&&Ul(ql,g)||(ql=g,g=_d(dg,"onSelect"),0<g.length&&(u=new Pa("onSelect","select",null,u,d),a.push({event:u,listeners:g}),u.target=zs)))}function vd(a,u){var d={};return d[a.toLowerCase()]=u.toLowerCase(),d["Webkit"+a]="webkit"+u,d["Moz"+a]="moz"+u,d}var Ws={animationend:vd("Animation","AnimationEnd"),animationiteration:vd("Animation","AnimationIteration"),animationstart:vd("Animation","AnimationStart"),transitionend:vd("Transition","TransitionEnd")},pg={},ZT={};l&&(ZT=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function xd(a){if(pg[a])return pg[a];if(!Ws[a])return a;var u=Ws[a],d;for(d in u)if(u.hasOwnProperty(d)&&d in ZT)return pg[a]=u[d];return a}var eE=xd("animationend"),tE=xd("animationiteration"),nE=xd("animationstart"),rE=xd("transitionend"),iE=new Map,oE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(a,u){iE.set(a,u),o(u,[a])}for(var mg=0;mg<oE.length;mg++){var gg=oE[mg],c3=gg.toLowerCase(),f3=gg[0].toUpperCase()+gg.slice(1);Co(c3,"on"+f3)}Co(eE,"onAnimationEnd"),Co(tE,"onAnimationIteration"),Co(nE,"onAnimationStart"),Co("dblclick","onDoubleClick"),Co("focusin","onFocus"),Co("focusout","onBlur"),Co(rE,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d3=new Set("cancel close invalid load scroll toggle".split(" ").concat(zl));function aE(a,u,d){var g=a.type||"unknown-event";a.currentTarget=d,wl(g,u,void 0,a),a.currentTarget=null}function sE(a,u){u=(u&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],x=g.event;g=g.listeners;e:{var w=void 0;if(u)for(var M=g.length-1;0<=M;M--){var U=g[M],W=U.instance,te=U.currentTarget;if(U=U.listener,W!==w&&x.isPropagationStopped())break e;aE(x,U,te),w=W}else for(M=0;M<g.length;M++){if(U=g[M],W=U.instance,te=U.currentTarget,U=U.listener,W!==w&&x.isPropagationStopped())break e;aE(x,U,te),w=W}}}if(Ps)throw a=ur,Ps=!1,ur=null,a}function wt(a,u){var d=u[Eg];d===void 0&&(d=u[Eg]=new Set);var g=a+"__bubble";d.has(g)||(uE(u,a,2,!1),d.add(g))}function yg(a,u,d){var g=0;u&&(g|=4),uE(d,a,g,u)}var bd="_reactListening"+Math.random().toString(36).slice(2);function Wl(a){if(!a[bd]){a[bd]=!0,r.forEach(function(d){d!=="selectionchange"&&(d3.has(d)||yg(d,!1,a),yg(d,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[bd]||(u[bd]=!0,yg("selectionchange",!1,u))}}function uE(a,u,d,g){switch(Ms(u)){case 1:var x=ei;break;case 4:x=fd;break;default:x=Dl}d=x.bind(null,u,d,a),x=void 0,!_o||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(x=!0),g?x!==void 0?a.addEventListener(u,d,{capture:!0,passive:x}):a.addEventListener(u,d,!0):x!==void 0?a.addEventListener(u,d,{passive:x}):a.addEventListener(u,d,!1)}function vg(a,u,d,g,x){var w=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var U=g.stateNode.containerInfo;if(U===x||U.nodeType===8&&U.parentNode===x)break;if(M===4)for(M=g.return;M!==null;){var W=M.tag;if((W===3||W===4)&&(W=M.stateNode.containerInfo,W===x||W.nodeType===8&&W.parentNode===x))return;M=M.return}for(;U!==null;){if(M=Oa(U),M===null)return;if(W=M.tag,W===5||W===6){g=w=M;continue e}U=U.parentNode}}g=g.return}ed(function(){var te=w,de=Is(d),me=[];e:{var le=iE.get(a);if(le!==void 0){var be=Pa,Se=a;switch(a){case"keypress":if(Ia(d)===0)break e;case"keydown":case"keyup":be=ft;break;case"focusin":Se="focus",be=pn;break;case"focusout":Se="blur",be=pn;break;case"beforeblur":case"afterblur":be=pn;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=ii;break;case eE:case tE:case nE:be=gd;break;case rE:be=Us;break;case"scroll":be=$s;break;case"wheel":be=Y4;break;case"copy":case"cut":case"paste":be=p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=er}var Ae=(u&4)!==0,Vt=!Ae&&a==="scroll",Y=Ae?le!==null?le+"Capture":null:le;Ae=[];for(var H=te,Z;H!==null;){Z=H;var ye=Z.stateNode;if(Z.tag===5&&ye!==null&&(Z=ye,Y!==null&&(ye=ya(H,Y),ye!=null&&Ae.push(Hl(H,ye,Z)))),Vt)break;H=H.return}0<Ae.length&&(le=new be(le,Se,null,d,de),me.push({event:le,listeners:Ae}))}}if((u&7)===0){e:{if(le=a==="mouseover"||a==="pointerover",be=a==="mouseout"||a==="pointerout",le&&d!==vo&&(Se=d.relatedTarget||d.fromElement)&&(Oa(Se)||Se[Li]))break e;if((be||le)&&(le=de.window===de?de:(le=de.ownerDocument)?le.defaultView||le.parentWindow:window,be?(Se=d.relatedTarget||d.toElement,be=te,Se=Se?Oa(Se):null,Se!==null&&(Vt=Ir(Se),Se!==Vt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(be=null,Se=te),be!==Se)){if(Ae=Ll,ye="onMouseLeave",Y="onMouseEnter",H="mouse",(a==="pointerout"||a==="pointerover")&&(Ae=er,ye="onPointerLeave",Y="onPointerEnter",H="pointer"),Vt=be==null?le:Ks(be),Z=Se==null?le:Ks(Se),le=new Ae(ye,H+"leave",be,d,de),le.target=Vt,le.relatedTarget=Z,ye=null,Oa(de)===te&&(Ae=new Ae(Y,H+"enter",Se,d,de),Ae.target=Z,Ae.relatedTarget=Vt,ye=Ae),Vt=ye,be&&Se)t:{for(Ae=be,Y=Se,H=0,Z=Ae;Z;Z=Hs(Z))H++;for(Z=0,ye=Y;ye;ye=Hs(ye))Z++;for(;0<H-Z;)Ae=Hs(Ae),H--;for(;0<Z-H;)Y=Hs(Y),Z--;for(;H--;){if(Ae===Y||Y!==null&&Ae===Y.alternate)break t;Ae=Hs(Ae),Y=Hs(Y)}Ae=null}else Ae=null;be!==null&&lE(me,le,be,Ae,!1),Se!==null&&Vt!==null&&lE(me,Vt,Se,Ae,!0)}}e:{if(le=te?Ks(te):window,be=le.nodeName&&le.nodeName.toLowerCase(),be==="select"||be==="input"&&le.type==="file")var Ie=n3;else if(UT(le))if(zT)Ie=a3;else{Ie=i3;var Ne=r3}else(be=le.nodeName)&&be.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ie=o3);if(Ie&&(Ie=Ie(a,te))){qT(me,Ie,d,de);break e}Ne&&Ne(a,le,te),a==="focusout"&&(Ne=le._wrapperState)&&Ne.controlled&&le.type==="number"&&pt(le,"number",le.value)}switch(Ne=te?Ks(te):window,a){case"focusin":(UT(Ne)||Ne.contentEditable==="true")&&(zs=Ne,dg=te,ql=null);break;case"focusout":ql=dg=zs=null;break;case"mousedown":hg=!0;break;case"contextmenu":case"mouseup":case"dragend":hg=!1,JT(me,d,de);break;case"selectionchange":if(l3)break;case"keydown":case"keyup":JT(me,d,de)}var je;if(ug)e:{switch(a){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else qs?BT(a,d)&&($e="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&($e="onCompositionStart");$e&&(LT&&d.locale!=="ko"&&(qs||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&qs&&(je=dd()):(Jn=de,Ls="value"in Jn?Jn.value:Jn.textContent,qs=!0)),Ne=_d(te,$e),0<Ne.length&&($e=new O($e,a,null,d,de),me.push({event:$e,listeners:Ne}),je?$e.data=je:(je=FT(d),je!==null&&($e.data=je)))),(je=Q4?J4(a,d):Z4(a,d))&&(te=_d(te,"onBeforeInput"),0<te.length&&(de=new O("onBeforeInput","beforeinput",null,d,de),me.push({event:de,listeners:te}),de.data=je))}sE(me,u)})}function Hl(a,u,d){return{instance:a,listener:u,currentTarget:d}}function _d(a,u){for(var d=u+"Capture",g=[];a!==null;){var x=a,w=x.stateNode;x.tag===5&&w!==null&&(x=w,w=ya(a,d),w!=null&&g.unshift(Hl(a,w,x)),w=ya(a,u),w!=null&&g.push(Hl(a,w,x))),a=a.return}return g}function Hs(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function lE(a,u,d,g,x){for(var w=u._reactName,M=[];d!==null&&d!==g;){var U=d,W=U.alternate,te=U.stateNode;if(W!==null&&W===g)break;U.tag===5&&te!==null&&(U=te,x?(W=ya(d,w),W!=null&&M.unshift(Hl(d,W,U))):x||(W=ya(d,w),W!=null&&M.push(Hl(d,W,U)))),d=d.return}M.length!==0&&a.push({event:u,listeners:M})}var h3=/\r\n?/g,p3=/\u0000|\uFFFD/g;function cE(a){return(typeof a=="string"?a:""+a).replace(h3,`
`).replace(p3,"")}function wd(a,u,d){if(u=cE(u),cE(a)!==u&&d)throw Error(n(425))}function Td(){}var xg=null,bg=null;function _g(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var wg=typeof setTimeout=="function"?setTimeout:void 0,m3=typeof clearTimeout=="function"?clearTimeout:void 0,fE=typeof Promise=="function"?Promise:void 0,g3=typeof queueMicrotask=="function"?queueMicrotask:typeof fE<"u"?function(a){return fE.resolve(null).then(a).catch(y3)}:wg;function y3(a){setTimeout(function(){throw a})}function Tg(a,u){var d=u,g=0;do{var x=d.nextSibling;if(a.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(g===0){a.removeChild(x),Ao(u);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=x}while(d);Ao(u)}function Oo(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function dE(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(u===0)return a;u--}else d==="/$"&&u++}a=a.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),ai="__reactFiber$"+Gs,Gl="__reactProps$"+Gs,Li="__reactContainer$"+Gs,Eg="__reactEvents$"+Gs,v3="__reactListeners$"+Gs,x3="__reactHandles$"+Gs;function Oa(a){var u=a[ai];if(u)return u;for(var d=a.parentNode;d;){if(u=d[Li]||d[ai]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(a=dE(a);a!==null;){if(d=a[ai])return d;a=dE(a)}return u}a=d,d=a.parentNode}return null}function Kl(a){return a=a[ai]||a[Li],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ks(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Ed(a){return a[Gl]||null}var Sg=[],Ys=-1;function ko(a){return{current:a}}function Tt(a){0>Ys||(a.current=Sg[Ys],Sg[Ys]=null,Ys--)}function xt(a,u){Ys++,Sg[Ys]=a.current,a.current=u}var No={},Tn=ko(No),$n=ko(!1),ka=No;function Xs(a,u){var d=a.type.contextTypes;if(!d)return No;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var x={},w;for(w in d)x[w]=u[w];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=x),x}function Vn(a){return a=a.childContextTypes,a!=null}function Sd(){Tt($n),Tt(Tn)}function hE(a,u,d){if(Tn.current!==No)throw Error(n(168));xt(Tn,u),xt($n,d)}function pE(a,u,d){var g=a.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var x in g)if(!(x in u))throw Error(n(108,We(a)||"Unknown",x));return re({},d,g)}function Ad(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||No,ka=Tn.current,xt(Tn,a),xt($n,$n.current),!0}function mE(a,u,d){var g=a.stateNode;if(!g)throw Error(n(169));d?(a=pE(a,u,ka),g.__reactInternalMemoizedMergedChildContext=a,Tt($n),Tt(Tn),xt(Tn,a)):Tt($n),xt($n,d)}var $i=null,Id=!1,Ag=!1;function gE(a){$i===null?$i=[a]:$i.push(a)}function b3(a){Id=!0,gE(a)}function jo(){if(!Ag&&$i!==null){Ag=!0;var a=0,u=Qe;try{var d=$i;for(Qe=1;a<d.length;a++){var g=d[a];do g=g(!0);while(g!==null)}$i=null,Id=!1}catch(x){throw $i!==null&&($i=$i.slice(a+1)),El(Os,jo),x}finally{Qe=u,Ag=!1}}return null}var Qs=[],Js=0,Pd=null,Cd=0,cr=[],fr=0,Na=null,Vi=1,Bi="";function ja(a,u){Qs[Js++]=Cd,Qs[Js++]=Pd,Pd=a,Cd=u}function yE(a,u,d){cr[fr++]=Vi,cr[fr++]=Bi,cr[fr++]=Na,Na=a;var g=Vi;a=Bi;var x=32-Xn(g)-1;g&=~(1<<x),d+=1;var w=32-Xn(u)+x;if(30<w){var M=x-x%5;w=(g&(1<<M)-1).toString(32),g>>=M,x-=M,Vi=1<<32-Xn(u)+x|d<<x|g,Bi=w+a}else Vi=1<<w|d<<x|g,Bi=a}function Ig(a){a.return!==null&&(ja(a,1),yE(a,1,0))}function Pg(a){for(;a===Pd;)Pd=Qs[--Js],Qs[Js]=null,Cd=Qs[--Js],Qs[Js]=null;for(;a===Na;)Na=cr[--fr],cr[fr]=null,Bi=cr[--fr],cr[fr]=null,Vi=cr[--fr],cr[fr]=null}var tr=null,nr=null,Pt=!1,Or=null;function vE(a,u){var d=mr(5,null,null,0);d.elementType="DELETED",d.stateNode=u,d.return=a,u=a.deletions,u===null?(a.deletions=[d],a.flags|=16):u.push(d)}function xE(a,u){switch(a.tag){case 5:var d=a.type;return u=u.nodeType!==1||d.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,tr=a,nr=Oo(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,tr=a,nr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(d=Na!==null?{id:Vi,overflow:Bi}:null,a.memoizedState={dehydrated:u,treeContext:d,retryLane:1073741824},d=mr(18,null,null,0),d.stateNode=u,d.return=a,a.child=d,tr=a,nr=null,!0):!1;default:return!1}}function Cg(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Og(a){if(Pt){var u=nr;if(u){var d=u;if(!xE(a,u)){if(Cg(a))throw Error(n(418));u=Oo(d.nextSibling);var g=tr;u&&xE(a,u)?vE(g,d):(a.flags=a.flags&-4097|2,Pt=!1,tr=a)}}else{if(Cg(a))throw Error(n(418));a.flags=a.flags&-4097|2,Pt=!1,tr=a}}}function bE(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;tr=a}function Od(a){if(a!==tr)return!1;if(!Pt)return bE(a),Pt=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!_g(a.type,a.memoizedProps)),u&&(u=nr)){if(Cg(a))throw _E(),Error(n(418));for(;u;)vE(a,u),u=Oo(u.nextSibling)}if(bE(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(u===0){nr=Oo(a.nextSibling);break e}u--}else d!=="$"&&d!=="$!"&&d!=="$?"||u++}a=a.nextSibling}nr=null}}else nr=tr?Oo(a.stateNode.nextSibling):null;return!0}function _E(){for(var a=nr;a;)a=Oo(a.nextSibling)}function Zs(){nr=tr=null,Pt=!1}function kg(a){Or===null?Or=[a]:Or.push(a)}var _3=D.ReactCurrentBatchConfig;function Yl(a,u,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var g=d.stateNode}if(!g)throw Error(n(147,a));var x=g,w=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===w?u.ref:(u=function(M){var U=x.refs;M===null?delete U[w]:U[w]=M},u._stringRef=w,u)}if(typeof a!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,a))}return a}function kd(a,u){throw a=Object.prototype.toString.call(u),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function wE(a){var u=a._init;return u(a._payload)}function TE(a){function u(Y,H){if(a){var Z=Y.deletions;Z===null?(Y.deletions=[H],Y.flags|=16):Z.push(H)}}function d(Y,H){if(!a)return null;for(;H!==null;)u(Y,H),H=H.sibling;return null}function g(Y,H){for(Y=new Map;H!==null;)H.key!==null?Y.set(H.key,H):Y.set(H.index,H),H=H.sibling;return Y}function x(Y,H){return Y=Fo(Y,H),Y.index=0,Y.sibling=null,Y}function w(Y,H,Z){return Y.index=Z,a?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<H?(Y.flags|=2,H):Z):(Y.flags|=2,H)):(Y.flags|=1048576,H)}function M(Y){return a&&Y.alternate===null&&(Y.flags|=2),Y}function U(Y,H,Z,ye){return H===null||H.tag!==6?(H=wy(Z,Y.mode,ye),H.return=Y,H):(H=x(H,Z),H.return=Y,H)}function W(Y,H,Z,ye){var Ie=Z.type;return Ie===A?de(Y,H,Z.props.children,ye,Z.key):H!==null&&(H.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===ae&&wE(Ie)===H.type)?(ye=x(H,Z.props),ye.ref=Yl(Y,H,Z),ye.return=Y,ye):(ye=th(Z.type,Z.key,Z.props,null,Y.mode,ye),ye.ref=Yl(Y,H,Z),ye.return=Y,ye)}function te(Y,H,Z,ye){return H===null||H.tag!==4||H.stateNode.containerInfo!==Z.containerInfo||H.stateNode.implementation!==Z.implementation?(H=Ty(Z,Y.mode,ye),H.return=Y,H):(H=x(H,Z.children||[]),H.return=Y,H)}function de(Y,H,Z,ye,Ie){return H===null||H.tag!==7?(H=Fa(Z,Y.mode,ye,Ie),H.return=Y,H):(H=x(H,Z),H.return=Y,H)}function me(Y,H,Z){if(typeof H=="string"&&H!==""||typeof H=="number")return H=wy(""+H,Y.mode,Z),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case k:return Z=th(H.type,H.key,H.props,null,Y.mode,Z),Z.ref=Yl(Y,null,H),Z.return=Y,Z;case N:return H=Ty(H,Y.mode,Z),H.return=Y,H;case ae:var ye=H._init;return me(Y,ye(H._payload),Z)}if(vt(H)||ie(H))return H=Fa(H,Y.mode,Z,null),H.return=Y,H;kd(Y,H)}return null}function le(Y,H,Z,ye){var Ie=H!==null?H.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Ie!==null?null:U(Y,H,""+Z,ye);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case k:return Z.key===Ie?W(Y,H,Z,ye):null;case N:return Z.key===Ie?te(Y,H,Z,ye):null;case ae:return Ie=Z._init,le(Y,H,Ie(Z._payload),ye)}if(vt(Z)||ie(Z))return Ie!==null?null:de(Y,H,Z,ye,null);kd(Y,Z)}return null}function be(Y,H,Z,ye,Ie){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return Y=Y.get(Z)||null,U(H,Y,""+ye,Ie);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case k:return Y=Y.get(ye.key===null?Z:ye.key)||null,W(H,Y,ye,Ie);case N:return Y=Y.get(ye.key===null?Z:ye.key)||null,te(H,Y,ye,Ie);case ae:var Ne=ye._init;return be(Y,H,Z,Ne(ye._payload),Ie)}if(vt(ye)||ie(ye))return Y=Y.get(Z)||null,de(H,Y,ye,Ie,null);kd(H,ye)}return null}function Se(Y,H,Z,ye){for(var Ie=null,Ne=null,je=H,$e=H=0,un=null;je!==null&&$e<Z.length;$e++){je.index>$e?(un=je,je=null):un=je.sibling;var et=le(Y,je,Z[$e],ye);if(et===null){je===null&&(je=un);break}a&&je&&et.alternate===null&&u(Y,je),H=w(et,H,$e),Ne===null?Ie=et:Ne.sibling=et,Ne=et,je=un}if($e===Z.length)return d(Y,je),Pt&&ja(Y,$e),Ie;if(je===null){for(;$e<Z.length;$e++)je=me(Y,Z[$e],ye),je!==null&&(H=w(je,H,$e),Ne===null?Ie=je:Ne.sibling=je,Ne=je);return Pt&&ja(Y,$e),Ie}for(je=g(Y,je);$e<Z.length;$e++)un=be(je,Y,$e,Z[$e],ye),un!==null&&(a&&un.alternate!==null&&je.delete(un.key===null?$e:un.key),H=w(un,H,$e),Ne===null?Ie=un:Ne.sibling=un,Ne=un);return a&&je.forEach(function(Uo){return u(Y,Uo)}),Pt&&ja(Y,$e),Ie}function Ae(Y,H,Z,ye){var Ie=ie(Z);if(typeof Ie!="function")throw Error(n(150));if(Z=Ie.call(Z),Z==null)throw Error(n(151));for(var Ne=Ie=null,je=H,$e=H=0,un=null,et=Z.next();je!==null&&!et.done;$e++,et=Z.next()){je.index>$e?(un=je,je=null):un=je.sibling;var Uo=le(Y,je,et.value,ye);if(Uo===null){je===null&&(je=un);break}a&&je&&Uo.alternate===null&&u(Y,je),H=w(Uo,H,$e),Ne===null?Ie=Uo:Ne.sibling=Uo,Ne=Uo,je=un}if(et.done)return d(Y,je),Pt&&ja(Y,$e),Ie;if(je===null){for(;!et.done;$e++,et=Z.next())et=me(Y,et.value,ye),et!==null&&(H=w(et,H,$e),Ne===null?Ie=et:Ne.sibling=et,Ne=et);return Pt&&ja(Y,$e),Ie}for(je=g(Y,je);!et.done;$e++,et=Z.next())et=be(je,Y,$e,et.value,ye),et!==null&&(a&&et.alternate!==null&&je.delete(et.key===null?$e:et.key),H=w(et,H,$e),Ne===null?Ie=et:Ne.sibling=et,Ne=et);return a&&je.forEach(function(e$){return u(Y,e$)}),Pt&&ja(Y,$e),Ie}function Vt(Y,H,Z,ye){if(typeof Z=="object"&&Z!==null&&Z.type===A&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case k:e:{for(var Ie=Z.key,Ne=H;Ne!==null;){if(Ne.key===Ie){if(Ie=Z.type,Ie===A){if(Ne.tag===7){d(Y,Ne.sibling),H=x(Ne,Z.props.children),H.return=Y,Y=H;break e}}else if(Ne.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===ae&&wE(Ie)===Ne.type){d(Y,Ne.sibling),H=x(Ne,Z.props),H.ref=Yl(Y,Ne,Z),H.return=Y,Y=H;break e}d(Y,Ne);break}else u(Y,Ne);Ne=Ne.sibling}Z.type===A?(H=Fa(Z.props.children,Y.mode,ye,Z.key),H.return=Y,Y=H):(ye=th(Z.type,Z.key,Z.props,null,Y.mode,ye),ye.ref=Yl(Y,H,Z),ye.return=Y,Y=ye)}return M(Y);case N:e:{for(Ne=Z.key;H!==null;){if(H.key===Ne)if(H.tag===4&&H.stateNode.containerInfo===Z.containerInfo&&H.stateNode.implementation===Z.implementation){d(Y,H.sibling),H=x(H,Z.children||[]),H.return=Y,Y=H;break e}else{d(Y,H);break}else u(Y,H);H=H.sibling}H=Ty(Z,Y.mode,ye),H.return=Y,Y=H}return M(Y);case ae:return Ne=Z._init,Vt(Y,H,Ne(Z._payload),ye)}if(vt(Z))return Se(Y,H,Z,ye);if(ie(Z))return Ae(Y,H,Z,ye);kd(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,H!==null&&H.tag===6?(d(Y,H.sibling),H=x(H,Z),H.return=Y,Y=H):(d(Y,H),H=wy(Z,Y.mode,ye),H.return=Y,Y=H),M(Y)):d(Y,H)}return Vt}var eu=TE(!0),EE=TE(!1),Nd=ko(null),jd=null,tu=null,Ng=null;function jg(){Ng=tu=jd=null}function Rg(a){var u=Nd.current;Tt(Nd),a._currentValue=u}function Dg(a,u,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),a===d)break;a=a.return}}function nu(a,u){jd=a,Ng=tu=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&u)!==0&&(Bn=!0),a.firstContext=null)}function dr(a){var u=a._currentValue;if(Ng!==a)if(a={context:a,memoizedValue:u,next:null},tu===null){if(jd===null)throw Error(n(308));tu=a,jd.dependencies={lanes:0,firstContext:a}}else tu=tu.next=a;return u}var Ra=null;function Mg(a){Ra===null?Ra=[a]:Ra.push(a)}function SE(a,u,d,g){var x=u.interleaved;return x===null?(d.next=d,Mg(u)):(d.next=x.next,x.next=d),u.interleaved=d,Fi(a,g)}function Fi(a,u){a.lanes|=u;var d=a.alternate;for(d!==null&&(d.lanes|=u),d=a,a=a.return;a!==null;)a.childLanes|=u,d=a.alternate,d!==null&&(d.childLanes|=u),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Ro=!1;function Lg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AE(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ui(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Do(a,u,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Ze&2)!==0){var x=g.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),g.pending=u,Fi(a,d)}return x=g.interleaved,x===null?(u.next=u,Mg(g)):(u.next=x.next,x.next=u),g.interleaved=u,Fi(a,d)}function Rd(a,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194240)!==0)){var g=u.lanes;g&=a.pendingLanes,d|=g,u.lanes=d,Ol(a,d)}}function IE(a,u){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var x=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var M={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?x=w=M:w=w.next=M,d=d.next}while(d!==null);w===null?x=w=u:w=w.next=u}else x=w=u;d={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:g.shared,effects:g.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=u}function Dd(a,u,d,g){var x=a.updateQueue;Ro=!1;var w=x.firstBaseUpdate,M=x.lastBaseUpdate,U=x.shared.pending;if(U!==null){x.shared.pending=null;var W=U,te=W.next;W.next=null,M===null?w=te:M.next=te,M=W;var de=a.alternate;de!==null&&(de=de.updateQueue,U=de.lastBaseUpdate,U!==M&&(U===null?de.firstBaseUpdate=te:U.next=te,de.lastBaseUpdate=W))}if(w!==null){var me=x.baseState;M=0,de=te=W=null,U=w;do{var le=U.lane,be=U.eventTime;if((g&le)===le){de!==null&&(de=de.next={eventTime:be,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Se=a,Ae=U;switch(le=u,be=d,Ae.tag){case 1:if(Se=Ae.payload,typeof Se=="function"){me=Se.call(be,me,le);break e}me=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ae.payload,le=typeof Se=="function"?Se.call(be,me,le):Se,le==null)break e;me=re({},me,le);break e;case 2:Ro=!0}}U.callback!==null&&U.lane!==0&&(a.flags|=64,le=x.effects,le===null?x.effects=[U]:le.push(U))}else be={eventTime:be,lane:le,tag:U.tag,payload:U.payload,callback:U.callback,next:null},de===null?(te=de=be,W=me):de=de.next=be,M|=le;if(U=U.next,U===null){if(U=x.shared.pending,U===null)break;le=U,U=le.next,le.next=null,x.lastBaseUpdate=le,x.shared.pending=null}}while(!0);if(de===null&&(W=me),x.baseState=W,x.firstBaseUpdate=te,x.lastBaseUpdate=de,u=x.shared.interleaved,u!==null){x=u;do M|=x.lane,x=x.next;while(x!==u)}else w===null&&(x.shared.lanes=0);La|=M,a.lanes=M,a.memoizedState=me}}function PE(a,u,d){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var g=a[u],x=g.callback;if(x!==null){if(g.callback=null,g=d,typeof x!="function")throw Error(n(191,x));x.call(g)}}}var Xl={},si=ko(Xl),Ql=ko(Xl),Jl=ko(Xl);function Da(a){if(a===Xl)throw Error(n(174));return a}function $g(a,u){switch(xt(Jl,u),xt(Ql,a),xt(si,Xl),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Es(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Es(u,a)}Tt(si),xt(si,u)}function ru(){Tt(si),Tt(Ql),Tt(Jl)}function CE(a){Da(Jl.current);var u=Da(si.current),d=Es(u,a.type);u!==d&&(xt(Ql,a),xt(si,d))}function Vg(a){Ql.current===a&&(Tt(si),Tt(Ql))}var Ot=ko(0);function Md(a){for(var u=a;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Bg=[];function Fg(){for(var a=0;a<Bg.length;a++)Bg[a]._workInProgressVersionPrimary=null;Bg.length=0}var Ld=D.ReactCurrentDispatcher,Ug=D.ReactCurrentBatchConfig,Ma=0,kt=null,Yt=null,an=null,$d=!1,Zl=!1,ec=0,w3=0;function En(){throw Error(n(321))}function qg(a,u){if(u===null)return!1;for(var d=0;d<u.length&&d<a.length;d++)if(!Cr(a[d],u[d]))return!1;return!0}function zg(a,u,d,g,x,w){if(Ma=w,kt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Ld.current=a===null||a.memoizedState===null?A3:I3,a=d(g,x),Zl){w=0;do{if(Zl=!1,ec=0,25<=w)throw Error(n(301));w+=1,an=Yt=null,u.updateQueue=null,Ld.current=P3,a=d(g,x)}while(Zl)}if(Ld.current=Fd,u=Yt!==null&&Yt.next!==null,Ma=0,an=Yt=kt=null,$d=!1,u)throw Error(n(300));return a}function Wg(){var a=ec!==0;return ec=0,a}function ui(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?kt.memoizedState=an=a:an=an.next=a,an}function hr(){if(Yt===null){var a=kt.alternate;a=a!==null?a.memoizedState:null}else a=Yt.next;var u=an===null?kt.memoizedState:an.next;if(u!==null)an=u,Yt=a;else{if(a===null)throw Error(n(310));Yt=a,a={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},an===null?kt.memoizedState=an=a:an=an.next=a}return an}function tc(a,u){return typeof u=="function"?u(a):u}function Hg(a){var u=hr(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var g=Yt,x=g.baseQueue,w=d.pending;if(w!==null){if(x!==null){var M=x.next;x.next=w.next,w.next=M}g.baseQueue=x=w,d.pending=null}if(x!==null){w=x.next,g=g.baseState;var U=M=null,W=null,te=w;do{var de=te.lane;if((Ma&de)===de)W!==null&&(W=W.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),g=te.hasEagerState?te.eagerState:a(g,te.action);else{var me={lane:de,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};W===null?(U=W=me,M=g):W=W.next=me,kt.lanes|=de,La|=de}te=te.next}while(te!==null&&te!==w);W===null?M=g:W.next=U,Cr(g,u.memoizedState)||(Bn=!0),u.memoizedState=g,u.baseState=M,u.baseQueue=W,d.lastRenderedState=g}if(a=d.interleaved,a!==null){x=a;do w=x.lane,kt.lanes|=w,La|=w,x=x.next;while(x!==a)}else x===null&&(d.lanes=0);return[u.memoizedState,d.dispatch]}function Gg(a){var u=hr(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var g=d.dispatch,x=d.pending,w=u.memoizedState;if(x!==null){d.pending=null;var M=x=x.next;do w=a(w,M.action),M=M.next;while(M!==x);Cr(w,u.memoizedState)||(Bn=!0),u.memoizedState=w,u.baseQueue===null&&(u.baseState=w),d.lastRenderedState=w}return[w,g]}function OE(){}function kE(a,u){var d=kt,g=hr(),x=u(),w=!Cr(g.memoizedState,x);if(w&&(g.memoizedState=x,Bn=!0),g=g.queue,Kg(RE.bind(null,d,g,a),[a]),g.getSnapshot!==u||w||an!==null&&an.memoizedState.tag&1){if(d.flags|=2048,nc(9,jE.bind(null,d,g,x,u),void 0,null),sn===null)throw Error(n(349));(Ma&30)!==0||NE(d,u,x)}return x}function NE(a,u,d){a.flags|=16384,a={getSnapshot:u,value:d},u=kt.updateQueue,u===null?(u={lastEffect:null,stores:null},kt.updateQueue=u,u.stores=[a]):(d=u.stores,d===null?u.stores=[a]:d.push(a))}function jE(a,u,d,g){u.value=d,u.getSnapshot=g,DE(u)&&ME(a)}function RE(a,u,d){return d(function(){DE(u)&&ME(a)})}function DE(a){var u=a.getSnapshot;a=a.value;try{var d=u();return!Cr(a,d)}catch{return!0}}function ME(a){var u=Fi(a,1);u!==null&&Rr(u,a,1,-1)}function LE(a){var u=ui();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:a},u.queue=a,a=a.dispatch=S3.bind(null,kt,a),[u.memoizedState,a]}function nc(a,u,d,g){return a={tag:a,create:u,destroy:d,deps:g,next:null},u=kt.updateQueue,u===null?(u={lastEffect:null,stores:null},kt.updateQueue=u,u.lastEffect=a.next=a):(d=u.lastEffect,d===null?u.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,u.lastEffect=a)),a}function $E(){return hr().memoizedState}function Vd(a,u,d,g){var x=ui();kt.flags|=a,x.memoizedState=nc(1|u,d,void 0,g===void 0?null:g)}function Bd(a,u,d,g){var x=hr();g=g===void 0?null:g;var w=void 0;if(Yt!==null){var M=Yt.memoizedState;if(w=M.destroy,g!==null&&qg(g,M.deps)){x.memoizedState=nc(u,d,w,g);return}}kt.flags|=a,x.memoizedState=nc(1|u,d,w,g)}function VE(a,u){return Vd(8390656,8,a,u)}function Kg(a,u){return Bd(2048,8,a,u)}function BE(a,u){return Bd(4,2,a,u)}function FE(a,u){return Bd(4,4,a,u)}function UE(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function qE(a,u,d){return d=d!=null?d.concat([a]):null,Bd(4,4,UE.bind(null,u,a),d)}function Yg(){}function zE(a,u){var d=hr();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&qg(u,g[1])?g[0]:(d.memoizedState=[a,u],a)}function WE(a,u){var d=hr();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&qg(u,g[1])?g[0]:(a=a(),d.memoizedState=[a,u],a)}function HE(a,u,d){return(Ma&21)===0?(a.baseState&&(a.baseState=!1,Bn=!0),a.memoizedState=d):(Cr(d,u)||(d=Pl(),kt.lanes|=d,La|=d,a.baseState=!0),u)}function T3(a,u){var d=Qe;Qe=d!==0&&4>d?d:4,a(!0);var g=Ug.transition;Ug.transition={};try{a(!1),u()}finally{Qe=d,Ug.transition=g}}function GE(){return hr().memoizedState}function E3(a,u,d){var g=Vo(a);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},KE(a))YE(u,d);else if(d=SE(a,u,d,g),d!==null){var x=Dn();Rr(d,a,g,x),XE(d,u,g)}}function S3(a,u,d){var g=Vo(a),x={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(KE(a))YE(u,x);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=u.lastRenderedReducer,w!==null))try{var M=u.lastRenderedState,U=w(M,d);if(x.hasEagerState=!0,x.eagerState=U,Cr(U,M)){var W=u.interleaved;W===null?(x.next=x,Mg(u)):(x.next=W.next,W.next=x),u.interleaved=x;return}}catch{}finally{}d=SE(a,u,x,g),d!==null&&(x=Dn(),Rr(d,a,g,x),XE(d,u,g))}}function KE(a){var u=a.alternate;return a===kt||u!==null&&u===kt}function YE(a,u){Zl=$d=!0;var d=a.pending;d===null?u.next=u:(u.next=d.next,d.next=u),a.pending=u}function XE(a,u,d){if((d&4194240)!==0){var g=u.lanes;g&=a.pendingLanes,d|=g,u.lanes=d,Ol(a,d)}}var Fd={readContext:dr,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},A3={readContext:dr,useCallback:function(a,u){return ui().memoizedState=[a,u===void 0?null:u],a},useContext:dr,useEffect:VE,useImperativeHandle:function(a,u,d){return d=d!=null?d.concat([a]):null,Vd(4194308,4,UE.bind(null,u,a),d)},useLayoutEffect:function(a,u){return Vd(4194308,4,a,u)},useInsertionEffect:function(a,u){return Vd(4,2,a,u)},useMemo:function(a,u){var d=ui();return u=u===void 0?null:u,a=a(),d.memoizedState=[a,u],a},useReducer:function(a,u,d){var g=ui();return u=d!==void 0?d(u):u,g.memoizedState=g.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},g.queue=a,a=a.dispatch=E3.bind(null,kt,a),[g.memoizedState,a]},useRef:function(a){var u=ui();return a={current:a},u.memoizedState=a},useState:LE,useDebugValue:Yg,useDeferredValue:function(a){return ui().memoizedState=a},useTransition:function(){var a=LE(!1),u=a[0];return a=T3.bind(null,a[1]),ui().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,d){var g=kt,x=ui();if(Pt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=u(),sn===null)throw Error(n(349));(Ma&30)!==0||NE(g,u,d)}x.memoizedState=d;var w={value:d,getSnapshot:u};return x.queue=w,VE(RE.bind(null,g,w,a),[a]),g.flags|=2048,nc(9,jE.bind(null,g,w,d,u),void 0,null),d},useId:function(){var a=ui(),u=sn.identifierPrefix;if(Pt){var d=Bi,g=Vi;d=(g&~(1<<32-Xn(g)-1)).toString(32)+d,u=":"+u+"R"+d,d=ec++,0<d&&(u+="H"+d.toString(32)),u+=":"}else d=w3++,u=":"+u+"r"+d.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},I3={readContext:dr,useCallback:zE,useContext:dr,useEffect:Kg,useImperativeHandle:qE,useInsertionEffect:BE,useLayoutEffect:FE,useMemo:WE,useReducer:Hg,useRef:$E,useState:function(){return Hg(tc)},useDebugValue:Yg,useDeferredValue:function(a){var u=hr();return HE(u,Yt.memoizedState,a)},useTransition:function(){var a=Hg(tc)[0],u=hr().memoizedState;return[a,u]},useMutableSource:OE,useSyncExternalStore:kE,useId:GE,unstable_isNewReconciler:!1},P3={readContext:dr,useCallback:zE,useContext:dr,useEffect:Kg,useImperativeHandle:qE,useInsertionEffect:BE,useLayoutEffect:FE,useMemo:WE,useReducer:Gg,useRef:$E,useState:function(){return Gg(tc)},useDebugValue:Yg,useDeferredValue:function(a){var u=hr();return Yt===null?u.memoizedState=a:HE(u,Yt.memoizedState,a)},useTransition:function(){var a=Gg(tc)[0],u=hr().memoizedState;return[a,u]},useMutableSource:OE,useSyncExternalStore:kE,useId:GE,unstable_isNewReconciler:!1};function kr(a,u){if(a&&a.defaultProps){u=re({},u),a=a.defaultProps;for(var d in a)u[d]===void 0&&(u[d]=a[d]);return u}return u}function Xg(a,u,d,g){u=a.memoizedState,d=d(g,u),d=d==null?u:re({},u,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Ud={isMounted:function(a){return(a=a._reactInternals)?Ir(a)===a:!1},enqueueSetState:function(a,u,d){a=a._reactInternals;var g=Dn(),x=Vo(a),w=Ui(g,x);w.payload=u,d!=null&&(w.callback=d),u=Do(a,w,x),u!==null&&(Rr(u,a,x,g),Rd(u,a,x))},enqueueReplaceState:function(a,u,d){a=a._reactInternals;var g=Dn(),x=Vo(a),w=Ui(g,x);w.tag=1,w.payload=u,d!=null&&(w.callback=d),u=Do(a,w,x),u!==null&&(Rr(u,a,x,g),Rd(u,a,x))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var d=Dn(),g=Vo(a),x=Ui(d,g);x.tag=2,u!=null&&(x.callback=u),u=Do(a,x,g),u!==null&&(Rr(u,a,g,d),Rd(u,a,g))}};function QE(a,u,d,g,x,w,M){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,w,M):u.prototype&&u.prototype.isPureReactComponent?!Ul(d,g)||!Ul(x,w):!0}function JE(a,u,d){var g=!1,x=No,w=u.contextType;return typeof w=="object"&&w!==null?w=dr(w):(x=Vn(u)?ka:Tn.current,g=u.contextTypes,w=(g=g!=null)?Xs(a,x):No),u=new u(d,w),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ud,a.stateNode=u,u._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=x,a.__reactInternalMemoizedMaskedChildContext=w),u}function ZE(a,u,d,g){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==a&&Ud.enqueueReplaceState(u,u.state,null)}function Qg(a,u,d,g){var x=a.stateNode;x.props=d,x.state=a.memoizedState,x.refs={},Lg(a);var w=u.contextType;typeof w=="object"&&w!==null?x.context=dr(w):(w=Vn(u)?ka:Tn.current,x.context=Xs(a,w)),x.state=a.memoizedState,w=u.getDerivedStateFromProps,typeof w=="function"&&(Xg(a,u,w,d),x.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(u=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),u!==x.state&&Ud.enqueueReplaceState(x,x.state,null),Dd(a,d,x,g),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308)}function iu(a,u){try{var d="",g=u;do d+=Ce(g),g=g.return;while(g);var x=d}catch(w){x=`
Error generating stack: `+w.message+`
`+w.stack}return{value:a,source:u,stack:x,digest:null}}function Jg(a,u,d){return{value:a,source:null,stack:d??null,digest:u??null}}function Zg(a,u){try{console.error(u.value)}catch(d){setTimeout(function(){throw d})}}var C3=typeof WeakMap=="function"?WeakMap:Map;function eS(a,u,d){d=Ui(-1,d),d.tag=3,d.payload={element:null};var g=u.value;return d.callback=function(){Yd||(Yd=!0,py=g),Zg(a,u)},d}function tS(a,u,d){d=Ui(-1,d),d.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var x=u.value;d.payload=function(){return g(x)},d.callback=function(){Zg(a,u)}}var w=a.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){Zg(a,u),typeof g!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})}),d}function nS(a,u,d){var g=a.pingCache;if(g===null){g=a.pingCache=new C3;var x=new Set;g.set(u,x)}else x=g.get(u),x===void 0&&(x=new Set,g.set(u,x));x.has(d)||(x.add(d),a=q3.bind(null,a,u,d),u.then(a,a))}function rS(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function iS(a,u,d,g,x){return(a.mode&1)===0?(a===u?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(u=Ui(-1,1),u.tag=2,Do(d,u,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=x,a)}var O3=D.ReactCurrentOwner,Bn=!1;function Rn(a,u,d,g){u.child=a===null?EE(u,null,d,g):eu(u,a.child,d,g)}function oS(a,u,d,g,x){d=d.render;var w=u.ref;return nu(u,x),g=zg(a,u,d,g,w,x),d=Wg(),a!==null&&!Bn?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~x,qi(a,u,x)):(Pt&&d&&Ig(u),u.flags|=1,Rn(a,u,g,x),u.child)}function aS(a,u,d,g,x){if(a===null){var w=d.type;return typeof w=="function"&&!_y(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(u.tag=15,u.type=w,sS(a,u,w,g,x)):(a=th(d.type,null,g,u,u.mode,x),a.ref=u.ref,a.return=u,u.child=a)}if(w=a.child,(a.lanes&x)===0){var M=w.memoizedProps;if(d=d.compare,d=d!==null?d:Ul,d(M,g)&&a.ref===u.ref)return qi(a,u,x)}return u.flags|=1,a=Fo(w,g),a.ref=u.ref,a.return=u,u.child=a}function sS(a,u,d,g,x){if(a!==null){var w=a.memoizedProps;if(Ul(w,g)&&a.ref===u.ref)if(Bn=!1,u.pendingProps=g=w,(a.lanes&x)!==0)(a.flags&131072)!==0&&(Bn=!0);else return u.lanes=a.lanes,qi(a,u,x)}return ey(a,u,d,g,x)}function uS(a,u,d){var g=u.pendingProps,x=g.children,w=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(au,rr),rr|=d;else{if((d&1073741824)===0)return a=w!==null?w.baseLanes|d:d,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,xt(au,rr),rr|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=w!==null?w.baseLanes:d,xt(au,rr),rr|=g}else w!==null?(g=w.baseLanes|d,u.memoizedState=null):g=d,xt(au,rr),rr|=g;return Rn(a,u,x,d),u.child}function lS(a,u){var d=u.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(u.flags|=512,u.flags|=2097152)}function ey(a,u,d,g,x){var w=Vn(d)?ka:Tn.current;return w=Xs(u,w),nu(u,x),d=zg(a,u,d,g,w,x),g=Wg(),a!==null&&!Bn?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~x,qi(a,u,x)):(Pt&&g&&Ig(u),u.flags|=1,Rn(a,u,d,x),u.child)}function cS(a,u,d,g,x){if(Vn(d)){var w=!0;Ad(u)}else w=!1;if(nu(u,x),u.stateNode===null)zd(a,u),JE(u,d,g),Qg(u,d,g,x),g=!0;else if(a===null){var M=u.stateNode,U=u.memoizedProps;M.props=U;var W=M.context,te=d.contextType;typeof te=="object"&&te!==null?te=dr(te):(te=Vn(d)?ka:Tn.current,te=Xs(u,te));var de=d.getDerivedStateFromProps,me=typeof de=="function"||typeof M.getSnapshotBeforeUpdate=="function";me||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(U!==g||W!==te)&&ZE(u,M,g,te),Ro=!1;var le=u.memoizedState;M.state=le,Dd(u,g,M,x),W=u.memoizedState,U!==g||le!==W||$n.current||Ro?(typeof de=="function"&&(Xg(u,d,de,g),W=u.memoizedState),(U=Ro||QE(u,d,U,g,le,W,te))?(me||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(u.flags|=4194308)):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=W),M.props=g,M.state=W,M.context=te,g=U):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{M=u.stateNode,AE(a,u),U=u.memoizedProps,te=u.type===u.elementType?U:kr(u.type,U),M.props=te,me=u.pendingProps,le=M.context,W=d.contextType,typeof W=="object"&&W!==null?W=dr(W):(W=Vn(d)?ka:Tn.current,W=Xs(u,W));var be=d.getDerivedStateFromProps;(de=typeof be=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(U!==me||le!==W)&&ZE(u,M,g,W),Ro=!1,le=u.memoizedState,M.state=le,Dd(u,g,M,x);var Se=u.memoizedState;U!==me||le!==Se||$n.current||Ro?(typeof be=="function"&&(Xg(u,d,be,g),Se=u.memoizedState),(te=Ro||QE(u,d,te,g,le,Se,W)||!1)?(de||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(g,Se,W),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(g,Se,W)),typeof M.componentDidUpdate=="function"&&(u.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof M.componentDidUpdate!="function"||U===a.memoizedProps&&le===a.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&le===a.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=Se),M.props=g,M.state=Se,M.context=W,g=te):(typeof M.componentDidUpdate!="function"||U===a.memoizedProps&&le===a.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&le===a.memoizedState||(u.flags|=1024),g=!1)}return ty(a,u,d,g,w,x)}function ty(a,u,d,g,x,w){lS(a,u);var M=(u.flags&128)!==0;if(!g&&!M)return x&&mE(u,d,!1),qi(a,u,w);g=u.stateNode,O3.current=u;var U=M&&typeof d.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,a!==null&&M?(u.child=eu(u,a.child,null,w),u.child=eu(u,null,U,w)):Rn(a,u,U,w),u.memoizedState=g.state,x&&mE(u,d,!0),u.child}function fS(a){var u=a.stateNode;u.pendingContext?hE(a,u.pendingContext,u.pendingContext!==u.context):u.context&&hE(a,u.context,!1),$g(a,u.containerInfo)}function dS(a,u,d,g,x){return Zs(),kg(x),u.flags|=256,Rn(a,u,d,g),u.child}var ny={dehydrated:null,treeContext:null,retryLane:0};function ry(a){return{baseLanes:a,cachePool:null,transitions:null}}function hS(a,u,d){var g=u.pendingProps,x=Ot.current,w=!1,M=(u.flags&128)!==0,U;if((U=M)||(U=a!==null&&a.memoizedState===null?!1:(x&2)!==0),U?(w=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(x|=1),xt(Ot,x&1),a===null)return Og(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((u.mode&1)===0?u.lanes=1:a.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(M=g.children,a=g.fallback,w?(g=u.mode,w=u.child,M={mode:"hidden",children:M},(g&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=M):w=nh(M,g,0,null),a=Fa(a,g,d,null),w.return=u,a.return=u,w.sibling=a,u.child=w,u.child.memoizedState=ry(d),u.memoizedState=ny,a):iy(u,M));if(x=a.memoizedState,x!==null&&(U=x.dehydrated,U!==null))return k3(a,u,M,g,U,x,d);if(w){w=g.fallback,M=u.mode,x=a.child,U=x.sibling;var W={mode:"hidden",children:g.children};return(M&1)===0&&u.child!==x?(g=u.child,g.childLanes=0,g.pendingProps=W,u.deletions=null):(g=Fo(x,W),g.subtreeFlags=x.subtreeFlags&14680064),U!==null?w=Fo(U,w):(w=Fa(w,M,d,null),w.flags|=2),w.return=u,g.return=u,g.sibling=w,u.child=g,g=w,w=u.child,M=a.child.memoizedState,M=M===null?ry(d):{baseLanes:M.baseLanes|d,cachePool:null,transitions:M.transitions},w.memoizedState=M,w.childLanes=a.childLanes&~d,u.memoizedState=ny,g}return w=a.child,a=w.sibling,g=Fo(w,{mode:"visible",children:g.children}),(u.mode&1)===0&&(g.lanes=d),g.return=u,g.sibling=null,a!==null&&(d=u.deletions,d===null?(u.deletions=[a],u.flags|=16):d.push(a)),u.child=g,u.memoizedState=null,g}function iy(a,u){return u=nh({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function qd(a,u,d,g){return g!==null&&kg(g),eu(u,a.child,null,d),a=iy(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function k3(a,u,d,g,x,w,M){if(d)return u.flags&256?(u.flags&=-257,g=Jg(Error(n(422))),qd(a,u,M,g)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(w=g.fallback,x=u.mode,g=nh({mode:"visible",children:g.children},x,0,null),w=Fa(w,x,M,null),w.flags|=2,g.return=u,w.return=u,g.sibling=w,u.child=g,(u.mode&1)!==0&&eu(u,a.child,null,M),u.child.memoizedState=ry(M),u.memoizedState=ny,w);if((u.mode&1)===0)return qd(a,u,M,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var U=g.dgst;return g=U,w=Error(n(419)),g=Jg(w,g,void 0),qd(a,u,M,g)}if(U=(M&a.childLanes)!==0,Bn||U){if(g=sn,g!==null){switch(M&-M){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|M))!==0?0:x,x!==0&&x!==w.retryLane&&(w.retryLane=x,Fi(a,x),Rr(g,a,x,-1))}return by(),g=Jg(Error(n(421))),qd(a,u,M,g)}return x.data==="$?"?(u.flags|=128,u.child=a.child,u=z3.bind(null,a),x._reactRetry=u,null):(a=w.treeContext,nr=Oo(x.nextSibling),tr=u,Pt=!0,Or=null,a!==null&&(cr[fr++]=Vi,cr[fr++]=Bi,cr[fr++]=Na,Vi=a.id,Bi=a.overflow,Na=u),u=iy(u,g.children),u.flags|=4096,u)}function pS(a,u,d){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u),Dg(a.return,u,d)}function oy(a,u,d,g,x){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:x}:(w.isBackwards=u,w.rendering=null,w.renderingStartTime=0,w.last=g,w.tail=d,w.tailMode=x)}function mS(a,u,d){var g=u.pendingProps,x=g.revealOrder,w=g.tail;if(Rn(a,u,g.children,d),g=Ot.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&pS(a,d,u);else if(a.tag===19)pS(a,d,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(xt(Ot,g),(u.mode&1)===0)u.memoizedState=null;else switch(x){case"forwards":for(d=u.child,x=null;d!==null;)a=d.alternate,a!==null&&Md(a)===null&&(x=d),d=d.sibling;d=x,d===null?(x=u.child,u.child=null):(x=d.sibling,d.sibling=null),oy(u,!1,x,d,w);break;case"backwards":for(d=null,x=u.child,u.child=null;x!==null;){if(a=x.alternate,a!==null&&Md(a)===null){u.child=x;break}a=x.sibling,x.sibling=d,d=x,x=a}oy(u,!0,d,null,w);break;case"together":oy(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function zd(a,u){(u.mode&1)===0&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function qi(a,u,d){if(a!==null&&(u.dependencies=a.dependencies),La|=u.lanes,(d&u.childLanes)===0)return null;if(a!==null&&u.child!==a.child)throw Error(n(153));if(u.child!==null){for(a=u.child,d=Fo(a,a.pendingProps),u.child=d,d.return=u;a.sibling!==null;)a=a.sibling,d=d.sibling=Fo(a,a.pendingProps),d.return=u;d.sibling=null}return u.child}function N3(a,u,d){switch(u.tag){case 3:fS(u),Zs();break;case 5:CE(u);break;case 1:Vn(u.type)&&Ad(u);break;case 4:$g(u,u.stateNode.containerInfo);break;case 10:var g=u.type._context,x=u.memoizedProps.value;xt(Nd,g._currentValue),g._currentValue=x;break;case 13:if(g=u.memoizedState,g!==null)return g.dehydrated!==null?(xt(Ot,Ot.current&1),u.flags|=128,null):(d&u.child.childLanes)!==0?hS(a,u,d):(xt(Ot,Ot.current&1),a=qi(a,u,d),a!==null?a.sibling:null);xt(Ot,Ot.current&1);break;case 19:if(g=(d&u.childLanes)!==0,(a.flags&128)!==0){if(g)return mS(a,u,d);u.flags|=128}if(x=u.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),xt(Ot,Ot.current),g)break;return null;case 22:case 23:return u.lanes=0,uS(a,u,d)}return qi(a,u,d)}var gS,ay,yS,vS;gS=function(a,u){for(var d=u.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},ay=function(){},yS=function(a,u,d,g){var x=a.memoizedProps;if(x!==g){a=u.stateNode,Da(si.current);var w=null;switch(d){case"input":x=ze(a,x),g=ze(a,g),w=[];break;case"select":x=re({},x,{value:void 0}),g=re({},g,{value:void 0}),w=[];break;case"textarea":x=Kn(a,x),g=Kn(a,g),w=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=Td)}Ar(d,g);var M;d=null;for(te in x)if(!g.hasOwnProperty(te)&&x.hasOwnProperty(te)&&x[te]!=null)if(te==="style"){var U=x[te];for(M in U)U.hasOwnProperty(M)&&(d||(d={}),d[M]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(i.hasOwnProperty(te)?w||(w=[]):(w=w||[]).push(te,null));for(te in g){var W=g[te];if(U=x!=null?x[te]:void 0,g.hasOwnProperty(te)&&W!==U&&(W!=null||U!=null))if(te==="style")if(U){for(M in U)!U.hasOwnProperty(M)||W&&W.hasOwnProperty(M)||(d||(d={}),d[M]="");for(M in W)W.hasOwnProperty(M)&&U[M]!==W[M]&&(d||(d={}),d[M]=W[M])}else d||(w||(w=[]),w.push(te,d)),d=W;else te==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,U=U?U.__html:void 0,W!=null&&U!==W&&(w=w||[]).push(te,W)):te==="children"?typeof W!="string"&&typeof W!="number"||(w=w||[]).push(te,""+W):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(i.hasOwnProperty(te)?(W!=null&&te==="onScroll"&&wt("scroll",a),w||U===W||(w=[])):(w=w||[]).push(te,W))}d&&(w=w||[]).push("style",d);var te=w;(u.updateQueue=te)&&(u.flags|=4)}},vS=function(a,u,d,g){d!==g&&(u.flags|=4)};function rc(a,u){if(!Pt)switch(a.tailMode){case"hidden":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Sn(a){var u=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(u)for(var x=a.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=g,a.childLanes=d,u}function j3(a,u,d){var g=u.pendingProps;switch(Pg(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(u),null;case 1:return Vn(u.type)&&Sd(),Sn(u),null;case 3:return g=u.stateNode,ru(),Tt($n),Tt(Tn),Fg(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Od(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Or!==null&&(yy(Or),Or=null))),ay(a,u),Sn(u),null;case 5:Vg(u);var x=Da(Jl.current);if(d=u.type,a!==null&&u.stateNode!=null)yS(a,u,d,g,x),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(n(166));return Sn(u),null}if(a=Da(si.current),Od(u)){g=u.stateNode,d=u.type;var w=u.memoizedProps;switch(g[ai]=u,g[Gl]=w,a=(u.mode&1)!==0,d){case"dialog":wt("cancel",g),wt("close",g);break;case"iframe":case"object":case"embed":wt("load",g);break;case"video":case"audio":for(x=0;x<zl.length;x++)wt(zl[x],g);break;case"source":wt("error",g);break;case"img":case"image":case"link":wt("error",g),wt("load",g);break;case"details":wt("toggle",g);break;case"input":It(g,w),wt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!w.multiple},wt("invalid",g);break;case"textarea":Ai(g,w),wt("invalid",g)}Ar(d,w),x=null;for(var M in w)if(w.hasOwnProperty(M)){var U=w[M];M==="children"?typeof U=="string"?g.textContent!==U&&(w.suppressHydrationWarning!==!0&&wd(g.textContent,U,a),x=["children",U]):typeof U=="number"&&g.textContent!==""+U&&(w.suppressHydrationWarning!==!0&&wd(g.textContent,U,a),x=["children",""+U]):i.hasOwnProperty(M)&&U!=null&&M==="onScroll"&&wt("scroll",g)}switch(d){case"input":Be(g),Ln(g,w,!0);break;case"textarea":Be(g),Sr(g);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(g.onclick=Td)}g=x,u.updateQueue=g,g!==null&&(u.flags|=4)}else{M=x.nodeType===9?x:x.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=xl(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=M.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=M.createElement(d,{is:g.is}):(a=M.createElement(d),d==="select"&&(M=a,g.multiple?M.multiple=!0:g.size&&(M.size=g.size))):a=M.createElementNS(a,d),a[ai]=u,a[Gl]=g,gS(a,u,!1,!1),u.stateNode=a;e:{switch(M=As(d,g),d){case"dialog":wt("cancel",a),wt("close",a),x=g;break;case"iframe":case"object":case"embed":wt("load",a),x=g;break;case"video":case"audio":for(x=0;x<zl.length;x++)wt(zl[x],a);x=g;break;case"source":wt("error",a),x=g;break;case"img":case"image":case"link":wt("error",a),wt("load",a),x=g;break;case"details":wt("toggle",a),x=g;break;case"input":It(a,g),x=ze(a,g),wt("invalid",a);break;case"option":x=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},x=re({},g,{value:void 0}),wt("invalid",a);break;case"textarea":Ai(a,g),x=Kn(a,g),wt("invalid",a);break;default:x=g}Ar(d,x),U=x;for(w in U)if(U.hasOwnProperty(w)){var W=U[w];w==="style"?Ss(a,W):w==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&Xf(a,W)):w==="children"?typeof W=="string"?(d!=="textarea"||W!=="")&&ga(a,W):typeof W=="number"&&ga(a,""+W):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?W!=null&&w==="onScroll"&&wt("scroll",a):W!=null&&R(a,w,W,M))}switch(d){case"input":Be(a),Ln(a,g,!1);break;case"textarea":Be(a),Sr(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Le(g.value));break;case"select":a.multiple=!!g.multiple,w=g.value,w!=null?Kt(a,!!g.multiple,w,!1):g.defaultValue!=null&&Kt(a,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(a.onclick=Td)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Sn(u),null;case 6:if(a&&u.stateNode!=null)vS(a,u,a.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(n(166));if(d=Da(Jl.current),Da(si.current),Od(u)){if(g=u.stateNode,d=u.memoizedProps,g[ai]=u,(w=g.nodeValue!==d)&&(a=tr,a!==null))switch(a.tag){case 3:wd(g.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&wd(g.nodeValue,d,(a.mode&1)!==0)}w&&(u.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[ai]=u,u.stateNode=g}return Sn(u),null;case 13:if(Tt(Ot),g=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Pt&&nr!==null&&(u.mode&1)!==0&&(u.flags&128)===0)_E(),Zs(),u.flags|=98560,w=!1;else if(w=Od(u),g!==null&&g.dehydrated!==null){if(a===null){if(!w)throw Error(n(318));if(w=u.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[ai]=u}else Zs(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Sn(u),w=!1}else Or!==null&&(yy(Or),Or=null),w=!0;if(!w)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=d,u):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(u.child.flags|=8192,(u.mode&1)!==0&&(a===null||(Ot.current&1)!==0?Xt===0&&(Xt=3):by())),u.updateQueue!==null&&(u.flags|=4),Sn(u),null);case 4:return ru(),ay(a,u),a===null&&Wl(u.stateNode.containerInfo),Sn(u),null;case 10:return Rg(u.type._context),Sn(u),null;case 17:return Vn(u.type)&&Sd(),Sn(u),null;case 19:if(Tt(Ot),w=u.memoizedState,w===null)return Sn(u),null;if(g=(u.flags&128)!==0,M=w.rendering,M===null)if(g)rc(w,!1);else{if(Xt!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(M=Md(a),M!==null){for(u.flags|=128,rc(w,!1),g=M.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),u.subtreeFlags=0,g=d,d=u.child;d!==null;)w=d,a=g,w.flags&=14680066,M=w.alternate,M===null?(w.childLanes=0,w.lanes=a,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=M.childLanes,w.lanes=M.lanes,w.child=M.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=M.memoizedProps,w.memoizedState=M.memoizedState,w.updateQueue=M.updateQueue,w.type=M.type,a=M.dependencies,w.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return xt(Ot,Ot.current&1|2),u.child}a=a.sibling}w.tail!==null&&_t()>su&&(u.flags|=128,g=!0,rc(w,!1),u.lanes=4194304)}else{if(!g)if(a=Md(M),a!==null){if(u.flags|=128,g=!0,d=a.updateQueue,d!==null&&(u.updateQueue=d,u.flags|=4),rc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!M.alternate&&!Pt)return Sn(u),null}else 2*_t()-w.renderingStartTime>su&&d!==1073741824&&(u.flags|=128,g=!0,rc(w,!1),u.lanes=4194304);w.isBackwards?(M.sibling=u.child,u.child=M):(d=w.last,d!==null?d.sibling=M:u.child=M,w.last=M)}return w.tail!==null?(u=w.tail,w.rendering=u,w.tail=u.sibling,w.renderingStartTime=_t(),u.sibling=null,d=Ot.current,xt(Ot,g?d&1|2:d&1),u):(Sn(u),null);case 22:case 23:return xy(),g=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(u.flags|=8192),g&&(u.mode&1)!==0?(rr&1073741824)!==0&&(Sn(u),u.subtreeFlags&6&&(u.flags|=8192)):Sn(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function R3(a,u){switch(Pg(u),u.tag){case 1:return Vn(u.type)&&Sd(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return ru(),Tt($n),Tt(Tn),Fg(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 5:return Vg(u),null;case 13:if(Tt(Ot),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Zs()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return Tt(Ot),null;case 4:return ru(),null;case 10:return Rg(u.type._context),null;case 22:case 23:return xy(),null;case 24:return null;default:return null}}var Wd=!1,An=!1,D3=typeof WeakSet=="function"?WeakSet:Set,Te=null;function ou(a,u){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Mt(a,u,g)}else d.current=null}function sy(a,u,d){try{d()}catch(g){Mt(a,u,g)}}var xS=!1;function M3(a,u){if(xg=Ri,a=QT(),fg(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var x=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var M=0,U=-1,W=-1,te=0,de=0,me=a,le=null;t:for(;;){for(var be;me!==d||x!==0&&me.nodeType!==3||(U=M+x),me!==w||g!==0&&me.nodeType!==3||(W=M+g),me.nodeType===3&&(M+=me.nodeValue.length),(be=me.firstChild)!==null;)le=me,me=be;for(;;){if(me===a)break t;if(le===d&&++te===x&&(U=M),le===w&&++de===g&&(W=M),(be=me.nextSibling)!==null)break;me=le,le=me.parentNode}me=be}d=U===-1||W===-1?null:{start:U,end:W}}else d=null}d=d||{start:0,end:0}}else d=null;for(bg={focusedElem:a,selectionRange:d},Ri=!1,Te=u;Te!==null;)if(u=Te,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Te=a;else for(;Te!==null;){u=Te;try{var Se=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ae=Se.memoizedProps,Vt=Se.memoizedState,Y=u.stateNode,H=Y.getSnapshotBeforeUpdate(u.elementType===u.type?Ae:kr(u.type,Ae),Vt);Y.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Z=u.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ye){Mt(u,u.return,ye)}if(a=u.sibling,a!==null){a.return=u.return,Te=a;break}Te=u.return}return Se=xS,xS=!1,Se}function ic(a,u,d){var g=u.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&a)===a){var w=x.destroy;x.destroy=void 0,w!==void 0&&sy(u,d,w)}x=x.next}while(x!==g)}}function Hd(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&a)===a){var g=d.create;d.destroy=g()}d=d.next}while(d!==u)}}function uy(a){var u=a.ref;if(u!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof u=="function"?u(a):u.current=a}}function bS(a){var u=a.alternate;u!==null&&(a.alternate=null,bS(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[ai],delete u[Gl],delete u[Eg],delete u[v3],delete u[x3])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function _S(a){return a.tag===5||a.tag===3||a.tag===4}function wS(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||_S(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ly(a,u,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?d.nodeType===8?d.parentNode.insertBefore(a,u):d.insertBefore(a,u):(d.nodeType===8?(u=d.parentNode,u.insertBefore(a,d)):(u=d,u.appendChild(a)),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Td));else if(g!==4&&(a=a.child,a!==null))for(ly(a,u,d),a=a.sibling;a!==null;)ly(a,u,d),a=a.sibling}function cy(a,u,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?d.insertBefore(a,u):d.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(cy(a,u,d),a=a.sibling;a!==null;)cy(a,u,d),a=a.sibling}var mn=null,Nr=!1;function Mo(a,u,d){for(d=d.child;d!==null;)TS(a,u,d),d=d.sibling}function TS(a,u,d){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(_a,d)}catch{}switch(d.tag){case 5:An||ou(d,u);case 6:var g=mn,x=Nr;mn=null,Mo(a,u,d),mn=g,Nr=x,mn!==null&&(Nr?(a=mn,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):mn.removeChild(d.stateNode));break;case 18:mn!==null&&(Nr?(a=mn,d=d.stateNode,a.nodeType===8?Tg(a.parentNode,d):a.nodeType===1&&Tg(a,d),Ao(a)):Tg(mn,d.stateNode));break;case 4:g=mn,x=Nr,mn=d.stateNode.containerInfo,Nr=!0,Mo(a,u,d),mn=g,Nr=x;break;case 0:case 11:case 14:case 15:if(!An&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var w=x,M=w.destroy;w=w.tag,M!==void 0&&((w&2)!==0||(w&4)!==0)&&sy(d,u,M),x=x.next}while(x!==g)}Mo(a,u,d);break;case 1:if(!An&&(ou(d,u),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(U){Mt(d,u,U)}Mo(a,u,d);break;case 21:Mo(a,u,d);break;case 22:d.mode&1?(An=(g=An)||d.memoizedState!==null,Mo(a,u,d),An=g):Mo(a,u,d);break;default:Mo(a,u,d)}}function ES(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new D3),u.forEach(function(g){var x=W3.bind(null,a,g);d.has(g)||(d.add(g),g.then(x,x))})}}function jr(a,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var x=d[g];try{var w=a,M=u,U=M;e:for(;U!==null;){switch(U.tag){case 5:mn=U.stateNode,Nr=!1;break e;case 3:mn=U.stateNode.containerInfo,Nr=!0;break e;case 4:mn=U.stateNode.containerInfo,Nr=!0;break e}U=U.return}if(mn===null)throw Error(n(160));TS(w,M,x),mn=null,Nr=!1;var W=x.alternate;W!==null&&(W.return=null),x.return=null}catch(te){Mt(x,u,te)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)SS(u,a),u=u.sibling}function SS(a,u){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(jr(u,a),li(a),g&4){try{ic(3,a,a.return),Hd(3,a)}catch(Ae){Mt(a,a.return,Ae)}try{ic(5,a,a.return)}catch(Ae){Mt(a,a.return,Ae)}}break;case 1:jr(u,a),li(a),g&512&&d!==null&&ou(d,d.return);break;case 5:if(jr(u,a),li(a),g&512&&d!==null&&ou(d,d.return),a.flags&32){var x=a.stateNode;try{ga(x,"")}catch(Ae){Mt(a,a.return,Ae)}}if(g&4&&(x=a.stateNode,x!=null)){var w=a.memoizedProps,M=d!==null?d.memoizedProps:w,U=a.type,W=a.updateQueue;if(a.updateQueue=null,W!==null)try{U==="input"&&w.type==="radio"&&w.name!=null&&yt(x,w),As(U,M);var te=As(U,w);for(M=0;M<W.length;M+=2){var de=W[M],me=W[M+1];de==="style"?Ss(x,me):de==="dangerouslySetInnerHTML"?Xf(x,me):de==="children"?ga(x,me):R(x,de,me,te)}switch(U){case"input":Rt(x,w);break;case"textarea":ma(x,w);break;case"select":var le=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!w.multiple;var be=w.value;be!=null?Kt(x,!!w.multiple,be,!1):le!==!!w.multiple&&(w.defaultValue!=null?Kt(x,!!w.multiple,w.defaultValue,!0):Kt(x,!!w.multiple,w.multiple?[]:"",!1))}x[Gl]=w}catch(Ae){Mt(a,a.return,Ae)}}break;case 6:if(jr(u,a),li(a),g&4){if(a.stateNode===null)throw Error(n(162));x=a.stateNode,w=a.memoizedProps;try{x.nodeValue=w}catch(Ae){Mt(a,a.return,Ae)}}break;case 3:if(jr(u,a),li(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Ao(u.containerInfo)}catch(Ae){Mt(a,a.return,Ae)}break;case 4:jr(u,a),li(a);break;case 13:jr(u,a),li(a),x=a.child,x.flags&8192&&(w=x.memoizedState!==null,x.stateNode.isHidden=w,!w||x.alternate!==null&&x.alternate.memoizedState!==null||(hy=_t())),g&4&&ES(a);break;case 22:if(de=d!==null&&d.memoizedState!==null,a.mode&1?(An=(te=An)||de,jr(u,a),An=te):jr(u,a),li(a),g&8192){if(te=a.memoizedState!==null,(a.stateNode.isHidden=te)&&!de&&(a.mode&1)!==0)for(Te=a,de=a.child;de!==null;){for(me=Te=de;Te!==null;){switch(le=Te,be=le.child,le.tag){case 0:case 11:case 14:case 15:ic(4,le,le.return);break;case 1:ou(le,le.return);var Se=le.stateNode;if(typeof Se.componentWillUnmount=="function"){g=le,d=le.return;try{u=g,Se.props=u.memoizedProps,Se.state=u.memoizedState,Se.componentWillUnmount()}catch(Ae){Mt(g,d,Ae)}}break;case 5:ou(le,le.return);break;case 22:if(le.memoizedState!==null){PS(me);continue}}be!==null?(be.return=le,Te=be):PS(me)}de=de.sibling}e:for(de=null,me=a;;){if(me.tag===5){if(de===null){de=me;try{x=me.stateNode,te?(w=x.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(U=me.stateNode,W=me.memoizedProps.style,M=W!=null&&W.hasOwnProperty("display")?W.display:null,U.style.display=yo("display",M))}catch(Ae){Mt(a,a.return,Ae)}}}else if(me.tag===6){if(de===null)try{me.stateNode.nodeValue=te?"":me.memoizedProps}catch(Ae){Mt(a,a.return,Ae)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===a)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===a)break e;for(;me.sibling===null;){if(me.return===null||me.return===a)break e;de===me&&(de=null),me=me.return}de===me&&(de=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:jr(u,a),li(a),g&4&&ES(a);break;case 21:break;default:jr(u,a),li(a)}}function li(a){var u=a.flags;if(u&2){try{e:{for(var d=a.return;d!==null;){if(_S(d)){var g=d;break e}d=d.return}throw Error(n(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(ga(x,""),g.flags&=-33);var w=wS(a);cy(a,w,x);break;case 3:case 4:var M=g.stateNode.containerInfo,U=wS(a);ly(a,U,M);break;default:throw Error(n(161))}}catch(W){Mt(a,a.return,W)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function L3(a,u,d){Te=a,AS(a)}function AS(a,u,d){for(var g=(a.mode&1)!==0;Te!==null;){var x=Te,w=x.child;if(x.tag===22&&g){var M=x.memoizedState!==null||Wd;if(!M){var U=x.alternate,W=U!==null&&U.memoizedState!==null||An;U=Wd;var te=An;if(Wd=M,(An=W)&&!te)for(Te=x;Te!==null;)M=Te,W=M.child,M.tag===22&&M.memoizedState!==null?CS(x):W!==null?(W.return=M,Te=W):CS(x);for(;w!==null;)Te=w,AS(w),w=w.sibling;Te=x,Wd=U,An=te}IS(a)}else(x.subtreeFlags&8772)!==0&&w!==null?(w.return=x,Te=w):IS(a)}}function IS(a){for(;Te!==null;){var u=Te;if((u.flags&8772)!==0){var d=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:An||Hd(5,u);break;case 1:var g=u.stateNode;if(u.flags&4&&!An)if(d===null)g.componentDidMount();else{var x=u.elementType===u.type?d.memoizedProps:kr(u.type,d.memoizedProps);g.componentDidUpdate(x,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var w=u.updateQueue;w!==null&&PE(u,w,g);break;case 3:var M=u.updateQueue;if(M!==null){if(d=null,u.child!==null)switch(u.child.tag){case 5:d=u.child.stateNode;break;case 1:d=u.child.stateNode}PE(u,M,d)}break;case 5:var U=u.stateNode;if(d===null&&u.flags&4){d=U;var W=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&d.focus();break;case"img":W.src&&(d.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var te=u.alternate;if(te!==null){var de=te.memoizedState;if(de!==null){var me=de.dehydrated;me!==null&&Ao(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}An||u.flags&512&&uy(u)}catch(le){Mt(u,u.return,le)}}if(u===a){Te=null;break}if(d=u.sibling,d!==null){d.return=u.return,Te=d;break}Te=u.return}}function PS(a){for(;Te!==null;){var u=Te;if(u===a){Te=null;break}var d=u.sibling;if(d!==null){d.return=u.return,Te=d;break}Te=u.return}}function CS(a){for(;Te!==null;){var u=Te;try{switch(u.tag){case 0:case 11:case 15:var d=u.return;try{Hd(4,u)}catch(W){Mt(u,d,W)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var x=u.return;try{g.componentDidMount()}catch(W){Mt(u,x,W)}}var w=u.return;try{uy(u)}catch(W){Mt(u,w,W)}break;case 5:var M=u.return;try{uy(u)}catch(W){Mt(u,M,W)}}}catch(W){Mt(u,u.return,W)}if(u===a){Te=null;break}var U=u.sibling;if(U!==null){U.return=u.return,Te=U;break}Te=u.return}}var $3=Math.ceil,Gd=D.ReactCurrentDispatcher,fy=D.ReactCurrentOwner,pr=D.ReactCurrentBatchConfig,Ze=0,sn=null,Ut=null,gn=0,rr=0,au=ko(0),Xt=0,oc=null,La=0,Kd=0,dy=0,ac=null,Fn=null,hy=0,su=1/0,zi=null,Yd=!1,py=null,Lo=null,Xd=!1,$o=null,Qd=0,sc=0,my=null,Jd=-1,Zd=0;function Dn(){return(Ze&6)!==0?_t():Jd!==-1?Jd:Jd=_t()}function Vo(a){return(a.mode&1)===0?1:(Ze&2)!==0&&gn!==0?gn&-gn:_3.transition!==null?(Zd===0&&(Zd=Pl()),Zd):(a=Qe,a!==0||(a=window.event,a=a===void 0?16:Ms(a.type)),a)}function Rr(a,u,d,g){if(50<sc)throw sc=0,my=null,Error(n(185));Sa(a,d,g),((Ze&2)===0||a!==sn)&&(a===sn&&((Ze&2)===0&&(Kd|=d),Xt===4&&Bo(a,gn)),Un(a,g),d===1&&Ze===0&&(u.mode&1)===0&&(su=_t()+500,Id&&jo()))}function Un(a,u){var d=a.callbackNode;Ea(a,u);var g=ki(a,a===sn?gn:0);if(g===0)d!==null&&Cs(d),a.callbackNode=null,a.callbackPriority=0;else if(u=g&-g,a.callbackPriority!==u){if(d!=null&&Cs(d),u===1)a.tag===0?b3(kS.bind(null,a)):gE(kS.bind(null,a)),g3(function(){(Ze&6)===0&&jo()}),d=null;else{switch(Xr(g)){case 1:d=Os;break;case 4:d=Sl;break;case 16:d=ba;break;case 536870912:d=ks;break;default:d=ba}d=VS(d,OS.bind(null,a))}a.callbackPriority=u,a.callbackNode=d}}function OS(a,u){if(Jd=-1,Zd=0,(Ze&6)!==0)throw Error(n(327));var d=a.callbackNode;if(uu()&&a.callbackNode!==d)return null;var g=ki(a,a===sn?gn:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||u)u=eh(a,g);else{u=g;var x=Ze;Ze|=2;var w=jS();(sn!==a||gn!==u)&&(zi=null,su=_t()+500,Va(a,u));do try{F3();break}catch(U){NS(a,U)}while(!0);jg(),Gd.current=w,Ze=x,Ut!==null?u=0:(sn=null,gn=0,u=Xt)}if(u!==0){if(u===2&&(x=Il(a),x!==0&&(g=x,u=gy(a,x))),u===1)throw d=oc,Va(a,0),Bo(a,g),Un(a,_t()),d;if(u===6)Bo(a,g);else{if(x=a.current.alternate,(g&30)===0&&!V3(x)&&(u=eh(a,g),u===2&&(w=Il(a),w!==0&&(g=w,u=gy(a,w))),u===1))throw d=oc,Va(a,0),Bo(a,g),Un(a,_t()),d;switch(a.finishedWork=x,a.finishedLanes=g,u){case 0:case 1:throw Error(n(345));case 2:Ba(a,Fn,zi);break;case 3:if(Bo(a,g),(g&130023424)===g&&(u=hy+500-_t(),10<u)){if(ki(a,0)!==0)break;if(x=a.suspendedLanes,(x&g)!==g){Dn(),a.pingedLanes|=a.suspendedLanes&x;break}a.timeoutHandle=wg(Ba.bind(null,a,Fn,zi),u);break}Ba(a,Fn,zi);break;case 4:if(Bo(a,g),(g&4194240)===g)break;for(u=a.eventTimes,x=-1;0<g;){var M=31-Xn(g);w=1<<M,M=u[M],M>x&&(x=M),g&=~w}if(g=x,g=_t()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*$3(g/1960))-g,10<g){a.timeoutHandle=wg(Ba.bind(null,a,Fn,zi),g);break}Ba(a,Fn,zi);break;case 5:Ba(a,Fn,zi);break;default:throw Error(n(329))}}}return Un(a,_t()),a.callbackNode===d?OS.bind(null,a):null}function gy(a,u){var d=ac;return a.current.memoizedState.isDehydrated&&(Va(a,u).flags|=256),a=eh(a,u),a!==2&&(u=Fn,Fn=d,u!==null&&yy(u)),a}function yy(a){Fn===null?Fn=a:Fn.push.apply(Fn,a)}function V3(a){for(var u=a;;){if(u.flags&16384){var d=u.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var x=d[g],w=x.getSnapshot;x=x.value;try{if(!Cr(w(),x))return!1}catch{return!1}}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Bo(a,u){for(u&=~dy,u&=~Kd,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var d=31-Xn(u),g=1<<d;a[d]=-1,u&=~g}}function kS(a){if((Ze&6)!==0)throw Error(n(327));uu();var u=ki(a,0);if((u&1)===0)return Un(a,_t()),null;var d=eh(a,u);if(a.tag!==0&&d===2){var g=Il(a);g!==0&&(u=g,d=gy(a,g))}if(d===1)throw d=oc,Va(a,0),Bo(a,u),Un(a,_t()),d;if(d===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Ba(a,Fn,zi),Un(a,_t()),null}function vy(a,u){var d=Ze;Ze|=1;try{return a(u)}finally{Ze=d,Ze===0&&(su=_t()+500,Id&&jo())}}function $a(a){$o!==null&&$o.tag===0&&(Ze&6)===0&&uu();var u=Ze;Ze|=1;var d=pr.transition,g=Qe;try{if(pr.transition=null,Qe=1,a)return a()}finally{Qe=g,pr.transition=d,Ze=u,(Ze&6)===0&&jo()}}function xy(){rr=au.current,Tt(au)}function Va(a,u){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,m3(d)),Ut!==null)for(d=Ut.return;d!==null;){var g=d;switch(Pg(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Sd();break;case 3:ru(),Tt($n),Tt(Tn),Fg();break;case 5:Vg(g);break;case 4:ru();break;case 13:Tt(Ot);break;case 19:Tt(Ot);break;case 10:Rg(g.type._context);break;case 22:case 23:xy()}d=d.return}if(sn=a,Ut=a=Fo(a.current,null),gn=rr=u,Xt=0,oc=null,dy=Kd=La=0,Fn=ac=null,Ra!==null){for(u=0;u<Ra.length;u++)if(d=Ra[u],g=d.interleaved,g!==null){d.interleaved=null;var x=g.next,w=d.pending;if(w!==null){var M=w.next;w.next=x,g.next=M}d.pending=g}Ra=null}return a}function NS(a,u){do{var d=Ut;try{if(jg(),Ld.current=Fd,$d){for(var g=kt.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}$d=!1}if(Ma=0,an=Yt=kt=null,Zl=!1,ec=0,fy.current=null,d===null||d.return===null){Xt=1,oc=u,Ut=null;break}e:{var w=a,M=d.return,U=d,W=u;if(u=gn,U.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var te=W,de=U,me=de.tag;if((de.mode&1)===0&&(me===0||me===11||me===15)){var le=de.alternate;le?(de.updateQueue=le.updateQueue,de.memoizedState=le.memoizedState,de.lanes=le.lanes):(de.updateQueue=null,de.memoizedState=null)}var be=rS(M);if(be!==null){be.flags&=-257,iS(be,M,U,w,u),be.mode&1&&nS(w,te,u),u=be,W=te;var Se=u.updateQueue;if(Se===null){var Ae=new Set;Ae.add(W),u.updateQueue=Ae}else Se.add(W);break e}else{if((u&1)===0){nS(w,te,u),by();break e}W=Error(n(426))}}else if(Pt&&U.mode&1){var Vt=rS(M);if(Vt!==null){(Vt.flags&65536)===0&&(Vt.flags|=256),iS(Vt,M,U,w,u),kg(iu(W,U));break e}}w=W=iu(W,U),Xt!==4&&(Xt=2),ac===null?ac=[w]:ac.push(w),w=M;do{switch(w.tag){case 3:w.flags|=65536,u&=-u,w.lanes|=u;var Y=eS(w,W,u);IE(w,Y);break e;case 1:U=W;var H=w.type,Z=w.stateNode;if((w.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(Lo===null||!Lo.has(Z)))){w.flags|=65536,u&=-u,w.lanes|=u;var ye=tS(w,U,u);IE(w,ye);break e}}w=w.return}while(w!==null)}DS(d)}catch(Ie){u=Ie,Ut===d&&d!==null&&(Ut=d=d.return);continue}break}while(!0)}function jS(){var a=Gd.current;return Gd.current=Fd,a===null?Fd:a}function by(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),sn===null||(La&268435455)===0&&(Kd&268435455)===0||Bo(sn,gn)}function eh(a,u){var d=Ze;Ze|=2;var g=jS();(sn!==a||gn!==u)&&(zi=null,Va(a,u));do try{B3();break}catch(x){NS(a,x)}while(!0);if(jg(),Ze=d,Gd.current=g,Ut!==null)throw Error(n(261));return sn=null,gn=0,Xt}function B3(){for(;Ut!==null;)RS(Ut)}function F3(){for(;Ut!==null&&!xa();)RS(Ut)}function RS(a){var u=$S(a.alternate,a,rr);a.memoizedProps=a.pendingProps,u===null?DS(a):Ut=u,fy.current=null}function DS(a){var u=a;do{var d=u.alternate;if(a=u.return,(u.flags&32768)===0){if(d=j3(d,u,rr),d!==null){Ut=d;return}}else{if(d=R3(d,u),d!==null){d.flags&=32767,Ut=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Xt=6,Ut=null;return}}if(u=u.sibling,u!==null){Ut=u;return}Ut=u=a}while(u!==null);Xt===0&&(Xt=5)}function Ba(a,u,d){var g=Qe,x=pr.transition;try{pr.transition=null,Qe=1,U3(a,u,d,g)}finally{pr.transition=x,Qe=g}return null}function U3(a,u,d,g){do uu();while($o!==null);if((Ze&6)!==0)throw Error(n(327));d=a.finishedWork;var x=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var w=d.lanes|d.childLanes;if(ag(a,w),a===sn&&(Ut=sn=null,gn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Xd||(Xd=!0,VS(ba,function(){return uu(),null})),w=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||w){w=pr.transition,pr.transition=null;var M=Qe;Qe=1;var U=Ze;Ze|=4,fy.current=null,M3(a,d),SS(d,a),u3(bg),Ri=!!xg,bg=xg=null,a.current=d,L3(d),Oi(),Ze=U,Qe=M,pr.transition=w}else a.current=d;if(Xd&&(Xd=!1,$o=a,Qd=x),w=a.pendingLanes,w===0&&(Lo=null),sd(d.stateNode),Un(a,_t()),u!==null)for(g=a.onRecoverableError,d=0;d<u.length;d++)x=u[d],g(x.value,{componentStack:x.stack,digest:x.digest});if(Yd)throw Yd=!1,a=py,py=null,a;return(Qd&1)!==0&&a.tag!==0&&uu(),w=a.pendingLanes,(w&1)!==0?a===my?sc++:(sc=0,my=a):sc=0,jo(),null}function uu(){if($o!==null){var a=Xr(Qd),u=pr.transition,d=Qe;try{if(pr.transition=null,Qe=16>a?16:a,$o===null)var g=!1;else{if(a=$o,$o=null,Qd=0,(Ze&6)!==0)throw Error(n(331));var x=Ze;for(Ze|=4,Te=a.current;Te!==null;){var w=Te,M=w.child;if((Te.flags&16)!==0){var U=w.deletions;if(U!==null){for(var W=0;W<U.length;W++){var te=U[W];for(Te=te;Te!==null;){var de=Te;switch(de.tag){case 0:case 11:case 15:ic(8,de,w)}var me=de.child;if(me!==null)me.return=de,Te=me;else for(;Te!==null;){de=Te;var le=de.sibling,be=de.return;if(bS(de),de===te){Te=null;break}if(le!==null){le.return=be,Te=le;break}Te=be}}}var Se=w.alternate;if(Se!==null){var Ae=Se.child;if(Ae!==null){Se.child=null;do{var Vt=Ae.sibling;Ae.sibling=null,Ae=Vt}while(Ae!==null)}}Te=w}}if((w.subtreeFlags&2064)!==0&&M!==null)M.return=w,Te=M;else e:for(;Te!==null;){if(w=Te,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:ic(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,Te=Y;break e}Te=w.return}}var H=a.current;for(Te=H;Te!==null;){M=Te;var Z=M.child;if((M.subtreeFlags&2064)!==0&&Z!==null)Z.return=M,Te=Z;else e:for(M=H;Te!==null;){if(U=Te,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Hd(9,U)}}catch(Ie){Mt(U,U.return,Ie)}if(U===M){Te=null;break e}var ye=U.sibling;if(ye!==null){ye.return=U.return,Te=ye;break e}Te=U.return}}if(Ze=x,jo(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(_a,a)}catch{}g=!0}return g}finally{Qe=d,pr.transition=u}}return!1}function MS(a,u,d){u=iu(d,u),u=eS(a,u,1),a=Do(a,u,1),u=Dn(),a!==null&&(Sa(a,1,u),Un(a,u))}function Mt(a,u,d){if(a.tag===3)MS(a,a,d);else for(;u!==null;){if(u.tag===3){MS(u,a,d);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Lo===null||!Lo.has(g))){a=iu(d,a),a=tS(u,a,1),u=Do(u,a,1),a=Dn(),u!==null&&(Sa(u,1,a),Un(u,a));break}}u=u.return}}function q3(a,u,d){var g=a.pingCache;g!==null&&g.delete(u),u=Dn(),a.pingedLanes|=a.suspendedLanes&d,sn===a&&(gn&d)===d&&(Xt===4||Xt===3&&(gn&130023424)===gn&&500>_t()-hy?Va(a,0):dy|=d),Un(a,u)}function LS(a,u){u===0&&((a.mode&1)===0?u=1:(u=To,To<<=1,(To&130023424)===0&&(To=4194304)));var d=Dn();a=Fi(a,u),a!==null&&(Sa(a,u,d),Un(a,d))}function z3(a){var u=a.memoizedState,d=0;u!==null&&(d=u.retryLane),LS(a,d)}function W3(a,u){var d=0;switch(a.tag){case 13:var g=a.stateNode,x=a.memoizedState;x!==null&&(d=x.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(u),LS(a,d)}var $S;$S=function(a,u,d){if(a!==null)if(a.memoizedProps!==u.pendingProps||$n.current)Bn=!0;else{if((a.lanes&d)===0&&(u.flags&128)===0)return Bn=!1,N3(a,u,d);Bn=(a.flags&131072)!==0}else Bn=!1,Pt&&(u.flags&1048576)!==0&&yE(u,Cd,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;zd(a,u),a=u.pendingProps;var x=Xs(u,Tn.current);nu(u,d),x=zg(null,u,g,a,x,d);var w=Wg();return u.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Vn(g)?(w=!0,Ad(u)):w=!1,u.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Lg(u),x.updater=Ud,u.stateNode=x,x._reactInternals=u,Qg(u,g,a,d),u=ty(null,u,g,!0,w,d)):(u.tag=0,Pt&&w&&Ig(u),Rn(null,u,x,d),u=u.child),u;case 16:g=u.elementType;e:{switch(zd(a,u),a=u.pendingProps,x=g._init,g=x(g._payload),u.type=g,x=u.tag=G3(g),a=kr(g,a),x){case 0:u=ey(null,u,g,a,d);break e;case 1:u=cS(null,u,g,a,d);break e;case 11:u=oS(null,u,g,a,d);break e;case 14:u=aS(null,u,g,kr(g.type,a),d);break e}throw Error(n(306,g,""))}return u;case 0:return g=u.type,x=u.pendingProps,x=u.elementType===g?x:kr(g,x),ey(a,u,g,x,d);case 1:return g=u.type,x=u.pendingProps,x=u.elementType===g?x:kr(g,x),cS(a,u,g,x,d);case 3:e:{if(fS(u),a===null)throw Error(n(387));g=u.pendingProps,w=u.memoizedState,x=w.element,AE(a,u),Dd(u,g,null,d);var M=u.memoizedState;if(g=M.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},u.updateQueue.baseState=w,u.memoizedState=w,u.flags&256){x=iu(Error(n(423)),u),u=dS(a,u,g,d,x);break e}else if(g!==x){x=iu(Error(n(424)),u),u=dS(a,u,g,d,x);break e}else for(nr=Oo(u.stateNode.containerInfo.firstChild),tr=u,Pt=!0,Or=null,d=EE(u,null,g,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Zs(),g===x){u=qi(a,u,d);break e}Rn(a,u,g,d)}u=u.child}return u;case 5:return CE(u),a===null&&Og(u),g=u.type,x=u.pendingProps,w=a!==null?a.memoizedProps:null,M=x.children,_g(g,x)?M=null:w!==null&&_g(g,w)&&(u.flags|=32),lS(a,u),Rn(a,u,M,d),u.child;case 6:return a===null&&Og(u),null;case 13:return hS(a,u,d);case 4:return $g(u,u.stateNode.containerInfo),g=u.pendingProps,a===null?u.child=eu(u,null,g,d):Rn(a,u,g,d),u.child;case 11:return g=u.type,x=u.pendingProps,x=u.elementType===g?x:kr(g,x),oS(a,u,g,x,d);case 7:return Rn(a,u,u.pendingProps,d),u.child;case 8:return Rn(a,u,u.pendingProps.children,d),u.child;case 12:return Rn(a,u,u.pendingProps.children,d),u.child;case 10:e:{if(g=u.type._context,x=u.pendingProps,w=u.memoizedProps,M=x.value,xt(Nd,g._currentValue),g._currentValue=M,w!==null)if(Cr(w.value,M)){if(w.children===x.children&&!$n.current){u=qi(a,u,d);break e}}else for(w=u.child,w!==null&&(w.return=u);w!==null;){var U=w.dependencies;if(U!==null){M=w.child;for(var W=U.firstContext;W!==null;){if(W.context===g){if(w.tag===1){W=Ui(-1,d&-d),W.tag=2;var te=w.updateQueue;if(te!==null){te=te.shared;var de=te.pending;de===null?W.next=W:(W.next=de.next,de.next=W),te.pending=W}}w.lanes|=d,W=w.alternate,W!==null&&(W.lanes|=d),Dg(w.return,d,u),U.lanes|=d;break}W=W.next}}else if(w.tag===10)M=w.type===u.type?null:w.child;else if(w.tag===18){if(M=w.return,M===null)throw Error(n(341));M.lanes|=d,U=M.alternate,U!==null&&(U.lanes|=d),Dg(M,d,u),M=w.sibling}else M=w.child;if(M!==null)M.return=w;else for(M=w;M!==null;){if(M===u){M=null;break}if(w=M.sibling,w!==null){w.return=M.return,M=w;break}M=M.return}w=M}Rn(a,u,x.children,d),u=u.child}return u;case 9:return x=u.type,g=u.pendingProps.children,nu(u,d),x=dr(x),g=g(x),u.flags|=1,Rn(a,u,g,d),u.child;case 14:return g=u.type,x=kr(g,u.pendingProps),x=kr(g.type,x),aS(a,u,g,x,d);case 15:return sS(a,u,u.type,u.pendingProps,d);case 17:return g=u.type,x=u.pendingProps,x=u.elementType===g?x:kr(g,x),zd(a,u),u.tag=1,Vn(g)?(a=!0,Ad(u)):a=!1,nu(u,d),JE(u,g,x),Qg(u,g,x,d),ty(null,u,g,!0,a,d);case 19:return mS(a,u,d);case 22:return uS(a,u,d)}throw Error(n(156,u.tag))};function VS(a,u){return El(a,u)}function H3(a,u,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(a,u,d,g){return new H3(a,u,d,g)}function _y(a){return a=a.prototype,!(!a||!a.isReactComponent)}function G3(a){if(typeof a=="function")return _y(a)?1:0;if(a!=null){if(a=a.$$typeof,a===B)return 11;if(a===ee)return 14}return 2}function Fo(a,u){var d=a.alternate;return d===null?(d=mr(a.tag,u,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=u,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,u=a.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function th(a,u,d,g,x,w){var M=2;if(g=a,typeof a=="function")_y(a)&&(M=1);else if(typeof a=="string")M=5;else e:switch(a){case A:return Fa(d.children,x,w,u);case I:M=8,x|=8;break;case C:return a=mr(12,d,u,x|2),a.elementType=C,a.lanes=w,a;case L:return a=mr(13,d,u,x),a.elementType=L,a.lanes=w,a;case Q:return a=mr(19,d,u,x),a.elementType=Q,a.lanes=w,a;case se:return nh(d,x,w,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case V:M=10;break e;case $:M=9;break e;case B:M=11;break e;case ee:M=14;break e;case ae:M=16,g=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return u=mr(M,d,u,x),u.elementType=a,u.type=g,u.lanes=w,u}function Fa(a,u,d,g){return a=mr(7,a,g,u),a.lanes=d,a}function nh(a,u,d,g){return a=mr(22,a,g,u),a.elementType=se,a.lanes=d,a.stateNode={isHidden:!1},a}function wy(a,u,d){return a=mr(6,a,null,u),a.lanes=d,a}function Ty(a,u,d){return u=mr(4,a.children!==null?a.children:[],a.key,u),u.lanes=d,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function K3(a,u,d,g,x){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Ey(a,u,d,g,x,w,M,U,W){return a=new K3(a,u,d,U,W),u===1?(u=1,w===!0&&(u|=8)):u=0,w=mr(3,null,null,u),a.current=w,w.stateNode=a,w.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lg(w),a}function Y3(a,u,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:g==null?null:""+g,children:a,containerInfo:u,implementation:d}}function BS(a){if(!a)return No;a=a._reactInternals;e:{if(Ir(a)!==a||a.tag!==1)throw Error(n(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Vn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(a.tag===1){var d=a.type;if(Vn(d))return pE(a,d,u)}return u}function FS(a,u,d,g,x,w,M,U,W){return a=Ey(d,g,!0,a,x,w,M,U,W),a.context=BS(null),d=a.current,g=Dn(),x=Vo(d),w=Ui(g,x),w.callback=u??null,Do(d,w,x),a.current.lanes=x,Sa(a,x,g),Un(a,g),a}function rh(a,u,d,g){var x=u.current,w=Dn(),M=Vo(x);return d=BS(d),u.context===null?u.context=d:u.pendingContext=d,u=Ui(w,M),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=Do(x,u,M),a!==null&&(Rr(a,x,M,w),Rd(a,x,M)),M}function ih(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function US(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<u?d:u}}function Sy(a,u){US(a,u),(a=a.alternate)&&US(a,u)}function X3(){return null}var qS=typeof reportError=="function"?reportError:function(a){console.error(a)};function Ay(a){this._internalRoot=a}oh.prototype.render=Ay.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(n(409));rh(a,u,null,null)},oh.prototype.unmount=Ay.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;$a(function(){rh(null,a,null,null)}),u[Li]=null}};function oh(a){this._internalRoot=a}oh.prototype.unstable_scheduleHydration=function(a){if(a){var u=jl();a={blockedOn:null,target:a,priority:u};for(var d=0;d<Qn.length&&u!==0&&u<Qn[d].priority;d++);Qn.splice(d,0,a),d===0&&Rs(a)}};function Iy(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function ah(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function zS(){}function Q3(a,u,d,g,x){if(x){if(typeof g=="function"){var w=g;g=function(){var te=ih(M);w.call(te)}}var M=FS(u,g,a,0,null,!1,!1,"",zS);return a._reactRootContainer=M,a[Li]=M.current,Wl(a.nodeType===8?a.parentNode:a),$a(),M}for(;x=a.lastChild;)a.removeChild(x);if(typeof g=="function"){var U=g;g=function(){var te=ih(W);U.call(te)}}var W=Ey(a,0,!1,null,null,!1,!1,"",zS);return a._reactRootContainer=W,a[Li]=W.current,Wl(a.nodeType===8?a.parentNode:a),$a(function(){rh(u,W,d,g)}),W}function sh(a,u,d,g,x){var w=d._reactRootContainer;if(w){var M=w;if(typeof x=="function"){var U=x;x=function(){var W=ih(M);U.call(W)}}rh(u,M,a,x)}else M=Q3(d,u,a,x,g);return ih(M)}kl=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var d=it(u.pendingLanes);d!==0&&(Ol(u,d|1),Un(u,_t()),(Ze&6)===0&&(su=_t()+500,jo()))}break;case 13:$a(function(){var g=Fi(a,1);if(g!==null){var x=Dn();Rr(g,a,1,x)}}),Sy(a,1)}},Ns=function(a){if(a.tag===13){var u=Fi(a,134217728);if(u!==null){var d=Dn();Rr(u,a,134217728,d)}Sy(a,134217728)}},Nl=function(a){if(a.tag===13){var u=Vo(a),d=Fi(a,u);if(d!==null){var g=Dn();Rr(d,a,u,g)}Sy(a,u)}},jl=function(){return Qe},Rl=function(a,u){var d=Qe;try{return Qe=a,u()}finally{Qe=d}},Ii=function(a,u,d){switch(u){case"input":if(Rt(a,d),u=d.name,d.type==="radio"&&u!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<d.length;u++){var g=d[u];if(g!==a&&g.form===a.form){var x=Ed(g);if(!x)throw Error(n(90));ce(g),Rt(g,x)}}}break;case"textarea":ma(a,d);break;case"select":u=d.value,u!=null&&Kt(a,!!d.multiple,u,!1)}},Jf=vy,Zf=$a;var J3={usingClientEntryPoint:!1,Events:[Kl,Ks,Ed,xo,bo,vy]},uc={findFiberByHostInstance:Oa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z3={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=ad(a),a===null?null:a.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||X3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{_a=uh.inject(Z3),Yn=uh}catch{}}return qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J3,qn.createPortal=function(a,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iy(u))throw Error(n(200));return Y3(a,u,null,d)},qn.createRoot=function(a,u){if(!Iy(a))throw Error(n(299));var d=!1,g="",x=qS;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(x=u.onRecoverableError)),u=Ey(a,1,!1,null,null,d,!1,g,x),a[Li]=u.current,Wl(a.nodeType===8?a.parentNode:a),new Ay(u)},qn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=ad(u),a=a===null?null:a.stateNode,a},qn.flushSync=function(a){return $a(a)},qn.hydrate=function(a,u,d){if(!ah(u))throw Error(n(200));return sh(null,a,u,!0,d)},qn.hydrateRoot=function(a,u,d){if(!Iy(a))throw Error(n(405));var g=d!=null&&d.hydratedSources||null,x=!1,w="",M=qS;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(M=d.onRecoverableError)),u=FS(u,null,a,1,d??null,x,!1,w,M),a[Li]=u.current,Wl(a),g)for(a=0;a<g.length;a++)d=g[a],x=d._getVersion,x=x(d._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[d,x]:u.mutableSourceEagerHydrationData.push(d,x);return new oh(u)},qn.render=function(a,u,d){if(!ah(u))throw Error(n(200));return sh(null,a,u,!1,d)},qn.unmountComponentAtNode=function(a){if(!ah(a))throw Error(n(40));return a._reactRootContainer?($a(function(){sh(null,null,a,!1,function(){a._reactRootContainer=null,a[Li]=null})}),!0):!1},qn.unstable_batchedUpdates=vy,qn.unstable_renderSubtreeIntoContainer=function(a,u,d,g){if(!ah(d))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return sh(a,u,d,!1,g)},qn.version="18.3.1-next-f1338f8080-20240426",qn}var JS;function pj(){if(JS)return Oy.exports;JS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Oy.exports=a$(),Oy.exports}var ZS;function s$(){if(ZS)return ch;ZS=1;var t=pj();return ch.createRoot=t.createRoot,ch.hydrateRoot=t.hydrateRoot,ch}var u$=s$();const l$=ht(u$),mj=z.createContext(null);function Gt(){const t=z.useContext(mj);if(!t)throw new Error("useTripContext must be used within a TripContext.Provider");return t}const c$=()=>{};var eA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},f$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},yj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,m=(o&3)<<4|l>>4;let y=(l&15)<<2|f>>6,b=f&63;c||(b=64,s||(y=64)),r.push(n[h],n[m],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||f==null||m==null)throw new d$;const y=o<<2|l>>4;if(r.push(y),f!==64){const b=l<<4&240|f>>2;if(r.push(b),m!==64){const S=f<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class d$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h$=function(t){const e=gj(t);return yj.encodeByteArray(e,!0)},Uh=function(t){return h$(t).replace(/\./g,"")},vj=function(t){try{return yj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$=()=>p$().__FIREBASE_DEFAULTS__,g$=()=>{if(typeof process>"u"||typeof eA>"u")return;const t=eA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},y$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vj(t[1]);return e&&JSON.parse(e)},sm=()=>{try{return c$()||m$()||g$()||y$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xj=t=>{var e,n;return(n=(e=sm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},v$=t=>{const e=xj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bj=()=>{var t;return(t=sm())==null?void 0:t.config},_j=t=>{var e;return(e=sm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Uh(JSON.stringify(n)),Uh(JSON.stringify(s)),""].join(".")}const Cc={};function _$(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cc))Cc[e]?t.emulator.push(e):t.prod.push(e);return t}function w$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tA=!1;function Tj(t,e){if(typeof window>"u"||typeof document>"u"||!ol(window.location.host)||Cc[t]===e||Cc[t]||tA)return;Cc[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",o=_$().prod.length>0;function s(){const y=document.getElementById(r);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{tA=!0,s()},y}function h(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=w$(r),b=n("text"),S=document.getElementById(b)||document.createElement("span"),E=n("learnmore"),_=document.getElementById(E)||document.createElement("a"),P=n("preprendIcon"),j=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const R=y.element;l(R),h(_,E);const D=f();c(j,P),R.append(j,S,_,D),document.body.appendChild(R)}o?(S.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function E$(){var e;const t=(e=sm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function I$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function P$(){const t=jn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C$(){return!E$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O$(){try{return typeof indexedDB=="object"}catch{return!1}}function k$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$="FirebaseError";class co extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=N$,Object.setPrototypeOf(this,co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nf.prototype.create)}}class Nf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?j$(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new co(i,l,r)}}function j$(t,e){return t.replace(R$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const R$=/\{\$([^}]+)}/g;function D$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function os(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(nA(o)&&nA(s)){if(!os(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function M$(t,e){const n=new L$(t,e);return n.subscribe.bind(n)}class L${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=jy),i.error===void 0&&(i.error=jy),i.complete===void 0&&(i.complete=jy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t){return t&&t._delegate?t._delegate:t}class as{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new x$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F$(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:B$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B$(t){return t===qa?void 0:t}function F$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new V$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const q$={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},z$=Ke.INFO,W$={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},H$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=W$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lw{constructor(e){this.name=e,this._logLevel=z$,this._logHandler=H$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const G$=(t,e)=>e.some(n=>t instanceof n);let rA,iA;function K$(){return rA||(rA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y$(){return iA||(iA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ej=new WeakMap,Yb=new WeakMap,Sj=new WeakMap,Ry=new WeakMap,$w=new WeakMap;function X$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Qo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Ej.set(n,t)}).catch(()=>{}),$w.set(e,t),e}function Q$(t){if(Yb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Yb.set(t,e)}let Xb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Sj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function J$(t){Xb=t(Xb)}function Z$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dy(this),e,...n);return Sj.set(r,e.sort?e.sort():[e]),Qo(r)}:Y$().includes(t)?function(...e){return t.apply(Dy(this),e),Qo(Ej.get(this))}:function(...e){return Qo(t.apply(Dy(this),e))}}function eV(t){return typeof t=="function"?Z$(t):(t instanceof IDBTransaction&&Q$(t),G$(t,K$())?new Proxy(t,Xb):t)}function Qo(t){if(t instanceof IDBRequest)return X$(t);if(Ry.has(t))return Ry.get(t);const e=eV(t);return e!==t&&(Ry.set(t,e),$w.set(e,t)),e}const Dy=t=>$w.get(t);function tV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=Qo(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Qo(s.result),c.oldVersion,c.newVersion,Qo(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const nV=["get","getKey","getAll","getAllKeys","count"],rV=["put","add","delete","clear"],My=new Map;function oA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(My.get(e))return My.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nV.includes(n)))return;const o=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return My.set(e,o),o}J$(t=>({...t,get:(e,n,r)=>oA(e,n)||t.get(e,n,r),has:(e,n)=>!!oA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qb="@firebase/app",aA="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new Lw("@firebase/app"),aV="@firebase/app-compat",sV="@firebase/analytics-compat",uV="@firebase/analytics",lV="@firebase/app-check-compat",cV="@firebase/app-check",fV="@firebase/auth",dV="@firebase/auth-compat",hV="@firebase/database",pV="@firebase/data-connect",mV="@firebase/database-compat",gV="@firebase/functions",yV="@firebase/functions-compat",vV="@firebase/installations",xV="@firebase/installations-compat",bV="@firebase/messaging",_V="@firebase/messaging-compat",wV="@firebase/performance",TV="@firebase/performance-compat",EV="@firebase/remote-config",SV="@firebase/remote-config-compat",AV="@firebase/storage",IV="@firebase/storage-compat",PV="@firebase/firestore",CV="@firebase/ai",OV="@firebase/firestore-compat",kV="firebase",NV="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="[DEFAULT]",jV={[Qb]:"fire-core",[aV]:"fire-core-compat",[uV]:"fire-analytics",[sV]:"fire-analytics-compat",[cV]:"fire-app-check",[lV]:"fire-app-check-compat",[fV]:"fire-auth",[dV]:"fire-auth-compat",[hV]:"fire-rtdb",[pV]:"fire-data-connect",[mV]:"fire-rtdb-compat",[gV]:"fire-fn",[yV]:"fire-fn-compat",[vV]:"fire-iid",[xV]:"fire-iid-compat",[bV]:"fire-fcm",[_V]:"fire-fcm-compat",[wV]:"fire-perf",[TV]:"fire-perf-compat",[EV]:"fire-rc",[SV]:"fire-rc-compat",[AV]:"fire-gcs",[IV]:"fire-gcs-compat",[PV]:"fire-fst",[OV]:"fire-fst-compat",[CV]:"fire-vertex","fire-js":"fire-js",[kV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,RV=new Map,Zb=new Map;function sA(t,e){try{t.container.addComponent(e)}catch(n){ro.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ku(t){const e=t.name;if(Zb.has(e))return ro.debug(`There were multiple attempts to register component ${e}.`),!1;Zb.set(e,t);for(const n of qh.values())sA(n,t);for(const n of RV.values())sA(n,t);return!0}function Vw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Lr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jo=new Nf("app","Firebase",DV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=NV;function Aj(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Jb,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Jo.create("bad-app-name",{appName:String(i)});if(n||(n=bj()),!n)throw Jo.create("no-options");const o=qh.get(i);if(o){if(os(n,o.options)&&os(r,o.config))return o;throw Jo.create("duplicate-app",{appName:i})}const s=new U$(i);for(const c of Zb.values())s.addComponent(c);const l=new MV(n,r,s);return qh.set(i,l),l}function Ij(t=Jb){const e=qh.get(t);if(!e&&t===Jb&&bj())return Aj();if(!e)throw Jo.create("no-app",{appName:t});return e}function Zo(t,e,n){let r=jV[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ro.warn(s.join(" "));return}ku(new as(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV="firebase-heartbeat-database",$V=1,Vc="firebase-heartbeat-store";let Ly=null;function Pj(){return Ly||(Ly=tV(LV,$V,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jo.create("idb-open",{originalErrorMessage:t.message})})),Ly}async function VV(t){try{const n=(await Pj()).transaction(Vc),r=await n.objectStore(Vc).get(Cj(t));return await n.done,r}catch(e){if(e instanceof co)ro.warn(e.message);else{const n=Jo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ro.warn(n.message)}}}async function uA(t,e){try{const r=(await Pj()).transaction(Vc,"readwrite");await r.objectStore(Vc).put(e,Cj(t)),await r.done}catch(n){if(n instanceof co)ro.warn(n.message);else{const r=Jo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ro.warn(r.message)}}}function Cj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=1024,FV=30;class UV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=lA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>FV){const s=WV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ro.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=lA(),{heartbeatsToSend:r,unsentEntries:i}=qV(this._heartbeatsCache.heartbeats),o=Uh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ro.warn(n),""}}}function lA(){return new Date().toISOString().substring(0,10)}function qV(t,e=BV){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),cA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O$()?k$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function cA(t){return Uh(JSON.stringify({version:2,heartbeats:t})).length}function WV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t){ku(new as("platform-logger",e=>new iV(e),"PRIVATE")),ku(new as("heartbeat",e=>new UV(e),"PRIVATE")),Zo(Qb,aA,t),Zo(Qb,aA,"esm2020"),Zo("fire-js","")}HV("");function Oj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GV=Oj,kj=new Nf("auth","Firebase",Oj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Lw("@firebase/auth");function KV(t,...e){zh.logLevel<=Ke.WARN&&zh.warn(`Auth (${al}): ${t}`,...e)}function kh(t,...e){zh.logLevel<=Ke.ERROR&&zh.error(`Auth (${al}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t,...e){throw Fw(t,...e)}function Ur(t,...e){return Fw(t,...e)}function Bw(t,e,n){const r={...GV(),[e]:n};return new Nf("auth","Firebase",r).create(e,{appName:t.name})}function Ja(t){return Bw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&bi(t,"argument-error"),Bw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kj.create(t,...e)}function Ve(t,e,...n){if(!t)throw Fw(e,...n)}function Ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kh(e),new Error(e)}function io(t,e){t||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function XV(){return fA()==="http:"||fA()==="https:"}function fA(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XV()||A$()||"connection"in navigator)?navigator.onLine:!0}function JV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.shortDelay=e,this.longDelay=n,io(n>e,"Short delay should be less than long delay!"),this.isMobile=T$()||I$()}get(){return QV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(t,e){io(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tB=new Rf(3e4,6e4);function qw(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function sl(t,e,n,r,i={}){return jj(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const l=jf({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...o};return S$()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&ol(t.emulatorConfig.host)&&(f.credentials="include"),Nj.fetch()(await Rj(t,t.config.apiHost,n,l),f)})}async function jj(t,e,n){t._canInitEmulator=!1;const r={...ZV,...e};try{const i=new rB(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw fh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const l=o.ok?s.errorMessage:s.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw fh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw fh(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Bw(t,h,f);bi(t,h)}}catch(i){if(i instanceof co)throw i;bi(t,"network-request-failed",{message:String(i)})}}async function nB(t,e,n,r,i={}){const o=await sl(t,e,n,r,i);return"mfaPendingCredential"in o&&bi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function Rj(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?Uw(t.config,i):`${t.config.apiScheme}://${i}`;return eB.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class rB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),tB.get())})}}function fh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ur(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iB(t,e){return sl(t,"POST","/v1/accounts:delete",e)}async function Wh(t,e){return sl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oB(t,e=!1){const n=Hn(t),r=await n.getIdToken(e),i=zw(r);Ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Oc($y(i.auth_time)),issuedAtTime:Oc($y(i.iat)),expirationTime:Oc($y(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function $y(t){return Number(t)*1e3}function zw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const i=vj(n);return i?JSON.parse(i):(kh("Failed to decode base64 JWT payload"),null)}catch(i){return kh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dA(t){const e=zw(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof co&&aB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function aB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(t){var m;const e=t.auth,n=await t.getIdToken(),r=await Bc(t,Wh(e,{idToken:n}));Ve(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(m=i.providerUserInfo)!=null&&m.length?Dj(i.providerUserInfo):[],s=lB(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),f=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new t_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function uB(t){const e=Hn(t);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Dj(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cB(t,e){const n=await jj(t,{},async()=>{const r=jf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await Rj(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&ol(t.emulatorConfig.host)&&(c.credentials="include"),Nj.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fB(t,e){return sl(t,"POST","/v2/accounts:revokeToken",qw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=dA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await cB(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new _u;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ve(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ve(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _u,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new sB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new t_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Bc(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oB(this,e)}reload(){return uB(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lr(this.auth.app))return Promise.reject(Ja(this.auth));const e=await this.getIdToken();return await Bc(this,iB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,f=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:y,isAnonymous:b,providerData:S,stsTokenManager:E}=n;Ve(m&&E,e,"internal-error");const _=_u.fromJSON(this.name,E);Ve(typeof m=="string",e,"internal-error"),qo(r,e.name),qo(i,e.name),Ve(typeof y=="boolean",e,"internal-error"),Ve(typeof b=="boolean",e,"internal-error"),qo(o,e.name),qo(s,e.name),qo(l,e.name),qo(c,e.name),qo(f,e.name),qo(h,e.name);const P=new Vr({uid:m,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:b,photoURL:s,phoneNumber:o,tenantId:l,stsTokenManager:_,createdAt:f,lastLoginAt:h});return S&&Array.isArray(S)&&(P.providerData=S.map(j=>({...j}))),c&&(P._redirectEventId=c),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new _u;i.updateFromServerResponse(n);const o=new Vr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Hh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ve(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Dj(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new _u;l.updateFromIdToken(r);const c=new Vr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new t_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=new Map;function Yi(t){io(t instanceof Function,"Expected a class definition");let e=hA.get(t);return e?(io(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Mj.type="NONE";const pA=Mj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t,e,n){return`firebase:${t}:${e}:${n}`}class wu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Nh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Nh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wh(this.auth,{idToken:e}).catch(()=>{});return n?Vr._fromGetAccountInfoResponse(this.auth,n,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wu(Yi(pA),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Yi(pA);const s=Nh(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const h=await f._get(s);if(h){let m;if(typeof h=="string"){const y=await Wh(e,{idToken:h}).catch(()=>{});if(!y)break;m=await Vr._fromGetAccountInfoResponse(e,y,h)}else m=Vr._fromJSON(e,h);f!==o&&(l=m),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new wu(o,e,r):(o=c[0],l&&await o._set(s,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(s)}catch{}})),new wu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Uj(e))return"Blackberry";if(qj(e))return"Webos";if($j(e))return"Safari";if((e.includes("chrome/")||Vj(e))&&!e.includes("edge/"))return"Chrome";if(Fj(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Lj(t=jn()){return/firefox\//i.test(t)}function $j(t=jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vj(t=jn()){return/crios\//i.test(t)}function Bj(t=jn()){return/iemobile/i.test(t)}function Fj(t=jn()){return/android/i.test(t)}function Uj(t=jn()){return/blackberry/i.test(t)}function qj(t=jn()){return/webos/i.test(t)}function Ww(t=jn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dB(t=jn()){var e;return Ww(t)&&!!((e=window.navigator)!=null&&e.standalone)}function hB(){return P$()&&document.documentMode===10}function zj(t=jn()){return Ww(t)||Fj(t)||qj(t)||Uj(t)||/windows phone/i.test(t)||Bj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t,e=[]){let n;switch(t){case"Browser":n=mA(jn());break;case"Worker":n=`${mA(jn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${al}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,l)=>{try{const c=e(o);s(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mB(t,e={}){return sl(t,"GET","/v2/passwordPolicy",qw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=6;class yB{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gB,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gA(this),this.idTokenSubscription=new gA(this),this.beforeStateQueue=new pB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await wu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wh(this,{idToken:e}),r=await Vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Lr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lr(this.app))return Promise.reject(Ja(this));const n=e?Hn(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lr(this.app)?Promise.reject(Ja(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lr(this.app)?Promise.reject(Ja(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mB(this),n=new yB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yi(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await wu.create(this,[Yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(l,this,"internal-error"),l.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&KV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function um(t){return Hn(t)}class gA{constructor(e){this.auth=e,this.observer=null,this.addObserver=M$(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xB(t){Hw=t}function bB(t){return Hw.loadJS(t)}function _B(){return Hw.gapiScript}function wB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(t,e){const n=Vw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(os(o,e??{}))return i;bi(i,"already-initialized")}return n.initialize({options:e})}function EB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function SB(t,e,n){const r=um(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Hj(e),{host:s,port:l}=AB(e),c=l===null?"":`:${l}`,f={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(os(f,r.config.emulator)&&os(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ol(s)?(wj(`${o}//${s}${c}`),Tj("Auth",!0)):IB()}function Hj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AB(t){const e=Hj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:yA(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:yA(s)}}}function yA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function IB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,n){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(t,e){return nB(t,"POST","/v1/accounts:signInWithIdp",qw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB="http://localhost";class ss extends Gj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new ss(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Tu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Tu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tu(e,n)}buildRequest(){const e={requestUri:PB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends Gw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends Df{constructor(){super("facebook.com")}static credential(e){return ss._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wo.credential(e.oauthAccessToken)}catch{return null}}}Wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Df{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ss._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends Df{constructor(){super("github.com")}static credential(e){return ss._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ho.credential(e.oauthAccessToken)}catch{return null}}}Ho.GITHUB_SIGN_IN_METHOD="github.com";Ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Df{constructor(){super("twitter.com")}static credential(e,n){return ss._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Go.credential(n,r)}catch{return null}}}Go.TWITTER_SIGN_IN_METHOD="twitter.com";Go.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Vr._fromIdTokenResponse(e,r,i),s=vA(r);return new Nu({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=vA(r);return new Nu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function vA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends co{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gh(e,n,r,i)}}function Kj(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Gh._fromErrorAndOperation(t,o,e,r):o})}async function CB(t,e,n=!1){const r=await Bc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OB(t,e,n=!1){const{auth:r}=t;if(Lr(r.app))return Promise.reject(Ja(r));const i="reauthenticate";try{const o=await Bc(t,Kj(r,i,e,t),n);Ve(o.idToken,r,"internal-error");const s=zw(o.idToken);Ve(s,r,"internal-error");const{sub:l}=s;return Ve(t.uid===l,r,"user-mismatch"),Nu._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&bi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kB(t,e,n=!1){if(Lr(t.app))return Promise.reject(Ja(t));const r="signIn",i=await Kj(t,r,e),o=await Nu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function NB(t,e,n,r){return Hn(t).onIdTokenChanged(e,n,r)}function jB(t,e,n){return Hn(t).beforeAuthStateChanged(e,n)}function RB(t,e,n,r){return Hn(t).onAuthStateChanged(e,n,r)}function DB(t){return Hn(t).signOut()}const Kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kh,"1"),this.storage.removeItem(Kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=1e3,LB=10;class Xj extends Yj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);hB()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,LB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},MB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xj.type="LOCAL";const $B=Xj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj extends Yj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Qj.type="SESSION";const Jj=Qj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async f=>f(n.origin,o)),c=await VB(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((l,c)=>{const f=Kw("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(y.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return window}function FB(t){hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}async function UB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function zB(){return Zj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="firebaseLocalStorageDb",WB=1,Yh="firebaseLocalStorage",tR="fbase_key";class Mf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cm(t,e){return t.transaction([Yh],e?"readwrite":"readonly").objectStore(Yh)}function HB(){const t=indexedDB.deleteDatabase(eR);return new Mf(t).toPromise()}function n_(){const t=indexedDB.open(eR,WB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yh,{keyPath:tR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yh)?e(r):(r.close(),await HB(),e(await n_()))})})}async function xA(t,e,n){const r=cm(t,!0).put({[tR]:e,value:n});return new Mf(r).toPromise()}async function GB(t,e){const n=cm(t,!1).get(e),r=await new Mf(n).toPromise();return r===void 0?null:r.value}function bA(t,e){const n=cm(t,!0).delete(e);return new Mf(n).toPromise()}const KB=800,YB=3;class nR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await n_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>YB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lm._getInstance(zB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await UB(),!this.activeServiceWorker)return;this.sender=new BB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await n_();return await xA(e,Kh,"1"),await bA(e,Kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=cm(i,!1).getAll();return new Mf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nR.type="LOCAL";const XB=nR;new Rf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t,e){return e?Yi(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends Gj{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QB(t){return kB(t.auth,new Yw(t),t.bypassAuthState)}function JB(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),OB(n,new Yw(t),t.bypassAuthState)}async function ZB(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),CB(n,new Yw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QB;case"linkViaPopup":case"linkViaRedirect":return ZB;case"reauthViaPopup":case"reauthViaRedirect":return JB;default:bi(this.auth,"internal-error")}}resolve(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=new Rf(2e3,1e4);async function tF(t,e,n){if(Lr(t.app))return Promise.reject(Ur(t,"operation-not-supported-in-this-environment"));const r=um(t);YV(t,e,Gw);const i=rR(r,n);return new Ha(r,"signInViaPopup",e,i).executeNotNull()}class Ha extends iR{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){io(this.filter.length===1,"Popup operations only handle one event");const e=Kw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eF.get())};e()}}Ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF="pendingRedirect",jh=new Map;class rF extends iR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jh.get(this.auth._key());if(!e){try{const r=await iF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jh.set(this.auth._key(),e)}return this.bypassAuthState||jh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iF(t,e){const n=sF(e),r=aF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function oF(t,e){jh.set(t._key(),e)}function aF(t){return Yi(t._redirectPersistence)}function sF(t){return Nh(nF,t.config.apiKey,t.name)}async function uF(t,e,n=!1){if(Lr(t.app))return Promise.reject(Ja(t));const r=um(t),i=rR(r,e),s=await new rF(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=600*1e3;class cF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oR(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lF&&this.cachedEventUids.clear(),this.cachedEventUids.has(_A(e))}saveEventToCache(e){this.cachedEventUids.add(_A(e)),this.lastProcessedEventTime=Date.now()}}function _A(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dF(t,e={}){return sl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pF=/^https?/;async function mF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dF(t);for(const n of e)try{if(gF(n))return}catch{}bi(t,"unauthorized-domain")}function gF(t){const e=e_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!pF.test(n))return!1;if(hF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=new Rf(3e4,6e4);function wA(){const t=hi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vF(t){return new Promise((e,n)=>{var i,o,s;function r(){wA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wA(),n(Ur(t,"network-request-failed"))},timeout:yF.get()})}if((o=(i=hi().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=hi().gapi)!=null&&s.load)r();else{const l=wB("iframefcb");return hi()[l]=()=>{gapi.load?r():n(Ur(t,"network-request-failed"))},bB(`${_B()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function xF(t){return Rh=Rh||vF(t),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=new Rf(5e3,15e3),_F="__/auth/iframe",wF="emulator/auth/iframe",TF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SF(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Uw(e,wF):`https://${t.config.authDomain}/${_F}`,r={apiKey:e.apiKey,appName:t.name,v:al},i=EF.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${jf(r).slice(1)}`}async function AF(t){const e=await xF(t),n=hi().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:SF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TF,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Ur(t,"network-request-failed"),l=hi().setTimeout(()=>{o(s)},bF.get());function c(){hi().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PF=500,CF=600,OF="_blank",kF="http://localhost";class TA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NF(t,e,n,r=PF,i=CF){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...IF,width:r.toString(),height:i.toString(),top:o,left:s},f=jn().toLowerCase();n&&(l=Vj(f)?OF:n),Lj(f)&&(e=e||kF,c.scrollbars="yes");const h=Object.entries(c).reduce((y,[b,S])=>`${y}${b}=${S},`,"");if(dB(f)&&l!=="_self")return jF(e||"",l),new TA(null);const m=window.open(e||"",l,h);Ve(m,t,"popup-blocked");try{m.focus()}catch{}return new TA(m)}function jF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF="__/auth/handler",DF="emulator/auth/handler",MF=encodeURIComponent("fac");async function EA(t,e,n,r,i,o){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:al,eventId:i};if(e instanceof Gw){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",D$(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))s[h]=m}if(e instanceof Df){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),f=c?`#${MF}=${encodeURIComponent(c)}`:"";return`${LF(t)}?${jf(l).slice(1)}${f}`}function LF({config:t}){return t.emulator?Uw(t,DF):`https://${t.authDomain}/${RF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="webStorageSupport";class $F{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jj,this._completeRedirectFn=uF,this._overrideRedirectResult=oF}async _openPopup(e,n,r,i){var s;io((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await EA(e,n,r,e_(),i);return NF(e,o,Kw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await EA(e,n,r,e_(),i);return FB(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(io(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await AF(e),r=new cF(e);return n.register("authEvent",i=>(Ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vy,{type:Vy},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[Vy];o!==void 0&&n(!!o),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zj()||$j()||Ww()}}const VF=$F;var SA="@firebase/auth",AA="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UF(t){ku(new as("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;Ve(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wj(t)},f=new vB(r,i,o,c);return EB(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ku(new as("auth-internal",e=>{const n=um(e.getProvider("auth").getImmediate());return(r=>new BF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zo(SA,AA,FF(t)),Zo(SA,AA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=300,zF=_j("authIdTokenMaxAge")||qF;let IA=null;const WF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zF)return;const i=n==null?void 0:n.token;IA!==i&&(IA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function HF(t=Ij()){const e=Vw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=TB(t,{popupRedirectResolver:VF,persistence:[XB,$B,Jj]}),r=_j("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=WF(o.toString());jB(n,s,()=>s(n.currentUser)),NB(n,l=>s(l))}}const i=xj("auth");return i&&SB(n,`http://${i}`),n}function GF(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}xB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ur("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",GF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UF("Browser");var KF="firebase",YF="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zo(KF,YF,"app");var PA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,aR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,I){function C(){}C.prototype=I.prototype,A.F=I.prototype,A.prototype=new C,A.prototype.constructor=A,A.D=function(V,$,B){for(var L=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)L[Q-2]=arguments[Q];return I.prototype[$].apply(V,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,I,C){C||(C=0);const V=Array(16);if(typeof I=="string")for(var $=0;$<16;++$)V[$]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for($=0;$<16;++$)V[$]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=A.g[0],C=A.g[1],$=A.g[2];let B=A.g[3],L;L=I+(B^C&($^B))+V[0]+3614090360&4294967295,I=C+(L<<7&4294967295|L>>>25),L=B+($^I&(C^$))+V[1]+3905402710&4294967295,B=I+(L<<12&4294967295|L>>>20),L=$+(C^B&(I^C))+V[2]+606105819&4294967295,$=B+(L<<17&4294967295|L>>>15),L=C+(I^$&(B^I))+V[3]+3250441966&4294967295,C=$+(L<<22&4294967295|L>>>10),L=I+(B^C&($^B))+V[4]+4118548399&4294967295,I=C+(L<<7&4294967295|L>>>25),L=B+($^I&(C^$))+V[5]+1200080426&4294967295,B=I+(L<<12&4294967295|L>>>20),L=$+(C^B&(I^C))+V[6]+2821735955&4294967295,$=B+(L<<17&4294967295|L>>>15),L=C+(I^$&(B^I))+V[7]+4249261313&4294967295,C=$+(L<<22&4294967295|L>>>10),L=I+(B^C&($^B))+V[8]+1770035416&4294967295,I=C+(L<<7&4294967295|L>>>25),L=B+($^I&(C^$))+V[9]+2336552879&4294967295,B=I+(L<<12&4294967295|L>>>20),L=$+(C^B&(I^C))+V[10]+4294925233&4294967295,$=B+(L<<17&4294967295|L>>>15),L=C+(I^$&(B^I))+V[11]+2304563134&4294967295,C=$+(L<<22&4294967295|L>>>10),L=I+(B^C&($^B))+V[12]+1804603682&4294967295,I=C+(L<<7&4294967295|L>>>25),L=B+($^I&(C^$))+V[13]+4254626195&4294967295,B=I+(L<<12&4294967295|L>>>20),L=$+(C^B&(I^C))+V[14]+2792965006&4294967295,$=B+(L<<17&4294967295|L>>>15),L=C+(I^$&(B^I))+V[15]+1236535329&4294967295,C=$+(L<<22&4294967295|L>>>10),L=I+($^B&(C^$))+V[1]+4129170786&4294967295,I=C+(L<<5&4294967295|L>>>27),L=B+(C^$&(I^C))+V[6]+3225465664&4294967295,B=I+(L<<9&4294967295|L>>>23),L=$+(I^C&(B^I))+V[11]+643717713&4294967295,$=B+(L<<14&4294967295|L>>>18),L=C+(B^I&($^B))+V[0]+3921069994&4294967295,C=$+(L<<20&4294967295|L>>>12),L=I+($^B&(C^$))+V[5]+3593408605&4294967295,I=C+(L<<5&4294967295|L>>>27),L=B+(C^$&(I^C))+V[10]+38016083&4294967295,B=I+(L<<9&4294967295|L>>>23),L=$+(I^C&(B^I))+V[15]+3634488961&4294967295,$=B+(L<<14&4294967295|L>>>18),L=C+(B^I&($^B))+V[4]+3889429448&4294967295,C=$+(L<<20&4294967295|L>>>12),L=I+($^B&(C^$))+V[9]+568446438&4294967295,I=C+(L<<5&4294967295|L>>>27),L=B+(C^$&(I^C))+V[14]+3275163606&4294967295,B=I+(L<<9&4294967295|L>>>23),L=$+(I^C&(B^I))+V[3]+4107603335&4294967295,$=B+(L<<14&4294967295|L>>>18),L=C+(B^I&($^B))+V[8]+1163531501&4294967295,C=$+(L<<20&4294967295|L>>>12),L=I+($^B&(C^$))+V[13]+2850285829&4294967295,I=C+(L<<5&4294967295|L>>>27),L=B+(C^$&(I^C))+V[2]+4243563512&4294967295,B=I+(L<<9&4294967295|L>>>23),L=$+(I^C&(B^I))+V[7]+1735328473&4294967295,$=B+(L<<14&4294967295|L>>>18),L=C+(B^I&($^B))+V[12]+2368359562&4294967295,C=$+(L<<20&4294967295|L>>>12),L=I+(C^$^B)+V[5]+4294588738&4294967295,I=C+(L<<4&4294967295|L>>>28),L=B+(I^C^$)+V[8]+2272392833&4294967295,B=I+(L<<11&4294967295|L>>>21),L=$+(B^I^C)+V[11]+1839030562&4294967295,$=B+(L<<16&4294967295|L>>>16),L=C+($^B^I)+V[14]+4259657740&4294967295,C=$+(L<<23&4294967295|L>>>9),L=I+(C^$^B)+V[1]+2763975236&4294967295,I=C+(L<<4&4294967295|L>>>28),L=B+(I^C^$)+V[4]+1272893353&4294967295,B=I+(L<<11&4294967295|L>>>21),L=$+(B^I^C)+V[7]+4139469664&4294967295,$=B+(L<<16&4294967295|L>>>16),L=C+($^B^I)+V[10]+3200236656&4294967295,C=$+(L<<23&4294967295|L>>>9),L=I+(C^$^B)+V[13]+681279174&4294967295,I=C+(L<<4&4294967295|L>>>28),L=B+(I^C^$)+V[0]+3936430074&4294967295,B=I+(L<<11&4294967295|L>>>21),L=$+(B^I^C)+V[3]+3572445317&4294967295,$=B+(L<<16&4294967295|L>>>16),L=C+($^B^I)+V[6]+76029189&4294967295,C=$+(L<<23&4294967295|L>>>9),L=I+(C^$^B)+V[9]+3654602809&4294967295,I=C+(L<<4&4294967295|L>>>28),L=B+(I^C^$)+V[12]+3873151461&4294967295,B=I+(L<<11&4294967295|L>>>21),L=$+(B^I^C)+V[15]+530742520&4294967295,$=B+(L<<16&4294967295|L>>>16),L=C+($^B^I)+V[2]+3299628645&4294967295,C=$+(L<<23&4294967295|L>>>9),L=I+($^(C|~B))+V[0]+4096336452&4294967295,I=C+(L<<6&4294967295|L>>>26),L=B+(C^(I|~$))+V[7]+1126891415&4294967295,B=I+(L<<10&4294967295|L>>>22),L=$+(I^(B|~C))+V[14]+2878612391&4294967295,$=B+(L<<15&4294967295|L>>>17),L=C+(B^($|~I))+V[5]+4237533241&4294967295,C=$+(L<<21&4294967295|L>>>11),L=I+($^(C|~B))+V[12]+1700485571&4294967295,I=C+(L<<6&4294967295|L>>>26),L=B+(C^(I|~$))+V[3]+2399980690&4294967295,B=I+(L<<10&4294967295|L>>>22),L=$+(I^(B|~C))+V[10]+4293915773&4294967295,$=B+(L<<15&4294967295|L>>>17),L=C+(B^($|~I))+V[1]+2240044497&4294967295,C=$+(L<<21&4294967295|L>>>11),L=I+($^(C|~B))+V[8]+1873313359&4294967295,I=C+(L<<6&4294967295|L>>>26),L=B+(C^(I|~$))+V[15]+4264355552&4294967295,B=I+(L<<10&4294967295|L>>>22),L=$+(I^(B|~C))+V[6]+2734768916&4294967295,$=B+(L<<15&4294967295|L>>>17),L=C+(B^($|~I))+V[13]+1309151649&4294967295,C=$+(L<<21&4294967295|L>>>11),L=I+($^(C|~B))+V[4]+4149444226&4294967295,I=C+(L<<6&4294967295|L>>>26),L=B+(C^(I|~$))+V[11]+3174756917&4294967295,B=I+(L<<10&4294967295|L>>>22),L=$+(I^(B|~C))+V[2]+718787259&4294967295,$=B+(L<<15&4294967295|L>>>17),L=C+(B^($|~I))+V[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+($+(L<<21&4294967295|L>>>11))&4294967295,A.g[2]=A.g[2]+$&4294967295,A.g[3]=A.g[3]+B&4294967295}r.prototype.v=function(A,I){I===void 0&&(I=A.length);const C=I-this.blockSize,V=this.C;let $=this.h,B=0;for(;B<I;){if($==0)for(;B<=C;)i(this,A,B),B+=this.blockSize;if(typeof A=="string"){for(;B<I;)if(V[$++]=A.charCodeAt(B++),$==this.blockSize){i(this,V),$=0;break}}else for(;B<I;)if(V[$++]=A[B++],$==this.blockSize){i(this,V),$=0;break}}this.h=$,this.o+=I},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;I=this.o*8;for(var C=A.length-8;C<A.length;++C)A[C]=I&255,I/=256;for(this.v(A),A=Array(16),I=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)A[I++]=this.g[C]>>>V&255;return A};function o(A,I){var C=l;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=I(A)}function s(A,I){this.h=I;const C=[];let V=!0;for(let $=A.length-1;$>=0;$--){const B=A[$]|0;V&&B==I||(C[$]=B,V=!1)}this.g=C}var l={};function c(A){return-128<=A&&A<128?o(A,function(I){return new s([I|0],I<0?-1:0)}):new s([A|0],A<0?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return m;if(A<0)return _(f(-A));const I=[];let C=1;for(let V=0;A>=C;V++)I[V]=A/C|0,C*=4294967296;return new s(I,0)}function h(A,I){if(A.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(A.charAt(0)=="-")return _(h(A.substring(1),I));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=f(Math.pow(I,8));let V=m;for(let B=0;B<A.length;B+=8){var $=Math.min(8,A.length-B);const L=parseInt(A.substring(B,B+$),I);$<8?($=f(Math.pow(I,$)),V=V.j($).add(f(L))):(V=V.j(C),V=V.add(f(L)))}return V}var m=c(0),y=c(1),b=c(16777216);t=s.prototype,t.m=function(){if(E(this))return-_(this).m();let A=0,I=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);A+=(V>=0?V:4294967296+V)*I,I*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S(this))return"0";if(E(this))return"-"+_(this).toString(A);const I=f(Math.pow(A,6));var C=this;let V="";for(;;){const $=D(C,I).g;C=P(C,$.j(I));let B=((C.g.length>0?C.g[0]:C.h)>>>0).toString(A);if(C=$,S(C))return B+V;for(;B.length<6;)B="0"+B;V=B+V}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function S(A){if(A.h!=0)return!1;for(let I=0;I<A.g.length;I++)if(A.g[I]!=0)return!1;return!0}function E(A){return A.h==-1}t.l=function(A){return A=P(this,A),E(A)?-1:S(A)?0:1};function _(A){const I=A.g.length,C=[];for(let V=0;V<I;V++)C[V]=~A.g[V];return new s(C,~A.h).add(y)}t.abs=function(){return E(this)?_(this):this},t.add=function(A){const I=Math.max(this.g.length,A.g.length),C=[];let V=0;for(let $=0;$<=I;$++){let B=V+(this.i($)&65535)+(A.i($)&65535),L=(B>>>16)+(this.i($)>>>16)+(A.i($)>>>16);V=L>>>16,B&=65535,L&=65535,C[$]=L<<16|B}return new s(C,C[C.length-1]&-2147483648?-1:0)};function P(A,I){return A.add(_(I))}t.j=function(A){if(S(this)||S(A))return m;if(E(this))return E(A)?_(this).j(_(A)):_(_(this).j(A));if(E(A))return _(this.j(_(A)));if(this.l(b)<0&&A.l(b)<0)return f(this.m()*A.m());const I=this.g.length+A.g.length,C=[];for(var V=0;V<2*I;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let $=0;$<A.g.length;$++){const B=this.i(V)>>>16,L=this.i(V)&65535,Q=A.i($)>>>16,ee=A.i($)&65535;C[2*V+2*$]+=L*ee,j(C,2*V+2*$),C[2*V+2*$+1]+=B*ee,j(C,2*V+2*$+1),C[2*V+2*$+1]+=L*Q,j(C,2*V+2*$+1),C[2*V+2*$+2]+=B*Q,j(C,2*V+2*$+2)}for(A=0;A<I;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=I;A<2*I;A++)C[A]=0;return new s(C,0)};function j(A,I){for(;(A[I]&65535)!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function R(A,I){this.g=A,this.h=I}function D(A,I){if(S(I))throw Error("division by zero");if(S(A))return new R(m,m);if(E(A))return I=D(_(A),I),new R(_(I.g),_(I.h));if(E(I))return I=D(A,_(I)),new R(_(I.g),I.h);if(A.g.length>30){if(E(A)||E(I))throw Error("slowDivide_ only works with positive integers.");for(var C=y,V=I;V.l(A)<=0;)C=k(C),V=k(V);var $=N(C,1),B=N(V,1);for(V=N(V,2),C=N(C,2);!S(V);){var L=B.add(V);L.l(A)<=0&&($=$.add(C),B=L),V=N(V,1),C=N(C,1)}return I=P(A,$.j(I)),new R($,I)}for($=m;A.l(I)>=0;){for(C=Math.max(1,Math.floor(A.m()/I.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),B=f(C),L=B.j(I);E(L)||L.l(A)>0;)C-=V,B=f(C),L=B.j(I);S(B)&&(B=y),$=$.add(B),A=P(A,L)}return new R($,A)}t.B=function(A){return D(this,A).h},t.and=function(A){const I=Math.max(this.g.length,A.g.length),C=[];for(let V=0;V<I;V++)C[V]=this.i(V)&A.i(V);return new s(C,this.h&A.h)},t.or=function(A){const I=Math.max(this.g.length,A.g.length),C=[];for(let V=0;V<I;V++)C[V]=this.i(V)|A.i(V);return new s(C,this.h|A.h)},t.xor=function(A){const I=Math.max(this.g.length,A.g.length),C=[];for(let V=0;V<I;V++)C[V]=this.i(V)^A.i(V);return new s(C,this.h^A.h)};function k(A){const I=A.g.length+1,C=[];for(let V=0;V<I;V++)C[V]=A.i(V)<<1|A.i(V-1)>>>31;return new s(C,A.h)}function N(A,I){const C=I>>5;I%=32;const V=A.g.length-C,$=[];for(let B=0;B<V;B++)$[B]=I>0?A.i(B+C)>>>I|A.i(B+C+1)<<32-I:A.i(B+C);return new s($,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,aR=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,ea=s}).apply(typeof PA<"u"?PA:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sR,bc,uR,Dh,r_,lR,cR,fR;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var T=0;T<p.length;++T){var O=p[T];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(p,T){if(T)e:{var O=r;p=p.split(".");for(var F=0;F<p.length-1;F++){var X=p[F];if(!(X in O))break e;O=O[X]}p=p[p.length-1],F=O[p],T=T(F),T!=F&&T!=null&&e(O,p,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(T){var O=[],F;for(F in T)Object.prototype.hasOwnProperty.call(T,F)&&O.push([F,T[F]]);return O}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(p){var T=typeof p;return T=="object"&&p!=null||T=="function"}function c(p,T,O){return p.call.apply(p.bind,arguments)}function f(p,T,O){return f=c,f.apply(null,arguments)}function h(p,T){var O=Array.prototype.slice.call(arguments,1);return function(){var F=O.slice();return F.push.apply(F,arguments),p.apply(this,F)}}function m(p,T){function O(){}O.prototype=T.prototype,p.Z=T.prototype,p.prototype=new O,p.prototype.constructor=p,p.Ob=function(F,X,ne){for(var ve=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ve[Ue-2]=arguments[Ue];return T.prototype[X].apply(F,ve)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function b(p){const T=p.length;if(T>0){const O=Array(T);for(let F=0;F<T;F++)O[F]=p[F];return O}return[]}function S(p,T){for(let F=1;F<arguments.length;F++){const X=arguments[F];var O=typeof X;if(O=O!="object"?O:X?Array.isArray(X)?"array":O:"null",O=="array"||O=="object"&&typeof X.length=="number"){O=p.length||0;const ne=X.length||0;p.length=O+ne;for(let ve=0;ve<ne;ve++)p[O+ve]=X[ve]}else p.push(X)}}class E{constructor(T,O){this.i=T,this.j=O,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function _(p){s.setTimeout(()=>{throw p},0)}function P(){var p=A;let T=null;return p.g&&(T=p.g,p.g=p.g.next,p.g||(p.h=null),T.next=null),T}class j{constructor(){this.h=this.g=null}add(T,O){const F=R.get();F.set(T,O),this.h?this.h.next=F:this.g=F,this.h=F}}var R=new E(()=>new D,p=>p.reset());class D{constructor(){this.next=this.g=this.h=null}set(T,O){this.h=T,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let k,N=!1,A=new j,I=()=>{const p=Promise.resolve(void 0);k=()=>{p.then(C)}};function C(){for(var p;p=P();){try{p.h.call(p.g)}catch(O){_(O)}var T=R;T.j(p),T.h<100&&(T.h++,p.next=T.g,T.g=p)}N=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(p,T){this.type=p,this.g=this.target=T,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,T=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const O=()=>{};s.addEventListener("test",O,T),s.removeEventListener("test",O,T)}catch{}return p})();function L(p){return/^[\s\xa0]*$/.test(p)}function Q(p,T){$.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,T)}m(Q,$),Q.prototype.init=function(p,T){const O=this.type=p.type,F=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=T,T=p.relatedTarget,T||(O=="mouseover"?T=p.fromElement:O=="mouseout"&&(T=p.toElement)),this.relatedTarget=T,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),ae=0;function se(p,T,O,F,X){this.listener=p,this.proxy=null,this.src=T,this.type=O,this.capture=!!F,this.ha=X,this.key=++ae,this.da=this.fa=!1}function J(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ie(p,T,O){for(const F in p)T.call(O,p[F],F,p)}function re(p,T){for(const O in p)T.call(void 0,p[O],O,p)}function q(p){const T={};for(const O in p)T[O]=p[O];return T}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(p,T){let O,F;for(let X=1;X<arguments.length;X++){F=arguments[X];for(O in F)p[O]=F[O];for(let ne=0;ne<G.length;ne++)O=G[ne],Object.prototype.hasOwnProperty.call(F,O)&&(p[O]=F[O])}}function _e(p){this.src=p,this.g={},this.h=0}_e.prototype.add=function(p,T,O,F,X){const ne=p.toString();p=this.g[ne],p||(p=this.g[ne]=[],this.h++);const ve=Re(p,T,F,X);return ve>-1?(T=p[ve],O||(T.fa=!1)):(T=new se(T,this.src,ne,!!F,X),T.fa=O,p.push(T)),T};function Ce(p,T){const O=T.type;if(O in p.g){var F=p.g[O],X=Array.prototype.indexOf.call(F,T,void 0),ne;(ne=X>=0)&&Array.prototype.splice.call(F,X,1),ne&&(J(T),p.g[O].length==0&&(delete p.g[O],p.h--))}}function Re(p,T,O,F){for(let X=0;X<p.length;++X){const ne=p[X];if(!ne.da&&ne.listener==T&&ne.capture==!!O&&ne.ha==F)return X}return-1}var We="closure_lm_"+(Math.random()*1e6|0),Le={};function he(p,T,O,F,X){if(Array.isArray(T)){for(let ne=0;ne<T.length;ne++)he(p,T[ne],O,F,X);return null}return O=Ln(O),p&&p[ee]?p.J(T,O,l(F)?!!F.capture:!1,X):Oe(p,T,O,!1,F,X)}function Oe(p,T,O,F,X,ne){if(!T)throw Error("Invalid event type");const ve=l(X)?!!X.capture:!!X;let Ue=yt(p);if(Ue||(p[We]=Ue=new _e(p)),O=Ue.add(T,O,F,ve,ne),O.proxy)return O;if(F=Be(),O.proxy=F,F.src=p,F.listener=O,p.addEventListener)B||(X=ve),X===void 0&&(X=!1),p.addEventListener(T.toString(),F,X);else if(p.attachEvent)p.attachEvent(ze(T.toString()),F);else if(p.addListener&&p.removeListener)p.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Be(){function p(O){return T.call(p.src,p.listener,O)}const T=It;return p}function ce(p,T,O,F,X){if(Array.isArray(T))for(var ne=0;ne<T.length;ne++)ce(p,T[ne],O,F,X);else F=l(F)?!!F.capture:!!F,O=Ln(O),p&&p[ee]?(p=p.i,ne=String(T).toString(),ne in p.g&&(T=p.g[ne],O=Re(T,O,F,X),O>-1&&(J(T[O]),Array.prototype.splice.call(T,O,1),T.length==0&&(delete p.g[ne],p.h--)))):p&&(p=yt(p))&&(T=p.g[T.toString()],p=-1,T&&(p=Re(T,O,F,X)),(O=p>-1?T[p]:null)&&rt(O))}function rt(p){if(typeof p!="number"&&p&&!p.da){var T=p.src;if(T&&T[ee])Ce(T.i,p);else{var O=p.type,F=p.proxy;T.removeEventListener?T.removeEventListener(O,F,p.capture):T.detachEvent?T.detachEvent(ze(O),F):T.addListener&&T.removeListener&&T.removeListener(F),(O=yt(T))?(Ce(O,p),O.h==0&&(O.src=null,T[We]=null)):J(p)}}}function ze(p){return p in Le?Le[p]:Le[p]="on"+p}function It(p,T){if(p.da)p=!0;else{T=new Q(T,this);const O=p.listener,F=p.ha||p.src;p.fa&&rt(p),p=O.call(F,T)}return p}function yt(p){return p=p[We],p instanceof _e?p:null}var Rt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ln(p){return typeof p=="function"?p:(p[Rt]||(p[Rt]=function(T){return p.handleEvent(T)}),p[Rt])}function pt(){V.call(this),this.i=new _e(this),this.M=this,this.G=null}m(pt,V),pt.prototype[ee]=!0,pt.prototype.removeEventListener=function(p,T,O,F){ce(this,p,T,O,F)};function vt(p,T){var O,F=p.G;if(F)for(O=[];F;F=F.G)O.push(F);if(p=p.M,F=T.type||T,typeof T=="string")T=new $(T,p);else if(T instanceof $)T.target=T.target||p;else{var X=T;T=new $(F,p),ge(T,X)}X=!0;let ne,ve;if(O)for(ve=O.length-1;ve>=0;ve--)ne=T.g=O[ve],X=Kt(ne,F,!0,T)&&X;if(ne=T.g=p,X=Kt(ne,F,!0,T)&&X,X=Kt(ne,F,!1,T)&&X,O)for(ve=0;ve<O.length;ve++)ne=T.g=O[ve],X=Kt(ne,F,!1,T)&&X}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var p=this.i;for(const T in p.g){const O=p.g[T];for(let F=0;F<O.length;F++)J(O[F]);delete p.g[T],p.h--}}this.G=null},pt.prototype.J=function(p,T,O,F){return this.i.add(String(p),T,!1,O,F)},pt.prototype.K=function(p,T,O,F){return this.i.add(String(p),T,!0,O,F)};function Kt(p,T,O,F){if(T=p.i.g[String(T)],!T)return!0;T=T.concat();let X=!0;for(let ne=0;ne<T.length;++ne){const ve=T[ne];if(ve&&!ve.da&&ve.capture==O){const Ue=ve.listener,$t=ve.ha||ve.src;ve.fa&&Ce(p.i,ve),X=Ue.call($t,F)!==!1&&X}}return X&&!F.defaultPrevented}function Kn(p,T){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:s.setTimeout(p,T||0)}function Ai(p){p.g=Kn(()=>{p.g=null,p.i&&(p.i=!1,Ai(p))},p.l);const T=p.h;p.h=null,p.m.apply(null,T)}class ma extends V{constructor(T,O){super(),this.m=T,this.l=O,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Ai(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(p){V.call(this),this.h=p,this.g={}}m(Sr,V);var xl=[];function Es(p){ie(p.g,function(T,O){this.g.hasOwnProperty(O)&&rt(T)},p),p.g={}}Sr.prototype.N=function(){Sr.Z.N.call(this),Es(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mo=s.JSON.stringify,Xf=s.JSON.parse,ga=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function go(){}function Qf(){}var yo={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ss(){$.call(this,"d")}m(Ss,$);function bl(){$.call(this,"c")}m(bl,$);var Ar={},As=null;function vo(){return As=As||new pt}Ar.Ia="serverreachability";function Is(p){$.call(this,Ar.Ia,p)}m(Is,$);function Ii(p){const T=vo();vt(T,new Is(T))}Ar.STAT_EVENT="statevent";function Pi(p,T){$.call(this,Ar.STAT_EVENT,p),this.stat=T}m(Pi,$);function Dt(p){const T=vo();vt(T,new Pi(T,p))}Ar.Ja="timingevent";function _l(p,T){$.call(this,Ar.Ja,p),this.size=T}m(_l,$);function xo(p,T){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},T)}function bo(){this.g=!0}bo.prototype.ua=function(){this.g=!1};function Jf(p,T,O,F,X,ne){p.info(function(){if(p.g)if(ne){var ve="",Ue=ne.split("&");for(let ft=0;ft<Ue.length;ft++){var $t=Ue[ft].split("=");if($t.length>1){const Ft=$t[0];$t=$t[1];const er=Ft.split("_");ve=er.length>=2&&er[1]=="type"?ve+(Ft+"="+$t+"&"):ve+(Ft+"=redacted&")}}}else ve=null;else ve=ne;return"XMLHTTP REQ ("+F+") [attempt "+X+"]: "+T+`
`+O+`
`+ve})}function Zf(p,T,O,F,X,ne,ve){p.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+X+"]: "+T+`
`+O+`
`+ne+" "+ve})}function Hr(p,T,O,F){p.info(function(){return"XMLHTTP TEXT ("+T+"): "+ya(p,O)+(F?" "+F:"")})}function ed(p,T){p.info(function(){return"TIMEOUT: "+T})}bo.prototype.info=function(){};function ya(p,T){if(!p.g)return T;if(!T)return null;try{const ne=JSON.parse(T);if(ne){for(p=0;p<ne.length;p++)if(Array.isArray(ne[p])){var O=ne[p];if(!(O.length<2)){var F=O[1];if(Array.isArray(F)&&!(F.length<1)){var X=F[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ve=1;ve<F.length;ve++)F[ve]=""}}}}return mo(ne)}catch{return T}}var _o={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},td;function Ci(){}m(Ci,go),Ci.prototype.g=function(){return new XMLHttpRequest},td=new Ci;function Gr(p){return encodeURIComponent(String(p))}function Ps(p){var T=1;p=p.split(":");const O=[];for(;T>0&&p.length;)O.push(p.shift()),T--;return p.length&&O.push(p.join(":")),O}function ur(p,T,O,F){this.j=p,this.i=T,this.l=O,this.S=F||1,this.V=new Sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new nd}function nd(){this.i=null,this.g="",this.h=!1}var rd={},wl={};function Ir(p,T,O){p.M=1,p.A=ki(lr(T)),p.u=O,p.R=!0,Tl(p,null)}function Tl(p,T){p.F=Date.now(),va(p),p.B=lr(p.A);var O=p.B,F=p.S;Array.isArray(F)||(F=[String(F)]),jl(O.i,"t",F),p.C=0,O=p.j.L,p.h=new nd,p.g=hd(p.j,O?T:null,!p.u),p.P>0&&(p.O=new ma(f(p.Y,p,p.g),p.P)),T=p.V,O=p.g,F=p.ba;var X="readystatechange";Array.isArray(X)||(X&&(xl[0]=X.toString()),X=xl);for(let ne=0;ne<X.length;ne++){const ve=he(O,X[ne],F||T.handleEvent,!1,T.h||T);if(!ve)break;T.g[ve.key]=ve}T=p.J?q(p.J):{},p.u?(p.v||(p.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,T)):(p.v="GET",p.g.ea(p.B,p.v,null,T)),Ii(),Jf(p.i,p.v,p.B,p.l,p.S,p.u)}ur.prototype.ba=function(p){p=p.target;const T=this.O;T&&ei(p)==3?T.j():this.Y(p)},ur.prototype.Y=function(p){try{if(p==this.g)e:{const Ue=ei(this.g),$t=this.g.ya(),ft=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||fd(this.g)))){this.K||Ue!=4||$t==7||($t==8||ft<=0?Ii(3):Ii(2)),Cs(this);var T=this.g.ca();this.X=T;var O=id(this);if(this.o=T==200,Zf(this.i,this.v,this.B,this.l,this.S,Ue,T),this.o){if(this.U&&!this.L){t:{if(this.g){var F,X=this.g;if((F=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(F)){var ne=F;break t}}ne=null}if(p=ne)Hr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_t(this,p);else{this.o=!1,this.m=3,Dt(12),Oi(this),xa(this);break e}}if(this.R){p=!0;let Ft;for(;!this.K&&this.C<O.length;)if(Ft=ad(this,O),Ft==wl){Ue==4&&(this.m=4,Dt(14),p=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==rd){this.m=4,Dt(15),Hr(this.i,this.l,O,"[Invalid Chunk]"),p=!1;break}else Hr(this.i,this.l,Ft,null),_t(this,Ft);if(od(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||O.length!=0||this.h.h||(this.m=1,Dt(16),p=!1),this.o=this.o&&p,!p)Hr(this.i,this.l,O,"[Invalid Chunked Response]"),Oi(this),xa(this);else if(O.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Pa(ve),ve.P=!0,Dt(11))}}else Hr(this.i,this.l,O,null),_t(this,O);Ue==4&&Oi(this),this.o&&!this.K&&(Ue==4?Vs(this.j,this):(this.o=!1,va(this)))}else Dl(this.g),T==400&&O.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),Oi(this),xa(this)}}}catch{}finally{}};function id(p){if(!od(p))return p.g.la();const T=fd(p.g);if(T==="")return"";let O="";const F=T.length,X=ei(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Oi(p),xa(p),"";p.h.i=new s.TextDecoder}for(let ne=0;ne<F;ne++)p.h.h=!0,O+=p.h.i.decode(T[ne],{stream:!(X&&ne==F-1)});return T.length=0,p.h.g+=O,p.C=0,p.h.g}function od(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function ad(p,T){var O=p.C,F=T.indexOf(`
`,O);return F==-1?wl:(O=Number(T.substring(O,F)),isNaN(O)?rd:(F+=1,F+O>T.length?wl:(T=T.slice(F,F+O),p.C=F+O,T)))}ur.prototype.cancel=function(){this.K=!0,Oi(this)};function va(p){p.T=Date.now()+p.H,El(p,p.H)}function El(p,T){if(p.D!=null)throw Error("WatchDog timer not null");p.D=xo(f(p.aa,p),T)}function Cs(p){p.D&&(s.clearTimeout(p.D),p.D=null)}ur.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(ed(this.i,this.B),this.M!=2&&(Ii(),Dt(17)),Oi(this),this.m=2,xa(this)):El(this,this.T-p)};function xa(p){p.j.I==0||p.K||Vs(p.j,p)}function Oi(p){Cs(p);var T=p.O;T&&typeof T.dispose=="function"&&T.dispose(),p.O=null,Es(p.V),p.g&&(T=p.g,p.g=null,T.abort(),T.dispose())}function _t(p,T){try{var O=p.j;if(O.I!=0&&(O.g==p||Al(O.h,p))){if(!p.L&&Al(O.h,p)&&O.I==3){try{var F=O.Ba.g.parse(T)}catch{F=null}if(Array.isArray(F)&&F.length==3){var X=F;if(X[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<p.F)$s(O),Jn(O);else break e;ri(O),Dt(18)}}else O.xa=X[1],0<O.xa-O.K&&X[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=xo(f(O.Va,O),6e3));ba(O.h)<=1&&O.ta&&(O.ta=void 0)}else Zn(O,11)}else if((p.L||O.g==p)&&$s(O),!L(T))for(X=O.Ba.g.parse(T),T=0;T<X.length;T++){let ft=X[T];const Ft=ft[0];if(!(Ft<=O.K))if(O.K=Ft,ft=ft[1],O.I==2)if(ft[0]=="c"){O.M=ft[1],O.ba=ft[2];const er=ft[3];er!=null&&(O.ka=er,O.j.info("VER="+O.ka));const Mi=ft[4];Mi!=null&&(O.za=Mi,O.j.info("SVER="+O.za));const ii=ft[5];ii!=null&&typeof ii=="number"&&ii>0&&(F=1.5*ii,O.O=F,O.j.info("backChannelRequestTimeoutMs_="+F)),F=O;const oi=p.g;if(oi){const Us=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var ne=F.h;ne.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(ks(ne,ne.h),ne.h=null))}if(F.G){const $l=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;$l&&(F.wa=$l,it(F.J,F.G,$l))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-p.F,O.j.info("Handshake RTT: "+O.T+"ms")),F=O;var ve=p;if(F.na=Ll(F,F.L?F.ba:null,F.W),ve.L){_a(F.h,ve);var Ue=ve,$t=F.O;$t&&(Ue.H=$t),Ue.D&&(Cs(Ue),va(Ue)),F.g=ve}else wn(F);O.i.length>0&&Di(O)}else ft[0]!="stop"&&ft[0]!="close"||Zn(O,7);else O.I==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?Zn(O,7):Ms(O):ft[0]!="noop"&&O.l&&O.l.qa(ft),O.A=0)}}Ii(4)}catch{}}var og=class{constructor(p,T){this.g=p,this.map=T}};function Os(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sl(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ba(p){return p.h?1:p.g?p.g.size:0}function Al(p,T){return p.h?p.h==T:p.g?p.g.has(T):!1}function ks(p,T){p.g?p.g.add(T):p.h=T}function _a(p,T){p.h&&p.h==T?p.h=null:p.g&&p.g.has(T)&&p.g.delete(T)}Os.prototype.cancel=function(){if(this.i=Yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Yn(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let T=p.i;for(const O of p.g.values())T=T.concat(O.G);return T}return b(p.i)}var sd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xn(p,T){if(p){p=p.split("&");for(let O=0;O<p.length;O++){const F=p[O].indexOf("=");let X,ne=null;F>=0?(X=p[O].substring(0,F),ne=p[O].substring(F+1)):X=p[O],T(X,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Kr(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;p instanceof Kr?(this.l=p.l,wa(this,p.j),this.o=p.o,this.g=p.g,Yr(this,p.u),this.h=p.h,To(this,Rl(p.i)),this.m=p.m):p&&(T=String(p).match(sd))?(this.l=!1,wa(this,T[1]||"",!0),this.o=Ta(T[2]||""),this.g=Ta(T[3]||"",!0),Yr(this,T[4]),this.h=Ta(T[5]||"",!0),To(this,T[6]||"",!0),this.m=Ta(T[7]||"")):(this.l=!1,this.i=new Qe(null,this.l))}Kr.prototype.toString=function(){const p=[];var T=this.j;T&&p.push(Ea(T,Pl,!0),":");var O=this.g;return(O||T=="file")&&(p.push("//"),(T=this.o)&&p.push(Ea(T,Pl,!0),"@"),p.push(Gr(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&p.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&p.push("/"),p.push(Ea(O,O.charAt(0)=="/"?Sa:Cl,!0))),(O=this.i.toString())&&p.push("?",O),(O=this.m)&&p.push("#",Ea(O,Ol)),p.join("")},Kr.prototype.resolve=function(p){const T=lr(this);let O=!!p.j;O?wa(T,p.j):O=!!p.o,O?T.o=p.o:O=!!p.g,O?T.g=p.g:O=p.u!=null;var F=p.h;if(O)Yr(T,p.u);else if(O=!!p.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var X=T.h.lastIndexOf("/");X!=-1&&(F=T.h.slice(0,X+1)+F)}if(X=F,X==".."||X==".")F="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){F=X.lastIndexOf("/",0)==0,X=X.split("/");const ne=[];for(let ve=0;ve<X.length;){const Ue=X[ve++];Ue=="."?F&&ve==X.length&&ne.push(""):Ue==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),F&&ve==X.length&&ne.push("")):(ne.push(Ue),F=!0)}F=ne.join("/")}else F=X}return O?T.h=F:O=p.i.toString()!=="",O?To(T,Rl(p.i)):O=!!p.m,O&&(T.m=p.m),T};function lr(p){return new Kr(p)}function wa(p,T,O){p.j=O?Ta(T,!0):T,p.j&&(p.j=p.j.replace(/:$/,""))}function Yr(p,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);p.u=T}else p.u=null}function To(p,T,O){T instanceof Qe?(p.i=T,js(p.i,p.l)):(O||(T=Ea(T,ag)),p.i=new Qe(T,p.l))}function it(p,T,O){p.i.set(T,O)}function ki(p){return it(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Ta(p,T){return p?T?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ea(p,T,O){return typeof p=="string"?(p=encodeURI(p).replace(T,Il),O&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Il(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Pl=/[#\/\?@]/g,Cl=/[#\?:]/g,Sa=/[#\?]/g,ag=/[#\?@]/g,Ol=/#/g;function Qe(p,T){this.h=this.g=null,this.i=p||null,this.j=!!T}function Xr(p){p.g||(p.g=new Map,p.h=0,p.i&&Xn(p.i,function(T,O){p.add(decodeURIComponent(T.replace(/\+/g," ")),O)}))}t=Qe.prototype,t.add=function(p,T){Xr(this),this.i=null,p=Qr(this,p);let O=this.g.get(p);return O||this.g.set(p,O=[]),O.push(T),this.h+=1,this};function kl(p,T){Xr(p),T=Qr(p,T),p.g.has(T)&&(p.i=null,p.h-=p.g.get(T).length,p.g.delete(T))}function Ns(p,T){return Xr(p),T=Qr(p,T),p.g.has(T)}t.forEach=function(p,T){Xr(this),this.g.forEach(function(O,F){O.forEach(function(X){p.call(T,X,F,this)},this)},this)};function Nl(p,T){Xr(p);let O=[];if(typeof T=="string")Ns(p,T)&&(O=O.concat(p.g.get(Qr(p,T))));else for(p=Array.from(p.g.values()),T=0;T<p.length;T++)O=O.concat(p[T]);return O}t.set=function(p,T){return Xr(this),this.i=null,p=Qr(this,p),Ns(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[T]),this.h+=1,this},t.get=function(p,T){return p?(p=Nl(this,p),p.length>0?String(p[0]):T):T};function jl(p,T,O){kl(p,T),O.length>0&&(p.i=null,p.g.set(Qr(p,T),b(O)),p.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],T=Array.from(this.g.keys());for(let F=0;F<T.length;F++){var O=T[F];const X=Gr(O);O=Nl(this,O);for(let ne=0;ne<O.length;ne++){let ve=X;O[ne]!==""&&(ve+="="+Gr(O[ne])),p.push(ve)}}return this.i=p.join("&")};function Rl(p){const T=new Qe;return T.i=p.i,p.g&&(T.g=new Map(p.g),T.h=p.h),T}function Qr(p,T){return T=String(T),p.j&&(T=T.toLowerCase()),T}function js(p,T){T&&!p.j&&(Xr(p),p.i=null,p.g.forEach(function(O,F){const X=F.toLowerCase();F!=X&&(kl(this,F),jl(this,X,O))},p)),p.j=T}function Jr(p,T){const O=new bo;if(s.Image){const F=new Image;F.onload=h(hn,O,"TestLoadImage: loaded",!0,T,F),F.onerror=h(hn,O,"TestLoadImage: error",!1,T,F),F.onabort=h(hn,O,"TestLoadImage: abort",!1,T,F),F.ontimeout=h(hn,O,"TestLoadImage: timeout",!1,T,F),s.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=p}else T(!1)}function Zr(p,T){const O=new bo,F=new AbortController,X=setTimeout(()=>{F.abort(),hn(O,"TestPingServer: timeout",!1,T)},1e4);fetch(p,{signal:F.signal}).then(ne=>{clearTimeout(X),ne.ok?hn(O,"TestPingServer: ok",!0,T):hn(O,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(X),hn(O,"TestPingServer: error",!1,T)})}function hn(p,T,O,F,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),F(O)}catch{}}function Aa(){this.g=new ga}function Ni(p){this.i=p.Sb||null,this.h=p.ab||!1}m(Ni,go),Ni.prototype.g=function(){return new Qn(this.i,this.h)};function Qn(p,T){pt.call(this),this.H=p,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Qn,pt),t=Qn.prototype,t.open=function(p,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=T,this.readyState=1,Pr(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(T.body=p),(this.H||s).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Eo(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ud(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function ud(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var T=p.value?p.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!p.done}))&&(this.response=this.responseText+=T)}p.done?Eo(this):Pr(this),this.readyState==3&&ud(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Eo(this))},t.Na=function(p){this.g&&(this.response=p,Eo(this))},t.ga=function(){this.g&&Eo(this)};function Eo(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Pr(p)}t.setRequestHeader=function(p,T){this.A.append(p,T)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],T=this.h.entries();for(var O=T.next();!O.done;)O=O.value,p.push(O[0]+": "+O[1]),O=T.next();return p.join(`\r
`)};function Pr(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Qn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ld(p){let T="";return ie(p,function(O,F){T+=F,T+=":",T+=O,T+=`\r
`}),T}function Rs(p,T,O){e:{for(F in O){var F=!1;break e}F=!0}F||(O=ld(O),typeof p=="string"?O!=null&&Gr(O):it(p,T,O))}function mt(p){pt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(mt,pt);var cd=/^https?$/i,sg=["POST","PUT"];t=mt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,T,O,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);T=T?T.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():td.g(),this.g.onreadystatechange=y(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(p),!0),this.B=!1}catch(ne){So(this,ne);return}if(p=O||"",O=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var X in F)O.set(X,F[X]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ne of F.keys())O.set(ne,F.get(ne));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(O.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=s.FormData&&p instanceof s.FormData,!(Array.prototype.indexOf.call(sg,T,void 0)>=0)||F||X||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ve]of O)this.g.setRequestHeader(ne,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ne){So(this,ne)}};function So(p,T){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=T,p.o=5,Ao(p),Ri(p)}function Ao(p){p.A||(p.A=!0,vt(p,"complete"),vt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,vt(this,"complete"),vt(this,"abort"),Ri(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ji(this):this.Xa())},t.Xa=function(){ji(this)};function ji(p){if(p.h&&typeof o<"u"){if(p.v&&ei(p)==4)setTimeout(p.Ca.bind(p),0);else if(vt(p,"readystatechange"),ei(p)==4){p.h=!1;try{const ne=p.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var O;if(!(O=T)){var F;if(F=ne===0){let ve=String(p.D).match(sd)[1]||null;!ve&&s.self&&s.self.location&&(ve=s.self.location.protocol.slice(0,-1)),F=!cd.test(ve?ve.toLowerCase():"")}O=F}if(O)vt(p,"complete"),vt(p,"success");else{p.o=6;try{var X=ei(p)>2?p.g.statusText:""}catch{X=""}p.l=X+" ["+p.ca()+"]",Ao(p)}}finally{Ri(p)}}}}function Ri(p,T){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const O=p.g;p.g=null,T||vt(p,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ei(p){return p.g?p.g.readyState:0}t.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var T=this.g.responseText;return p&&T.indexOf(p)==0&&(T=T.substring(p.length)),Xf(T)}};function fd(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Dl(p){const T={};p=(p.g&&ei(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<p.length;F++){if(L(p[F]))continue;var O=Ps(p[F]);const X=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const ne=T[X]||[];T[X]=ne,ne.push(O)}re(T,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ti(p,T,O){return O&&O.internalChannelParams&&O.internalChannelParams[p]||T}function Ds(p){this.za=0,this.i=[],this.j=new bo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ti("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ti("baseRetryDelayMs",5e3,p),this.Za=ti("retryDelaySeedMs",1e4,p),this.Ta=ti("forwardChannelMaxRetries",2,p),this.va=ti("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Os(p&&p.concurrentRequestLimit),this.Ba=new Aa,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ds.prototype,t.ka=8,t.I=1,t.connect=function(p,T,O,F){Dt(0),this.W=p,this.H=T||{},O&&F!==void 0&&(this.H.OSID=O,this.H.OAID=F),this.F=this.X,this.J=Ll(this,null,this.W),Di(this)};function Ms(p){if(Ls(p),p.I==3){var T=p.V++,O=lr(p.J);if(it(O,"SID",p.M),it(O,"RID",T),it(O,"TYPE","terminate"),ni(p,O),T=new ur(p,p.j,T),T.M=2,T.A=ki(lr(O)),O=!1,s.navigator&&s.navigator.sendBeacon)try{O=s.navigator.sendBeacon(T.A.toString(),"")}catch{}!O&&s.Image&&(new Image().src=T.A,O=!0),O||(T.g=hd(T.j,null),T.g.ea(T.A)),T.F=Date.now(),va(T)}Ca(p)}function Jn(p){p.g&&(Pa(p),p.g.cancel(),p.g=null)}function Ls(p){Jn(p),p.v&&(s.clearTimeout(p.v),p.v=null),$s(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&s.clearTimeout(p.m),p.m=null)}function Di(p){if(!Sl(p.h)&&!p.m){p.m=!0;var T=p.Ea;k||I(),N||(k(),N=!0),A.add(T,p),p.D=0}}function dd(p,T){return ba(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=T.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=xo(f(p.Ea,p,T),Bs(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const X=new ur(this,this.j,p);let ne=this.o;if(this.U&&(ne?(ne=q(ne),ge(ne,this.U)):ne=this.U),this.u!==null||this.R||(X.J=ne,ne=null),this.S)e:{for(var T=0,O=0;O<this.i.length;O++){t:{var F=this.i[O];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(T+=F,T>4096){T=O;break e}if(T===4096||O===this.i.length-1){T=O+1;break e}}T=1e3}else T=1e3;T=Ml(this,X,T),O=lr(this.J),it(O,"RID",p),it(O,"CVER",22),this.G&&it(O,"X-HTTP-Session-Id",this.G),ni(this,O),ne&&(this.R?T="headers="+Gr(ld(ne))+"&"+T:this.u&&Rs(O,this.u,ne)),ks(this.h,X),this.Ra&&it(O,"TYPE","init"),this.S?(it(O,"$req",T),it(O,"SID","null"),X.U=!0,Ir(X,O,null)):Ir(X,O,T),this.I=2}}else this.I==3&&(p?Ia(this,p):this.i.length==0||Sl(this.h)||Ia(this))};function Ia(p,T){var O;T?O=T.l:O=p.V++;const F=lr(p.J);it(F,"SID",p.M),it(F,"RID",O),it(F,"AID",p.K),ni(p,F),p.u&&p.o&&Rs(F,p.u,p.o),O=new ur(p,p.j,O,p.D+1),p.u===null&&(O.J=p.o),T&&(p.i=T.G.concat(p.i)),T=Ml(p,O,1e3),O.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),ks(p.h,O),Ir(O,F,T)}function ni(p,T){p.H&&ie(p.H,function(O,F){it(T,F,O)}),p.l&&ie({},function(O,F){it(T,F,O)})}function Ml(p,T,O){O=Math.min(p.i.length,O);const F=p.l?f(p.l.Ka,p.l,p):null;e:{var X=p.i;let Ue=-1;for(;;){const $t=["count="+O];Ue==-1?O>0?(Ue=X[0].g,$t.push("ofs="+Ue)):Ue=0:$t.push("ofs="+Ue);let ft=!0;for(let Ft=0;Ft<O;Ft++){var ne=X[Ft].g;const er=X[Ft].map;if(ne-=Ue,ne<0)Ue=Math.max(0,X[Ft].g-100),ft=!1;else try{ne="req"+ne+"_"||"";try{var ve=er instanceof Map?er:Object.entries(er);for(const[Mi,ii]of ve){let oi=ii;l(ii)&&(oi=mo(ii)),$t.push(ne+Mi+"="+encodeURIComponent(oi))}}catch(Mi){throw $t.push(ne+"type="+encodeURIComponent("_badmap")),Mi}}catch{F&&F(er)}}if(ft){ve=$t.join("&");break e}}ve=void 0}return p=p.i.splice(0,O),T.G=p,ve}function wn(p){if(!p.g&&!p.v){p.Y=1;var T=p.Da;k||I(),N||(k(),N=!0),A.add(T,p),p.A=0}}function ri(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=xo(f(p.Da,p),Bs(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,Io(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=xo(f(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Jn(this),Io(this))};function Pa(p){p.B!=null&&(s.clearTimeout(p.B),p.B=null)}function Io(p){p.g=new ur(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var T=lr(p.na);it(T,"RID","rpc"),it(T,"SID",p.M),it(T,"AID",p.K),it(T,"CI",p.F?"0":"1"),!p.F&&p.ia&&it(T,"TO",p.ia),it(T,"TYPE","xmlhttp"),ni(p,T),p.u&&p.o&&Rs(T,p.u,p.o),p.O&&(p.g.H=p.O);var O=p.g;p=p.ba,O.M=1,O.A=ki(lr(T)),O.u=null,O.R=!0,Tl(O,p)}t.Va=function(){this.C!=null&&(this.C=null,Jn(this),ri(this),Dt(19))};function $s(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function Vs(p,T){var O=null;if(p.g==T){$s(p),Pa(p),p.g=null;var F=2}else if(Al(p.h,T))O=T.G,_a(p.h,T),F=1;else return;if(p.I!=0){if(T.o)if(F==1){O=T.u?T.u.length:0,T=Date.now()-T.F;var X=p.D;F=vo(),vt(F,new _l(F,O)),Di(p)}else wn(p);else if(X=T.m,X==3||X==0&&T.X>0||!(F==1&&dd(p,T)||F==2&&ri(p)))switch(O&&O.length>0&&(T=p.h,T.i=T.i.concat(O)),X){case 1:Zn(p,5);break;case 4:Zn(p,10);break;case 3:Zn(p,6);break;default:Zn(p,2)}}}function Bs(p,T){let O=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(O*=2),O*T}function Zn(p,T){if(p.j.info("Error code "+T),T==2){var O=f(p.bb,p),F=p.Ua;const X=!F;F=new Kr(F||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||wa(F,"https"),ki(F),X?Jr(F.toString(),O):Zr(F.toString(),O)}else Dt(2);p.I=0,p.l&&p.l.pa(T),Ca(p),Ls(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Ca(p){if(p.I=0,p.ja=[],p.l){const T=Yn(p.h);(T.length!=0||p.i.length!=0)&&(S(p.ja,T),S(p.ja,p.i),p.h.i.length=0,b(p.i),p.i.length=0),p.l.oa()}}function Ll(p,T,O){var F=O instanceof Kr?lr(O):new Kr(O);if(F.g!="")T&&(F.g=T+"."+F.g),Yr(F,F.u);else{var X=s.location;F=X.protocol,T=T?T+"."+X.hostname:X.hostname,X=+X.port;const ne=new Kr(null);F&&wa(ne,F),T&&(ne.g=T),X&&Yr(ne,X),O&&(ne.h=O),F=ne}return O=p.G,T=p.wa,O&&T&&it(F,O,T),it(F,"VER",p.ka),ni(p,F),F}function hd(p,T,O){if(T&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=p.Aa&&!p.ma?new mt(new Ni({ab:O})):new mt(p.ma),T.Fa(p.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pd(){}t=pd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Fs(){}Fs.prototype.g=function(p,T){return new pn(p,T)};function pn(p,T){pt.call(this),this.g=new Ds(T),this.l=p,this.h=T&&T.messageUrlParams||null,p=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(p?p["X-WebChannel-Content-Type"]=T.messageContentType:p={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(p?p["X-WebChannel-Client-Profile"]=T.sa:p={"X-WebChannel-Client-Profile":T.sa}),this.g.U=p,(p=T&&T.Qb)&&!L(p)&&(this.g.u=p),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!L(T)&&(this.g.G=T,p=this.h,p!==null&&T in p&&(p=this.h,T in p&&delete p[T])),this.j=new Po(this)}m(pn,pt),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Ms(this.g)},pn.prototype.o=function(p){var T=this.g;if(typeof p=="string"){var O={};O.__data__=p,p=O}else this.v&&(O={},O.__data__=mo(p),p=O);T.i.push(new og(T.Ya++,p)),T.I==3&&Di(T)},pn.prototype.N=function(){this.g.l=null,delete this.j,Ms(this.g),delete this.g,pn.Z.N.call(this)};function md(p){Ss.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var T=p.__sm__;if(T){e:{for(const O in T){p=O;break e}p=void 0}(this.i=p)&&(p=this.i,T=T!==null&&p in T?T[p]:void 0),this.data=T}else this.data=p}m(md,Ss);function gd(){bl.call(this),this.status=1}m(gd,bl);function Po(p){this.g=p}m(Po,pd),Po.prototype.ra=function(){vt(this.g,"a")},Po.prototype.qa=function(p){vt(this.g,new md(p))},Po.prototype.pa=function(p){vt(this.g,new gd)},Po.prototype.oa=function(){vt(this.g,"b")},Fs.prototype.createWebChannel=Fs.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,fR=function(){return new Fs},cR=function(){return vo()},lR=Ar,r_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_o.NO_ERROR=0,_o.TIMEOUT=8,_o.HTTP_ERROR=6,Dh=_o,wo.COMPLETE="complete",uR=wo,Qf.EventType=yo,yo.OPEN="a",yo.CLOSE="b",yo.ERROR="c",yo.MESSAGE="d",pt.prototype.listen=pt.prototype.J,bc=Qf,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,sR=mt}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="12.9.0";function XF(t){ul=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new Lw("@firebase/firestore");function hu(){return us.logLevel}function we(t,...e){if(us.logLevel<=Ke.DEBUG){const n=e.map(Xw);us.debug(`Firestore (${ul}): ${t}`,...n)}}function oo(t,...e){if(us.logLevel<=Ke.ERROR){const n=e.map(Xw);us.error(`Firestore (${ul}): ${t}`,...n)}}function ls(t,...e){if(us.logLevel<=Ke.WARN){const n=e.map(Xw);us.warn(`Firestore (${ul}): ${t}`,...n)}}function Xw(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,dR(t,r,n)}function dR(t,e,n){let r=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw oo(r),new Error(r)}function ct(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||dR(e,i,r)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends co{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Cn.UNAUTHENTICATED)))}shutdown(){}}class JF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ZF{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Za;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Za,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=o;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Za)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string",31837,{l:r}),new hR(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Cn(e)}}class e5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class t5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new e5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class CA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const r=o=>{o.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,we("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new CA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new CA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=r5(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function i_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return By(i)===By(o)?Ye(i,o):By(i)?1:-1}return Ye(t.length,e.length)}const i5=55296,o5=57343;function By(t){const e=t.charCodeAt(0);return e>=i5&&e<=o5}function ju(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="__name__";class ci{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=ci.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Ye(e.length,n.length)}static compareSegments(e,n){const r=ci.isNumericId(e),i=ci.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ci.extractNumericId(e).compare(ci.extractNumericId(n)):i_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ea.fromString(e.substring(4,e.length-2))}}class St extends ci{construct(e,n,r){return new St(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new St(n)}static emptyPath(){return new St([])}}const a5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends ci{construct(e,n,r){return new xn(e,n,r)}static isValidIdentifier(e){return a5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OA}static keyField(){return new xn([OA])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Pe(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Pe(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Pe(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new Pe(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(n)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(St.fromString(e))}static fromName(e){return new ke(St.fromString(e).popFirst(5))}static empty(){return new ke(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new St(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t,e,n){if(!n)throw new Pe(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function s5(t,e,n,r){if(e===!0&&r===!0)throw new Pe(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kA(t){if(!ke.isDocumentKey(t))throw new Pe(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NA(t){if(ke.isDocumentKey(t))throw new Pe(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Jw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jw(t);throw new Pe(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lf(t,e){if(!mR(t))throw new Pe(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Pe(fe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=-62135596800,RA=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*RA);return new At(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jA)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RA}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lf(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Wt("string",At._jsonSchemaVersion),seconds:Wt("number"),nanoseconds:Wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new At(0,0))}static max(){return new Fe(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=-1;function u5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new ra(i,ke.empty(),e)}function l5(t){return new ra(t.readTime,t.key,Fc)}class ra{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ra(Fe.min(),ke.empty(),Fc)}static max(){return new ra(Fe.max(),ke.empty(),Fc)}}function c5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==f5)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,r)=>{n(e)}))}static reject(e){return new ue(((n,r)=>{r(e)}))}static waitFor(e){return new ue(((n,r)=>{let i=0,o=0,s=!1;e.forEach((l=>{++i,l.next((()=>{++o,s&&o===i&&n()}),(c=>r(c)))})),s=!0,o===i&&n()}))}static or(e){let n=ue.resolve(!1);for(const r of e)n=n.next((i=>i?ue.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new ue(((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next((h=>{s[f]=h,++l,l===o&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new ue(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function h5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=-1;function dm(t){return t==null}function Xh(t){return t===0&&1/t==-1/0}function p5(t){return typeof t=="number"&&Number.isInteger(t)&&!Xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="";function m5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=DA(e)),e=g5(t.get(n),e);return DA(e)}function g5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case gR:n+="";break;default:n+=o}}return n}function DA(t){return t+gR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??vn.RED,this.left=i??vn.EMPTY,this.right=o??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new vn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LA(this.data.getIterator())}getIteratorFrom(e){return new LA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class LA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new Br([])}unionWith(e){let n=new rn(xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ju(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vR("Invalid base64 string: "+o):o}})(e);return new _n(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const y5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=y5.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oa(t){return typeof t=="string"?_n.fromBase64String(t):_n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="server_timestamp",bR="__type__",_R="__previous_value__",wR="__local_write_time__";function e1(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[bR])==null?void 0:r.stringValue)===xR}function hm(t){const e=t.mapValue.fields[_R];return e1(e)?hm(e):e}function Uc(t){const e=ia(t.mapValue.fields[wR].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e,n,r,i,o,s,l,c,f,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h,this.apiKey=m}}const Qh="(default)";class qc{constructor(e,n){this.projectId=e,this.database=n||Qh}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof qc&&e.projectId===this.projectId&&e.database===this.database}}function x5(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Pe(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="__type__",b5="__max__",ph={mapValue:{}},ER="__vector__",Jh="value";function aa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?e1(t)?4:w5(t)?9007199254740991:_5(t)?10:11:Me(28295,{value:t})}function _i(t,e){if(t===e)return!0;const n=aa(t);if(n!==aa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uc(t).isEqual(Uc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ia(i.timestampValue),l=ia(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return oa(i.bytesValue).isEqual(oa(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Bt(i.geoPointValue.latitude)===Bt(o.geoPointValue.latitude)&&Bt(i.geoPointValue.longitude)===Bt(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Bt(i.integerValue)===Bt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Bt(i.doubleValue),l=Bt(o.doubleValue);return s===l?Xh(s)===Xh(l):isNaN(s)&&isNaN(l)}return!1})(t,e);case 9:return ju(t.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return(function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(MA(s)!==MA(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!_i(s[c],l[c])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function zc(t,e){return(t.values||[]).find((n=>_i(n,e)))!==void 0}function Ru(t,e){if(t===e)return 0;const n=aa(t),r=aa(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return(function(o,s){const l=Bt(o.integerValue||o.doubleValue),c=Bt(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return $A(t.timestampValue,e.timestampValue);case 4:return $A(Uc(t),Uc(e));case 5:return i_(t.stringValue,e.stringValue);case 6:return(function(o,s){const l=oa(o),c=oa(s);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){const l=o.split("/"),c=s.split("/");for(let f=0;f<l.length&&f<c.length;f++){const h=Ye(l[f],c[f]);if(h!==0)return h}return Ye(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){const l=Ye(Bt(o.latitude),Bt(s.latitude));return l!==0?l:Ye(Bt(o.longitude),Bt(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return VA(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var y,b,S,E;const l=o.fields||{},c=s.fields||{},f=(y=l[Jh])==null?void 0:y.arrayValue,h=(b=c[Jh])==null?void 0:b.arrayValue,m=Ye(((S=f==null?void 0:f.values)==null?void 0:S.length)||0,((E=h==null?void 0:h.values)==null?void 0:E.length)||0);return m!==0?m:VA(f,h)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===ph.mapValue&&s===ph.mapValue)return 0;if(o===ph.mapValue)return 1;if(s===ph.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const y=i_(c[m],h[m]);if(y!==0)return y;const b=Ru(l[c[m]],f[h[m]]);if(b!==0)return b}return Ye(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function $A(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=ia(t),r=ia(e),i=Ye(n.seconds,r.seconds);return i!==0?i:Ye(n.nanos,r.nanos)}function VA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ru(n[i],r[i]);if(o)return o}return Ye(n.length,r.length)}function Du(t){return o_(t)}function o_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ia(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return oa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=o_(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${o_(n.fields[s])}`;return i+"}"})(t.mapValue):Me(61005,{value:t})}function Mh(t){switch(aa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hm(t);return e?16+Mh(e):16;case 5:return 2*t.stringValue.length;case 6:return oa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Mh(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return gs(r.fields,((o,s)=>{i+=o.length+Mh(s)})),i})(t.mapValue);default:throw Me(13486,{value:t})}}function a_(t){return!!t&&"integerValue"in t}function t1(t){return!!t&&"arrayValue"in t}function BA(t){return!!t&&"nullValue"in t}function FA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lh(t){return!!t&&"mapValue"in t}function _5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[TR])==null?void 0:r.stringValue)===ER}function kc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return gs(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=kc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kc(t.arrayValue.values[n]);return e}return{...t}}function w5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===b5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.value=e}static empty(){return new xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(n)}setAll(e){let n=xn.emptyPath(),r={},i=[];e.forEach(((s,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=kc(s):i.push(l.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){gs(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new xr(kc(this.value))}}function SR(t){const e=[];return gs(t.fields,((n,r)=>{const i=new xn([n]);if(Lh(r)){const o=SR(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)})),new Br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new On(e,0,Fe.min(),Fe.min(),Fe.min(),xr.empty(),0)}static newFoundDocument(e,n,r,i){return new On(e,1,n,Fe.min(),r,i,0)}static newNoDocument(e,n){return new On(e,2,n,Fe.min(),Fe.min(),xr.empty(),0)}static newUnknownDocument(e,n){return new On(e,3,n,Fe.min(),Fe.min(),xr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.position=e,this.inclusive=n}}function UA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ke.comparator(ke.fromName(s.referenceValue),n.key):r=Ru(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function qA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_i(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n="asc"){this.field=e,this.dir=n}}function T5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{}class en extends AR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new S5(e,n,r):n==="array-contains"?new P5(e,r):n==="in"?new C5(e,r):n==="not-in"?new O5(e,r):n==="array-contains-any"?new k5(e,r):new en(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new A5(e,r):new I5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ru(n,this.value)):n!==null&&aa(this.value)===aa(n)&&this.matchesComparison(Ru(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends AR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wi(e,n)}matches(e){return IR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IR(t){return t.op==="and"}function PR(t){return E5(t)&&IR(t)}function E5(t){for(const e of t.filters)if(e instanceof wi)return!1;return!0}function s_(t){if(t instanceof en)return t.field.canonicalString()+t.op.toString()+Du(t.value);if(PR(t))return t.filters.map((e=>s_(e))).join(",");{const e=t.filters.map((n=>s_(n))).join(",");return`${t.op}(${e})`}}function CR(t,e){return t instanceof en?(function(r,i){return i instanceof en&&r.op===i.op&&r.field.isEqual(i.field)&&_i(r.value,i.value)})(t,e):t instanceof wi?(function(r,i){return i instanceof wi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,s,l)=>o&&CR(s,i.filters[l])),!0):!1})(t,e):void Me(19439)}function OR(t){return t instanceof en?(function(n){return`${n.field.canonicalString()} ${n.op} ${Du(n.value)}`})(t):t instanceof wi?(function(n){return n.op.toString()+" {"+n.getFilters().map(OR).join(" ,")+"}"})(t):"Filter"}class S5 extends en{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class A5 extends en{constructor(e,n){super(e,"in",n),this.keys=kR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class I5 extends en{constructor(e,n){super(e,"not-in",n),this.keys=kR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function kR(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ke.fromName(r.referenceValue)))}class P5 extends en{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return t1(n)&&zc(n.arrayValue,this.value)}}class C5 extends en{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zc(this.value.arrayValue,n)}}class O5 extends en{constructor(e,n){super(e,"not-in",n)}matches(e){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zc(this.value.arrayValue,n)}}class k5 extends en{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!t1(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>zc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.Te=null}}function zA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new N5(t,e,n,r,i,o,s)}function n1(t){const e=qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>s_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),dm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Du(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Du(r))).join(",")),e.Te=n}return e.Te}function r1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!T5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qA(t.startAt,e.startAt)&&qA(t.endAt,e.endAt)}function u_(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function j5(t,e,n,r,i,o,s,l){return new pm(t,e,n,r,i,o,s,l)}function i1(t){return new pm(t)}function WA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function R5(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function D5(t){return t.collectionGroup!==null}function Nc(t){const e=qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new rn(xn.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new ep(o,r))})),n.has(xn.keyField().canonicalString())||e.Ie.push(new ep(xn.keyField(),r))}return e.Ie}function pi(t){const e=qe(t);return e.Ee||(e.Ee=M5(e,Nc(t))),e.Ee}function M5(t,e){if(t.limitType==="F")return zA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new ep(i.field,o)}));const n=t.endAt?new Zh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zh(t.startAt.position,t.startAt.inclusive):null;return zA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function l_(t,e,n){return new pm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mm(t,e){return r1(pi(t),pi(e))&&t.limitType===e.limitType}function NR(t){return`${n1(pi(t))}|lt:${t.limitType}`}function pu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>OR(i))).join(", ")}]`),dm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Du(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Du(i))).join(",")),`Target(${r})`})(pi(t))}; limitType=${t.limitType})`}function gm(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ke.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of Nc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,l,c){const f=UA(s,l,c);return s.inclusive?f<=0:f<0})(r.startAt,Nc(r),i)||r.endAt&&!(function(s,l,c){const f=UA(s,l,c);return s.inclusive?f>=0:f>0})(r.endAt,Nc(r),i))})(t,e)}function L5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jR(t){return(e,n)=>{let r=!1;for(const i of Nc(t)){const o=$5(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function $5(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):(function(o,s,l){const c=s.data.field(o),f=l.data.field(o);return c!==null&&f!==null?Ru(c,f):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return yR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=new jt(ke.comparator);function ao(){return V5}const RR=new jt(ke.comparator);function _c(...t){let e=RR;for(const n of t)e=e.insert(n.key,n);return e}function DR(t){let e=RR;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ga(){return jc()}function MR(){return jc()}function jc(){return new ys((t=>t.toString()),((t,e)=>t.isEqual(e)))}const B5=new jt(ke.comparator),F5=new rn(ke.comparator);function Xe(...t){let e=F5;for(const n of t)e=e.add(n);return e}const U5=new rn(Ye);function q5(){return U5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function LR(t){return{integerValue:""+t}}function z5(t,e){return p5(e)?LR(e):o1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this._=void 0}}function W5(t,e,n){return t instanceof Wc?(function(i,o){const s={fields:{[bR]:{stringValue:xR},[wR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&e1(o)&&(o=hm(o)),o&&(s.fields[_R]=o),{mapValue:s}})(n,e):t instanceof Hc?VR(t,e):t instanceof Gc?BR(t,e):(function(i,o){const s=$R(i,o),l=HA(s)+HA(i.Ae);return a_(s)&&a_(i.Ae)?LR(l):o1(i.serializer,l)})(t,e)}function H5(t,e,n){return t instanceof Hc?VR(t,e):t instanceof Gc?BR(t,e):n}function $R(t,e){return t instanceof tp?(function(r){return a_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Wc extends ym{}class Hc extends ym{constructor(e){super(),this.elements=e}}function VR(t,e){const n=FR(e);for(const r of t.elements)n.some((i=>_i(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Gc extends ym{constructor(e){super(),this.elements=e}}function BR(t,e){let n=FR(e);for(const r of t.elements)n=n.filter((i=>!_i(i,r)));return{arrayValue:{values:n}}}class tp extends ym{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function HA(t){return Bt(t.integerValue||t.doubleValue)}function FR(t){return t1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,n){this.field=e,this.transform=n}}function K5(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Hc&&i instanceof Hc||r instanceof Gc&&i instanceof Gc?ju(r.elements,i.elements,_i):r instanceof tp&&i instanceof tp?_i(r.Ae,i.Ae):r instanceof Wc&&i instanceof Wc})(t.transform,e.transform)}class Y5{constructor(e,n){this.version=e,this.transformResults=n}}class mi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $h(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vm{}function UR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new a1(t.key,mi.none()):new $f(t.key,t.data,mi.none());{const n=t.data,r=xr.empty();let i=new rn(xn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new vs(t.key,r,new Br(i.toArray()),mi.none())}}function X5(t,e,n){t instanceof $f?(function(i,o,s){const l=i.value.clone(),c=KA(i.fieldTransforms,o,s.transformResults);l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(t,e,n):t instanceof vs?(function(i,o,s){if(!$h(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=KA(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(qR(i)),c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function Rc(t,e,n,r){return t instanceof $f?(function(o,s,l,c){if(!$h(o.precondition,s))return l;const f=o.value.clone(),h=YA(o.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof vs?(function(o,s,l,c){if(!$h(o.precondition,s))return l;const f=YA(o.fieldTransforms,c,s),h=s.data;return h.setAll(qR(o)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(o,s,l){return $h(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(t,e,n)}function Q5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=$R(r.transform,i||null);o!=null&&(n===null&&(n=xr.empty()),n.set(r.field,o))}return n||null}function GA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ju(r,i,((o,s)=>K5(o,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $f extends vm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vs extends vm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function KA(t,e,n){const r=new Map;ct(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,H5(s,l,n[i]))}return r}function YA(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,W5(o,s,e))}return r}class a1 extends vm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J5 extends vm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&X5(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=MR();return this.mutations.forEach((i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const c=UR(s,l);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Fe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&ju(this.mutations,e.mutations,((n,r)=>GA(n,r)))&&ju(this.baseMutations,e.baseMutations,((n,r)=>GA(n,r)))}}class s1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return B5})();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new s1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Je;function n6(t){switch(t){case fe.OK:return Me(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function zR(t){if(t===void 0)return oo("GRPC error has no .code"),fe.UNKNOWN;switch(t){case qt.OK:return fe.OK;case qt.CANCELLED:return fe.CANCELLED;case qt.UNKNOWN:return fe.UNKNOWN;case qt.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case qt.INTERNAL:return fe.INTERNAL;case qt.UNAVAILABLE:return fe.UNAVAILABLE;case qt.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case qt.NOT_FOUND:return fe.NOT_FOUND;case qt.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case qt.ABORTED:return fe.ABORTED;case qt.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case qt.DATA_LOSS:return fe.DATA_LOSS;default:return Me(39323,{code:t})}}(Je=qt||(qt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=new ea([4294967295,4294967295],0);function XA(t){const e=r6().encode(t),n=new aR;return n.update(e),new Uint8Array(n.digest())}function QA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ea([n,r],0),new ea([i,o],0)]}class u1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wc(`Invalid padding: ${n}`);if(r<0)throw new wc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ea.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ea.fromNumber(r)));return i.compare(i6)===1&&(i=new ea([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=XA(e),[r,i]=QA(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new u1(o,i,n);return r.forEach((l=>s.insert(l))),s}insert(e){if(this.ge===0)return;const n=XA(e),[r,i]=QA(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xm(Fe.min(),i,new jt(Ye),ao(),Xe())}}class Vf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vf(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class WR{constructor(e,n){this.targetId=e,this.Ce=n}}class HR{constructor(e,n,r=_n.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class JA{constructor(){this.ve=0,this.Fe=ZA(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),r=Xe();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Me(38017,{changeType:o})}})),new Vf(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=ZA()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class o6{constructor(e){this.Ge=e,this.ze=new Map,this.je=ao(),this.He=mh(),this.Je=mh(),this.Ze=new jt(Ye)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(u_(o))if(r===0){const s=new ke(o.path);this.et(n,s,On.newNoDocument(s,Fe.min()))}else ct(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const l=this.ut(e),c=l?this.ct(l,e,s):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=oa(r).toUint8Array()}catch(c){if(c instanceof vR)return ls("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new u1(s,i,o)}catch(c){return ls(c instanceof wc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const s=this.Ge.ht(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,s)=>{const l=this.ot(s);if(l){if(o.current&&u_(l.target)){const c=new ke(l.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,On.newNoDocument(c,e))}o.Be&&(n.set(s,o.ke()),o.Ke())}}));let r=Xe();this.Je.forEach(((o,s)=>{let l=!0;s.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(o))})),this.je.forEach(((o,s)=>s.setReadTime(e)));const i=new xm(e,n,this.Ze,this.je,r);return this.je=ao(),this.He=mh(),this.Je=mh(),this.Ze=new jt(Ye),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new JA,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new rn(Ye),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new rn(Ye),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new JA),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function mh(){return new jt(ke.comparator)}function ZA(){return new jt(ke.comparator)}const a6={asc:"ASCENDING",desc:"DESCENDING"},s6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u6={and:"AND",or:"OR"};class l6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function c_(t,e){return t.useProto3Json||dm(e)?e:{value:e}}function np(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function c6(t,e){return np(t,e.toTimestamp())}function gi(t){return ct(!!t,49232),Fe.fromTimestamp((function(n){const r=ia(n);return new At(r.seconds,r.nanos)})(t))}function l1(t,e){return f_(t,e).canonicalString()}function f_(t,e){const n=(function(i){return new St(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function KR(t){const e=St.fromString(t);return ct(ZR(e),10190,{key:e.toString()}),e}function d_(t,e){return l1(t.databaseId,e.path)}function Fy(t,e){const n=KR(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(XR(n))}function YR(t,e){return l1(t.databaseId,e)}function f6(t){const e=KR(t);return e.length===4?St.emptyPath():XR(e)}function h_(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XR(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function eI(t,e,n){return{name:d_(t,e),fields:n.value.mapValue.fields}}function d6(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Me(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,h){return f.useProto3Json?(ct(h===void 0||typeof h=="string",58123),_n.fromBase64String(h||"")):(ct(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),_n.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&(function(f){const h=f.code===void 0?fe.UNKNOWN:zR(f.code);return new Pe(h,f.message||"")})(s);n=new HR(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Fy(t,r.document.name),o=gi(r.document.updateTime),s=r.document.createTime?gi(r.document.createTime):Fe.min(),l=new xr({mapValue:{fields:r.document.fields}}),c=On.newFoundDocument(i,o,s,l),f=r.targetIds||[],h=r.removedTargetIds||[];n=new Vh(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Fy(t,r.document),o=r.readTime?gi(r.readTime):Fe.min(),s=On.newNoDocument(i,o),l=r.removedTargetIds||[];n=new Vh([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Fy(t,r.document),o=r.removedTargetIds||[];n=new Vh([],o,i,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new t6(i,o),l=r.targetId;n=new WR(l,s)}}return n}function h6(t,e){let n;if(e instanceof $f)n={update:eI(t,e.key,e.value)};else if(e instanceof a1)n={delete:d_(t,e.key)};else if(e instanceof vs)n={update:eI(t,e.key,e.data),updateMask:w6(e.fieldMask)};else{if(!(e instanceof J5))return Me(16599,{dt:e.type});n={verify:d_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,s){const l=s.transform;if(l instanceof Wc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Hc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Gc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof tp)return{fieldPath:s.field.canonicalString(),increment:l.Ae};throw Me(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:c6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Me(27497)})(t,e.precondition)),n}function p6(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map((n=>(function(i,o){let s=i.updateTime?gi(i.updateTime):gi(o);return s.isEqual(Fe.min())&&(s=gi(o)),new Y5(s,i.transformResults||[])})(n,e)))):[]}function m6(t,e){return{documents:[YR(t,e.path)]}}function g6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YR(t,i);const o=(function(f){if(f.length!==0)return JR(wi.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const s=(function(f){if(f.length!==0)return f.map((h=>(function(y){return{field:mu(y.field),direction:x6(y.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=c_(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function y6(t){let e=f6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ct(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(m){const y=QR(m);return y instanceof wi&&PR(y)?y.getFilters():[y]})(n.where));let s=[];n.orderBy&&(s=(function(m){return m.map((y=>(function(S){return new ep(gu(S.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(y)))})(n.orderBy));let l=null;n.limit&&(l=(function(m){let y;return y=typeof m=="object"?m.value:m,dm(y)?null:y})(n.limit));let c=null;n.startAt&&(c=(function(m){const y=!!m.before,b=m.values||[];return new Zh(b,y)})(n.startAt));let f=null;return n.endAt&&(f=(function(m){const y=!m.before,b=m.values||[];return new Zh(b,y)})(n.endAt)),j5(e,i,s,o,l,"F",c,f)}function v6(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gu(n.unaryFilter.field);return en.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=gu(n.unaryFilter.field);return en.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=gu(n.unaryFilter.field);return en.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=gu(n.unaryFilter.field);return en.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return en.create(gu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return wi.create(n.compositeFilter.filters.map((r=>QR(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function x6(t){return a6[t]}function b6(t){return s6[t]}function _6(t){return u6[t]}function mu(t){return{fieldPath:t.canonicalString()}}function gu(t){return xn.fromServerFormat(t.fieldPath)}function JR(t){return t instanceof en?(function(n){if(n.op==="=="){if(FA(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NAN"}};if(BA(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FA(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NOT_NAN"}};if(BA(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mu(n.field),op:b6(n.op),value:n.value}}})(t):t instanceof wi?(function(n){const r=n.getFilters().map((i=>JR(i)));return r.length===1?r[0]:{compositeFilter:{op:_6(n.op),filters:r}}})(t):Me(54877,{filter:t})}function w6(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ZR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function eD(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n,r,i,o=Fe.min(),s=Fe.min(),l=_n.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.yt=e}}function E6(t){const e=y6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?l_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this.Sn=new A6}addToCollectionParentIndex(e,n){return this.Sn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(ra.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(ra.min())}updateCollectionGroup(e,n,r){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class A6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rn(St.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rn(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tD=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(tD,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Mu(0)}static ar(){return new Mu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="LruGarbageCollector",I6=1048576;function rI([t,e],[n,r]){const i=Ye(t,n);return i===0?Ye(e,r):i}class P6{constructor(e){this.Pr=e,this.buffer=new rn(rI),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class C6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){we(nI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cl(n)?we(nI,"Ignoring IndexedDB error during garbage collection: ",n):await ll(n)}await this.Ar(3e5)}))}}class O6{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(fm.ce);const r=new P6(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(tI)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tI):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,o,s,l,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,l=Date.now(),this.removeTargets(e,r,n)))).next((m=>(o=m,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(f=Date.now(),hu()<=Ke.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m}))))}}function k6(t,e){return new O6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.changes=new ys((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Rc(r.mutation,i,Br.empty(),At.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Xe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Xe()){const i=Ga();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let s=_c();return o.forEach(((l,c)=>{s=s.insert(l,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=Ga();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Xe())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((s,l)=>{n.set(s,l)}))}))}computeViews(e,n,r,i){let o=ao();const s=jc(),l=(function(){return jc()})();return n.forEach(((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof vs)?o=o.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),Rc(h.mutation,f,h.mutation.getFieldMask(),At.now())):s.set(f.key,Br.empty())})),this.recalculateAndSaveOverlays(e,o).next((c=>(c.forEach(((f,h)=>s.set(f,h))),n.forEach(((f,h)=>l.set(f,new j6(h,s.get(f)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=jc();let i=new jt(((s,l)=>s-l)),o=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const l of s)l.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||Br.empty();h=l.applyToLocalView(f,h),r.set(c,h);const m=(i.get(l.batchId)||Xe()).add(c);i=i.insert(l.batchId,m)}))})).next((()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,h=c.value,m=MR();h.forEach((y=>{if(!o.has(y)){const b=UR(n.get(y),r.get(y));b!==null&&m.set(y,b),o=o.add(y)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,m))}return ue.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return R5(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):D5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ue.resolve(Ga());let l=Fc,c=o;return s.next((f=>ue.forEach(f,((h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),o.get(h)?ue.resolve():this.remoteDocumentCache.getEntry(e,h).next((y=>{c=c.insert(h,y)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,c,f,Xe()))).next((h=>({batchId:l,changes:DR(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((r=>{let i=_c();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=_c();return this.indexManager.getCollectionParents(e,o).next((l=>ue.forEach(l,(c=>{const f=(function(m,y){return new pm(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((m,y)=>{s=s.insert(m,y)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((s=>{o.forEach(((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,On.newInvalidDocument(h)))}));let l=_c();return s.forEach(((c,f)=>{const h=o.get(c);h!==void 0&&Rc(h.mutation,f,Br.empty(),At.now()),gm(n,f)&&(l=l.insert(c,f))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ue.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:gi(i.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:E6(i.bundledQuery),readTime:gi(i.readTime)}})(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this.overlays=new jt(ke.comparator),this.Lr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ga();return ue.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.bt(e,n,o)})),ue.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),ue.resolve()}getOverlaysForCollection(e,n,r){const i=Ga(),o=n.length+1,s=new ke(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new jt(((f,h)=>f-h));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=o.get(f.largestBatchId);h===null&&(h=Ga(),o=o.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=Ga(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>l.set(f,h))),!(l.size()>=i)););return ue.resolve(l)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new e6(n,r));let o=this.Lr.get(n);o===void 0&&(o=Xe(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.kr=new rn(ln.Kr),this.qr=new rn(ln.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new ln(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new ln(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ke(new St([])),r=new ln(n,e),i=new ln(n,e+1),o=[];return this.qr.forEachInRange([r,i],(s=>{this.Wr(s),o.push(s.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ke(new St([])),r=new ln(n,e),i=new ln(n,e+1);let o=Xe();return this.qr.forEachInRange([r,i],(s=>{o=o.add(s.key)})),o}containsKey(e){const n=new ln(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ln{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ke.comparator(e.key,n.key)||Ye(e.Hr,n.Hr)}static Ur(e,n){return Ye(e.Hr,n.Hr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new rn(ln.Kr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Z5(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Jr=this.Jr.add(new ln(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ue.resolve(s)}lookupMutationBatch(e,n){return ue.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return ue.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Zw:this.Yn-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ln(n,0),i=new ln(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],(s=>{const l=this.Zr(s.Hr);o.push(l)})),ue.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rn(Ye);return n.forEach((i=>{const o=new ln(i,0),s=new ln(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,s],(l=>{r=r.add(l.Hr)}))})),ue.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ke.isDocumentKey(o)||(o=o.child(""));const s=new ln(new ke(o),0);let l=new rn(Ye);return this.Jr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Hr)),!0)}),s),ue.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ct(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ue.forEach(n.mutations,(i=>{const o=new ln(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new ln(n,0),i=this.Jr.firstAfterOrEqual(r);return ue.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.ti=e,this.docs=(function(){return new jt(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ue.resolve(r?r.document.mutableCopy():On.newInvalidDocument(n))}getEntries(e,n){let r=ao();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():On.newInvalidDocument(i))})),ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ao();const s=n.path,l=new ke(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||c5(l5(h),r)<=0||(i.has(h.key)||gm(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return ue.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Me(9500)}ni(e,n){return ue.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new B6(this)}getSize(e){return ue.resolve(this.size)}}class B6 extends N6{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),ue.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.persistence=e,this.ri=new ys((n=>n1(n)),r1),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.ii=0,this.si=new c1,this.targetCount=0,this.oi=Mu._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ue.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Mu(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.lr(n),ue.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ri.forEach(((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ri.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),ue.waitFor(o).next((()=>i))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ue.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ue.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((s=>{o.push(i.markPotentiallyOrphaned(e,s))})),ue.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ue.resolve(r)}containsKey(e,n){return ue.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this._i={},this.overlays={},this.ai=new fm(0),this.ui=!1,this.ui=!0,this.ci=new L6,this.referenceDelegate=e(this),this.li=new F6(this),this.indexManager=new S6,this.remoteDocumentCache=(function(i){return new V6(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new T6(n),this.Pi=new D6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new M6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new $6(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new U6(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((o=>this.referenceDelegate.Ii(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ei(e,n){return ue.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class U6 extends d5{constructor(e){super(),this.currentSequenceNumber=e}}class f1{constructor(e){this.persistence=e,this.Ri=new c1,this.Ai=null}static Vi(e){return new f1(e)}get di(){if(this.Ai)return this.Ai;throw Me(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ue.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.di,(r=>{const i=ke.fromPath(r);return this.mi(e,i).next((o=>{o||n.removeEntry(i,Fe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ue.or([()=>ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class rp{constructor(e,n){this.persistence=e,this.fi=new ys((r=>m5(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=k6(this,n)}static Vi(e,n){return new rp(e,n)}Ti(){}Ii(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ue.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((o=>o?ue.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,(s=>this.wr(e,s,n).next((l=>{l||(r++,o.removeEntry(s,Fe.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mh(e.data.value)),n}wr(e,n,r){return ue.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return ue.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=Xe(),i=Xe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new d1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return C$()?8:h5(jn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.gs(e,n).next((s=>{o.result=s})).next((()=>{if(!o.result)return this.ps(e,n,i,r).next((s=>{o.result=s}))})).next((()=>{if(o.result)return;const s=new q6;return this.ys(e,n,s).next((l=>{if(o.result=l,this.As)return this.ws(e,n,s,l.size)}))})).next((()=>o.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(hu()<=Ke.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",pu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ue.resolve()):(hu()<=Ke.DEBUG&&we("QueryEngine","Query:",pu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(hu()<=Ke.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",pu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(n))):ue.resolve())}gs(e,n){if(WA(n))return ue.resolve(null);let r=pi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=l_(n,null,"F"),r=pi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const s=Xe(...o);return this.fs.getDocuments(e,s).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.bs(n,l);return this.Ss(n,f,s,c.readTime)?this.gs(e,l_(n,null,"F")):this.Ds(e,f,n,c)}))))})))))}ps(e,n,r,i){return WA(n)||i.isEqual(Fe.min())?ue.resolve(null):this.fs.getDocuments(e,r).next((o=>{const s=this.bs(n,o);return this.Ss(n,s,r,i)?ue.resolve(null):(hu()<=Ke.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pu(n)),this.Ds(e,s,n,u5(i,Fc)).next((l=>l)))}))}bs(e,n){let r=new rn(jR(e));return n.forEach(((i,o)=>{gm(e,o)&&(r=r.add(o))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,n,r){return hu()<=Ke.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",pu(n)),this.fs.getDocumentsMatchingQuery(e,n,ra.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((s=>{o=o.insert(s.key,s)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="LocalStore",W6=3e8;class H6{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new jt(Ye),this.Fs=new ys((o=>n1(o)),r1),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R6(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function G6(t,e,n,r){return new H6(t,e,n,r)}async function rD(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const s=[],l=[];let c=Xe();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of o){l.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ns:f,removedBatchIds:s,addedBatchIds:l})))}))}))}function K6(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(l,c,f,h){const m=f.batch,y=m.keys();let b=ue.resolve();return y.forEach((S=>{b=b.next((()=>h.getEntry(c,S))).next((E=>{const _=f.docVersions.get(S);ct(_!==null,48541),E.version.compareTo(_)<0&&(m.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),h.addEntry(E)))}))})),b.next((()=>l.mutationQueue.removeMutationBatch(c,m)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=Xe();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function iD(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function Y6(t,e){const n=qe(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const l=[];e.targetChanges.forEach(((h,m)=>{const y=i.get(m);if(!y)return;l.push(n.li.removeMatchingKeys(o,h.removedDocuments,m).next((()=>n.li.addMatchingKeys(o,h.addedDocuments,m))));let b=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?b=b.withResumeToken(_n.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):h.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(h.resumeToken,r)),i=i.insert(m,b),(function(E,_,P){return E.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=W6?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(y,b,h)&&l.push(n.li.updateTargetData(o,b))}));let c=ao(),f=Xe();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})),l.push(X6(o,s,e.documentUpdates).next((h=>{c=h.Bs,f=h.Ls}))),!r.isEqual(Fe.min())){const h=n.li.getLastRemoteSnapshotVersion(o).next((m=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));l.push(h)}return ue.waitFor(l).next((()=>s.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,c,f))).next((()=>c))})).then((o=>(n.vs=i,o)))}function X6(t,e,n){let r=Xe(),i=Xe();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let s=ao();return n.forEach(((l,c)=>{const f=o.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Fe.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):we(h1,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)})),{Bs:s,Ls:i}}))}function Q6(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function J6(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((o=>o?(i=o,ue.resolve(i)):n.li.allocateTargetId(r).next((s=>(i=new Yo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function p_(t,e,n){const r=qe(t),i=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!cl(s))throw s;we(h1,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function iI(t,e,n){const r=qe(t);let i=Fe.min(),o=Xe();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,f,h){const m=qe(c),y=m.Fs.get(h);return y!==void 0?ue.resolve(m.vs.get(y)):m.li.getTargetData(f,h)})(r,s,pi(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,l.targetId).next((c=>{o=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:Fe.min(),n?o:Xe()))).next((l=>(Z6(r,L5(e),l),{documents:l,ks:o})))))}function Z6(t,e,n){let r=t.Ms.get(e)||Fe.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Ms.set(e,r)}class oI{constructor(){this.activeTargetIds=q5()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eU{constructor(){this.vo=new oI,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new oI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="ConnectivityMonitor";class sI{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){we(aI,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){we(aI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh=null;function m_(){return gh===null?gh=(function(){return 268435456+Math.round(2147483648*Math.random())})():gh++,"0x"+gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="RestConnection",nU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class rU{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Qh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const s=m_(),l=this.Qo(e,n.toUriEncodedString());we(Uy,`Sending RPC '${e}' ${s}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,o);const{host:f}=new URL(l),h=ol(f);return this.zo(e,l,c,r,h).then((m=>(we(Uy,`Received RPC '${e}' ${s}: `,m),m)),(m=>{throw ls(Uy,`RPC '${e}' ${s} failed with error: `,m,"url: ",l,"request:",r),m}))}jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}Qo(e,n){const r=nU[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection",cc=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Eu extends rU{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Eu.c_){const e=cR();cc(e,lR.STAT_EVENT,(n=>{n.stat===r_.PROXY?we(In,"STAT_EVENT: detected buffering proxy"):n.stat===r_.NOPROXY&&we(In,"STAT_EVENT: detected no buffering proxy")})),Eu.c_=!0}}zo(e,n,r,i,o){const s=m_();return new Promise(((l,c)=>{const f=new sR;f.setWithCredentials(!0),f.listenOnce(uR.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Dh.NO_ERROR:const m=f.getResponseJson();we(In,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),l(m);break;case Dh.TIMEOUT:we(In,`RPC '${e}' ${s} timed out`),c(new Pe(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const y=f.getStatus();if(we(In,`RPC '${e}' ${s} failed with status:`,y,"response text:",f.getResponseText()),y>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const S=b==null?void 0:b.error;if(S&&S.status&&S.message){const E=(function(P){const j=P.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(j)>=0?j:fe.UNKNOWN})(S.status);c(new Pe(E,S.message))}else c(new Pe(fe.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Pe(fe.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{we(In,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);we(In,`RPC '${e}' ${s} sending request:`,i),f.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=m_(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=o.join("");we(In,`Creating RPC '${e}' stream ${i}: ${f}`,l);const h=s.createWebChannel(f,l);this.I_(h);let m=!1,y=!1;const b=new iU({Ho:S=>{y?we(In,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(we(In,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),we(In,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Jo:()=>h.close()});return cc(h,bc.EventType.OPEN,(()=>{y||(we(In,`RPC '${e}' stream ${i} transport opened.`),b.i_())})),cc(h,bc.EventType.CLOSE,(()=>{y||(y=!0,we(In,`RPC '${e}' stream ${i} transport closed`),b.o_(),this.E_(h))})),cc(h,bc.EventType.ERROR,(S=>{y||(y=!0,ls(In,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),b.o_(new Pe(fe.UNAVAILABLE,"The operation could not be completed")))})),cc(h,bc.EventType.MESSAGE,(S=>{var E;if(!y){const _=S.data[0];ct(!!_,16349);const P=_,j=(P==null?void 0:P.error)||((E=P[0])==null?void 0:E.error);if(j){we(In,`RPC '${e}' stream ${i} received error:`,j);const R=j.status;let D=(function(A){const I=qt[A];if(I!==void 0)return zR(I)})(R),k=j.message;R==="NOT_FOUND"&&k.includes("database")&&k.includes("does not exist")&&k.includes(this.databaseId.database)&&ls(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),D===void 0&&(D=fe.INTERNAL,k="Unknown error status: "+R+" with message "+j.message),y=!0,b.o_(new Pe(D,k)),h.close()}else we(In,`RPC '${e}' stream ${i} received:`,_),b.__(_)}})),Eu.u_(),setTimeout((()=>{b.s_()}),0),b}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return fR()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t){return new Eu(t)}function qy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(t){return new l6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eu.c_=!1;class oD{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="PersistentStream";class aD{constructor(e,n,r,i,o,s,l,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(oo(n.toString()),oo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Pe(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(uI,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(we(uI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aU extends aD{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=d6(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Fe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Fe.min():s.readTime?gi(s.readTime):Fe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=h_(this.serializer),n.addTarget=(function(o,s){let l;const c=s.target;if(l=u_(c)?{documents:m6(o,c)}:{query:g6(o,c).ft},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=GR(o,s.resumeToken);const f=c_(o,s.expectedCount);f!==null&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(Fe.min())>0){l.readTime=np(o,s.snapshotVersion.toTimestamp());const f=c_(o,s.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const r=v6(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=h_(this.serializer),n.removeTarget=e,this.K_(n)}}class sU extends aD{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=p6(e.writeResults,e.commitTime),r=gi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=h_(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>h6(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{}class lU extends uU{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Pe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Wo(e,f_(n,r),i,o,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(fe.UNKNOWN,o.toString())}))}jo(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.jo(e,f_(n,r),i,s,l,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(fe.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function cU(t,e,n,r){return new lU(t,e,n,r)}class fU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(oo(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="RemoteStore";class dU{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((s=>{r.enqueueAndForget((async()=>{xs(this)&&(we(cs,"Restarting streams for network reachability change."),await(async function(c){const f=qe(c);f.Ea.add(4),await Bf(f),f.Va.set("Unknown"),f.Ea.delete(4),await _m(f)})(this))}))})),this.Va=new fU(r,i)}}async function _m(t){if(xs(t))for(const e of t.Ra)await e(!0)}async function Bf(t){for(const e of t.Ra)await e(!1)}function sD(t,e){const n=qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),y1(n)?g1(n):fl(n).O_()&&m1(n,e))}function p1(t,e){const n=qe(t),r=fl(n);n.Ia.delete(e),r.O_()&&uD(n,e),n.Ia.size===0&&(r.O_()?r.L_():xs(n)&&n.Va.set("Unknown"))}function m1(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(t).Z_(e)}function uD(t,e){t.da.$e(e),fl(t).X_(e)}function g1(t){t.da=new o6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fl(t).start(),t.Va.ua()}function y1(t){return xs(t)&&!fl(t).x_()&&t.Ia.size>0}function xs(t){return qe(t).Ea.size===0}function lD(t){t.da=void 0}async function hU(t){t.Va.set("Online")}async function pU(t){t.Ia.forEach(((e,n)=>{m1(t,e)}))}async function mU(t,e){lD(t),y1(t)?(t.Va.ha(e),g1(t)):t.Va.set("Unknown")}async function gU(t,e,n){if(t.Va.set("Online"),e instanceof HR&&e.state===2&&e.cause)try{await(async function(i,o){const s=o.cause;for(const l of o.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ia.delete(l),i.da.removeTarget(l))})(t,e)}catch(r){we(cs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ip(t,r)}else if(e instanceof Vh?t.da.Xe(e):e instanceof WR?t.da.st(e):t.da.tt(e),!n.isEqual(Fe.min()))try{const r=await iD(t.localStore);n.compareTo(r)>=0&&await(function(o,s){const l=o.da.Tt(s);return l.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.Ia.get(f);h&&o.Ia.set(f,h.withResumeToken(c.resumeToken,s))}})),l.targetMismatches.forEach(((c,f)=>{const h=o.Ia.get(c);if(!h)return;o.Ia.set(c,h.withResumeToken(_n.EMPTY_BYTE_STRING,h.snapshotVersion)),uD(o,c);const m=new Yo(h.target,c,f,h.sequenceNumber);m1(o,m)})),o.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){we(cs,"Failed to raise snapshot:",r),await ip(t,r)}}async function ip(t,e,n){if(!cl(e))throw e;t.Ea.add(1),await Bf(t),t.Va.set("Offline"),n||(n=()=>iD(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(cs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await _m(t)}))}function cD(t,e){return e().catch((n=>ip(t,n,e)))}async function wm(t){const e=qe(t),n=sa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zw;for(;yU(e);)try{const i=await Q6(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,vU(e,i)}catch(i){await ip(e,i)}fD(e)&&dD(e)}function yU(t){return xs(t)&&t.Ta.length<10}function vU(t,e){t.Ta.push(e);const n=sa(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function fD(t){return xs(t)&&!sa(t).x_()&&t.Ta.length>0}function dD(t){sa(t).start()}async function xU(t){sa(t).ra()}async function bU(t){const e=sa(t);for(const n of t.Ta)e.ea(n.mutations)}async function _U(t,e,n){const r=t.Ta.shift(),i=s1.from(r,e,n);await cD(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await wm(t)}async function wU(t,e){e&&sa(t).Y_&&await(async function(r,i){if((function(s){return n6(s)&&s!==fe.ABORTED})(i.code)){const o=r.Ta.shift();sa(r).B_(),await cD(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await wm(r)}})(t,e),fD(t)&&dD(t)}async function lI(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),we(cs,"RemoteStore received new credentials");const r=xs(n);n.Ea.add(3),await Bf(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _m(n)}async function TU(t,e){const n=qe(t);e?(n.Ea.delete(2),await _m(n)):e||(n.Ea.add(2),await Bf(n),n.Va.set("Unknown"))}function fl(t){return t.ma||(t.ma=(function(n,r,i){const o=qe(n);return o.sa(),new aU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:hU.bind(null,t),Yo:pU.bind(null,t),t_:mU.bind(null,t),J_:gU.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),y1(t)?g1(t):t.Va.set("Unknown")):(await t.ma.stop(),lD(t))}))),t.ma}function sa(t){return t.fa||(t.fa=(function(n,r,i){const o=qe(n);return o.sa(),new sU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:xU.bind(null,t),t_:wU.bind(null,t),ta:bU.bind(null,t),na:_U.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await wm(t)):(await t.fa.stop(),t.Ta.length>0&&(we(cs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new v1(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x1(t,e){if(oo("AsyncQueue",`${e}: ${t}`),cl(t))return new Pe(fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{static emptySet(e){return new Su(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=_c(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Su)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Su;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.ga=new jt(ke.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Lu{constructor(e,n,r,i,o,s,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach((l=>{s.push({type:0,doc:l})})),new Lu(e,n,Su.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class SU{constructor(){this.queries=fI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=qe(n),o=i.queries;i.queries=fI(),o.forEach(((s,l)=>{for(const c of l.ba)c.onError(r)}))})(this,new Pe(fe.ABORTED,"Firestore shutting down"))}}function fI(){return new ys((t=>NR(t)),mm)}async function AU(t,e){const n=qe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new EU,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=x1(s,`Initialization of query '${pu(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&b1(n)}async function IU(t,e){const n=qe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ba.indexOf(e);s>=0&&(o.ba.splice(s,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function PU(t,e){const n=qe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.ba)l.Fa(i)&&(r=!0);s.wa=i}}r&&b1(n)}function CU(t,e,n){const r=qe(t),i=r.queries.get(e);if(i)for(const o of i.ba)o.onError(n);r.queries.delete(e)}function b1(t){t.Ca.forEach((e=>{e.next()}))}var g_,dI;(dI=g_||(g_={})).Ma="default",dI.Cache="cache";class OU{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Lu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Lu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==g_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.key=e}}class pD{constructor(e){this.key=e}}class kU{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xe(),this.mutatedKeys=Xe(),this.eu=jR(e),this.tu=new Su(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new cI,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,m)=>{const y=i.get(h),b=gm(this.query,m)?m:null,S=!!y&&this.mutatedKeys.has(y.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let _=!1;y&&b?y.data.isEqual(b.data)?S!==E&&(r.track({type:3,doc:b}),_=!0):this.su(y,b)||(r.track({type:2,doc:b}),_=!0,(c&&this.eu(b,c)>0||f&&this.eu(b,f)<0)&&(l=!0)):!y&&b?(r.track({type:0,doc:b}),_=!0):y&&!b&&(r.track({type:1,doc:y}),_=!0,(c||f)&&(l=!0)),_&&(b?(s=s.add(b),o=E?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Ss:l,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((h,m)=>(function(b,S){const E=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:_})}};return E(b)-E(S)})(h.type,m.type)||this.eu(h.doc,m.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,f=c!==this.Xa;return this.Xa=c,s.length!==0||f?{snapshot:new Lu(this.query,e.tu,o,s,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cI,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new pD(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new hD(r))})),n}cu(e){this.Za=e.ks,this.Ya=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Lu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _1="SyncEngine";class NU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jU{constructor(e){this.key=e,this.hu=!1}}class RU{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ys((l=>NR(l)),mm),this.Iu=new Map,this.Eu=new Set,this.Ru=new jt(ke.comparator),this.Au=new Map,this.Vu=new c1,this.du={},this.mu=new Map,this.fu=Mu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DU(t,e,n=!0){const r=bD(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await mD(r,e,n,!0),i}async function MU(t,e){const n=bD(t);await mD(n,e,!0,!1)}async function mD(t,e,n,r){const i=await J6(t.localStore,pi(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await LU(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&sD(t.remoteStore,i),l}async function LU(t,e,n,r,i){t.pu=(m,y,b)=>(async function(E,_,P,j){let R=_.view.ru(P);R.Ss&&(R=await iI(E.localStore,_.query,!1).then((({documents:A})=>_.view.ru(A,R))));const D=j&&j.targetChanges.get(_.targetId),k=j&&j.targetMismatches.get(_.targetId)!=null,N=_.view.applyChanges(R,E.isPrimaryClient,D,k);return pI(E,_.targetId,N.au),N.snapshot})(t,m,y,b);const o=await iI(t.localStore,e,!0),s=new kU(e,o.ks),l=s.ru(o.documents),c=Vf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=s.applyChanges(l,t.isPrimaryClient,c);pI(t,n,f.au);const h=new NU(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function $U(t,e,n){const r=qe(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((s=>!mm(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await p_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&p1(r.remoteStore,i.targetId),y_(r,i.targetId)})).catch(ll)):(y_(r,i.targetId),await p_(r.localStore,i.targetId,!0))}async function VU(t,e){const n=qe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),p1(n.remoteStore,r.targetId))}async function BU(t,e,n){const r=GU(t);try{const i=await(function(s,l){const c=qe(s),f=At.now(),h=l.reduce(((b,S)=>b.add(S.key)),Xe());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let S=ao(),E=Xe();return c.xs.getEntries(b,h).next((_=>{S=_,S.forEach(((P,j)=>{j.isValidDocument()||(E=E.add(P))}))})).next((()=>c.localDocuments.getOverlayedDocuments(b,S))).next((_=>{m=_;const P=[];for(const j of l){const R=Q5(j,m.get(j.key).overlayedDocument);R!=null&&P.push(new vs(j.key,R,SR(R.value.mapValue),mi.exists(!0)))}return c.mutationQueue.addMutationBatch(b,f,P,l)})).next((_=>{y=_;const P=_.applyToLocalDocumentSet(m,E);return c.documentOverlayCache.saveOverlays(b,_.batchId,P)}))})).then((()=>({batchId:y.batchId,changes:DR(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,l,c){let f=s.du[s.currentUser.toKey()];f||(f=new jt(Ye)),f=f.insert(l,c),s.du[s.currentUser.toKey()]=f})(r,i.batchId,n),await Ff(r,i.changes),await wm(r.remoteStore)}catch(i){const o=x1(i,"Failed to persist write");n.reject(o)}}async function gD(t,e){const n=qe(t);try{const r=await Y6(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const s=n.Au.get(o);s&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?ct(s.hu,14607):i.removedDocuments.size>0&&(ct(s.hu,42227),s.hu=!1))})),await Ff(n,r,e)}catch(r){await ll(r)}}function hI(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,s)=>{const l=s.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(s,l){const c=qe(s);c.onlineState=l;let f=!1;c.queries.forEach(((h,m)=>{for(const y of m.ba)y.va(l)&&(f=!0)})),f&&b1(c)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function FU(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new jt(ke.comparator);s=s.insert(o,On.newNoDocument(o,Fe.min()));const l=Xe().add(o),c=new xm(Fe.min(),new Map,new jt(Ye),s,l);await gD(r,c),r.Ru=r.Ru.remove(o),r.Au.delete(e),w1(r)}else await p_(r.localStore,e,!1).then((()=>y_(r,e,n))).catch(ll)}async function UU(t,e){const n=qe(t),r=e.batch.batchId;try{const i=await K6(n.localStore,e);vD(n,r,null),yD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ff(n,i)}catch(i){await ll(i)}}async function qU(t,e,n){const r=qe(t);try{const i=await(function(s,l){const c=qe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,l).next((m=>(ct(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(f,m)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);vD(r,e,n),yD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ff(r,i)}catch(i){await ll(i)}}function yD(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function vD(t,e,n){const r=qe(t);let i=r.du[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function y_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||xD(t,r)}))}function xD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(p1(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),w1(t))}function pI(t,e,n){for(const r of n)r instanceof hD?(t.Vu.addReference(r.key,e),zU(t,r)):r instanceof pD?(we(_1,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||xD(t,r.key)):Me(19791,{wu:r})}function zU(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(we(_1,"New document in limbo: "+n),t.Eu.add(r),w1(t))}function w1(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ke(St.fromString(e)),r=t.fu.next();t.Au.set(r,new jU(n)),t.Ru=t.Ru.insert(n,r),sD(t.remoteStore,new Yo(pi(i1(n.path)),r,"TargetPurposeLimboResolution",fm.ce))}}async function Ff(t,e,n){const r=qe(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{s.push(r.pu(c,e,n).then((f=>{var h;if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(f){i.push(f);const m=d1.Es(c.targetId,f);o.push(m)}})))})),await Promise.all(s),r.Pu.J_(i),await(async function(c,f){const h=qe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>ue.forEach(f,(y=>ue.forEach(y.Ts,(b=>h.persistence.referenceDelegate.addReference(m,y.targetId,b))).next((()=>ue.forEach(y.Is,(b=>h.persistence.referenceDelegate.removeReference(m,y.targetId,b)))))))))}catch(m){if(!cl(m))throw m;we(h1,"Failed to update sequence numbers: "+m)}for(const m of f){const y=m.targetId;if(!m.fromCache){const b=h.vs.get(y),S=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(S);h.vs=h.vs.insert(y,E)}}})(r.localStore,o))}async function WU(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){we(_1,"User change. New user:",e.toKey());const r=await rD(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach((l=>{l.forEach((c=>{c.reject(new Pe(fe.CANCELLED,s))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ff(n,r.Ns)}}function HU(t,e){const n=qe(t),r=n.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let i=Xe();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const l=n.Tu.get(s);i=i.unionWith(l.view.nu)}return i}}function bD(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FU.bind(null,e),e.Pu.J_=PU.bind(null,e.eventManager),e.Pu.yu=CU.bind(null,e.eventManager),e}function GU(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qU.bind(null,e),e}class op{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return G6(this.persistence,new z6,e.initialUser,this.serializer)}Cu(e){return new nD(f1.Vi,this.serializer)}Du(e){return new eU}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}op.provider={build:()=>new op};class KU extends op{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof rp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new C6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new nD((r=>rp.Vi(r,n)),this.serializer)}}class v_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WU.bind(null,this.syncEngine),await TU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new SU})()}createDatastore(e){const n=bm(e.databaseInfo.databaseId),r=oU(e.databaseInfo);return cU(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,s,l){return new dU(r,i,o,s,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>hI(this.syncEngine,n,0)),(function(){return sI.v()?new sI:new tU})())}createSyncEngine(e,n){return(function(i,o,s,l,c,f,h){const m=new RU(i,o,s,l,c,f);return h&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=qe(i);we(cs,"RemoteStore shutting down."),o.Ea.add(5),await Bf(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}v_.provider={build:()=>new v_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):oo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="FirestoreClient";class XU{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Cn.UNAUTHENTICATED,this.clientId=Qw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async s=>{we(ua,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(we(ua,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=x1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function zy(t,e){t.asyncQueue.verifyOperationInProgress(),we(ua,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await rD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function mI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QU(t);we(ua,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>lI(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>lI(e.remoteStore,i))),t._onlineComponents=e}async function QU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(ua,"Using user provided OfflineComponentProvider");try{await zy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ls("Error using user provided cache. Falling back to memory cache: "+n),await zy(t,new op)}}else we(ua,"Using default OfflineComponentProvider"),await zy(t,new KU(void 0));return t._offlineComponents}async function _D(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(ua,"Using user provided OnlineComponentProvider"),await mI(t,t._uninitializedComponentsProvider._online)):(we(ua,"Using default OnlineComponentProvider"),await mI(t,new v_))),t._onlineComponents}function JU(t){return _D(t).then((e=>e.syncEngine))}async function gI(t){const e=await _D(t),n=e.eventManager;return n.onListen=DU.bind(null,e.syncEngine),n.onUnlisten=$U.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VU.bind(null,e.syncEngine),n}function ZU(t,e,n,r){const i=new YU(r),o=new OU(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>AU(await gI(t),o))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>IU(await gI(t),o)))}}function e9(t,e){const n=new Za;return t.asyncQueue.enqueueAndForget((async()=>BU(await JU(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9="ComponentProvider",yI=new Map;function n9(t,e,n,r,i){return new v5(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,wD(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="firestore.googleapis.com",vI=!0;class xI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TD,this.ssl=vI}else this.host=e.host,this.ssl=e.ssl??vI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I6)throw new Pe(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wD(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Pe(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Pe(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Pe(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new QF;switch(r.type){case"firstParty":return new t5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=yI.get(n);r&&(we(t9,"Removing Datastore"),yI.delete(n),r.terminate())})(this),Promise.resolve()}}function r9(t,e,n,r={}){var f;t=es(t,Tm);const i=ol(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(wj(`https://${l}`),Tj("Firestore",!0)),o.host!==TD&&o.host!==l&&ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:l,ssl:i,emulatorOptions:r};if(!os(c,s)&&(t._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=Cn.MOCK_USER;else{h=b$(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Pe(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Cn(y)}t._authCredentials=new JF(new hR(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Em(this.firestore,e,this._query)}}class tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Lf(n,tn._jsonSchema))return new tn(e,r||null,new ke(St.fromString(n.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:Wt("string",tn._jsonSchemaVersion),referencePath:Wt("string")};class ta extends Em{constructor(e,n,r){super(e,n,i1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new ke(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function i9(t,e,...n){if(t=Hn(t),pR("collection","path",e),t instanceof Tm){const r=St.fromString(e,...n);return NA(r),new ta(t,null,r)}{if(!(t instanceof tn||t instanceof ta))throw new Pe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return NA(r),new ta(t.firestore,null,r)}}function Bh(t,e,...n){if(t=Hn(t),arguments.length===1&&(e=Qw.newId()),pR("doc","path",e),t instanceof Tm){const r=St.fromString(e,...n);return kA(r),new tn(t,null,new ke(r))}{if(!(t instanceof tn||t instanceof ta))throw new Pe(fe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return kA(r),new tn(t.firestore,t instanceof ta?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="AsyncQueue";class _I{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oD(this,"async_queue_retry"),this._c=()=>{const r=qy();r&&we(bI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=qy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=qy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Za;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!cl(e))throw e;we(bI,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,oo("INTERNAL UNHANDLED ERROR: ",wI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=v1.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Me(47125,{Pc:wI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Kc extends Tm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _I,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _I(e),this._firestoreClient=void 0,await e}}}function o9(t,e){const n=typeof t=="object"?t:Ij(),r=typeof t=="string"?t:Qh,i=Vw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=v$("firestore");o&&r9(i,...o)}return i}function ED(t){if(t._terminated)throw new Pe(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||a9(t),t._firestoreClient}function a9(t){var r,i,o,s;const e=t._freezeSettings(),n=n9(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new XU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this._byteString=e}static fromBase64String(e){try{return new br(_n.fromBase64String(e))}catch(n){throw new Pe(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new br(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:br._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lf(e,br._jsonSchema))return br.fromBase64String(e.bytes)}}br._jsonSchemaVersion="firestore/bytes/1.0",br._jsonSchema={type:Wt("string",br._jsonSchemaVersion),bytes:Wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yi._jsonSchemaVersion}}static fromJSON(e){if(Lf(e,yi._jsonSchema))return new yi(e.latitude,e.longitude)}}yi._jsonSchemaVersion="firestore/geoPoint/1.0",yi._jsonSchema={type:Wt("string",yi._jsonSchemaVersion),latitude:Wt("number"),longitude:Wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lf(e,qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qr(e.vectorValues);throw new Pe(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qr._jsonSchemaVersion="firestore/vectorValue/1.0",qr._jsonSchema={type:Wt("string",qr._jsonSchemaVersion),vectorValues:Wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=/^__.*__$/;class u9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new $f(e,this.data,n,this.fieldTransforms)}}function AD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{dataSource:t})}}class E1{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new E1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ap(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(AD(this.dataSource)&&s9.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class l9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bm(e)}createContext(e,n,r,i=!1){return new E1({dataSource:e,methodName:n,targetDoc:r,path:xn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function c9(t){const e=t._freezeSettings(),n=bm(t._databaseId);return new l9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function f9(t,e,n,r,i,o={}){const s=t.createContext(o.merge||o.mergeFields?2:0,e,n,i);OD("Data must be an object, but it was:",s,r);const l=PD(r,s);let c,f;if(o.merge)c=new Br(s.fieldMask),f=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const m of o.mergeFields){const y=A1(e,m,n);if(!s.contains(y))throw new Pe(fe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);p9(h,y)||h.push(y)}c=new Br(h),f=s.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,f=s.fieldTransforms;return new u9(new xr(l),c,f)}class S1 extends T1{_toFieldTransform(e){return new G5(e.path,new Wc)}isEqual(e){return e instanceof S1}}function ID(t,e){if(CD(t=Hn(t)))return OD("Unsupported field value:",e,t),PD(t,e);if(t instanceof T1)return(function(r,i){if(!AD(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const o=[];let s=0;for(const l of r){let c=ID(l,i.childContextForArray(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=At.fromDate(r);return{timestampValue:np(i.serializer,o)}}if(r instanceof At){const o=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:np(i.serializer,o)}}if(r instanceof yi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof br)return{bytesValue:GR(i.serializer,r._byteString)};if(r instanceof tn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:l1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qr)return(function(s,l){const c=s instanceof qr?s.toArray():s;return{mapValue:{fields:{[TR]:{stringValue:ER},[Jh]:{arrayValue:{values:c.map((h=>{if(typeof h!="number")throw l.createError("VectorValues must only contain numeric values.");return o1(l.serializer,h)}))}}}}}})(r,i);if(eD(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Jw(r)}`)})(t,e)}function PD(t,e){const n={};return yR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(t,((r,i)=>{const o=ID(i,e.childContextForField(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function CD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof yi||t instanceof br||t instanceof tn||t instanceof T1||t instanceof qr||eD(t))}function OD(t,e,n){if(!CD(n)||!mR(n)){const r=Jw(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function A1(t,e,n){if((e=Hn(e))instanceof SD)return e._internalPath;if(typeof e=="string")return h9(t,e);throw ap("Field path arguments must be of type string or ",t,!1,void 0,n)}const d9=new RegExp("[~\\*/\\[\\]]");function h9(t,e,n){if(e.search(d9)>=0)throw ap(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new SD(...e.split("."))._internalPath}catch{throw ap(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ap(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Pe(fe.INVALID_ARGUMENT,l+t+c)}function p9(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{convertValue(e,n="none"){switch(aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gs(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Jh].arrayValue)==null?void 0:i.values)==null?void 0:o.map((s=>Bt(s.doubleValue)));return new qr(n)}convertGeoPoint(e){return new yi(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uc(e));default:return null}}convertTimestamp(e){const n=ia(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=St.fromString(e);ct(ZR(r),9688,{name:e});const i=new qc(r.get(1),r.get(3)),o=new ke(r.popFirst(5));return i.isEqual(n)||oo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD extends m9{constructor(e){super(),this.firestore=e}convertBytes(e){return new br(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function x_(){return new S1("serverTimestamp")}const TI="@firebase/firestore",EI="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(A1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g9 extends ND{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function v9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ts extends ND{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(A1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ts._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",ts._jsonSchema={type:Wt("string",ts._jsonSchemaVersion),bundleSource:Wt("string","DocumentSnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class Fh extends ts{data(e={}){return super.data(e)}}class Au{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Tc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Fh(this._firestore,this._userDataWriter,r.key,r,new Tc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((l=>{const c=new Fh(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Tc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>o||l.type!==3)).map((l=>{const c=new Fh(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Tc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),h=s.indexOf(l.doc.key)),{type:x9(l.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Au._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function x9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Au._jsonSchemaVersion="firestore/querySnapshot/1.0",Au._jsonSchema={type:Wt("string",Au._jsonSchemaVersion),bundleSource:Wt("string","QuerySnapshot"),bundleName:Wt("string"),bundle:Wt("string")};function b_(t,e,n){t=es(t,tn);const r=es(t.firestore,Kc),i=v9(t.converter,e),o=c9(r);return jD(r,[f9(o,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,mi.none())])}function b9(t){return jD(es(t.firestore,Kc),[new a1(t._key,mi.none())])}function _9(t,...e){var f,h,m;t=Hn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||SI(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(SI(e[r])){const y=e[r];e[r]=(f=y.next)==null?void 0:f.bind(y),e[r+1]=(h=y.error)==null?void 0:h.bind(y),e[r+2]=(m=y.complete)==null?void 0:m.bind(y)}let o,s,l;if(t instanceof tn)s=es(t.firestore,Kc),l=i1(t._key.path),o={next:y=>{e[r]&&e[r](w9(s,t,y))},error:e[r+1],complete:e[r+2]};else{const y=es(t,Em);s=es(y.firestore,Kc),l=y._query;const b=new kD(s);o={next:S=>{e[r]&&e[r](new Au(s,b,y,S))},error:e[r+1],complete:e[r+2]},y9(t._query)}const c=ED(s);return ZU(c,l,i,o)}function jD(t,e){const n=ED(t);return e9(n,e)}function w9(t,e,n){const r=n.docs.get(e._key),i=new kD(t);return new ts(t,i,e._key,r,new Tc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){XF(al),ku(new as("firestore",((r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new Kc(new ZF(r.getProvider("auth-internal")),new n5(s,r.getProvider("app-check-internal")),x5(s,i),s);return o={useFetchStreams:n,...o},l._setSettings(o),l}),"PUBLIC").setMultipleInstances(!0)),Zo(TI,EI,e),Zo(TI,EI,"esm2020")})();const T9={apiKey:"AIzaSyCLnLTVNRck2Ezz1z3VTTNobarWy7l_TMs",authDomain:"wanderplanner-dbee7.firebaseapp.com",projectId:"wanderplanner-dbee7",storageBucket:"wanderplanner-dbee7.firebasestorage.app",messagingSenderId:"151242477554",appId:"1:151242477554:web:f8a46861d6c46390dee56b"},RD=Aj(T9),Wy=HF(RD),Ec=o9(RD),E9=new Gi;function DD(){const[t,e]=z.useState(null),[n,r]=z.useState(!0);return z.useEffect(()=>RB(Wy,l=>{e(l||!1),r(!1)}),[]),{user:t,authLoading:n,signInWithGoogle:async()=>{await tF(Wy,E9)},signOutUser:async()=>{await DB(Wy)}}}const sp=[{code:"PHP",symbol:"",name:"Philippine Peso"},{code:"USD",symbol:"$",name:"US Dollar"},{code:"SGD",symbol:"S$",name:"Singapore Dollar"},{code:"THB",symbol:"",name:"Thai Baht"},{code:"MYR",symbol:"RM",name:"Malaysian Ringgit"},{code:"EUR",symbol:"",name:"Euro"},{code:"GBP",symbol:"",name:"British Pound"},{code:"JPY",symbol:"",name:"Japanese Yen"},{code:"KRW",symbol:"",name:"Korean Won"},{code:"IDR",symbol:"Rp",name:"Indonesian Rupiah"}];function S9(t){const e=sp.find(n=>n.code===t);return e?e.symbol:t}function Wi(){return Date.now().toString(36)+Math.random().toString(36).slice(2,8)}function up(t,e="medium"){if(!t)return"";const n=new Date(t+"T00:00:00");if(isNaN(n.getTime()))return t;switch(e){case"short":return n.toLocaleDateString("en-US",{month:"short",day:"numeric"});case"medium":return n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});case"long":return n.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});case"full":return n.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});case"weekday":return n.toLocaleDateString("en-US",{weekday:"short"});default:return n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}}function I1(t,e){if(!t||!e)return"";const n=new Date(t+"T00:00:00"),r=new Date(e+"T00:00:00"),i=n.toLocaleDateString("en-US",{month:"short"}),o=r.toLocaleDateString("en-US",{month:"short"});return i===o?`${i} ${n.getDate()}${r.getDate()}, ${r.getFullYear()}`:`${i} ${n.getDate()}  ${o} ${r.getDate()}, ${r.getFullYear()}`}function sr(t,e="PHP"){return t==null||isNaN(t)?"":`${S9(e)}${Number(t).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`}function A9(t,e){if(!t||!e)return 0;const n=new Date(t+"T00:00:00"),r=new Date(e+"T00:00:00");return Math.round((r-n)/(1e3*60*60*24))+1}function I9(t){return JSON.parse(JSON.stringify(t))}function P9(t,e,n){return t===1?e:n||e+"s"}const pe={SET_ACTIVE_TRIP:"SET_ACTIVE_TRIP",ADD_TRIP:"ADD_TRIP",UPDATE_TRIP:"UPDATE_TRIP",DELETE_TRIP:"DELETE_TRIP",DUPLICATE_TRIP:"DUPLICATE_TRIP",RENAME_TRIP:"RENAME_TRIP",SET_TAB:"SET_TAB",TOGGLE_SIDEBAR:"TOGGLE_SIDEBAR",SET_SIDEBAR:"SET_SIDEBAR",SHOW_TOAST:"SHOW_TOAST",HIDE_TOAST:"HIDE_TOAST",TOGGLE_DARK_MODE:"TOGGLE_DARK_MODE",ADD_DAY:"ADD_DAY",REMOVE_DAY:"REMOVE_DAY",UPDATE_DAY:"UPDATE_DAY",REORDER_DAYS:"REORDER_DAYS",ADD_ACTIVITY:"ADD_ACTIVITY",UPDATE_ACTIVITY:"UPDATE_ACTIVITY",DELETE_ACTIVITY:"DELETE_ACTIVITY",REORDER_ACTIVITIES:"REORDER_ACTIVITIES",ADD_BOOKING:"ADD_BOOKING",UPDATE_BOOKING:"UPDATE_BOOKING",DELETE_BOOKING:"DELETE_BOOKING",CYCLE_BOOKING_STATUS:"CYCLE_BOOKING_STATUS",SET_BOOKING_STATUS:"SET_BOOKING_STATUS",UPDATE_BUDGET_CATEGORY:"UPDATE_BUDGET_CATEGORY",ADD_BUDGET_CATEGORY:"ADD_BUDGET_CATEGORY",DELETE_BUDGET_CATEGORY:"DELETE_BUDGET_CATEGORY",ADD_SPENDING:"ADD_SPENDING",DELETE_SPENDING:"DELETE_SPENDING",ADD_TODO:"ADD_TODO",TOGGLE_TODO:"TOGGLE_TODO",UPDATE_TODO:"UPDATE_TODO",DELETE_TODO:"DELETE_TODO",ADD_PACKING_ITEM:"ADD_PACKING_ITEM",TOGGLE_PACKING_ITEM:"TOGGLE_PACKING_ITEM",DELETE_PACKING_ITEM:"DELETE_PACKING_ITEM",RESET_PACKING:"RESET_PACKING",UPDATE_CITY:"UPDATE_CITY",ADD_CITY:"ADD_CITY",DELETE_CITY:"DELETE_CITY",UPDATE_NOTES:"UPDATE_NOTES",SET_TRIPS_FROM_FIRESTORE:"SET_TRIPS_FROM_FIRESTORE"},Hy=["not_started","in_progress","booked"];function tt(t,e,n){const r={...t.trips},i=r[e];return i?(r[e]=typeof n=="function"?n(i):{...i,...n},{...t,trips:r}):t}function C9(t,e){const{type:n,payload:r}=e,i=t.activeTripId;switch(n){case pe.SET_ACTIVE_TRIP:return{...t,activeTripId:r,activeTab:"overview"};case pe.ADD_TRIP:{const o={...t.trips,[r.id]:r};return{...t,trips:o,activeTripId:r.id,activeTab:"overview"}}case pe.UPDATE_TRIP:return tt(t,r.id,r.updates);case pe.DELETE_TRIP:{const o={...t.trips};delete o[r];const s=Object.keys(o);return{...t,trips:o,activeTripId:s.length>0?s[0]:null,activeTab:"overview"}}case pe.DUPLICATE_TRIP:{const o=t.trips[r];if(!o)return t;const s=Wi(),l=I9(o);return l.id=s,l.name=o.name+" (Copy)",l.createdAt=new Date().toISOString(),{...t,trips:{...t.trips,[s]:l},activeTripId:s}}case pe.RENAME_TRIP:return tt(t,r.id,{name:r.name});case pe.SET_TAB:return{...t,activeTab:r};case pe.TOGGLE_SIDEBAR:return{...t,sidebarOpen:!t.sidebarOpen};case pe.SET_SIDEBAR:return{...t,sidebarOpen:r};case pe.SHOW_TOAST:return{...t,toast:{message:r.message,type:r.type||"success",visible:!0}};case pe.HIDE_TOAST:return{...t,toast:{...t.toast,visible:!1}};case pe.TOGGLE_DARK_MODE:return{...t,darkMode:!t.darkMode};case pe.ADD_DAY:return tt(t,i,o=>({...o,itinerary:[...o.itinerary,{id:Wi(),date:r.date||"",dayNumber:o.itinerary.length+1,location:r.location||"",emoji:r.emoji||"",activities:[],notes:""}]}));case pe.REMOVE_DAY:return tt(t,i,o=>({...o,itinerary:o.itinerary.filter(s=>s.id!==r).map((s,l)=>({...s,dayNumber:l+1}))}));case pe.UPDATE_DAY:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>s.id===r.dayId?{...s,...r.updates}:s)}));case pe.REORDER_DAYS:return tt(t,i,o=>{const s=[...o.itinerary],[l]=s.splice(r.fromIndex,1);return s.splice(r.toIndex,0,l),{...o,itinerary:s.map((c,f)=>({...c,dayNumber:f+1}))}});case pe.ADD_ACTIVITY:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>s.id===r.dayId?{...s,activities:[...s.activities,{id:Wi(),time:"",name:"",emoji:"",notes:"",...r.activity}]}:s)}));case pe.UPDATE_ACTIVITY:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>s.id===r.dayId?{...s,activities:s.activities.map(l=>l.id===r.activityId?{...l,...r.updates}:l)}:s)}));case pe.DELETE_ACTIVITY:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>s.id===r.dayId?{...s,activities:s.activities.filter(l=>l.id!==r.activityId)}:s)}));case pe.REORDER_ACTIVITIES:return tt(t,i,o=>({...o,itinerary:o.itinerary.map(s=>{if(s.id!==r.dayId)return s;const l=[...s.activities],[c]=l.splice(r.fromIndex,1);return l.splice(r.toIndex,0,c),{...s,activities:l}})}));case pe.ADD_BOOKING:return tt(t,i,o=>({...o,bookings:[{id:Wi(),status:"not_started",priority:!1,amountPaid:0,confirmationNumber:"",currency:o.currency,...r},...o.bookings]}));case pe.UPDATE_BOOKING:return tt(t,i,o=>({...o,bookings:o.bookings.map(s=>s.id===r.id?{...s,...r.updates}:s)}));case pe.DELETE_BOOKING:return tt(t,i,o=>({...o,bookings:o.bookings.filter(s=>s.id!==r)}));case pe.CYCLE_BOOKING_STATUS:return tt(t,i,o=>({...o,bookings:o.bookings.map(s=>{if(s.id!==r)return s;const l=Hy.indexOf(s.status),c=Hy[(l+1)%Hy.length];return{...s,status:c}})}));case pe.SET_BOOKING_STATUS:return tt(t,i,o=>({...o,bookings:o.bookings.map(s=>s.id===r.id?{...s,status:r.status}:s)}));case pe.UPDATE_BUDGET_CATEGORY:return tt(t,i,o=>({...o,budget:o.budget.map(s=>s.id===r.id?{...s,...r.updates}:s)}));case pe.ADD_BUDGET_CATEGORY:return tt(t,i,o=>({...o,budget:[...o.budget,{id:Wi(),name:r.name||"New Category",emoji:r.emoji||"",min:0,max:0,actual:0}]}));case pe.DELETE_BUDGET_CATEGORY:return tt(t,i,o=>({...o,budget:o.budget.filter(s=>s.id!==r)}));case pe.ADD_SPENDING:return tt(t,i,o=>{const s={id:Wi(),date:new Date().toISOString().slice(0,10),...r},l=o.budget.map(c=>c.name===r.category?{...c,actual:(c.actual||0)+(r.amount||0)}:c);return{...o,spendingLog:[...o.spendingLog,s],budget:l}});case pe.DELETE_SPENDING:return tt(t,i,o=>{const s=o.spendingLog.find(c=>c.id===r);if(!s)return{...o,spendingLog:o.spendingLog.filter(c=>c.id!==r)};const l=o.budget.map(c=>c.name===s.category?{...c,actual:Math.max(0,(c.actual||0)-(s.amount||0))}:c);return{...o,spendingLog:o.spendingLog.filter(c=>c.id!==r),budget:l}});case pe.ADD_TODO:return tt(t,i,o=>({...o,todos:[...o.todos,{id:Wi(),done:!1,priority:"normal",dueDate:"",category:"Misc",...r}]}));case pe.TOGGLE_TODO:return tt(t,i,o=>({...o,todos:o.todos.map(s=>s.id===r?{...s,done:!s.done}:s)}));case pe.UPDATE_TODO:return tt(t,i,o=>({...o,todos:o.todos.map(s=>s.id===r.id?{...s,...r.updates}:s)}));case pe.DELETE_TODO:return tt(t,i,o=>({...o,todos:o.todos.filter(s=>s.id!==r)}));case pe.ADD_PACKING_ITEM:return tt(t,i,o=>({...o,packingList:[...o.packingList,{id:Wi(),packed:!1,section:"Misc",...r}]}));case pe.TOGGLE_PACKING_ITEM:return tt(t,i,o=>({...o,packingList:o.packingList.map(s=>s.id===r?{...s,packed:!s.packed}:s)}));case pe.DELETE_PACKING_ITEM:return tt(t,i,o=>({...o,packingList:o.packingList.filter(s=>s.id!==r)}));case pe.RESET_PACKING:return tt(t,i,o=>({...o,packingList:o.packingList.map(s=>({...s,packed:!1}))}));case pe.UPDATE_CITY:return tt(t,i,o=>({...o,cities:o.cities.map(s=>s.id===r.id?{...s,...r.updates}:s)}));case pe.ADD_CITY:return tt(t,i,o=>({...o,cities:[...o.cities||[],{id:Wi(),city:r.city||"New City",country:r.country||"",flag:r.flag||"",highlights:"",mustDo:"",weather:"",currencyTip:"",notes:""}]}));case pe.DELETE_CITY:return tt(t,i,o=>({...o,cities:o.cities.filter(s=>s.id!==r)}));case pe.UPDATE_NOTES:return tt(t,i,{notes:r});case pe.SET_TRIPS_FROM_FIRESTORE:{const o=r,s=Object.keys(o),l=t.activeTripId,c=l&&o[l]?l:s.length>0?s[0]:null;return{...t,trips:o,activeTripId:c}}default:return t}}const AI={id:"sea-adventure-2026",name:"Val & Partner's SEA Adventure",emoji:"",destinations:[{city:"Cebu",country:"Philippines",flag:""},{city:"Singapore",country:"Singapore",flag:""},{city:"Koh Samui",country:"Thailand",flag:""},{city:"Kuala Lumpur",country:"Malaysia",flag:""},{city:"Cebu",country:"Philippines",flag:""}],startDate:"2026-11-14",endDate:"2026-11-22",travelers:2,currency:"PHP",createdAt:"2025-01-01T00:00:00.000Z",itinerary:[{id:"day-1",date:"2026-11-14",dayNumber:1,location:"Cebu  Singapore",emoji:"",activities:[{id:"a1",time:"06:00",name:"Depart Cebu (Mactan)",emoji:"",notes:"Early morning flight"},{id:"a2",time:"12:00",name:"Arrive Singapore Changi",emoji:"",notes:"Collect bags, get EZ-Link card at airport"},{id:"a3",time:"14:00",name:"Check in to hotel",emoji:"",notes:"Near Marina Bay area"},{id:"a4",time:"16:00",name:"Gardens by the Bay",emoji:"",notes:"Cloud Forest + Flower Dome"},{id:"a5",time:"19:00",name:"Dinner at Lau Pa Sat",emoji:"",notes:"Hawker centre, try satay street"}],notes:"Travel day  take it easy in the evening"},{id:"day-2",date:"2026-11-15",dayNumber:2,location:"Singapore",emoji:"",activities:[{id:"a6",time:"09:00",name:"Marina Bay Sands area",emoji:"",notes:"ArtScience Museum, Merlion"},{id:"a7",time:"12:00",name:"Lunch at Maxwell Food Centre",emoji:"",notes:"Tian Tian chicken rice"},{id:"a8",time:"14:00",name:"Chinatown & Little India",emoji:"",notes:"Walking tour, temples, spice market"},{id:"a9",time:"17:00",name:"Orchard Road shopping",emoji:"",notes:"ION Orchard, Takashimaya"},{id:"a10",time:"20:00",name:"Spectra Light Show",emoji:"",notes:"Free show at Marina Bay, 8pm & 9pm"}],notes:"Full Singapore day  wear comfy shoes"},{id:"day-3",date:"2026-11-16",dayNumber:3,location:"Singapore  Koh Samui",emoji:"",activities:[{id:"a11",time:"08:00",name:"Breakfast at hotel",emoji:"",notes:""},{id:"a12",time:"10:00",name:"Last-minute Singapore shopping",emoji:"",notes:""},{id:"a13",time:"14:00",name:"Fly Singapore  Koh Samui",emoji:"",notes:"Afternoon flight"},{id:"a14",time:"17:00",name:"Check in Karma Resort",emoji:"",notes:"Beachfront resort"},{id:"a15",time:"19:00",name:"Beach sunset dinner",emoji:"",notes:"Fresh seafood on the beach"}],notes:"Transit day  Singapore to Thailand"},{id:"day-4",date:"2026-11-17",dayNumber:4,location:"Koh Samui",emoji:"",activities:[{id:"a16",time:"08:00",name:"Beach morning & swim",emoji:"",notes:"Chaweng Beach"},{id:"a17",time:"11:00",name:"Four Seasons Day Pass",emoji:"",notes:"Pool, beach, spa  day pass for 2"},{id:"a18",time:"15:00",name:"Explore Fisherman's Village",emoji:"",notes:"Bophut area, cute shops and cafs"},{id:"a19",time:"19:00",name:"Thai dinner on the beach",emoji:"",notes:"Pad Thai, green curry, mango sticky rice"}],notes:"Relaxation day  Four Seasons is the highlight!"},{id:"day-5",date:"2026-11-18",dayNumber:5,location:"Koh Samui",emoji:"",activities:[{id:"a20",time:"09:00",name:"Island tour",emoji:"",notes:"Na Muang Waterfall, Big Buddha, Secret Garden"},{id:"a21",time:"13:00",name:"Lunch at local spot",emoji:"",notes:""},{id:"a22",time:"15:00",name:"Snorkeling trip",emoji:"",notes:"Ang Thong National Marine Park or local reef"},{id:"a23",time:"19:00",name:"Night market",emoji:"",notes:"Lamai or Chaweng night market"}],notes:"Adventure day  bring waterproof phone case"},{id:"day-6",date:"2026-11-19",dayNumber:6,location:"Koh Samui  Kuala Lumpur",emoji:"",activities:[{id:"a24",time:"08:00",name:"Last beach morning",emoji:"",notes:""},{id:"a25",time:"11:00",name:"Check out Karma Resort",emoji:"",notes:""},{id:"a26",time:"13:00",name:"Fly Koh Samui  Kuala Lumpur",emoji:"",notes:"Afternoon flight"},{id:"a27",time:"17:00",name:"Check in KL hotel near Stadium Merdeka",emoji:"",notes:"Walking distance to concert venue!"},{id:"a28",time:"19:00",name:"Jalan Alor street food",emoji:"",notes:"Must-try: satay, char kway teow, durian"}],notes:"Transit day  Thailand to Malaysia"},{id:"day-7",date:"2026-11-20",dayNumber:7,location:"Kuala Lumpur",emoji:"",activities:[{id:"a29",time:"10:00",name:"Petronas Twin Towers + KLCC",emoji:"",notes:"Book skybridge tickets in advance"},{id:"a30",time:"13:00",name:"Lunch at Nasi Kandar",emoji:"",notes:""},{id:"a31",time:"15:00",name:"Pre-concert prep & rest",emoji:"",notes:"Charge phones, pick outfits, eat early"},{id:"a32",time:"17:00",name:" MCR CONCERT @ Stadium Merdeka",emoji:"",notes:"Gates open ~5pm, show ~8pm. THE main event!"}],notes:" CONCERT DAY! My Chemical Romance at Stadium Merdeka!"},{id:"day-8",date:"2026-11-21",dayNumber:8,location:"Kuala Lumpur",emoji:"",activities:[{id:"a33",time:"10:00",name:"Sleep in (post-concert recovery)",emoji:"",notes:""},{id:"a34",time:"12:00",name:"Batu Caves",emoji:"",notes:"272 colorful steps, Hindu temple"},{id:"a35",time:"15:00",name:"Central Market & Petaling Street",emoji:"",notes:"Souvenirs, batik, street art"},{id:"a36",time:"18:00",name:"Dinner at Pavilion KL",emoji:"",notes:""},{id:"a37",time:"20:00",name:"KL Tower night view",emoji:"",notes:"Amazing city views at night"}],notes:"Recovery day after the concert  take it chill"},{id:"day-9",date:"2026-11-22",dayNumber:9,location:"Kuala Lumpur  Cebu",emoji:"",activities:[{id:"a38",time:"08:00",name:"Pack & check out",emoji:"",notes:""},{id:"a39",time:"10:00",name:"Last KL breakfast  roti canai",emoji:"",notes:""},{id:"a40",time:"13:00",name:"Fly Kuala Lumpur  Cebu",emoji:"",notes:"Afternoon flight home"},{id:"a41",time:"18:00",name:"Arrive home ",emoji:"",notes:"End of an amazing trip!"}],notes:"Homeward bound  what a trip! "}],bookings:[{id:"b1",name:"Cebu  Singapore flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b2",name:"Singapore  Koh Samui flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b3",name:"Koh Samui  Kuala Lumpur flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b4",name:"Kuala Lumpur  Cebu flight",category:"flight",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-09-01",priority:!1,currency:"PHP"},{id:"b5",name:"Singapore hotel, 2 nights",category:"hotel",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-01",priority:!1,currency:"PHP"},{id:"b6",name:"Karma Resort, Koh Samui, 3 nights",category:"hotel",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-01",priority:!1,currency:"PHP"},{id:"b7",name:"KL hotel near Stadium Merdeka, 3 nights",category:"hotel",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-01",priority:!1,currency:"PHP"},{id:"b8",name:"Four Seasons day pass, 2 pax",category:"experience",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"2026-10-15",priority:!1,currency:"PHP"},{id:"b9",name:"MCR Concert tickets, 2 pax",category:"concert",status:"not_started",confirmationNumber:"",amountPaid:0,bookByDate:"",priority:!0,currency:"PHP"}],todos:[{id:"t1",text:"Apply for Malaysia e-NTL",category:"Admin",done:!1,dueDate:"2026-10-01",priority:"high"},{id:"t2",text:"Check Thailand visa requirements",category:"Admin",done:!1,dueDate:"2026-10-01",priority:"high"},{id:"t3",text:"Get travel insurance for 2 people",category:"Admin",done:!1,dueDate:"2026-10-15",priority:"high"},{id:"t4",text:"Notify bank about international transactions",category:"Finances",done:!1,dueDate:"2026-11-01",priority:"normal"},{id:"t5",text:"Download offline maps: Singapore, Koh Samui, KL",category:"Tech",done:!1,dueDate:"2026-11-10",priority:"normal"},{id:"t6",text:"Exchange/load PHP to SGD, THB, MYR",category:"Finances",done:!1,dueDate:"2026-11-10",priority:"normal"},{id:"t7",text:"Check baggage allowance for all flights",category:"Admin",done:!1,dueDate:"2026-09-15",priority:"normal"},{id:"t8",text:"Research Four Seasons day pass booking process",category:"Admin",done:!1,dueDate:"2026-10-01",priority:"normal"},{id:"t9",text:"Buy portable charger / power bank",category:"Tech",done:!1,dueDate:"2026-11-01",priority:"normal"},{id:"t10",text:"Set up roaming or buy local SIMs plan",category:"Tech",done:!1,dueDate:"2026-11-10",priority:"normal"}],budget:[{id:"bg1",name:"Flights",emoji:"",min:44200,max:55600,actual:0},{id:"bg2",name:"Accommodation",emoji:"",min:39e3,max:71e3,actual:0},{id:"bg3",name:"Four Seasons Day Pass",emoji:"",min:11200,max:16800,actual:0},{id:"bg4",name:"MCR Concert Tickets",emoji:"",min:15e3,max:3e4,actual:0},{id:"bg5",name:"Other Expenses",emoji:"",min:47e3,max:61e3,actual:0}],spendingLog:[],packingList:[{id:"p1",name:"Passports (2)",section:"Documents",packed:!1},{id:"p2",name:"Travel insurance printouts",section:"Documents",packed:!1},{id:"p3",name:"Flight confirmations (printed)",section:"Documents",packed:!1},{id:"p4",name:"Hotel confirmations",section:"Documents",packed:!1},{id:"p5",name:"MCR concert tickets / QR codes",section:"Documents",packed:!1},{id:"p6",name:"Malaysia e-NTL printout",section:"Documents",packed:!1},{id:"p7",name:"T-shirts (6)",section:"Clothing",packed:!1},{id:"p8",name:"Shorts (3)",section:"Clothing",packed:!1},{id:"p9",name:"Light pants (2)",section:"Clothing",packed:!1},{id:"p10",name:"Swimwear (2)",section:"Clothing",packed:!1},{id:"p11",name:"Comfortable walking shoes",section:"Clothing",packed:!1},{id:"p12",name:"Flip flops / sandals",section:"Clothing",packed:!1},{id:"p13",name:"Light rain jacket",section:"Clothing",packed:!1},{id:"p14",name:"Underwear & socks",section:"Clothing",packed:!1},{id:"p15",name:"Sleepwear",section:"Clothing",packed:!1},{id:"p16",name:"Phone + charger",section:"Tech",packed:!1},{id:"p17",name:"Power bank (20,000mAh)",section:"Tech",packed:!1},{id:"p18",name:"Universal travel adapter",section:"Tech",packed:!1},{id:"p19",name:"Camera + SD cards",section:"Tech",packed:!1},{id:"p20",name:"Earphones / AirPods",section:"Tech",packed:!1},{id:"p21",name:"MCR concert outfit ",section:"Concert Essentials",packed:!1},{id:"p22",name:"Comfortable concert shoes",section:"Concert Essentials",packed:!1},{id:"p23",name:"Small crossbody bag",section:"Concert Essentials",packed:!1},{id:"p24",name:"Earplugs (for hearing protection)",section:"Concert Essentials",packed:!1},{id:"p25",name:"Sunscreen SPF 50",section:"Toiletries",packed:!1},{id:"p26",name:"Insect repellent",section:"Toiletries",packed:!1},{id:"p27",name:"Basic first aid kit",section:"Toiletries",packed:!1},{id:"p28",name:"Toothbrush & toothpaste",section:"Toiletries",packed:!1},{id:"p29",name:"Deodorant",section:"Toiletries",packed:!1},{id:"p30",name:"Medication / vitamins",section:"Toiletries",packed:!1},{id:"p31",name:"Daypack / small backpack",section:"Misc",packed:!1},{id:"p32",name:"Reusable water bottle",section:"Misc",packed:!1},{id:"p33",name:"Packing cubes",section:"Misc",packed:!1},{id:"p34",name:"Neck pillow for flights",section:"Misc",packed:!1},{id:"p35",name:"Snacks for travel days",section:"Misc",packed:!1}],cities:[{id:"c1",city:"Singapore",country:"Singapore",flag:"",highlights:"Marina Bay, Gardens by the Bay, hawker food culture",mustDo:"Eat at a hawker centre, see the Supertree light show",weather:"Hot & humid year-round, 27-32C. Rain possible anytime.",currencyTip:"SGD. Cashless-friendly, cards accepted everywhere.",notes:""},{id:"c2",city:"Koh Samui",country:"Thailand",flag:"",highlights:"Beautiful beaches, luxury resorts, island vibes",mustDo:"Visit Big Buddha, snorkel at Ang Thong, Four Seasons day pass",weather:"November is end of monsoon season. Expect some rain, 26-30C.",currencyTip:"THB. Cash is king for street food and markets.",notes:""},{id:"c3",city:"Kuala Lumpur",country:"Malaysia",flag:"",highlights:"Petronas Towers, Batu Caves, incredible food scene",mustDo:"Jalan Alor street food, Petronas Towers skybridge, MCR concert!",weather:"Hot & humid, 27-33C. Afternoon thunderstorms common.",currencyTip:"MYR. Very affordable. Cards widely accepted in malls.",notes:""}],notes:"This trip is our big Southeast Asia adventure  the MCR concert in KL is the anchor event. Build the rest of the trip around it!"};function O9(t={}){return{id:t.id||Date.now().toString(36)+Math.random().toString(36).slice(2,8),name:t.name||"New Trip",emoji:t.emoji||"",destinations:t.destinations||[],startDate:t.startDate||"",endDate:t.endDate||"",travelers:t.travelers||1,currency:t.currency||"PHP",createdAt:new Date().toISOString(),itinerary:[],bookings:[],todos:[],budget:t.budget||[],spendingLog:[],packingList:[],cities:[],notes:"",...t}}const Sc="trips",lp="wanderplan_data",II="wanderplan_migrated";function k9(){let t=!1;try{const e=localStorage.getItem(lp);e&&(t=JSON.parse(e).darkMode||!1)}catch{}return{trips:{},activeTripId:null,activeTab:"overview",sidebarOpen:!1,darkMode:t,toast:{message:"",type:"success",visible:!1}}}async function N9(){if(localStorage.getItem(II))return!1;try{const t=localStorage.getItem(lp);if(!t)return!1;const e=JSON.parse(t);if(!e.trips||Object.keys(e.trips).length===0)return!1;const n=Object.values(e.trips);return await Promise.all(n.map(r=>b_(Bh(Ec,Sc,r.id),{...r,_updatedAt:x_()}))),localStorage.setItem(II,"true"),console.log(`[Wanderplan] Migrated ${n.length} trip(s) from localStorage  Firestore`),!0}catch(t){return console.warn("[Wanderplan] Migration failed:",t),!1}}function j9(){const[t,e]=z.useReducer(C9,null,k9),[n,r]=z.useState(!0),i=z.useRef({}),o=z.useRef(!1);z.useEffect(()=>{const f=i9(Ec,Sc);return _9(f,async m=>{const y={};if(m.forEach(S=>{const{_updatedAt:E,..._}=S.data();y[S.id]=_}),Object.keys(i.current).length===0&&Object.keys(y).length===0){if(await N9())return;await b_(Bh(Ec,Sc,AI.id),{...AI,_updatedAt:x_()});return}o.current=!0,i.current=y,e({type:pe.SET_TRIPS_FROM_FIRESTORE,payload:y}),r(!1)},m=>{console.error("[Wanderplan] Firestore listener error:",m),r(!1)})},[]),z.useEffect(()=>{if(o.current){o.current=!1;return}const f=t.trips,h=i.current;Object.keys(f).forEach(m=>{f[m]!==h[m]&&b_(Bh(Ec,Sc,m),{...f[m],_updatedAt:x_()}).catch(console.error)}),Object.keys(h).forEach(m=>{f[m]||b9(Bh(Ec,Sc,m)).catch(console.error)}),i.current=f},[t.trips]),z.useEffect(()=>{document.documentElement.classList.toggle("dark",t.darkMode);try{const f=localStorage.getItem(lp),h=f?JSON.parse(f):{};localStorage.setItem(lp,JSON.stringify({...h,darkMode:t.darkMode}))}catch{}},[t.darkMode]),z.useEffect(()=>{if(t.toast.visible){const f=setTimeout(()=>e({type:pe.HIDE_TOAST}),3e3);return()=>clearTimeout(f)}},[t.toast.visible]);const s=t.activeTripId?t.trips[t.activeTripId]:null,l=Object.values(t.trips).sort((f,h)=>f.startDate?h.startDate?new Date(f.startDate)-new Date(h.startDate):-1:1),c=z.useCallback((f,h="success")=>{e({type:pe.SHOW_TOAST,payload:{message:f,type:h}})},[]);return{state:t,dispatch:e,activeTrip:s,sortedTrips:l,showToast:c,firestoreLoading:n}}function R9(t){const[e,n]=z.useState(()=>typeof window<"u"?window.matchMedia(t).matches:!1);return z.useEffect(()=>{const r=window.matchMedia(t),i=o=>n(o.matches);return r.addEventListener("change",i),n(r.matches),()=>r.removeEventListener("change",i)},[t]),e}function D9({onSignIn:t}){const[e,n]=z.useState(!1),[r,i]=z.useState(null),o=async()=>{n(!0),i(null);try{await t()}catch{i("Sign-in failed. Please try again."),n(!1)}};return v.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary animate-fade-in",children:v.jsxs("div",{className:"text-center max-w-sm px-8",children:[v.jsx("div",{className:"text-6xl mb-5 animate-pulse-warm",children:""}),v.jsx("h1",{className:"font-heading text-3xl font-bold text-text-primary mb-2",children:"Wanderplan"}),v.jsx("p",{className:"text-text-muted text-sm mb-10 leading-relaxed",children:"Every trip, perfectly planned."}),v.jsxs("button",{onClick:o,disabled:e,className:`inline-flex items-center gap-3 px-6 py-3
                     bg-bg-secondary border border-border
                     rounded-[var(--radius-md)]
                     text-text-primary font-medium text-sm
                     hover:bg-bg-hover hover:border-border-strong
                     transition-all duration-200 active:scale-[0.98]
                     disabled:opacity-50 disabled:cursor-not-allowed
                     shadow-sm w-full justify-center`,children:[v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24","aria-hidden":"true",children:[v.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),v.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),v.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),v.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e?"Signing in":"Continue with Google"]}),r&&v.jsx("p",{className:"mt-4 text-sm text-red-500",children:r}),v.jsx("p",{className:"mt-8 text-xs text-text-muted leading-relaxed",children:"Your trips sync across all your devices in real time."})]})})}function P1(t){var y,b,S,E,_,P;if(!t)return 0;const e={bookings:.4,todos:.35,packing:.25},n=((y=t.bookings)==null?void 0:y.length)||0,r=((b=t.bookings)==null?void 0:b.filter(j=>j.status==="booked").length)||0,i=n>0?r/n:0,o=((S=t.todos)==null?void 0:S.length)||0,s=((E=t.todos)==null?void 0:E.filter(j=>j.done).length)||0,l=o>0?s/o:0,c=((_=t.packingList)==null?void 0:_.length)||0,f=((P=t.packingList)==null?void 0:P.filter(j=>j.packed).length)||0,h=c>0?f/c:0,m=Math.round((i*e.bookings+l*e.todos+h*e.packing)*100);return Math.min(100,Math.max(0,m))}function M9(t){var e,n,r,i,o,s;return t?{bookings:{done:((e=t.bookings)==null?void 0:e.filter(l=>l.status==="booked").length)||0,total:((n=t.bookings)==null?void 0:n.length)||0},todos:{done:((r=t.todos)==null?void 0:r.filter(l=>l.done).length)||0,total:((i=t.todos)==null?void 0:i.length)||0},packing:{done:((o=t.packingList)==null?void 0:o.filter(l=>l.packed).length)||0,total:((s=t.packingList)==null?void 0:s.length)||0}}:{bookings:{done:0,total:0},todos:{done:0,total:0},packing:{done:0,total:0}}}function C1({value:t=0,size:e=64,strokeWidth:n=5,className:r="",showLabel:i=!0,labelClassName:o="",pulse:s=!1,onClick:l=null,tooltip:c=null}){const[f,h]=z.useState(0),m=(e-n)/2,y=2*Math.PI*m,b=y-f/100*y;z.useEffect(()=>{const _=setTimeout(()=>h(t),100);return()=>clearTimeout(_)},[t]);const S=_=>_>=80?"var(--color-success)":_>=50?"var(--color-accent)":_>=25?"var(--color-warning)":"var(--color-text-muted)",E=v.jsxs("div",{className:`relative inline-flex items-center justify-center ${r}`,title:c||void 0,children:[s&&v.jsx("span",{className:"absolute inset-0 rounded-full animate-ping opacity-20",style:{background:"var(--color-accent)"}}),v.jsxs("svg",{width:e,height:e,className:"-rotate-90",children:[v.jsx("circle",{cx:e/2,cy:e/2,r:m,fill:"none",stroke:"var(--color-border)",strokeWidth:n}),v.jsx("circle",{cx:e/2,cy:e/2,r:m,fill:"none",stroke:S(f),strokeWidth:n,strokeDasharray:y,strokeDashoffset:b,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.8s ease-out, stroke 0.3s ease"}})]}),i&&v.jsxs("span",{className:`absolute text-text-primary font-semibold ${o}`,style:{fontSize:e*.22},children:[Math.round(f),"%"]})]});return l?v.jsx("button",{type:"button",onClick:l,className:`rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-accent/50
                   hover:opacity-80 active:scale-95 transition-all duration-150 cursor-pointer`,title:c||void 0,"aria-label":c||`Trip readiness: ${t}%`,children:E}):E}function L9(t,e){if(!t||!e)return"upcoming";const n=new Date;n.setHours(0,0,0,0);const r=new Date(t+"T00:00:00"),i=new Date(e+"T00:00:00");return n>i?"completed":n>=r&&n<=i?"ongoing":"upcoming"}const $9={upcoming:{label:"Upcoming",className:"bg-info/10 text-info"},ongoing:{label:"Ongoing",className:"bg-success/10 text-success"},completed:{label:"Completed",className:"bg-text-muted/10 text-text-muted"}};function V9({startDate:t,endDate:e,className:n=""}){const r=L9(t,e),i=$9[r];return v.jsx("span",{className:`
      inline-flex items-center px-2.5 py-0.5 text-xs font-medium
      rounded-[var(--radius-pill)] ${i.className} ${n}
    `,children:i.label})}function MD({isOpen:t,onClose:e,children:n,className:r="",maxWidth:i="max-w-xl"}){return z.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),t?v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-text-primary/30 backdrop-blur-sm animate-fade-in",onClick:e}),v.jsx("div",{className:`
        relative z-10 w-full ${i}
        bg-bg-primary border border-border rounded-[var(--radius-xl)]
        max-h-[90vh] overflow-y-auto
        animate-scale-in
        ${r}
      `,children:n})]}):null}function LD({isOpen:t,onClose:e,onConfirm:n,title:r,message:i,confirmLabel:o="Delete",danger:s=!0}){return v.jsx(MD,{isOpen:t,onClose:e,maxWidth:"max-w-sm",children:v.jsxs("div",{className:"p-6",children:[v.jsx("h3",{className:"font-heading text-xl text-text-primary mb-2",children:r}),v.jsx("p",{className:"text-text-secondary text-sm mb-6",children:i}),v.jsxs("div",{className:"flex gap-3 justify-end",children:[v.jsx("button",{onClick:e,className:`px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary
                       bg-bg-secondary border border-border rounded-[var(--radius-md)]
                       hover:bg-bg-hover transition-colors`,children:"Cancel"}),v.jsx("button",{onClick:()=>{n(),e()},className:`px-4 py-2 text-sm font-medium rounded-[var(--radius-md)] transition-colors
              ${s?"bg-danger text-white hover:bg-danger/90":"bg-accent text-white hover:bg-accent-hover"}`,children:o})]})]})})}function B9({tripId:t,tripName:e,onClose:n}){const{dispatch:r,showToast:i}=Gt(),o=z.useRef(null),[s,l]=z.useState(!1);z.useEffect(()=>{function b(E){s||o.current&&!o.current.contains(E.target)&&n()}function S(E){E.key==="Escape"&&(s?l(!1):n())}return document.addEventListener("mousedown",b),document.addEventListener("keydown",S),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("keydown",S)}},[n,s]);const c=b=>{b.stopPropagation();const S=window.prompt("Rename trip:",e);S&&S.trim()&&S.trim()!==e&&(r({type:pe.RENAME_TRIP,payload:{id:t,name:S.trim()}}),i("Trip renamed")),n()},f=b=>{b.stopPropagation(),r({type:pe.DUPLICATE_TRIP,payload:t}),i("Trip duplicated"),n()},h=b=>{b.stopPropagation(),l(!0)},m=()=>{r({type:pe.DELETE_TRIP,payload:t}),i("Trip deleted","info"),l(!1),n()},y=[{label:"Rename",icon:v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),v.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),onClick:c},{label:"Duplicate",icon:v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),v.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),onClick:f},{label:"Delete",icon:v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polyline",{points:"3 6 5 6 21 6"}),v.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),v.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),v.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),onClick:h,danger:!0}];return v.jsxs(v.Fragment,{children:[v.jsx("div",{ref:o,className:`absolute right-2 top-8 z-50 w-40
                   bg-bg-input border border-border rounded-[var(--radius-md)]
                   animate-scale-in overflow-hidden`,onClick:b=>b.stopPropagation(),children:y.map(b=>v.jsxs("button",{onClick:b.onClick,className:`w-full flex items-center gap-2.5 px-3 py-2 text-sm text-left
                        transition-colors duration-100
                        ${b.danger?"text-danger hover:bg-danger/10":"text-text-secondary hover:bg-bg-hover hover:text-text-primary"}`,children:[v.jsx("span",{className:"shrink-0",children:b.icon}),b.label]},b.label))}),v.jsx(LD,{isOpen:s,onClose:()=>l(!1),onConfirm:m,title:"Delete trip?",message:`Are you sure you want to delete "${e}"? This action cannot be undone.`,confirmLabel:"Delete",danger:!0})]})}function F9({trip:t,isActive:e,isMobile:n}){const{dispatch:r}=Gt(),[i,o]=z.useState(!1),[s,l]=z.useState(!1),c=P1(t),f=I1(t.startDate,t.endDate),h=3,m=t.destinations&&t.destinations.length>0?[...new Set(t.destinations.map(_=>_.flag||(_.country?_.country.slice(0,2):"")))].filter(Boolean):[],y=m.slice(0,h),b=m.length-h,S=()=>{r({type:pe.SET_ACTIVE_TRIP,payload:t.id}),n&&r({type:pe.SET_SIDEBAR,payload:!1})},E=_=>{_.stopPropagation(),o(P=>!P)};return v.jsxs("div",{className:`
        group relative flex items-start gap-3 px-3 py-3.5
        rounded-[var(--radius-md)] cursor-pointer
        transition-all duration-150
        ${e?"bg-accent-muted border-l-[3px] border-l-accent":"border-l-[3px] border-l-transparent hover:bg-bg-hover"}
      `,onClick:S,onMouseEnter:()=>l(!0),onMouseLeave:()=>{l(!1),i||o(!1)},children:[v.jsx("span",{className:"text-2xl leading-none mt-0.5 shrink-0",role:"img","aria-label":"trip icon",children:t.emoji||""}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-start justify-between gap-1.5",children:[v.jsx("h3",{className:`text-sm font-medium truncate leading-snug ${e?"text-text-primary":"text-text-secondary"}`,children:t.name}),v.jsx("button",{onClick:E,className:`shrink-0 p-0.5 rounded-[var(--radius-sm)]
                        text-text-muted hover:text-text-primary hover:bg-bg-hover
                        transition-all duration-150
                        ${s||i?"opacity-100":"opacity-0"}
                      `,"aria-label":"Trip options",children:v.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:[v.jsx("circle",{cx:"12",cy:"6",r:"1.5"}),v.jsx("circle",{cx:"12",cy:"12",r:"1.5"}),v.jsx("circle",{cx:"12",cy:"18",r:"1.5"})]})})]}),m.length>0&&v.jsxs("div",{className:"flex items-center gap-0.5 mt-0.5",children:[y.map((_,P)=>v.jsx("span",{className:"text-sm leading-none",children:_},P)),b>0&&v.jsxs("span",{className:`text-[10px] text-text-muted font-medium px-1 py-0.5
                               bg-bg-hover rounded-[var(--radius-sm)] leading-none ml-0.5`,children:["+",b]})]}),v.jsxs("div",{className:"flex items-center gap-2 mt-1.5 flex-wrap",children:[f&&v.jsx("span",{className:"text-xs text-text-muted whitespace-nowrap",children:f}),t.startDate&&t.endDate&&v.jsx(V9,{startDate:t.startDate,endDate:t.endDate})]})]}),v.jsx("div",{className:"shrink-0 mt-1",children:v.jsx(C1,{value:c,size:36,strokeWidth:3,showLabel:!0,labelClassName:"!text-[9px]"})}),i&&v.jsx(B9,{tripId:t.id,tripName:t.name,onClose:()=>o(!1)})]})}function U9({count:t,onSignOut:e}){return v.jsxs("div",{className:"px-5 py-4 border-t border-border flex items-center justify-between",children:[v.jsxs("p",{className:"text-xs text-text-muted",children:[t," ",P9(t,"trip")," planned"]}),e&&v.jsx("button",{onClick:e,className:"text-xs text-text-muted hover:text-text-secondary transition-colors",title:"Sign out",children:"Sign out"})]})}function q9({isMobile:t,isOpen:e,onNewTrip:n}){const{state:r,dispatch:i,sortedTrips:o}=Gt(),{signOutUser:s}=DD(),l=()=>{n&&n()},c=()=>{i({type:pe.TOGGLE_DARK_MODE})},f=()=>{i({type:pe.SET_SIDEBAR,payload:!1})},h=v.jsxs("aside",{className:`flex flex-col h-full bg-bg-sidebar border-r border-border-strong w-[var(--sidebar-width)]
                       dark:shadow-[inset_-1px_0_0_var(--color-border-strong)]`,children:[v.jsxs("div",{className:"px-5 pt-7 pb-5",children:[v.jsxs("div",{className:"flex items-center justify-between mb-1",children:[v.jsx("h1",{className:"font-heading text-2xl text-text-primary tracking-tight",children:"Wanderplan"}),v.jsx("button",{onClick:c,className:`p-2 rounded-[var(--radius-md)] text-text-muted hover:text-text-primary
                       hover:bg-bg-hover transition-colors`,"aria-label":r.darkMode?"Switch to light mode":"Switch to dark mode",children:r.darkMode?v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("circle",{cx:"12",cy:"12",r:"5"}),v.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),v.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),v.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),v.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),v.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),v.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),v.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),v.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):v.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})]}),v.jsx("p",{className:"text-xs text-text-muted leading-relaxed",children:"Every trip, perfectly planned."})]}),v.jsx("div",{className:"px-4 pb-5",children:v.jsxs("button",{onClick:l,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5
                     bg-accent hover:bg-accent-hover text-text-inverse
                     font-medium text-sm rounded-[var(--radius-md)]
                     
                     transition-all duration-200 active:scale-[0.98]`,children:[v.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),v.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New Trip"]})}),v.jsx("div",{className:"mx-4 border-t border-border"}),v.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4 space-y-1.5 scrollbar-hide",children:o.length===0?v.jsxs("div",{className:"px-3 py-8 text-center",children:[v.jsx("p",{className:"text-text-muted text-sm",children:"No trips yet."}),v.jsx("p",{className:"text-text-muted text-xs mt-1",children:"Create one to get started!"})]}):o.map(m=>v.jsx(F9,{trip:m,isActive:m.id===r.activeTripId,isMobile:t},m.id))}),v.jsx(U9,{count:o.length,onSignOut:s})]});return t?v.jsxs(v.Fragment,{children:[e&&v.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 transition-opacity duration-300",onClick:f,"aria-hidden":"true"}),v.jsx("div",{className:`fixed inset-y-0 left-0 z-50 transition-transform duration-300 ease-out
          ${e?"translate-x-0":"-translate-x-full"}`,children:v.jsxs("div",{className:"relative h-full",children:[h,v.jsx("button",{onClick:f,className:`absolute top-4 right-3 p-1.5 rounded-[var(--radius-sm)]
                       text-text-muted hover:text-text-primary hover:bg-bg-hover
                       transition-colors`,"aria-label":"Close sidebar",children:v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})})]}):h}function Gy(t){if(!t)return{days:0,hours:0,minutes:0,seconds:0,expired:!0,total:0};const e=new Date,r=new Date(t+"T00:00:00")-e;return r<=0?{days:0,hours:0,minutes:0,seconds:0,expired:!0,total:0}:{days:Math.floor(r/(1e3*60*60*24)),hours:Math.floor(r/(1e3*60*60)%24),minutes:Math.floor(r/(1e3*60)%60),seconds:Math.floor(r/1e3%60),expired:!1,total:r}}function O1(t){const[e,n]=z.useState(()=>Gy(t));return z.useEffect(()=>{if(!t)return;n(Gy(t));const r=setInterval(()=>{n(Gy(t))},1e3);return()=>clearInterval(r)},[t]),e}function z9({targetDate:t,emoji:e}){const n=O1(t);return!t||n.expired?null:v.jsxs("span",{className:"inline-flex items-center gap-1.5 text-sm text-text-muted",children:[v.jsx("span",{children:e}),v.jsx("span",{className:"font-heading font-semibold text-text-primary",children:n.days}),v.jsx("span",{className:"text-xs",children:"days"})]})}function W9({value:t,onSave:e}){const[n,r]=z.useState(!1),[i,o]=z.useState(t),[s,l]=z.useState(!1),c=z.useRef(null);z.useEffect(()=>{n||o(t)},[t,n]);const f=()=>{o(t),r(!0),setTimeout(()=>{var b,S;(b=c.current)==null||b.focus(),(S=c.current)==null||S.select()},0)},h=()=>{const b=i.trim();b&&b!==t?e(b):o(t),r(!1)},m=()=>{o(t),r(!1)},y=b=>{b.key==="Enter"&&(b.preventDefault(),h()),b.key==="Escape"&&m()};return n?v.jsx("input",{ref:c,value:i,onChange:b=>o(b.target.value),onBlur:h,onKeyDown:y,className:`font-heading text-2xl md:text-3xl font-bold text-text-primary leading-tight
                   bg-transparent border-b-2 border-accent outline-none w-full min-w-0`,style:{fontFamily:"var(--font-heading)"},"aria-label":"Edit trip name"}):v.jsxs("button",{onClick:f,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),className:"group flex items-center gap-2 min-w-0 max-w-full text-left","aria-label":`Trip name: ${t}. Click to edit.`,children:[v.jsx("h1",{className:`font-heading text-2xl md:text-3xl font-bold text-text-primary
                       leading-tight truncate transition-all duration-150
                       ${s?"underline decoration-border-strong underline-offset-4":""}`,children:t}),v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`shrink-0 text-text-muted transition-opacity duration-150 mt-1
                    ${s?"opacity-100":"opacity-0"}`,"aria-hidden":"true",children:[v.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),v.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})]})}function H9(){return v.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-text-muted mx-0.5 shrink-0 opacity-60",children:v.jsx("polyline",{points:"9 18 15 12 9 6"})})}function G9({destinations:t}){const[e,n]=z.useState(!1);if(!(t!=null&&t.length))return null;const r=2,i=t.length-r,o=t.length>r,s=({dests:l})=>v.jsx("div",{className:"flex items-center flex-wrap gap-x-0.5 gap-y-1",children:l.map((c,f)=>v.jsxs("span",{className:"flex items-center",children:[f>0&&v.jsx(H9,{}),v.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-text-secondary whitespace-nowrap",children:[v.jsx("span",{children:c.flag}),v.jsx("span",{children:c.city})]})]},f))});return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"sm:hidden",children:v.jsxs("div",{className:"flex items-center flex-wrap gap-x-0.5 gap-y-1",children:[v.jsx(s,{dests:e?t:t.slice(0,r)}),o&&!e&&v.jsxs("button",{onClick:()=>n(!0),className:`inline-flex items-center gap-1 text-xs text-text-muted hover:text-text-secondary
                         px-2 py-0.5 ml-1 rounded-full border border-border hover:border-border-strong
                         transition-colors duration-150`,children:["+",i," ",i===1?"city":"cities"]}),o&&e&&v.jsx("button",{onClick:()=>n(!1),className:"text-xs text-text-muted hover:text-text-secondary transition-colors ml-1",children:"less"})]})}),v.jsx("div",{className:"hidden sm:block",children:v.jsx(s,{dests:t})})]})}function K9(){const{activeTrip:t,dispatch:e}=Gt(),n=z.useMemo(()=>P1(t),[t]);if(!t)return null;const r=t,i=I1(r.startDate,r.endDate),o=r.travelers||1,s=r.destinations||[],l=c=>{c&&e({type:pe.RENAME_TRIP,payload:{id:r.id,name:c}})};return v.jsx("header",{className:"animate-fade-in border-b border-border",children:v.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-8 pt-5 pb-4",children:v.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[v.jsx("span",{className:"text-4xl sm:text-[44px] leading-none shrink-0 mt-0.5",role:"img","aria-label":"Trip emoji",children:r.emoji}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx(W9,{value:r.name,onSave:l}),v.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 mt-1.5",children:[i&&v.jsxs("span",{className:"inline-flex items-center gap-1.5 text-sm text-text-muted",children:[v.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0",children:[v.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),v.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),v.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),v.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),i]}),v.jsxs("span",{className:"inline-flex items-center gap-1.5 text-sm text-text-muted",children:[v.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0",children:[v.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),v.jsx("circle",{cx:"9",cy:"7",r:"4"}),v.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),v.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),o," ",o===1?"traveler":"travelers"]}),r.startDate&&v.jsx(z9,{targetDate:r.startDate,emoji:""})]}),s.length>0&&v.jsx("div",{className:"mt-2",children:v.jsx(G9,{destinations:s})})]}),v.jsxs("div",{className:"shrink-0 flex flex-col items-center gap-1 mt-0.5",children:[v.jsx(C1,{value:n,size:68,strokeWidth:5,labelClassName:"text-sm"}),v.jsx("span",{className:"text-[10px] text-text-muted font-medium tracking-wide uppercase",children:"Ready"})]})]})})})}const Y9=[{id:"overview",label:"Overview",emoji:""},{id:"itinerary",label:"Itinerary",emoji:""},{id:"bookings",label:"Bookings",emoji:""},{id:"budget",label:"Budget",emoji:""},{id:"todo",label:"To-Do",emoji:""},{id:"cities",label:"Cities",emoji:""},{id:"packing",label:"Packing",emoji:""},{id:"concert",label:"Concert",emoji:"",conditional:!0}],Yc=[{id:"flight",label:"Flight",emoji:""},{id:"hotel",label:"Hotel",emoji:""},{id:"experience",label:"Experience",emoji:""},{id:"concert",label:"Concert",emoji:""},{id:"transport",label:"Transport",emoji:""},{id:"custom",label:"Custom",emoji:""}],X9=["Admin","Finances","Tech","Health","Misc"],PI=["Documents","Clothing","Tech","Concert Essentials","Toiletries","Misc"];function Q9(){var N,A;const{state:t,activeTrip:e,dispatch:n}=Gt(),r=t.activeTab,i=z.useRef(null),o=z.useRef(null),s=z.useRef(null),l=z.useRef({}),[c,f]=z.useState(!1),[h,m]=z.useState(!1),[y,b]=z.useState([]),[S,E]=z.useState(!1),_=((N=e==null?void 0:e.bookings)==null?void 0:N.some(I=>I.category==="concert"))||!1,P=Y9.filter(I=>I.conditional&&I.id==="concert"?_:!0),j=I=>{n({type:pe.SET_TAB,payload:I}),E(!1)},R=z.useCallback(()=>{const I=i.current;I&&(f(I.scrollLeft>4),m(I.scrollLeft+I.clientWidth<I.scrollWidth-4))},[]);z.useEffect(()=>{const I=i.current;if(!I)return;s.current&&s.current.disconnect();const C=new Set;return s.current=new IntersectionObserver(V=>{V.forEach($=>{const B=$.target.dataset.tabId;B&&($.intersectionRatio<.9?C.add(B):C.delete(B))}),b(P.filter($=>C.has($.id)))},{root:I,threshold:.9}),Object.values(l.current).forEach(V=>{V&&s.current.observe(V)}),()=>{var V;return(V=s.current)==null?void 0:V.disconnect()}},[P.length,_]),z.useEffect(()=>{const I=i.current;if(I)return R(),I.addEventListener("scroll",R,{passive:!0}),window.addEventListener("resize",R,{passive:!0}),()=>{I.removeEventListener("scroll",R),window.removeEventListener("resize",R)}},[R]),z.useEffect(()=>{if(o.current&&i.current){const I=i.current,C=o.current,V=I.getBoundingClientRect(),$=C.getBoundingClientRect();($.left<V.left||$.right>V.right)&&C.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},[r]),z.useEffect(()=>{if(!S)return;const I=C=>{C.target.closest("[data-more-menu]")||E(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[S]);const D=y.length>0,k=y.some(I=>I.id===r);return v.jsx("nav",{className:"border-b border-border bg-bg-primary/80 backdrop-blur-sm sticky top-0 z-20",children:v.jsxs("div",{className:"relative flex items-stretch",children:[c&&v.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-8 z-10 pointer-events-none",style:{background:"linear-gradient(to right, var(--color-bg-primary), transparent)"},"aria-hidden":"true"}),v.jsxs("div",{ref:i,className:"flex overflow-x-auto scrollbar-hide flex-1",style:{scrollSnapType:"x mandatory"},role:"tablist","aria-label":"Trip sections",children:[v.jsx("div",{className:"w-4 md:w-8 shrink-0"}),P.map(I=>{const C=r===I.id;return y.some(V=>V.id===I.id),v.jsxs("button",{ref:V=>{l.current[I.id]=V,C&&(o.current=V)},"data-tab-id":I.id,role:"tab","aria-selected":C,"aria-controls":`panel-${I.id}`,onClick:()=>j(I.id),style:{scrollSnapAlign:"start"},className:`
                  relative flex items-center gap-1.5 px-3.5 py-3.5 text-sm font-medium
                  whitespace-nowrap transition-colors duration-150
                  shrink-0
                  ${C?"text-accent":"text-text-muted hover:text-text-secondary"}
                `,children:[v.jsx("span",{className:"text-base leading-none",children:I.emoji}),v.jsx("span",{className:"hidden sm:inline",children:I.label}),C&&v.jsx("span",{className:"absolute bottom-0 left-1.5 right-1.5 h-[2.5px] bg-accent rounded-full","aria-hidden":"true"})]},I.id)}),v.jsx("div",{className:"w-4 md:w-8 shrink-0"})]}),h&&v.jsx("div",{className:"absolute right-0 top-0 bottom-0 pointer-events-none z-10",style:{width:D?"80px":"32px",background:"linear-gradient(to left, var(--color-bg-primary) 40%, transparent)"},"aria-hidden":"true"}),D&&v.jsxs("div",{className:"relative shrink-0 flex items-center pr-3 pl-1 z-20","data-more-menu":!0,children:[v.jsxs("button",{onClick:()=>E(I=>!I),className:`
                flex items-center gap-1 px-2.5 py-1.5 text-xs font-medium rounded-[var(--radius-sm)]
                transition-colors duration-150
                ${k?"text-accent bg-accent/10":"text-text-muted hover:text-text-secondary hover:bg-bg-secondary"}
              `,"aria-haspopup":"true","aria-expanded":S,children:[k?v.jsx("span",{children:(A=y.find(I=>I.id===r))==null?void 0:A.emoji}):v.jsx("span",{children:"More"}),v.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform duration-150 ${S?"rotate-180":""}`,children:v.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),S&&v.jsx("div",{className:"absolute top-full right-0 mt-1 min-w-[140px] bg-bg-primary border border-border rounded-[var(--radius-md)] shadow-lg py-1 z-50",children:y.map(I=>{const C=r===I.id;return v.jsxs("button",{onClick:()=>j(I.id),className:`
                        w-full flex items-center gap-2.5 px-3 py-2 text-sm text-left
                        transition-colors duration-100
                        ${C?"text-accent bg-accent/8 font-medium":"text-text-secondary hover:bg-bg-secondary"}
                      `,children:[v.jsx("span",{children:I.emoji}),v.jsx("span",{children:I.label}),C&&v.jsx("span",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-accent"})]},I.id)})})]})]})})}var J9=pj();const Z9=["","","","","","","","","","","","","","","","","","","",""],eq=[{emoji:"",label:"Flight"},{emoji:"",label:"Hotel"},{emoji:"",label:"Food"},{emoji:"",label:"Sightseeing"},{emoji:"",label:"Activity"},{emoji:"",label:"Shopping"},{emoji:"",label:"Music"},{emoji:"",label:"Transport"},{emoji:"",label:"Beach"},{emoji:"",label:"Temple"},{emoji:"",label:"Nightlife"},{emoji:"",label:"Photo"},{emoji:"",label:"Spa"},{emoji:"",label:"Walk"},{emoji:"",label:"Show"},{emoji:"",label:"Other"}],$D=4,CI=[{name:"Flights",emoji:""},{name:"Accommodation",emoji:""},{name:"Food & Dining",emoji:""},{name:"Activities",emoji:""},{name:"Transport",emoji:""},{name:"Shopping",emoji:""},{name:"Other",emoji:""}];function k1(t){return!t||t.length!==2?"":String.fromCodePoint(127462+t.toUpperCase().charCodeAt(0)-65,127462+t.toUpperCase().charCodeAt(1)-65)}const cp=[{city:"Bangkok",country:"Thailand",iso:"TH"},{city:"Phuket",country:"Thailand",iso:"TH"},{city:"Chiang Mai",country:"Thailand",iso:"TH"},{city:"Koh Samui",country:"Thailand",iso:"TH"},{city:"Krabi",country:"Thailand",iso:"TH"},{city:"Pattaya",country:"Thailand",iso:"TH"},{city:"Singapore",country:"Singapore",iso:"SG"},{city:"Bali",country:"Indonesia",iso:"ID"},{city:"Jakarta",country:"Indonesia",iso:"ID"},{city:"Yogyakarta",country:"Indonesia",iso:"ID"},{city:"Lombok",country:"Indonesia",iso:"ID"},{city:"Komodo",country:"Indonesia",iso:"ID"},{city:"Kuala Lumpur",country:"Malaysia",iso:"MY"},{city:"Penang",country:"Malaysia",iso:"MY"},{city:"Langkawi",country:"Malaysia",iso:"MY"},{city:"Kota Kinabalu",country:"Malaysia",iso:"MY"},{city:"Ho Chi Minh City",country:"Vietnam",iso:"VN"},{city:"Hanoi",country:"Vietnam",iso:"VN"},{city:"Da Nang",country:"Vietnam",iso:"VN"},{city:"Hoi An",country:"Vietnam",iso:"VN"},{city:"Ha Long Bay",country:"Vietnam",iso:"VN"},{city:"Siem Reap",country:"Cambodia",iso:"KH"},{city:"Phnom Penh",country:"Cambodia",iso:"KH"},{city:"Luang Prabang",country:"Laos",iso:"LA"},{city:"Vientiane",country:"Laos",iso:"LA"},{city:"Yangon",country:"Myanmar",iso:"MM"},{city:"Mandalay",country:"Myanmar",iso:"MM"},{city:"Manila",country:"Philippines",iso:"PH"},{city:"Cebu",country:"Philippines",iso:"PH"},{city:"Boracay",country:"Philippines",iso:"PH"},{city:"Palawan",country:"Philippines",iso:"PH"},{city:"Davao",country:"Philippines",iso:"PH"},{city:"Siargao",country:"Philippines",iso:"PH"},{city:"Tokyo",country:"Japan",iso:"JP"},{city:"Osaka",country:"Japan",iso:"JP"},{city:"Kyoto",country:"Japan",iso:"JP"},{city:"Hiroshima",country:"Japan",iso:"JP"},{city:"Nara",country:"Japan",iso:"JP"},{city:"Sapporo",country:"Japan",iso:"JP"},{city:"Fukuoka",country:"Japan",iso:"JP"},{city:"Seoul",country:"South Korea",iso:"KR"},{city:"Busan",country:"South Korea",iso:"KR"},{city:"Jeju",country:"South Korea",iso:"KR"},{city:"Taipei",country:"Taiwan",iso:"TW"},{city:"Tainan",country:"Taiwan",iso:"TW"},{city:"Hong Kong",country:"Hong Kong",iso:"HK"},{city:"Macau",country:"Macau",iso:"MO"},{city:"Beijing",country:"China",iso:"CN"},{city:"Shanghai",country:"China",iso:"CN"},{city:"Chengdu",country:"China",iso:"CN"},{city:"Xi'an",country:"China",iso:"CN"},{city:"Guilin",country:"China",iso:"CN"},{city:"Mumbai",country:"India",iso:"IN"},{city:"New Delhi",country:"India",iso:"IN"},{city:"Agra",country:"India",iso:"IN"},{city:"Jaipur",country:"India",iso:"IN"},{city:"Goa",country:"India",iso:"IN"},{city:"Kerala",country:"India",iso:"IN"},{city:"Varanasi",country:"India",iso:"IN"},{city:"Colombo",country:"Sri Lanka",iso:"LK"},{city:"Kandy",country:"Sri Lanka",iso:"LK"},{city:"Kathmandu",country:"Nepal",iso:"NP"},{city:"Pokhara",country:"Nepal",iso:"NP"},{city:"Dhaka",country:"Bangladesh",iso:"BD"},{city:"Maldives",country:"Maldives",iso:"MV"},{city:"Colombo",country:"Sri Lanka",iso:"LK"},{city:"Dubai",country:"UAE",iso:"AE"},{city:"Abu Dhabi",country:"UAE",iso:"AE"},{city:"Doha",country:"Qatar",iso:"QA"},{city:"Istanbul",country:"Turkey",iso:"TR"},{city:"Cappadocia",country:"Turkey",iso:"TR"},{city:"Antalya",country:"Turkey",iso:"TR"},{city:"Bodrum",country:"Turkey",iso:"TR"},{city:"Tel Aviv",country:"Israel",iso:"IL"},{city:"Jerusalem",country:"Israel",iso:"IL"},{city:"Amman",country:"Jordan",iso:"JO"},{city:"Petra",country:"Jordan",iso:"JO"},{city:"Muscat",country:"Oman",iso:"OM"},{city:"Riyadh",country:"Saudi Arabia",iso:"SA"},{city:"Beirut",country:"Lebanon",iso:"LB"},{city:"Paris",country:"France",iso:"FR"},{city:"Nice",country:"France",iso:"FR"},{city:"Lyon",country:"France",iso:"FR"},{city:"Marseille",country:"France",iso:"FR"},{city:"London",country:"UK",iso:"GB"},{city:"Edinburgh",country:"UK",iso:"GB"},{city:"Manchester",country:"UK",iso:"GB"},{city:"Dublin",country:"Ireland",iso:"IE"},{city:"Amsterdam",country:"Netherlands",iso:"NL"},{city:"Brussels",country:"Belgium",iso:"BE"},{city:"Berlin",country:"Germany",iso:"DE"},{city:"Munich",country:"Germany",iso:"DE"},{city:"Hamburg",country:"Germany",iso:"DE"},{city:"Frankfurt",country:"Germany",iso:"DE"},{city:"Vienna",country:"Austria",iso:"AT"},{city:"Salzburg",country:"Austria",iso:"AT"},{city:"Zurich",country:"Switzerland",iso:"CH"},{city:"Geneva",country:"Switzerland",iso:"CH"},{city:"Interlaken",country:"Switzerland",iso:"CH"},{city:"Grindelwald",country:"Switzerland",iso:"CH"},{city:"Zermatt",country:"Switzerland",iso:"CH"},{city:"Lucerne",country:"Switzerland",iso:"CH"},{city:"Bern",country:"Switzerland",iso:"CH"},{city:"Rome",country:"Italy",iso:"IT"},{city:"Milan",country:"Italy",iso:"IT"},{city:"Venice",country:"Italy",iso:"IT"},{city:"Florence",country:"Italy",iso:"IT"},{city:"Naples",country:"Italy",iso:"IT"},{city:"Amalfi Coast",country:"Italy",iso:"IT"},{city:"Sicily",country:"Italy",iso:"IT"},{city:"Barcelona",country:"Spain",iso:"ES"},{city:"Madrid",country:"Spain",iso:"ES"},{city:"Seville",country:"Spain",iso:"ES"},{city:"Valencia",country:"Spain",iso:"ES"},{city:"Ibiza",country:"Spain",iso:"ES"},{city:"Mallorca",country:"Spain",iso:"ES"},{city:"Lisbon",country:"Portugal",iso:"PT"},{city:"Porto",country:"Portugal",iso:"PT"},{city:"Algarve",country:"Portugal",iso:"PT"},{city:"Athens",country:"Greece",iso:"GR"},{city:"Santorini",country:"Greece",iso:"GR"},{city:"Mykonos",country:"Greece",iso:"GR"},{city:"Crete",country:"Greece",iso:"GR"},{city:"Rhodes",country:"Greece",iso:"GR"},{city:"Corfu",country:"Greece",iso:"GR"},{city:"Copenhagen",country:"Denmark",iso:"DK"},{city:"Stockholm",country:"Sweden",iso:"SE"},{city:"Oslo",country:"Norway",iso:"NO"},{city:"Helsinki",country:"Finland",iso:"FI"},{city:"Reykjavik",country:"Iceland",iso:"IS"},{city:"Prague",country:"Czech Republic",iso:"CZ"},{city:"Budapest",country:"Hungary",iso:"HU"},{city:"Warsaw",country:"Poland",iso:"PL"},{city:"Krakow",country:"Poland",iso:"PL"},{city:"Tallinn",country:"Estonia",iso:"EE"},{city:"Riga",country:"Latvia",iso:"LV"},{city:"Vilnius",country:"Lithuania",iso:"LT"},{city:"Dubrovnik",country:"Croatia",iso:"HR"},{city:"Split",country:"Croatia",iso:"HR"},{city:"Zagreb",country:"Croatia",iso:"HR"},{city:"Ljubljana",country:"Slovenia",iso:"SI"},{city:"Bratislava",country:"Slovakia",iso:"SK"},{city:"Bucharest",country:"Romania",iso:"RO"},{city:"Sofia",country:"Bulgaria",iso:"BG"},{city:"Sarajevo",country:"Bosnia",iso:"BA"},{city:"Moscow",country:"Russia",iso:"RU"},{city:"St. Petersburg",country:"Russia",iso:"RU"},{city:"New York",country:"USA",iso:"US"},{city:"Los Angeles",country:"USA",iso:"US"},{city:"Chicago",country:"USA",iso:"US"},{city:"San Francisco",country:"USA",iso:"US"},{city:"Miami",country:"USA",iso:"US"},{city:"Las Vegas",country:"USA",iso:"US"},{city:"New Orleans",country:"USA",iso:"US"},{city:"Washington DC",country:"USA",iso:"US"},{city:"Boston",country:"USA",iso:"US"},{city:"Seattle",country:"USA",iso:"US"},{city:"Hawaii",country:"USA",iso:"US"},{city:"Toronto",country:"Canada",iso:"CA"},{city:"Vancouver",country:"Canada",iso:"CA"},{city:"Montreal",country:"Canada",iso:"CA"},{city:"Quebec City",country:"Canada",iso:"CA"},{city:"Mexico City",country:"Mexico",iso:"MX"},{city:"Cancn",country:"Mexico",iso:"MX"},{city:"Tulum",country:"Mexico",iso:"MX"},{city:"Oaxaca",country:"Mexico",iso:"MX"},{city:"Guadalajara",country:"Mexico",iso:"MX"},{city:"Havana",country:"Cuba",iso:"CU"},{city:"San Jos",country:"Costa Rica",iso:"CR"},{city:"Cartagena",country:"Colombia",iso:"CO"},{city:"Bogot",country:"Colombia",iso:"CO"},{city:"Medelln",country:"Colombia",iso:"CO"},{city:"Panama City",country:"Panama",iso:"PA"},{city:"Rio de Janeiro",country:"Brazil",iso:"BR"},{city:"So Paulo",country:"Brazil",iso:"BR"},{city:"Salvador",country:"Brazil",iso:"BR"},{city:"Buenos Aires",country:"Argentina",iso:"AR"},{city:"Patagonia",country:"Argentina",iso:"AR"},{city:"Mendoza",country:"Argentina",iso:"AR"},{city:"Lima",country:"Peru",iso:"PE"},{city:"Cusco",country:"Peru",iso:"PE"},{city:"Machu Picchu",country:"Peru",iso:"PE"},{city:"Santiago",country:"Chile",iso:"CL"},{city:"Valparaso",country:"Chile",iso:"CL"},{city:"Quito",country:"Ecuador",iso:"EC"},{city:"Galpagos",country:"Ecuador",iso:"EC"},{city:"Montevideo",country:"Uruguay",iso:"UY"},{city:"La Paz",country:"Bolivia",iso:"BO"},{city:"Cairo",country:"Egypt",iso:"EG"},{city:"Luxor",country:"Egypt",iso:"EG"},{city:"Sharm el-Sheikh",country:"Egypt",iso:"EG"},{city:"Marrakech",country:"Morocco",iso:"MA"},{city:"Casablanca",country:"Morocco",iso:"MA"},{city:"Fes",country:"Morocco",iso:"MA"},{city:"Cape Town",country:"South Africa",iso:"ZA"},{city:"Johannesburg",country:"South Africa",iso:"ZA"},{city:"Nairobi",country:"Kenya",iso:"KE"},{city:"Zanzibar",country:"Tanzania",iso:"TZ"},{city:"Serengeti",country:"Tanzania",iso:"TZ"},{city:"Accra",country:"Ghana",iso:"GH"},{city:"Lagos",country:"Nigeria",iso:"NG"},{city:"Addis Ababa",country:"Ethiopia",iso:"ET"},{city:"Sydney",country:"Australia",iso:"AU"},{city:"Melbourne",country:"Australia",iso:"AU"},{city:"Brisbane",country:"Australia",iso:"AU"},{city:"Perth",country:"Australia",iso:"AU"},{city:"Cairns",country:"Australia",iso:"AU"},{city:"Auckland",country:"New Zealand",iso:"NZ"},{city:"Queenstown",country:"New Zealand",iso:"NZ"},{city:"Christchurch",country:"New Zealand",iso:"NZ"},{city:"Suva",country:"Fiji",iso:"FJ"},{city:"Nadi",country:"Fiji",iso:"FJ"},{city:"Papeete",country:"French Polynesia",iso:"PF"},{city:"Bora Bora",country:"French Polynesia",iso:"PF"}];function OI(t){return k1(t.iso)}const VD=Object.fromEntries(cp.map(t=>[t.country,k1(t.iso)]));function BD(t,e,n){const r=t.trim(),i=e.trim(),o=cp.find(l=>l.city.toLowerCase()===r.toLowerCase());if(o)return{city:r,country:o.country,flag:k1(o.iso)};const s=VD[i]||n||"";return{city:r,country:i,flag:s}}function tq({currentStep:t}){return v.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:Array.from({length:$D},(e,n)=>{const r=n+1,i=r===t,o=r<t;return v.jsxs("div",{className:"flex items-center gap-2",children:[n>0&&v.jsx("div",{className:`w-8 h-[2px] rounded-full transition-colors duration-300 ${o?"bg-accent":"bg-border"}`}),v.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold transition-all duration-300
              ${i?"bg-accent text-text-inverse ring-4 ring-accent/20":o?"bg-accent text-text-inverse":"bg-bg-secondary text-text-muted border border-border"}`,children:o?v.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polyline",{points:"20 6 9 17 4 12"})}):r})]},r)})})}function nq({form:t,setForm:e}){const[n,r]=z.useState(""),i=o=>{const s=o.match(new RegExp("\\p{Emoji}","u"));s?(e(l=>({...l,emoji:s[0]})),r(s[0])):r(o)};return v.jsxs("div",{className:"space-y-5 animate-fade-in",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Name your adventure"}),v.jsx("p",{className:"text-sm text-text-muted",children:"What should we call this trip?"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Trip Name"}),v.jsx("input",{type:"text",value:t.name,onChange:o=>e(s=>({...s,name:o.target.value})),placeholder:"e.g. Summer in Europe",className:`w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)]
                     text-text-primary placeholder:text-text-muted
                     focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors`,autoFocus:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Trip Emoji"}),v.jsx("div",{className:"grid grid-cols-10 gap-1.5 mb-2",children:Z9.map(o=>v.jsx("button",{type:"button",onClick:()=>{e(s=>({...s,emoji:o})),r("")},className:`w-9 h-9 flex items-center justify-center text-lg rounded-[var(--radius-sm)] transition-all duration-150
                ${t.emoji===o&&!n?"bg-accent/15 ring-2 ring-accent scale-110":"bg-bg-secondary hover:bg-bg-hover"}`,children:o},o))}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-2xl w-9 h-9 flex items-center justify-center border border-border rounded-[var(--radius-sm)] bg-bg-secondary",children:t.emoji}),v.jsx("input",{type:"text",value:n,onChange:o=>i(o.target.value),placeholder:"Or type any emoji",className:`flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-md)]
                       text-text-primary placeholder:text-text-muted
                       focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors`})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Travelers"}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{type:"button",onClick:()=>e(o=>({...o,travelers:Math.max(1,o.travelers-1)})),disabled:t.travelers<=1,className:"w-9 h-9 flex items-center justify-center rounded-[var(--radius-md)] bg-bg-secondary border border-border text-text-secondary hover:bg-bg-hover disabled:opacity-30 disabled:cursor-not-allowed transition-colors text-lg font-medium",children:"-"}),v.jsx("span",{className:"w-10 text-center text-lg font-heading font-bold text-text-primary",children:t.travelers}),v.jsx("button",{type:"button",onClick:()=>e(o=>({...o,travelers:Math.min(20,o.travelers+1)})),disabled:t.travelers>=20,className:"w-9 h-9 flex items-center justify-center rounded-[var(--radius-md)] bg-bg-secondary border border-border text-text-secondary hover:bg-bg-hover disabled:opacity-30 disabled:cursor-not-allowed transition-colors text-lg font-medium",children:"+"}),v.jsx("span",{className:"text-sm text-text-muted",children:t.travelers===1?"traveler":"travelers"})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Start Date"}),v.jsx("input",{type:"date",value:t.startDate,onChange:o=>e(s=>({...s,startDate:o.target.value})),className:"w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)] text-text-primary focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"End Date"}),v.jsx("input",{type:"date",value:t.endDate,min:t.startDate||void 0,onChange:o=>e(s=>({...s,endDate:o.target.value})),className:"w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)] text-text-primary focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]})]})]})}function rq({value:t,country:e,flag:n,onChange:r}){const[i,o]=z.useState(t),[s,l]=z.useState(!1),[c,f]=z.useState({top:0,left:0,width:0}),h=z.useRef(null);z.useEffect(()=>{t===""&&o("")},[t]),z.useLayoutEffect(()=>{if(!s||!h.current)return;const _=()=>{if(!h.current)return;const P=h.current.getBoundingClientRect();f({top:P.bottom+4,left:P.left,width:P.width})};return _(),window.addEventListener("scroll",_,!0),window.addEventListener("resize",_),()=>{window.removeEventListener("scroll",_,!0),window.removeEventListener("resize",_)}},[s]);const m=z.useMemo(()=>{if(!i.trim())return[];const _=i.toLowerCase(),P=cp.filter(R=>R.city.toLowerCase().startsWith(_)),j=cp.filter(R=>!R.city.toLowerCase().startsWith(_)&&(R.city.toLowerCase().includes(_)||R.country.toLowerCase().startsWith(_)));return[...P,...j].slice(0,8)},[i]),y=_=>{const P=OI(_);o(_.city),l(!1),r({city:_.city,country:_.country,flag:P})},b=_=>{const P=_.target.value;o(P),l(!0),r({city:P,country:e,flag:n})},S=()=>{setTimeout(()=>{if(l(!1),i.trim()){const _=BD(i,e,n);(_.flag!==n||_.country!==e)&&(o(_.city),r(_))}},150)},E=_=>{if(_.key==="Escape"){l(!1);return}_.key==="Enter"&&m.length>0&&(_.preventDefault(),y(m[0])),_.key==="ArrowDown"&&m.length>0&&(_.preventDefault(),l(!0))};return v.jsxs("div",{className:"relative flex-1",children:[v.jsx("input",{ref:h,type:"text",value:i,onChange:b,onFocus:()=>i.trim().length>0&&l(!0),onBlur:S,onKeyDown:E,placeholder:"City",autoComplete:"off",className:`w-full px-3 py-2 bg-bg-input border border-border rounded-[var(--radius-sm)]
                   text-text-primary placeholder:text-text-muted text-sm
                   focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors`}),s&&m.length>0&&J9.createPortal(v.jsx("ul",{style:{position:"fixed",top:c.top,left:c.left,minWidth:"260px",width:"max-content",maxWidth:"340px"},className:`z-[9999] bg-bg-primary border border-border rounded-[var(--radius-md)]
                     shadow-xl max-h-52 overflow-y-auto`,children:m.map((_,P)=>v.jsx("li",{children:v.jsxs("button",{type:"button",onClick:()=>y(_),className:`w-full flex items-center gap-3 px-3 py-2.5 text-left
                           hover:bg-bg-hover transition-colors`,children:[v.jsx("span",{className:"text-lg flex-shrink-0 w-7 text-center",children:OI(_)}),v.jsxs("span",{className:"flex flex-col min-w-0",children:[v.jsx("span",{className:"text-sm font-semibold text-text-primary leading-tight",children:_.city}),v.jsx("span",{className:"text-xs text-text-muted leading-tight mt-0.5",children:_.country})]})]})},P))}),document.body)]})}function iq({form:t,setForm:e}){const n=()=>{e(s=>({...s,destinations:[...s.destinations,{city:"",country:"",flag:""}]}))},r=(s,l)=>{e(c=>{const f=[...c.destinations];return f[s]={...f[s],...l},{...c,destinations:f}})},i=(s,l)=>{const c=VD[l.trim()]||t.destinations[s].flag||"";r(s,{country:l,flag:c})},o=s=>{t.destinations.length<=1||e(l=>({...l,destinations:l.destinations.filter((c,f)=>f!==s)}))};return v.jsxs("div",{className:"space-y-5 animate-fade-in",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Where are you going?"}),v.jsx("p",{className:"text-sm text-text-muted",children:"Add your destinations in order of visit."})]}),v.jsx("div",{className:"space-y-3",children:t.destinations.map((s,l)=>v.jsxs("div",{className:"flex items-start gap-2 p-3 bg-bg-secondary border border-border rounded-[var(--radius-md)]",children:[v.jsx("div",{className:"w-6 h-6 rounded-full bg-accent/10 text-accent flex items-center justify-center text-xs font-semibold shrink-0 mt-2",children:l+1}),v.jsx("span",{className:"text-xl flex-shrink-0 mt-1.5 w-7 text-center",children:s.flag||v.jsx("span",{className:"text-text-muted text-sm",children:""})}),v.jsx(rq,{value:s.city,country:s.country,flag:s.flag,onChange:c=>r(l,c),index:l}),v.jsx("input",{type:"text",value:s.country,onChange:c=>i(l,c.target.value),placeholder:"Country",className:`flex-1 px-3 py-2 bg-bg-input border border-border rounded-[var(--radius-sm)]
                         text-text-primary placeholder:text-text-muted text-sm
                         focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors`}),v.jsx("button",{type:"button",onClick:()=>o(l),disabled:t.destinations.length<=1,className:"p-1.5 rounded-[var(--radius-sm)] text-text-muted hover:text-danger hover:bg-danger/10 disabled:opacity-0 disabled:pointer-events-none transition-all shrink-0 mt-0.5",children:v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},l))}),v.jsxs("button",{type:"button",onClick:n,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 border border-dashed border-border-strong rounded-[var(--radius-md)] text-sm text-text-muted font-medium hover:text-accent hover:border-accent/40 hover:bg-accent-muted/20 transition-colors",children:[v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),v.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Destination"]})]})}function oq({form:t,setForm:e}){const n=(l,c,f)=>{e(h=>{const m=[...h.budgetCategories];return m[l]={...m[l],[c]:Number(f)||0},{...h,budgetCategories:m}})},r=t.budgetCategories.reduce((l,c)=>l+(c.min||0),0),i=t.budgetCategories.reduce((l,c)=>l+(c.max||0),0),o=sp.find(l=>l.code===t.currency),s=o?o.symbol:t.currency;return v.jsxs("div",{className:"space-y-5 animate-fade-in",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Set your budget"}),v.jsx("p",{className:"text-sm text-text-muted",children:"Optional. You can always add this later."})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Currency"}),v.jsx("select",{value:t.currency,onChange:l=>e(c=>({...c,currency:l.target.value})),className:"w-full px-3 py-2.5 bg-bg-input border border-border rounded-[var(--radius-md)] text-text-primary focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors appearance-none cursor-pointer",children:sp.map(l=>v.jsxs("option",{value:l.code,children:[l.symbol," ",l.code,"  ",l.name]},l.code))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Budget Categories"}),v.jsx("div",{className:"space-y-2",children:t.budgetCategories.map((l,c)=>v.jsxs("div",{className:"p-2.5 bg-bg-secondary border border-border rounded-[var(--radius-sm)]",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("span",{className:"text-base w-6 text-center",children:l.emoji}),v.jsx("span",{className:"text-sm text-text-secondary font-medium",children:l.name})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:items-center sm:gap-2",children:[v.jsxs("div",{className:"relative",children:[v.jsx("span",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-xs text-text-muted",children:s}),v.jsx("input",{type:"number",min:"0",value:l.min||"",onChange:f=>n(c,"min",f.target.value),placeholder:"Min",className:"w-full pl-7 pr-2 py-1.5 bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary text-sm text-right focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]}),v.jsxs("div",{className:"relative",children:[v.jsx("span",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-xs text-text-muted",children:s}),v.jsx("input",{type:"number",min:"0",value:l.max||"",onChange:f=>n(c,"max",f.target.value),placeholder:"Max",className:"w-full pl-7 pr-2 py-1.5 bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary text-sm text-right focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/20 transition-colors"})]}),l.max>0&&v.jsx("div",{className:"col-span-2 sm:flex-1",children:v.jsx("input",{type:"range",min:"0",max:Math.max(l.max*2,1e5),step:"1000",value:l.max,onChange:f=>n(c,"max",f.target.value),className:"w-full accent-[var(--color-accent)] h-1.5 rounded-full cursor-pointer"})})]})]},c))})]}),(r>0||i>0)&&v.jsxs("div",{className:"flex justify-between items-center px-3 py-2.5 bg-accent-muted/30 rounded-[var(--radius-md)] border border-accent/10",children:[v.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Estimated Total"}),v.jsxs("span",{className:"text-sm font-heading font-semibold text-accent",children:[s,r.toLocaleString(),"  ",s,i.toLocaleString()]})]})]})}function aq({form:t}){const e=sp.find(s=>s.code===t.currency),n=e?e.symbol:t.currency,r=t.budgetCategories.reduce((s,l)=>s+(l.min||0),0),i=t.budgetCategories.reduce((s,l)=>s+(l.max||0),0),o=t.destinations.filter(s=>s.city.trim());return v.jsxs("div",{className:"space-y-5 animate-fade-in",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"font-heading text-xl text-text-primary mb-1",children:"Review your trip"}),v.jsx("p",{className:"text-sm text-text-muted",children:"Everything look good? You can edit details later."})]}),v.jsxs("div",{className:"bg-bg-secondary border border-border rounded-[var(--radius-lg)] overflow-hidden",children:[v.jsx("div",{className:"px-5 py-4 border-b border-border",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-4xl",children:t.emoji}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-heading text-lg font-bold text-text-primary",children:t.name||"Untitled Trip"}),v.jsxs("p",{className:"text-sm text-text-muted",children:[t.travelers," ",t.travelers===1?"traveler":"travelers"]})]})]})}),v.jsxs("div",{className:"px-5 py-4 space-y-4",children:[(t.startDate||t.endDate)&&v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider font-medium mb-1",children:"Dates"}),v.jsxs("p",{className:"text-sm text-text-primary",children:[t.startDate?up(t.startDate):"TBD","  ",t.endDate?up(t.endDate):"TBD"]})]}),o.length>0&&v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider font-medium mb-1.5",children:"Destinations"}),v.jsx("div",{className:"flex flex-wrap gap-1.5",children:o.map((s,l)=>v.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 text-xs bg-bg-hover rounded-[var(--radius-pill)] text-text-secondary",children:[s.flag||""," ",s.city,s.country?`, ${s.country}`:""]},l))})]}),(r>0||i>0)&&v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider font-medium mb-1",children:"Budget"}),v.jsxs("p",{className:"text-sm text-text-primary",children:[n,r.toLocaleString(),"  ",n,i.toLocaleString()," ",t.currency]})]})]})]})]})}function sq({isOpen:t,onClose:e}){const{dispatch:n,showToast:r}=Gt(),[i,o]=z.useState(1),[s,l]=z.useState(()=>c());function c(){return{name:"",emoji:"",travelers:1,startDate:"",endDate:"",destinations:[{city:"",country:"",flag:""}],currency:"PHP",budgetCategories:CI.map(y=>({...y,min:0,max:0}))}}const f=()=>{o(1),l(c()),e()},h=z.useMemo(()=>i===1?s.name.trim().length>0:i===2?s.destinations.some(y=>y.city.trim().length>0):!0,[i,s]),m=()=>{const y=s.destinations.filter(P=>P.city.trim()).map(P=>BD(P.city,P.country,P.flag)),b=new Map;y.forEach(P=>{const j=P.city.toLowerCase();b.has(j)||b.set(j,{id:Date.now().toString(36)+Math.random().toString(36).slice(2,8)+b.size,city:P.city,country:P.country,flag:P.flag||"",highlights:"",mustDo:"",weather:"",currencyTip:"",notes:""})});const S=Array.from(b.values()),E=s.budgetCategories.filter(P=>P.min>0||P.max>0).map(P=>({id:Date.now().toString(36)+Math.random().toString(36).slice(2,8),name:P.name,emoji:P.emoji,min:P.min,max:P.max,actual:0})),_=O9({name:s.name.trim()||"New Trip",emoji:s.emoji,travelers:s.travelers,startDate:s.startDate,endDate:s.endDate,destinations:y,cities:S,currency:s.currency,budget:E});n({type:pe.ADD_TRIP,payload:_}),r(`"${_.name}" created! Let's plan this trip. `),f()};return v.jsxs(MD,{isOpen:t,onClose:f,maxWidth:"max-w-lg",children:[v.jsxs("div",{className:"px-6 pt-6 pb-2",children:[v.jsx("button",{type:"button",onClick:f,className:"absolute top-4 right-4 p-1.5 rounded-[var(--radius-sm)] text-text-muted hover:text-text-primary hover:bg-bg-hover transition-colors z-10",children:v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),v.jsx(tq,{currentStep:i}),v.jsxs("div",{className:"min-h-[320px]",children:[i===1&&v.jsx(nq,{form:s,setForm:l}),i===2&&v.jsx(iq,{form:s,setForm:l}),i===3&&v.jsx(oq,{form:s,setForm:l}),i===4&&v.jsx(aq,{form:s})]})]}),v.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-border mt-2",children:[v.jsx("div",{children:i>1&&v.jsxs("button",{type:"button",onClick:()=>o(y=>y-1),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary hover:bg-bg-hover rounded-[var(--radius-md)] transition-colors",children:[v.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back"]})}),v.jsxs("div",{className:"flex items-center gap-2",children:[i===3&&v.jsx("button",{type:"button",onClick:()=>{l(y=>({...y,budgetCategories:CI.map(b=>({...b,min:0,max:0}))})),o(4)},className:"px-4 py-2 text-sm font-medium text-text-muted hover:text-text-secondary hover:bg-bg-hover rounded-[var(--radius-md)] transition-colors",children:"Skip"}),i<$D?v.jsxs("button",{type:"button",onClick:()=>o(y=>y+1),disabled:!h,className:"flex items-center gap-1.5 px-5 py-2 text-sm font-medium bg-accent hover:bg-accent-hover text-text-inverse rounded-[var(--radius-md)] disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200",children:["Next",v.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polyline",{points:"9 18 15 12 9 6"})})]}):v.jsxs("button",{type:"button",onClick:m,className:"flex items-center gap-2 px-6 py-2.5 text-sm font-semibold bg-accent hover:bg-accent-hover text-text-inverse rounded-[var(--radius-md)] transition-all duration-200 active:scale-[0.98]",children:[v.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),v.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Create Trip"]})]})]})]})}function uq({message:t,type:e="success",visible:n}){if(!t)return null;const r={success:"bg-success/10 text-success border-success/20",error:"bg-danger/10 text-danger border-danger/20",info:"bg-info/10 text-info border-info/20",warning:"bg-warning/10 text-warning border-warning/20"};return v.jsx("div",{className:`
      fixed bottom-6 left-1/2 -translate-x-1/2 z-[60]
      px-5 py-3 rounded-[var(--radius-lg)] border
      font-medium text-sm
      ${r[e]||r.success}
      ${n?"animate-toast-in":"animate-toast-out pointer-events-none"}
    `,children:t})}const lq="https://wanderplan-ai.valentin-bonite.workers.dev/ai";function cq(t){var P,j,R,D,k,N,A;if(!t)return`You are Wanda, a friendly AI travel assistant built into Wanderplan, a trip planning app.
Help users plan trips, suggest activities, recommend restaurants, give packing advice, and optimize itineraries.
Be concise, warm, and practical. Use emojis sparingly. The user hasn't selected a trip yet, so give general travel advice.`;const e=((P=t.cities)==null?void 0:P.map(I=>`${I.flag} ${I.city}, ${I.country}`).join("  "))||"Not specified",n=t.travelers||1,r=t.startDate||"TBD",i=t.endDate||"TBD",o=((j=t.itinerary)==null?void 0:j.length)||0;(R=t.itinerary)!=null&&R.reduce((I,C)=>{var V;return I+(((V=C.activities)==null?void 0:V.length)||0)},0);const s=(D=t.budget)!=null&&D.length?t.budget.map(I=>`${I.emoji||""} ${I.name}: ${I.max} budget (${I.actual||0} spent)`).join(", "):"No budget set",l=((k=t.budget)==null?void 0:k.reduce((I,C)=>I+(C.max||0),0))||0,c=((N=t.budget)==null?void 0:N.reduce((I,C)=>I+(C.actual||0),0))||0,f=t.bookings||[],h=f.filter(I=>I.status==="booked").length,m=f.filter(I=>I.status!=="booked").length,y=t.todos||[],b=y.filter(I=>I.done).length,S=t.packingList||[],E=S.filter(I=>I.packed).length,_=((A=t.itinerary)==null?void 0:A.slice(0,5).map(I=>{var C;return`Day ${I.dayNumber} (${I.location||"location TBD"}): ${((C=I.activities)==null?void 0:C.map(V=>V.name).join(", "))||"no activities yet"}`}).join(`
`))||"No itinerary yet";return`You are Wanda, a friendly AI travel assistant built into Wanderplan.
You are helping plan this specific trip:

 TRIP: "${t.name||"Unnamed Trip"}" ${t.emoji||""}
 Route: ${e}
 Dates: ${r}  ${i} (${o} days planned)
 Travelers: ${n}

 BUDGET:
${s}
Total: ${l} budget, ${c} spent, ${l-c} remaining

 BOOKINGS: ${h} confirmed, ${m} pending
 TODOS: ${b}/${y.length} done
 PACKING: ${E}/${S.length} packed

 ITINERARY PREVIEW:
${_}

Your role:
- Give specific, actionable advice tailored to THIS trip's cities, budget, and timeline
- Be concise  2-4 sentences per response unless the user asks for a detailed list
- Use emojis sparingly (1-2 per response max)
- When suggesting activities, consider the budget remaining (${l-c})
- If the user asks to "optimize" or "improve" something, give concrete suggestions
- Be warm and conversational, like a knowledgeable travel-savvy friend`}async function fq(t,e,n){var c,f,h,m,y,b;const i={contents:[...e.map(S=>({role:S.role,parts:[{text:S.text}]})),{role:"user",parts:[{text:n}]}],systemInstruction:{parts:[{text:t}]},generationConfig:{temperature:.8,maxOutputTokens:512}},o=await fetch(lq,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok){const S=await o.json().catch(()=>({}));throw new Error(((c=S==null?void 0:S.error)==null?void 0:c.message)||`Gemini API error ${o.status}`)}const l=(b=(y=(m=(h=(f=(await o.json()).candidates)==null?void 0:f[0])==null?void 0:h.content)==null?void 0:m.parts)==null?void 0:y[0])==null?void 0:b.text;if(!l)throw new Error("No response from Gemini");return l}const kI=[{label:" Optimize itinerary",text:"Can you review my itinerary and suggest any improvements or optimizations?"},{label:" Restaurant tips",text:"What are the best restaurants or food experiences I should try on this trip?"},{label:" Packing advice",text:"Based on my destinations and dates, what should I make sure to pack?"},{label:" Budget check",text:"How is my budget looking? Any tips to save money or where to splurge?"},{label:" Hidden gems",text:"What are some lesser-known hidden gems or local tips for my destinations?"},{label:" Day plan",text:"Can you suggest a perfect day itinerary for one of my destinations?"}];function dq({msg:t}){const e=t.role==="user";return v.jsxs("div",{className:`flex ${e?"justify-end":"justify-start"} mb-3`,children:[!e&&v.jsx("div",{className:"w-7 h-7 rounded-full bg-accent/10 border border-accent/20 flex items-center justify-center text-sm flex-shrink-0 mr-2 mt-0.5",children:""}),v.jsx("div",{className:`
          max-w-[85%] px-3.5 py-2.5 rounded-2xl text-sm leading-relaxed
          ${e?"bg-accent text-text-inverse rounded-tr-sm":"bg-bg-secondary border border-border text-text-primary rounded-tl-sm"}
        `,children:t.text})]})}function hq(){return v.jsxs("div",{className:"flex justify-start mb-3",children:[v.jsx("div",{className:"w-7 h-7 rounded-full bg-accent/10 border border-accent/20 flex items-center justify-center text-sm flex-shrink-0 mr-2 mt-0.5",children:""}),v.jsxs("div",{className:"bg-bg-secondary border border-border px-4 py-3 rounded-2xl rounded-tl-sm flex items-center gap-1.5",children:[v.jsx("span",{className:"w-1.5 h-1.5 bg-text-muted rounded-full animate-bounce",style:{animationDelay:"0ms"}}),v.jsx("span",{className:"w-1.5 h-1.5 bg-text-muted rounded-full animate-bounce",style:{animationDelay:"150ms"}}),v.jsx("span",{className:"w-1.5 h-1.5 bg-text-muted rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})}function pq(){const{activeTrip:t}=Gt(),[e,n]=z.useState(!1),[r,i]=z.useState([]),[o,s]=z.useState(""),[l,c]=z.useState(!1),[f,h]=z.useState(null),[m,y]=z.useState(!0),[b,S]=z.useState(!1),E=z.useRef(null),_=z.useRef(null);z.useEffect(()=>{const A=setTimeout(()=>S(!0),200);return()=>clearTimeout(A)},[]),z.useEffect(()=>{var A;(A=E.current)==null||A.scrollIntoView({behavior:"smooth"})},[r,l]),z.useEffect(()=>{e&&setTimeout(()=>{var A;return(A=_.current)==null?void 0:A.focus()},150)},[e]);const P=cq(t);async function j(A){const I=(A||o).trim();if(!I||l)return;s(""),h(null),y(!1);const C={role:"user",text:I},V=[...r,C];i(V),c(!0);try{const B=await fq(P,r,I);i(L=>[...L,{role:"model",text:B}])}catch($){h($.message||"Something went wrong. Try again."),i(B=>B.slice(0,-1))}finally{c(!1)}}function R(A){j(A.text)}function D(A){A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),j())}function k(){i([]),h(null),y(!0)}const N=r.length>0;return v.jsxs(v.Fragment,{children:[b&&v.jsxs("button",{onClick:()=>n(A=>!A),className:`
            fixed bottom-6 right-6 z-40
            flex items-center gap-2 px-4 py-2.5
            rounded-full shadow-lg border border-border
            text-sm font-semibold
            transition-all duration-200 active:scale-95
            animate-bounce-in
            ${e?"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary":"bg-accent hover:bg-accent-hover text-text-inverse"}
          `,title:e?"Close Wanda":"Ask Wanda AI","aria-label":e?"Close AI assistant":"Open AI assistant",children:[v.jsx("span",{className:"text-base leading-none",children:e?"":""}),v.jsx("span",{children:e?"Close":"Ask Wanda"})]}),v.jsxs("div",{className:`
          fixed bottom-20 right-6 z-40
          w-[min(380px,calc(100vw-3rem))]
          bg-bg-primary border border-border rounded-[var(--radius-lg)]
          shadow-2xl flex flex-col
          transition-all duration-300 ease-out
          ${e?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 translate-y-4 pointer-events-none"}
        `,style:{maxHeight:"min(560px, calc(100dvh - 8rem))"},children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border flex-shrink-0",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-lg",children:""}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-semibold text-text-primary leading-tight",children:"Wanda"}),v.jsx("p",{className:"text-[10px] text-text-muted leading-tight",children:t?`Knows your ${t.name} trip`:"AI travel assistant"})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[N&&v.jsx("button",{onClick:k,className:"text-xs text-text-muted hover:text-text-secondary transition-colors px-2 py-1 rounded hover:bg-bg-secondary",title:"Clear chat",children:"Clear"}),v.jsx("div",{className:"w-2 h-2 rounded-full bg-success animate-pulse",title:"Connected"})]})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 min-h-0",children:[!N&&m&&v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted text-center mb-4 leading-relaxed",children:t?`I know your ${t.emoji||""} ${t.name} trip. Ask me anything!`:"Your AI travel companion. Ask me anything about travel planning!"}),v.jsx("div",{className:"flex flex-wrap gap-1.5",children:kI.map(A=>v.jsx("button",{onClick:()=>R(A),className:`text-xs px-2.5 py-1.5 rounded-full border border-border bg-bg-secondary
                               hover:bg-bg-tertiary hover:border-accent/40 text-text-secondary
                               transition-all duration-150 active:scale-95`,children:A.label},A.label))})]}),r.map((A,I)=>v.jsx(dq,{msg:A},I)),l&&v.jsx(hq,{}),f&&v.jsx("div",{className:"text-xs text-center text-red-400 bg-red-400/10 border border-red-400/20 rounded-lg px-3 py-2 mb-2",children:f}),v.jsx("div",{ref:E})]}),N&&!l&&v.jsx("div",{className:"px-4 pb-2 flex gap-1.5 overflow-x-auto flex-shrink-0 scrollbar-none",children:kI.slice(0,3).map(A=>v.jsx("button",{onClick:()=>R(A),className:`text-[11px] px-2.5 py-1 rounded-full border border-border bg-bg-secondary
                           hover:bg-bg-tertiary text-text-muted whitespace-nowrap
                           transition-all duration-150 active:scale-95 flex-shrink-0`,children:A.label},A.label))}),v.jsxs("div",{className:"px-3 pb-3 pt-1 flex-shrink-0 border-t border-border mt-auto",children:[v.jsxs("div",{className:"flex items-end gap-2 mt-2",children:[v.jsx("textarea",{ref:_,value:o,onChange:A=>s(A.target.value),onKeyDown:D,placeholder:"Ask about your trip",rows:1,className:`
                flex-1 resize-none rounded-[var(--radius-md)] border border-border
                bg-bg-secondary text-text-primary placeholder:text-text-muted
                px-3 py-2 text-sm leading-relaxed
                focus:outline-none focus:border-accent/50 focus:ring-1 focus:ring-accent/20
                transition-all duration-150
                scrollbar-none overflow-hidden
              `,style:{minHeight:"38px",maxHeight:"120px"},onInput:A=>{A.target.style.height="auto",A.target.style.height=Math.min(A.target.scrollHeight,120)+"px"},disabled:l}),v.jsx("button",{onClick:()=>j(),disabled:!o.trim()||l,className:`
                w-9 h-9 flex-shrink-0 rounded-[var(--radius-md)]
                bg-accent hover:bg-accent-hover text-text-inverse
                flex items-center justify-center
                disabled:opacity-40 disabled:cursor-not-allowed
                transition-all duration-150 active:scale-95
              `,"aria-label":"Send message",children:v.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),v.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})})]}),v.jsx("p",{className:"text-[10px] text-text-muted text-center mt-1.5 opacity-60",children:"Powered by Gemini 2.0 Flash  Enter to send"})]})]}),e&&v.jsx("div",{className:"fixed inset-0 z-30 md:hidden",onClick:()=>n(!1)})]})}function Nt({children:t,className:e="",hover:n=!1,onClick:r,padding:i="p-6"}){return v.jsx("div",{onClick:r,className:`
        bg-bg-secondary border border-border rounded-[14px]
        ${n?"hover:-translate-y-[1px] cursor-pointer":""}
        transition-all duration-200
        ${i}
        ${e}
      `,children:t})}function yu({value:t=0,max:e=100,className:n="",colorClass:r="bg-accent",height:i="h-2",showLabel:o=!1,label:s=""}){const l=e>0?Math.min(100,Math.round(t/e*100)):0;return v.jsxs("div",{className:n,children:[(o||s)&&v.jsxs("div",{className:"flex justify-between items-center mb-1.5 text-sm",children:[v.jsx("span",{className:"text-text-secondary",children:s}),v.jsxs("span",{className:"text-text-muted font-medium",children:[t,"/",e]})]}),v.jsx("div",{className:`w-full bg-border rounded-full overflow-hidden ${i}`,children:v.jsx("div",{className:`${i} ${r} rounded-full transition-all duration-700 ease-out`,style:{width:`${l}%`}})})]})}function yh({value:t,label:e}){return v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-3xl font-heading font-bold text-text-primary tabular-nums",children:String(t).padStart(2,"0")}),v.jsx("div",{className:"text-xs text-text-muted uppercase tracking-wider mt-0.5",children:e})]})}function mq({targetDate:t,label:e}){const n=O1(t);return t?n.expired?v.jsxs(Nt,{className:"text-center",children:[v.jsx("p",{className:"text-text-muted text-sm mb-1",children:e}),v.jsx("p",{className:"text-accent font-heading text-lg font-semibold",children:"It's time! "})]}):v.jsxs(Nt,{className:"text-center",children:[v.jsx("p",{className:"text-text-muted text-sm mb-3",children:e}),v.jsxs("div",{className:"flex justify-center gap-4",children:[v.jsx(yh,{value:n.days,label:"days"}),v.jsx("span",{className:"text-text-muted text-2xl font-light self-start mt-1",children:":"}),v.jsx(yh,{value:n.hours,label:"hrs"}),v.jsx("span",{className:"text-text-muted text-2xl font-light self-start mt-1",children:":"}),v.jsx(yh,{value:n.minutes,label:"min"}),v.jsx("span",{className:"text-text-muted text-2xl font-light self-start mt-1",children:":"}),v.jsx(yh,{value:n.seconds,label:"sec"})]})]}):null}const gq=[{emoji:"",title:"Add a Booking",description:"Log flights, hotels, or activities.",tab:"Bookings",accentClass:"bg-info/10 border-info/20 text-info"},{emoji:"",title:"Create a To-Do",description:"Track tasks like visas and vaccines.",tab:"To-Do",accentClass:"bg-accent/10 border-accent/20 text-accent"},{emoji:"",title:"Start Packing",description:"Build your packing checklist.",tab:"Packing",accentClass:"bg-success/10 border-success/20 text-success"}];function yq({onTabSwitch:t}){return v.jsxs("div",{children:[v.jsx("h3",{className:"font-heading text-sm text-text-muted uppercase tracking-wider mb-3",children:"Quick Start  get your trip ready"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:gq.map(e=>v.jsxs("button",{type:"button",onClick:()=>t==null?void 0:t(e.tab),className:`
              group text-left p-4 rounded-[var(--radius-lg)] border
              ${e.accentClass}
              hover:scale-[1.02] active:scale-[0.99]
              transition-all duration-150
            `,children:[v.jsx("div",{className:"text-2xl mb-2",children:e.emoji}),v.jsx("div",{className:"font-semibold text-sm text-text-primary mb-0.5",children:e.title}),v.jsx("div",{className:"text-xs text-text-muted",children:e.description})]},e.tab))})]})}function NI({onTabSwitch:t}){var j,R,D,k,N,A,I;const{activeTrip:e}=Gt(),n=z.useRef(null);if(!e)return null;const r=e,i=P1(r),o=M9(r),s=i===0;z.useMemo(()=>{var C;return((C=r.bookings)==null?void 0:C.find(V=>V.priority))||null},[r.bookings]);const l=A9(r.startDate,r.endDate),c=[...new Set((j=r.destinations)==null?void 0:j.map(C=>C.city))].length,f=((R=r.bookings)==null?void 0:R.filter(C=>C.category==="flight").length)||0,h=((D=r.bookings)==null?void 0:D.filter(C=>["experience","concert"].includes(C.category)).length)||0,m=((k=r.budget)==null?void 0:k.reduce((C,V)=>C+(V.min||0),0))||0,y=((N=r.budget)==null?void 0:N.reduce((C,V)=>C+(V.max||0),0))||0,b=((A=r.budget)==null?void 0:A.reduce((C,V)=>C+(V.actual||0),0))||0,S=z.useMemo(()=>{var $,B;const C=($=r.todos)==null?void 0:$.filter(L=>!L.done).sort((L,Q)=>L.priority==="high"&&Q.priority!=="high"?-1:Q.priority==="high"&&L.priority!=="high"?1:L.dueDate&&Q.dueDate?new Date(L.dueDate)-new Date(Q.dueDate):L.dueDate?-1:1);if((C==null?void 0:C.length)>0)return{type:"todo",item:C[0]};const V=(B=r.bookings)==null?void 0:B.filter(L=>L.status!=="booked").sort((L,Q)=>L.priority&&!Q.priority?-1:Q.priority&&!L.priority?1:0);return(V==null?void 0:V.length)>0?{type:"booking",item:V[0]}:null},[r.todos,r.bookings]),E=i===100?"You're 100% ready. Go enjoy the world. ":i>=75?"Almost there! Just a few more things.":i>=50?"Making good progress. Keep it up!":i>0?"Let's get this trip planned! ":"Nothing tracked yet  start below to build readiness.",_=o.bookings.total+o.todos.total+o.packing.total>0?`Based on ${o.bookings.total} bookings, ${o.todos.total} to-dos, ${o.packing.total} packing items`:"Add bookings, to-dos, and packing items to track readiness",P=()=>{var C;(C=n.current)==null||C.scrollIntoView({behavior:"smooth",block:"start"})};return v.jsxs("div",{className:"space-y-7 animate-fade-in",children:[v.jsx("div",{className:"bg-bg-secondary rounded-[var(--radius-xl)] p-9 relative overflow-hidden border border-border",children:v.jsxs("div",{className:"relative z-10",children:[v.jsxs("h2",{className:"font-heading text-3xl font-bold mb-2 text-text-primary",children:[r.emoji," ",r.name]}),v.jsxs("p",{className:"text-text-muted text-sm",children:[I1(r.startDate,r.endDate),"  ",r.travelers," ",r.travelers===1?"traveler":"travelers"]}),v.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:(I=r.destinations)==null?void 0:I.map((C,V)=>v.jsxs("span",{className:"px-3 py-1 bg-bg-hover rounded-[var(--radius-pill)] text-sm text-text-secondary",children:[C.flag," ",C.city]},V))})]})}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-5",children:[{label:"Total Days",value:l,emoji:""},{label:"Cities",value:c,emoji:""},{label:"Flights",value:f,emoji:""},{label:"Experiences",value:h,emoji:""}].map((C,V)=>v.jsxs(Nt,{className:`text-center delay-${V+1} animate-fade-in-up`,padding:"py-7 px-6",children:[v.jsx("div",{className:"text-3xl mb-2",children:C.emoji}),v.jsx("div",{className:"text-3xl font-heading font-bold text-text-primary",children:C.value}),v.jsx("div",{className:"text-xs text-text-muted mt-1.5 uppercase tracking-wider",children:C.label})]},V))}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[v.jsx("div",{ref:n,children:v.jsx(Nt,{children:v.jsxs("div",{className:"flex items-center gap-5",children:[v.jsx(C1,{value:i,size:96,strokeWidth:7,pulse:s,onClick:P,tooltip:_}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-heading text-lg text-text-primary mb-1",children:"Trip Readiness"}),v.jsx("p",{className:"text-sm text-text-muted mb-3",children:E}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(yu,{value:o.bookings.done,max:o.bookings.total,label:"Bookings",showLabel:!0,colorClass:"bg-info",height:"h-1.5"}),v.jsx(yu,{value:o.todos.done,max:o.todos.total,label:"To-Dos",showLabel:!0,colorClass:"bg-accent",height:"h-1.5"}),v.jsx(yu,{value:o.packing.done,max:o.packing.total,label:"Packing",showLabel:!0,colorClass:"bg-success",height:"h-1.5"})]})]})]})})}),v.jsx("div",{className:"space-y-3",children:v.jsx(mq,{targetDate:r.startDate,label:" Days to departure"})})]}),s&&v.jsx(yq,{onTabSwitch:t}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[S&&v.jsxs(Nt,{children:[v.jsx("h3",{className:"font-heading text-sm text-text-muted uppercase tracking-wider mb-2",children:"Next Thing to Do"}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("span",{className:"text-2xl",children:S.type==="todo"?"":""}),v.jsxs("div",{children:[v.jsx("p",{className:"text-text-primary font-medium",children:S.type==="todo"?S.item.text:S.item.name}),v.jsxs("p",{className:"text-sm text-text-muted mt-0.5",children:[S.type==="todo"?`Category: ${S.item.category}`:`Status: ${S.item.status.replace("_"," ")}`,S.item.dueDate&&`  Due: ${S.item.dueDate}`,S.item.bookByDate&&`  Book by: ${S.item.bookByDate}`]})]})]})]}),y>0&&v.jsxs(Nt,{children:[v.jsx("h3",{className:"font-heading text-sm text-text-muted uppercase tracking-wider mb-2",children:"Budget Snapshot"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-text-secondary",children:"Estimated range"}),v.jsxs("span",{className:"text-text-primary font-medium",children:[sr(m,r.currency),"  ",sr(y,r.currency)]})]}),b>0&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-text-secondary",children:"Spent so far"}),v.jsx("span",{className:`font-medium ${b>y?"text-danger":"text-accent"}`,children:sr(b,r.currency)})]}),v.jsx(yu,{value:b,max:y,colorClass:b>y?"bg-danger":"bg-accent",height:"h-2"})]})]})]})]})]})}function Zt({value:t,onSave:e,tag:n="span",className:r="",inputClassName:i="",placeholder:o="Click to edit...",multiline:s=!1}){const[l,c]=z.useState(!1),[f,h]=z.useState(t),m=z.useRef(null);z.useEffect(()=>{var S,E;l&&m.current&&(m.current.focus(),(E=(S=m.current).select)==null||E.call(S))},[l]),z.useEffect(()=>{h(t)},[t]);const y=()=>{c(!1);const S=(f==null?void 0:f.trim())??"";S!==t&&e(S)},b=S=>{S.key==="Enter"&&!s&&(S.preventDefault(),y()),S.key==="Escape"&&(h(t),c(!1))};if(l){const S=s?"textarea":"input";return v.jsx(S,{ref:m,value:f,onChange:E=>h(E.target.value),onBlur:y,onKeyDown:b,placeholder:o,className:`
          bg-bg-input border border-accent/30 rounded-[var(--radius-sm)]
          px-2 py-1 outline-none focus:border-accent focus:ring-1 focus:ring-accent/20
          text-text-primary font-body
          ${s?"min-h-[80px] resize-y w-full":""}
          ${i}
        `,rows:s?3:void 0})}return v.jsx(n,{onClick:()=>{h(t),c(!0)},className:`
        cursor-pointer border-b border-transparent
        hover:border-accent/30 transition-colors duration-150
        ${t?"":"text-text-muted italic"}
        ${r}
      `,title:"Click to edit",children:t||o})}function vq({activity:t,dayId:e,index:n,onUpdate:r,onDelete:i,onReorder:o}){const[s,l]=z.useState(!1);return v.jsxs("div",{draggable:!0,onDragStart:c=>{c.dataTransfer.effectAllowed="move",c.dataTransfer.setData("activityIndex",String(n))},onDragOver:c=>{c.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:c=>{c.preventDefault(),l(!1);const f=Number(c.dataTransfer.getData("activityIndex"));f!==n&&o(f,n)},className:`flex items-start gap-2 group py-2 rounded transition-all cursor-default
        ${s?"border-t-2 border-accent":""}`,children:[v.jsx("span",{className:"flex-shrink-0 cursor-grab active:cursor-grabbing opacity-0 group-hover:opacity-30 mt-1 text-text-muted select-none text-base",children:""}),v.jsx("div",{className:"flex-shrink-0 w-14 text-right",children:v.jsx(Zt,{value:t.time,onSave:c=>r({time:c}),className:"text-sm text-text-muted font-mono",placeholder:"--:--"})}),v.jsx("span",{className:"text-lg flex-shrink-0 mt-0.5",children:t.emoji}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx(Zt,{value:t.name,onSave:c=>r({name:c}),className:"text-text-primary font-medium text-sm",placeholder:"Activity name"}),v.jsx(Zt,{value:t.notes||"",onSave:c=>r({notes:c}),className:"text-xs text-text-muted mt-0.5",placeholder:"Add notes",multiline:!0})]}),v.jsx("button",{onClick:i,className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-sm transition-opacity p-1 flex-shrink-0",children:""})]})}function xq({onAdd:t,onCancel:e}){const[n,r]=z.useState(""),[i,o]=z.useState(""),[s,l]=z.useState(""),[c,f]=z.useState(""),[h,m]=z.useState(!1),y=b=>{b.preventDefault(),n.trim()&&(t({name:n.trim(),time:i,emoji:s,notes:c.trim()}),r(""),o(""),l(""),f(""))};return v.jsxs("form",{onSubmit:y,className:"mt-3 p-3 bg-bg-primary rounded-[var(--radius-md)] border border-border",children:[v.jsxs("div",{className:"flex gap-2 items-start",children:[v.jsx("input",{type:"time",value:i,onChange:b=>o(b.target.value),className:"w-24 px-2 py-1.5 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary"}),v.jsxs("div",{className:"relative",children:[v.jsx("button",{type:"button",onClick:()=>m(!h),className:"text-xl p-1.5 border border-border rounded-[var(--radius-sm)] hover:bg-bg-hover",children:s}),h&&v.jsx("div",{className:"absolute top-full left-0 mt-1 p-2 bg-bg-secondary border border-border rounded-[var(--radius-md)] grid grid-cols-4 gap-1 z-10",children:eq.map(b=>v.jsx("button",{type:"button",onClick:()=>{l(b.emoji),m(!1)},className:"text-lg p-1 hover:bg-bg-hover rounded",title:b.label,children:b.emoji},b.emoji))})]}),v.jsx("input",{value:n,onChange:b=>r(b.target.value),placeholder:"Activity name",className:"flex-1 px-3 py-1.5 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted"})]}),v.jsx("input",{value:c,onChange:b=>f(b.target.value),placeholder:"Notes (optional)",className:"w-full mt-2 px-3 py-1.5 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted"}),v.jsxs("div",{className:"flex gap-2 mt-2 justify-end",children:[v.jsx("button",{type:"button",onClick:e,className:"px-3 py-1 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"}),v.jsx("button",{type:"submit",className:"px-3 py-1 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"})]})]})}function bq({day:t,dayIndex:e,isConcertDay:n,onReorderDay:r}){var j,R;const{dispatch:i}=Gt(),[o,s]=z.useState(!0),[l,c]=z.useState(!1),[f,h]=z.useState(!1),[m,y]=z.useState(t.notes||""),[b,S]=z.useState(!1),E=n?"border-concert-red/30 bg-concert-dark/5 dark:bg-concert-dark/30":"",_=t.location?`https://www.google.com/maps/search/${encodeURIComponent(t.location)}`:null,P=()=>{i({type:pe.UPDATE_DAY,payload:{dayId:t.id,updates:{notes:m}}}),h(!1)};return v.jsxs("div",{className:`relative animate-fade-in transition-all ${b?"border-t-2 border-accent":""}`,draggable:!0,onDragStart:D=>{D.dataTransfer.effectAllowed="move",D.dataTransfer.setData("dayIndex",String(e))},onDragOver:D=>{D.preventDefault(),S(!0)},onDragLeave:()=>S(!1),onDrop:D=>{D.preventDefault(),S(!1);const k=Number(D.dataTransfer.getData("dayIndex"));k!==e&&r(k,e)},children:[v.jsx("div",{className:"absolute left-5 top-0 bottom-0 w-px bg-border hidden md:block"}),v.jsx("div",{className:`absolute left-3 top-6 w-5 h-5 rounded-full border-2 hidden md:block z-10
        ${n?"border-concert-red bg-concert-red/20":"border-accent bg-accent/20"}`}),v.jsxs(Nt,{className:`md:ml-12 ${E}`,children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"hidden md:block cursor-grab active:cursor-grabbing text-text-muted opacity-30 hover:opacity-60 select-none",title:"Drag to reorder",children:""}),v.jsxs("div",{className:"flex items-center gap-3 flex-1 cursor-pointer",onClick:()=>s(!o),children:[v.jsx("span",{className:"text-2xl",children:t.emoji}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[v.jsxs("span",{className:`font-heading font-semibold ${n?"text-concert-red":"text-text-primary"}`,children:["Day ",t.dayNumber]}),v.jsx("span",{className:"text-text-muted text-sm",children:""}),v.jsx("span",{className:"text-sm text-text-secondary",children:up(t.date,"long")})]}),v.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[v.jsx(Zt,{value:t.location,onSave:D=>i({type:pe.UPDATE_DAY,payload:{dayId:t.id,updates:{location:D}}}),className:"text-sm text-text-muted",placeholder:"Location"}),_&&v.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",onClick:D=>D.stopPropagation(),className:"text-sm hover:opacity-70 transition-opacity flex-shrink-0",title:"View on Google Maps",children:""})]})]})]}),v.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[v.jsx("span",{className:"text-xs text-text-muted",children:((j=t.activities)==null?void 0:j.length)||0}),v.jsx("button",{onClick:D=>{D.stopPropagation(),i({type:pe.REMOVE_DAY,payload:t.id})},className:"text-xs text-text-muted hover:text-danger transition-colors px-1",children:""}),v.jsx("span",{className:`text-text-muted cursor-pointer transition-transform ${o?"rotate-180":""}`,onClick:()=>s(!o),children:""})]})]}),o&&v.jsxs("div",{className:"mt-3 border-t border-border pt-3",children:[((R=t.activities)==null?void 0:R.length)>0?v.jsx("div",{className:"divide-y divide-border/50",children:t.activities.map((D,k)=>v.jsx(vq,{activity:D,dayId:t.id,index:k,onUpdate:N=>i({type:pe.UPDATE_ACTIVITY,payload:{dayId:t.id,activityId:D.id,updates:N}}),onDelete:()=>i({type:pe.DELETE_ACTIVITY,payload:{dayId:t.id,activityId:D.id}}),onReorder:(N,A)=>i({type:pe.REORDER_ACTIVITIES,payload:{dayId:t.id,fromIndex:N,toIndex:A}})},D.id))}):v.jsx("p",{className:"text-sm text-text-muted italic py-2",children:"No activities yet"}),v.jsx("div",{className:"mt-3 pt-2 border-t border-border/50",children:f?v.jsxs("div",{children:[v.jsx("textarea",{value:m,onChange:D=>y(D.target.value),onKeyDown:D=>{D.key==="Escape"&&(y(t.notes||""),h(!1))},placeholder:"Day notes",rows:2,autoFocus:!0,className:"w-full px-3 py-2 text-xs bg-bg-input border border-accent rounded-[var(--radius-sm)] text-text-primary resize-none focus:outline-none"}),v.jsxs("div",{className:"flex gap-2 mt-1 justify-end",children:[v.jsx("button",{onClick:()=>{y(t.notes||""),h(!1)},className:"text-xs text-text-muted",children:"Cancel"}),v.jsx("button",{onClick:P,className:"text-xs text-accent font-medium",children:"Save"})]})]}):v.jsx("button",{onClick:()=>{y(t.notes||""),h(!0)},className:"text-xs text-text-muted hover:text-text-secondary transition-colors text-left w-full",children:t.notes?v.jsxs("span",{children:[" ",v.jsx("span",{className:"italic",children:t.notes})]}):v.jsx("span",{className:"opacity-50",children:"+ Add day notes"})})}),l?v.jsx(xq,{onAdd:D=>{i({type:pe.ADD_ACTIVITY,payload:{dayId:t.id,activity:D}}),c(!1)},onCancel:()=>c(!1)}):v.jsx("button",{onClick:()=>c(!0),className:"mt-2 text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add activity"})]})]})]})}function _q(){var i,o,s,l;const{activeTrip:t,dispatch:e}=Gt();if(!t)return null;const n=t,r=(i=n.bookings)==null?void 0:i.find(c=>c.category==="concert");return v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsxs("h2",{className:"font-heading text-xl text-text-primary",children:[" Itinerary  ",((o=n.itinerary)==null?void 0:o.length)||0," days"]}),(((s=n.itinerary)==null?void 0:s.length)||0)>1&&v.jsx("p",{className:"text-xs text-text-muted mt-0.5",children:"Drag  to reorder days or activities"})]}),v.jsx("button",{onClick:()=>{var h;const c=(h=n.itinerary)==null?void 0:h[n.itinerary.length-1];let f="";if(c!=null&&c.date){const m=new Date(c.date+"T00:00:00");m.setDate(m.getDate()+1),f=m.toISOString().slice(0,10)}e({type:pe.ADD_DAY,payload:{date:f,location:"",emoji:""}})},className:"px-3 py-1.5 text-sm bg-accent text-white rounded-[var(--radius-md)] hover:bg-accent-hover transition-colors",children:"+ Add Day"})]}),v.jsx("div",{className:"relative space-y-5",children:(l=n.itinerary)==null?void 0:l.map((c,f)=>{var m;const h=r&&((m=c.activities)==null?void 0:m.some(y=>{var b,S;return((b=y.name)==null?void 0:b.toLowerCase().includes("mcr"))||((S=y.name)==null?void 0:S.toLowerCase().includes("concert"))||y.emoji===""||y.emoji===""}));return v.jsx(bq,{day:c,dayIndex:f,isConcertDay:h,onReorderDay:(y,b)=>e({type:pe.REORDER_DAYS,payload:{fromIndex:y,toIndex:b}})},c.id)})}),(!n.itinerary||n.itinerary.length===0)&&v.jsxs(Nt,{className:"text-center py-12",children:[v.jsx("p",{className:"text-4xl mb-3",children:""}),v.jsx("p",{className:"text-text-muted",children:"No itinerary yet. Add your first day!"})]})]})}const Ky=[{value:"not_started",label:"Not Started",colors:"bg-text-muted/10 text-text-muted border-text-muted/20"},{value:"in_progress",label:"In Progress",colors:"bg-warning/10 text-warning border-warning/20"},{value:"booked",label:"Booked ",colors:"bg-success/10 text-success border-success/20"}];function wq({status:t,bookingId:e}){const{dispatch:n,showToast:r}=Gt(),i=Ky.find(s=>s.value===t)||Ky[0],o=s=>{const l=s.target.value;n({type:pe.SET_BOOKING_STATUS,payload:{id:e,status:l}}),l==="booked"&&r("Booked!  One less thing to worry about.")};return v.jsxs("div",{className:"relative inline-block",children:[v.jsx("select",{value:t,onChange:o,className:`appearance-none cursor-pointer pl-2.5 pr-6 py-1 text-xs font-medium rounded-[var(--radius-pill)]
          border transition-all hover:opacity-80 ${i.colors}`,children:Ky.map(s=>v.jsx("option",{value:s.value,children:s.label},s.value))}),v.jsx("span",{className:"pointer-events-none absolute right-1.5 top-1/2 -translate-y-1/2 text-[10px] opacity-60",children:""})]})}function Tq({booking:t,currency:e}){const{dispatch:n}=Gt(),r=Yc.find(i=>i.id===t.category)||Yc[5];return v.jsxs(Nt,{hover:!0,className:"animate-fade-in",children:[v.jsxs("div",{className:"flex items-start justify-between gap-3",children:[v.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[v.jsx("span",{className:"text-2xl flex-shrink-0",children:r.emoji}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[v.jsx(Zt,{value:t.name,onSave:i=>n({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{name:i}}}),className:"font-medium text-text-primary text-sm"}),t.priority&&v.jsx("span",{className:"text-xs",title:"Priority",children:""})]}),v.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[v.jsx("span",{className:"text-xs px-2 py-0.5 bg-bg-hover rounded-[var(--radius-pill)] text-text-muted",children:r.label}),v.jsx(wq,{status:t.status,bookingId:t.id})]})]})]}),v.jsx("button",{onClick:()=>n({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{priority:!t.priority}}}),className:`text-lg flex-shrink-0 transition-transform hover:scale-110 ${t.priority?"":"opacity-30 hover:opacity-60"}`,title:"Toggle priority",children:""})]}),v.jsxs("div",{className:"mt-3 pt-3 border-t border-border/50 grid grid-cols-2 sm:grid-cols-3 gap-4 text-sm",children:[v.jsxs("div",{children:[v.jsx("span",{className:"text-text-muted text-xs block",children:"Confirmation #"}),v.jsx(Zt,{value:t.confirmationNumber,onSave:i=>n({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{confirmationNumber:i}}}),className:"font-mono text-text-primary text-xs",placeholder:""})]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-text-muted text-xs block",children:"Amount Paid"}),v.jsx(Zt,{value:t.amountPaid?String(t.amountPaid):"",onSave:i=>n({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{amountPaid:Number(i)||0}}}),className:"text-text-primary text-xs",placeholder:sr(0,e)})]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-text-muted text-xs block",children:"Book By"}),v.jsx(Zt,{value:t.bookByDate,onSave:i=>n({type:pe.UPDATE_BOOKING,payload:{id:t.id,updates:{bookByDate:i}}}),className:"text-text-primary text-xs",placeholder:""})]})]}),v.jsx("div",{className:"mt-2 text-right",children:v.jsx("button",{onClick:()=>n({type:pe.DELETE_BOOKING,payload:t.id}),className:"text-xs text-text-muted hover:text-danger transition-colors",children:"Remove"})})]})}function Eq({onAdd:t,onCancel:e}){const[n,r]=z.useState(""),[i,o]=z.useState("custom"),s=l=>{l.preventDefault(),n.trim()&&(t({name:n.trim(),category:i}),r(""),o("custom"))};return v.jsx(Nt,{children:v.jsxs("form",{onSubmit:s,className:"flex flex-wrap gap-2 items-end",children:[v.jsxs("div",{className:"flex-1 min-w-[200px]",children:[v.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Booking name"}),v.jsx("input",{value:n,onChange:l=>r(l.target.value),placeholder:"e.g., Singapore Hotel",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Category"}),v.jsx("select",{value:i,onChange:l=>o(l.target.value),className:"px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",children:Yc.map(l=>v.jsxs("option",{value:l.id,children:[l.emoji," ",l.label]},l.id))})]}),v.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),v.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"})]})})}function Sq(){var b,S;const{activeTrip:t,dispatch:e,showToast:n}=Gt(),[r,i]=z.useState("all"),[o,s]=z.useState(!1);if(!t)return null;const l=t,c=((b=l.bookings)==null?void 0:b.filter(E=>E.status==="booked").length)||0,f=((S=l.bookings)==null?void 0:S.length)||0,h=z.useMemo(()=>{let E=[...l.bookings||[]];return r!=="all"&&(E=E.filter(_=>_.category===r)),E.sort((_,P)=>_.status==="booked"&&P.status!=="booked"?1:P.status==="booked"&&_.status!=="booked"||_.priority&&!P.priority?-1:P.priority&&!_.priority?1:0)},[l.bookings,r]),m=[{id:"all",label:"All"},...Yc.filter(E=>{var _;return(_=l.bookings)==null?void 0:_.some(P=>P.category===E.id)}).map(E=>({id:E.id,label:E.label}))],y=()=>{var _;const E=(_=l.bookings)==null?void 0:_.map(P=>{const j=Yc.find(R=>R.id===P.category);return`${(j==null?void 0:j.emoji)||""} ${P.name}  ${P.status==="booked"?" Booked":" "+P.status.replace("_"," ")}${P.confirmationNumber?` (#${P.confirmationNumber})`:""}`}).join(`
`);navigator.clipboard.writeText(` ${l.name}  Bookings

${E}`),n("Bookings copied to clipboard! ")};return v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsxs(Nt,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("h2",{className:"font-heading text-lg text-text-primary",children:" Bookings"}),v.jsxs("span",{className:"text-sm text-text-muted",children:[c," of ",f," confirmed"]})]}),v.jsx(yu,{value:c,max:f,colorClass:"bg-success",height:"h-2"})]}),v.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[v.jsx("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide",children:m.map(E=>v.jsx("button",{onClick:()=>i(E.id),className:`px-3 py-1.5 text-xs font-medium rounded-[var(--radius-pill)] whitespace-nowrap transition-colors
                ${r===E.id?"bg-accent text-white":"bg-bg-secondary text-text-muted hover:text-text-secondary border border-border"}`,children:E.label},E.id))}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:y,className:"px-3 py-1.5 text-xs text-text-muted hover:text-text-secondary border border-border rounded-[var(--radius-sm)] hover:bg-bg-hover transition-colors",children:" Export"}),v.jsx("button",{onClick:()=>s(!0),className:"px-3 py-1.5 text-xs bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover transition-colors",children:"+ Add Booking"})]})]}),o&&v.jsx(Eq,{onAdd:E=>{e({type:pe.ADD_BOOKING,payload:E}),s(!1)},onCancel:()=>s(!1)}),v.jsx("div",{className:"space-y-4",children:h.map(E=>v.jsx(Tq,{booking:E,currency:l.currency},E.id))}),h.length===0&&v.jsxs(Nt,{className:"text-center py-8",children:[v.jsx("p",{className:"text-3xl mb-2",children:""}),v.jsxs("p",{className:"text-text-muted text-sm",children:["No bookings ",r!=="all"?"in this category":"yet","."]})]})]})}function FD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=FD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function at(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=FD(t))&&(r&&(r+=" "),r+=e);return r}var Yy,jI;function Gn(){if(jI)return Yy;jI=1;var t=Array.isArray;return Yy=t,Yy}var Xy,RI;function UD(){if(RI)return Xy;RI=1;var t=typeof lh=="object"&&lh&&lh.Object===Object&&lh;return Xy=t,Xy}var Qy,DI;function Si(){if(DI)return Qy;DI=1;var t=UD(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Qy=n,Qy}var Jy,MI;function Uf(){if(MI)return Jy;MI=1;var t=Si(),e=t.Symbol;return Jy=e,Jy}var Zy,LI;function Aq(){if(LI)return Zy;LI=1;var t=Uf(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(s){var l=n.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=r.call(s);return f&&(l?s[i]=c:delete s[i]),h}return Zy=o,Zy}var ev,$I;function Iq(){if($I)return ev;$I=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return ev=n,ev}var tv,VI;function fo(){if(VI)return tv;VI=1;var t=Uf(),e=Aq(),n=Iq(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:r:o&&o in Object(l)?e(l):n(l)}return tv=s,tv}var nv,BI;function ho(){if(BI)return nv;BI=1;function t(e){return e!=null&&typeof e=="object"}return nv=t,nv}var rv,FI;function dl(){if(FI)return rv;FI=1;var t=fo(),e=ho(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return rv=r,rv}var iv,UI;function N1(){if(UI)return iv;UI=1;var t=Gn(),e=dl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(t(o))return!1;var l=typeof o;return l=="number"||l=="symbol"||l=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return iv=i,iv}var ov,qI;function ca(){if(qI)return ov;qI=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return ov=t,ov}var av,zI;function j1(){if(zI)return av;zI=1;var t=fo(),e=ca(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==o}return av=s,av}var sv,WI;function Pq(){if(WI)return sv;WI=1;var t=Si(),e=t["__core-js_shared__"];return sv=e,sv}var uv,HI;function Cq(){if(HI)return uv;HI=1;var t=Pq(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return uv=n,uv}var lv,GI;function qD(){if(GI)return lv;GI=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return lv=n,lv}var cv,KI;function Oq(){if(KI)return cv;KI=1;var t=j1(),e=Cq(),n=ca(),r=qD(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!n(y)||e(y))return!1;var b=t(y)?h:o;return b.test(r(y))}return cv=m,cv}var fv,YI;function kq(){if(YI)return fv;YI=1;function t(e,n){return e==null?void 0:e[n]}return fv=t,fv}var dv,XI;function bs(){if(XI)return dv;XI=1;var t=Oq(),e=kq();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return dv=n,dv}var hv,QI;function Sm(){if(QI)return hv;QI=1;var t=bs(),e=t(Object,"create");return hv=e,hv}var pv,JI;function Nq(){if(JI)return pv;JI=1;var t=Sm();function e(){this.__data__=t?t(null):{},this.size=0}return pv=e,pv}var mv,ZI;function jq(){if(ZI)return mv;ZI=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return mv=t,mv}var gv,eP;function Rq(){if(eP)return gv;eP=1;var t=Sm(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(t){var l=s[o];return l===e?void 0:l}return r.call(s,o)?s[o]:void 0}return gv=i,gv}var yv,tP;function Dq(){if(tP)return yv;tP=1;var t=Sm(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return yv=r,yv}var vv,nP;function Mq(){if(nP)return vv;nP=1;var t=Sm(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return vv=n,vv}var xv,rP;function Lq(){if(rP)return xv;rP=1;var t=Nq(),e=jq(),n=Rq(),r=Dq(),i=Mq();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,xv=o,xv}var bv,iP;function $q(){if(iP)return bv;iP=1;function t(){this.__data__=[],this.size=0}return bv=t,bv}var _v,oP;function R1(){if(oP)return _v;oP=1;function t(e,n){return e===n||e!==e&&n!==n}return _v=t,_v}var wv,aP;function Am(){if(aP)return wv;aP=1;var t=R1();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return wv=e,wv}var Tv,sP;function Vq(){if(sP)return Tv;sP=1;var t=Am(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var l=o.length-1;return s==l?o.pop():n.call(o,s,1),--this.size,!0}return Tv=r,Tv}var Ev,uP;function Bq(){if(uP)return Ev;uP=1;var t=Am();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Ev=e,Ev}var Sv,lP;function Fq(){if(lP)return Sv;lP=1;var t=Am();function e(n){return t(this.__data__,n)>-1}return Sv=e,Sv}var Av,cP;function Uq(){if(cP)return Av;cP=1;var t=Am();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return Av=e,Av}var Iv,fP;function Im(){if(fP)return Iv;fP=1;var t=$q(),e=Vq(),n=Bq(),r=Fq(),i=Uq();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Iv=o,Iv}var Pv,dP;function D1(){if(dP)return Pv;dP=1;var t=bs(),e=Si(),n=t(e,"Map");return Pv=n,Pv}var Cv,hP;function qq(){if(hP)return Cv;hP=1;var t=Lq(),e=Im(),n=D1();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Cv=r,Cv}var Ov,pP;function zq(){if(pP)return Ov;pP=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Ov=t,Ov}var kv,mP;function Pm(){if(mP)return kv;mP=1;var t=zq();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return kv=e,kv}var Nv,gP;function Wq(){if(gP)return Nv;gP=1;var t=Pm();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Nv=e,Nv}var jv,yP;function Hq(){if(yP)return jv;yP=1;var t=Pm();function e(n){return t(this,n).get(n)}return jv=e,jv}var Rv,vP;function Gq(){if(vP)return Rv;vP=1;var t=Pm();function e(n){return t(this,n).has(n)}return Rv=e,Rv}var Dv,xP;function Kq(){if(xP)return Dv;xP=1;var t=Pm();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Dv=e,Dv}var Mv,bP;function M1(){if(bP)return Mv;bP=1;var t=qq(),e=Wq(),n=Hq(),r=Gq(),i=Kq();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Mv=o,Mv}var Lv,_P;function zD(){if(_P)return Lv;_P=1;var t=M1(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=o.cache;if(c.has(l))return c.get(l);var f=r.apply(this,s);return o.cache=c.set(l,f)||c,f};return o.cache=new(n.Cache||t),o}return n.Cache=t,Lv=n,Lv}var $v,wP;function Yq(){if(wP)return $v;wP=1;var t=zD(),e=500;function n(r){var i=t(r,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return $v=n,$v}var Vv,TP;function Xq(){if(TP)return Vv;TP=1;var t=Yq(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,l,c,f){o.push(c?f.replace(n,"$1"):l||s)}),o});return Vv=r,Vv}var Bv,EP;function L1(){if(EP)return Bv;EP=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return Bv=t,Bv}var Fv,SP;function Qq(){if(SP)return Fv;SP=1;var t=Uf(),e=L1(),n=Gn(),r=dl(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return e(l,s)+"";if(r(l))return o?o.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return Fv=s,Fv}var Uv,AP;function WD(){if(AP)return Uv;AP=1;var t=Qq();function e(n){return n==null?"":t(n)}return Uv=e,Uv}var qv,IP;function HD(){if(IP)return qv;IP=1;var t=Gn(),e=N1(),n=Xq(),r=WD();function i(o,s){return t(o)?o:e(o,s)?[o]:n(r(o))}return qv=i,qv}var zv,PP;function Cm(){if(PP)return zv;PP=1;var t=dl();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return zv=e,zv}var Wv,CP;function $1(){if(CP)return Wv;CP=1;var t=HD(),e=Cm();function n(r,i){i=t(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[e(i[o++])];return o&&o==s?r:void 0}return Wv=n,Wv}var Hv,OP;function GD(){if(OP)return Hv;OP=1;var t=$1();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return Hv=e,Hv}var Jq=GD();const wr=ht(Jq);var Gv,kP;function Zq(){if(kP)return Gv;kP=1;function t(e){return e==null}return Gv=t,Gv}var e8=Zq();const st=ht(e8);var Kv,NP;function t8(){if(NP)return Kv;NP=1;var t=fo(),e=Gn(),n=ho(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return Kv=i,Kv}var n8=t8();const fs=ht(n8);var r8=j1();const Ge=ht(r8);var i8=ca();const hl=ht(i8);var Yv={exports:{}},ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jP;function o8(){if(jP)return ut;jP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function E(_){if(typeof _=="object"&&_!==null){var P=_.$$typeof;switch(P){case t:switch(_=_.type,_){case n:case i:case r:case f:case h:return _;default:switch(_=_&&_.$$typeof,_){case l:case s:case c:case y:case m:case o:return _;default:return P}}case e:return P}}}return ut.ContextConsumer=s,ut.ContextProvider=o,ut.Element=t,ut.ForwardRef=c,ut.Fragment=n,ut.Lazy=y,ut.Memo=m,ut.Portal=e,ut.Profiler=i,ut.StrictMode=r,ut.Suspense=f,ut.SuspenseList=h,ut.isAsyncMode=function(){return!1},ut.isConcurrentMode=function(){return!1},ut.isContextConsumer=function(_){return E(_)===s},ut.isContextProvider=function(_){return E(_)===o},ut.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},ut.isForwardRef=function(_){return E(_)===c},ut.isFragment=function(_){return E(_)===n},ut.isLazy=function(_){return E(_)===y},ut.isMemo=function(_){return E(_)===m},ut.isPortal=function(_){return E(_)===e},ut.isProfiler=function(_){return E(_)===i},ut.isStrictMode=function(_){return E(_)===r},ut.isSuspense=function(_){return E(_)===f},ut.isSuspenseList=function(_){return E(_)===h},ut.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===i||_===r||_===f||_===h||_===b||typeof _=="object"&&_!==null&&(_.$$typeof===y||_.$$typeof===m||_.$$typeof===o||_.$$typeof===s||_.$$typeof===c||_.$$typeof===S||_.getModuleId!==void 0)},ut.typeOf=E,ut}var RP;function a8(){return RP||(RP=1,Yv.exports=o8()),Yv.exports}var s8=a8(),Xv,DP;function KD(){if(DP)return Xv;DP=1;var t=fo(),e=ho(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return Xv=r,Xv}var Qv,MP;function u8(){if(MP)return Qv;MP=1;var t=KD();function e(n){return t(n)&&n!=+n}return Qv=e,Qv}var l8=u8();const qf=ht(l8);var c8=KD();const f8=ht(c8);var Fr=function(e){return e===0?0:e>0?1:-1},Ka=function(e){return fs(e)&&e.indexOf("%")===e.length-1},xe=function(e){return f8(e)&&!qf(e)},d8=function(e){return st(e)},nn=function(e){return xe(e)||fs(e)},h8=0,Om=function(e){var n=++h8;return"".concat(e||"").concat(n)},ds=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(e)&&!fs(e))return r;var o;if(Ka(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return qf(o)&&(o=r),i&&o>n&&(o=n),o},Ko=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},p8=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},lu=function(e,n){return xe(e)&&xe(n)?function(r){return e+r*(n-e)}:function(){return n}};function __(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):wr(r,e))===n})}var m8=function(e,n){return xe(e)&&xe(n)?e-n:fs(e)&&fs(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Iu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function w_(t){"@babel/helpers - typeof";return w_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w_(t)}var g8=["viewBox","children"],y8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],LP=["points","pathLength"],Jv={svg:g8,polygon:LP,polyline:LP},V1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(z.isValidElement(e)&&(r=e.props),!hl(r))return null;var i={};return Object.keys(r).forEach(function(o){V1.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},v8=function(e,n,r){return function(i){return e(n,r,i),null}},dp=function(e,n,r){if(!hl(e)||w_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];V1.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=v8(s,n,r))}),i},x8=["children"],b8=["children"];function $P(t,e){if(t==null)return{};var n=_8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var VP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Zi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},BP=null,Zv=null,B1=function t(e){if(e===BP&&Array.isArray(Zv))return Zv;var n=[];return z.Children.forEach(e,function(r){st(r)||(s8.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Zv=n,BP=e,n};function zr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Zi(i)}):r=[Zi(e)],B1(t).forEach(function(i){var o=wr(i,"type.displayName")||wr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function or(t,e){var n=zr(t,e);return n&&n[0]}var FP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!xe(r)||r<=0||!xe(i)||i<=0)},w8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],T8=function(e){return e&&e.type&&fs(e.type)&&w8.indexOf(e.type)>=0},E8=function(e,n,r,i){var o,s=(o=Jv==null?void 0:Jv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Ge(e)&&(i&&s.includes(n)||y8.includes(n))||r&&V1.includes(n)},ot=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(z.isValidElement(e)&&(i=e.props),!hl(i))return null;var o={};return Object.keys(i).forEach(function(s){var l;E8((l=i)===null||l===void 0?void 0:l[s],s,n,r)&&(o[s]=i[s])}),o},T_=function t(e,n){if(e===n)return!0;var r=z.Children.count(e);if(r!==z.Children.count(n))return!1;if(r===0)return!0;if(r===1)return UP(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!UP(o,s))return!1}return!0},UP=function(e,n){if(st(e)&&st(n))return!0;if(!st(e)&&!st(n)){var r=e.props||{},i=r.children,o=$P(r,x8),s=n.props||{},l=s.children,c=$P(s,b8);return i&&l?Iu(o,c)&&T_(i,l):!i&&!l?Iu(o,c):!1}return!1},qP=function(e,n){var r=[],i={};return B1(e).forEach(function(o,s){if(T8(o))r.push(o);else if(o){var l=Zi(o.type),c=n[l]||{},f=c.handler,h=c.once;if(f&&(!h||!i[l])){var m=f(o,l,s);r.push(m),i[l]=!0}}}),r},S8=function(e){var n=e&&e.type;return n&&VP[n]?VP[n]:null},A8=function(e,n){return B1(n).indexOf(e)},I8=["children","width","height","viewBox","className","style","title","desc"];function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_.apply(this,arguments)}function P8(t,e){if(t==null)return{};var n=C8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function C8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function S_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,l=t.title,c=t.desc,f=P8(t,I8),h=i||{width:n,height:r,x:0,y:0},m=at("recharts-surface",o);return K.createElement("svg",E_({},ot(f,!0,"svg"),{className:m,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),K.createElement("title",null,l),K.createElement("desc",null,c),e)}var O8=["children","className"];function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_.apply(this,arguments)}function k8(t,e){if(t==null)return{};var n=N8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function N8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fn=K.forwardRef(function(t,e){var n=t.children,r=t.className,i=k8(t,O8),o=at("recharts-layer",r);return K.createElement("g",A_({className:o},ot(i,!0),{ref:e}),n)}),eo=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},e0,zP;function j8(){if(zP)return e0;zP=1;function t(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+n];return s}return e0=t,e0}var t0,WP;function R8(){if(WP)return t0;WP=1;var t=j8();function e(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:t(n,r,i)}return t0=e,t0}var n0,HP;function YD(){if(HP)return n0;HP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+o+"]");function c(f){return l.test(f)}return n0=c,n0}var r0,GP;function D8(){if(GP)return r0;GP=1;function t(e){return e.split("")}return r0=t,r0}var i0,KP;function M8(){if(KP)return i0;KP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+c+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",S=f+"?",E="["+o+"]?",_="(?:"+b+"(?:"+[h,m,y].join("|")+")"+E+S+")*",P=E+S+_,j="(?:"+[h+l+"?",l,m,y,s].join("|")+")",R=RegExp(c+"(?="+c+")|"+j+P,"g");function D(k){return k.match(R)||[]}return i0=D,i0}var o0,YP;function L8(){if(YP)return o0;YP=1;var t=D8(),e=YD(),n=M8();function r(i){return e(i)?n(i):t(i)}return o0=r,o0}var a0,XP;function $8(){if(XP)return a0;XP=1;var t=R8(),e=YD(),n=L8(),r=WD();function i(o){return function(s){s=r(s);var l=e(s)?n(s):void 0,c=l?l[0]:s.charAt(0),f=l?t(l,1).join(""):s.slice(1);return c[o]()+f}}return a0=i,a0}var s0,QP;function V8(){if(QP)return s0;QP=1;var t=$8(),e=t("toUpperCase");return s0=e,s0}var B8=V8();const km=ht(B8);function bt(t){return function(){return t}}const XD=Math.cos,hp=Math.sin,Wr=Math.sqrt,pp=Math.PI,Nm=2*pp,I_=Math.PI,P_=2*I_,za=1e-6,F8=P_-za;function QD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function U8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return QD;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class q8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?QD:U8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,c=r-e,f=i-n,h=s-e,m=l-n,y=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>za)if(!(Math.abs(m*c-f*h)>za)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-s,S=i-l,E=c*c+f*f,_=b*b+S*S,P=Math.sqrt(E),j=Math.sqrt(y),R=o*Math.tan((I_-Math.acos((E+y-_)/(2*P*j)))/2),D=R/j,k=R/P;Math.abs(D-1)>za&&this._append`L${e+D*h},${n+D*m}`,this._append`A${o},${o},0,0,${+(m*b>h*S)},${this._x1=e+k*c},${this._y1=n+k*f}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=e+l,h=n+c,m=1^s,y=s?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>za||Math.abs(this._y1-h)>za)&&this._append`L${f},${h}`,r&&(y<0&&(y=y%P_+P_),y>F8?this._append`A${r},${r},0,1,${m},${e-l},${n-c}A${r},${r},0,1,${m},${this._x1=f},${this._y1=h}`:y>za&&this._append`A${r},${r},0,${+(y>=I_)},${m},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function F1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new q8(e)}function U1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function JD(t){this._context=t}JD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function jm(t){return new JD(t)}function ZD(t){return t[0]}function eM(t){return t[1]}function tM(t,e){var n=bt(!0),r=null,i=jm,o=null,s=F1(l);t=typeof t=="function"?t:t===void 0?ZD:bt(t),e=typeof e=="function"?e:e===void 0?eM:bt(e);function l(c){var f,h=(c=U1(c)).length,m,y=!1,b;for(r==null&&(o=i(b=s())),f=0;f<=h;++f)!(f<h&&n(m=c[f],f,c))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+t(m,f,c),+e(m,f,c));if(b)return o=null,b+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:bt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:bt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:bt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),l):r},l}function vh(t,e,n){var r=null,i=bt(!0),o=null,s=jm,l=null,c=F1(f);t=typeof t=="function"?t:t===void 0?ZD:bt(+t),e=typeof e=="function"?e:bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?eM:bt(+n);function f(m){var y,b,S,E=(m=U1(m)).length,_,P=!1,j,R=new Array(E),D=new Array(E);for(o==null&&(l=s(j=c())),y=0;y<=E;++y){if(!(y<E&&i(_=m[y],y,m))===P)if(P=!P)b=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),S=y-1;S>=b;--S)l.point(R[S],D[S]);l.lineEnd(),l.areaEnd()}P&&(R[y]=+t(_,y,m),D[y]=+e(_,y,m),l.point(r?+r(_,y,m):R[y],n?+n(_,y,m):D[y]))}if(j)return l=null,j+""||null}function h(){return tM().defined(i).curve(s).context(o)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:bt(+m),r=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:bt(+m),f):t},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:bt(+m),f):r},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:bt(+m),n=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:bt(+m),f):e},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:bt(+m),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:bt(!!m),f):i},f.curve=function(m){return arguments.length?(s=m,o!=null&&(l=s(o)),f):s},f.context=function(m){return arguments.length?(m==null?o=l=null:l=s(o=m),f):o},f}class nM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function z8(t){return new nM(t,!0)}function W8(t){return new nM(t,!1)}const q1={draw(t,e){const n=Wr(e/pp);t.moveTo(n,0),t.arc(0,0,n,0,Nm)}},H8={draw(t,e){const n=Wr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},rM=Wr(1/3),G8=rM*2,K8={draw(t,e){const n=Wr(e/G8),r=n*rM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Y8={draw(t,e){const n=Wr(e),r=-n/2;t.rect(r,r,n,n)}},X8=.8908130915292852,iM=hp(pp/10)/hp(7*pp/10),Q8=hp(Nm/10)*iM,J8=-XD(Nm/10)*iM,Z8={draw(t,e){const n=Wr(e*X8),r=Q8*n,i=J8*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Nm*o/5,l=XD(s),c=hp(s);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},u0=Wr(3),ez={draw(t,e){const n=-Wr(e/(u0*3));t.moveTo(0,n*2),t.lineTo(-u0*n,-n),t.lineTo(u0*n,-n),t.closePath()}},gr=-.5,yr=Wr(3)/2,C_=1/Wr(12),tz=(C_/2+1)*3,nz={draw(t,e){const n=Wr(e/tz),r=n/2,i=n*C_,o=r,s=n*C_+n,l=-o,c=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(l,c),t.lineTo(gr*r-yr*i,yr*r+gr*i),t.lineTo(gr*o-yr*s,yr*o+gr*s),t.lineTo(gr*l-yr*c,yr*l+gr*c),t.lineTo(gr*r+yr*i,gr*i-yr*r),t.lineTo(gr*o+yr*s,gr*s-yr*o),t.lineTo(gr*l+yr*c,gr*c-yr*l),t.closePath()}};function rz(t,e){let n=null,r=F1(i);t=typeof t=="function"?t:bt(t||q1),e=typeof e=="function"?e:bt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:bt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:bt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function mp(){}function gp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function oM(t){this._context=t}oM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iz(t){return new oM(t)}function aM(t){this._context=t}aM.prototype={areaStart:mp,areaEnd:mp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oz(t){return new aM(t)}function sM(t){this._context=t}sM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function az(t){return new sM(t)}function uM(t){this._context=t}uM.prototype={areaStart:mp,areaEnd:mp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function sz(t){return new uM(t)}function JP(t){return t<0?-1:1}function ZP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(o*i+s*r)/(r+i);return(JP(o)+JP(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function eC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function l0(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,l=(o-r)/3;t._context.bezierCurveTo(r+l,i+l*e,o-l,s-l*n,o,s)}function yp(t){this._context=t}yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:l0(this,this._t0,eC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,l0(this,eC(this,n=ZP(this,t,e)),n);break;default:l0(this,this._t0,n=ZP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function lM(t){this._context=new cM(t)}(lM.prototype=Object.create(yp.prototype)).point=function(t,e){yp.prototype.point.call(this,e,t)};function cM(t){this._context=t}cM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function uz(t){return new yp(t)}function lz(t){return new lM(t)}function fM(t){this._context=t}fM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=tC(t),i=tC(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function tC(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function cz(t){return new fM(t)}function Rm(t,e){this._context=t,this._t=e}Rm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function fz(t){return new Rm(t,.5)}function dz(t){return new Rm(t,0)}function hz(t){return new Rm(t,1)}function $u(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,l=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function O_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function pz(t,e){return t[e]}function mz(t){const e=[];return e.key=t,e}function gz(){var t=bt([]),e=O_,n=$u,r=pz;function i(o){var s=Array.from(t.apply(this,arguments),mz),l,c=s.length,f=-1,h;for(const m of o)for(l=0,++f;l<c;++l)(s[l][f]=[0,+r(m,s[l].key,f,o)]).data=m;for(l=0,h=U1(e(s));l<c;++l)s[h[l]].index=l;return n(s,h),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:bt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:bt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?O_:typeof o=="function"?o:bt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??$u,i):n},i}function yz(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}$u(t,e)}}function vz(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}$u(t,e)}}function xz(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var l=0,c=0,f=0;l<s;++l){for(var h=t[e[l]],m=h[r][1]||0,y=h[r-1][1]||0,b=(m-y)/2,S=0;S<l;++S){var E=t[e[S]],_=E[r][1]||0,P=E[r-1][1]||0;b+=_-P}c+=m,f+=b*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,$u(t,e)}}function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}var bz=["type","size","sizeType"];function k_(){return k_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k_.apply(this,arguments)}function nC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nC(Object(n),!0).forEach(function(r){_z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _z(t,e,n){return e=wz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wz(t){var e=Tz(t,"string");return Xc(e)=="symbol"?e:e+""}function Tz(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ez(t,e){if(t==null)return{};var n=Sz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dM={symbolCircle:q1,symbolCross:H8,symbolDiamond:K8,symbolSquare:Y8,symbolStar:Z8,symbolTriangle:ez,symbolWye:nz},Az=Math.PI/180,Iz=function(e){var n="symbol".concat(km(e));return dM[n]||q1},Pz=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Az;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Cz=function(e,n){dM["symbol".concat(km(e))]=n},z1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=Ez(e,bz),f=rC(rC({},c),{},{type:r,size:o,sizeType:l}),h=function(){var _=Iz(r),P=rz().type(_).size(Pz(o,l,r));return P()},m=f.className,y=f.cx,b=f.cy,S=ot(f,!0);return y===+y&&b===+b&&o===+o?K.createElement("path",k_({},S,{className:at("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(b,")"),d:h()})):null};z1.registerSymbol=Cz;function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(this,arguments)}function iC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iC(Object(n),!0).forEach(function(r){Qc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pM(r.key),r)}}function jz(t,e,n){return e&&Nz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rz(t,e,n){return e=vp(e),Dz(t,hM()?Reflect.construct(e,n||[],vp(t).constructor):e.apply(t,n))}function Dz(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mz(t)}function Mz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hM=function(){return!!t})()}function vp(t){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vp(t)}function Lz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j_(t,e)}function j_(t,e){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j_(t,e)}function Qc(t,e,n){return e=pM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pM(t){var e=$z(t,"string");return Vu(e)=="symbol"?e:e+""}function $z(t,e){if(Vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vr=32,W1=(function(t){function e(){return kz(this,e),Rz(this,e,arguments)}return Lz(e,t),jz(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=vr/2,s=vr/6,l=vr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:vr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(vr,"M").concat(2*l,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return K.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(vr/8,"h").concat(vr,"v").concat(vr*3/4,"h").concat(-vr,"z"),className:"recharts-legend-icon"});if(K.isValidElement(r.legendIcon)){var f=Oz({},r);return delete f.legendIcon,K.cloneElement(r.legendIcon,f)}return K.createElement(z1,{fill:c,cx:o,cy:o,size:vr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:vr,height:vr},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(b,S){var E=b.formatter||c,_=at(Qc(Qc({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",b.inactive));if(b.type==="none")return null;var P=Ge(b.value)?null:b.value;eo(!Ge(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=b.inactive?f:b.color;return K.createElement("li",N_({className:_,style:m,key:"legend-item-".concat(S)},dp(r.props,b,S)),K.createElement(S_,{width:s,height:s,viewBox:h,style:y},r.renderIcon(b)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},E?E(P,b,S):P))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(z.PureComponent);Qc(W1,"displayName","Legend");Qc(W1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var c0,oC;function Vz(){if(oC)return c0;oC=1;var t=Im();function e(){this.__data__=new t,this.size=0}return c0=e,c0}var f0,aC;function Bz(){if(aC)return f0;aC=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return f0=t,f0}var d0,sC;function Fz(){if(sC)return d0;sC=1;function t(e){return this.__data__.get(e)}return d0=t,d0}var h0,uC;function Uz(){if(uC)return h0;uC=1;function t(e){return this.__data__.has(e)}return h0=t,h0}var p0,lC;function qz(){if(lC)return p0;lC=1;var t=Im(),e=D1(),n=M1(),r=200;function i(o,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([o,s]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(o,s),this.size=l.size,this}return p0=i,p0}var m0,cC;function mM(){if(cC)return m0;cC=1;var t=Im(),e=Vz(),n=Bz(),r=Fz(),i=Uz(),o=qz();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,m0=s,m0}var g0,fC;function zz(){if(fC)return g0;fC=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return g0=e,g0}var y0,dC;function Wz(){if(dC)return y0;dC=1;function t(e){return this.__data__.has(e)}return y0=t,y0}var v0,hC;function gM(){if(hC)return v0;hC=1;var t=M1(),e=zz(),n=Wz();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,v0=r,v0}var x0,pC;function yM(){if(pC)return x0;pC=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return x0=t,x0}var b0,mC;function vM(){if(mC)return b0;mC=1;function t(e,n){return e.has(n)}return b0=t,b0}var _0,gC;function xM(){if(gC)return _0;gC=1;var t=gM(),e=yM(),n=vM(),r=1,i=2;function o(s,l,c,f,h,m){var y=c&r,b=s.length,S=l.length;if(b!=S&&!(y&&S>b))return!1;var E=m.get(s),_=m.get(l);if(E&&_)return E==l&&_==s;var P=-1,j=!0,R=c&i?new t:void 0;for(m.set(s,l),m.set(l,s);++P<b;){var D=s[P],k=l[P];if(f)var N=y?f(k,D,P,l,s,m):f(D,k,P,s,l,m);if(N!==void 0){if(N)continue;j=!1;break}if(R){if(!e(l,function(A,I){if(!n(R,I)&&(D===A||h(D,A,c,f,m)))return R.push(I)})){j=!1;break}}else if(!(D===k||h(D,k,c,f,m))){j=!1;break}}return m.delete(s),m.delete(l),j}return _0=o,_0}var w0,yC;function Hz(){if(yC)return w0;yC=1;var t=Si(),e=t.Uint8Array;return w0=e,w0}var T0,vC;function Gz(){if(vC)return T0;vC=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return T0=t,T0}var E0,xC;function H1(){if(xC)return E0;xC=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return E0=t,E0}var S0,bC;function Kz(){if(bC)return S0;bC=1;var t=Uf(),e=Hz(),n=R1(),r=xM(),i=Gz(),o=H1(),s=1,l=2,c="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",y="[object Number]",b="[object RegExp]",S="[object Set]",E="[object String]",_="[object Symbol]",P="[object ArrayBuffer]",j="[object DataView]",R=t?t.prototype:void 0,D=R?R.valueOf:void 0;function k(N,A,I,C,V,$,B){switch(I){case j:if(N.byteLength!=A.byteLength||N.byteOffset!=A.byteOffset)return!1;N=N.buffer,A=A.buffer;case P:return!(N.byteLength!=A.byteLength||!$(new e(N),new e(A)));case c:case f:case y:return n(+N,+A);case h:return N.name==A.name&&N.message==A.message;case b:case E:return N==A+"";case m:var L=i;case S:var Q=C&s;if(L||(L=o),N.size!=A.size&&!Q)return!1;var ee=B.get(N);if(ee)return ee==A;C|=l,B.set(N,A);var ae=r(L(N),L(A),C,V,$,B);return B.delete(N),ae;case _:if(D)return D.call(N)==D.call(A)}return!1}return S0=k,S0}var A0,_C;function bM(){if(_C)return A0;_C=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return A0=t,A0}var I0,wC;function Yz(){if(wC)return I0;wC=1;var t=bM(),e=Gn();function n(r,i,o){var s=i(r);return e(r)?s:t(s,o(r))}return I0=n,I0}var P0,TC;function Xz(){if(TC)return P0;TC=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,s=[];++r<i;){var l=e[r];n(l,r,e)&&(s[o++]=l)}return s}return P0=t,P0}var C0,EC;function Qz(){if(EC)return C0;EC=1;function t(){return[]}return C0=t,C0}var O0,SC;function Jz(){if(SC)return O0;SC=1;var t=Xz(),e=Qz(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return r.call(s,l)}))}:e;return O0=o,O0}var k0,AC;function Zz(){if(AC)return k0;AC=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return k0=t,k0}var N0,IC;function e7(){if(IC)return N0;IC=1;var t=fo(),e=ho(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return N0=r,N0}var j0,PC;function G1(){if(PC)return j0;PC=1;var t=e7(),e=ho(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return j0=o,j0}var Ac={exports:{}},R0,CC;function t7(){if(CC)return R0;CC=1;function t(){return!1}return R0=t,R0}Ac.exports;var OC;function _M(){return OC||(OC=1,(function(t,e){var n=Si(),r=t7(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,f=c||r;t.exports=f})(Ac,Ac.exports)),Ac.exports}var D0,kC;function K1(){if(kC)return D0;kC=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return D0=n,D0}var M0,NC;function Y1(){if(NC)return M0;NC=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return M0=e,M0}var L0,jC;function n7(){if(jC)return L0;jC=1;var t=fo(),e=Y1(),n=ho(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",y="[object RegExp]",b="[object Set]",S="[object String]",E="[object WeakMap]",_="[object ArrayBuffer]",P="[object DataView]",j="[object Float32Array]",R="[object Float64Array]",D="[object Int8Array]",k="[object Int16Array]",N="[object Int32Array]",A="[object Uint8Array]",I="[object Uint8ClampedArray]",C="[object Uint16Array]",V="[object Uint32Array]",$={};$[j]=$[R]=$[D]=$[k]=$[N]=$[A]=$[I]=$[C]=$[V]=!0,$[r]=$[i]=$[_]=$[o]=$[P]=$[s]=$[l]=$[c]=$[f]=$[h]=$[m]=$[y]=$[b]=$[S]=$[E]=!1;function B(L){return n(L)&&e(L.length)&&!!$[t(L)]}return L0=B,L0}var $0,RC;function wM(){if(RC)return $0;RC=1;function t(e){return function(n){return e(n)}}return $0=t,$0}var Ic={exports:{}};Ic.exports;var DC;function r7(){return DC||(DC=1,(function(t,e){var n=UD(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=l})(Ic,Ic.exports)),Ic.exports}var V0,MC;function TM(){if(MC)return V0;MC=1;var t=n7(),e=wM(),n=r7(),r=n&&n.isTypedArray,i=r?e(r):t;return V0=i,V0}var B0,LC;function i7(){if(LC)return B0;LC=1;var t=Zz(),e=G1(),n=Gn(),r=_M(),i=K1(),o=TM(),s=Object.prototype,l=s.hasOwnProperty;function c(f,h){var m=n(f),y=!m&&e(f),b=!m&&!y&&r(f),S=!m&&!y&&!b&&o(f),E=m||y||b||S,_=E?t(f.length,String):[],P=_.length;for(var j in f)(h||l.call(f,j))&&!(E&&(j=="length"||b&&(j=="offset"||j=="parent")||S&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||i(j,P)))&&_.push(j);return _}return B0=c,B0}var F0,$C;function o7(){if($C)return F0;$C=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return F0=e,F0}var U0,VC;function EM(){if(VC)return U0;VC=1;function t(e,n){return function(r){return e(n(r))}}return U0=t,U0}var q0,BC;function a7(){if(BC)return q0;BC=1;var t=EM(),e=t(Object.keys,Object);return q0=e,q0}var z0,FC;function s7(){if(FC)return z0;FC=1;var t=o7(),e=a7(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var l in Object(o))r.call(o,l)&&l!="constructor"&&s.push(l);return s}return z0=i,z0}var W0,UC;function zf(){if(UC)return W0;UC=1;var t=j1(),e=Y1();function n(r){return r!=null&&e(r.length)&&!t(r)}return W0=n,W0}var H0,qC;function Dm(){if(qC)return H0;qC=1;var t=i7(),e=s7(),n=zf();function r(i){return n(i)?t(i):e(i)}return H0=r,H0}var G0,zC;function u7(){if(zC)return G0;zC=1;var t=Yz(),e=Jz(),n=Dm();function r(i){return t(i,n,e)}return G0=r,G0}var K0,WC;function l7(){if(WC)return K0;WC=1;var t=u7(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,l,c,f,h){var m=l&e,y=t(o),b=y.length,S=t(s),E=S.length;if(b!=E&&!m)return!1;for(var _=b;_--;){var P=y[_];if(!(m?P in s:r.call(s,P)))return!1}var j=h.get(o),R=h.get(s);if(j&&R)return j==s&&R==o;var D=!0;h.set(o,s),h.set(s,o);for(var k=m;++_<b;){P=y[_];var N=o[P],A=s[P];if(c)var I=m?c(A,N,P,s,o,h):c(N,A,P,o,s,h);if(!(I===void 0?N===A||f(N,A,l,c,h):I)){D=!1;break}k||(k=P=="constructor")}if(D&&!k){var C=o.constructor,V=s.constructor;C!=V&&"constructor"in o&&"constructor"in s&&!(typeof C=="function"&&C instanceof C&&typeof V=="function"&&V instanceof V)&&(D=!1)}return h.delete(o),h.delete(s),D}return K0=i,K0}var Y0,HC;function c7(){if(HC)return Y0;HC=1;var t=bs(),e=Si(),n=t(e,"DataView");return Y0=n,Y0}var X0,GC;function f7(){if(GC)return X0;GC=1;var t=bs(),e=Si(),n=t(e,"Promise");return X0=n,X0}var Q0,KC;function SM(){if(KC)return Q0;KC=1;var t=bs(),e=Si(),n=t(e,"Set");return Q0=n,Q0}var J0,YC;function d7(){if(YC)return J0;YC=1;var t=bs(),e=Si(),n=t(e,"WeakMap");return J0=n,J0}var Z0,XC;function h7(){if(XC)return Z0;XC=1;var t=c7(),e=D1(),n=f7(),r=SM(),i=d7(),o=fo(),s=qD(),l="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",y="[object DataView]",b=s(t),S=s(e),E=s(n),_=s(r),P=s(i),j=o;return(t&&j(new t(new ArrayBuffer(1)))!=y||e&&j(new e)!=l||n&&j(n.resolve())!=f||r&&j(new r)!=h||i&&j(new i)!=m)&&(j=function(R){var D=o(R),k=D==c?R.constructor:void 0,N=k?s(k):"";if(N)switch(N){case b:return y;case S:return l;case E:return f;case _:return h;case P:return m}return D}),Z0=j,Z0}var ex,QC;function p7(){if(QC)return ex;QC=1;var t=mM(),e=xM(),n=Kz(),r=l7(),i=h7(),o=Gn(),s=_M(),l=TM(),c=1,f="[object Arguments]",h="[object Array]",m="[object Object]",y=Object.prototype,b=y.hasOwnProperty;function S(E,_,P,j,R,D){var k=o(E),N=o(_),A=k?h:i(E),I=N?h:i(_);A=A==f?m:A,I=I==f?m:I;var C=A==m,V=I==m,$=A==I;if($&&s(E)){if(!s(_))return!1;k=!0,C=!1}if($&&!C)return D||(D=new t),k||l(E)?e(E,_,P,j,R,D):n(E,_,A,P,j,R,D);if(!(P&c)){var B=C&&b.call(E,"__wrapped__"),L=V&&b.call(_,"__wrapped__");if(B||L){var Q=B?E.value():E,ee=L?_.value():_;return D||(D=new t),R(Q,ee,P,j,D)}}return $?(D||(D=new t),r(E,_,P,j,R,D)):!1}return ex=S,ex}var tx,JC;function X1(){if(JC)return tx;JC=1;var t=p7(),e=ho();function n(r,i,o,s,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,s,n,l)}return tx=n,tx}var nx,ZC;function m7(){if(ZC)return nx;ZC=1;var t=mM(),e=X1(),n=1,r=2;function i(o,s,l,c){var f=l.length,h=f,m=!c;if(o==null)return!h;for(o=Object(o);f--;){var y=l[f];if(m&&y[2]?y[1]!==o[y[0]]:!(y[0]in o))return!1}for(;++f<h;){y=l[f];var b=y[0],S=o[b],E=y[1];if(m&&y[2]){if(S===void 0&&!(b in o))return!1}else{var _=new t;if(c)var P=c(S,E,b,o,s,_);if(!(P===void 0?e(E,S,n|r,c,_):P))return!1}}return!0}return nx=i,nx}var rx,eO;function AM(){if(eO)return rx;eO=1;var t=ca();function e(n){return n===n&&!t(n)}return rx=e,rx}var ix,tO;function g7(){if(tO)return ix;tO=1;var t=AM(),e=Dm();function n(r){for(var i=e(r),o=i.length;o--;){var s=i[o],l=r[s];i[o]=[s,l,t(l)]}return i}return ix=n,ix}var ox,nO;function IM(){if(nO)return ox;nO=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return ox=t,ox}var ax,rO;function y7(){if(rO)return ax;rO=1;var t=m7(),e=g7(),n=IM();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return ax=r,ax}var sx,iO;function v7(){if(iO)return sx;iO=1;function t(e,n){return e!=null&&n in Object(e)}return sx=t,sx}var ux,oO;function x7(){if(oO)return ux;oO=1;var t=HD(),e=G1(),n=Gn(),r=K1(),i=Y1(),o=Cm();function s(l,c,f){c=t(c,l);for(var h=-1,m=c.length,y=!1;++h<m;){var b=o(c[h]);if(!(y=l!=null&&f(l,b)))break;l=l[b]}return y||++h!=m?y:(m=l==null?0:l.length,!!m&&i(m)&&r(b,m)&&(n(l)||e(l)))}return ux=s,ux}var lx,aO;function b7(){if(aO)return lx;aO=1;var t=v7(),e=x7();function n(r,i){return r!=null&&e(r,i,t)}return lx=n,lx}var cx,sO;function _7(){if(sO)return cx;sO=1;var t=X1(),e=GD(),n=b7(),r=N1(),i=AM(),o=IM(),s=Cm(),l=1,c=2;function f(h,m){return r(h)&&i(m)?o(s(h),m):function(y){var b=e(y,h);return b===void 0&&b===m?n(y,h):t(m,b,l|c)}}return cx=f,cx}var fx,uO;function pl(){if(uO)return fx;uO=1;function t(e){return e}return fx=t,fx}var dx,lO;function w7(){if(lO)return dx;lO=1;function t(e){return function(n){return n==null?void 0:n[e]}}return dx=t,dx}var hx,cO;function T7(){if(cO)return hx;cO=1;var t=$1();function e(n){return function(r){return t(r,n)}}return hx=e,hx}var px,fO;function E7(){if(fO)return px;fO=1;var t=w7(),e=T7(),n=N1(),r=Cm();function i(o){return n(o)?t(r(o)):e(o)}return px=i,px}var mx,dO;function fa(){if(dO)return mx;dO=1;var t=y7(),e=_7(),n=pl(),r=Gn(),i=E7();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return mx=o,mx}var gx,hO;function PM(){if(hO)return gx;hO=1;function t(e,n,r,i){for(var o=e.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(e[s],s,e))return s;return-1}return gx=t,gx}var yx,pO;function S7(){if(pO)return yx;pO=1;function t(e){return e!==e}return yx=t,yx}var vx,mO;function A7(){if(mO)return vx;mO=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return vx=t,vx}var xx,gO;function I7(){if(gO)return xx;gO=1;var t=PM(),e=S7(),n=A7();function r(i,o,s){return o===o?n(i,o,s):t(i,e,s)}return xx=r,xx}var bx,yO;function P7(){if(yO)return bx;yO=1;var t=I7();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return bx=e,bx}var _x,vO;function C7(){if(vO)return _x;vO=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return _x=t,_x}var wx,xO;function O7(){if(xO)return wx;xO=1;function t(){}return wx=t,wx}var Tx,bO;function k7(){if(bO)return Tx;bO=1;var t=SM(),e=O7(),n=H1(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return Tx=i,Tx}var Ex,_O;function N7(){if(_O)return Ex;_O=1;var t=gM(),e=P7(),n=C7(),r=vM(),i=k7(),o=H1(),s=200;function l(c,f,h){var m=-1,y=e,b=c.length,S=!0,E=[],_=E;if(h)S=!1,y=n;else if(b>=s){var P=f?null:i(c);if(P)return o(P);S=!1,y=r,_=new t}else _=f?[]:E;e:for(;++m<b;){var j=c[m],R=f?f(j):j;if(j=h||j!==0?j:0,S&&R===R){for(var D=_.length;D--;)if(_[D]===R)continue e;f&&_.push(R),E.push(j)}else y(_,R,h)||(_!==E&&_.push(R),E.push(j))}return E}return Ex=l,Ex}var Sx,wO;function j7(){if(wO)return Sx;wO=1;var t=fa(),e=N7();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return Sx=n,Sx}var R7=j7();const TO=ht(R7);function CM(t,e,n){return e===!0?TO(t,n):Ge(e)?TO(t,e):t}function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}var D7=["ref"];function EO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(n),!0).forEach(function(r){Mm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kM(r.key),r)}}function L7(t,e,n){return e&&SO(t.prototype,e),n&&SO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $7(t,e,n){return e=xp(e),V7(t,OM()?Reflect.construct(e,n||[],xp(t).constructor):e.apply(t,n))}function V7(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B7(t)}function B7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OM=function(){return!!t})()}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xp(t)}function F7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R_(t,e)}function R_(t,e){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R_(t,e)}function Mm(t,e,n){return e=kM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kM(t){var e=U7(t,"string");return Bu(e)=="symbol"?e:e+""}function U7(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function q7(t,e){if(t==null)return{};var n=z7(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W7(t){return t.value}function H7(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var n=q7(e,D7);return K.createElement(W1,n)}var AO=1,Pu=(function(t){function e(){var n;M7(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=$7(this,e,[].concat(i)),Mm(n,"lastBoundingBox",{width:-1,height:-1}),n}return F7(e,t),L7(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>AO||Math.abs(i.height-this.lastBoundingBox.height)>AO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Hi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,m,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var b=this.getBBoxSnapshot();m={left:((f||0)-b.width)/2}}else m=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var S=this.getBBoxSnapshot();y={top:((h||0)-S.height)/2}}else y=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Hi(Hi({},m),y)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,l=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,m=Hi(Hi({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return K.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(b){r.wrapperNode=b}},H7(o,Hi(Hi({},this.props),{},{payload:CM(h,f,W7)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Hi(Hi({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&xe(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])})(z.PureComponent);Mm(Pu,"displayName","Legend");Mm(Pu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ax,IO;function G7(){if(IO)return Ax;IO=1;var t=Uf(),e=G1(),n=Gn(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return Ax=i,Ax}var Ix,PO;function NM(){if(PO)return Ix;PO=1;var t=bM(),e=G7();function n(r,i,o,s,l){var c=-1,f=r.length;for(o||(o=e),l||(l=[]);++c<f;){var h=r[c];i>0&&o(h)?i>1?n(h,i-1,o,s,l):t(l,h):s||(l[l.length]=h)}return l}return Ix=n,Ix}var Px,CO;function K7(){if(CO)return Px;CO=1;function t(e){return function(n,r,i){for(var o=-1,s=Object(n),l=i(n),c=l.length;c--;){var f=l[e?c:++o];if(r(s[f],f,s)===!1)break}return n}}return Px=t,Px}var Cx,OO;function Y7(){if(OO)return Cx;OO=1;var t=K7(),e=t();return Cx=e,Cx}var Ox,kO;function jM(){if(kO)return Ox;kO=1;var t=Y7(),e=Dm();function n(r,i){return r&&t(r,i,e)}return Ox=n,Ox}var kx,NO;function X7(){if(NO)return kx;NO=1;var t=zf();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var s=i.length,l=r?s:-1,c=Object(i);(r?l--:++l<s)&&o(c[l],l,c)!==!1;);return i}}return kx=e,kx}var Nx,jO;function Q1(){if(jO)return Nx;jO=1;var t=jM(),e=X7(),n=e(t);return Nx=n,Nx}var jx,RO;function RM(){if(RO)return jx;RO=1;var t=Q1(),e=zf();function n(r,i){var o=-1,s=e(r)?Array(r.length):[];return t(r,function(l,c,f){s[++o]=i(l,c,f)}),s}return jx=n,jx}var Rx,DO;function Q7(){if(DO)return Rx;DO=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return Rx=t,Rx}var Dx,MO;function J7(){if(MO)return Dx;MO=1;var t=dl();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,l=t(n),c=r!==void 0,f=r===null,h=r===r,m=t(r);if(!f&&!m&&!l&&n>r||l&&c&&h&&!f&&!m||o&&c&&h||!i&&h||!s)return 1;if(!o&&!l&&!m&&n<r||m&&i&&s&&!o&&!l||f&&i&&s||!c&&s||!h)return-1}return 0}return Dx=e,Dx}var Mx,LO;function Z7(){if(LO)return Mx;LO=1;var t=J7();function e(n,r,i){for(var o=-1,s=n.criteria,l=r.criteria,c=s.length,f=i.length;++o<c;){var h=t(s[o],l[o]);if(h){if(o>=f)return h;var m=i[o];return h*(m=="desc"?-1:1)}}return n.index-r.index}return Mx=e,Mx}var Lx,$O;function eW(){if($O)return Lx;$O=1;var t=L1(),e=$1(),n=fa(),r=RM(),i=Q7(),o=wM(),s=Z7(),l=pl(),c=Gn();function f(h,m,y){m.length?m=t(m,function(E){return c(E)?function(_){return e(_,E.length===1?E[0]:E)}:E}):m=[l];var b=-1;m=t(m,o(n));var S=r(h,function(E,_,P){var j=t(m,function(R){return R(E)});return{criteria:j,index:++b,value:E}});return i(S,function(E,_){return s(E,_,y)})}return Lx=f,Lx}var $x,VO;function tW(){if(VO)return $x;VO=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return $x=t,$x}var Vx,BO;function nW(){if(BO)return Vx;BO=1;var t=tW(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,l=-1,c=e(s.length-i,0),f=Array(c);++l<c;)f[l]=s[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=s[l];return h[i]=o(f),t(r,this,h)}}return Vx=n,Vx}var Bx,FO;function rW(){if(FO)return Bx;FO=1;function t(e){return function(){return e}}return Bx=t,Bx}var Fx,UO;function DM(){if(UO)return Fx;UO=1;var t=bs(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Fx=e,Fx}var Ux,qO;function iW(){if(qO)return Ux;qO=1;var t=rW(),e=DM(),n=pl(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return Ux=r,Ux}var qx,zO;function oW(){if(zO)return qx;zO=1;var t=800,e=16,n=Date.now;function r(i){var o=0,s=0;return function(){var l=n(),c=e-(l-s);if(s=l,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return qx=r,qx}var zx,WO;function aW(){if(WO)return zx;WO=1;var t=iW(),e=oW(),n=e(t);return zx=n,zx}var Wx,HO;function sW(){if(HO)return Wx;HO=1;var t=pl(),e=nW(),n=aW();function r(i,o){return n(e(i,o,t),i+"")}return Wx=r,Wx}var Hx,GO;function Lm(){if(GO)return Hx;GO=1;var t=R1(),e=zf(),n=K1(),r=ca();function i(o,s,l){if(!r(l))return!1;var c=typeof s;return(c=="number"?e(l)&&n(s,l.length):c=="string"&&s in l)?t(l[s],o):!1}return Hx=i,Hx}var Gx,KO;function uW(){if(KO)return Gx;KO=1;var t=NM(),e=eW(),n=sW(),r=Lm(),i=n(function(o,s){if(o==null)return[];var l=s.length;return l>1&&r(o,s[0],s[1])?s=[]:l>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(o,t(s,1),[])});return Gx=i,Gx}var lW=uW();const J1=ht(lW);function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D_.apply(this,arguments)}function cW(t,e){return pW(t)||hW(t,e)||dW(t,e)||fW()}function fW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dW(t,e){if(t){if(typeof t=="string")return YO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YO(t,e)}}function YO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function pW(t){if(Array.isArray(t))return t}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){mW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mW(t,e,n){return e=gW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gW(t){var e=yW(t,"string");return Jc(e)=="symbol"?e:e+""}function yW(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vW(t){return Array.isArray(t)&&nn(t[0])&&nn(t[1])?t.join(" ~ "):t}var xW=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,m=e.formatter,y=e.itemSorter,b=e.wrapperClassName,S=e.labelClassName,E=e.label,_=e.labelFormatter,P=e.accessibilityLayer,j=P===void 0?!1:P,R=function(){if(h&&h.length){var B={padding:0,margin:0},L=(y?J1(h,y):h).map(function(Q,ee){if(Q.type==="none")return null;var ae=Kx({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},l),se=Q.formatter||m||vW,J=Q.value,ie=Q.name,re=J,q=ie;if(se&&re!=null&&q!=null){var G=se(J,ie,Q,ee,h);if(Array.isArray(G)){var ge=cW(G,2);re=ge[0],q=ge[1]}else re=G}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:ae},nn(q)?K.createElement("span",{className:"recharts-tooltip-item-name"},q):null,nn(q)?K.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,K.createElement("span",{className:"recharts-tooltip-item-value"},re),K.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:B},L)}return null},D=Kx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),k=Kx({margin:0},f),N=!st(E),A=N?E:"",I=at("recharts-default-tooltip",b),C=at("recharts-tooltip-label",S);N&&_&&h!==void 0&&h!==null&&(A=_(E,h));var V=j?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",D_({className:I,style:D},V),K.createElement("p",{className:C,style:k},K.isValidElement(A)?A:"".concat(A)),R())};function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function xh(t,e,n){return e=bW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bW(t){var e=_W(t,"string");return Zc(e)=="symbol"?e:e+""}function _W(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fc="recharts-tooltip-wrapper",wW={visibility:"hidden"};function TW(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return at(fc,xh(xh(xh(xh({},"".concat(fc,"-right"),xe(n)&&e&&xe(e.x)&&n>=e.x),"".concat(fc,"-left"),xe(n)&&e&&xe(e.x)&&n<e.x),"".concat(fc,"-bottom"),xe(r)&&e&&xe(e.y)&&r>=e.y),"".concat(fc,"-top"),xe(r)&&e&&xe(e.y)&&r<e.y))}function QO(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(o&&xe(o[r]))return o[r];var h=n[r]-l-i,m=n[r]+i;if(e[r])return s[r]?h:m;if(s[r]){var y=h,b=c[r];return y<b?Math.max(m,c[r]):Math.max(h,c[r])}var S=m+l,E=c[r]+f;return S>E?Math.max(h,c[r]):Math.max(m,c[r])}function EW(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function SW(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,f,h,m;return s.height>0&&s.width>0&&n?(h=QO({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=QO({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=EW({translateX:h,translateY:m,useTranslate3d:l})):f=wW,{cssProperties:f,cssClasses:TW({translateX:h,translateY:m,coordinate:n})}}function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function JO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(n),!0).forEach(function(r){L_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LM(r.key),r)}}function PW(t,e,n){return e&&IW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CW(t,e,n){return e=bp(e),OW(t,MM()?Reflect.construct(e,n||[],bp(t).constructor):e.apply(t,n))}function OW(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kW(t)}function kW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MM=function(){return!!t})()}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bp(t)}function NW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(t,e)}function L_(t,e,n){return e=LM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LM(t){var e=jW(t,"string");return Fu(e)=="symbol"?e:e+""}function jW(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ek=1,RW=(function(t){function e(){var n;AW(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=CW(this,e,[].concat(i)),L_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),L_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,f,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(f=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),n}return NW(e,t),PW(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>ek||Math.abs(r.height-this.state.lastBoundingBox.height)>ek)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,m=i.hasPayload,y=i.isAnimationActive,b=i.offset,S=i.position,E=i.reverseDirection,_=i.useTranslate3d,P=i.viewBox,j=i.wrapperStyle,R=SW({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:b,position:S,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:P}),D=R.cssClasses,k=R.cssProperties,N=ZO(ZO({transition:y&&o?"transform ".concat(l,"ms ").concat(c):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&m?"visible":"hidden",position:"absolute",top:0,left:0},j);return K.createElement("div",{tabIndex:-1,className:D,style:N,ref:function(I){r.wrapperNode=I}},f)}}])})(z.PureComponent),DW=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Wf={isSsr:DW()};function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){Z1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VM(r.key),r)}}function $W(t,e,n){return e&&LW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VW(t,e,n){return e=_p(e),BW(t,$M()?Reflect.construct(e,n||[],_p(t).constructor):e.apply(t,n))}function BW(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FW(t)}function FW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $M(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($M=function(){return!!t})()}function _p(t){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_p(t)}function UW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function Z1(t,e,n){return e=VM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VM(t){var e=qW(t,"string");return Uu(e)=="symbol"?e:e+""}function qW(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zW(t){return t.dataKey}function WW(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(xW,e)}var fi=(function(t){function e(){return MW(this,e),VW(this,e,arguments)}return UW(e,t),$W(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,m=i.filterNull,y=i.isAnimationActive,b=i.offset,S=i.payload,E=i.payloadUniqBy,_=i.position,P=i.reverseDirection,j=i.useTranslate3d,R=i.viewBox,D=i.wrapperStyle,k=S??[];m&&k.length&&(k=CM(S.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),E,zW));var N=k.length>0;return K.createElement(RW,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:y,active:o,coordinate:h,hasPayload:N,offset:b,position:_,reverseDirection:P,useTranslate3d:j,viewBox:R,wrapperStyle:D},WW(f,nk(nk({},this.props),{},{payload:k})))}}])})(z.PureComponent);Z1(fi,"displayName","Tooltip");Z1(fi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Wf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Yx,rk;function HW(){if(rk)return Yx;rk=1;var t=Si(),e=function(){return t.Date.now()};return Yx=e,Yx}var Xx,ik;function GW(){if(ik)return Xx;ik=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Xx=e,Xx}var Qx,ok;function KW(){if(ok)return Qx;ok=1;var t=GW(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Qx=n,Qx}var Jx,ak;function BM(){if(ak)return Jx;ak=1;var t=KW(),e=ca(),n=dl(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=o.test(f);return m||s.test(f)?l(f.slice(2),m?2:8):i.test(f)?r:+f}return Jx=c,Jx}var Zx,sk;function YW(){if(sk)return Zx;sk=1;var t=ca(),e=HW(),n=BM(),r="Expected a function",i=Math.max,o=Math.min;function s(l,c,f){var h,m,y,b,S,E,_=0,P=!1,j=!1,R=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(P=!!f.leading,j="maxWait"in f,y=j?i(n(f.maxWait)||0,c):y,R="trailing"in f?!!f.trailing:R);function D(L){var Q=h,ee=m;return h=m=void 0,_=L,b=l.apply(ee,Q),b}function k(L){return _=L,S=setTimeout(I,c),P?D(L):b}function N(L){var Q=L-E,ee=L-_,ae=c-Q;return j?o(ae,y-ee):ae}function A(L){var Q=L-E,ee=L-_;return E===void 0||Q>=c||Q<0||j&&ee>=y}function I(){var L=e();if(A(L))return C(L);S=setTimeout(I,N(L))}function C(L){return S=void 0,R&&h?D(L):(h=m=void 0,b)}function V(){S!==void 0&&clearTimeout(S),_=0,h=E=m=S=void 0}function $(){return S===void 0?b:C(e())}function B(){var L=e(),Q=A(L);if(h=arguments,m=this,E=L,Q){if(S===void 0)return k(E);if(j)return clearTimeout(S),S=setTimeout(I,c),D(E)}return S===void 0&&(S=setTimeout(I,c)),b}return B.cancel=V,B.flush=$,B}return Zx=s,Zx}var eb,uk;function XW(){if(uk)return eb;uk=1;var t=YW(),e=ca(),n="Expected a function";function r(i,o,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(i,o,{leading:l,maxWait:o,trailing:c})}return eb=r,eb}var QW=XW();const FM=ht(QW);function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){JW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JW(t,e,n){return e=ZW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZW(t){var e=eH(t,"string");return ef(e)=="symbol"?e:e+""}function eH(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tH(t,e){return oH(t)||iH(t,e)||rH(t,e)||nH()}function nH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rH(t,e){if(t){if(typeof t=="string")return ck(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ck(t,e)}}function ck(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function oH(t){if(Array.isArray(t))return t}var aH=z.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,l=t.height,c=l===void 0?"100%":l,f=t.minWidth,h=f===void 0?0:f,m=t.minHeight,y=t.maxHeight,b=t.children,S=t.debounce,E=S===void 0?0:S,_=t.id,P=t.className,j=t.onResize,R=t.style,D=R===void 0?{}:R,k=z.useRef(null),N=z.useRef();N.current=j,z.useImperativeHandle(e,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var A=z.useState({containerWidth:i.width,containerHeight:i.height}),I=tH(A,2),C=I[0],V=I[1],$=z.useCallback(function(L,Q){V(function(ee){var ae=Math.round(L),se=Math.round(Q);return ee.containerWidth===ae&&ee.containerHeight===se?ee:{containerWidth:ae,containerHeight:se}})},[]);z.useEffect(function(){var L=function(ie){var re,q=ie[0].contentRect,G=q.width,ge=q.height;$(G,ge),(re=N.current)===null||re===void 0||re.call(N,G,ge)};E>0&&(L=FM(L,E,{trailing:!0,leading:!1}));var Q=new ResizeObserver(L),ee=k.current.getBoundingClientRect(),ae=ee.width,se=ee.height;return $(ae,se),Q.observe(k.current),function(){Q.disconnect()}},[$,E]);var B=z.useMemo(function(){var L=C.containerWidth,Q=C.containerHeight;if(L<0||Q<0)return null;eo(Ka(s)||Ka(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),eo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ee=Ka(s)?L:s,ae=Ka(c)?Q:c;n&&n>0&&(ee?ae=ee/n:ae&&(ee=ae*n),y&&ae>y&&(ae=y)),eo(ee>0||ae>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,ae,s,c,h,m,n);var se=!Array.isArray(b)&&Zi(b.type).endsWith("Chart");return K.Children.map(b,function(J){return K.isValidElement(J)?z.cloneElement(J,bh({width:ee,height:ae},se?{style:bh({height:"100%",width:"100%",maxHeight:ae,maxWidth:ee},J.props.style)}:{})):J})},[n,b,c,y,m,h,C,s]);return K.createElement("div",{id:_?"".concat(_):void 0,className:at("recharts-responsive-container",P),style:bh(bh({},D),{},{width:s,height:c,minWidth:h,minHeight:m,maxHeight:y}),ref:k},B)}),eT=function(e){return null};eT.displayName="Cell";function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){sH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sH(t,e,n){return e=uH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uH(t){var e=lH(t,"string");return tf(e)=="symbol"?e:e+""}function lH(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cu={widthCache:{},cacheCount:0},cH=2e3,fH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dk="recharts_measurement_span";function dH(t){var e=V_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Dc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Wf.isSsr)return{width:0,height:0};var r=dH(n),i=JSON.stringify({text:e,copyStyle:r});if(cu.widthCache[i])return cu.widthCache[i];try{var o=document.getElementById(dk);o||(o=document.createElement("span"),o.setAttribute("id",dk),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=V_(V_({},fH),r);Object.assign(o.style,s),o.textContent="".concat(e);var l=o.getBoundingClientRect(),c={width:l.width,height:l.height};return cu.widthCache[i]=c,++cu.cacheCount>cH&&(cu.cacheCount=0,cu.widthCache={}),c}catch{return{width:0,height:0}}},hH=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function wp(t,e){return yH(t)||gH(t,e)||mH(t,e)||pH()}function pH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mH(t,e){if(t){if(typeof t=="string")return hk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hk(t,e)}}function hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function yH(t){if(Array.isArray(t))return t}function vH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bH(r.key),r)}}function xH(t,e,n){return e&&pk(t.prototype,e),n&&pk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bH(t){var e=_H(t,"string");return nf(e)=="symbol"?e:e+""}function _H(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,TH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},EH=Object.keys(UM),vu="NaN";function SH(t,e){return t*UM[e]}var _h=(function(){function t(e,n){vH(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!wH.test(n)&&(this.num=NaN,this.unit=""),EH.includes(n)&&(this.num=SH(e,n),this.unit="px")}return xH(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=TH.exec(n))!==null&&r!==void 0?r:[],o=wp(i,3),s=o[1],l=o[2];return new t(parseFloat(s),l??"")}}])})();function qM(t){if(t.includes(vu))return vu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=mk.exec(e))!==null&&n!==void 0?n:[],i=wp(r,4),o=i[1],s=i[2],l=i[3],c=_h.parse(o??""),f=_h.parse(l??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return vu;e=e.replace(mk,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,y=(m=gk.exec(e))!==null&&m!==void 0?m:[],b=wp(y,4),S=b[1],E=b[2],_=b[3],P=_h.parse(S??""),j=_h.parse(_??""),R=E==="+"?P.add(j):P.subtract(j);if(R.isNaN())return vu;e=e.replace(gk,R.toString())}return e}var yk=/\(([^()]*)\)/;function AH(t){for(var e=t;e.includes("(");){var n=yk.exec(e),r=wp(n,2),i=r[1];e=e.replace(yk,qM(i))}return e}function IH(t){var e=t.replace(/\s+/g,"");return e=AH(e),e=qM(e),e}function PH(t){try{return IH(t)}catch{return vu}}function tb(t){var e=PH(t.slice(5,-1));return e===vu?"":e}var CH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],OH=["dx","dy","angle","className","breakAll"];function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B_.apply(this,arguments)}function vk(t,e){if(t==null)return{};var n=kH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xk(t,e){return DH(t)||RH(t,e)||jH(t,e)||NH()}function NH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jH(t,e){if(t){if(typeof t=="string")return bk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bk(t,e)}}function bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function DH(t){if(Array.isArray(t))return t}var zM=/[ \f\n\r\t\v\u2028\u2029]+/,WM=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];st(n)||(r?o=n.toString().split(""):o=n.toString().split(zM));var s=o.map(function(c){return{word:c,width:Dc(c,i).width}}),l=r?0:Dc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},MH=function(e,n,r,i,o){var s=e.maxLines,l=e.children,c=e.style,f=e.breakAll,h=xe(s),m=l,y=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee.reduce(function(ae,se){var J=se.word,ie=se.width,re=ae[ae.length-1];if(re&&(i==null||o||re.width+ie+r<Number(i)))re.words.push(J),re.width+=ie+r;else{var q={words:[J],width:ie};ae.push(q)}return ae},[])},b=y(n),S=function(ee){return ee.reduce(function(ae,se){return ae.width>se.width?ae:se})};if(!h)return b;for(var E="",_=function(ee){var ae=m.slice(0,ee),se=WM({breakAll:f,style:c,children:ae+E}).wordsWithComputedWidth,J=y(se),ie=J.length>s||S(J).width>Number(i);return[ie,J]},P=0,j=m.length-1,R=0,D;P<=j&&R<=m.length-1;){var k=Math.floor((P+j)/2),N=k-1,A=_(N),I=xk(A,2),C=I[0],V=I[1],$=_(k),B=xk($,1),L=B[0];if(!C&&!L&&(P=k+1),C&&L&&(j=k-1),!C&&L){D=V;break}R++}return D||b},_k=function(e){var n=st(e)?[]:e.toString().split(zM);return[{words:n}]},LH=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,l=e.maxLines;if((n||r)&&!Wf.isSsr){var c,f,h=WM({breakAll:s,children:i,style:o});if(h){var m=h.wordsWithComputedWidth,y=h.spaceWidth;c=m,f=y}else return _k(i);return MH({breakAll:s,children:i,maxLines:l,style:o},c,f,n,r)}return _k(i)},wk="#808080",Tp=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,m=h===void 0?!1:h,y=e.textAnchor,b=y===void 0?"start":y,S=e.verticalAnchor,E=S===void 0?"end":S,_=e.fill,P=_===void 0?wk:_,j=vk(e,CH),R=z.useMemo(function(){return LH({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:m,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,m,j.style,j.width]),D=j.dx,k=j.dy,N=j.angle,A=j.className,I=j.breakAll,C=vk(j,OH);if(!nn(r)||!nn(o))return null;var V=r+(xe(D)?D:0),$=o+(xe(k)?k:0),B;switch(E){case"start":B=tb("calc(".concat(f,")"));break;case"middle":B=tb("calc(".concat((R.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:B=tb("calc(".concat(R.length-1," * -").concat(l,")"));break}var L=[];if(m){var Q=R[0].width,ee=j.width;L.push("scale(".concat((xe(ee)?ee/Q:1)/Q,")"))}return N&&L.push("rotate(".concat(N,", ").concat(V,", ").concat($,")")),L.length&&(C.transform=L.join(" ")),K.createElement("text",B_({},ot(C,!0),{x:V,y:$,className:at("recharts-text",A),textAnchor:b,fill:P.includes("url")?wk:P}),R.map(function(ae,se){var J=ae.words.join(I?"":" ");return K.createElement("tspan",{x:V,dy:se===0?B:l,key:"".concat(J,"-").concat(se)},J)}))};function na(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $H(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tT(t){let e,n,r;t.length!==2?(e=na,n=(l,c)=>na(t(l),c),r=(l,c)=>t(l)-c):(e=t===na||t===$H?t:VH,n=t,r=t);function i(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(l[m],c)<0?f=m+1:h=m}while(f<h)}return f}function o(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(l[m],c)<=0?f=m+1:h=m}while(f<h)}return f}function s(l,c,f=0,h=l.length){const m=i(l,c,f,h-1);return m>f&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:i,center:s,right:o}}function VH(){return 0}function HM(t){return t===null?NaN:+t}function*BH(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const FH=tT(na),Hf=FH.right;tT(HM).center;class Tk extends Map{constructor(e,n=zH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Ek(this,e))}has(e){return super.has(Ek(this,e))}set(e,n){return super.set(UH(this,e),n)}delete(e){return super.delete(qH(this,e))}}function Ek({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function UH({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function qH({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function zH(t){return t!==null&&typeof t=="object"?t.valueOf():t}function WH(t=na){if(t===na)return GM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function GM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const HH=Math.sqrt(50),GH=Math.sqrt(10),KH=Math.sqrt(2);function Ep(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=HH?10:o>=GH?5:o>=KH?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/s,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=n&&n<2?Ep(t,e,n*2):[l,c,f]}function F_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Ep(e,t,n):Ep(t,e,n);if(!(o>=i))return[];const l=o-i+1,c=new Array(l);if(r)if(s<0)for(let f=0;f<l;++f)c[f]=(o-f)/-s;else for(let f=0;f<l;++f)c[f]=(o-f)*s;else if(s<0)for(let f=0;f<l;++f)c[f]=(i+f)/-s;else for(let f=0;f<l;++f)c[f]=(i+f)*s;return c}function U_(t,e,n){return e=+e,t=+t,n=+n,Ep(t,e,n)[2]}function q_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?U_(e,t,n):U_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Sk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Ak(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function KM(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?GM:WH(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(c-m)/c)*(f-c/2<0?-1:1),b=Math.max(n,Math.floor(e-f*m/c+y)),S=Math.min(r,Math.floor(e+(c-f)*m/c+y));KM(t,e,b,S,i)}const o=t[e];let s=n,l=r;for(dc(t,n,e),i(t[r],o)>0&&dc(t,n,r);s<l;){for(dc(t,s,l),++s,--l;i(t[s],o)<0;)++s;for(;i(t[l],o)>0;)--l}i(t[n],o)===0?dc(t,n,l):(++l,dc(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function dc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function YH(t,e,n){if(t=Float64Array.from(BH(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Ak(t);if(e>=1)return Sk(t);var r,i=(r-1)*e,o=Math.floor(i),s=Sk(KM(t,o).subarray(0,o+1)),l=Ak(t.subarray(o+1));return s+(l-s)*(i-o)}}function XH(t,e,n=HM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),l=+n(t[o+1],o+1,t);return s+(l-s)*(i-o)}}function QH(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Er(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function po(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const z_=Symbol("implicit");function nT(){var t=new Tk,e=[],n=[],r=z_;function i(o){let s=t.get(o);if(s===void 0){if(r!==z_)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Tk;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return nT(e,n).unknown(r)},Er.apply(i,arguments),i}function rf(){var t=nT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,l=!1,c=0,f=0,h=.5;delete t.unknown;function m(){var y=e().length,b=i<r,S=b?i:r,E=b?r:i;o=(E-S)/Math.max(1,y-c+f*2),l&&(o=Math.floor(o)),S+=(E-S-o*(y-c))*h,s=o*(1-c),l&&(S=Math.round(S),s=Math.round(s));var _=QH(y).map(function(P){return S+o*P});return n(b?_.reverse():_)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(y){return arguments.length?(l=!!y,m()):l},t.padding=function(y){return arguments.length?(c=Math.min(1,f=+y),m()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),m()):c},t.paddingOuter=function(y){return arguments.length?(f=+y,m()):f},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),m()):h},t.copy=function(){return rf(e(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(h)},Er.apply(m(),arguments)}function YM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return YM(e())},t}function Mc(){return YM(rf.apply(null,arguments).paddingInner(1))}function rT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function XM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Gf(){}var of=.7,Sp=1/of,Cu="\\s*([+-]?\\d+)\\s*",af="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JH=/^#([0-9a-f]{3,8})$/,ZH=new RegExp(`^rgb\\(${Cu},${Cu},${Cu}\\)$`),eG=new RegExp(`^rgb\\(${vi},${vi},${vi}\\)$`),tG=new RegExp(`^rgba\\(${Cu},${Cu},${Cu},${af}\\)$`),nG=new RegExp(`^rgba\\(${vi},${vi},${vi},${af}\\)$`),rG=new RegExp(`^hsl\\(${af},${vi},${vi}\\)$`),iG=new RegExp(`^hsla\\(${af},${vi},${vi},${af}\\)$`),Ik={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rT(Gf,sf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Pk,formatHex:Pk,formatHex8:oG,formatHsl:aG,formatRgb:Ck,toString:Ck});function Pk(){return this.rgb().formatHex()}function oG(){return this.rgb().formatHex8()}function aG(){return QM(this).formatHsl()}function Ck(){return this.rgb().formatRgb()}function sf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=JH.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ok(e):n===3?new Wn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?wh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?wh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ZH.exec(t))?new Wn(e[1],e[2],e[3],1):(e=eG.exec(t))?new Wn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=tG.exec(t))?wh(e[1],e[2],e[3],e[4]):(e=nG.exec(t))?wh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rG.exec(t))?jk(e[1],e[2]/100,e[3]/100,1):(e=iG.exec(t))?jk(e[1],e[2]/100,e[3]/100,e[4]):Ik.hasOwnProperty(t)?Ok(Ik[t]):t==="transparent"?new Wn(NaN,NaN,NaN,0):null}function Ok(t){return new Wn(t>>16&255,t>>8&255,t&255,1)}function wh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wn(t,e,n,r)}function sG(t){return t instanceof Gf||(t=sf(t)),t?(t=t.rgb(),new Wn(t.r,t.g,t.b,t.opacity)):new Wn}function W_(t,e,n,r){return arguments.length===1?sG(t):new Wn(t,e,n,r??1)}function Wn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}rT(Wn,W_,XM(Gf,{brighter(t){return t=t==null?Sp:Math.pow(Sp,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?of:Math.pow(of,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wn(ns(this.r),ns(this.g),ns(this.b),Ap(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kk,formatHex:kk,formatHex8:uG,formatRgb:Nk,toString:Nk}));function kk(){return`#${Ya(this.r)}${Ya(this.g)}${Ya(this.b)}`}function uG(){return`#${Ya(this.r)}${Ya(this.g)}${Ya(this.b)}${Ya((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nk(){const t=Ap(this.opacity);return`${t===1?"rgb(":"rgba("}${ns(this.r)}, ${ns(this.g)}, ${ns(this.b)}${t===1?")":`, ${t})`}`}function Ap(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ns(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ya(t){return t=ns(t),(t<16?"0":"")+t.toString(16)}function jk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $r(t,e,n,r)}function QM(t){if(t instanceof $r)return new $r(t.h,t.s,t.l,t.opacity);if(t instanceof Gf||(t=sf(t)),!t)return new $r;if(t instanceof $r)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,c=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?o+i:2-o-i,s*=60):l=c>0&&c<1?0:s,new $r(s,l,c,t.opacity)}function lG(t,e,n,r){return arguments.length===1?QM(t):new $r(t,e,n,r??1)}function $r(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}rT($r,lG,XM(Gf,{brighter(t){return t=t==null?Sp:Math.pow(Sp,t),new $r(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?of:Math.pow(of,t),new $r(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wn(nb(t>=240?t-240:t+120,i,r),nb(t,i,r),nb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new $r(Rk(this.h),Th(this.s),Th(this.l),Ap(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ap(this.opacity);return`${t===1?"hsl(":"hsla("}${Rk(this.h)}, ${Th(this.s)*100}%, ${Th(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Rk(t){return t=(t||0)%360,t<0?t+360:t}function Th(t){return Math.max(0,Math.min(1,t||0))}function nb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const iT=t=>()=>t;function cG(t,e){return function(n){return t+n*e}}function fG(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function dG(t){return(t=+t)==1?JM:function(e,n){return n-e?fG(e,n,t):iT(isNaN(e)?n:e)}}function JM(t,e){var n=e-t;return n?cG(t,n):iT(isNaN(t)?e:t)}const Dk=(function t(e){var n=dG(e);function r(i,o){var s=n((i=W_(i)).r,(o=W_(o)).r),l=n(i.g,o.g),c=n(i.b,o.b),f=JM(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=l(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function hG(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function pG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mG(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=ml(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function gG(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ip(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yG(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ml(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var H_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rb=new RegExp(H_.source,"g");function vG(t){return function(){return t}}function xG(t){return function(e){return t(e)+""}}function bG(t,e){var n=H_.lastIndex=rb.lastIndex=0,r,i,o,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=H_.exec(t))&&(i=rb.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Ip(r,i)})),n=rb.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?c[0]?xG(c[0].x):vG(e):(e=c.length,function(f){for(var h=0,m;h<e;++h)l[(m=c[h]).i]=m.x(f);return l.join("")})}function ml(t,e){var n=typeof e,r;return e==null||n==="boolean"?iT(e):(n==="number"?Ip:n==="string"?(r=sf(e))?(e=r,Dk):bG:e instanceof sf?Dk:e instanceof Date?gG:pG(e)?hG:Array.isArray(e)?mG:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yG:Ip)(t,e)}function oT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function _G(t,e){e===void 0&&(e=t,t=ml);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[l](s-l)}}function wG(t){return function(){return t}}function Pp(t){return+t}var Mk=[0,1];function Mn(t){return t}function G_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:wG(isNaN(e)?NaN:.5)}function TG(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function EG(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=G_(i,r),o=n(s,o)):(r=G_(r,i),o=n(o,s)),function(l){return o(r(l))}}function SG(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=G_(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(l){var c=Hf(t,l,1,r)-1;return o[c](i[c](l))}}function Kf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $m(){var t=Mk,e=Mk,n=ml,r,i,o,s=Mn,l,c,f;function h(){var y=Math.min(t.length,e.length);return s!==Mn&&(s=TG(t[0],t[y-1])),l=y>2?SG:EG,c=f=null,m}function m(y){return y==null||isNaN(y=+y)?o:(c||(c=l(t.map(r),e,n)))(r(s(y)))}return m.invert=function(y){return s(i((f||(f=l(e,t.map(r),Ip)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,Pp),h()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),n=oT,h()},m.clamp=function(y){return arguments.length?(s=y?!0:Mn,h()):s!==Mn},m.interpolate=function(y){return arguments.length?(n=y,h()):n},m.unknown=function(y){return arguments.length?(o=y,m):o},function(y,b){return r=y,i=b,h()}}function aT(){return $m()(Mn,Mn)}function AG(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Cp(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function qu(t){return t=Cp(Math.abs(t)),t?t[1]:NaN}function IG(t,e){return function(n,r){for(var i=n.length,o=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),o.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[s=(s+1)%t.length];return o.reverse().join(e)}}function PG(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var CG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uf(t){if(!(e=CG.exec(t)))throw new Error("invalid format: "+t);var e;return new sT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}uf.prototype=sT.prototype;function sT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}sT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OG(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Op;function kG(t,e){var n=Cp(t,e);if(!n)return Op=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(Op=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Cp(t,Math.max(0,e+o-1))[0]}function Lk(t,e){var n=Cp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const $k={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:AG,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Lk(t*100,e),r:Lk,s:kG,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Vk(t){return t}var Bk=Array.prototype.map,Fk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function NG(t){var e=t.grouping===void 0||t.thousands===void 0?Vk:IG(Bk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Vk:PG(Bk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(m,y){m=uf(m);var b=m.fill,S=m.align,E=m.sign,_=m.symbol,P=m.zero,j=m.width,R=m.comma,D=m.precision,k=m.trim,N=m.type;N==="n"?(R=!0,N="g"):$k[N]||(D===void 0&&(D=12),k=!0,N="g"),(P||b==="0"&&S==="=")&&(P=!0,b="0",S="=");var A=(y&&y.prefix!==void 0?y.prefix:"")+(_==="$"?n:_==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),I=(_==="$"?r:/[%p]/.test(N)?s:"")+(y&&y.suffix!==void 0?y.suffix:""),C=$k[N],V=/[defgprs%]/.test(N);D=D===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function $(B){var L=A,Q=I,ee,ae,se;if(N==="c")Q=C(B)+Q,B="";else{B=+B;var J=B<0||1/B<0;if(B=isNaN(B)?c:C(Math.abs(B),D),k&&(B=OG(B)),J&&+B==0&&E!=="+"&&(J=!1),L=(J?E==="("?E:l:E==="-"||E==="("?"":E)+L,Q=(N==="s"&&!isNaN(B)&&Op!==void 0?Fk[8+Op/3]:"")+Q+(J&&E==="("?")":""),V){for(ee=-1,ae=B.length;++ee<ae;)if(se=B.charCodeAt(ee),48>se||se>57){Q=(se===46?i+B.slice(ee+1):B.slice(ee))+Q,B=B.slice(0,ee);break}}}R&&!P&&(B=e(B,1/0));var ie=L.length+B.length+Q.length,re=ie<j?new Array(j-ie+1).join(b):"";switch(R&&P&&(B=e(re+B,re.length?j-Q.length:1/0),re=""),S){case"<":B=L+B+Q+re;break;case"=":B=L+re+B+Q;break;case"^":B=re.slice(0,ie=re.length>>1)+L+B+Q+re.slice(ie);break;default:B=re+L+B+Q;break}return o(B)}return $.toString=function(){return m+""},$}function h(m,y){var b=Math.max(-8,Math.min(8,Math.floor(qu(y)/3)))*3,S=Math.pow(10,-b),E=f((m=uf(m),m.type="f",m),{suffix:Fk[8+b/3]});return function(_){return E(S*_)}}return{format:f,formatPrefix:h}}var Eh,uT,ZM;jG({thousands:",",grouping:[3],currency:["$",""]});function jG(t){return Eh=NG(t),uT=Eh.format,ZM=Eh.formatPrefix,Eh}function RG(t){return Math.max(0,-qu(Math.abs(t)))}function DG(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qu(e)/3)))*3-qu(Math.abs(t)))}function MG(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qu(e)-qu(t))+1}function eL(t,e,n,r){var i=q_(t,e,n),o;switch(r=uf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=DG(i,s))&&(r.precision=o),ZM(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=MG(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=RG(i))&&(r.precision=o-(r.type==="%")*2);break}}return uT(r)}function da(t){var e=t.domain;return t.ticks=function(n){var r=e();return F_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return eL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],l=r[o],c,f,h=10;for(l<s&&(f=s,s=l,l=f,f=i,i=o,o=f);h-- >0;){if(f=U_(s,l,n),f===c)return r[i]=s,r[o]=l,e(r);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function kp(){var t=aT();return t.copy=function(){return Kf(t,kp())},Er.apply(t,arguments),da(t)}function tL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Pp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return tL(t).unknown(e)},t=arguments.length?Array.from(t,Pp):[0,1],da(n)}function nL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Uk(t){return Math.log(t)}function qk(t){return Math.exp(t)}function LG(t){return-Math.log(-t)}function $G(t){return-Math.exp(-t)}function VG(t){return isFinite(t)?+("1e"+t):t<0?0:t}function BG(t){return t===10?VG:t===Math.E?Math.exp:e=>Math.pow(t,e)}function FG(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function zk(t){return(e,n)=>-t(-e,n)}function lT(t){const e=t(Uk,qk),n=e.domain;let r=10,i,o;function s(){return i=FG(r),o=BG(r),n()[0]<0?(i=zk(i),o=zk(o),t(LG,$G)):t(Uk,qk),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const c=n();let f=c[0],h=c[c.length-1];const m=h<f;m&&([f,h]=[h,f]);let y=i(f),b=i(h),S,E;const _=l==null?10:+l;let P=[];if(!(r%1)&&b-y<_){if(y=Math.floor(y),b=Math.ceil(b),f>0){for(;y<=b;++y)for(S=1;S<r;++S)if(E=y<0?S/o(-y):S*o(y),!(E<f)){if(E>h)break;P.push(E)}}else for(;y<=b;++y)for(S=r-1;S>=1;--S)if(E=y>0?S/o(-y):S*o(y),!(E<f)){if(E>h)break;P.push(E)}P.length*2<_&&(P=F_(f,h,_))}else P=F_(y,b,Math.min(b-y,_)).map(o);return m?P.reverse():P},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=uf(c)).precision==null&&(c.trim=!0),c=uT(c)),l===1/0)return c;const f=Math.max(1,r*l/e.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=f?c(h):""}},e.nice=()=>n(nL(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),e}function rL(){const t=lT($m()).domain([1,10]);return t.copy=()=>Kf(t,rL()).base(t.base()),Er.apply(t,arguments),t}function Wk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Hk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function cT(t){var e=1,n=t(Wk(e),Hk(e));return n.constant=function(r){return arguments.length?t(Wk(e=+r),Hk(e)):e},da(n)}function iL(){var t=cT($m());return t.copy=function(){return Kf(t,iL()).constant(t.constant())},Er.apply(t,arguments)}function Gk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function UG(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function qG(t){return t<0?-t*t:t*t}function fT(t){var e=t(Mn,Mn),n=1;function r(){return n===1?t(Mn,Mn):n===.5?t(UG,qG):t(Gk(n),Gk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},da(e)}function dT(){var t=fT($m());return t.copy=function(){return Kf(t,dT()).exponent(t.exponent())},Er.apply(t,arguments),t}function zG(){return dT.apply(null,arguments).exponent(.5)}function Kk(t){return Math.sign(t)*t*t}function WG(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function oL(){var t=aT(),e=[0,1],n=!1,r;function i(o){var s=WG(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(Kk(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Pp)).map(Kk)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return oL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Er.apply(i,arguments),da(i)}function aL(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=XH(t,s/l);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Hf(n,s)]}return o.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(na),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return aL().domain(t).range(e).unknown(r)},Er.apply(o,arguments)}function sL(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[Hf(r,c,0,n)]:o}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return sL().domain([t,e]).range(i).unknown(o)},Er.apply(da(s),arguments)}function uL(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Hf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return uL().domain(t).range(e).unknown(n)},Er.apply(i,arguments)}const ib=new Date,ob=new Date;function on(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),l=i.ceil(o);return o-s<l-o?s:l},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,l)=>{const c=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return c;let f;do c.push(f=new Date(+o)),e(o,l),t(o);while(f<o&&o<s);return c},i.filter=o=>on(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!o(s););else for(;--l>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(ib.setTime(+o),ob.setTime(+s),t(ib),t(ob),Math.floor(n(ib,ob))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Np=on(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Np.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?on(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Np);Np.range;const Xi=1e3,_r=Xi*60,Qi=_r*60,so=Qi*24,hT=so*7,Yk=so*30,ab=so*365,Xa=on(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Xi)},(t,e)=>(e-t)/Xi,t=>t.getUTCSeconds());Xa.range;const pT=on(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xi)},(t,e)=>{t.setTime(+t+e*_r)},(t,e)=>(e-t)/_r,t=>t.getMinutes());pT.range;const mT=on(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*_r)},(t,e)=>(e-t)/_r,t=>t.getUTCMinutes());mT.range;const gT=on(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xi-t.getMinutes()*_r)},(t,e)=>{t.setTime(+t+e*Qi)},(t,e)=>(e-t)/Qi,t=>t.getHours());gT.range;const yT=on(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Qi)},(t,e)=>(e-t)/Qi,t=>t.getUTCHours());yT.range;const Yf=on(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_r)/so,t=>t.getDate()-1);Yf.range;const Vm=on(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/so,t=>t.getUTCDate()-1);Vm.range;const lL=on(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/so,t=>Math.floor(t/so));lL.range;function _s(t){return on(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*_r)/hT)}const Bm=_s(0),jp=_s(1),HG=_s(2),GG=_s(3),zu=_s(4),KG=_s(5),YG=_s(6);Bm.range;jp.range;HG.range;GG.range;zu.range;KG.range;YG.range;function ws(t){return on(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/hT)}const Fm=ws(0),Rp=ws(1),XG=ws(2),QG=ws(3),Wu=ws(4),JG=ws(5),ZG=ws(6);Fm.range;Rp.range;XG.range;QG.range;Wu.range;JG.range;ZG.range;const vT=on(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());vT.range;const xT=on(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());xT.range;const uo=on(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());uo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:on(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});uo.range;const lo=on(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());lo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:on(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});lo.range;function cL(t,e,n,r,i,o){const s=[[Xa,1,Xi],[Xa,5,5*Xi],[Xa,15,15*Xi],[Xa,30,30*Xi],[o,1,_r],[o,5,5*_r],[o,15,15*_r],[o,30,30*_r],[i,1,Qi],[i,3,3*Qi],[i,6,6*Qi],[i,12,12*Qi],[r,1,so],[r,2,2*so],[n,1,hT],[e,1,Yk],[e,3,3*Yk],[t,1,ab]];function l(f,h,m){const y=h<f;y&&([f,h]=[h,f]);const b=m&&typeof m.range=="function"?m:c(f,h,m),S=b?b.range(f,+h+1):[];return y?S.reverse():S}function c(f,h,m){const y=Math.abs(h-f)/m,b=tT(([,,_])=>_).right(s,y);if(b===s.length)return t.every(q_(f/ab,h/ab,m));if(b===0)return Np.every(Math.max(q_(f,h,m),1));const[S,E]=s[y/s[b-1][2]<s[b][2]/y?b-1:b];return S.every(E)}return[l,c]}const[eK,tK]=cL(lo,xT,Fm,lL,yT,mT),[nK,rK]=cL(uo,vT,Bm,Yf,gT,pT);function sb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ub(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function iK(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,f=pc(i),h=mc(i),m=pc(o),y=mc(o),b=pc(s),S=mc(s),E=pc(l),_=mc(l),P=pc(c),j=mc(c),R={a:se,A:J,b:ie,B:re,c:null,d:tN,e:tN,f:IK,g:LK,G:VK,H:EK,I:SK,j:AK,L:fL,m:PK,M:CK,p:q,q:G,Q:iN,s:oN,S:OK,u:kK,U:NK,V:jK,w:RK,W:DK,x:null,X:null,y:MK,Y:$K,Z:BK,"%":rN},D={a:ge,A:_e,b:Ce,B:Re,c:null,d:nN,e:nN,f:zK,g:eY,G:nY,H:FK,I:UK,j:qK,L:hL,m:WK,M:HK,p:We,q:Le,Q:iN,s:oN,S:GK,u:KK,U:YK,V:XK,w:QK,W:JK,x:null,X:null,y:ZK,Y:tY,Z:rY,"%":rN},k={a:V,A:$,b:B,B:L,c:Q,d:Zk,e:Zk,f:bK,g:Jk,G:Qk,H:eN,I:eN,j:gK,L:xK,m:mK,M:yK,p:C,q:pK,Q:wK,s:TK,S:vK,u:lK,U:cK,V:fK,w:uK,W:dK,x:ee,X:ae,y:Jk,Y:Qk,Z:hK,"%":_K};R.x=N(n,R),R.X=N(r,R),R.c=N(e,R),D.x=N(n,D),D.X=N(r,D),D.c=N(e,D);function N(he,Oe){return function(Be){var ce=[],rt=-1,ze=0,It=he.length,yt,Rt,Ln;for(Be instanceof Date||(Be=new Date(+Be));++rt<It;)he.charCodeAt(rt)===37&&(ce.push(he.slice(ze,rt)),(Rt=Xk[yt=he.charAt(++rt)])!=null?yt=he.charAt(++rt):Rt=yt==="e"?" ":"0",(Ln=Oe[yt])&&(yt=Ln(Be,Rt)),ce.push(yt),ze=rt+1);return ce.push(he.slice(ze,rt)),ce.join("")}}function A(he,Oe){return function(Be){var ce=hc(1900,void 0,1),rt=I(ce,he,Be+="",0),ze,It;if(rt!=Be.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(Oe&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(ze=ub(hc(ce.y,0,1)),It=ze.getUTCDay(),ze=It>4||It===0?Rp.ceil(ze):Rp(ze),ze=Vm.offset(ze,(ce.V-1)*7),ce.y=ze.getUTCFullYear(),ce.m=ze.getUTCMonth(),ce.d=ze.getUTCDate()+(ce.w+6)%7):(ze=sb(hc(ce.y,0,1)),It=ze.getDay(),ze=It>4||It===0?jp.ceil(ze):jp(ze),ze=Yf.offset(ze,(ce.V-1)*7),ce.y=ze.getFullYear(),ce.m=ze.getMonth(),ce.d=ze.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),It="Z"in ce?ub(hc(ce.y,0,1)).getUTCDay():sb(hc(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(It+5)%7:ce.w+ce.U*7-(It+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,ub(ce)):sb(ce)}}function I(he,Oe,Be,ce){for(var rt=0,ze=Oe.length,It=Be.length,yt,Rt;rt<ze;){if(ce>=It)return-1;if(yt=Oe.charCodeAt(rt++),yt===37){if(yt=Oe.charAt(rt++),Rt=k[yt in Xk?Oe.charAt(rt++):yt],!Rt||(ce=Rt(he,Be,ce))<0)return-1}else if(yt!=Be.charCodeAt(ce++))return-1}return ce}function C(he,Oe,Be){var ce=f.exec(Oe.slice(Be));return ce?(he.p=h.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function V(he,Oe,Be){var ce=b.exec(Oe.slice(Be));return ce?(he.w=S.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function $(he,Oe,Be){var ce=m.exec(Oe.slice(Be));return ce?(he.w=y.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function B(he,Oe,Be){var ce=P.exec(Oe.slice(Be));return ce?(he.m=j.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function L(he,Oe,Be){var ce=E.exec(Oe.slice(Be));return ce?(he.m=_.get(ce[0].toLowerCase()),Be+ce[0].length):-1}function Q(he,Oe,Be){return I(he,e,Oe,Be)}function ee(he,Oe,Be){return I(he,n,Oe,Be)}function ae(he,Oe,Be){return I(he,r,Oe,Be)}function se(he){return s[he.getDay()]}function J(he){return o[he.getDay()]}function ie(he){return c[he.getMonth()]}function re(he){return l[he.getMonth()]}function q(he){return i[+(he.getHours()>=12)]}function G(he){return 1+~~(he.getMonth()/3)}function ge(he){return s[he.getUTCDay()]}function _e(he){return o[he.getUTCDay()]}function Ce(he){return c[he.getUTCMonth()]}function Re(he){return l[he.getUTCMonth()]}function We(he){return i[+(he.getUTCHours()>=12)]}function Le(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Oe=N(he+="",R);return Oe.toString=function(){return he},Oe},parse:function(he){var Oe=A(he+="",!1);return Oe.toString=function(){return he},Oe},utcFormat:function(he){var Oe=N(he+="",D);return Oe.toString=function(){return he},Oe},utcParse:function(he){var Oe=A(he+="",!0);return Oe.toString=function(){return he},Oe}}}var Xk={"-":"",_:" ",0:"0"},dn=/^\s*\d+/,oK=/^%/,aK=/[\\^$*+?|[\]().{}]/g;function nt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function sK(t){return t.replace(aK,"\\$&")}function pc(t){return new RegExp("^(?:"+t.map(sK).join("|")+")","i")}function mc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function uK(t,e,n){var r=dn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lK(t,e,n){var r=dn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function cK(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function fK(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function dK(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Qk(t,e,n){var r=dn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Jk(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hK(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pK(t,e,n){var r=dn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function mK(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Zk(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function gK(t,e,n){var r=dn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function eN(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function yK(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function vK(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function xK(t,e,n){var r=dn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function bK(t,e,n){var r=dn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _K(t,e,n){var r=oK.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function wK(t,e,n){var r=dn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function TK(t,e,n){var r=dn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function tN(t,e){return nt(t.getDate(),e,2)}function EK(t,e){return nt(t.getHours(),e,2)}function SK(t,e){return nt(t.getHours()%12||12,e,2)}function AK(t,e){return nt(1+Yf.count(uo(t),t),e,3)}function fL(t,e){return nt(t.getMilliseconds(),e,3)}function IK(t,e){return fL(t,e)+"000"}function PK(t,e){return nt(t.getMonth()+1,e,2)}function CK(t,e){return nt(t.getMinutes(),e,2)}function OK(t,e){return nt(t.getSeconds(),e,2)}function kK(t){var e=t.getDay();return e===0?7:e}function NK(t,e){return nt(Bm.count(uo(t)-1,t),e,2)}function dL(t){var e=t.getDay();return e>=4||e===0?zu(t):zu.ceil(t)}function jK(t,e){return t=dL(t),nt(zu.count(uo(t),t)+(uo(t).getDay()===4),e,2)}function RK(t){return t.getDay()}function DK(t,e){return nt(jp.count(uo(t)-1,t),e,2)}function MK(t,e){return nt(t.getFullYear()%100,e,2)}function LK(t,e){return t=dL(t),nt(t.getFullYear()%100,e,2)}function $K(t,e){return nt(t.getFullYear()%1e4,e,4)}function VK(t,e){var n=t.getDay();return t=n>=4||n===0?zu(t):zu.ceil(t),nt(t.getFullYear()%1e4,e,4)}function BK(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+nt(e/60|0,"0",2)+nt(e%60,"0",2)}function nN(t,e){return nt(t.getUTCDate(),e,2)}function FK(t,e){return nt(t.getUTCHours(),e,2)}function UK(t,e){return nt(t.getUTCHours()%12||12,e,2)}function qK(t,e){return nt(1+Vm.count(lo(t),t),e,3)}function hL(t,e){return nt(t.getUTCMilliseconds(),e,3)}function zK(t,e){return hL(t,e)+"000"}function WK(t,e){return nt(t.getUTCMonth()+1,e,2)}function HK(t,e){return nt(t.getUTCMinutes(),e,2)}function GK(t,e){return nt(t.getUTCSeconds(),e,2)}function KK(t){var e=t.getUTCDay();return e===0?7:e}function YK(t,e){return nt(Fm.count(lo(t)-1,t),e,2)}function pL(t){var e=t.getUTCDay();return e>=4||e===0?Wu(t):Wu.ceil(t)}function XK(t,e){return t=pL(t),nt(Wu.count(lo(t),t)+(lo(t).getUTCDay()===4),e,2)}function QK(t){return t.getUTCDay()}function JK(t,e){return nt(Rp.count(lo(t)-1,t),e,2)}function ZK(t,e){return nt(t.getUTCFullYear()%100,e,2)}function eY(t,e){return t=pL(t),nt(t.getUTCFullYear()%100,e,2)}function tY(t,e){return nt(t.getUTCFullYear()%1e4,e,4)}function nY(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Wu(t):Wu.ceil(t),nt(t.getUTCFullYear()%1e4,e,4)}function rY(){return"+0000"}function rN(){return"%"}function iN(t){return+t}function oN(t){return Math.floor(+t/1e3)}var fu,mL,gL;iY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iY(t){return fu=iK(t),mL=fu.format,fu.parse,gL=fu.utcFormat,fu.utcParse,fu}function oY(t){return new Date(t)}function aY(t){return t instanceof Date?+t:+new Date(+t)}function bT(t,e,n,r,i,o,s,l,c,f){var h=aT(),m=h.invert,y=h.domain,b=f(".%L"),S=f(":%S"),E=f("%I:%M"),_=f("%I %p"),P=f("%a %d"),j=f("%b %d"),R=f("%B"),D=f("%Y");function k(N){return(c(N)<N?b:l(N)<N?S:s(N)<N?E:o(N)<N?_:r(N)<N?i(N)<N?P:j:n(N)<N?R:D)(N)}return h.invert=function(N){return new Date(m(N))},h.domain=function(N){return arguments.length?y(Array.from(N,aY)):y().map(oY)},h.ticks=function(N){var A=y();return t(A[0],A[A.length-1],N??10)},h.tickFormat=function(N,A){return A==null?k:f(A)},h.nice=function(N){var A=y();return(!N||typeof N.range!="function")&&(N=e(A[0],A[A.length-1],N??10)),N?y(nL(A,N)):h},h.copy=function(){return Kf(h,bT(t,e,n,r,i,o,s,l,c,f))},h}function sY(){return Er.apply(bT(nK,rK,uo,vT,Bm,Yf,gT,pT,Xa,mL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uY(){return Er.apply(bT(eK,tK,lo,xT,Fm,Vm,yT,mT,Xa,gL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Um(){var t=0,e=1,n,r,i,o,s=Mn,l=!1,c;function f(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(o(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(l=!!m,f):l},f.interpolator=function(m){return arguments.length?(s=m,f):s};function h(m){return function(y){var b,S;return arguments.length?([b,S]=y,s=m(b,S),f):[s(0),s(1)]}}return f.range=h(ml),f.rangeRound=h(oT),f.unknown=function(m){return arguments.length?(c=m,f):c},function(m){return o=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),f}}function ha(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function yL(){var t=da(Um()(Mn));return t.copy=function(){return ha(t,yL())},po.apply(t,arguments)}function vL(){var t=lT(Um()).domain([1,10]);return t.copy=function(){return ha(t,vL()).base(t.base())},po.apply(t,arguments)}function xL(){var t=cT(Um());return t.copy=function(){return ha(t,xL()).constant(t.constant())},po.apply(t,arguments)}function _T(){var t=fT(Um());return t.copy=function(){return ha(t,_T()).exponent(t.exponent())},po.apply(t,arguments)}function lY(){return _T.apply(null,arguments).exponent(.5)}function bL(){var t=[],e=Mn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Hf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(na),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>YH(t,o/r))},n.copy=function(){return bL(e).domain(t)},po.apply(n,arguments)}function qm(){var t=0,e=.5,n=1,r=1,i,o,s,l,c,f=Mn,h,m=!1,y;function b(E){return isNaN(E=+E)?y:(E=.5+((E=+h(E))-o)*(r*E<r*o?l:c),f(m?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,n]=E,i=h(t=+t),o=h(e=+e),s=h(n=+n),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,b):[t,e,n]},b.clamp=function(E){return arguments.length?(m=!!E,b):m},b.interpolator=function(E){return arguments.length?(f=E,b):f};function S(E){return function(_){var P,j,R;return arguments.length?([P,j,R]=_,f=_G(E,[P,j,R]),b):[f(0),f(.5),f(1)]}}return b.range=S(ml),b.rangeRound=S(oT),b.unknown=function(E){return arguments.length?(y=E,b):y},function(E){return h=E,i=E(t),o=E(e),s=E(n),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,b}}function _L(){var t=da(qm()(Mn));return t.copy=function(){return ha(t,_L())},po.apply(t,arguments)}function wL(){var t=lT(qm()).domain([.1,1,10]);return t.copy=function(){return ha(t,wL()).base(t.base())},po.apply(t,arguments)}function TL(){var t=cT(qm());return t.copy=function(){return ha(t,TL()).constant(t.constant())},po.apply(t,arguments)}function wT(){var t=fT(qm());return t.copy=function(){return ha(t,wT()).exponent(t.exponent())},po.apply(t,arguments)}function cY(){return wT.apply(null,arguments).exponent(.5)}const aN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rf,scaleDiverging:_L,scaleDivergingLog:wL,scaleDivergingPow:wT,scaleDivergingSqrt:cY,scaleDivergingSymlog:TL,scaleIdentity:tL,scaleImplicit:z_,scaleLinear:kp,scaleLog:rL,scaleOrdinal:nT,scalePoint:Mc,scalePow:dT,scaleQuantile:aL,scaleQuantize:sL,scaleRadial:oL,scaleSequential:yL,scaleSequentialLog:vL,scaleSequentialPow:_T,scaleSequentialQuantile:bL,scaleSequentialSqrt:lY,scaleSequentialSymlog:xL,scaleSqrt:zG,scaleSymlog:iL,scaleThreshold:uL,scaleTime:sY,scaleUtc:uY,tickFormat:eL},Symbol.toStringTag,{value:"Module"}));var lb,sN;function EL(){if(sN)return lb;sN=1;var t=dl();function e(n,r,i){for(var o=-1,s=n.length;++o<s;){var l=n[o],c=r(l);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=l}return h}return lb=e,lb}var cb,uN;function fY(){if(uN)return cb;uN=1;function t(e,n){return e>n}return cb=t,cb}var fb,lN;function dY(){if(lN)return fb;lN=1;var t=EL(),e=fY(),n=pl();function r(i){return i&&i.length?t(i,n,e):void 0}return fb=r,fb}var hY=dY();const zm=ht(hY);var db,cN;function pY(){if(cN)return db;cN=1;function t(e,n){return e<n}return db=t,db}var hb,fN;function mY(){if(fN)return hb;fN=1;var t=EL(),e=pY(),n=pl();function r(i){return i&&i.length?t(i,n,e):void 0}return hb=r,hb}var gY=mY();const Wm=ht(gY);var pb,dN;function yY(){if(dN)return pb;dN=1;var t=L1(),e=fa(),n=RM(),r=Gn();function i(o,s){var l=r(o)?t:n;return l(o,e(s,3))}return pb=i,pb}var mb,hN;function vY(){if(hN)return mb;hN=1;var t=NM(),e=yY();function n(r,i){return t(e(r,i),1)}return mb=n,mb}var xY=vY();const bY=ht(xY);var gb,pN;function _Y(){if(pN)return gb;pN=1;var t=X1();function e(n,r){return t(n,r)}return gb=e,gb}var wY=_Y();const TT=ht(wY);var gl=1e9,TY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ST,Ct=!0,Tr="[DecimalError] ",rs=Tr+"Invalid argument: ",ET=Tr+"Exponent out of range: ",yl=Math.floor,Wa=Math.pow,EY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ar,cn=1e7,Et=7,SL=9007199254740991,Dp=yl(SL/Et),Ee={};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ee.comparedTo=Ee.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Et;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(t){return to(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.idiv=function(t){var e=this,n=e.constructor;return gt(to(e,new n(t),0,1),n.precision)};Ee.equals=Ee.eq=function(t){return!this.cmp(t)};Ee.exponent=function(){return Ht(this)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){return this.cmp(t)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ar))throw Error(Tr+"NaN");if(n.s<1)throw Error(Tr+(n.s?"NaN":"-Infinity"));return n.eq(ar)?new r(0):(Ct=!1,e=to(lf(n,o),lf(t,o),o),Ct=!0,gt(e,i))};Ee.minus=Ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PL(e,t):AL(e,(t.s=-t.s,t))};Ee.modulo=Ee.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Tr+"NaN");return n.s?(Ct=!1,e=to(n,t,0,1).times(t),Ct=!0,n.minus(e)):gt(new r(n),i)};Ee.naturalExponential=Ee.exp=function(){return IL(this)};Ee.naturalLogarithm=Ee.ln=function(){return lf(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ee.plus=Ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?AL(e,t):PL(e,(t.s=-t.s,t))};Ee.precision=Ee.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(rs+t);if(e=Ht(i)+1,r=i.d.length-1,n=r*Et+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ee.squareRoot=Ee.sqrt=function(){var t,e,n,r,i,o,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Tr+"NaN")}for(t=Ht(l),Ct=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=di(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=yl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(o=r,r=o.plus(to(l,o,s+2)).times(.5),di(o.d).slice(0,s)===(e=di(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(gt(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if(e!="9999")break;s+=4}return Ct=!0,gt(r,n)};Ee.times=Ee.mul=function(t){var e,n,r,i,o,s,l,c,f,h=this,m=h.constructor,y=h.d,b=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,c=y.length,f=b.length,c<f&&(o=y,y=b,b=o,s=c,c=f,f=s),o=[],s=c+f,r=s;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)l=o[i]+b[r]*y[i-r-1]+e,o[i--]=l%cn|0,e=l/cn|0;o[i]=(o[i]+e)%cn|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ct?gt(t,m.precision):t};Ee.toDecimalPlaces=Ee.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ti(t,0,gl),e===void 0?e=r.rounding:Ti(e,0,8),gt(n,t+Ht(n)+1,e))};Ee.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=hs(r,!0):(Ti(t,0,gl),e===void 0?e=i.rounding:Ti(e,0,8),r=gt(new i(r),t+1,e),n=hs(r,!0,t+1)),n};Ee.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?hs(i):(Ti(t,0,gl),e===void 0?e=o.rounding:Ti(e,0,8),r=gt(new o(i),t+Ht(i)+1,e),n=hs(r.abs(),!1,t+Ht(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var t=this,e=t.constructor;return gt(new e(t),Ht(t)+1,e.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(t){var e,n,r,i,o,s,l=this,c=l.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(ar);if(l=new c(l),!l.s){if(t.s<1)throw Error(Tr+"Infinity");return l}if(l.eq(ar))return l;if(r=c.precision,t.eq(ar))return gt(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=l.s,s){if((n=h<0?-h:h)<=SL){for(i=new c(ar),e=Math.ceil(r/Et+4),Ct=!1;n%2&&(i=i.times(l),gN(i.d,e)),n=yl(n/2),n!==0;)l=l.times(l),gN(l.d,e);return Ct=!0,t.s<0?new c(ar).div(i):gt(i,r)}}else if(o<0)throw Error(Tr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Ct=!1,i=t.times(lf(l,r+f)),Ct=!0,i=IL(i),i.s=o,i};Ee.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Ht(i),r=hs(i,n<=o.toExpNeg||n>=o.toExpPos)):(Ti(t,1,gl),e===void 0?e=o.rounding:Ti(e,0,8),i=gt(new o(i),t,e),n=Ht(i),r=hs(i,t<=n||n<=o.toExpNeg,t)),r};Ee.toSignificantDigits=Ee.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ti(t,1,gl),e===void 0?e=r.rounding:Ti(e,0,8)),gt(new r(n),t,e)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ht(t),n=t.constructor;return hs(t,e<=n.toExpNeg||e>=n.toExpPos)};function AL(t,e){var n,r,i,o,s,l,c,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Ct?gt(e,m):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),o=s-i,o){for(o<0?(r=c,o=-o,l=f.length):(r=f,i=s,l=c.length),s=Math.ceil(m/Et),l=s>l?s+1:l+1,o>l&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(l=c.length,o=f.length,l-o<0&&(o=l,r=f,f=c,c=r),n=0;o;)n=(c[--o]=c[o]+f[o]+n)/cn|0,c[o]%=cn;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Ct?gt(e,m):e}function Ti(t,e,n){if(t!==~~t||t<e||t>n)throw Error(rs+t)}function di(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Et-r.length,n&&(o+=zo(n)),o+=r;s=t[e],r=s+"",n=Et-r.length,n&&(o+=zo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var to=(function(){function t(r,i){var o,s=0,l=r.length;for(r=r.slice();l--;)o=r[l]*i+s,r[l]=o%cn|0,s=o/cn|0;return s&&r.unshift(s),r}function e(r,i,o,s){var l,c;if(o!=s)c=o>s?1:-1;else for(l=c=0;l<o;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*cn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var l,c,f,h,m,y,b,S,E,_,P,j,R,D,k,N,A,I,C=r.constructor,V=r.s==i.s?1:-1,$=r.d,B=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Tr+"Division by zero");for(c=r.e-i.e,A=B.length,k=$.length,b=new C(V),S=b.d=[],f=0;B[f]==($[f]||0);)++f;if(B[f]>($[f]||0)&&--c,o==null?j=o=C.precision:s?j=o+(Ht(r)-Ht(i))+1:j=o,j<0)return new C(0);if(j=j/Et+2|0,f=0,A==1)for(h=0,B=B[0],j++;(f<k||h)&&j--;f++)R=h*cn+($[f]||0),S[f]=R/B|0,h=R%B|0;else{for(h=cn/(B[0]+1)|0,h>1&&(B=t(B,h),$=t($,h),A=B.length,k=$.length),D=A,E=$.slice(0,A),_=E.length;_<A;)E[_++]=0;I=B.slice(),I.unshift(0),N=B[0],B[1]>=cn/2&&++N;do h=0,l=e(B,E,A,_),l<0?(P=E[0],A!=_&&(P=P*cn+(E[1]||0)),h=P/N|0,h>1?(h>=cn&&(h=cn-1),m=t(B,h),y=m.length,_=E.length,l=e(m,E,y,_),l==1&&(h--,n(m,A<y?I:B,y))):(h==0&&(l=h=1),m=B.slice()),y=m.length,y<_&&m.unshift(0),n(E,m,_),l==-1&&(_=E.length,l=e(B,E,A,_),l<1&&(h++,n(E,A<_?I:B,_))),_=E.length):l===0&&(h++,E=[0]),S[f++]=h,l&&E[0]?E[_++]=$[D]||0:(E=[$[D]],_=1);while((D++<k||E[0]!==void 0)&&j--)}return S[0]||S.shift(),b.e=c,gt(b,s?o+Ht(b)+1:o)}})();function IL(t,e){var n,r,i,o,s,l,c=0,f=0,h=t.constructor,m=h.precision;if(Ht(t)>16)throw Error(ET+Ht(t));if(!t.s)return new h(ar);for(Ct=!1,l=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(Wa(2,f))/Math.LN10*2+5|0,l+=r,n=i=o=new h(ar),h.precision=l;;){if(i=gt(i.times(t),l),n=n.times(++c),s=o.plus(to(i,n,l)),di(s.d).slice(0,l)===di(o.d).slice(0,l)){for(;f--;)o=gt(o.times(o),l);return h.precision=m,e==null?(Ct=!0,gt(o,m)):o}o=s}}function Ht(t){for(var e=t.e*Et,n=t.d[0];n>=10;n/=10)e++;return e}function yb(t,e,n){if(e>t.LN10.sd())throw Ct=!0,n&&(t.precision=n),Error(Tr+"LN10 precision limit exceeded");return gt(new t(t.LN10),e)}function zo(t){for(var e="";t--;)e+="0";return e}function lf(t,e){var n,r,i,o,s,l,c,f,h,m=1,y=10,b=t,S=b.d,E=b.constructor,_=E.precision;if(b.s<1)throw Error(Tr+(b.s?"NaN":"-Infinity"));if(b.eq(ar))return new E(0);if(e==null?(Ct=!1,f=_):f=e,b.eq(10))return e==null&&(Ct=!0),yb(E,f);if(f+=y,E.precision=f,n=di(S),r=n.charAt(0),o=Ht(b),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=di(b.d),r=n.charAt(0),m++;o=Ht(b),r>1?(b=new E("0."+n),o++):b=new E(r+"."+n.slice(1))}else return c=yb(E,f+2,_).times(o+""),b=lf(new E(r+"."+n.slice(1)),f-y).plus(c),E.precision=_,e==null?(Ct=!0,gt(b,_)):b;for(l=s=b=to(b.minus(ar),b.plus(ar),f),h=gt(b.times(b),f),i=3;;){if(s=gt(s.times(h),f),c=l.plus(to(s,new E(i),f)),di(c.d).slice(0,f)===di(l.d).slice(0,f))return l=l.times(2),o!==0&&(l=l.plus(yb(E,f+2,_).times(o+""))),l=to(l,new E(m),f),E.precision=_,e==null?(Ct=!0,gt(l,_)):l;l=c,i+=2}}function mN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=yl(n/Et),t.d=[],r=(n+1)%Et,n<0&&(r+=Et),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Et;r<i;)t.d.push(+e.slice(r,r+=Et));e=e.slice(r),r=Et-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ct&&(t.e>Dp||t.e<-Dp))throw Error(ET+n)}else t.s=0,t.e=0,t.d=[0];return t}function gt(t,e,n){var r,i,o,s,l,c,f,h,m=t.d;for(s=1,o=m[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Et,i=e,f=m[h=0];else{if(h=Math.ceil((r+1)/Et),o=m.length,h>=o)return t;for(f=o=m[h],s=1;o>=10;o/=10)s++;r%=Et,i=r-Et+s}if(n!==void 0&&(o=Wa(10,s-i-1),l=f/o%10|0,c=e<0||m[h+1]!==void 0||f%o,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?f/Wa(10,s-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(o=Ht(t),m.length=1,e=e-o-1,m[0]=Wa(10,(Et-e%Et)%Et),t.e=yl(-e/Et)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,o=1,h--):(m.length=h+1,o=Wa(10,Et-r),m[h]=i>0?(f/Wa(10,s-i)%Wa(10,i)|0)*o:0),c)for(;;)if(h==0){(m[0]+=o)==cn&&(m[0]=1,++t.e);break}else{if(m[h]+=o,m[h]!=cn)break;m[h--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(Ct&&(t.e>Dp||t.e<-Dp))throw Error(ET+Ht(t));return t}function PL(t,e){var n,r,i,o,s,l,c,f,h,m,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Ct?gt(e,b):e;if(c=t.d,m=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,l=m.length):(n=m,r=f,l=c.length),i=Math.max(Math.ceil(b/Et),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=m.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}s=0}for(h&&(n=c,c=m,m=n,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(o=i;o&&c[--o]===0;)c[o]=cn-1;--c[o],c[i]+=cn}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Ct?gt(e,b):e):new y(0)}function hs(t,e,n){var r,i=Ht(t),o=di(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+zo(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+zo(-i-1)+o,n&&(r=n-s)>0&&(o+=zo(r))):i>=s?(o+=zo(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+zo(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=zo(r))),t.s<0?"-"+o:o}function gN(t,e){if(t.length>e)return t.length=e,!0}function CL(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(rs+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return mN(s,o.toString())}else if(typeof o!="string")throw Error(rs+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,EY.test(o))mN(s,o);else throw Error(rs+o)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=CL,i.config=i.set=SY,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function SY(t){if(!t||typeof t!="object")throw Error(Tr+"Object expected");var e,n,r,i=["precision",1,gl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(yl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(rs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(rs+n+": "+r);return this}var ST=CL(TY);ar=new ST(1);const dt=ST;function AY(t){return OY(t)||CY(t)||PY(t)||IY()}function IY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PY(t,e){if(t){if(typeof t=="string")return K_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K_(t,e)}}function CY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function OY(t){if(Array.isArray(t))return K_(t)}function K_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kY=function(e){return e},OL={},kL=function(e){return e===OL},yN=function(e){return function n(){return arguments.length===0||arguments.length===1&&kL(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},NY=function t(e,n){return e===1?n:yN(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(l){return l!==OL}).length;return s>=e?n.apply(void 0,i):t(e-s,yN(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var h=i.map(function(m){return kL(m)?c.shift():m});return n.apply(void 0,AY(h).concat(c))}))})},Hm=function(e){return NY(e.length,e)},Y_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},jY=Hm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),RY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return kY;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},o.apply(void 0,arguments))}},X_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},NL=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(l,c){return l===n[c]})||(n=o,r=e.apply(void 0,o)),r}};function DY(t){var e;return t===0?e=1:e=Math.floor(new dt(t).abs().log(10).toNumber())+1,e}function MY(t,e,n){for(var r=new dt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var LY=Hm(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),$Y=Hm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),VY=Hm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Gm={rangeStep:MY,getDigitCount:DY,interpolateNumber:LY,uninterpolateNumber:$Y,uninterpolateTruncation:VY};function Q_(t){return UY(t)||FY(t)||jL(t)||BY()}function BY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function UY(t){if(Array.isArray(t))return J_(t)}function cf(t,e){return WY(t)||zY(t,e)||jL(t,e)||qY()}function qY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jL(t,e){if(t){if(typeof t=="string")return J_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J_(t,e)}}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zY(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,o=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function WY(t){if(Array.isArray(t))return t}function RL(t){var e=cf(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function DL(t,e,n){if(t.lte(0))return new dt(0);var r=Gm.getDigitCount(t.toNumber()),i=new dt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,l=new dt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return e?c:new dt(Math.ceil(c))}function HY(t,e,n){var r=1,i=new dt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new dt(10).pow(Gm.getDigitCount(t)-1),i=new dt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new dt(Math.floor(t)))}else t===0?i=new dt(Math.floor((e-1)/2)):n||(i=new dt(Math.floor(t)));var s=Math.floor((e-1)/2),l=RY(jY(function(c){return i.add(new dt(c-s).mul(r)).toNumber()}),Y_);return l(0,e)}function ML(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new dt(0),tickMin:new dt(0),tickMax:new dt(0)};var o=DL(new dt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new dt(0):(s=new dt(t).add(e).div(2),s=s.sub(new dt(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new dt(e).sub(s).div(o).toNumber()),f=l+c+1;return f>n?ML(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,l=e>0?l:l+(n-f)),{step:o,tickMin:s.sub(new dt(l).mul(o)),tickMax:s.add(new dt(c).mul(o))})}function GY(t){var e=cf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=RL([n,r]),c=cf(l,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(Q_(Y_(0,i-1).map(function(){return 1/0}))):[].concat(Q_(Y_(0,i-1).map(function(){return-1/0})),[h]);return n>r?X_(m):m}if(f===h)return HY(f,i,o);var y=ML(f,h,s,o),b=y.step,S=y.tickMin,E=y.tickMax,_=Gm.rangeStep(S,E.add(new dt(.1).mul(b)),b);return n>r?X_(_):_}function KY(t,e){var n=cf(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=RL([r,i]),l=cf(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var h=Math.max(e,2),m=DL(new dt(f).sub(c).div(h-1),o,0),y=[].concat(Q_(Gm.rangeStep(new dt(c),new dt(f).sub(new dt(.99).mul(m)),m)),[f]);return r>i?X_(y):y}var YY=NL(GY),XY=NL(KY),QY="Invariant failed";function ps(t,e){throw new Error(QY)}var JY=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function Mp(){return Mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mp.apply(this,arguments)}function ZY(t,e){return rX(t)||nX(t,e)||tX(t,e)||eX()}function eX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tX(t,e){if(t){if(typeof t=="string")return vN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vN(t,e)}}function vN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function rX(t){if(Array.isArray(t))return t}function iX(t,e){if(t==null)return{};var n=oX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VL(r.key),r)}}function uX(t,e,n){return e&&sX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lX(t,e,n){return e=Lp(e),cX(t,LL()?Reflect.construct(e,n||[],Lp(t).constructor):e.apply(t,n))}function cX(t,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fX(t)}function fX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LL=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lp(t)}function dX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z_(t,e)}function Z_(t,e){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z_(t,e)}function $L(t,e,n){return e=VL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VL(t){var e=hX(t,"string");return Hu(e)=="symbol"?e:e+""}function hX(t,e){if(Hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Km=(function(t){function e(){return aX(this,e),lX(this,e,arguments)}return dX(e,t),uX(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,l=r.dataKey,c=r.data,f=r.dataPointFormatter,h=r.xAxis,m=r.yAxis,y=iX(r,JY),b=ot(y,!1);this.props.direction==="x"&&h.type!=="number"&&ps();var S=c.map(function(E){var _=f(E,l),P=_.x,j=_.y,R=_.value,D=_.errorVal;if(!D)return null;var k=[],N,A;if(Array.isArray(D)){var I=ZY(D,2);N=I[0],A=I[1]}else N=A=D;if(o==="vertical"){var C=h.scale,V=j+i,$=V+s,B=V-s,L=C(R-N),Q=C(R+A);k.push({x1:Q,y1:$,x2:Q,y2:B}),k.push({x1:L,y1:V,x2:Q,y2:V}),k.push({x1:L,y1:$,x2:L,y2:B})}else if(o==="horizontal"){var ee=m.scale,ae=P+i,se=ae-s,J=ae+s,ie=ee(R-N),re=ee(R+A);k.push({x1:se,y1:re,x2:J,y2:re}),k.push({x1:ae,y1:ie,x2:ae,y2:re}),k.push({x1:se,y1:ie,x2:J,y2:ie})}return K.createElement(fn,Mp({className:"recharts-errorBar",key:"bar-".concat(k.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},b),k.map(function(q){return K.createElement("line",Mp({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return K.createElement(fn,{className:"recharts-errorBars"},S)}}])})(K.Component);$L(Km,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});$L(Km,"displayName","ErrorBar");function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function xN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(n),!0).forEach(function(r){pX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pX(t,e,n){return e=mX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mX(t){var e=gX(t,"string");return ff(e)=="symbol"?e:e+""}function gX(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BL=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=or(n,Pu);if(!s)return null;var l=Pu.defaultProps,c=l!==void 0?Ua(Ua({},l),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:o==="children"?f=(r||[]).reduce(function(h,m){var y=m.item,b=m.props,S=b.sectors||b.data||[];return h.concat(S.map(function(E){return{type:s.props.iconType||y.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):f=(r||[]).map(function(h){var m=h.item,y=m.type.defaultProps,b=y!==void 0?Ua(Ua({},y),m.props):{},S=b.dataKey,E=b.name,_=b.legendType,P=b.hide;return{inactive:P,dataKey:S,type:c.iconType||_||"square",color:AT(m),value:E||S,payload:b}}),Ua(Ua(Ua({},c),Pu.getWithHeight(s,i)),{},{payload:f,item:s})};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function bN(t){return bX(t)||xX(t)||vX(t)||yX()}function yX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vX(t,e){if(t){if(typeof t=="string")return ew(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ew(t,e)}}function xX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bX(t){if(Array.isArray(t))return ew(t)}function ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(n),!0).forEach(function(r){Ou(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ou(t,e,n){return e=_X(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _X(t){var e=wX(t,"string");return df(e)=="symbol"?e:e+""}function wX(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ei(t,e,n){return st(t)||st(e)?n:nn(e)?wr(t,e,n):Ge(e)?e(t):n}function Lc(t,e,n,r){var i=bY(t,function(l){return Ei(l,e)});if(n==="number"){var o=i.filter(function(l){return xe(l)||parseFloat(l)});return o.length?[Wm(o),zm(o)]:[1/0,-1/0]}var s=r?i.filter(function(l){return!st(l)}):i;return s.map(function(l){return nn(l)||l instanceof Date?l:""})}var TX=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,f=0;f<l;f++){var h=f>0?i[f-1].coordinate:i[l-1].coordinate,m=i[f].coordinate,y=f>=l-1?i[0].coordinate:i[f+1].coordinate,b=void 0;if(Fr(m-h)!==Fr(y-m)){var S=[];if(Fr(y-m)===Fr(c[1]-c[0])){b=y;var E=m+c[1]-c[0];S[0]=Math.min(E,(E+h)/2),S[1]=Math.max(E,(E+h)/2)}else{b=h;var _=y+c[1]-c[0];S[0]=Math.min(m,(_+m)/2),S[1]=Math.max(m,(_+m)/2)}var P=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(e>P[0]&&e<=P[1]||e>=S[0]&&e<=S[1]){s=i[f].index;break}}else{var j=Math.min(h,y),R=Math.max(h,y);if(e>(j+m)/2&&e<=(R+m)/2){s=i[f].index;break}}}else for(var D=0;D<l;D++)if(D===0&&e<=(r[D].coordinate+r[D+1].coordinate)/2||D>0&&D<l-1&&e>(r[D].coordinate+r[D-1].coordinate)/2&&e<=(r[D].coordinate+r[D+1].coordinate)/2||D===l-1&&e>(r[D].coordinate+r[D-1].coordinate)/2){s=r[D].index;break}return s},AT=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Lt(Lt({},e.type.defaultProps),e.props):e.props,s=o.stroke,l=o.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},EX=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},l=Object.keys(o),c=0,f=l.length;c<f;c++)for(var h=o[l[c]].stackGroups,m=Object.keys(h),y=0,b=m.length;y<b;y++){var S=h[m[y]],E=S.items,_=S.cateAxisId,P=E.filter(function(A){return Zi(A.type).indexOf("Bar")>=0});if(P&&P.length){var j=P[0].type.defaultProps,R=j!==void 0?Lt(Lt({},j),P[0].props):P[0].props,D=R.barSize,k=R[_];s[k]||(s[k]=[]);var N=st(D)?n:D;s[k].push({item:P[0],stackList:P.slice(1),barSize:st(N)?void 0:ds(N,r,0)})}}return s},SX=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,l=e.maxBarSize,c=s.length;if(c<1)return null;var f=ds(n,i,0,!0),h,m=[];if(s[0].barSize===+s[0].barSize){var y=!1,b=i/c,S=s.reduce(function(D,k){return D+k.barSize||0},0);S+=(c-1)*f,S>=i&&(S-=(c-1)*f,f=0),S>=i&&b>0&&(y=!0,b*=.9,S=c*b);var E=(i-S)/2>>0,_={offset:E-f,size:0};h=s.reduce(function(D,k){var N={item:k.item,position:{offset:_.offset+_.size+f,size:y?b:k.barSize}},A=[].concat(bN(D),[N]);return _=A[A.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(I){A.push({item:I,position:_})}),A},m)}else{var P=ds(r,i,0,!0);i-2*P-(c-1)*f<=0&&(f=0);var j=(i-2*P-(c-1)*f)/c;j>1&&(j>>=0);var R=l===+l?Math.min(j,l):j;h=s.reduce(function(D,k,N){var A=[].concat(bN(D),[{item:k.item,position:{offset:P+(j+f)*N+(j-R)/2,size:R}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(I){A.push({item:I,position:A[A.length-1].position})}),A},m)}return h},AX=function(e,n,r,i){var o=r.children,s=r.width,l=r.margin,c=s-(l.left||0)-(l.right||0),f=BL({children:o,legendWidth:c});if(f){var h=i||{},m=h.width,y=h.height,b=f.align,S=f.verticalAlign,E=f.layout;if((E==="vertical"||E==="horizontal"&&S==="middle")&&b!=="center"&&xe(e[b]))return Lt(Lt({},e),{},Ou({},b,e[b]+(m||0)));if((E==="horizontal"||E==="vertical"&&b==="center")&&S!=="middle"&&xe(e[S]))return Lt(Lt({},e),{},Ou({},S,e[S]+(y||0)))}return e},IX=function(e,n,r){return st(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},FL=function(e,n,r,i,o){var s=n.props.children,l=zr(s,Km).filter(function(f){return IX(i,o,f.props.direction)});if(l&&l.length){var c=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var m=Ei(h,r);if(st(m))return f;var y=Array.isArray(m)?[Wm(m),zm(m)]:[m,m],b=c.reduce(function(S,E){var _=Ei(h,E,0),P=y[0]-Math.abs(Array.isArray(_)?_[0]:_),j=y[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(P,S[0]),Math.max(j,S[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},PX=function(e,n,r,i,o){var s=n.map(function(l){return FL(e,l,r,o,i)}).filter(function(l){return!st(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},UL=function(e,n,r,i,o){var s=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&FL(e,c,f,i)||Lc(e,f,r,o)});if(r==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,f){for(var h=0,m=f.length;h<m;h++)l[f[h]]||(l[f[h]]=!0,c.push(f[h]));return c},[])},qL=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},zL=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var o,s,l=e.map(function(c){return c.coordinate===n&&(o=!0),c.coordinate===r&&(s=!0),c.coordinate});return o||l.push(n),s||l.push(r),l},Ji=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Fr(l[0]-l[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var y=o?o.indexOf(m):m;return{coordinate:i(y)+f,value:m,offset:f}});return h.filter(function(m){return!qf(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,y){return{coordinate:i(m)+f,value:m,index:y,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,y){return{coordinate:i(m)+f,value:o?o[m]:m,index:y,offset:f}})},vb=new WeakMap,Sh=function(e,n){if(typeof n!="function")return e;vb.has(e)||vb.set(e,new WeakMap);var r=vb.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},CX=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:rf(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:kp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Mc(),realScaleType:"point"}:o==="category"?{scale:rf(),realScaleType:"band"}:{scale:kp(),realScaleType:"linear"};if(fs(i)){var c="scale".concat(km(i));return{scale:(aN[c]||Mc)(),realScaleType:aN[c]?c:"point"}}return Ge(i)?{scale:i}:{scale:Mc(),realScaleType:"point"}},wN=1e-4,OX=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-wN,s=Math.max(i[0],i[1])+wN,l=e(n[0]),c=e(n[r-1]);(l<o||l>s||c<o||c>s)&&e.domain([n[0],n[r-1]])}},kX=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},NX=function(e,n){if(!n||n.length!==2||!xe(n[0])||!xe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!xe(e[0])||e[0]<r)&&(o[0]=r),(!xe(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},jX=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,l=0;l<n;++l){var c=qf(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1])}},RX=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var l=qf(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},DX={sign:jX,expand:yz,none:$u,silhouette:vz,wiggle:xz,positive:RX},MX=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),o=DX[r],s=gz().keys(i).value(function(l,c){return+Ei(l,c,0)}).order(O_).offset(o);return s(e)},LX=function(e,n,r,i,o,s){if(!e)return null;var l=s?n.reverse():n,c={},f=l.reduce(function(m,y){var b,S=(b=y.type)!==null&&b!==void 0&&b.defaultProps?Lt(Lt({},y.type.defaultProps),y.props):y.props,E=S.stackId,_=S.hide;if(_)return m;var P=S[r],j=m[P]||{hasStack:!1,stackGroups:{}};if(nn(E)){var R=j.stackGroups[E]||{numericAxisId:r,cateAxisId:i,items:[]};R.items.push(y),j.hasStack=!0,j.stackGroups[E]=R}else j.stackGroups[Om("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[y]};return Lt(Lt({},m),{},Ou({},P,j))},c),h={};return Object.keys(f).reduce(function(m,y){var b=f[y];if(b.hasStack){var S={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(E,_){var P=b.stackGroups[_];return Lt(Lt({},E),{},Ou({},_,{numericAxisId:r,cateAxisId:i,items:P.items,stackedData:MX(e,P.items,o)}))},S)}return Lt(Lt({},m),{},Ou({},y,b))},h)},$X=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=YY(f,o,l);return e.domain([Wm(h),zm(h)]),{niceTicks:h}}if(o&&i==="number"){var m=e.domain(),y=XY(m,o,l);return{niceTicks:y}}return null},TN=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Ei(s,n.dataKey,n.domain[l]);return st(c)?null:n.scale(c)-o/2+i},VX=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},BX=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Lt(Lt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(nn(o)){var s=n[o];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},FX=function(e){return e.reduce(function(n,r){return[Wm(r.concat([n[0]]).filter(xe)),zm(r.concat([n[1]]).filter(xe))]},[1/0,-1/0])},WL=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],l=s.stackedData,c=l.reduce(function(f,h){var m=FX(h.slice(n,r+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},EN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tw=function(e,n,r){if(Ge(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(xe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(EN.test(e[0])){var o=+EN.exec(e[0])[1];i[0]=n[0]-o}else Ge(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(xe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(SN.test(e[1])){var s=+SN.exec(e[1])[1];i[1]=n[1]+s}else Ge(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},$p=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=J1(n,function(m){return m.coordinate}),s=1/0,l=1,c=o.length;l<c;l++){var f=o[l],h=o[l-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},AN=function(e,n,r){return!e||!e.length||TT(e,wr(r,"type.defaultProps.domain"))?n:e},HL=function(e,n){var r=e.type.defaultProps?Lt(Lt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,l=r.formatter,c=r.tooltipType,f=r.chartType,h=r.hide;return Lt(Lt({},ot(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:o||i,color:AT(e),value:Ei(n,i),type:c,payload:n,chartType:f,hide:h})};function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function IN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(n),!0).forEach(function(r){UX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UX(t,e,n){return e=qX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qX(t){var e=zX(t,"string");return hf(e)=="symbol"?e:e+""}function zX(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vp=Math.PI/180,WX=function(e){return e*180/Math.PI},bn=function(e,n,r,i){return{x:e+Math.cos(-Vp*i)*r,y:n+Math.sin(-Vp*i)*r}},HX=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},GX=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,l=HX({x:r,y:i},{x:o,y:s});if(l<=0)return{radius:l};var c=(r-o)/l,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:l,angle:WX(f),angleInRadian:f}},KX=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},YX=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),l=Math.min(o,s);return e+l*360},CN=function(e,n){var r=e.x,i=e.y,o=GX({x:r,y:i},n),s=o.radius,l=o.angle,c=n.innerRadius,f=n.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=KX(n),m=h.startAngle,y=h.endAngle,b=l,S;if(m<=y){for(;b>y;)b-=360;for(;b<m;)b+=360;S=b>=m&&b<=y}else{for(;b>m;)b-=360;for(;b<y;)b+=360;S=b>=y&&b<=m}return S?PN(PN({},n),{},{radius:s,angle:YX(b,n)}):null};function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}var XX=["offset"];function QX(t){return tQ(t)||eQ(t)||ZX(t)||JX()}function JX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZX(t,e){if(t){if(typeof t=="string")return nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nw(t,e)}}function eQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tQ(t){if(Array.isArray(t))return nw(t)}function nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nQ(t,e){if(t==null)return{};var n=rQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ON(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(n),!0).forEach(function(r){iQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iQ(t,e,n){return e=oQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oQ(t){var e=aQ(t,"string");return pf(e)=="symbol"?e:e+""}function aQ(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mf.apply(this,arguments)}var sQ=function(e){var n=e.value,r=e.formatter,i=st(e.children)?n:e.children;return Ge(r)?r(i):i},uQ=function(e,n){var r=Fr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},lQ=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,l=e.className,c=o,f=c.cx,h=c.cy,m=c.innerRadius,y=c.outerRadius,b=c.startAngle,S=c.endAngle,E=c.clockWise,_=(m+y)/2,P=uQ(b,S),j=P>=0?1:-1,R,D;i==="insideStart"?(R=b+j*s,D=E):i==="insideEnd"?(R=S-j*s,D=!E):i==="end"&&(R=S+j*s,D=E),D=P<=0?D:!D;var k=bn(f,h,_,R),N=bn(f,h,_,R+(D?1:-1)*359),A="M".concat(k.x,",").concat(k.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(D?0:1,`,
    `).concat(N.x,",").concat(N.y),I=st(e.id)?Om("recharts-radial-line-"):e.id;return K.createElement("text",mf({},r,{dominantBaseline:"central",className:at("recharts-radial-bar-label",l)}),K.createElement("defs",null,K.createElement("path",{id:I,d:A})),K.createElement("textPath",{xlinkHref:"#".concat(I)},n))},cQ=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,l=o.cy,c=o.innerRadius,f=o.outerRadius,h=o.startAngle,m=o.endAngle,y=(h+m)/2;if(i==="outside"){var b=bn(s,l,f+r,y),S=b.x,E=b.y;return{x:S,y:E,textAnchor:S>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var _=(c+f)/2,P=bn(s,l,_,y),j=P.x,R=P.y;return{x:j,y:R,textAnchor:"middle",verticalAnchor:"middle"}},fQ=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,l=s.x,c=s.y,f=s.width,h=s.height,m=h>=0?1:-1,y=m*i,b=m>0?"end":"start",S=m>0?"start":"end",E=f>=0?1:-1,_=E*i,P=E>0?"end":"start",j=E>0?"start":"end";if(o==="top"){var R={x:l+f/2,y:c-m*i,textAnchor:"middle",verticalAnchor:b};return Jt(Jt({},R),r?{height:Math.max(c-r.y,0),width:f}:{})}if(o==="bottom"){var D={x:l+f/2,y:c+h+y,textAnchor:"middle",verticalAnchor:S};return Jt(Jt({},D),r?{height:Math.max(r.y+r.height-(c+h),0),width:f}:{})}if(o==="left"){var k={x:l-_,y:c+h/2,textAnchor:P,verticalAnchor:"middle"};return Jt(Jt({},k),r?{width:Math.max(k.x-r.x,0),height:h}:{})}if(o==="right"){var N={x:l+f+_,y:c+h/2,textAnchor:j,verticalAnchor:"middle"};return Jt(Jt({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:h}:{})}var A=r?{width:f,height:h}:{};return o==="insideLeft"?Jt({x:l+_,y:c+h/2,textAnchor:j,verticalAnchor:"middle"},A):o==="insideRight"?Jt({x:l+f-_,y:c+h/2,textAnchor:P,verticalAnchor:"middle"},A):o==="insideTop"?Jt({x:l+f/2,y:c+y,textAnchor:"middle",verticalAnchor:S},A):o==="insideBottom"?Jt({x:l+f/2,y:c+h-y,textAnchor:"middle",verticalAnchor:b},A):o==="insideTopLeft"?Jt({x:l+_,y:c+y,textAnchor:j,verticalAnchor:S},A):o==="insideTopRight"?Jt({x:l+f-_,y:c+y,textAnchor:P,verticalAnchor:S},A):o==="insideBottomLeft"?Jt({x:l+_,y:c+h-y,textAnchor:j,verticalAnchor:b},A):o==="insideBottomRight"?Jt({x:l+f-_,y:c+h-y,textAnchor:P,verticalAnchor:b},A):hl(o)&&(xe(o.x)||Ka(o.x))&&(xe(o.y)||Ka(o.y))?Jt({x:l+ds(o.x,f),y:c+ds(o.y,h),textAnchor:"end",verticalAnchor:"end"},A):Jt({x:l+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},A)},dQ=function(e){return"cx"in e&&xe(e.cx)};function kn(t){var e=t.offset,n=e===void 0?5:e,r=nQ(t,XX),i=Jt({offset:n},r),o=i.viewBox,s=i.position,l=i.value,c=i.children,f=i.content,h=i.className,m=h===void 0?"":h,y=i.textBreakAll;if(!o||st(l)&&st(c)&&!z.isValidElement(f)&&!Ge(f))return null;if(z.isValidElement(f))return z.cloneElement(f,i);var b;if(Ge(f)){if(b=z.createElement(f,i),z.isValidElement(b))return b}else b=sQ(i);var S=dQ(o),E=ot(i,!0);if(S&&(s==="insideStart"||s==="insideEnd"||s==="end"))return lQ(i,b,E);var _=S?cQ(i):fQ(i);return K.createElement(Tp,mf({className:at("recharts-label",m)},E,_,{breakAll:y}),b)}kn.displayName="Label";var GL=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,m=e.x,y=e.y,b=e.top,S=e.left,E=e.width,_=e.height,P=e.clockWise,j=e.labelViewBox;if(j)return j;if(xe(E)&&xe(_)){if(xe(m)&&xe(y))return{x:m,y,width:E,height:_};if(xe(b)&&xe(S))return{x:b,y:S,width:E,height:_}}return xe(m)&&xe(y)?{x:m,y,width:0,height:0}:xe(n)&&xe(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||l||0,clockWise:P}:e.viewBox?e.viewBox:{}},hQ=function(e,n){return e?e===!0?K.createElement(kn,{key:"label-implicit",viewBox:n}):nn(e)?K.createElement(kn,{key:"label-implicit",viewBox:n,value:e}):z.isValidElement(e)?e.type===kn?z.cloneElement(e,{key:"label-implicit",viewBox:n}):K.createElement(kn,{key:"label-implicit",content:e,viewBox:n}):Ge(e)?K.createElement(kn,{key:"label-implicit",content:e,viewBox:n}):hl(e)?K.createElement(kn,mf({viewBox:n},e,{key:"label-implicit"})):null:null},pQ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=GL(e),s=zr(i,kn).map(function(c,f){return z.cloneElement(c,{viewBox:n||o,key:"label-".concat(f)})});if(!r)return s;var l=hQ(e.label,n||o);return[l].concat(QX(s))};kn.parseViewBox=GL;kn.renderCallByParent=pQ;var xb,kN;function mQ(){if(kN)return xb;kN=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return xb=t,xb}var gQ=mQ();const yQ=ht(gQ);function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}var vQ=["valueAccessor"],xQ=["data","dataKey","clockWise","id","textBreakAll"];function bQ(t){return EQ(t)||TQ(t)||wQ(t)||_Q()}function _Q(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wQ(t,e){if(t){if(typeof t=="string")return rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rw(t,e)}}function TQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EQ(t){if(Array.isArray(t))return rw(t)}function rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bp(){return Bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bp.apply(this,arguments)}function NN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(n),!0).forEach(function(r){SQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SQ(t,e,n){return e=AQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AQ(t){var e=IQ(t,"string");return gf(e)=="symbol"?e:e+""}function IQ(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RN(t,e){if(t==null)return{};var n=PQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var CQ=function(e){return Array.isArray(e.value)?yQ(e.value):e.value};function is(t){var e=t.valueAccessor,n=e===void 0?CQ:e,r=RN(t,vQ),i=r.data,o=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,f=RN(r,xQ);return!i||!i.length?null:K.createElement(fn,{className:"recharts-label-list"},i.map(function(h,m){var y=st(o)?n(h,m):Ei(h&&h.payload,o),b=st(l)?{}:{id:"".concat(l,"-").concat(m)};return K.createElement(kn,Bp({},ot(h,!0),f,b,{parentViewBox:h.parentViewBox,value:y,textBreakAll:c,viewBox:kn.parseViewBox(st(s)?h:jN(jN({},h),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}is.displayName="LabelList";function OQ(t,e){return t?t===!0?K.createElement(is,{key:"labelList-implicit",data:e}):K.isValidElement(t)||Ge(t)?K.createElement(is,{key:"labelList-implicit",data:e,content:t}):hl(t)?K.createElement(is,Bp({data:e},t,{key:"labelList-implicit"})):null:null}function kQ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=zr(r,is).map(function(s,l){return z.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var o=OQ(t.label,e);return[o].concat(bQ(i))}is.renderCallByParent=kQ;function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(this,arguments)}function DN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(n),!0).forEach(function(r){NQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NQ(t,e,n){return e=jQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jQ(t){var e=RQ(t,"string");return yf(e)=="symbol"?e:e+""}function RQ(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DQ=function(e,n){var r=Fr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Ah=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(l?1:-1)+i,m=Math.asin(c/h)/Vp,y=f?o:o+s*m,b=bn(n,r,h,y),S=bn(n,r,i,y),E=f?o-s*m:o,_=bn(n,r,h*Math.cos(m*Vp),E);return{center:b,circleTangency:S,lineTangency:_,theta:m}},KL=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,l=e.endAngle,c=DQ(s,l),f=s+c,h=bn(n,r,o,s),m=bn(n,r,o,f),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var b=bn(n,r,i,s),S=bn(n,r,i,f);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},MQ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,m=Fr(h-f),y=Ah({cx:n,cy:r,radius:o,angle:f,sign:m,cornerRadius:s,cornerIsExternal:c}),b=y.circleTangency,S=y.lineTangency,E=y.theta,_=Ah({cx:n,cy:r,radius:o,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:c}),P=_.circleTangency,j=_.lineTangency,R=_.theta,D=c?Math.abs(f-h):Math.abs(f-h)-E-R;if(D<0)return l?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):KL({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h});var k="M ".concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(D>180),",").concat(+(m<0),",").concat(P.x,",").concat(P.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
  `);if(i>0){var N=Ah({cx:n,cy:r,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=N.circleTangency,I=N.lineTangency,C=N.theta,V=Ah({cx:n,cy:r,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),$=V.circleTangency,B=V.lineTangency,L=V.theta,Q=c?Math.abs(f-h):Math.abs(f-h)-C-L;if(Q<0&&s===0)return"".concat(k,"L").concat(n,",").concat(r,"Z");k+="L".concat(B.x,",").concat(B.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Q>180),",").concat(+(m>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,"Z")}else k+="L".concat(n,",").concat(r,"Z");return k},LQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},YL=function(e){var n=MN(MN({},LQ),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,h=n.startAngle,m=n.endAngle,y=n.className;if(s<o||h===m)return null;var b=at("recharts-sector",y),S=s-o,E=ds(l,S,0,!0),_;return E>0&&Math.abs(h-m)<360?_=MQ({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(E,S/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m}):_=KL({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:h,endAngle:m}),K.createElement("path",iw({},ot(n,!0),{className:b,d:_,role:"img"}))};function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(this,arguments)}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $N(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){$Q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Q(t,e,n){return e=VQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VQ(t){var e=BQ(t,"string");return vf(e)=="symbol"?e:e+""}function BQ(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VN={curveBasisClosed:oz,curveBasisOpen:az,curveBasis:iz,curveBumpX:z8,curveBumpY:W8,curveLinearClosed:sz,curveLinear:jm,curveMonotoneX:uz,curveMonotoneY:lz,curveNatural:cz,curveStep:fz,curveStepAfter:hz,curveStepBefore:dz},Ih=function(e){return e.x===+e.x&&e.y===+e.y},gc=function(e){return e.x},yc=function(e){return e.y},FQ=function(e,n){if(Ge(e))return e;var r="curve".concat(km(e));return(r==="curveMonotone"||r==="curveBump")&&n?VN["".concat(r).concat(n==="vertical"?"Y":"X")]:VN[r]||jm},UQ=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=FQ(r,l),m=f?o.filter(function(E){return Ih(E)}):o,y;if(Array.isArray(s)){var b=f?s.filter(function(E){return Ih(E)}):s,S=m.map(function(E,_){return $N($N({},E),{},{base:b[_]})});return l==="vertical"?y=vh().y(yc).x1(gc).x0(function(E){return E.base.x}):y=vh().x(gc).y1(yc).y0(function(E){return E.base.y}),y.defined(Ih).curve(h),y(S)}return l==="vertical"&&xe(s)?y=vh().y(yc).x1(gc).x0(s):xe(s)?y=vh().x(gc).y1(yc).y0(s):y=tM().x(gc).y(yc),y.defined(Ih).curve(h),y(m)},BN=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?UQ(e):i;return z.createElement("path",ow({},ot(e,!1),fp(e),{className:at("recharts-curve",n),d:s,ref:o}))},bb={exports:{}},_b,FN;function qQ(){if(FN)return _b;FN=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _b=t,_b}var wb,UN;function zQ(){if(UN)return wb;UN=1;var t=qQ();function e(){}function n(){}return n.resetWarningCache=e,wb=function(){function r(s,l,c,f,h,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},wb}var qN;function WQ(){return qN||(qN=1,bb.exports=zQ()()),bb.exports}var HQ=WQ();const lt=ht(HQ),{getOwnPropertyNames:GQ,getOwnPropertySymbols:KQ}=Object,{hasOwnProperty:YQ}=Object.prototype;function Tb(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Ph(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),l=o.get(r);if(s&&l)return s===r&&l===n;o.set(n,r),o.set(r,n);const c=t(n,r,i);return o.delete(n),o.delete(r),c}}function XQ(t){return t!=null?t[Symbol.toStringTag]:void 0}function zN(t){return GQ(t).concat(KQ(t))}const QQ=Object.hasOwn||((t,e)=>YQ.call(t,e));function Ts(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const JQ="__v",ZQ="__o",eJ="_owner",{getOwnPropertyDescriptor:WN,keys:HN}=Object;function tJ(t,e){return t.byteLength===e.byteLength&&Fp(new Uint8Array(t),new Uint8Array(e))}function nJ(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function rJ(t,e){return t.byteLength===e.byteLength&&Fp(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function iJ(t,e){return Ts(t.getTime(),e.getTime())}function oJ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function aJ(t,e){return t===e}function GN(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,l,c=0;for(;(s=o.next())&&!s.done;){const f=e.entries();let h=!1,m=0;for(;(l=f.next())&&!l.done;){if(i[m]){m++;continue}const y=s.value,b=l.value;if(n.equals(y[0],b[0],c,m,t,e,n)&&n.equals(y[1],b[1],y[0],b[0],t,e,n)){h=i[m]=!0;break}m++}if(!h)return!1;c++}return!0}const sJ=Ts;function uJ(t,e,n){const r=HN(t);let i=r.length;if(HN(e).length!==i)return!1;for(;i-- >0;)if(!XL(t,e,n,r[i]))return!1;return!0}function vc(t,e,n){const r=zN(t);let i=r.length;if(zN(e).length!==i)return!1;let o,s,l;for(;i-- >0;)if(o=r[i],!XL(t,e,n,o)||(s=WN(t,o),l=WN(e,o),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function lJ(t,e){return Ts(t.valueOf(),e.valueOf())}function cJ(t,e){return t.source===e.source&&t.flags===e.flags}function KN(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,l;for(;(s=o.next())&&!s.done;){const c=e.values();let f=!1,h=0;for(;(l=c.next())&&!l.done;){if(!i[h]&&n.equals(s.value,l.value,s.value,l.value,t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function Fp(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function fJ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function XL(t,e,n,r){return(r===eJ||r===ZQ||r===JQ)&&(t.$$typeof||e.$$typeof)?!0:QQ(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const dJ="[object ArrayBuffer]",hJ="[object Arguments]",pJ="[object Boolean]",mJ="[object DataView]",gJ="[object Date]",yJ="[object Error]",vJ="[object Map]",xJ="[object Number]",bJ="[object Object]",_J="[object RegExp]",wJ="[object Set]",TJ="[object String]",EJ={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},SJ="[object URL]",AJ=Object.prototype.toString;function IJ({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:m,areTypedArraysEqual:y,areUrlsEqual:b,unknownTagComparators:S}){return function(_,P,j){if(_===P)return!0;if(_==null||P==null)return!1;const R=typeof _;if(R!==typeof P)return!1;if(R!=="object")return R==="number"?l(_,P,j):R==="function"?o(_,P,j):!1;const D=_.constructor;if(D!==P.constructor)return!1;if(D===Object)return c(_,P,j);if(Array.isArray(_))return e(_,P,j);if(D===Date)return r(_,P,j);if(D===RegExp)return h(_,P,j);if(D===Map)return s(_,P,j);if(D===Set)return m(_,P,j);const k=AJ.call(_);if(k===gJ)return r(_,P,j);if(k===_J)return h(_,P,j);if(k===vJ)return s(_,P,j);if(k===wJ)return m(_,P,j);if(k===bJ)return typeof _.then!="function"&&typeof P.then!="function"&&c(_,P,j);if(k===SJ)return b(_,P,j);if(k===yJ)return i(_,P,j);if(k===hJ)return c(_,P,j);if(EJ[k])return y(_,P,j);if(k===dJ)return t(_,P,j);if(k===mJ)return n(_,P,j);if(k===pJ||k===xJ||k===TJ)return f(_,P,j);if(S){let N=S[k];if(!N){const A=XQ(_);A&&(N=S[A])}if(N)return N(_,P,j)}return!1}}function PJ({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:tJ,areArraysEqual:n?vc:nJ,areDataViewsEqual:rJ,areDatesEqual:iJ,areErrorsEqual:oJ,areFunctionsEqual:aJ,areMapsEqual:n?Tb(GN,vc):GN,areNumbersEqual:sJ,areObjectsEqual:n?vc:uJ,arePrimitiveWrappersEqual:lJ,areRegExpsEqual:cJ,areSetsEqual:n?Tb(KN,vc):KN,areTypedArraysEqual:n?Tb(Fp,vc):Fp,areUrlsEqual:fJ,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Ph(r.areArraysEqual),o=Ph(r.areMapsEqual),s=Ph(r.areObjectsEqual),l=Ph(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return r}function CJ(t){return function(e,n,r,i,o,s,l){return t(e,n,l)}}function OJ({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(l,c){const{cache:f=t?new WeakMap:void 0,meta:h}=n();return e(l,c,{cache:f,equals:r,meta:h,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(l,c){return e(l,c,o)}}const kJ=pa();pa({strict:!0});pa({circular:!0});pa({circular:!0,strict:!0});pa({createInternalComparator:()=>Ts});pa({strict:!0,createInternalComparator:()=>Ts});pa({circular:!0,createInternalComparator:()=>Ts});pa({circular:!0,createInternalComparator:()=>Ts,strict:!0});function pa(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=PJ(t),s=IJ(o),l=n?n(s):CJ(s);return OJ({circular:e,comparator:s,createState:r,equals:l,strict:i})}function NJ(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function YN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):NJ(i)};requestAnimationFrame(r)}function aw(t){"@babel/helpers - typeof";return aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aw(t)}function jJ(t){return LJ(t)||MJ(t)||DJ(t)||RJ()}function RJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DJ(t,e){if(t){if(typeof t=="string")return XN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XN(t,e)}}function XN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LJ(t){if(Array.isArray(t))return t}function $J(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,l=jJ(s),c=l[0],f=l.slice(1);if(typeof c=="number"){YN(i.bind(null,f),c);return}i(c),YN(i.bind(null,f));return}aw(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function QN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QN(Object(n),!0).forEach(function(r){QL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QL(t,e,n){return e=VJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VJ(t){var e=BJ(t,"string");return xf(e)==="symbol"?e:String(e)}function BJ(t,e){if(xf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FJ=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},UJ=function(e){return e},qJ=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},$c=function(e,n){return Object.keys(n).reduce(function(r,i){return JN(JN({},r),{},QL({},i,e(i,n[i])))},{})},ZN=function(e,n,r){return e.map(function(i){return"".concat(qJ(i)," ").concat(n,"ms ").concat(r)}).join(",")};function zJ(t,e){return GJ(t)||HJ(t,e)||JL(t,e)||WJ()}function WJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function GJ(t){if(Array.isArray(t))return t}function KJ(t){return QJ(t)||XJ(t)||JL(t)||YJ()}function YJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JL(t,e){if(t){if(typeof t=="string")return sw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sw(t,e)}}function XJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QJ(t){if(Array.isArray(t))return sw(t)}function sw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Up=1e-4,ZL=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},e4=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},e2=function(e,n){return function(r){var i=ZL(e,n);return e4(i,r)}},JJ=function(e,n){return function(r){var i=ZL(e,n),o=[].concat(KJ(i.map(function(s,l){return s*l}).slice(1)),[0]);return e4(o,r)}},t2=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,l=1;break;case"ease":i=.25,o=.1,s=.25,l=1;break;case"ease-in":i=.42,o=0,s=1,l=1;break;case"ease-out":i=.42,o=0,s=.58,l=1;break;case"ease-in-out":i=0,o=0,s=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),h=zJ(f,4);i=h[0],o=h[1],s=h[2],l=h[3]}}}var m=e2(i,s),y=e2(o,l),b=JJ(i,s),S=function(P){return P>1?1:P<0?0:P},E=function(P){for(var j=P>1?1:P,R=j,D=0;D<8;++D){var k=m(R)-j,N=b(R);if(Math.abs(k-j)<Up||N<Up)return y(R);R=S(R-k/N)}return y(R)};return E.isStepper=!1,E},ZJ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(h,m,y){var b=-(h-m)*r,S=y*o,E=y+(b-S)*l/1e3,_=y*l/1e3+h;return Math.abs(_-m)<Up&&Math.abs(E)<Up?[m,0]:[_,E]};return c.isStepper=!0,c.dt=l,c},eZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return t2(i);case"spring":return ZJ();default:if(i.split("(")[0]==="cubic-bezier")return t2(i)}return typeof i=="function"?i:null};function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function n2(t){return rZ(t)||nZ(t)||t4(t)||tZ()}function tZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rZ(t){if(Array.isArray(t))return lw(t)}function r2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(n),!0).forEach(function(r){uw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uw(t,e,n){return e=iZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iZ(t){var e=oZ(t,"string");return bf(e)==="symbol"?e:String(e)}function oZ(t,e){if(bf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aZ(t,e){return lZ(t)||uZ(t,e)||t4(t,e)||sZ()}function sZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t4(t,e){if(t){if(typeof t=="string")return lw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lw(t,e)}}function lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function lZ(t){if(Array.isArray(t))return t}var qp=function(e,n,r){return e+(n-e)*r},cw=function(e){var n=e.from,r=e.to;return n!==r},cZ=function t(e,n,r){var i=$c(function(o,s){if(cw(s)){var l=e(s.from,s.to,s.velocity),c=aZ(l,2),f=c[0],h=c[1];return yn(yn({},s),{},{from:f,velocity:h})}return s},n);return r<1?$c(function(o,s){return cw(s)?yn(yn({},s),{},{velocity:qp(s.velocity,i[o].velocity,r),from:qp(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const fZ=(function(t,e,n,r,i){var o=FJ(t,e),s=o.reduce(function(_,P){return yn(yn({},_),{},uw({},P,[t[P],e[P]]))},{}),l=o.reduce(function(_,P){return yn(yn({},_),{},uw({},P,{from:t[P],velocity:0,to:e[P]}))},{}),c=-1,f,h,m=function(){return null},y=function(){return $c(function(P,j){return j.from},l)},b=function(){return!Object.values(l).filter(cw).length},S=function(P){f||(f=P);var j=P-f,R=j/n.dt;l=cZ(n,l,R),i(yn(yn(yn({},t),e),y())),f=P,b()||(c=requestAnimationFrame(m))},E=function(P){h||(h=P);var j=(P-h)/r,R=$c(function(k,N){return qp.apply(void 0,n2(N).concat([n(j)]))},s);if(i(yn(yn(yn({},t),e),R)),j<1)c=requestAnimationFrame(m);else{var D=$c(function(k,N){return qp.apply(void 0,n2(N).concat([n(1)]))},s);i(yn(yn(yn({},t),e),D))}};return m=n.isStepper?S:E,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}var dZ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function hZ(t,e){if(t==null)return{};var n=pZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Eb(t){return vZ(t)||yZ(t)||gZ(t)||mZ()}function mZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gZ(t,e){if(t){if(typeof t=="string")return fw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fw(t,e)}}function yZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vZ(t){if(Array.isArray(t))return fw(t)}function fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i2(Object(n),!0).forEach(function(r){Pc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pc(t,e,n){return e=n4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n4(r.key),r)}}function _Z(t,e,n){return e&&bZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function n4(t){var e=wZ(t,"string");return Gu(e)==="symbol"?e:String(e)}function wZ(t,e){if(Gu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dw(t,e)}function dw(t,e){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dw(t,e)}function EZ(t){var e=SZ();return function(){var r=zp(t),i;if(e){var o=zp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return hw(this,i)}}function hw(t,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pw(t)}function pw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zp(t){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zp(t)}var la=(function(t){TZ(n,t);var e=EZ(n);function n(r,i){var o;xZ(this,n),o=e.call(this,r,i);var s=o.props,l=s.isActive,c=s.attributeName,f=s.from,h=s.to,m=s.steps,y=s.children,b=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(pw(o)),o.changeStyle=o.changeStyle.bind(pw(o)),!l||b<=0)return o.state={style:{}},typeof y=="function"&&(o.state={style:h}),hw(o);if(m&&m.length)o.state={style:m[0].style};else if(f){if(typeof y=="function")return o.state={style:f},hw(o);o.state={style:c?Pc({},c,f):f}}else o.state={style:{}};return o}return _Z(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,l=o.canBegin,c=o.attributeName,f=o.shouldReAnimate,h=o.to,m=o.from,y=this.state.style;if(l){if(!s){var b={style:c?Pc({},c,h):h};this.state&&y&&(c&&y[c]!==h||!c&&y!==h)&&this.setState(b);return}if(!(kJ(i.to,h)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=S||f?m:i.to;if(this.state&&y){var _={style:c?Pc({},c,E):E};(c&&y[c]!==E||!c&&y!==E)&&this.setState(_)}this.runAnimation(Dr(Dr({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,l=i.to,c=i.duration,f=i.easing,h=i.begin,m=i.onAnimationEnd,y=i.onAnimationStart,b=fZ(s,l,eZ(f),c,this.changeStyle),S=function(){o.stopJSAnimation=b()};this.manager.start([y,h,S,c,m])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,l=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,m=f.duration,y=m===void 0?0:m,b=function(E,_,P){if(P===0)return E;var j=_.duration,R=_.easing,D=R===void 0?"ease":R,k=_.style,N=_.properties,A=_.onAnimationEnd,I=P>0?s[P-1]:_,C=N||Object.keys(k);if(typeof D=="function"||D==="spring")return[].concat(Eb(E),[o.runJSAnimation.bind(o,{from:I.style,to:k,duration:j,easing:D}),j]);var V=ZN(C,j,D),$=Dr(Dr(Dr({},I.style),k),{},{transition:V});return[].concat(Eb(E),[$,j,A]).filter(UJ)};return this.manager.start([c].concat(Eb(s.reduce(b,[h,Math.max(y,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=$J());var o=i.begin,s=i.duration,l=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,y=i.steps,b=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var E=l?Pc({},l,c):c,_=ZN(Object.keys(E),s,f);S.start([h,o,Dr(Dr({},E),{},{transition:_}),s,m])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=hZ(i,dZ),f=z.Children.count(o),h=this.state.style;if(typeof o=="function")return o(h);if(!l||f===0||s<=0)return o;var m=function(b){var S=b.props,E=S.style,_=E===void 0?{}:E,P=S.className,j=z.cloneElement(b,Dr(Dr({},c),{},{style:Dr(Dr({},_),h),className:P}));return j};return f===1?m(z.Children.only(o)):K.createElement("div",null,z.Children.map(o,function(y){return m(y)}))}}]),n})(z.PureComponent);la.displayName="Animate";la.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};la.propTypes={from:lt.oneOfType([lt.object,lt.string]),to:lt.oneOfType([lt.object,lt.string]),attributeName:lt.string,duration:lt.number,begin:lt.number,easing:lt.oneOfType([lt.string,lt.func]),steps:lt.arrayOf(lt.shape({duration:lt.number.isRequired,style:lt.object.isRequired,easing:lt.oneOfType([lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),lt.func]),properties:lt.arrayOf("string"),onAnimationEnd:lt.func})),children:lt.oneOfType([lt.node,lt.func]),isActive:lt.bool,canBegin:lt.bool,onAnimationEnd:lt.func,shouldReAnimate:lt.bool,onAnimationStart:lt.func,onAnimationReStart:lt.func};function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wp.apply(this,arguments)}function AZ(t,e){return OZ(t)||CZ(t,e)||PZ(t,e)||IZ()}function IZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PZ(t,e){if(t){if(typeof t=="string")return o2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o2(t,e)}}function o2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function OZ(t){if(Array.isArray(t))return t}function a2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(n),!0).forEach(function(r){kZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kZ(t,e,n){return e=NZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NZ(t){var e=jZ(t,"string");return _f(e)=="symbol"?e:e+""}function jZ(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u2=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,h;if(s>0&&o instanceof Array){for(var m=[0,0,0,0],y=0,b=4;y<b;y++)m[y]=o[y]>s?s:o[y];h="M".concat(e,",").concat(n+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+c*m[0],",").concat(n)),h+="L ".concat(e+r-c*m[1],",").concat(n),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+l*m[1])),h+="L ".concat(e+r,",").concat(n+i-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+r-c*m[2],",").concat(n+i)),h+="L ".concat(e+c*m[3],",").concat(n+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-l*m[3])),h+="Z"}else if(s>0&&o===+o&&o>0){var S=Math.min(s,o);h="M ".concat(e,",").concat(n+l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+c*S,",").concat(n,`
            L `).concat(e+r-c*S,",").concat(n,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+r,",").concat(n+l*S,`
            L `).concat(e+r,",").concat(n+i-l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+r-c*S,",").concat(n+i,`
            L `).concat(e+c*S,",").concat(n+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e,",").concat(n+i-l*S," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},RZ=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var f=Math.min(o,o+l),h=Math.max(o,o+l),m=Math.min(s,s+c),y=Math.max(s,s+c);return r>=f&&r<=h&&i>=m&&i<=y}return!1},DZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IT=function(e){var n=s2(s2({},DZ),e),r=z.useRef(),i=z.useState(-1),o=AZ(i,2),s=o[0],l=o[1];z.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var D=r.current.getTotalLength();D&&l(D)}catch{}},[]);var c=n.x,f=n.y,h=n.width,m=n.height,y=n.radius,b=n.className,S=n.animationEasing,E=n.animationDuration,_=n.animationBegin,P=n.isAnimationActive,j=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||h===0||m===0)return null;var R=at("recharts-rectangle",b);return j?K.createElement(la,{canBegin:s>0,from:{width:h,height:m,x:c,y:f},to:{width:h,height:m,x:c,y:f},duration:E,animationEasing:S,isActive:j},function(D){var k=D.width,N=D.height,A=D.x,I=D.y;return K.createElement(la,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:E,isActive:P,easing:S},K.createElement("path",Wp({},ot(n,!0),{className:R,d:u2(A,I,k,N,y),ref:r})))}):K.createElement("path",Wp({},ot(n,!0),{className:R,d:u2(c,f,h,m,y)}))};function mw(){return mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mw.apply(this,arguments)}var r4=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=at("recharts-dot",o);return n===+n&&r===+r&&i===+i?z.createElement("circle",mw({},ot(e,!1),fp(e),{className:s,cx:n,cy:r,r:i})):null};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}var MZ=["x","y","top","left","width","height","className"];function gw(){return gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gw.apply(this,arguments)}function l2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(n),!0).forEach(function(r){$Z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Z(t,e,n){return e=VZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VZ(t){var e=BZ(t,"string");return wf(e)=="symbol"?e:e+""}function BZ(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FZ(t,e){if(t==null)return{};var n=UZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var qZ=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},zZ=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,m=h===void 0?0:h,y=e.height,b=y===void 0?0:y,S=e.className,E=FZ(e,MZ),_=LZ({x:r,y:o,top:l,left:f,width:m,height:b},E);return!xe(r)||!xe(o)||!xe(m)||!xe(b)||!xe(l)||!xe(f)?null:K.createElement("path",gw({},ot(_,!0),{className:at("recharts-cross",S),d:qZ(r,o,m,b,l,f)}))},Sb,c2;function WZ(){if(c2)return Sb;c2=1;var t=EM(),e=t(Object.getPrototypeOf,Object);return Sb=e,Sb}var Ab,f2;function HZ(){if(f2)return Ab;f2=1;var t=fo(),e=WZ(),n=ho(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,l=o.hasOwnProperty,c=s.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var m=e(h);if(m===null)return!0;var y=l.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==c}return Ab=f,Ab}var GZ=HZ();const KZ=ht(GZ);var Ib,d2;function YZ(){if(d2)return Ib;d2=1;var t=fo(),e=ho(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return Ib=r,Ib}var XZ=YZ();const QZ=ht(XZ);function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function Hp(){return Hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hp.apply(this,arguments)}function JZ(t,e){return nee(t)||tee(t,e)||eee(t,e)||ZZ()}function ZZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eee(t,e){if(t){if(typeof t=="string")return h2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h2(t,e)}}function h2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function nee(t){if(Array.isArray(t))return t}function p2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(n),!0).forEach(function(r){ree(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ree(t,e,n){return e=iee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iee(t){var e=oee(t,"string");return Tf(e)=="symbol"?e:e+""}function oee(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g2=function(e,n,r,i,o){var s=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-s/2,",").concat(n+o),l+="L ".concat(e+r-s/2-i,",").concat(n+o),l+="L ".concat(e,",").concat(n," Z"),l},aee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},see=function(e){var n=m2(m2({},aee),e),r=z.useRef(),i=z.useState(-1),o=JZ(i,2),s=o[0],l=o[1];z.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&l(R)}catch{}},[]);var c=n.x,f=n.y,h=n.upperWidth,m=n.lowerWidth,y=n.height,b=n.className,S=n.animationEasing,E=n.animationDuration,_=n.animationBegin,P=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||y!==+y||h===0&&m===0||y===0)return null;var j=at("recharts-trapezoid",b);return P?K.createElement(la,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:f},to:{upperWidth:h,lowerWidth:m,height:y,x:c,y:f},duration:E,animationEasing:S,isActive:P},function(R){var D=R.upperWidth,k=R.lowerWidth,N=R.height,A=R.x,I=R.y;return K.createElement(la,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:E,easing:S},K.createElement("path",Hp({},ot(n,!0),{className:j,d:g2(A,I,D,k,N),ref:r})))}):K.createElement("g",null,K.createElement("path",Hp({},ot(n,!0),{className:j,d:g2(c,f,h,m,y)})))},uee=["option","shapeType","propTransformer","activeClassName","isActive"];function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function lee(t,e){if(t==null)return{};var n=cee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(n),!0).forEach(function(r){fee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fee(t,e,n){return e=dee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dee(t){var e=hee(t,"string");return Ef(e)=="symbol"?e:e+""}function hee(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pee(t,e){return Gp(Gp({},e),t)}function mee(t,e){return t==="symbols"}function v2(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return K.createElement(IT,n);case"trapezoid":return K.createElement(see,n);case"sector":return K.createElement(YL,n);case"symbols":if(mee(e))return K.createElement(z1,n);break;default:return null}}function gee(t){return z.isValidElement(t)?t.props:t}function yee(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?pee:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,l=t.isActive,c=lee(t,uee),f;if(z.isValidElement(e))f=z.cloneElement(e,Gp(Gp({},c),gee(e)));else if(Ge(e))f=e(c);else if(KZ(e)&&!QZ(e)){var h=i(e,c);f=K.createElement(v2,{shapeType:n,elementProps:h})}else{var m=c;f=K.createElement(v2,{shapeType:n,elementProps:m})}return l?K.createElement(fn,{className:s},f):f}function Ym(t,e){return e!=null&&"trapezoids"in t.props}function Xm(t,e){return e!=null&&"sectors"in t.props}function Sf(t,e){return e!=null&&"points"in t.props}function vee(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function xee(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function bee(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function _ee(t,e){var n;return Ym(t,e)?n=vee:Xm(t,e)?n=xee:Sf(t,e)&&(n=bee),n}function wee(t,e){var n;return Ym(t,e)?n="trapezoids":Xm(t,e)?n="sectors":Sf(t,e)&&(n="points"),n}function Tee(t,e){if(Ym(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Xm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Sf(t,e)?e.payload:{}}function Eee(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=wee(n,e),o=Tee(n,e),s=r.filter(function(c,f){var h=TT(o,c),m=n.props[i].filter(function(S){var E=_ee(n,e);return E(S,e)}),y=n.props[i].indexOf(m[m.length-1]),b=f===y;return h&&b}),l=r.indexOf(s[s.length-1]);return l}var Pb,x2;function See(){if(x2)return Pb;x2=1;var t=Math.ceil,e=Math.max;function n(r,i,o,s){for(var l=-1,c=e(t((i-r)/(o||1)),0),f=Array(c);c--;)f[s?c:++l]=r,r+=o;return f}return Pb=n,Pb}var Cb,b2;function i4(){if(b2)return Cb;b2=1;var t=BM(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return Cb=r,Cb}var Ob,_2;function Aee(){if(_2)return Ob;_2=1;var t=See(),e=Lm(),n=i4();function r(i){return function(o,s,l){return l&&typeof l!="number"&&e(o,s,l)&&(s=l=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),l=l===void 0?o<s?1:-1:n(l),t(o,s,l,i)}}return Ob=r,Ob}var kb,w2;function Iee(){if(w2)return kb;w2=1;var t=Aee(),e=t();return kb=e,kb}var Pee=Iee();const Kp=ht(Pee);function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){o4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o4(t,e,n){return e=Cee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cee(t){var e=Oee(t,"string");return Af(e)=="symbol"?e:e+""}function Oee(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kee=["Webkit","Moz","O","ms"],Nee=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=kee.reduce(function(o,s){return E2(E2({},o),{},o4({},s+r,n))},{});return i[e]=n,i};function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function Yp(){return Yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yp.apply(this,arguments)}function S2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(n),!0).forEach(function(r){ir(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s4(r.key),r)}}function Ree(t,e,n){return e&&A2(t.prototype,e),n&&A2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dee(t,e,n){return e=Xp(e),Mee(t,a4()?Reflect.construct(e,n||[],Xp(t).constructor):e.apply(t,n))}function Mee(t,e){if(e&&(Ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lee(t)}function Lee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a4=function(){return!!t})()}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xp(t)}function $ee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yw(t,e)}function yw(t,e){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yw(t,e)}function ir(t,e,n){return e=s4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s4(t){var e=Vee(t,"string");return Ku(e)=="symbol"?e:e+""}function Vee(t,e){if(Ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bee=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=Mc().domain(Kp(0,c)).range([o,o+s-l]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:h}},I2=function(e){return e.changedTouches&&!!e.changedTouches.length},Yu=(function(t){function e(n){var r;return jee(this,e),r=Dee(this,e,[n]),ir(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ir(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ir(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:o,startIndex:l})}),r.detachDragEndListener()}),ir(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ir(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ir(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ir(r,"handleSlideDragStart",function(i){var o=I2(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return $ee(e,t),Ree(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,l=this.props,c=l.gap,f=l.data,h=f.length-1,m=Math.min(i,o),y=Math.max(i,o),b=e.getIndexInRange(s,m),S=e.getIndexInRange(s,y);return{startIndex:b-b%c,endIndex:S===h?h:S-S%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,l=i.dataKey,c=Ei(o[r],l,r);return Ge(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,f=c.x,h=c.width,m=c.travellerWidth,y=c.startIndex,b=c.endIndex,S=c.onChange,E=r.pageX-o;E>0?E=Math.min(E,f+h-m-l,f+h-m-s):E<0&&(E=Math.max(E,f-s,f-l));var _=this.getIndex({startX:s+E,endX:l+E});(_.startIndex!==y||_.endIndex!==b)&&S&&S(_),this.setState({startX:s+E,endX:l+E,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=I2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,f=this.state[s],h=this.props,m=h.x,y=h.width,b=h.travellerWidth,S=h.onChange,E=h.gap,_=h.data,P={startX:this.state.startX,endX:this.state.endX},j=r.pageX-o;j>0?j=Math.min(j,m+y-b-f):j<0&&(j=Math.max(j,m-f)),P[s]=f+j;var R=this.getIndex(P),D=R.startIndex,k=R.endIndex,N=function(){var I=_.length-1;return s==="startX"&&(l>c?D%E===0:k%E===0)||l<c&&k===I||s==="endX"&&(l>c?k%E===0:D%E===0)||l>c&&k===I};this.setState(ir(ir({},s,f+j),"brushMoveStartX",r.pageX),function(){S&&N()&&S(R)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,l=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],m=l.indexOf(h);if(m!==-1){var y=m+r;if(!(y===-1||y>=l.length)){var b=l[y];i==="startX"&&b>=f||i==="endX"&&b<=c||this.setState(ir({},i,b),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,l=r.height,c=r.fill,f=r.stroke;return K.createElement("rect",{stroke:f,fill:c,x:i,y:o,width:s,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,l=r.height,c=r.data,f=r.children,h=r.padding,m=z.Children.only(f);return m?K.cloneElement(m,{x:i,y:o,width:s,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,l=this,c=this.props,f=c.y,h=c.travellerWidth,m=c.height,y=c.traveller,b=c.ariaLabel,S=c.data,E=c.startIndex,_=c.endIndex,P=Math.max(r,this.props.x),j=Nb(Nb({},ot(this.props,!1)),{},{x:P,y:f,width:h,height:m}),R=b||"Min value: ".concat((o=S[E])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=S[_])===null||s===void 0?void 0:s.name);return K.createElement(fn,{tabIndex:0,role:"slider","aria-label":R,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),l.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,j))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,l=o.height,c=o.stroke,f=o.travellerWidth,h=Math.min(r,i)+f,m=Math.max(Math.abs(i-r)-f,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:m,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,l=r.height,c=r.travellerWidth,f=r.stroke,h=this.state,m=h.startX,y=h.endX,b=5,S={pointerEvents:"none",fill:f};return K.createElement(fn,{className:"recharts-brush-texts"},K.createElement(Tp,Yp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-b,y:s+l/2},S),this.getTextOfTick(i)),K.createElement(Tp,Yp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+c+b,y:s+l/2},S),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,l=r.x,c=r.y,f=r.width,h=r.height,m=r.alwaysShowText,y=this.state,b=y.startX,S=y.endX,E=y.isTextActive,_=y.isSlideMoving,P=y.isTravellerMoving,j=y.isTravellerFocused;if(!i||!i.length||!xe(l)||!xe(c)||!xe(f)||!xe(h)||f<=0||h<=0)return null;var R=at("recharts-brush",o),D=K.Children.count(s)===1,k=Nee("userSelect","none");return K.createElement(fn,{className:R,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(b,S),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(S,"endX"),(E||_||P||j||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,l=r.height,c=r.stroke,f=Math.floor(o+l/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:o,width:s,height:l,fill:c,stroke:"none"}),K.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return K.isValidElement(r)?o=K.cloneElement(r,i):Ge(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,l=r.x,c=r.travellerWidth,f=r.updateId,h=r.startIndex,m=r.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return Nb({prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s},o&&o.length?Bee({data:o,width:s,x:l,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var y=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,l=o-1;l-s>1;){var c=Math.floor((s+l)/2);r[c]>i?l=c:s=c}return i>=r[l]?l:s}}])})(z.PureComponent);ir(Yu,"displayName","Brush");ir(Yu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var jb,P2;function Fee(){if(P2)return jb;P2=1;var t=Q1();function e(n,r){var i;return t(n,function(o,s,l){return i=r(o,s,l),!i}),!!i}return jb=e,jb}var Rb,C2;function Uee(){if(C2)return Rb;C2=1;var t=yM(),e=fa(),n=Fee(),r=Gn(),i=Lm();function o(s,l,c){var f=r(s)?t:n;return c&&i(s,l,c)&&(l=void 0),f(s,e(l,3))}return Rb=o,Rb}var qee=Uee();const zee=ht(qee);var xi=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},Db,O2;function Wee(){if(O2)return Db;O2=1;var t=DM();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Db=e,Db}var Mb,k2;function Hee(){if(k2)return Mb;k2=1;var t=Wee(),e=jM(),n=fa();function r(i,o){var s={};return o=n(o,3),e(i,function(l,c,f){t(s,c,o(l,c,f))}),s}return Mb=r,Mb}var Gee=Hee();const Kee=ht(Gee);var Lb,N2;function Yee(){if(N2)return Lb;N2=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return Lb=t,Lb}var $b,j2;function Xee(){if(j2)return $b;j2=1;var t=Q1();function e(n,r){var i=!0;return t(n,function(o,s,l){return i=!!r(o,s,l),i}),i}return $b=e,$b}var Vb,R2;function Qee(){if(R2)return Vb;R2=1;var t=Yee(),e=Xee(),n=fa(),r=Gn(),i=Lm();function o(s,l,c){var f=r(s)?t:e;return c&&i(s,l,c)&&(l=void 0),f(s,n(l,3))}return Vb=o,Vb}var Jee=Qee();const u4=ht(Jee);var Zee=["x","y"];function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vw.apply(this,arguments)}function D2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(n),!0).forEach(function(r){ete(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ete(t,e,n){return e=tte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tte(t){var e=nte(t,"string");return If(e)=="symbol"?e:e+""}function nte(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rte(t,e){if(t==null)return{};var n=ite(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ite(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ote(t,e){var n=t.x,r=t.y,i=rte(t,Zee),o="".concat(n),s=parseInt(o,10),l="".concat(r),c=parseInt(l,10),f="".concat(e.height||i.height),h=parseInt(f,10),m="".concat(e.width||i.width),y=parseInt(m,10);return xc(xc(xc(xc(xc({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function M2(t){return K.createElement(yee,vw({shapeType:"rectangle",propTransformer:ote,activeClassName:"recharts-active-bar"},t))}var ate=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=xe(r)||d8(r);return o?e(r,i):(o||ps(),n)}},ste=["value","background"],l4;function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function ute(t,e){if(t==null)return{};var n=lte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qp(){return Qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qp.apply(this,arguments)}function L2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(n),!0).forEach(function(r){Xo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f4(r.key),r)}}function fte(t,e,n){return e&&$2(t.prototype,e),n&&$2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dte(t,e,n){return e=Jp(e),hte(t,c4()?Reflect.construct(e,n||[],Jp(t).constructor):e.apply(t,n))}function hte(t,e){if(e&&(Xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pte(t)}function pte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c4=function(){return!!t})()}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jp(t)}function mte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xw(t,e)}function xw(t,e){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xw(t,e)}function Xo(t,e,n){return e=f4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f4(t){var e=gte(t,"string");return Xu(e)=="symbol"?e:e+""}function gte(t,e){if(Xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var no=(function(t){function e(){var n;cte(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=dte(this,e,[].concat(i)),Xo(n,"state",{isAnimationFinished:!1}),Xo(n,"id",Om("recharts-bar-")),Xo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Xo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return mte(e,t),fte(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,l=o.dataKey,c=o.activeIndex,f=o.activeBar,h=ot(this.props,!1);return r&&r.map(function(m,y){var b=y===c,S=b?f:s,E=zt(zt(zt({},h),m),{},{isActive:b,option:S,index:y,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(fn,Qp({className:"recharts-bar-rectangle"},dp(i.props,m,y),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(y)}),K.createElement(M2,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,y=this.state.prevData;return K.createElement(la,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var S=b.t,E=o.map(function(_,P){var j=y&&y[P];if(j){var R=lu(j.x,_.x),D=lu(j.y,_.y),k=lu(j.width,_.width),N=lu(j.height,_.height);return zt(zt({},_),{},{x:R(S),y:D(S),width:k(S),height:N(S)})}if(s==="horizontal"){var A=lu(0,_.height),I=A(S);return zt(zt({},_),{},{y:_.y+_.height-I,height:I})}var C=lu(0,_.width),V=C(S);return zt(zt({},_),{},{width:V})});return K.createElement(fn,null,r.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!TT(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,l=i.activeIndex,c=ot(this.props.background,!1);return o.map(function(f,h){f.value;var m=f.background,y=ute(f,ste);if(!m)return null;var b=zt(zt(zt(zt(zt({},y),{},{fill:"#eee"},m),c),dp(r.props,f,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return K.createElement(M2,Qp({key:"background-bar-".concat(h),option:r.props.background,isActive:h===l},b))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,l=o.xAxis,c=o.yAxis,f=o.layout,h=o.children,m=zr(h,Km);if(!m)return null;var y=f==="vertical"?s[0].height/2:s[0].width/2,b=function(_,P){var j=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:j,errorVal:Ei(_,P)}},S={clipPath:r?"url(#clipPath-".concat(i,")"):null};return K.createElement(fn,S,m.map(function(E){return K.cloneElement(E,{key:"error-bar-".concat(i,"-").concat(E.props.dataKey),data:s,xAxis:l,yAxis:c,layout:f,offset:y,dataPointFormatter:b})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,l=r.xAxis,c=r.yAxis,f=r.left,h=r.top,m=r.width,y=r.height,b=r.isAnimationActive,S=r.background,E=r.id;if(i||!o||!o.length)return null;var _=this.state.isAnimationFinished,P=at("recharts-bar",s),j=l&&l.allowDataOverflow,R=c&&c.allowDataOverflow,D=j||R,k=st(E)?this.id:E;return K.createElement(fn,{className:P},j||R?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(k)},K.createElement("rect",{x:j?f:f-m/2,y:R?h:h-y/2,width:j?m:m*2,height:R?y:y*2}))):null,K.createElement(fn,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(k,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,k),(!b||_)&&is.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(z.PureComponent);l4=no;Xo(no,"displayName","Bar");Xo(no,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Wf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xo(no,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,m=t.displayedData,y=t.offset,b=kX(r,n);if(!b)return null;var S=e.layout,E=n.type.defaultProps,_=E!==void 0?zt(zt({},E),n.props):n.props,P=_.dataKey,j=_.children,R=_.minPointSize,D=S==="horizontal"?s:o,k=f?D.scale.domain():null,N=VX({numericAxis:D}),A=zr(j,eT),I=m.map(function(C,V){var $,B,L,Q,ee,ae;f?$=NX(f[h+V],k):($=Ei(C,P),Array.isArray($)||($=[N,$]));var se=ate(R,l4.defaultProps.minPointSize)($[1],V);if(S==="horizontal"){var J,ie=[s.scale($[0]),s.scale($[1])],re=ie[0],q=ie[1];B=TN({axis:o,ticks:l,bandSize:i,offset:b.offset,entry:C,index:V}),L=(J=q??re)!==null&&J!==void 0?J:void 0,Q=b.size;var G=re-q;if(ee=Number.isNaN(G)?0:G,ae={x:B,y:s.y,width:Q,height:s.height},Math.abs(se)>0&&Math.abs(ee)<Math.abs(se)){var ge=Fr(ee||se)*(Math.abs(se)-Math.abs(ee));L-=ge,ee+=ge}}else{var _e=[o.scale($[0]),o.scale($[1])],Ce=_e[0],Re=_e[1];if(B=Ce,L=TN({axis:s,ticks:c,bandSize:i,offset:b.offset,entry:C,index:V}),Q=Re-Ce,ee=b.size,ae={x:o.x,y:L,width:o.width,height:ee},Math.abs(se)>0&&Math.abs(Q)<Math.abs(se)){var We=Fr(Q||se)*(Math.abs(se)-Math.abs(Q));Q+=We}}return zt(zt(zt({},C),{},{x:B,y:L,width:Q,height:ee,value:f?$:$[1],payload:C,background:ae},A&&A[V]&&A[V].props),{},{tooltipPayload:[HL(n,C)],tooltipPosition:{x:B+Q/2,y:L+ee/2}})});return zt({data:I,layout:S},y)});function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function yte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d4(r.key),r)}}function vte(t,e,n){return e&&V2(t.prototype,e),n&&V2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function B2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(n),!0).forEach(function(r){Qm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qm(t,e,n){return e=d4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d4(t){var e=xte(t,"string");return Pf(e)=="symbol"?e:e+""}function xte(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bte=function(e,n,r,i,o){var s=e.width,l=e.height,c=e.layout,f=e.children,h=Object.keys(n),m={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},y=!!or(f,no);return h.reduce(function(b,S){var E=n[S],_=E.orientation,P=E.domain,j=E.padding,R=j===void 0?{}:j,D=E.mirror,k=E.reversed,N="".concat(_).concat(D?"Mirror":""),A,I,C,V,$;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var B=P[1]-P[0],L=1/0,Q=E.categoricalDomain.sort(m8);if(Q.forEach(function(_e,Ce){Ce>0&&(L=Math.min((_e||0)-(Q[Ce-1]||0),L))}),Number.isFinite(L)){var ee=L/B,ae=E.layout==="vertical"?r.height:r.width;if(E.padding==="gap"&&(A=ee*ae/2),E.padding==="no-gap"){var se=ds(e.barCategoryGap,ee*ae),J=ee*ae/2;A=J-se-(J-se)/ae*se}}}i==="xAxis"?I=[r.left+(R.left||0)+(A||0),r.left+r.width-(R.right||0)-(A||0)]:i==="yAxis"?I=c==="horizontal"?[r.top+r.height-(R.bottom||0),r.top+(R.top||0)]:[r.top+(R.top||0)+(A||0),r.top+r.height-(R.bottom||0)-(A||0)]:I=E.range,k&&(I=[I[1],I[0]]);var ie=CX(E,o,y),re=ie.scale,q=ie.realScaleType;re.domain(P).range(I),OX(re);var G=$X(re,Mr(Mr({},E),{},{realScaleType:q}));i==="xAxis"?($=_==="top"&&!D||_==="bottom"&&D,C=r.left,V=m[N]-$*E.height):i==="yAxis"&&($=_==="left"&&!D||_==="right"&&D,C=m[N]-$*E.width,V=r.top);var ge=Mr(Mr(Mr({},E),G),{},{realScaleType:q,x:C,y:V,scale:re,width:i==="xAxis"?r.width:E.width,height:i==="yAxis"?r.height:E.height});return ge.bandSize=$p(ge,G),!E.hide&&i==="xAxis"?m[N]+=($?-1:1)*ge.height:E.hide||(m[N]+=($?-1:1)*ge.width),Mr(Mr({},b),{},Qm({},S,ge))},{})},h4=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},_te=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return h4({x:n,y:r},{x:i,y:o})},p4=(function(){function t(e){yte(this,t),this.scale=e}return vte(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();Qm(p4,"EPS",1e-4);var PT=function(e){var n=Object.keys(e).reduce(function(r,i){return Mr(Mr({},r),{},Qm({},i,p4.create(e[i])))},{});return Mr(Mr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,l=o.position;return Kee(i,function(c,f){return n[f].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return u4(i,function(o,s){return n[s].isInRange(o)})}})};function wte(t){return(t%180+180)%180}var Tte=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=wte(i),s=o*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},Bb,F2;function Ete(){if(F2)return Bb;F2=1;var t=fa(),e=zf(),n=Dm();function r(i){return function(o,s,l){var c=Object(o);if(!e(o)){var f=t(s,3);o=n(o),s=function(m){return f(c[m],m,c)}}var h=i(o,s,l);return h>-1?c[f?o[h]:h]:void 0}}return Bb=r,Bb}var Fb,U2;function Ste(){if(U2)return Fb;U2=1;var t=i4();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return Fb=e,Fb}var Ub,q2;function Ate(){if(q2)return Ub;q2=1;var t=PM(),e=fa(),n=Ste(),r=Math.max;function i(o,s,l){var c=o==null?0:o.length;if(!c)return-1;var f=l==null?0:n(l);return f<0&&(f=r(c+f,0)),t(o,e(s,3),f)}return Ub=i,Ub}var qb,z2;function Ite(){if(z2)return qb;z2=1;var t=Ete(),e=Ate(),n=t(e);return qb=n,qb}var Pte=Ite();const Cte=ht(Pte);var Ote=zD();const kte=ht(Ote);var Nte=kte(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),CT=z.createContext(void 0),OT=z.createContext(void 0),m4=z.createContext(void 0),g4=z.createContext({}),y4=z.createContext(void 0),v4=z.createContext(0),x4=z.createContext(0),W2=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,l=e.children,c=e.width,f=e.height,h=Nte(o);return K.createElement(CT.Provider,{value:r},K.createElement(OT.Provider,{value:i},K.createElement(g4.Provider,{value:o},K.createElement(m4.Provider,{value:h},K.createElement(y4.Provider,{value:s},K.createElement(v4.Provider,{value:f},K.createElement(x4.Provider,{value:c},l)))))))},jte=function(){return z.useContext(y4)},b4=function(e){var n=z.useContext(CT);n==null&&ps();var r=n[e];return r==null&&ps(),r},Rte=function(){var e=z.useContext(CT);return Ko(e)},Dte=function(){var e=z.useContext(OT),n=Cte(e,function(r){return u4(r.domain,Number.isFinite)});return n||Ko(e)},_4=function(e){var n=z.useContext(OT);n==null&&ps();var r=n[e];return r==null&&ps(),r},Mte=function(){var e=z.useContext(m4);return e},Lte=function(){return z.useContext(g4)},kT=function(){return z.useContext(x4)},NT=function(){return z.useContext(v4)};function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function $te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T4(r.key),r)}}function Bte(t,e,n){return e&&Vte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fte(t,e,n){return e=Zp(e),Ute(t,w4()?Reflect.construct(e,n||[],Zp(t).constructor):e.apply(t,n))}function Ute(t,e){if(e&&(Qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qte(t)}function qte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w4=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zp(t)}function zte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bw(t,e)}function bw(t,e){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bw(t,e)}function H2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(n),!0).forEach(function(r){jT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jT(t,e,n){return e=T4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T4(t){var e=Wte(t,"string");return Qu(e)=="symbol"?e:e+""}function Wte(t,e){if(Qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Hte(t,e){return Xte(t)||Yte(t,e)||Kte(t,e)||Gte()}function Gte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kte(t,e){if(t){if(typeof t=="string")return K2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K2(t,e)}}function K2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Xte(t){if(Array.isArray(t))return t}function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(this,arguments)}var Qte=function(e,n){var r;return K.isValidElement(e)?r=K.cloneElement(e,n):Ge(e)?r=e(n):r=K.createElement("line",_w({},n,{className:"recharts-reference-line-line"})),r},Jte=function(e,n,r,i,o,s,l,c,f){var h=o.x,m=o.y,y=o.width,b=o.height;if(r){var S=f.y,E=e.y.apply(S,{position:s});if(xi(f,"discard")&&!e.y.isInRange(E))return null;var _=[{x:h+y,y:E},{x:h,y:E}];return c==="left"?_.reverse():_}if(n){var P=f.x,j=e.x.apply(P,{position:s});if(xi(f,"discard")&&!e.x.isInRange(j))return null;var R=[{x:j,y:m+b},{x:j,y:m}];return l==="top"?R.reverse():R}if(i){var D=f.segment,k=D.map(function(N){return e.apply(N,{position:s})});return xi(f,"discard")&&zee(k,function(N){return!e.isInRange(N)})?null:k}return null};function Zte(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,f=jte(),h=b4(i),m=_4(o),y=Mte();if(!f||!y)return null;eo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=PT({x:h.scale,y:m.scale}),S=nn(e),E=nn(n),_=r&&r.length===2,P=Jte(b,S,E,_,y,t.position,h.orientation,m.orientation,t);if(!P)return null;var j=Hte(P,2),R=j[0],D=R.x,k=R.y,N=j[1],A=N.x,I=N.y,C=xi(t,"hidden")?"url(#".concat(f,")"):void 0,V=G2(G2({clipPath:C},ot(t,!0)),{},{x1:D,y1:k,x2:A,y2:I});return K.createElement(fn,{className:at("recharts-reference-line",l)},Qte(s,V),kn.renderCallByParent(t,_te({x1:D,y1:k,x2:A,y2:I})))}var RT=(function(t){function e(){return $te(this,e),Fte(this,e,arguments)}return zte(e,t),Bte(e,[{key:"render",value:function(){return K.createElement(Zte,this.props)}}])})(K.Component);jT(RT,"displayName","ReferenceLine");jT(RT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(this,arguments)}function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function Y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(n),!0).forEach(function(r){Jm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ene(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S4(r.key),r)}}function nne(t,e,n){return e&&tne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rne(t,e,n){return e=em(e),ine(t,E4()?Reflect.construct(e,n||[],em(t).constructor):e.apply(t,n))}function ine(t,e){if(e&&(Ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return one(t)}function one(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E4=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},em(t)}function ane(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tw(t,e)}function Tw(t,e){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tw(t,e)}function Jm(t,e,n){return e=S4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S4(t){var e=sne(t,"string");return Ju(e)=="symbol"?e:e+""}function sne(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var une=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=PT({x:i.scale,y:o.scale}),l=s.apply({x:n,y:r},{bandAware:!0});return xi(e,"discard")&&!s.isInRange(l)?null:l},Zm=(function(t){function e(){return ene(this,e),rne(this,e,arguments)}return ane(e,t),nne(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,l=r.alwaysShow,c=r.clipPathId,f=nn(i),h=nn(o);if(eo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var m=une(this.props);if(!m)return null;var y=m.x,b=m.y,S=this.props,E=S.shape,_=S.className,P=xi(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=X2(X2({clipPath:P},ot(this.props,!0)),{},{cx:y,cy:b});return K.createElement(fn,{className:at("recharts-reference-dot",_)},e.renderDot(E,j),kn.renderCallByParent(this.props,{x:y-s,y:b-s,width:2*s,height:2*s}))}}])})(K.Component);Jm(Zm,"displayName","ReferenceDot");Jm(Zm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Jm(Zm,"renderDot",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):Ge(t)?n=t(e):n=K.createElement(r4,ww({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ew.apply(this,arguments)}function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function Q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(n),!0).forEach(function(r){eg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I4(r.key),r)}}function fne(t,e,n){return e&&cne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dne(t,e,n){return e=tm(e),hne(t,A4()?Reflect.construct(e,n||[],tm(t).constructor):e.apply(t,n))}function hne(t,e){if(e&&(Zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pne(t)}function pne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A4=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tm(t)}function mne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sw(t,e)}function Sw(t,e){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sw(t,e)}function eg(t,e,n){return e=I4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I4(t){var e=gne(t,"string");return Zu(e)=="symbol"?e:e+""}function gne(t,e){if(Zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yne=function(e,n,r,i,o){var s=o.x1,l=o.x2,c=o.y1,f=o.y2,h=o.xAxis,m=o.yAxis;if(!h||!m)return null;var y=PT({x:h.scale,y:m.scale}),b={x:e?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(c,{position:"start"}):y.y.rangeMin},S={x:n?y.x.apply(l,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(f,{position:"end"}):y.y.rangeMax};return xi(o,"discard")&&(!y.isInRange(b)||!y.isInRange(S))?null:h4(b,S)},tg=(function(t){function e(){return lne(this,e),dne(this,e,arguments)}return mne(e,t),fne(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,l=r.y2,c=r.className,f=r.alwaysShow,h=r.clipPathId;eo(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=nn(i),y=nn(o),b=nn(s),S=nn(l),E=this.props.shape;if(!m&&!y&&!b&&!S&&!E)return null;var _=yne(m,y,b,S,this.props);if(!_&&!E)return null;var P=xi(this.props,"hidden")?"url(#".concat(h,")"):void 0;return K.createElement(fn,{className:at("recharts-reference-area",c)},e.renderRect(E,J2(J2({clipPath:P},ot(this.props,!0)),_)),kn.renderCallByParent(this.props,_))}}])})(K.Component);eg(tg,"displayName","ReferenceArea");eg(tg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});eg(tg,"renderRect",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):Ge(t)?n=t(e):n=K.createElement(IT,Ew({},e,{className:"recharts-reference-area-rect"})),n});function P4(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function vne(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Tte(r,n)}function xne(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,l=t.height;return e===1?{start:r?i:o,end:r?i+s:o+l}:{start:r?i+s:o+l,end:r?i:o}}function nm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function bne(t,e){return P4(t,e+1)}function _ne(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,l=e.end,c=0,f=1,h=s,m=function(){var S=r==null?void 0:r[c];if(S===void 0)return{v:P4(r,f)};var E=c,_,P=function(){return _===void 0&&(_=n(S,E)),_},j=S.coordinate,R=c===0||nm(t,j,P,h,l);R||(c=0,h=s,f+=1),R&&(h=j+t*(P()/2+i),c+=f)},y;f<=o.length;)if(y=m(),y)return y.v;return[]}function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(n),!0).forEach(function(r){wne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wne(t,e,n){return e=Tne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tne(t){var e=Ene(t,"string");return Cf(e)=="symbol"?e:e+""}function Ene(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sne(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,l=e.start,c=e.end,f=function(y){var b=o[y],S,E=function(){return S===void 0&&(S=n(b,y)),S};if(y===s-1){var _=t*(b.coordinate+t*E()/2-c);o[y]=b=Pn(Pn({},b),{},{tickCoord:_>0?b.coordinate-_*t:b.coordinate})}else o[y]=b=Pn(Pn({},b),{},{tickCoord:b.coordinate});var P=nm(t,b.tickCoord,E,l,c);P&&(c=b.tickCoord-t*(E()/2+i),o[y]=Pn(Pn({},b),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return o}function Ane(t,e,n,r,i,o){var s=(r||[]).slice(),l=s.length,c=e.start,f=e.end;if(o){var h=r[l-1],m=n(h,l-1),y=t*(h.coordinate+t*m/2-f);s[l-1]=h=Pn(Pn({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var b=nm(t,h.tickCoord,function(){return m},c,f);b&&(f=h.tickCoord-t*(m/2+i),s[l-1]=Pn(Pn({},h),{},{isShow:!0}))}for(var S=o?l-1:l,E=function(j){var R=s[j],D,k=function(){return D===void 0&&(D=n(R,j)),D};if(j===0){var N=t*(R.coordinate-t*k()/2-c);s[j]=R=Pn(Pn({},R),{},{tickCoord:N<0?R.coordinate-N*t:R.coordinate})}else s[j]=R=Pn(Pn({},R),{},{tickCoord:R.coordinate});var A=nm(t,R.tickCoord,k,c,f);A&&(c=R.tickCoord+t*(k()/2+i),s[j]=Pn(Pn({},R),{},{isShow:!0}))},_=0;_<S;_++)E(_);return s}function DT(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(xe(c)||Wf.isSsr)return bne(i,typeof c=="number"&&xe(c)?c:0);var y=[],b=l==="top"||l==="bottom"?"width":"height",S=h&&b==="width"?Dc(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=function(R,D){var k=Ge(f)?f(R.value,D):R.value;return b==="width"?vne(Dc(k,{fontSize:e,letterSpacing:n}),S,m):Dc(k,{fontSize:e,letterSpacing:n})[b]},_=i.length>=2?Fr(i[1].coordinate-i[0].coordinate):1,P=xne(o,_,b);return c==="equidistantPreserveStart"?_ne(_,P,E,i,s):(c==="preserveStart"||c==="preserveStartEnd"?y=Ane(_,P,E,i,s,c==="preserveStartEnd"):y=Sne(_,P,E,i,s),y.filter(function(j){return j.isShow}))}var Ine=["viewBox"],Pne=["viewBox"],Cne=["ticks"];function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function xu(){return xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xu.apply(this,arguments)}function ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ej(Object(n),!0).forEach(function(r){MT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zb(t,e){if(t==null)return{};var n=One(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function One(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O4(r.key),r)}}function Nne(t,e,n){return e&&tj(t.prototype,e),n&&tj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jne(t,e,n){return e=rm(e),Rne(t,C4()?Reflect.construct(e,n||[],rm(t).constructor):e.apply(t,n))}function Rne(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dne(t)}function Dne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C4=function(){return!!t})()}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rm(t)}function Mne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Aw(t,e)}function Aw(t,e){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Aw(t,e)}function MT(t,e,n){return e=O4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O4(t){var e=Lne(t,"string");return el(e)=="symbol"?e:e+""}function Lne(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vl=(function(t){function e(n){var r;return kne(this,e),r=jne(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Mne(e,t),Nne(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=zb(r,Ine),l=this.props,c=l.viewBox,f=zb(l,Pne);return!Iu(o,c)||!Iu(s,f)||!Iu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,l=i.width,c=i.height,f=i.orientation,h=i.tickSize,m=i.mirror,y=i.tickMargin,b,S,E,_,P,j,R=m?-1:1,D=r.tickSize||h,k=xe(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":b=S=r.coordinate,_=s+ +!m*c,E=_-R*D,j=E-R*y,P=k;break;case"left":E=_=r.coordinate,S=o+ +!m*l,b=S-R*D,P=b-R*y,j=k;break;case"right":E=_=r.coordinate,S=o+ +m*l,b=S+R*D,P=b+R*y,j=k;break;default:b=S=r.coordinate,_=s+ +m*c,E=_+R*D,j=E+R*y,P=k;break}return{line:{x1:b,y1:E,x2:S,y2:_},tick:{x:P,y:j}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,l=r.height,c=r.orientation,f=r.mirror,h=r.axisLine,m=Qt(Qt(Qt({},ot(this.props,!1)),ot(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!f||c==="bottom"&&f);m=Qt(Qt({},m),{},{x1:i,y1:o+y*l,x2:i+s,y2:o+y*l})}else{var b=+(c==="left"&&!f||c==="right"&&f);m=Qt(Qt({},m),{},{x1:i+b*s,y1:o,x2:i+b*s,y2:o+l})}return K.createElement("line",xu({},m,{className:at("recharts-cartesian-axis-line",wr(h,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,l=this.props,c=l.tickLine,f=l.stroke,h=l.tick,m=l.tickFormatter,y=l.unit,b=DT(Qt(Qt({},this.props),{},{ticks:r}),i,o),S=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),_=ot(this.props,!1),P=ot(h,!1),j=Qt(Qt({},_),{},{fill:"none"},ot(c,!1)),R=b.map(function(D,k){var N=s.getTickLineCoord(D),A=N.line,I=N.tick,C=Qt(Qt(Qt(Qt({textAnchor:S,verticalAnchor:E},_),{},{stroke:"none",fill:f},P),I),{},{index:k,payload:D,visibleTicksCount:b.length,tickFormatter:m});return K.createElement(fn,xu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},dp(s.props,D,k)),c&&K.createElement("line",xu({},j,A,{className:at("recharts-cartesian-axis-tick-line",wr(c,"className"))})),h&&e.renderTickItem(h,C,"".concat(Ge(m)?m(D.value,k):D.value).concat(y||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},R)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var m=this.props,y=m.ticks,b=zb(m,Cne),S=y;return Ge(c)&&(S=y&&y.length>0?c(this.props):c(b)),s<=0||l<=0||!S||!S.length?null:K.createElement(fn,{className:at("recharts-cartesian-axis",f),ref:function(_){r.layerReference=_}},o&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),kn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,l=at(i.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(r)?s=K.cloneElement(r,Qt(Qt({},i),{},{className:l})):Ge(r)?s=r(Qt(Qt({},i),{},{className:l})):s=K.createElement(Tp,xu({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])})(z.Component);MT(vl,"displayName","CartesianAxis");MT(vl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $ne=["x1","y1","x2","y2","key"],Vne=["offset"];function ms(t){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(t)}function nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(n),!0).forEach(function(r){Bne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bne(t,e,n){return e=Fne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fne(t){var e=Une(t,"string");return ms(e)=="symbol"?e:e+""}function Une(t,e){if(ms(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qa.apply(this,arguments)}function rj(t,e){if(t==null)return{};var n=qne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var zne=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,c=e.ry;return K.createElement("rect",{x:i,y:o,ry:c,width:s,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function k4(t,e){var n;if(K.isValidElement(t))n=K.cloneElement(t,e);else if(Ge(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,l=e.key,c=rj(e,$ne),f=ot(c,!1);f.offset;var h=rj(f,Vne);n=K.createElement("line",Qa({},h,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:l}))}return n}function Wne(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(l,c){var f=Nn(Nn({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return k4(i,f)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Hne(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(l,c){var f=Nn(Nn({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return k4(i,f)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Gne(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=l.map(function(y){return Math.round(y+i-i)}).sort(function(y,b){return y-b});i!==h[0]&&h.unshift(0);var m=h.map(function(y,b){var S=!h[b+1],E=S?i+s-y:h[b+1]-y;if(E<=0)return null;var _=b%e.length;return K.createElement("rect",{key:"react-".concat(b),y,x:r,height:E,width:o,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Kne(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,l=t.width,c=t.height,f=t.verticalPoints;if(!n||!r||!r.length)return null;var h=f.map(function(y){return Math.round(y+o-o)}).sort(function(y,b){return y-b});o!==h[0]&&h.unshift(0);var m=h.map(function(y,b){var S=!h[b+1],E=S?o+l-y:h[b+1]-y;if(E<=0)return null;var _=b%r.length;return K.createElement("rect",{key:"react-".concat(b),x:y,y:s,width:E,height:c,stroke:"none",fill:r[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Yne=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return zL(DT(Nn(Nn(Nn({},vl.defaultProps),r),{},{ticks:Ji(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},Xne=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return zL(DT(Nn(Nn(Nn({},vl.defaultProps),r),{},{ticks:Ji(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},du={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function N4(t){var e,n,r,i,o,s,l=kT(),c=NT(),f=Lte(),h=Nn(Nn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:du.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:du.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:du.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:du.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:du.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:du.verticalFill,x:xe(t.x)?t.x:f.left,y:xe(t.y)?t.y:f.top,width:xe(t.width)?t.width:f.width,height:xe(t.height)?t.height:f.height}),m=h.x,y=h.y,b=h.width,S=h.height,E=h.syncWithTicks,_=h.horizontalValues,P=h.verticalValues,j=Rte(),R=Dte();if(!xe(b)||b<=0||!xe(S)||S<=0||!xe(m)||m!==+m||!xe(y)||y!==+y)return null;var D=h.verticalCoordinatesGenerator||Yne,k=h.horizontalCoordinatesGenerator||Xne,N=h.horizontalPoints,A=h.verticalPoints;if((!N||!N.length)&&Ge(k)){var I=_&&_.length,C=k({yAxis:R?Nn(Nn({},R),{},{ticks:I?_:R.ticks}):void 0,width:l,height:c,offset:f},I?!0:E);eo(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ms(C),"]")),Array.isArray(C)&&(N=C)}if((!A||!A.length)&&Ge(D)){var V=P&&P.length,$=D({xAxis:j?Nn(Nn({},j),{},{ticks:V?P:j.ticks}):void 0,width:l,height:c,offset:f},V?!0:E);eo(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ms($),"]")),Array.isArray($)&&(A=$)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(zne,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),K.createElement(Wne,Qa({},h,{offset:f,horizontalPoints:N,xAxis:j,yAxis:R})),K.createElement(Hne,Qa({},h,{offset:f,verticalPoints:A,xAxis:j,yAxis:R})),K.createElement(Gne,Qa({},h,{horizontalPoints:N})),K.createElement(Kne,Qa({},h,{verticalPoints:A})))}N4.displayName="CartesianGrid";function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function Qne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D4(r.key),r)}}function Zne(t,e,n){return e&&Jne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ere(t,e,n){return e=im(e),tre(t,j4()?Reflect.construct(e,n||[],im(t).constructor):e.apply(t,n))}function tre(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nre(t)}function nre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j4=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},im(t)}function rre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}function Iw(t,e){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Iw(t,e)}function R4(t,e,n){return e=D4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D4(t){var e=ire(t,"string");return tl(e)=="symbol"?e:e+""}function ire(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pw.apply(this,arguments)}function ore(t){var e=t.xAxisId,n=kT(),r=NT(),i=b4(e);return i==null?null:z.createElement(vl,Pw({},i,{className:at("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ji(s,!0)}}))}var ng=(function(t){function e(){return Qne(this,e),ere(this,e,arguments)}return rre(e,t),Zne(e,[{key:"render",value:function(){return z.createElement(ore,this.props)}}])})(z.Component);R4(ng,"displayName","XAxis");R4(ng,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function are(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$4(r.key),r)}}function ure(t,e,n){return e&&sre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lre(t,e,n){return e=om(e),cre(t,M4()?Reflect.construct(e,n||[],om(t).constructor):e.apply(t,n))}function cre(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fre(t)}function fre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M4=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},om(t)}function dre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cw(t,e)}function Cw(t,e){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cw(t,e)}function L4(t,e,n){return e=$4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $4(t){var e=hre(t,"string");return nl(e)=="symbol"?e:e+""}function hre(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ow(){return Ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ow.apply(this,arguments)}var pre=function(e){var n=e.yAxisId,r=kT(),i=NT(),o=_4(n);return o==null?null:z.createElement(vl,Ow({},o,{className:at("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Ji(l,!0)}}))},rg=(function(t){function e(){return are(this,e),lre(this,e,arguments)}return dre(e,t),ure(e,[{key:"render",value:function(){return z.createElement(pre,this.props)}}])})(z.Component);L4(rg,"displayName","YAxis");L4(rg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ij(t){return vre(t)||yre(t)||gre(t)||mre()}function mre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gre(t,e){if(t){if(typeof t=="string")return kw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kw(t,e)}}function yre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vre(t){if(Array.isArray(t))return kw(t)}function kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Nw=function(e,n,r,i,o){var s=zr(e,RT),l=zr(e,Zm),c=[].concat(ij(s),ij(l)),f=zr(e,tg),h="".concat(i,"Id"),m=i[0],y=n;if(c.length&&(y=c.reduce(function(E,_){if(_.props[h]===r&&xi(_.props,"extendDomain")&&xe(_.props[m])){var P=_.props[m];return[Math.min(E[0],P),Math.max(E[1],P)]}return E},y)),f.length){var b="".concat(m,"1"),S="".concat(m,"2");y=f.reduce(function(E,_){if(_.props[h]===r&&xi(_.props,"extendDomain")&&xe(_.props[b])&&xe(_.props[S])){var P=_.props[b],j=_.props[S];return[Math.min(E[0],P,j),Math.max(E[1],P,j)]}return E},y)}return o&&o.length&&(y=o.reduce(function(E,_){return xe(_)?[Math.min(E[0],_),Math.max(E[1],_)]:E},y)),y},Wb={exports:{}},oj;function xre(){return oj||(oj=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,m,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new i(h,m||c,y),S=n?n+f:f;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],b]:c._events[S].push(b):(c._events[S]=b,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,b=m.length,S=new Array(b);y<b;y++)S[y]=m[y].fn;return S},l.prototype.listenerCount=function(f){var h=n?n+f:f,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(f,h,m,y,b,S){var E=n?n+f:f;if(!this._events[E])return!1;var _=this._events[E],P=arguments.length,j,R;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),P){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,m),!0;case 4:return _.fn.call(_.context,h,m,y),!0;case 5:return _.fn.call(_.context,h,m,y,b),!0;case 6:return _.fn.call(_.context,h,m,y,b,S),!0}for(R=1,j=new Array(P-1);R<P;R++)j[R-1]=arguments[R];_.fn.apply(_.context,j)}else{var D=_.length,k;for(R=0;R<D;R++)switch(_[R].once&&this.removeListener(f,_[R].fn,void 0,!0),P){case 1:_[R].fn.call(_[R].context);break;case 2:_[R].fn.call(_[R].context,h);break;case 3:_[R].fn.call(_[R].context,h,m);break;case 4:_[R].fn.call(_[R].context,h,m,y);break;default:if(!j)for(k=1,j=new Array(P-1);k<P;k++)j[k-1]=arguments[k];_[R].fn.apply(_[R].context,j)}}return!0},l.prototype.on=function(f,h,m){return o(this,f,h,m,!1)},l.prototype.once=function(f,h,m){return o(this,f,h,m,!0)},l.prototype.removeListener=function(f,h,m,y){var b=n?n+f:f;if(!this._events[b])return this;if(!h)return s(this,b),this;var S=this._events[b];if(S.fn)S.fn===h&&(!y||S.once)&&(!m||S.context===m)&&s(this,b);else{for(var E=0,_=[],P=S.length;E<P;E++)(S[E].fn!==h||y&&!S[E].once||m&&S[E].context!==m)&&_.push(S[E]);_.length?this._events[b]=_.length===1?_[0]:_:s(this,b)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(Wb)),Wb.exports}var bre=xre();const _re=ht(bre);var Hb=new _re,Gb="recharts.syncMouseEvents";function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function wre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V4(r.key),r)}}function Ere(t,e,n){return e&&Tre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kb(t,e,n){return e=V4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V4(t){var e=Sre(t,"string");return Of(e)=="symbol"?e:e+""}function Sre(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Are=(function(){function t(){wre(this,t),Kb(this,"activeIndex",0),Kb(this,"coordinateList",[]),Kb(this,"layout","horizontal")}return Ere(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,l=s===void 0?null:s,c=n.layout,f=c===void 0?null:c,h=n.offset,m=h===void 0?null:h,y=n.mouseHandlerCallback,b=y===void 0?null:y;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=o+c+f,y=s+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])})();function Ire(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&xe(r)&&xe(i))return!0}return!1}function Pre(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function B4(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=bn(e,n,r,i),l=bn(e,n,r,o);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Cre(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,m=e.angle,y=bn(l,c,f,m),b=bn(l,c,h,m);r=y.x,i=y.y,o=b.x,s=b.y}else return B4(e);return[{x:r,y:i},{x:o,y:s}]}function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ch(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aj(Object(n),!0).forEach(function(r){Ore(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ore(t,e,n){return e=kre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kre(t){var e=Nre(t,"string");return kf(e)=="symbol"?e:e+""}function Nre(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jre(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,y=t.chartName,b=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!b||!o||!s||y!=="ScatterChart"&&i!=="axis")return null;var S,E=BN;if(y==="ScatterChart")S=s,E=zZ;else if(y==="BarChart")S=Pre(m,s,c,h),E=IT;else if(m==="radial"){var _=B4(s),P=_.cx,j=_.cy,R=_.radius,D=_.startAngle,k=_.endAngle;S={cx:P,cy:j,startAngle:D,endAngle:k,innerRadius:R,outerRadius:R},E=YL}else S={points:Cre(m,s,c)},E=BN;var N=Ch(Ch(Ch(Ch({stroke:"#ccc",pointerEvents:"none"},c),S),ot(b,!1)),{},{payload:l,payloadIndex:f,className:at("recharts-tooltip-cursor",b.className)});return z.isValidElement(b)?z.cloneElement(b,N):z.createElement(E,N)}var Rre=["item"],Dre=["children","className","width","height","style","compact","title","desc"];function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function bu(){return bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bu.apply(this,arguments)}function sj(t,e){return $re(t)||Lre(t,e)||U4(t,e)||Mre()}function Mre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function $re(t){if(Array.isArray(t))return t}function uj(t,e){if(t==null)return{};var n=Vre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q4(r.key),r)}}function Ure(t,e,n){return e&&Fre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qre(t,e,n){return e=am(e),zre(t,F4()?Reflect.construct(e,n||[],am(t).constructor):e.apply(t,n))}function zre(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wre(t)}function Wre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F4=function(){return!!t})()}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},am(t)}function Hre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jw(t,e)}function jw(t,e){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jw(t,e)}function il(t){return Yre(t)||Kre(t)||U4(t)||Gre()}function Gre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U4(t,e){if(t){if(typeof t=="string")return Rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rw(t,e)}}function Kre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yre(t){if(Array.isArray(t))return Rw(t)}function Rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lj(Object(n),!0).forEach(function(r){De(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function De(t,e,n){return e=q4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q4(t){var e=Xre(t,"string");return rl(e)=="symbol"?e:e+""}function Xre(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qre={xAxis:["bottom","top"],yAxis:["left","right"]},Jre={width:"100%",height:"100%"},z4={x:0,y:0};function Oh(t){return t}var Zre=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},eie=function(e,n,r,i){var o=n.find(function(h){return h&&h.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,l=i.radius;return oe(oe(oe({},i),bn(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=o.coordinate,f=i.angle;return oe(oe(oe({},i),bn(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return z4},ig=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(l,c){var f=c.props.data;return f&&f.length?[].concat(il(l),il(f)):l},[]);return s.length>0?s:e&&e.length&&xe(i)&&xe(o)?e.slice(i,o+1):[]};function W4(t){return t==="number"?[0,"auto"]:void 0}var Dw=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,l=ig(n,e);return r<0||!o||!o.length||r>=l.length?null:o.reduce(function(c,f){var h,m=(h=f.props.data)!==null&&h!==void 0?h:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var b=m===void 0?l:m;y=__(b,s.dataKey,i)}else y=m&&m[r]||l[r];return y?[].concat(il(c),[HL(f,y)]):c},[])},cj=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=Zre(o,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=TX(s,l,f,c);if(h>=0&&f){var m=f[h]&&f[h].value,y=Dw(e,n,h,m),b=eie(r,l,h,o);return{activeTooltipIndex:h,activeLabel:m,activePayload:y,activeCoordinate:b}}return null},tie=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,m=e.children,y=e.stackOffset,b=qL(h,o);return r.reduce(function(S,E){var _,P=E.type.defaultProps!==void 0?oe(oe({},E.type.defaultProps),E.props):E.props,j=P.type,R=P.dataKey,D=P.allowDataOverflow,k=P.allowDuplicatedCategory,N=P.scale,A=P.ticks,I=P.includeHidden,C=P[s];if(S[C])return S;var V=ig(e.data,{graphicalItems:i.filter(function(G){var ge,_e=s in G.props?G.props[s]:(ge=G.type.defaultProps)===null||ge===void 0?void 0:ge[s];return _e===C}),dataStartIndex:c,dataEndIndex:f}),$=V.length,B,L,Q;Ire(P.domain,D,j)&&(B=tw(P.domain,null,D),b&&(j==="number"||N!=="auto")&&(Q=Lc(V,R,"category")));var ee=W4(j);if(!B||B.length===0){var ae,se=(ae=P.domain)!==null&&ae!==void 0?ae:ee;if(R){if(B=Lc(V,R,j),j==="category"&&b){var J=p8(B);k&&J?(L=B,B=Kp(0,$)):k||(B=AN(se,B,E).reduce(function(G,ge){return G.indexOf(ge)>=0?G:[].concat(il(G),[ge])},[]))}else if(j==="category")k?B=B.filter(function(G){return G!==""&&!st(G)}):B=AN(se,B,E).reduce(function(G,ge){return G.indexOf(ge)>=0||ge===""||st(ge)?G:[].concat(il(G),[ge])},[]);else if(j==="number"){var ie=PX(V,i.filter(function(G){var ge,_e,Ce=s in G.props?G.props[s]:(ge=G.type.defaultProps)===null||ge===void 0?void 0:ge[s],Re="hide"in G.props?G.props.hide:(_e=G.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return Ce===C&&(I||!Re)}),R,o,h);ie&&(B=ie)}b&&(j==="number"||N!=="auto")&&(Q=Lc(V,R,"category"))}else b?B=Kp(0,$):l&&l[C]&&l[C].hasStack&&j==="number"?B=y==="expand"?[0,1]:WL(l[C].stackGroups,c,f):B=UL(V,i.filter(function(G){var ge=s in G.props?G.props[s]:G.type.defaultProps[s],_e="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ge===C&&(I||!_e)}),j,h,!0);if(j==="number")B=Nw(m,B,C,o,A),se&&(B=tw(se,B,D));else if(j==="category"&&se){var re=se,q=B.every(function(G){return re.indexOf(G)>=0});q&&(B=re)}}return oe(oe({},S),{},De({},C,oe(oe({},P),{},{axisType:o,domain:B,categoricalDomain:Q,duplicateDomain:L,originalDomain:(_=P.domain)!==null&&_!==void 0?_:ee,isCategorical:b,layout:h})))},{})},nie=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,m=e.children,y=ig(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),b=y.length,S=qL(h,o),E=-1;return r.reduce(function(_,P){var j=P.type.defaultProps!==void 0?oe(oe({},P.type.defaultProps),P.props):P.props,R=j[s],D=W4("number");if(!_[R]){E++;var k;return S?k=Kp(0,b):l&&l[R]&&l[R].hasStack?(k=WL(l[R].stackGroups,c,f),k=Nw(m,k,R,o)):(k=tw(D,UL(y,r.filter(function(N){var A,I,C=s in N.props?N.props[s]:(A=N.type.defaultProps)===null||A===void 0?void 0:A[s],V="hide"in N.props?N.props.hide:(I=N.type.defaultProps)===null||I===void 0?void 0:I.hide;return C===R&&!V}),"number",h),i.defaultProps.allowDataOverflow),k=Nw(m,k,R,o)),oe(oe({},_),{},De({},R,oe(oe({axisType:o},i.defaultProps),{},{hide:!0,orientation:wr(Qre,"".concat(o,".").concat(E%2),null),domain:k,originalDomain:D,isCategorical:S,layout:h})))}return _},{})},rie=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.children,m="".concat(i,"Id"),y=zr(h,o),b={};return y&&y.length?b=tie(e,{axes:y,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(b=nie(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:f})),b},iie=function(e){var n=Ko(e),r=Ji(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:J1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:$p(n,r)}},fj=function(e){var n=e.children,r=e.defaultShowTooltip,i=or(n,Yu),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},oie=function(e){return!e||!e.length?!1:e.some(function(n){var r=Zi(n&&n.type);return r&&r.indexOf("Bar")>=0})},dj=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},aie=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,l=e.yAxisMap,c=l===void 0?{}:l,f=r.width,h=r.height,m=r.children,y=r.margin||{},b=or(m,Yu),S=or(m,Pu),E=Object.keys(c).reduce(function(k,N){var A=c[N],I=A.orientation;return!A.mirror&&!A.hide?oe(oe({},k),{},De({},I,k[I]+A.width)):k},{left:y.left||0,right:y.right||0}),_=Object.keys(s).reduce(function(k,N){var A=s[N],I=A.orientation;return!A.mirror&&!A.hide?oe(oe({},k),{},De({},I,wr(k,"".concat(I))+A.height)):k},{top:y.top||0,bottom:y.bottom||0}),P=oe(oe({},_),E),j=P.bottom;b&&(P.bottom+=b.props.height||Yu.defaultProps.height),S&&n&&(P=AX(P,i,r,n));var R=f-P.left-P.right,D=h-P.top-P.bottom;return oe(oe({brushBottom:j},P),{},{width:Math.max(R,0),height:Math.max(D,0)})},sie=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},uie=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,y=function(P,j){var R=j.graphicalItems,D=j.stackGroups,k=j.offset,N=j.updateId,A=j.dataStartIndex,I=j.dataEndIndex,C=P.barSize,V=P.layout,$=P.barGap,B=P.barCategoryGap,L=P.maxBarSize,Q=dj(V),ee=Q.numericAxisName,ae=Q.cateAxisName,se=oie(R),J=[];return R.forEach(function(ie,re){var q=ig(P.data,{graphicalItems:[ie],dataStartIndex:A,dataEndIndex:I}),G=ie.type.defaultProps!==void 0?oe(oe({},ie.type.defaultProps),ie.props):ie.props,ge=G.dataKey,_e=G.maxBarSize,Ce=G["".concat(ee,"Id")],Re=G["".concat(ae,"Id")],We={},Le=c.reduce(function(Kt,Kn){var Ai=j["".concat(Kn.axisType,"Map")],ma=G["".concat(Kn.axisType,"Id")];Ai&&Ai[ma]||Kn.axisType==="zAxis"||ps();var Sr=Ai[ma];return oe(oe({},Kt),{},De(De({},Kn.axisType,Sr),"".concat(Kn.axisType,"Ticks"),Ji(Sr)))},We),he=Le[ae],Oe=Le["".concat(ae,"Ticks")],Be=D&&D[Ce]&&D[Ce].hasStack&&BX(ie,D[Ce].stackGroups),ce=Zi(ie.type).indexOf("Bar")>=0,rt=$p(he,Oe),ze=[],It=se&&EX({barSize:C,stackGroups:D,totalSize:sie(Le,ae)});if(ce){var yt,Rt,Ln=st(_e)?L:_e,pt=(yt=(Rt=$p(he,Oe,!0))!==null&&Rt!==void 0?Rt:Ln)!==null&&yt!==void 0?yt:0;ze=SX({barGap:$,barCategoryGap:B,bandSize:pt!==rt?pt:rt,sizeList:It[Re],maxBarSize:Ln}),pt!==rt&&(ze=ze.map(function(Kt){return oe(oe({},Kt),{},{position:oe(oe({},Kt.position),{},{offset:Kt.position.offset-pt/2})})}))}var vt=ie&&ie.type&&ie.type.getComposedData;vt&&J.push({props:oe(oe({},vt(oe(oe({},Le),{},{displayedData:q,props:P,dataKey:ge,item:ie,bandSize:rt,barPosition:ze,offset:k,stackedData:Be,layout:V,dataStartIndex:A,dataEndIndex:I}))),{},De(De(De({key:ie.key||"item-".concat(re)},ee,Le[ee]),ae,Le[ae]),"animationId",N)),childIndex:A8(ie,P.children),item:ie})}),J},b=function(P,j){var R=P.props,D=P.dataStartIndex,k=P.dataEndIndex,N=P.updateId;if(!FP({props:R}))return null;var A=R.children,I=R.layout,C=R.stackOffset,V=R.data,$=R.reverseStackOrder,B=dj(I),L=B.numericAxisName,Q=B.cateAxisName,ee=zr(A,r),ae=LX(V,ee,"".concat(L,"Id"),"".concat(Q,"Id"),C,$),se=c.reduce(function(G,ge){var _e="".concat(ge.axisType,"Map");return oe(oe({},G),{},De({},_e,rie(R,oe(oe({},ge),{},{graphicalItems:ee,stackGroups:ge.axisType===L&&ae,dataStartIndex:D,dataEndIndex:k}))))},{}),J=aie(oe(oe({},se),{},{props:R,graphicalItems:ee}),j==null?void 0:j.legendBBox);Object.keys(se).forEach(function(G){se[G]=h(R,se[G],J,G.replace("Map",""),n)});var ie=se["".concat(Q,"Map")],re=iie(ie),q=y(R,oe(oe({},se),{},{dataStartIndex:D,dataEndIndex:k,updateId:N,graphicalItems:ee,stackGroups:ae,offset:J}));return oe(oe({formattedGraphicalItems:q,graphicalItems:ee,offset:J,stackGroups:ae},re),se)},S=(function(_){function P(j){var R,D,k;return Bre(this,P),k=qre(this,P,[j]),De(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),De(k,"accessibilityManager",new Are),De(k,"handleLegendBBoxUpdate",function(N){if(N){var A=k.state,I=A.dataStartIndex,C=A.dataEndIndex,V=A.updateId;k.setState(oe({legendBBox:N},b({props:k.props,dataStartIndex:I,dataEndIndex:C,updateId:V},oe(oe({},k.state),{},{legendBBox:N}))))}}),De(k,"handleReceiveSyncEvent",function(N,A,I){if(k.props.syncId===N){if(I===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(A)}}),De(k,"handleBrushChange",function(N){var A=N.startIndex,I=N.endIndex;if(A!==k.state.dataStartIndex||I!==k.state.dataEndIndex){var C=k.state.updateId;k.setState(function(){return oe({dataStartIndex:A,dataEndIndex:I},b({props:k.props,dataStartIndex:A,dataEndIndex:I,updateId:C},k.state))}),k.triggerSyncEvent({dataStartIndex:A,dataEndIndex:I})}}),De(k,"handleMouseEnter",function(N){var A=k.getMouseInfo(N);if(A){var I=oe(oe({},A),{},{isTooltipActive:!0});k.setState(I),k.triggerSyncEvent(I);var C=k.props.onMouseEnter;Ge(C)&&C(I,N)}}),De(k,"triggeredAfterMouseMove",function(N){var A=k.getMouseInfo(N),I=A?oe(oe({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(I),k.triggerSyncEvent(I);var C=k.props.onMouseMove;Ge(C)&&C(I,N)}),De(k,"handleItemMouseEnter",function(N){k.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),De(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),De(k,"handleMouseMove",function(N){N.persist(),k.throttleTriggeredAfterMouseMove(N)}),De(k,"handleMouseLeave",function(N){k.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};k.setState(A),k.triggerSyncEvent(A);var I=k.props.onMouseLeave;Ge(I)&&I(A,N)}),De(k,"handleOuterEvent",function(N){var A=S8(N),I=wr(k.props,"".concat(A));if(A&&Ge(I)){var C,V;/.*touch.*/i.test(A)?V=k.getMouseInfo(N.changedTouches[0]):V=k.getMouseInfo(N),I((C=V)!==null&&C!==void 0?C:{},N)}}),De(k,"handleClick",function(N){var A=k.getMouseInfo(N);if(A){var I=oe(oe({},A),{},{isTooltipActive:!0});k.setState(I),k.triggerSyncEvent(I);var C=k.props.onClick;Ge(C)&&C(I,N)}}),De(k,"handleMouseDown",function(N){var A=k.props.onMouseDown;if(Ge(A)){var I=k.getMouseInfo(N);A(I,N)}}),De(k,"handleMouseUp",function(N){var A=k.props.onMouseUp;if(Ge(A)){var I=k.getMouseInfo(N);A(I,N)}}),De(k,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),De(k,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&k.handleMouseDown(N.changedTouches[0])}),De(k,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&k.handleMouseUp(N.changedTouches[0])}),De(k,"handleDoubleClick",function(N){var A=k.props.onDoubleClick;if(Ge(A)){var I=k.getMouseInfo(N);A(I,N)}}),De(k,"handleContextMenu",function(N){var A=k.props.onContextMenu;if(Ge(A)){var I=k.getMouseInfo(N);A(I,N)}}),De(k,"triggerSyncEvent",function(N){k.props.syncId!==void 0&&Hb.emit(Gb,k.props.syncId,N,k.eventEmitterSymbol)}),De(k,"applySyncEvent",function(N){var A=k.props,I=A.layout,C=A.syncMethod,V=k.state.updateId,$=N.dataStartIndex,B=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)k.setState(oe({dataStartIndex:$,dataEndIndex:B},b({props:k.props,dataStartIndex:$,dataEndIndex:B,updateId:V},k.state)));else if(N.activeTooltipIndex!==void 0){var L=N.chartX,Q=N.chartY,ee=N.activeTooltipIndex,ae=k.state,se=ae.offset,J=ae.tooltipTicks;if(!se)return;if(typeof C=="function")ee=C(J,N);else if(C==="value"){ee=-1;for(var ie=0;ie<J.length;ie++)if(J[ie].value===N.activeLabel){ee=ie;break}}var re=oe(oe({},se),{},{x:se.left,y:se.top}),q=Math.min(L,re.x+re.width),G=Math.min(Q,re.y+re.height),ge=J[ee]&&J[ee].value,_e=Dw(k.state,k.props.data,ee),Ce=J[ee]?{x:I==="horizontal"?J[ee].coordinate:q,y:I==="horizontal"?G:J[ee].coordinate}:z4;k.setState(oe(oe({},N),{},{activeLabel:ge,activeCoordinate:Ce,activePayload:_e,activeTooltipIndex:ee}))}else k.setState(N)}),De(k,"renderCursor",function(N){var A,I=k.state,C=I.isTooltipActive,V=I.activeCoordinate,$=I.activePayload,B=I.offset,L=I.activeTooltipIndex,Q=I.tooltipAxisBandSize,ee=k.getTooltipEventType(),ae=(A=N.props.active)!==null&&A!==void 0?A:C,se=k.props.layout,J=N.key||"_recharts-cursor";return K.createElement(jre,{key:J,activeCoordinate:V,activePayload:$,activeTooltipIndex:L,chartName:n,element:N,isActive:ae,layout:se,offset:B,tooltipAxisBandSize:Q,tooltipEventType:ee})}),De(k,"renderPolarAxis",function(N,A,I){var C=wr(N,"type.axisType"),V=wr(k.state,"".concat(C,"Map")),$=N.type.defaultProps,B=$!==void 0?oe(oe({},$),N.props):N.props,L=V&&V[B["".concat(C,"Id")]];return z.cloneElement(N,oe(oe({},L),{},{className:at(C,L.className),key:N.key||"".concat(A,"-").concat(I),ticks:Ji(L,!0)}))}),De(k,"renderPolarGrid",function(N){var A=N.props,I=A.radialLines,C=A.polarAngles,V=A.polarRadius,$=k.state,B=$.radiusAxisMap,L=$.angleAxisMap,Q=Ko(B),ee=Ko(L),ae=ee.cx,se=ee.cy,J=ee.innerRadius,ie=ee.outerRadius;return z.cloneElement(N,{polarAngles:Array.isArray(C)?C:Ji(ee,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(V)?V:Ji(Q,!0).map(function(re){return re.coordinate}),cx:ae,cy:se,innerRadius:J,outerRadius:ie,key:N.key||"polar-grid",radialLines:I})}),De(k,"renderLegend",function(){var N=k.state.formattedGraphicalItems,A=k.props,I=A.children,C=A.width,V=A.height,$=k.props.margin||{},B=C-($.left||0)-($.right||0),L=BL({children:I,formattedGraphicalItems:N,legendWidth:B,legendContent:f});if(!L)return null;var Q=L.item,ee=uj(L,Rre);return z.cloneElement(Q,oe(oe({},ee),{},{chartWidth:C,chartHeight:V,margin:$,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),De(k,"renderTooltip",function(){var N,A=k.props,I=A.children,C=A.accessibilityLayer,V=or(I,fi);if(!V)return null;var $=k.state,B=$.isTooltipActive,L=$.activeCoordinate,Q=$.activePayload,ee=$.activeLabel,ae=$.offset,se=(N=V.props.active)!==null&&N!==void 0?N:B;return z.cloneElement(V,{viewBox:oe(oe({},ae),{},{x:ae.left,y:ae.top}),active:se,label:ee,payload:se?Q:[],coordinate:L,accessibilityLayer:C})}),De(k,"renderBrush",function(N){var A=k.props,I=A.margin,C=A.data,V=k.state,$=V.offset,B=V.dataStartIndex,L=V.dataEndIndex,Q=V.updateId;return z.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Sh(k.handleBrushChange,N.props.onChange),data:C,x:xe(N.props.x)?N.props.x:$.left,y:xe(N.props.y)?N.props.y:$.top+$.height+$.brushBottom-(I.bottom||0),width:xe(N.props.width)?N.props.width:$.width,startIndex:B,endIndex:L,updateId:"brush-".concat(Q)})}),De(k,"renderReferenceElement",function(N,A,I){if(!N)return null;var C=k,V=C.clipPathId,$=k.state,B=$.xAxisMap,L=$.yAxisMap,Q=$.offset,ee=N.type.defaultProps||{},ae=N.props,se=ae.xAxisId,J=se===void 0?ee.xAxisId:se,ie=ae.yAxisId,re=ie===void 0?ee.yAxisId:ie;return z.cloneElement(N,{key:N.key||"".concat(A,"-").concat(I),xAxis:B[J],yAxis:L[re],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:V})}),De(k,"renderActivePoints",function(N){var A=N.item,I=N.activePoint,C=N.basePoint,V=N.childIndex,$=N.isRange,B=[],L=A.props.key,Q=A.item.type.defaultProps!==void 0?oe(oe({},A.item.type.defaultProps),A.item.props):A.item.props,ee=Q.activeDot,ae=Q.dataKey,se=oe(oe({index:V,dataKey:ae,cx:I.x,cy:I.y,r:4,fill:AT(A.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},ot(ee,!1)),fp(ee));return B.push(P.renderActiveDot(ee,se,"".concat(L,"-activePoint-").concat(V))),C?B.push(P.renderActiveDot(ee,oe(oe({},se),{},{cx:C.x,cy:C.y}),"".concat(L,"-basePoint-").concat(V))):$&&B.push(null),B}),De(k,"renderGraphicChild",function(N,A,I){var C=k.filterFormatItem(N,A,I);if(!C)return null;var V=k.getTooltipEventType(),$=k.state,B=$.isTooltipActive,L=$.tooltipAxis,Q=$.activeTooltipIndex,ee=$.activeLabel,ae=k.props.children,se=or(ae,fi),J=C.props,ie=J.points,re=J.isRange,q=J.baseLine,G=C.item.type.defaultProps!==void 0?oe(oe({},C.item.type.defaultProps),C.item.props):C.item.props,ge=G.activeDot,_e=G.hide,Ce=G.activeBar,Re=G.activeShape,We=!!(!_e&&B&&se&&(ge||Ce||Re)),Le={};V!=="axis"&&se&&se.props.trigger==="click"?Le={onClick:Sh(k.handleItemMouseEnter,N.props.onClick)}:V!=="axis"&&(Le={onMouseLeave:Sh(k.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Sh(k.handleItemMouseEnter,N.props.onMouseEnter)});var he=z.cloneElement(N,oe(oe({},C.props),Le));function Oe(Kn){return typeof L.dataKey=="function"?L.dataKey(Kn.payload):null}if(We)if(Q>=0){var Be,ce;if(L.dataKey&&!L.allowDuplicatedCategory){var rt=typeof L.dataKey=="function"?Oe:"payload.".concat(L.dataKey.toString());Be=__(ie,rt,ee),ce=re&&q&&__(q,rt,ee)}else Be=ie==null?void 0:ie[Q],ce=re&&q&&q[Q];if(Re||Ce){var ze=N.props.activeIndex!==void 0?N.props.activeIndex:Q;return[z.cloneElement(N,oe(oe(oe({},C.props),Le),{},{activeIndex:ze})),null,null]}if(!st(Be))return[he].concat(il(k.renderActivePoints({item:C,activePoint:Be,basePoint:ce,childIndex:Q,isRange:re})))}else{var It,yt=(It=k.getItemByXY(k.state.activeCoordinate))!==null&&It!==void 0?It:{graphicalItem:he},Rt=yt.graphicalItem,Ln=Rt.item,pt=Ln===void 0?N:Ln,vt=Rt.childIndex,Kt=oe(oe(oe({},C.props),Le),{},{activeIndex:vt});return[z.cloneElement(pt,Kt),null,null]}return re?[he,null,null]:[he,null]}),De(k,"renderCustomized",function(N,A,I){return z.cloneElement(N,oe(oe({key:"recharts-customized-".concat(I)},k.props),k.state))}),De(k,"renderMap",{CartesianGrid:{handler:Oh,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:Oh},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:Oh},YAxis:{handler:Oh},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((R=j.id)!==null&&R!==void 0?R:Om("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=FM(k.triggeredAfterMouseMove,(D=j.throttleDelay)!==null&&D!==void 0?D:1e3/60),k.state={},k}return Hre(P,_),Ure(P,[{key:"componentDidMount",value:function(){var R,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var R=this.props,D=R.children,k=R.data,N=R.height,A=R.layout,I=or(D,fi);if(I){var C=I.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var V=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,$=Dw(this.state,k,C,V),B=this.state.tooltipTicks[C].coordinate,L=(this.state.offset.top+N)/2,Q=A==="horizontal",ee=Q?{x:B,y:L}:{y:B,x:L},ae=this.state.formattedGraphicalItems.find(function(J){var ie=J.item;return ie.type.name==="Scatter"});ae&&(ee=oe(oe({},ee),ae.props.points[C].tooltipPosition),$=ae.props.points[C].tooltipPayload);var se={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:V,activePayload:$,activeCoordinate:ee};this.setState(se),this.renderCursor(I),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(R,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==R.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==R.margin){var k,N;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(R){T_([or(R.children,fi)],[or(this.props.children,fi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var R=or(this.props.children,fi);if(R&&typeof R.props.shared=="boolean"){var D=R.props.shared?"axis":"item";return l.indexOf(D)>=0?D:o}return o}},{key:"getMouseInfo",value:function(R){if(!this.container)return null;var D=this.container,k=D.getBoundingClientRect(),N=hH(k),A={chartX:Math.round(R.pageX-N.left),chartY:Math.round(R.pageY-N.top)},I=k.width/D.offsetWidth||1,C=this.inRange(A.chartX,A.chartY,I);if(!C)return null;var V=this.state,$=V.xAxisMap,B=V.yAxisMap,L=this.getTooltipEventType(),Q=cj(this.state,this.props.data,this.props.layout,C);if(L!=="axis"&&$&&B){var ee=Ko($).scale,ae=Ko(B).scale,se=ee&&ee.invert?ee.invert(A.chartX):null,J=ae&&ae.invert?ae.invert(A.chartY):null;return oe(oe({},A),{},{xValue:se,yValue:J},Q)}return Q?oe(oe({},A),Q):null}},{key:"inRange",value:function(R,D){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,A=R/k,I=D/k;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,V=A>=C.left&&A<=C.left+C.width&&I>=C.top&&I<=C.top+C.height;return V?{x:A,y:I}:null}var $=this.state,B=$.angleAxisMap,L=$.radiusAxisMap;if(B&&L){var Q=Ko(B);return CN({x:A,y:I},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var R=this.props.children,D=this.getTooltipEventType(),k=or(R,fi),N={};k&&D==="axis"&&(k.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=fp(this.props,this.handleOuterEvent);return oe(oe({},A),N)}},{key:"addListener",value:function(){Hb.on(Gb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Hb.removeListener(Gb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(R,D,k){for(var N=this.state.formattedGraphicalItems,A=0,I=N.length;A<I;A++){var C=N[A];if(C.item===R||C.props.key===R.key||D===Zi(C.item.type)&&k===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var R=this.clipPathId,D=this.state.offset,k=D.left,N=D.top,A=D.height,I=D.width;return K.createElement("defs",null,K.createElement("clipPath",{id:R},K.createElement("rect",{x:k,y:N,height:A,width:I})))}},{key:"getXScales",value:function(){var R=this.state.xAxisMap;return R?Object.entries(R).reduce(function(D,k){var N=sj(k,2),A=N[0],I=N[1];return oe(oe({},D),{},De({},A,I.scale))},{}):null}},{key:"getYScales",value:function(){var R=this.state.yAxisMap;return R?Object.entries(R).reduce(function(D,k){var N=sj(k,2),A=N[0],I=N[1];return oe(oe({},D),{},De({},A,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(R){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[R])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(R){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[R])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(R){var D=this.state,k=D.formattedGraphicalItems,N=D.activeItem;if(k&&k.length)for(var A=0,I=k.length;A<I;A++){var C=k[A],V=C.props,$=C.item,B=$.type.defaultProps!==void 0?oe(oe({},$.type.defaultProps),$.props):$.props,L=Zi($.type);if(L==="Bar"){var Q=(V.data||[]).find(function(J){return RZ(R,J)});if(Q)return{graphicalItem:C,payload:Q}}else if(L==="RadialBar"){var ee=(V.data||[]).find(function(J){return CN(R,J)});if(ee)return{graphicalItem:C,payload:ee}}else if(Ym(C,N)||Xm(C,N)||Sf(C,N)){var ae=Eee({graphicalItem:C,activeTooltipItem:N,itemData:B.data}),se=B.activeIndex===void 0?ae:B.activeIndex;return{graphicalItem:oe(oe({},C),{},{childIndex:se}),payload:Sf(C,N)?B.data[ae]:C.props.data[ae]}}}return null}},{key:"render",value:function(){var R=this;if(!FP(this))return null;var D=this.props,k=D.children,N=D.className,A=D.width,I=D.height,C=D.style,V=D.compact,$=D.title,B=D.desc,L=uj(D,Dre),Q=ot(L,!1);if(V)return K.createElement(W2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(S_,bu({},Q,{width:A,height:I,title:$,desc:B}),this.renderClipPath(),qP(k,this.renderMap)));if(this.props.accessibilityLayer){var ee,ae;Q.tabIndex=(ee=this.props.tabIndex)!==null&&ee!==void 0?ee:0,Q.role=(ae=this.props.role)!==null&&ae!==void 0?ae:"application",Q.onKeyDown=function(J){R.accessibilityManager.keyboardEvent(J)},Q.onFocus=function(){R.accessibilityManager.focus()}}var se=this.parseEventsOfWrapper();return K.createElement(W2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",bu({className:at("recharts-wrapper",N),style:oe({position:"relative",cursor:"default",width:A,height:I},C)},se,{ref:function(ie){R.container=ie}}),K.createElement(S_,bu({},Q,{width:A,height:I,title:$,desc:B,style:Jre}),this.renderClipPath(),qP(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(z.Component);De(S,"displayName",n),De(S,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),De(S,"getDerivedStateFromProps",function(_,P){var j=_.dataKey,R=_.data,D=_.children,k=_.width,N=_.height,A=_.layout,I=_.stackOffset,C=_.margin,V=P.dataStartIndex,$=P.dataEndIndex;if(P.updateId===void 0){var B=fj(_);return oe(oe(oe({},B),{},{updateId:0},b(oe(oe({props:_},B),{},{updateId:0}),P)),{},{prevDataKey:j,prevData:R,prevWidth:k,prevHeight:N,prevLayout:A,prevStackOffset:I,prevMargin:C,prevChildren:D})}if(j!==P.prevDataKey||R!==P.prevData||k!==P.prevWidth||N!==P.prevHeight||A!==P.prevLayout||I!==P.prevStackOffset||!Iu(C,P.prevMargin)){var L=fj(_),Q={chartX:P.chartX,chartY:P.chartY,isTooltipActive:P.isTooltipActive},ee=oe(oe({},cj(P,R,A)),{},{updateId:P.updateId+1}),ae=oe(oe(oe({},L),Q),ee);return oe(oe(oe({},ae),b(oe({props:_},ae),P)),{},{prevDataKey:j,prevData:R,prevWidth:k,prevHeight:N,prevLayout:A,prevStackOffset:I,prevMargin:C,prevChildren:D})}if(!T_(D,P.prevChildren)){var se,J,ie,re,q=or(D,Yu),G=q&&(se=(J=q.props)===null||J===void 0?void 0:J.startIndex)!==null&&se!==void 0?se:V,ge=q&&(ie=(re=q.props)===null||re===void 0?void 0:re.endIndex)!==null&&ie!==void 0?ie:$,_e=G!==V||ge!==$,Ce=!st(R),Re=Ce&&!_e?P.updateId:P.updateId+1;return oe(oe({updateId:Re},b(oe(oe({props:_},P),{},{updateId:Re,dataStartIndex:G,dataEndIndex:ge}),P)),{},{prevChildren:D,dataStartIndex:G,dataEndIndex:ge})}return null}),De(S,"renderActiveDot",function(_,P,j){var R;return z.isValidElement(_)?R=z.cloneElement(_,P):Ge(_)?R=_(P):R=K.createElement(r4,P),K.createElement(fn,{className:"recharts-active-dot",key:j},R)});var E=z.forwardRef(function(P,j){return K.createElement(S,bu({},P,{ref:j}))});return E.displayName=S.displayName,E},lie=uie({chartName:"BarChart",GraphicalChild:no,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ng},{axisType:"yAxis",AxisComp:rg}],formatAxisMap:bte});function cie({budget:t,currency:e}){const n=t.map(i=>({name:i.name,emoji:i.emoji,min:i.min||0,max:i.max||0,actual:i.actual||0})),r=({active:i,payload:o,label:s})=>!i||!(o!=null&&o.length)?null:v.jsxs("div",{className:"bg-bg-secondary border border-border rounded-[var(--radius-md)] p-3",children:[v.jsx("p",{className:"text-text-primary font-medium text-sm mb-1",children:s}),o.map((l,c)=>v.jsxs("p",{className:"text-xs",style:{color:l.color},children:[l.name,": ",sr(l.value,e)]},c))]});return v.jsx(aH,{width:"100%",height:280,children:v.jsxs(lie,{data:n,margin:{top:10,right:10,left:0,bottom:0},children:[v.jsx(N4,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),v.jsx(ng,{dataKey:"name",stroke:"var(--color-text-muted)",fontSize:11,tickLine:!1,axisLine:!1}),v.jsx(rg,{stroke:"var(--color-text-muted)",fontSize:11,tickLine:!1,axisLine:!1,tickFormatter:i=>sr(i,e)}),v.jsx(fi,{content:v.jsx(r,{})}),v.jsx(no,{dataKey:"min",name:"Min Budget",fill:"#6A9BCC",opacity:.4,radius:[2,2,0,0]}),v.jsx(no,{dataKey:"max",name:"Max Budget",fill:"#6A9BCC",opacity:.7,radius:[2,2,0,0]}),v.jsx(no,{dataKey:"actual",name:"Actual Spent",radius:[4,4,0,0],children:n.map((i,o)=>v.jsx(eT,{fill:i.actual>i.max?"#C15F3C":"#D97757"},o))})]})})}function fie({category:t,currency:e,travelers:n,perPerson:r}){const{dispatch:i}=Gt(),o=r?Math.max(n,1):1,s=t.actual>t.max&&t.max>0;return v.jsxs(Nt,{className:"animate-fade-in",children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-xl",children:t.emoji}),v.jsx(Zt,{value:t.name,onSave:l=>i({type:pe.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{name:l}}}),className:"font-medium text-text-primary text-sm"})]}),v.jsx("button",{onClick:()=>i({type:pe.DELETE_BUDGET_CATEGORY,payload:t.id}),className:"text-xs text-text-muted hover:text-danger transition-colors",children:""})]}),v.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-4 text-sm",children:[v.jsxs("div",{children:[v.jsx("span",{className:"text-text-muted text-xs block",children:"Min"}),v.jsx(Zt,{value:t.min?String(Math.round(t.min/o)):"",onSave:l=>i({type:pe.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{min:(Number(l)||0)*o}}}),className:"text-text-primary font-mono text-xs",placeholder:"0"})]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-text-muted text-xs block",children:"Max"}),v.jsx(Zt,{value:t.max?String(Math.round(t.max/o)):"",onSave:l=>i({type:pe.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{max:(Number(l)||0)*o}}}),className:"text-text-primary font-mono text-xs",placeholder:"0"})]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-text-muted text-xs block",children:"Actual"}),v.jsx(Zt,{value:t.actual?String(Math.round(t.actual/o)):"",onSave:l=>i({type:pe.UPDATE_BUDGET_CATEGORY,payload:{id:t.id,updates:{actual:(Number(l)||0)*o}}}),className:`font-mono text-xs ${s?"text-danger font-bold":"text-text-primary"}`,placeholder:"0"})]})]}),s&&v.jsxs("p",{className:"text-xs text-danger mt-2 font-medium",children:[" Over budget by ",sr(t.actual-t.max,e)]}),v.jsxs("div",{className:"mt-2 text-xs text-text-muted",children:["Range: ",sr(Math.round(t.min/o),e),"  ",sr(Math.round(t.max/o),e),r&&" per person"]})]})}function die({onAdd:t,onCancel:e,categories:n,currency:r}){var m;const[i,o]=z.useState(""),[s,l]=z.useState(""),[c,f]=z.useState(((m=n[0])==null?void 0:m.name)||""),h=y=>{y.preventDefault(),!(!i.trim()||!s)&&(t({description:i.trim(),amount:Number(s),category:c}),o(""),l(""))};return v.jsx(Nt,{children:v.jsxs("form",{onSubmit:h,className:"flex flex-wrap gap-2 items-end",children:[v.jsxs("div",{className:"flex-1 min-w-[160px]",children:[v.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Description"}),v.jsx("input",{value:i,onChange:y=>o(y.target.value),placeholder:"What did you spend on?",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0})]}),v.jsxs("div",{className:"w-28",children:[v.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Amount"}),v.jsx("input",{type:"number",value:s,onChange:y=>l(y.target.value),placeholder:"0",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Category"}),v.jsx("select",{value:c,onChange:y=>f(y.target.value),className:"px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",children:n.map(y=>v.jsxs("option",{value:y.name,children:[y.emoji," ",y.name]},y.id))})]}),v.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),v.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"})]})})}function hie(){var m;const{activeTrip:t,dispatch:e}=Gt(),[n,r]=z.useState(!1),[i,o]=z.useState(!1);if(!t)return null;const s=t,l=s.budget||[],c=s.currency||"PHP",f=z.useMemo(()=>({min:l.reduce((y,b)=>y+(b.min||0),0),max:l.reduce((y,b)=>y+(b.max||0),0),actual:l.reduce((y,b)=>y+(b.actual||0),0)}),[l]),h=n?Math.max(s.travelers,1):1;return v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsxs(Nt,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h2",{className:"font-heading text-lg text-text-primary",children:" Budget"}),v.jsx("button",{onClick:()=>r(!n),className:`px-3 py-1 text-xs rounded-[var(--radius-pill)] border transition-colors
              ${n?"bg-accent text-white border-accent":"border-border text-text-muted hover:text-text-secondary"}`,children:n?"Per Person":"Total"})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-5 text-center",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Min Estimate"}),v.jsx("p",{className:"font-heading text-xl text-text-primary mt-1",children:sr(Math.round(f.min/h),c)})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Max Estimate"}),v.jsx("p",{className:"font-heading text-xl text-text-primary mt-1",children:sr(Math.round(f.max/h),c)})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Spent"}),v.jsx("p",{className:`font-heading text-xl mt-1 ${f.actual>f.max&&f.max>0?"text-danger":"text-accent"}`,children:sr(Math.round(f.actual/h),c)})]})]}),n&&v.jsxs("p",{className:"text-xs text-text-muted text-center mt-2",children:["Showing per person (",s.travelers," travelers)"]})]}),l.length>0&&v.jsx(Nt,{children:v.jsx(cie,{budget:l,currency:c})}),v.jsx("div",{className:"grid sm:grid-cols-2 gap-5",children:l.map(y=>v.jsx(fie,{category:y,currency:c,travelers:s.travelers,perPerson:n},y.id))}),v.jsx("button",{onClick:()=>e({type:pe.ADD_BUDGET_CATEGORY,payload:{name:"New Category",emoji:""}}),className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add budget category"}),v.jsxs(Nt,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("h3",{className:"font-heading text-sm text-text-primary",children:"Spending Log"}),v.jsx("button",{onClick:()=>o(!0),className:"text-xs text-accent hover:text-accent-hover",children:"+ Log expense"})]}),i&&v.jsx("div",{className:"mb-3",children:v.jsx(die,{categories:l,currency:c,onAdd:y=>{e({type:pe.ADD_SPENDING,payload:y}),o(!1)},onCancel:()=>o(!1)})}),((m=s.spendingLog)==null?void 0:m.length)>0?v.jsx("div",{className:"space-y-2",children:s.spendingLog.map(y=>v.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50 last:border-0 group",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-text-primary",children:y.description}),v.jsxs("p",{className:"text-xs text-text-muted",children:[y.date,"  ",y.category]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-sm font-mono text-text-primary",children:sr(y.amount,c)}),v.jsx("button",{onClick:()=>e({type:pe.DELETE_SPENDING,payload:y.id}),className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-xs transition-opacity",children:""})]})]},y.id))}):v.jsx("p",{className:"text-sm text-text-muted italic",children:"No expenses logged yet."})]})]})}const hj=["#D97757","#D4A72C","#788C5D","#6A9BCC","#C15F3C","#E07BA0"];function H4({trigger:t}){const[e,n]=z.useState([]);return z.useEffect(()=>{if(!t)return;const r=Array.from({length:30},(o,s)=>({id:Date.now()+s,left:Math.random()*100,color:hj[Math.floor(Math.random()*hj.length)],delay:Math.random()*.5,size:6+Math.random()*6,duration:2+Math.random()*1}));n(r);const i=setTimeout(()=>n([]),3500);return()=>clearTimeout(i)},[t]),e.length===0?null:v.jsx(v.Fragment,{children:e.map(r=>v.jsx("div",{className:"confetti-piece",style:{left:`${r.left}%`,backgroundColor:r.color,width:r.size,height:r.size,animationDelay:`${r.delay}s`,animationDuration:`${r.duration}s`}},r.id))})}function pie({todo:t,onToggle:e,onUpdate:n,onDelete:r}){const[i,o]=z.useState(!1),[s,l]=z.useState(t.text),c=()=>{o(!1),s.trim()!==t.text&&n({text:s.trim()})};return v.jsxs("div",{className:`flex items-center gap-3 py-2.5 group transition-opacity ${t.done?"opacity-60":""}`,children:[v.jsx("button",{onClick:e,className:`flex-shrink-0 w-5 h-5 rounded-[var(--radius-sm)] border-2 transition-all flex items-center justify-center
          ${t.done?"bg-success border-success text-white animate-check-pop":"border-border-strong hover:border-accent"}`,children:t.done&&v.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:v.jsx("path",{d:"M2 6l3 3 5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[i?v.jsx("input",{value:s,onChange:f=>l(f.target.value),onBlur:c,onKeyDown:f=>{f.key==="Enter"&&c(),f.key==="Escape"&&(l(t.text),o(!1))},className:"w-full px-2 py-0.5 text-sm bg-bg-input border border-accent/30 rounded-[var(--radius-sm)] text-text-primary outline-none focus:border-accent",autoFocus:!0}):v.jsx("span",{onClick:()=>{l(t.text),o(!0)},className:`text-sm cursor-pointer hover:border-b hover:border-accent/30 transition-colors
              ${t.done?"line-through text-text-muted":"text-text-primary"}`,children:t.text}),v.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:t.dueDate&&v.jsx("span",{className:"text-xs text-text-muted",children:t.dueDate})})]}),t.priority==="high"&&v.jsx("span",{className:"flex-shrink-0 w-2 h-2 rounded-full bg-danger",title:"High priority"}),v.jsx("button",{onClick:r,className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-xs transition-opacity flex-shrink-0",children:""})]})}function mie({category:t,onAdd:e}){const[n,r]=z.useState(""),[i,o]=z.useState(""),[s,l]=z.useState("normal"),[c,f]=z.useState(!1),h=m=>{m.preventDefault(),n.trim()&&(e({text:n.trim(),category:t,dueDate:i,priority:s}),r(""),o(""),l("normal"),f(!1))};return c?v.jsxs("form",{onSubmit:h,className:"flex gap-2 items-center py-1",children:[v.jsx("input",{value:n,onChange:m=>r(m.target.value),placeholder:"New task...",className:"flex-1 px-2 py-1 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0}),v.jsx("input",{type:"date",value:i,onChange:m=>o(m.target.value),className:"px-2 py-1 text-xs bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary"}),v.jsx("button",{type:"button",onClick:()=>l(m=>m==="high"?"normal":"high"),className:`text-xs px-2 py-1 rounded-[var(--radius-sm)] border transition-colors
          ${s==="high"?"border-danger text-danger bg-danger/10":"border-border text-text-muted"}`,title:"Toggle high priority",children:"!!"}),v.jsx("button",{type:"submit",className:"px-2 py-1 text-xs bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),v.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-xs text-text-muted",children:""})]}):v.jsx("button",{onClick:()=>f(!0),className:"text-xs text-accent hover:text-accent-hover transition-colors py-1",children:"+ Add task"})}function gie(){const{activeTrip:t,dispatch:e,showToast:n}=Gt(),[r,i]=z.useState("all"),[o,s]=z.useState(0);if(!t)return null;const c=t.todos||[],f=z.useMemo(()=>{const D=[...new Set(c.map(k=>k.category))];return X9.forEach(k=>{D.includes(k)||D.push(k)}),D},[c]),h=z.useMemo(()=>{switch(r){case"high":return c.filter(D=>D.priority==="high");case"incomplete":return c.filter(D=>!D.done);case"complete":return c.filter(D=>D.done);default:return c}},[c,r]),m=z.useMemo(()=>{const D={};return f.forEach(k=>{D[k]=[]}),h.forEach(k=>{const N=k.category||"Misc";D[N]||(D[N]=[]),D[N].push(k)}),D},[h,f]),y=c.filter(D=>D.done).length,b=c.length,S=z.useCallback(D=>{e({type:pe.TOGGLE_TODO,payload:D});const k=c.find(N=>N.id===D);k&&!k.done&&y+1===b&&(s(A=>A+1),n("You're all set! Have an amazing trip "))},[e,c,y,b,n]),[E,_]=z.useState(!1),[P,j]=z.useState(""),R=[{id:"all",label:`All (${b})`},{id:"high",label:"High Priority"},{id:"incomplete",label:`Incomplete (${b-y})`},{id:"complete",label:`Complete (${y})`}];return v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsx(H4,{trigger:o}),v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs("h2",{className:"font-heading text-lg text-text-primary",children:[" To-Do  ",y,"/",b," done"]})}),v.jsx("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide",children:R.map(D=>v.jsx("button",{onClick:()=>i(D.id),className:`px-3 py-1.5 text-xs font-medium rounded-[var(--radius-pill)] whitespace-nowrap transition-colors
              ${r===D.id?"bg-accent text-white":"bg-bg-secondary text-text-muted hover:text-text-secondary border border-border"}`,children:D.label},D.id))}),Object.entries(m).map(([D,k])=>{const N=k.filter(I=>I.done).length,A=k.length;return v.jsxs(Nt,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h3",{className:"font-heading text-sm font-semibold text-text-primary",children:D}),v.jsxs("span",{className:"text-xs text-text-muted",children:[N,"/",A]})]}),v.jsx("div",{className:"divide-y divide-border/30",children:k.map(I=>v.jsx(pie,{todo:I,onToggle:()=>S(I.id),onUpdate:C=>e({type:pe.UPDATE_TODO,payload:{id:I.id,updates:C}}),onDelete:()=>e({type:pe.DELETE_TODO,payload:I.id})},I.id))}),v.jsx(mie,{category:D,onAdd:I=>e({type:pe.ADD_TODO,payload:I})})]},D)}),E?v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{value:P,onChange:D=>j(D.target.value),placeholder:"Category name",className:"flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",autoFocus:!0,onKeyDown:D=>{D.key==="Enter"&&P.trim()&&(e({type:pe.ADD_TODO,payload:{text:"New task",category:P.trim()}}),j(""),_(!1))}}),v.jsx("button",{onClick:()=>_(!1),className:"text-sm text-text-muted",children:"Cancel"})]}):v.jsx("button",{onClick:()=>_(!0),className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add category"})]})}const G4={Philippines:"",Singapore:"",Thailand:"",Malaysia:"",Indonesia:"",Vietnam:"",Japan:"","South Korea":"",Taiwan:"",Cambodia:"",India:"",China:"","Hong Kong":"",Australia:"","New Zealand":"",USA:"",UK:"",France:"",Italy:"",Spain:"",Germany:"",Netherlands:"",Greece:"",Turkey:"",UAE:"",Mexico:"",Brazil:"",Canada:""};function yie({city:t}){const{dispatch:e}=Gt(),n=i=>{e({type:pe.UPDATE_CITY,payload:{id:t.id,updates:i}})},r=i=>{const o=G4[i.trim()]||t.flag||"";n({country:i,flag:o})};return v.jsxs(Nt,{className:"animate-fade-in-up",children:[v.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[v.jsx("span",{className:"text-4xl flex-shrink-0",children:t.flag}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx(Zt,{value:t.city,onSave:i=>n({city:i}),className:"font-heading text-xl text-text-primary font-bold",placeholder:"City name"}),v.jsx(Zt,{value:t.country,onSave:r,className:"text-sm text-text-muted mt-0.5",placeholder:"Country"})]}),v.jsx("button",{onClick:()=>e({type:pe.DELETE_CITY,payload:t.id}),className:"text-xs text-text-muted hover:text-danger transition-colors flex-shrink-0",title:"Remove city",children:""})]}),v.jsxs("div",{className:"space-y-5",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-1",children:" Highlights"}),v.jsx(Zt,{value:t.highlights,onSave:i=>n({highlights:i}),className:"text-sm text-text-secondary",placeholder:"What makes this city special?"})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-1",children:" Must-Do"}),v.jsx(Zt,{value:t.mustDo,onSave:i=>n({mustDo:i}),className:"text-sm text-text-secondary",placeholder:"Can't-miss activities"})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-1",children:" Weather"}),v.jsx(Zt,{value:t.weather,onSave:i=>n({weather:i}),className:"text-sm text-text-secondary",placeholder:"Expected weather during your visit"})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-1",children:" Currency Tip"}),v.jsx(Zt,{value:t.currencyTip,onSave:i=>n({currencyTip:i}),className:"text-sm text-text-secondary",placeholder:"Local currency and payment tips"})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-1",children:" Notes"}),v.jsx(Zt,{value:t.notes,onSave:i=>n({notes:i}),className:"text-sm text-text-secondary",placeholder:"Your personal notes for this city",multiline:!0})]})]})]})}function vie({onAdd:t,onCancel:e}){const[n,r]=z.useState(""),[i,o]=z.useState(""),s=l=>{if(l.preventDefault(),!n.trim())return;const c=G4[i.trim()]||"";t({city:n.trim(),country:i.trim(),flag:c})};return v.jsx(Nt,{children:v.jsxs("form",{onSubmit:s,className:"flex flex-wrap gap-2 items-end",children:[v.jsxs("div",{className:"flex-1 min-w-[140px]",children:[v.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"City"}),v.jsx("input",{value:n,onChange:l=>r(l.target.value),placeholder:"e.g., Bangkok",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0})]}),v.jsxs("div",{className:"flex-1 min-w-[140px]",children:[v.jsx("label",{className:"text-xs text-text-muted block mb-1",children:"Country"}),v.jsx("input",{value:i,onChange:l=>o(l.target.value),placeholder:"e.g., Thailand",className:"w-full px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted"})]}),v.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),v.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm text-text-muted hover:text-text-secondary",children:"Cancel"})]})})}function xie(){const{activeTrip:t,dispatch:e}=Gt(),[n,r]=z.useState(!1);if(!t)return null;const i=t.cities||[];return v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("h2",{className:"font-heading text-lg text-text-primary",children:[" Cities  ",i.length," destinations"]}),v.jsx("button",{onClick:()=>r(!0),className:"px-3 py-1.5 text-sm bg-accent text-white rounded-[var(--radius-md)] hover:bg-accent-hover transition-colors",children:"+ Add City"})]}),n&&v.jsx(vie,{onAdd:o=>{e({type:pe.ADD_CITY,payload:o}),r(!1)},onCancel:()=>r(!1)}),i.length>0?v.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:i.map(o=>v.jsx(yie,{city:o},o.id))}):v.jsxs(Nt,{className:"text-center py-12",children:[v.jsx("p",{className:"text-4xl mb-3",children:""}),v.jsx("p",{className:"text-text-muted",children:"No city guides yet."}),v.jsx("p",{className:"text-text-muted text-sm mt-1",children:'Click "+ Add City" or add destinations when creating a trip.'})]})]})}function bie({item:t,onToggle:e,onDelete:n}){return v.jsxs("div",{className:"flex items-center gap-3 py-1.5 group",children:[v.jsx("button",{onClick:e,className:`flex-shrink-0 w-4.5 h-4.5 rounded border-2 transition-all flex items-center justify-center
          ${t.packed?"bg-success border-success text-white animate-check-pop":"border-border-strong hover:border-accent"}`,style:{width:18,height:18},children:t.packed&&v.jsx("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",children:v.jsx("path",{d:"M2 6l3 3 5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),v.jsx("span",{className:`flex-1 text-sm ${t.packed?"line-through text-text-muted":"text-text-primary"}`,children:t.name}),v.jsx("button",{onClick:n,className:"opacity-0 group-hover:opacity-100 text-text-muted hover:text-danger text-xs transition-opacity",children:""})]})}function _ie({section:t,onAdd:e}){const[n,r]=z.useState(""),[i,o]=z.useState(!1);if(!i)return v.jsx("button",{onClick:()=>o(!0),className:"text-xs text-accent hover:text-accent-hover transition-colors mt-1",children:"+ Add item"});const s=l=>{l.preventDefault(),n.trim()&&(e({name:n.trim(),section:t}),r(""))};return v.jsxs("form",{onSubmit:s,className:"flex gap-2 mt-2",children:[v.jsx("input",{value:n,onChange:l=>r(l.target.value),placeholder:"Item name...",className:"flex-1 px-2 py-1 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary placeholder:text-text-muted",autoFocus:!0}),v.jsx("button",{type:"submit",className:"px-2 py-1 text-xs bg-accent text-white rounded-[var(--radius-sm)] hover:bg-accent-hover",children:"Add"}),v.jsx("button",{type:"button",onClick:()=>o(!1),className:"text-xs text-text-muted",children:""})]})}function wie(){const{activeTrip:t,dispatch:e,showToast:n}=Gt(),[r,i]=z.useState(0),[o,s]=z.useState(!1),[l,c]=z.useState(!1),[f,h]=z.useState("");if(!t)return null;const y=t.packingList||[],b=y.filter(R=>R.packed).length,S=y.length,E=z.useMemo(()=>{const R=[...new Set(y.map(D=>D.section))];return PI.forEach(D=>{R.includes(D)||R.push(D)}),R},[y]),_=z.useMemo(()=>{const R={};return E.forEach(D=>{R[D]=[]}),y.forEach(D=>{const k=D.section||"Misc";R[k]||(R[k]=[]),R[k].push(D)}),R},[y,E]),P=z.useCallback(R=>{e({type:pe.TOGGLE_PACKING_ITEM,payload:R});const D=y.find(k=>k.id===R);D&&!D.packed&&b+1===S&&(i(N=>N+1),n("All packed! You're ready to go "))},[e,y,b,S,n]),j={Documents:"",Clothing:"",Tech:"","Concert Essentials":"",Toiletries:"",Misc:""};return v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsx(H4,{trigger:r}),v.jsx(LD,{isOpen:o,onClose:()=>s(!1),onConfirm:()=>{e({type:pe.RESET_PACKING}),n("Packing list reset")},title:"Reset Packing List?",message:"This will uncheck all packed items. Your items will not be removed.",confirmLabel:"Reset All",danger:!1}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("h2",{className:"font-heading text-lg text-text-primary",children:[" Packing  ",b,"/",S," packed"]}),S>0&&v.jsx("button",{onClick:()=>s(!0),className:"text-xs text-text-muted hover:text-danger transition-colors",children:"Reset all"})]}),v.jsx(yu,{value:b,max:S,colorClass:"bg-accent",height:"h-2.5"}),Object.entries(_).map(([R,D])=>{if(D.length===0&&!PI.includes(R))return null;const k=D.filter(A=>A.packed).length,N=j[R]||"";return v.jsxs(Nt,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("h3",{className:"font-heading text-sm font-semibold text-text-primary",children:[N," ",R]}),v.jsxs("span",{className:"text-xs text-text-muted",children:[k,"/",D.length]})]}),v.jsx("div",{className:"space-y-1",children:D.map(A=>v.jsx(bie,{item:A,onToggle:()=>P(A.id),onDelete:()=>e({type:pe.DELETE_PACKING_ITEM,payload:A.id})},A.id))}),v.jsx(_ie,{section:R,onAdd:A=>e({type:pe.ADD_PACKING_ITEM,payload:A})})]},R)}),l?v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{value:f,onChange:R=>h(R.target.value),placeholder:"Section name",className:"flex-1 px-3 py-2 text-sm bg-bg-input border border-border rounded-[var(--radius-sm)] text-text-primary",autoFocus:!0,onKeyDown:R=>{R.key==="Enter"&&f.trim()&&(e({type:pe.ADD_PACKING_ITEM,payload:{name:"New item",section:f.trim()}}),h(""),c(!1))}}),v.jsx("button",{onClick:()=>c(!1),className:"text-sm text-text-muted",children:"Cancel"})]}):v.jsx("button",{onClick:()=>c(!0),className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"+ Add section"})]})}function Tie({targetDate:t}){const e=O1(t);return e.expired?v.jsx("div",{className:"text-center py-4",children:v.jsx("p",{className:"text-3xl font-heading font-bold text-red-500",children:" IT'S SHOWTIME! "})}):v.jsxs("div",{className:"text-center py-6",children:[v.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-red-400 mb-4 font-semibold",children:"Countdown to showtime"}),v.jsx("div",{className:"flex justify-center gap-6",children:[{value:e.days,label:"Days"},{value:e.hours,label:"Hours"},{value:e.minutes,label:"Min"},{value:e.seconds,label:"Sec"}].map((n,r)=>v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:`text-4xl md:text-5xl font-heading font-bold text-white
              ${n.label==="Sec"?"animate-pulse":""}`,children:String(n.value).padStart(2,"0")}),v.jsx("div",{className:"text-xs text-red-400/70 uppercase tracking-wider mt-1",children:n.label})]},r))})]})}function Eie(){var o,s,l,c,f,h;const{activeTrip:t}=Gt();if(!t)return null;const e=t,n=(o=e.bookings)==null?void 0:o.find(m=>m.category==="concert");if(!n)return v.jsxs(Nt,{className:"text-center py-12",children:[v.jsx("p",{className:"text-4xl mb-3",children:""}),v.jsx("p",{className:"text-text-muted",children:"No concert or event bookings found."}),v.jsx("p",{className:"text-text-muted text-sm mt-1",children:'Add a booking with category "Concert" to unlock this tab.'})]});const r=(s=e.itinerary)==null?void 0:s.find(m=>{var y;return(y=m.activities)==null?void 0:y.some(b=>{var S,E;return((S=b.name)==null?void 0:S.toLowerCase().includes("concert"))||((E=b.name)==null?void 0:E.toLowerCase().includes("mcr"))||b.emoji===""||b.emoji===""})}),i=((l=n.name)==null?void 0:l.toLowerCase().includes("mcr"))||((c=n.name)==null?void 0:c.toLowerCase().includes("my chemical romance"))||((f=n.name)==null?void 0:f.toLowerCase().includes("chemical"));return v.jsx("div",{className:"concert-theme rounded-[var(--radius-xl)] overflow-hidden animate-fade-in",children:v.jsxs("div",{className:"bg-[#141413] rounded-[var(--radius-xl)] border border-[#2A2A28]",children:[v.jsxs("div",{className:"relative p-8 md:p-12 text-center overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-[#141413]"}),v.jsxs("div",{className:"relative z-10",children:[v.jsx("p",{className:"text-red-500 text-sm uppercase tracking-[0.3em] font-semibold mb-3",children:i?" THE BLACK PARADE ":" LIVE EVENT "}),v.jsx("h2",{className:"font-heading text-3xl md:text-4xl font-bold text-white mb-2",children:n.name}),r&&v.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:[up(r.date,"full"),"  Day ",r.dayNumber]})]})]}),v.jsx("div",{className:"px-6 md:px-12",children:v.jsx(Tie,{targetDate:(r==null?void 0:r.date)||e.startDate})}),v.jsx("div",{className:"h-px bg-red-900/50 mx-8"}),v.jsxs("div",{className:"p-6 md:p-12 grid md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-1",children:"Venue"}),v.jsx("p",{className:"text-white font-medium",children:i?"Stadium Merdeka, Kuala Lumpur":"Check your booking details"})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-1",children:"Tickets"}),v.jsxs("p",{className:"text-white font-medium",children:[e.travelers," pax  ",n.status==="booked"?" Confirmed":" "+n.status.replace("_"," ")]}),n.confirmationNumber&&v.jsxs("p",{className:"text-gray-500 text-xs font-mono mt-1",children:["Ref: ",n.confirmationNumber]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-1",children:"Status"}),v.jsx("div",{className:`inline-flex px-3 py-1 rounded-[var(--radius-pill)] text-xs font-medium
                ${n.status==="booked"?"bg-green-900/30 text-green-400 border border-green-800/30":"bg-red-900/30 text-red-400 border border-red-800/30"}`,children:n.status==="booked"?" Booked":"Not yet booked"})]})]}),v.jsx("div",{className:"space-y-4",children:v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-2",children:" Concert Tips"}),v.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"text-red-500",children:""}),"Arrive early to get a good spot"]}),v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"text-red-500",children:""}),"Charge your phone to 100% before leaving"]}),v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"text-red-500",children:""}),"Wear comfortable shoes  you'll be standing"]}),v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"text-red-500",children:""}),"Bring earplugs to protect your hearing"]}),v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"text-red-500",children:""}),"Check the venue's bag policy before going"]}),v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"text-red-500",children:""}),"Stay hydrated  bring a sealed water bottle if allowed"]})]})]})})]}),r&&((h=r.activities)==null?void 0:h.length)>0&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"h-px bg-red-900/50 mx-8"}),v.jsxs("div",{className:"p-6 md:p-12",children:[v.jsxs("h3",{className:"text-xs uppercase tracking-wider text-red-400/70 font-semibold mb-4",children:[" Day ",r.dayNumber," Schedule"]}),v.jsx("div",{className:"space-y-3",children:r.activities.map(m=>v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-sm font-mono text-gray-500 w-12",children:m.time||"--:--"}),v.jsx("span",{className:"text-lg",children:m.emoji}),v.jsxs("div",{children:[v.jsx("p",{className:"text-white text-sm font-medium",children:m.name}),m.notes&&v.jsx("p",{className:"text-gray-500 text-xs",children:m.notes})]})]},m.id))})]})]}),v.jsx("div",{className:"h-1 bg-[#141413]"})]})})}function Sie({activeTab:t,onTabSwitch:e}){switch(t){case"overview":return v.jsx(NI,{onTabSwitch:e});case"itinerary":return v.jsx(_q,{});case"bookings":return v.jsx(Sq,{});case"budget":return v.jsx(hie,{});case"todo":return v.jsx(gie,{});case"cities":return v.jsx(xie,{});case"packing":return v.jsx(wie,{});case"concert":return v.jsx(Eie,{});default:return v.jsx(NI,{onTabSwitch:e})}}function Aie({onNewTrip:t}){return v.jsx("div",{className:"flex-1 flex items-center justify-center p-8 animate-fade-in-up",children:v.jsxs("div",{className:"text-center max-w-sm",children:[v.jsx("div",{className:"text-7xl mb-6 animate-pulse-warm",children:""}),v.jsx("h2",{className:"font-heading text-2xl font-bold text-text-primary mb-3",children:"No trips yet"}),v.jsx("p",{className:"text-text-muted text-sm leading-relaxed mb-8",children:"Every great adventure starts with a plan. Create your first trip and let Wanderplan help you make it unforgettable."}),v.jsxs("button",{onClick:t,className:`inline-flex items-center gap-2 px-6 py-3
                     bg-accent hover:bg-accent-hover text-text-inverse
                     font-semibold text-sm rounded-[var(--radius-md)]
                     transition-all duration-200 active:scale-[0.98]`,children:[v.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),v.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Plan Your First Trip"]})]})})}function Iie({onClick:t}){return v.jsx("button",{onClick:t,className:`fixed top-4 left-4 z-30 p-2.5
                 bg-bg-secondary border border-border
                 rounded-[var(--radius-md)]
                 text-text-secondary hover:text-text-primary
                 transition-colors duration-150
                 md:hidden`,"aria-label":"Open sidebar",children:v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),v.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),v.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})}function K4({message:t="Loading"}){return v.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-4xl mb-4 animate-pulse-warm",children:""}),v.jsx("p",{className:"text-text-muted text-sm animate-pulse",children:t})]})})}function Pie({signOutUser:t}){const{state:e,dispatch:n,activeTrip:r,sortedTrips:i,showToast:o,firestoreLoading:s}=j9(),l=R9("(max-width: 767px)"),[c,f]=z.useState(!1),h=z.useCallback(()=>{f(!0),l&&n({type:pe.SET_SIDEBAR,payload:!1})},[l,n]),m=z.useCallback(()=>f(!1),[]),y=z.useCallback(()=>n({type:pe.SET_SIDEBAR,payload:!0}),[n]),b={Overview:"overview",Itinerary:"itinerary",Bookings:"bookings",Budget:"budget","To-Do":"todo",Cities:"cities",Packing:"packing"},S=z.useCallback(_=>{const P=b[_];P&&n({type:pe.SET_TAB,payload:P})},[n]),E=e.activeTab==="concert";return s?v.jsx(K4,{message:"Loading your trips"}):v.jsx(mj.Provider,{value:{state:e,dispatch:n,activeTrip:r,sortedTrips:i,showToast:o,signOutUser:t},children:v.jsxs("div",{className:"flex h-screen overflow-hidden bg-bg-primary text-text-secondary",children:[v.jsx(q9,{isMobile:l,isOpen:e.sidebarOpen,onNewTrip:h}),l&&v.jsx(Iie,{onClick:y}),v.jsx("main",{className:`
            flex-1 flex flex-col overflow-hidden bg-bg-primary
            ${E?"concert-theme":""}
            transition-colors duration-300
          `,children:r?v.jsxs(v.Fragment,{children:[v.jsx(K9,{}),v.jsx(Q9,{}),v.jsx("div",{id:`panel-${e.activeTab}`,role:"tabpanel",className:"flex-1 overflow-y-auto",children:v.jsx("div",{className:"px-8 py-7 max-w-4xl mx-auto",children:v.jsx(Sie,{activeTab:e.activeTab,onTabSwitch:S})})})]}):v.jsx(Aie,{onNewTrip:h})}),v.jsx(sq,{isOpen:c,onClose:m}),v.jsx(pq,{}),v.jsx(uq,{message:e.toast.message,type:e.toast.type,visible:e.toast.visible})]})})}function Cie(){const{user:t,authLoading:e,signInWithGoogle:n,signOutUser:r}=DD();return e?v.jsx(K4,{message:"Loading"}):t?["valentin.bonite@gmail.com","juliannsibi@gmail.com"].includes(t.email)?v.jsx(Pie,{signOutUser:r}):v.jsx("div",{className:"flex h-screen items-center justify-center bg-bg-primary",children:v.jsxs("div",{className:"text-center max-w-sm px-8",children:[v.jsx("div",{className:"text-5xl mb-5",children:""}),v.jsx("h2",{className:"font-heading text-xl font-bold text-text-primary mb-2",children:"Access restricted"}),v.jsxs("p",{className:"text-text-muted text-sm mb-6 leading-relaxed",children:["This app is private. You signed in as ",v.jsx("span",{className:"text-text-primary font-medium",children:t.email}),", which isn't on the access list."]}),v.jsx("button",{onClick:r,className:"text-sm text-accent hover:underline",children:"Sign out and try another account"})]})}):v.jsx(D9,{onSignIn:n})}l$.createRoot(document.getElementById("root")).render(v.jsx(K.StrictMode,{children:v.jsx(Cie,{})}));
